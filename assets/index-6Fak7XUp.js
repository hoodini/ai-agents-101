const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/loadCognitoIdentity-CXLULbCF.js","assets/index-XxveKXeA.js","assets/loadSts-KDfBz3nQ.js","assets/toUtf8.browser-CyauOOnS.js","assets/index-Cl2gA-Xs.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const t of u)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(u){const t={};return u.integrity&&(t.integrity=u.integrity),u.referrerPolicy&&(t.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?t.credentials="include":u.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(u){if(u.ep)return;u.ep=!0;const t=o(u);fetch(u.href,t)}})();function r_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n_(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var o=function i(){var u=!1;try{u=this instanceof i}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var u=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,u.get?u:{enumerable:!0,get:function(){return e[i]}})}),o}var SO={exports:{}},ag={};var sD;function WQ(){if(sD)return ag;sD=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(i,u,t){var r=null;if(t!==void 0&&(r=""+t),u.key!==void 0&&(r=""+u.key),"key"in u){t={};for(var a in u)a!=="key"&&(t[a]=u[a])}else t=u;return u=t.ref,{$$typeof:e,type:i,key:r,ref:u!==void 0?u:null,props:t}}return ag.Fragment=n,ag.jsx=o,ag.jsxs=o,ag}var uD;function JQ(){return uD||(uD=1,SO.exports=WQ()),SO.exports}var x=JQ(),EO={exports:{}},rt={};var lD;function ZQ(){if(lD)return rt;lD=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),t=Symbol.for("react.consumer"),r=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function S(G,J,oe){this.props=G,this.context=J,this.refs=v,this.updater=oe||p}S.prototype.isReactComponent={},S.prototype.setState=function(G,J){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,J,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function R(){}R.prototype=S.prototype;function j(G,J,oe){this.props=G,this.context=J,this.refs=v,this.updater=oe||p}var P=j.prototype=new R;P.constructor=j,y(P,S.prototype),P.isPureReactComponent=!0;var T=Array.isArray;function C(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function L(G,J,oe){var me=oe.ref;return{$$typeof:e,type:G,key:J,ref:me!==void 0?me:null,props:oe}}function q(G,J){return L(G.type,J,G.props)}function z(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function w(G){var J={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(oe){return J[oe]})}var V=/\/+/g;function k(G,J){return typeof G=="object"&&G!==null&&G.key!=null?w(""+G.key):J.toString(36)}function Y(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(C,C):(G.status="pending",G.then(function(J){G.status==="pending"&&(G.status="fulfilled",G.value=J)},function(J){G.status==="pending"&&(G.status="rejected",G.reason=J)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function U(G,J,oe,me,Ee){var K=typeof G;(K==="undefined"||K==="boolean")&&(G=null);var $=!1;if(G===null)$=!0;else switch(K){case"bigint":case"string":case"number":$=!0;break;case"object":switch(G.$$typeof){case e:case n:$=!0;break;case f:return $=G._init,U($(G._payload),J,oe,me,Ee)}}if($)return Ee=Ee(G),$=me===""?"."+k(G,0):me,T(Ee)?(oe="",$!=null&&(oe=$.replace(V,"$&/")+"/"),U(Ee,J,oe,"",function(ue){return ue})):Ee!=null&&(z(Ee)&&(Ee=q(Ee,oe+(Ee.key==null||G&&G.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+$)),J.push(Ee)),1;$=0;var ne=me===""?".":me+":";if(T(G))for(var Q=0;Q<G.length;Q++)me=G[Q],K=ne+k(me,Q),$+=U(me,J,oe,K,Ee);else if(Q=_(G),typeof Q=="function")for(G=Q.call(G),Q=0;!(me=G.next()).done;)me=me.value,K=ne+k(me,Q++),$+=U(me,J,oe,K,Ee);else if(K==="object"){if(typeof G.then=="function")return U(Y(G),J,oe,me,Ee);throw J=String(G),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return $}function H(G,J,oe){if(G==null)return G;var me=[],Ee=0;return U(G,me,"","",function(K){return J.call(oe,K,Ee++)}),me}function Z(G){if(G._status===-1){var J=G._result;J=J(),J.then(function(oe){(G._status===0||G._status===-1)&&(G._status=1,G._result=oe)},function(oe){(G._status===0||G._status===-1)&&(G._status=2,G._result=oe)}),G._status===-1&&(G._status=0,G._result=J)}if(G._status===1)return G._result.default;throw G._result}var ee=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},N={map:H,forEach:function(G,J,oe){H(G,function(){J.apply(this,arguments)},oe)},count:function(G){var J=0;return H(G,function(){J++}),J},toArray:function(G){return H(G,function(J){return J})||[]},only:function(G){if(!z(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return rt.Activity=m,rt.Children=N,rt.Component=S,rt.Fragment=o,rt.Profiler=u,rt.PureComponent=j,rt.StrictMode=i,rt.Suspense=s,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,rt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return D.H.useMemoCache(G)}},rt.cache=function(G){return function(){return G.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(G,J,oe){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var me=y({},G.props),Ee=G.key;if(J!=null)for(K in J.key!==void 0&&(Ee=""+J.key),J)!M.call(J,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&J.ref===void 0||(me[K]=J[K]);var K=arguments.length-2;if(K===1)me.children=oe;else if(1<K){for(var $=Array(K),ne=0;ne<K;ne++)$[ne]=arguments[ne+2];me.children=$}return L(G.type,Ee,me)},rt.createContext=function(G){return G={$$typeof:r,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:t,_context:G},G},rt.createElement=function(G,J,oe){var me,Ee={},K=null;if(J!=null)for(me in J.key!==void 0&&(K=""+J.key),J)M.call(J,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ee[me]=J[me]);var $=arguments.length-2;if($===1)Ee.children=oe;else if(1<$){for(var ne=Array($),Q=0;Q<$;Q++)ne[Q]=arguments[Q+2];Ee.children=ne}if(G&&G.defaultProps)for(me in $=G.defaultProps,$)Ee[me]===void 0&&(Ee[me]=$[me]);return L(G,K,Ee)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(G){return{$$typeof:a,render:G}},rt.isValidElement=z,rt.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:Z}},rt.memo=function(G,J){return{$$typeof:l,type:G,compare:J===void 0?null:J}},rt.startTransition=function(G){var J=D.T,oe={};D.T=oe;try{var me=G(),Ee=D.S;Ee!==null&&Ee(oe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(C,ee)}catch(K){ee(K)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),D.T=J}},rt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},rt.use=function(G){return D.H.use(G)},rt.useActionState=function(G,J,oe){return D.H.useActionState(G,J,oe)},rt.useCallback=function(G,J){return D.H.useCallback(G,J)},rt.useContext=function(G){return D.H.useContext(G)},rt.useDebugValue=function(){},rt.useDeferredValue=function(G,J){return D.H.useDeferredValue(G,J)},rt.useEffect=function(G,J){return D.H.useEffect(G,J)},rt.useEffectEvent=function(G){return D.H.useEffectEvent(G)},rt.useId=function(){return D.H.useId()},rt.useImperativeHandle=function(G,J,oe){return D.H.useImperativeHandle(G,J,oe)},rt.useInsertionEffect=function(G,J){return D.H.useInsertionEffect(G,J)},rt.useLayoutEffect=function(G,J){return D.H.useLayoutEffect(G,J)},rt.useMemo=function(G,J){return D.H.useMemo(G,J)},rt.useOptimistic=function(G,J){return D.H.useOptimistic(G,J)},rt.useReducer=function(G,J,oe){return D.H.useReducer(G,J,oe)},rt.useRef=function(G){return D.H.useRef(G)},rt.useState=function(G){return D.H.useState(G)},rt.useSyncExternalStore=function(G,J,oe){return D.H.useSyncExternalStore(G,J,oe)},rt.useTransition=function(){return D.H.useTransition()},rt.version="19.2.3",rt}var cD;function zT(){return cD||(cD=1,EO.exports=ZQ()),EO.exports}var Ze=zT();const ml=r_(Ze);var RO={exports:{}},ig={},jO={exports:{}},CO={};var dD;function QQ(){return dD||(dD=1,(function(e){function n(U,H){var Z=U.length;U.push(H);e:for(;0<Z;){var ee=Z-1>>>1,N=U[ee];if(0<u(N,H))U[ee]=H,U[Z]=N,Z=ee;else break e}}function o(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var H=U[0],Z=U.pop();if(Z!==H){U[0]=Z;e:for(var ee=0,N=U.length,G=N>>>1;ee<G;){var J=2*(ee+1)-1,oe=U[J],me=J+1,Ee=U[me];if(0>u(oe,Z))me<N&&0>u(Ee,oe)?(U[ee]=Ee,U[me]=Z,ee=me):(U[ee]=oe,U[J]=Z,ee=J);else if(me<N&&0>u(Ee,Z))U[ee]=Ee,U[me]=Z,ee=me;else break e}}return H}function u(U,H){var Z=U.sortIndex-H.sortIndex;return Z!==0?Z:U.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var t=performance;e.unstable_now=function(){return t.now()}}else{var r=Date,a=r.now();e.unstable_now=function(){return r.now()-a}}var s=[],l=[],f=1,m=null,b=3,_=!1,p=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var H=o(l);H!==null;){if(H.callback===null)i(l);else if(H.startTime<=U)i(l),H.sortIndex=H.expirationTime,n(s,H);else break;H=o(l)}}function T(U){if(y=!1,P(U),!p)if(o(s)!==null)p=!0,C||(C=!0,w());else{var H=o(l);H!==null&&Y(T,H.startTime-U)}}var C=!1,D=-1,M=5,L=-1;function q(){return v?!0:!(e.unstable_now()-L<M)}function z(){if(v=!1,C){var U=e.unstable_now();L=U;var H=!0;try{e:{p=!1,y&&(y=!1,R(D),D=-1),_=!0;var Z=b;try{t:{for(P(U),m=o(s);m!==null&&!(m.expirationTime>U&&q());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,b=m.priorityLevel;var N=ee(m.expirationTime<=U);if(U=e.unstable_now(),typeof N=="function"){m.callback=N,P(U),H=!0;break t}m===o(s)&&i(s),P(U)}else i(s);m=o(s)}if(m!==null)H=!0;else{var G=o(l);G!==null&&Y(T,G.startTime-U),H=!1}}break e}finally{m=null,b=Z,_=!1}H=void 0}}finally{H?w():C=!1}}}var w;if(typeof j=="function")w=function(){j(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,k=V.port2;V.port1.onmessage=z,w=function(){k.postMessage(null)}}else w=function(){S(z,0)};function Y(U,H){D=S(function(){U(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(U){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var Z=b;b=H;try{return U()}finally{b=Z}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=b;b=U;try{return H()}finally{b=Z}},e.unstable_scheduleCallback=function(U,H,Z){var ee=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ee+Z:ee):Z=ee,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Z+N,U={id:f++,callback:H,priorityLevel:U,startTime:Z,expirationTime:N,sortIndex:-1},Z>ee?(U.sortIndex=Z,n(l,U),o(s)===null&&U===o(l)&&(y?(R(D),D=-1):y=!0,Y(T,Z-ee))):(U.sortIndex=N,n(s,U),p||_||(p=!0,C||(C=!0,w()))),U},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(U){var H=b;return function(){var Z=b;b=H;try{return U.apply(this,arguments)}finally{b=Z}}}})(CO)),CO}var fD;function XQ(){return fD||(fD=1,jO.exports=QQ()),jO.exports}var TO={exports:{}},Sr={};var hD;function eX(){if(hD)return Sr;hD=1;var e=zT();function n(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function t(s,l,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:m==null?null:""+m,children:s,containerInfo:l,implementation:f}}var r=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(s,l){if(s==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sr.createPortal=function(s,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(n(299));return t(s,l,null,f)},Sr.flushSync=function(s){var l=r.T,f=i.p;try{if(r.T=null,i.p=2,s)return s()}finally{r.T=l,i.p=f,i.d.f()}},Sr.preconnect=function(s,l){typeof s=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,i.d.C(s,l))},Sr.prefetchDNS=function(s){typeof s=="string"&&i.d.D(s)},Sr.preinit=function(s,l){if(typeof s=="string"&&l&&typeof l.as=="string"){var f=l.as,m=a(f,l.crossOrigin),b=typeof l.integrity=="string"?l.integrity:void 0,_=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;f==="style"?i.d.S(s,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:_}):f==="script"&&i.d.X(s,{crossOrigin:m,integrity:b,fetchPriority:_,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},Sr.preinitModule=function(s,l){if(typeof s=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var f=a(l.as,l.crossOrigin);i.d.M(s,{crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&i.d.M(s)},Sr.preload=function(s,l){if(typeof s=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var f=l.as,m=a(f,l.crossOrigin);i.d.L(s,f,{crossOrigin:m,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},Sr.preloadModule=function(s,l){if(typeof s=="string")if(l){var f=a(l.as,l.crossOrigin);i.d.m(s,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else i.d.m(s)},Sr.requestFormReset=function(s){i.d.r(s)},Sr.unstable_batchedUpdates=function(s,l){return s(l)},Sr.useFormState=function(s,l,f){return r.H.useFormState(s,l,f)},Sr.useFormStatus=function(){return r.H.useHostTransitionStatus()},Sr.version="19.2.3",Sr}var pD;function tX(){if(pD)return TO.exports;pD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),TO.exports=eX(),TO.exports}var gD;function rX(){if(gD)return ig;gD=1;var e=XQ(),n=zT(),o=tX();function i(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function t(c){var d=c,h=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(h=d.return),c=d.return;while(c)}return d.tag===3?h:null}function r(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function s(c){if(t(c)!==c)throw Error(i(188))}function l(c){var d=c.alternate;if(!d){if(d=t(c),d===null)throw Error(i(188));return d!==c?null:c}for(var h=c,g=d;;){var O=h.return;if(O===null)break;var E=O.alternate;if(E===null){if(g=O.return,g!==null){h=g;continue}break}if(O.child===E.child){for(E=O.child;E;){if(E===h)return s(O),c;if(E===g)return s(O),d;E=E.sibling}throw Error(i(188))}if(h.return!==g.return)h=O,g=E;else{for(var B=!1,W=O.child;W;){if(W===h){B=!0,h=O,g=E;break}if(W===g){B=!0,g=O,h=E;break}W=W.sibling}if(!B){for(W=E.child;W;){if(W===h){B=!0,h=E,g=O;break}if(W===g){B=!0,g=E,h=O;break}W=W.sibling}if(!B)throw Error(i(189))}}if(h.alternate!==g)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?c:d}function f(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=f(c),d!==null)return d;c=c.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),j=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function w(c){return c===null||typeof c!="object"?null:(c=z&&c[z]||c["@@iterator"],typeof c=="function"?c:null)}var V=Symbol.for("react.client.reference");function k(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===V?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case S:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList";case L:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case p:return"Portal";case j:return c.displayName||"Context";case R:return(c._context.displayName||"Context")+".Consumer";case P:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case D:return d=c.displayName||null,d!==null?d:k(c.type)||"Memo";case M:d=c._payload,c=c._init;try{return k(c(d))}catch{}}return null}var Y=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ee=[],N=-1;function G(c){return{current:c}}function J(c){0>N||(c.current=ee[N],ee[N]=null,N--)}function oe(c,d){N++,ee[N]=c.current,c.current=d}var me=G(null),Ee=G(null),K=G(null),$=G(null);function ne(c,d){switch(oe(K,d),oe(Ee,c),oe(me,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?xN(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=xN(d),c=PN(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}J(me),oe(me,c)}function Q(){J(me),J(Ee),J(K)}function ue(c){c.memoizedState!==null&&oe($,c);var d=me.current,h=PN(d,c.type);d!==h&&(oe(Ee,c),oe(me,h))}function ye(c){Ee.current===c&&(J(me),J(Ee)),$.current===c&&(J($),eg._currentValue=Z)}var Re,ae;function le(c){if(Re===void 0)try{throw Error()}catch(h){var d=h.stack.trim().match(/\n( *(at )?)/);Re=d&&d[1]||"",ae=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+c+ae}var be=!1;function xe(c,d){if(!c||be)return"";be=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(d){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Se){var we=Se}Reflect.construct(c,[],Me)}else{try{Me.call()}catch(Se){we=Se}c.call(Me.prototype)}}else{try{throw Error()}catch(Se){we=Se}(Me=c())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Se){if(Se&&we&&typeof Se.stack=="string")return[Se.stack,we.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),B=E[0],W=E[1];if(B&&W){var se=B.split(`
`),ve=W.split(`
`);for(O=g=0;g<se.length&&!se[g].includes("DetermineComponentFrameRoot");)g++;for(;O<ve.length&&!ve[O].includes("DetermineComponentFrameRoot");)O++;if(g===se.length||O===ve.length)for(g=se.length-1,O=ve.length-1;1<=g&&0<=O&&se[g]!==ve[O];)O--;for(;1<=g&&0<=O;g--,O--)if(se[g]!==ve[O]){if(g!==1||O!==1)do if(g--,O--,0>O||se[g]!==ve[O]){var je=`
`+se[g].replace(" at new "," at ");return c.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",c.displayName)),je}while(1<=g&&0<=O);break}}}finally{be=!1,Error.prepareStackTrace=h}return(h=c?c.displayName||c.name:"")?le(h):""}function Ae(c,d){switch(c.tag){case 26:case 27:case 5:return le(c.type);case 16:return le("Lazy");case 13:return c.child!==d&&d!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return xe(c.type,!1);case 11:return xe(c.type.render,!1);case 1:return xe(c.type,!0);case 31:return le("Activity");default:return""}}function De(c){try{var d="",h=null;do d+=Ae(c,h),h=c,c=c.return;while(c);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var fe=Object.prototype.hasOwnProperty,he=e.unstable_scheduleCallback,Ne=e.unstable_cancelCallback,ge=e.unstable_shouldYield,Ie=e.unstable_requestPaint,$e=e.unstable_now,Pe=e.unstable_getCurrentPriorityLevel,ze=e.unstable_ImmediatePriority,F=e.unstable_UserBlockingPriority,A=e.unstable_NormalPriority,I=e.unstable_LowPriority,te=e.unstable_IdlePriority,ce=e.log,Oe=e.unstable_setDisableYieldValue,Ce=null,et=null;function mt(c){if(typeof ce=="function"&&Oe(c),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Ce,c)}catch{}}var ut=Math.clz32?Math.clz32:T_,It=Math.log,vt=Math.LN2;function T_(c){return c>>>=0,c===0?32:31-(It(c)/vt|0)|0}var Gf=256,sd=262144,cc=4194304;function El(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Hf(c,d,h){var g=c.pendingLanes;if(g===0)return 0;var O=0,E=c.suspendedLanes,B=c.pingedLanes;c=c.warmLanes;var W=g&134217727;return W!==0?(g=W&~E,g!==0?O=El(g):(B&=W,B!==0?O=El(B):h||(h=W&~c,h!==0&&(O=El(h))))):(W=g&~E,W!==0?O=El(W):B!==0?O=El(B):h||(h=g&~c,h!==0&&(O=El(h)))),O===0?0:d!==0&&d!==O&&(d&E)===0&&(E=O&-O,h=d&-d,E>=h||E===32&&(h&4194048)!==0)?d:O}function Rl(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function M_(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var c=cc;return cc<<=1,(cc&62914560)===0&&(cc=4194304),c}function ie(c){for(var d=[],h=0;31>h;h++)d.push(c);return d}function qe(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Le(c,d,h,g,O,E){var B=c.pendingLanes;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=h,c.entangledLanes&=h,c.errorRecoveryDisabledLanes&=h,c.shellSuspendCounter=0;var W=c.entanglements,se=c.expirationTimes,ve=c.hiddenUpdates;for(h=B&~h;0<h;){var je=31-ut(h),Me=1<<je;W[je]=0,se[je]=-1;var we=ve[je];if(we!==null)for(ve[je]=null,je=0;je<we.length;je++){var Se=we[je];Se!==null&&(Se.lane&=-536870913)}h&=~Me}g!==0&&Ke(c,g,0),E!==0&&O===0&&c.tag!==0&&(c.suspendedLanes|=E&~(B&~d))}function Ke(c,d,h){c.pendingLanes|=d,c.suspendedLanes&=~d;var g=31-ut(d);c.entangledLanes|=d,c.entanglements[g]=c.entanglements[g]|1073741824|h&261930}function ar(c,d){var h=c.entangledLanes|=d;for(c=c.entanglements;h;){var g=31-ut(h),O=1<<g;O&d|c[g]&d&&(c[g]|=d),h&=~O}}function jr(c,d){var h=d&-d;return h=(h&42)!==0?1:Kf(h),(h&(c.suspendedLanes|d))!==0?0:h}function Kf(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Ln(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function pp(){var c=H.p;return c!==0?c:(c=window.event,c===void 0?32:eD(c.type))}function x_(c,d){var h=H.p;try{return H.p=c,d()}finally{H.p=h}}var $n=Math.random().toString(36).slice(2),Zt="__reactFiber$"+$n,cr="__reactProps$"+$n,ll="__reactContainer$"+$n,ud="__reactEvents$"+$n,ld="__reactListeners$"+$n,jl="__reactHandles$"+$n,On="__reactResources$"+$n,gp="__reactMarker$"+$n;function g0(c){delete c[Zt],delete c[cr],delete c[ud],delete c[ld],delete c[jl]}function kf(c){var d=c[Zt];if(d)return d;for(var h=c.parentNode;h;){if(d=h[ll]||h[Zt]){if(h=d.alternate,d.child!==null||h!==null&&h.child!==null)for(c=BN(c);c!==null;){if(h=c[Zt])return h;c=BN(c)}return d}c=h,h=c.parentNode}return null}function Yf(c){if(c=c[Zt]||c[ll]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function mp(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(i(33))}function Wf(c){var d=c[On];return d||(d=c[On]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function dr(c){c[gp]=!0}var yx=new Set,vx={};function cd(c,d){Jf(c,d),Jf(c+"Capture",d)}function Jf(c,d){for(vx[c]=d,c=0;c<d.length;c++)yx.add(d[c])}var LJ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bx={},wx={};function $J(c){return fe.call(wx,c)?!0:fe.call(bx,c)?!1:LJ.test(c)?wx[c]=!0:(bx[c]=!0,!1)}function P_(c,d,h){if($J(d))if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var g=d.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+h)}}function A_(c,d,h){if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+h)}}function Cl(c,d,h,g){if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttributeNS(d,h,""+g)}}function Sn(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ox(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function FJ(c,d,h){var g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,E=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return O.call(this)},set:function(B){h=""+B,E.call(this,B)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(B){h=""+B},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function m0(c){if(!c._valueTracker){var d=Ox(c)?"checked":"value";c._valueTracker=FJ(c,d,""+c[d])}}function Sx(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var h=d.getValue(),g="";return c&&(g=Ox(c)?c.checked?"true":"false":c.value),c=g,c!==h?(d.setValue(c),!0):!1}function N_(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var VJ=/[\n"\\]/g;function En(c){return c.replace(VJ,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function _0(c,d,h,g,O,E,B,W){c.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?c.type=B:c.removeAttribute("type"),d!=null?B==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Sn(d)):c.value!==""+Sn(d)&&(c.value=""+Sn(d)):B!=="submit"&&B!=="reset"||c.removeAttribute("value"),d!=null?y0(c,B,Sn(d)):h!=null?y0(c,B,Sn(h)):g!=null&&c.removeAttribute("value"),O==null&&E!=null&&(c.defaultChecked=!!E),O!=null&&(c.checked=O&&typeof O!="function"&&typeof O!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?c.name=""+Sn(W):c.removeAttribute("name")}function Ex(c,d,h,g,O,E,B,W){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(c.type=E),d!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||d!=null)){m0(c);return}h=h!=null?""+Sn(h):"",d=d!=null?""+Sn(d):h,W||d===c.value||(c.value=d),c.defaultValue=d}g=g??O,g=typeof g!="function"&&typeof g!="symbol"&&!!g,c.checked=W?c.checked:!!g,c.defaultChecked=!!g,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(c.name=B),m0(c)}function y0(c,d,h){d==="number"&&N_(c.ownerDocument)===c||c.defaultValue===""+h||(c.defaultValue=""+h)}function Zf(c,d,h,g){if(c=c.options,d){d={};for(var O=0;O<h.length;O++)d["$"+h[O]]=!0;for(h=0;h<c.length;h++)O=d.hasOwnProperty("$"+c[h].value),c[h].selected!==O&&(c[h].selected=O),O&&g&&(c[h].defaultSelected=!0)}else{for(h=""+Sn(h),d=null,O=0;O<c.length;O++){if(c[O].value===h){c[O].selected=!0,g&&(c[O].defaultSelected=!0);return}d!==null||c[O].disabled||(d=c[O])}d!==null&&(d.selected=!0)}}function Rx(c,d,h){if(d!=null&&(d=""+Sn(d),d!==c.value&&(c.value=d),h==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=h!=null?""+Sn(h):""}function jx(c,d,h,g){if(d==null){if(g!=null){if(h!=null)throw Error(i(92));if(Y(g)){if(1<g.length)throw Error(i(93));g=g[0]}h=g}h==null&&(h=""),d=h}h=Sn(d),c.defaultValue=h,g=c.textContent,g===h&&g!==""&&g!==null&&(c.value=g),m0(c)}function Qf(c,d){if(d){var h=c.firstChild;if(h&&h===c.lastChild&&h.nodeType===3){h.nodeValue=d;return}}c.textContent=d}var GJ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cx(c,d,h){var g=d.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":g?c.setProperty(d,h):typeof h!="number"||h===0||GJ.has(d)?d==="float"?c.cssFloat=h:c[d]=(""+h).trim():c[d]=h+"px"}function Tx(c,d,h){if(d!=null&&typeof d!="object")throw Error(i(62));if(c=c.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||d!=null&&d.hasOwnProperty(g)||(g.indexOf("--")===0?c.setProperty(g,""):g==="float"?c.cssFloat="":c[g]="");for(var O in d)g=d[O],d.hasOwnProperty(O)&&h[O]!==g&&Cx(c,O,g)}else for(var E in d)d.hasOwnProperty(E)&&Cx(c,E,d[E])}function v0(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),KJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function D_(c){return KJ.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Tl(){}var b0=null;function w0(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Xf=null,eh=null;function Mx(c){var d=Yf(c);if(d&&(c=d.stateNode)){var h=c[cr]||null;e:switch(c=d.stateNode,d.type){case"input":if(_0(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),d=h.name,h.type==="radio"&&d!=null){for(h=c;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+En(""+d)+'"][type="radio"]'),d=0;d<h.length;d++){var g=h[d];if(g!==c&&g.form===c.form){var O=g[cr]||null;if(!O)throw Error(i(90));_0(g,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<h.length;d++)g=h[d],g.form===c.form&&Sx(g)}break e;case"textarea":Rx(c,h.value,h.defaultValue);break e;case"select":d=h.value,d!=null&&Zf(c,!!h.multiple,d,!1)}}}var O0=!1;function xx(c,d,h){if(O0)return c(d,h);O0=!0;try{var g=c(d);return g}finally{if(O0=!1,(Xf!==null||eh!==null)&&(wy(),Xf&&(d=Xf,c=eh,eh=Xf=null,Mx(d),c)))for(d=0;d<c.length;d++)Mx(c[d])}}function _p(c,d){var h=c.stateNode;if(h===null)return null;var g=h[cr]||null;if(g===null)return null;h=g[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(c=c.type,g=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!g;break e;default:c=!1}if(c)return null;if(h&&typeof h!="function")throw Error(i(231,d,typeof h));return h}var Ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S0=!1;if(Ml)try{var yp={};Object.defineProperty(yp,"passive",{get:function(){S0=!0}}),window.addEventListener("test",yp,yp),window.removeEventListener("test",yp,yp)}catch{S0=!1}var dc=null,E0=null,I_=null;function Px(){if(I_)return I_;var c,d=E0,h=d.length,g,O="value"in dc?dc.value:dc.textContent,E=O.length;for(c=0;c<h&&d[c]===O[c];c++);var B=h-c;for(g=1;g<=B&&d[h-g]===O[E-g];g++);return I_=O.slice(c,1<g?1-g:void 0)}function z_(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function q_(){return!0}function Ax(){return!1}function Ir(c){function d(h,g,O,E,B){this._reactName=h,this._targetInst=O,this.type=g,this.nativeEvent=E,this.target=B,this.currentTarget=null;for(var W in c)c.hasOwnProperty(W)&&(h=c[W],this[W]=h?h(E):E[W]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?q_:Ax,this.isPropagationStopped=Ax,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=q_)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=q_)},persist:function(){},isPersistent:q_}),d}var dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B_=Ir(dd),vp=m({},dd,{view:0,detail:0}),kJ=Ir(vp),R0,j0,bp,U_=m({},vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T0,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==bp&&(bp&&c.type==="mousemove"?(R0=c.screenX-bp.screenX,j0=c.screenY-bp.screenY):j0=R0=0,bp=c),R0)},movementY:function(c){return"movementY"in c?c.movementY:j0}}),Nx=Ir(U_),YJ=m({},U_,{dataTransfer:0}),WJ=Ir(YJ),JJ=m({},vp,{relatedTarget:0}),C0=Ir(JJ),ZJ=m({},dd,{animationName:0,elapsedTime:0,pseudoElement:0}),QJ=Ir(ZJ),XJ=m({},dd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),eZ=Ir(XJ),tZ=m({},dd,{data:0}),Dx=Ir(tZ),rZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iZ(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=aZ[c])?!!d[c]:!1}function T0(){return iZ}var oZ=m({},vp,{key:function(c){if(c.key){var d=rZ[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=z_(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?nZ[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T0,charCode:function(c){return c.type==="keypress"?z_(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?z_(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),sZ=Ir(oZ),uZ=m({},U_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ix=Ir(uZ),lZ=m({},vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T0}),cZ=Ir(lZ),dZ=m({},dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),fZ=Ir(dZ),hZ=m({},U_,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),pZ=Ir(hZ),gZ=m({},dd,{newState:0,oldState:0}),mZ=Ir(gZ),_Z=[9,13,27,32],M0=Ml&&"CompositionEvent"in window,wp=null;Ml&&"documentMode"in document&&(wp=document.documentMode);var yZ=Ml&&"TextEvent"in window&&!wp,zx=Ml&&(!M0||wp&&8<wp&&11>=wp),qx=" ",Bx=!1;function Ux(c,d){switch(c){case"keyup":return _Z.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lx(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var th=!1;function vZ(c,d){switch(c){case"compositionend":return Lx(d);case"keypress":return d.which!==32?null:(Bx=!0,qx);case"textInput":return c=d.data,c===qx&&Bx?null:c;default:return null}}function bZ(c,d){if(th)return c==="compositionend"||!M0&&Ux(c,d)?(c=Px(),I_=E0=dc=null,th=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return zx&&d.locale!=="ko"?null:d.data;default:return null}}var wZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $x(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!wZ[c.type]:d==="textarea"}function Fx(c,d,h,g){Xf?eh?eh.push(g):eh=[g]:Xf=g,d=Ty(d,"onChange"),0<d.length&&(h=new B_("onChange","change",null,h,g),c.push({event:h,listeners:d}))}var Op=null,Sp=null;function OZ(c){EN(c,0)}function L_(c){var d=mp(c);if(Sx(d))return c}function Vx(c,d){if(c==="change")return d}var Gx=!1;if(Ml){var x0;if(Ml){var P0="oninput"in document;if(!P0){var Hx=document.createElement("div");Hx.setAttribute("oninput","return;"),P0=typeof Hx.oninput=="function"}x0=P0}else x0=!1;Gx=x0&&(!document.documentMode||9<document.documentMode)}function Kx(){Op&&(Op.detachEvent("onpropertychange",kx),Sp=Op=null)}function kx(c){if(c.propertyName==="value"&&L_(Sp)){var d=[];Fx(d,Sp,c,w0(c)),xx(OZ,d)}}function SZ(c,d,h){c==="focusin"?(Kx(),Op=d,Sp=h,Op.attachEvent("onpropertychange",kx)):c==="focusout"&&Kx()}function EZ(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return L_(Sp)}function RZ(c,d){if(c==="click")return L_(d)}function jZ(c,d){if(c==="input"||c==="change")return L_(d)}function CZ(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Jr=typeof Object.is=="function"?Object.is:CZ;function Ep(c,d){if(Jr(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var h=Object.keys(c),g=Object.keys(d);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var O=h[g];if(!fe.call(d,O)||!Jr(c[O],d[O]))return!1}return!0}function Yx(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Wx(c,d){var h=Yx(c);c=0;for(var g;h;){if(h.nodeType===3){if(g=c+h.textContent.length,c<=d&&g>=d)return{node:h,offset:d-c};c=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Yx(h)}}function Jx(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?Jx(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function Zx(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=N_(c.document);d instanceof c.HTMLIFrameElement;){try{var h=typeof d.contentWindow.location.href=="string"}catch{h=!1}if(h)c=d.contentWindow;else break;d=N_(c.document)}return d}function A0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var TZ=Ml&&"documentMode"in document&&11>=document.documentMode,rh=null,N0=null,Rp=null,D0=!1;function Qx(c,d,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;D0||rh==null||rh!==N_(g)||(g=rh,"selectionStart"in g&&A0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Rp&&Ep(Rp,g)||(Rp=g,g=Ty(N0,"onSelect"),0<g.length&&(d=new B_("onSelect","select",null,d,h),c.push({event:d,listeners:g}),d.target=rh)))}function fd(c,d){var h={};return h[c.toLowerCase()]=d.toLowerCase(),h["Webkit"+c]="webkit"+d,h["Moz"+c]="moz"+d,h}var nh={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionrun:fd("Transition","TransitionRun"),transitionstart:fd("Transition","TransitionStart"),transitioncancel:fd("Transition","TransitionCancel"),transitionend:fd("Transition","TransitionEnd")},I0={},Xx={};Ml&&(Xx=document.createElement("div").style,"AnimationEvent"in window||(delete nh.animationend.animation,delete nh.animationiteration.animation,delete nh.animationstart.animation),"TransitionEvent"in window||delete nh.transitionend.transition);function hd(c){if(I0[c])return I0[c];if(!nh[c])return c;var d=nh[c],h;for(h in d)if(d.hasOwnProperty(h)&&h in Xx)return I0[c]=d[h];return c}var eP=hd("animationend"),tP=hd("animationiteration"),rP=hd("animationstart"),MZ=hd("transitionrun"),xZ=hd("transitionstart"),PZ=hd("transitioncancel"),nP=hd("transitionend"),aP=new Map,z0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");z0.push("scrollEnd");function Fn(c,d){aP.set(c,d),cd(d,[c])}var $_=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Rn=[],ah=0,q0=0;function F_(){for(var c=ah,d=q0=ah=0;d<c;){var h=Rn[d];Rn[d++]=null;var g=Rn[d];Rn[d++]=null;var O=Rn[d];Rn[d++]=null;var E=Rn[d];if(Rn[d++]=null,g!==null&&O!==null){var B=g.pending;B===null?O.next=O:(O.next=B.next,B.next=O),g.pending=O}E!==0&&iP(h,O,E)}}function V_(c,d,h,g){Rn[ah++]=c,Rn[ah++]=d,Rn[ah++]=h,Rn[ah++]=g,q0|=g,c.lanes|=g,c=c.alternate,c!==null&&(c.lanes|=g)}function B0(c,d,h,g){return V_(c,d,h,g),G_(c)}function pd(c,d){return V_(c,null,null,d),G_(c)}function iP(c,d,h){c.lanes|=h;var g=c.alternate;g!==null&&(g.lanes|=h);for(var O=!1,E=c.return;E!==null;)E.childLanes|=h,g=E.alternate,g!==null&&(g.childLanes|=h),E.tag===22&&(c=E.stateNode,c===null||c._visibility&1||(O=!0)),c=E,E=E.return;return c.tag===3?(E=c.stateNode,O&&d!==null&&(O=31-ut(h),c=E.hiddenUpdates,g=c[O],g===null?c[O]=[d]:g.push(d),d.lane=h|536870912),E):null}function G_(c){if(50<kp)throw kp=0,kw=null,Error(i(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var ih={};function AZ(c,d,h,g){this.tag=c,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(c,d,h,g){return new AZ(c,d,h,g)}function U0(c){return c=c.prototype,!(!c||!c.isReactComponent)}function xl(c,d){var h=c.alternate;return h===null?(h=Zr(c.tag,d,c.key,c.mode),h.elementType=c.elementType,h.type=c.type,h.stateNode=c.stateNode,h.alternate=c,c.alternate=h):(h.pendingProps=d,h.type=c.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=c.flags&65011712,h.childLanes=c.childLanes,h.lanes=c.lanes,h.child=c.child,h.memoizedProps=c.memoizedProps,h.memoizedState=c.memoizedState,h.updateQueue=c.updateQueue,d=c.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},h.sibling=c.sibling,h.index=c.index,h.ref=c.ref,h.refCleanup=c.refCleanup,h}function oP(c,d){c.flags&=65011714;var h=c.alternate;return h===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,d=h.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function H_(c,d,h,g,O,E){var B=0;if(g=c,typeof c=="function")U0(c)&&(B=1);else if(typeof c=="string")B=qQ(c,h,me.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case L:return c=Zr(31,h,d,O),c.elementType=L,c.lanes=E,c;case y:return gd(h.children,O,E,d);case v:B=8,O|=24;break;case S:return c=Zr(12,h,d,O|2),c.elementType=S,c.lanes=E,c;case T:return c=Zr(13,h,d,O),c.elementType=T,c.lanes=E,c;case C:return c=Zr(19,h,d,O),c.elementType=C,c.lanes=E,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:B=10;break e;case R:B=9;break e;case P:B=11;break e;case D:B=14;break e;case M:B=16,g=null;break e}B=29,h=Error(i(130,c===null?"null":typeof c,"")),g=null}return d=Zr(B,h,d,O),d.elementType=c,d.type=g,d.lanes=E,d}function gd(c,d,h,g){return c=Zr(7,c,g,d),c.lanes=h,c}function L0(c,d,h){return c=Zr(6,c,null,d),c.lanes=h,c}function sP(c){var d=Zr(18,null,null,0);return d.stateNode=c,d}function $0(c,d,h){return d=Zr(4,c.children!==null?c.children:[],c.key,d),d.lanes=h,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var uP=new WeakMap;function jn(c,d){if(typeof c=="object"&&c!==null){var h=uP.get(c);return h!==void 0?h:(d={value:c,source:d,stack:De(d)},uP.set(c,d),d)}return{value:c,source:d,stack:De(d)}}var oh=[],sh=0,K_=null,jp=0,Cn=[],Tn=0,fc=null,cl=1,dl="";function Pl(c,d){oh[sh++]=jp,oh[sh++]=K_,K_=c,jp=d}function lP(c,d,h){Cn[Tn++]=cl,Cn[Tn++]=dl,Cn[Tn++]=fc,fc=c;var g=cl;c=dl;var O=32-ut(g)-1;g&=~(1<<O),h+=1;var E=32-ut(d)+O;if(30<E){var B=O-O%5;E=(g&(1<<B)-1).toString(32),g>>=B,O-=B,cl=1<<32-ut(d)+O|h<<O|g,dl=E+c}else cl=1<<E|h<<O|g,dl=c}function F0(c){c.return!==null&&(Pl(c,1),lP(c,1,0))}function V0(c){for(;c===K_;)K_=oh[--sh],oh[sh]=null,jp=oh[--sh],oh[sh]=null;for(;c===fc;)fc=Cn[--Tn],Cn[Tn]=null,dl=Cn[--Tn],Cn[Tn]=null,cl=Cn[--Tn],Cn[Tn]=null}function cP(c,d){Cn[Tn++]=cl,Cn[Tn++]=dl,Cn[Tn++]=fc,cl=d.id,dl=d.overflow,fc=c}var _r=null,Bt=null,gt=!1,hc=null,Mn=!1,G0=Error(i(519));function pc(c){var d=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cp(jn(d,c)),G0}function dP(c){var d=c.stateNode,h=c.type,g=c.memoizedProps;switch(d[Zt]=c,d[cr]=g,h){case"dialog":ft("cancel",d),ft("close",d);break;case"iframe":case"object":case"embed":ft("load",d);break;case"video":case"audio":for(h=0;h<Wp.length;h++)ft(Wp[h],d);break;case"source":ft("error",d);break;case"img":case"image":case"link":ft("error",d),ft("load",d);break;case"details":ft("toggle",d);break;case"input":ft("invalid",d),Ex(d,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ft("invalid",d);break;case"textarea":ft("invalid",d),jx(d,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||d.textContent===""+h||g.suppressHydrationWarning===!0||TN(d.textContent,h)?(g.popover!=null&&(ft("beforetoggle",d),ft("toggle",d)),g.onScroll!=null&&ft("scroll",d),g.onScrollEnd!=null&&ft("scrollend",d),g.onClick!=null&&(d.onclick=Tl),d=!0):d=!1,d||pc(c,!0)}function fP(c){for(_r=c.return;_r;)switch(_r.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:_r=_r.return}}function uh(c){if(c!==_r)return!1;if(!gt)return fP(c),gt=!0,!1;var d=c.tag,h;if((h=d!==3&&d!==27)&&((h=d===5)&&(h=c.type,h=!(h!=="form"&&h!=="button")||uO(c.type,c.memoizedProps)),h=!h),h&&Bt&&pc(c),fP(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Bt=qN(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Bt=qN(c)}else d===27?(d=Bt,Tc(c.type)?(c=hO,hO=null,Bt=c):Bt=d):Bt=_r?Pn(c.stateNode.nextSibling):null;return!0}function md(){Bt=_r=null,gt=!1}function H0(){var c=hc;return c!==null&&(Ur===null?Ur=c:Ur.push.apply(Ur,c),hc=null),c}function Cp(c){hc===null?hc=[c]:hc.push(c)}var K0=G(null),_d=null,Al=null;function gc(c,d,h){oe(K0,d._currentValue),d._currentValue=h}function Nl(c){c._currentValue=K0.current,J(K0)}function k0(c,d,h){for(;c!==null;){var g=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,g!==null&&(g.childLanes|=d)):g!==null&&(g.childLanes&d)!==d&&(g.childLanes|=d),c===h)break;c=c.return}}function Y0(c,d,h,g){var O=c.child;for(O!==null&&(O.return=c);O!==null;){var E=O.dependencies;if(E!==null){var B=O.child;E=E.firstContext;e:for(;E!==null;){var W=E;E=O;for(var se=0;se<d.length;se++)if(W.context===d[se]){E.lanes|=h,W=E.alternate,W!==null&&(W.lanes|=h),k0(E.return,h,c),g||(B=null);break e}E=W.next}}else if(O.tag===18){if(B=O.return,B===null)throw Error(i(341));B.lanes|=h,E=B.alternate,E!==null&&(E.lanes|=h),k0(B,h,c),B=null}else B=O.child;if(B!==null)B.return=O;else for(B=O;B!==null;){if(B===c){B=null;break}if(O=B.sibling,O!==null){O.return=B.return,B=O;break}B=B.return}O=B}}function lh(c,d,h,g){c=null;for(var O=d,E=!1;O!==null;){if(!E){if((O.flags&524288)!==0)E=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var B=O.alternate;if(B===null)throw Error(i(387));if(B=B.memoizedProps,B!==null){var W=O.type;Jr(O.pendingProps.value,B.value)||(c!==null?c.push(W):c=[W])}}else if(O===$.current){if(B=O.alternate,B===null)throw Error(i(387));B.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(c!==null?c.push(eg):c=[eg])}O=O.return}c!==null&&Y0(d,c,h,g),d.flags|=262144}function k_(c){for(c=c.firstContext;c!==null;){if(!Jr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function yd(c){_d=c,Al=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function yr(c){return hP(_d,c)}function Y_(c,d){return _d===null&&yd(c),hP(c,d)}function hP(c,d){var h=d._currentValue;if(d={context:d,memoizedValue:h,next:null},Al===null){if(c===null)throw Error(i(308));Al=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Al=Al.next=d;return h}var NZ=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(h,g){c.push(g)}};this.abort=function(){d.aborted=!0,c.forEach(function(h){return h()})}},DZ=e.unstable_scheduleCallback,IZ=e.unstable_NormalPriority,Qt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function W0(){return{controller:new NZ,data:new Map,refCount:0}}function Tp(c){c.refCount--,c.refCount===0&&DZ(IZ,function(){c.controller.abort()})}var Mp=null,J0=0,ch=0,dh=null;function zZ(c,d){if(Mp===null){var h=Mp=[];J0=0,ch=Xw(),dh={status:"pending",value:void 0,then:function(g){h.push(g)}}}return J0++,d.then(pP,pP),d}function pP(){if(--J0===0&&Mp!==null){dh!==null&&(dh.status="fulfilled");var c=Mp;Mp=null,ch=0,dh=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function qZ(c,d){var h=[],g={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return c.then(function(){g.status="fulfilled",g.value=d;for(var O=0;O<h.length;O++)(0,h[O])(d)},function(O){for(g.status="rejected",g.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),g}var gP=U.S;U.S=function(c,d){QA=$e(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&zZ(c,d),gP!==null&&gP(c,d)};var vd=G(null);function Z0(){var c=vd.current;return c!==null?c:Nt.pooledCache}function W_(c,d){d===null?oe(vd,vd.current):oe(vd,d.pool)}function mP(){var c=Z0();return c===null?null:{parent:Qt._currentValue,pool:c}}var fh=Error(i(460)),Q0=Error(i(474)),J_=Error(i(542)),Z_={then:function(){}};function _P(c){return c=c.status,c==="fulfilled"||c==="rejected"}function yP(c,d,h){switch(h=c[h],h===void 0?c.push(d):h!==d&&(d.then(Tl,Tl),d=h),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,bP(c),c;default:if(typeof d.status=="string")d.then(Tl,Tl);else{if(c=Nt,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=d,c.status="pending",c.then(function(g){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=g}},function(g){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=g}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,bP(c),c}throw wd=d,fh}}function bd(c){try{var d=c._init;return d(c._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(wd=h,fh):h}}var wd=null;function vP(){if(wd===null)throw Error(i(459));var c=wd;return wd=null,c}function bP(c){if(c===fh||c===J_)throw Error(i(483))}var hh=null,xp=0;function Q_(c){var d=xp;return xp+=1,hh===null&&(hh=[]),yP(hh,c,d)}function Pp(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function X_(c,d){throw d.$$typeof===b?Error(i(525)):(c=Object.prototype.toString.call(d),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function wP(c){function d(pe,de){if(c){var _e=pe.deletions;_e===null?(pe.deletions=[de],pe.flags|=16):_e.push(de)}}function h(pe,de){if(!c)return null;for(;de!==null;)d(pe,de),de=de.sibling;return null}function g(pe){for(var de=new Map;pe!==null;)pe.key!==null?de.set(pe.key,pe):de.set(pe.index,pe),pe=pe.sibling;return de}function O(pe,de){return pe=xl(pe,de),pe.index=0,pe.sibling=null,pe}function E(pe,de,_e){return pe.index=_e,c?(_e=pe.alternate,_e!==null?(_e=_e.index,_e<de?(pe.flags|=67108866,de):_e):(pe.flags|=67108866,de)):(pe.flags|=1048576,de)}function B(pe){return c&&pe.alternate===null&&(pe.flags|=67108866),pe}function W(pe,de,_e,Te){return de===null||de.tag!==6?(de=L0(_e,pe.mode,Te),de.return=pe,de):(de=O(de,_e),de.return=pe,de)}function se(pe,de,_e,Te){var Qe=_e.type;return Qe===y?je(pe,de,_e.props.children,Te,_e.key):de!==null&&(de.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&bd(Qe)===de.type)?(de=O(de,_e.props),Pp(de,_e),de.return=pe,de):(de=H_(_e.type,_e.key,_e.props,null,pe.mode,Te),Pp(de,_e),de.return=pe,de)}function ve(pe,de,_e,Te){return de===null||de.tag!==4||de.stateNode.containerInfo!==_e.containerInfo||de.stateNode.implementation!==_e.implementation?(de=$0(_e,pe.mode,Te),de.return=pe,de):(de=O(de,_e.children||[]),de.return=pe,de)}function je(pe,de,_e,Te,Qe){return de===null||de.tag!==7?(de=gd(_e,pe.mode,Te,Qe),de.return=pe,de):(de=O(de,_e),de.return=pe,de)}function Me(pe,de,_e){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=L0(""+de,pe.mode,_e),de.return=pe,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return _e=H_(de.type,de.key,de.props,null,pe.mode,_e),Pp(_e,de),_e.return=pe,_e;case p:return de=$0(de,pe.mode,_e),de.return=pe,de;case M:return de=bd(de),Me(pe,de,_e)}if(Y(de)||w(de))return de=gd(de,pe.mode,_e,null),de.return=pe,de;if(typeof de.then=="function")return Me(pe,Q_(de),_e);if(de.$$typeof===j)return Me(pe,Y_(pe,de),_e);X_(pe,de)}return null}function we(pe,de,_e,Te){var Qe=de!==null?de.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return Qe!==null?null:W(pe,de,""+_e,Te);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case _:return _e.key===Qe?se(pe,de,_e,Te):null;case p:return _e.key===Qe?ve(pe,de,_e,Te):null;case M:return _e=bd(_e),we(pe,de,_e,Te)}if(Y(_e)||w(_e))return Qe!==null?null:je(pe,de,_e,Te,null);if(typeof _e.then=="function")return we(pe,de,Q_(_e),Te);if(_e.$$typeof===j)return we(pe,de,Y_(pe,_e),Te);X_(pe,_e)}return null}function Se(pe,de,_e,Te,Qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return pe=pe.get(_e)||null,W(de,pe,""+Te,Qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case _:return pe=pe.get(Te.key===null?_e:Te.key)||null,se(de,pe,Te,Qe);case p:return pe=pe.get(Te.key===null?_e:Te.key)||null,ve(de,pe,Te,Qe);case M:return Te=bd(Te),Se(pe,de,_e,Te,Qe)}if(Y(Te)||w(Te))return pe=pe.get(_e)||null,je(de,pe,Te,Qe,null);if(typeof Te.then=="function")return Se(pe,de,_e,Q_(Te),Qe);if(Te.$$typeof===j)return Se(pe,de,_e,Y_(de,Te),Qe);X_(de,Te)}return null}function Ge(pe,de,_e,Te){for(var Qe=null,bt=null,Ye=de,st=de=0,pt=null;Ye!==null&&st<_e.length;st++){Ye.index>st?(pt=Ye,Ye=null):pt=Ye.sibling;var wt=we(pe,Ye,_e[st],Te);if(wt===null){Ye===null&&(Ye=pt);break}c&&Ye&&wt.alternate===null&&d(pe,Ye),de=E(wt,de,st),bt===null?Qe=wt:bt.sibling=wt,bt=wt,Ye=pt}if(st===_e.length)return h(pe,Ye),gt&&Pl(pe,st),Qe;if(Ye===null){for(;st<_e.length;st++)Ye=Me(pe,_e[st],Te),Ye!==null&&(de=E(Ye,de,st),bt===null?Qe=Ye:bt.sibling=Ye,bt=Ye);return gt&&Pl(pe,st),Qe}for(Ye=g(Ye);st<_e.length;st++)pt=Se(Ye,pe,st,_e[st],Te),pt!==null&&(c&&pt.alternate!==null&&Ye.delete(pt.key===null?st:pt.key),de=E(pt,de,st),bt===null?Qe=pt:bt.sibling=pt,bt=pt);return c&&Ye.forEach(function(Nc){return d(pe,Nc)}),gt&&Pl(pe,st),Qe}function tt(pe,de,_e,Te){if(_e==null)throw Error(i(151));for(var Qe=null,bt=null,Ye=de,st=de=0,pt=null,wt=_e.next();Ye!==null&&!wt.done;st++,wt=_e.next()){Ye.index>st?(pt=Ye,Ye=null):pt=Ye.sibling;var Nc=we(pe,Ye,wt.value,Te);if(Nc===null){Ye===null&&(Ye=pt);break}c&&Ye&&Nc.alternate===null&&d(pe,Ye),de=E(Nc,de,st),bt===null?Qe=Nc:bt.sibling=Nc,bt=Nc,Ye=pt}if(wt.done)return h(pe,Ye),gt&&Pl(pe,st),Qe;if(Ye===null){for(;!wt.done;st++,wt=_e.next())wt=Me(pe,wt.value,Te),wt!==null&&(de=E(wt,de,st),bt===null?Qe=wt:bt.sibling=wt,bt=wt);return gt&&Pl(pe,st),Qe}for(Ye=g(Ye);!wt.done;st++,wt=_e.next())wt=Se(Ye,pe,st,wt.value,Te),wt!==null&&(c&&wt.alternate!==null&&Ye.delete(wt.key===null?st:wt.key),de=E(wt,de,st),bt===null?Qe=wt:bt.sibling=wt,bt=wt);return c&&Ye.forEach(function(YQ){return d(pe,YQ)}),gt&&Pl(pe,st),Qe}function At(pe,de,_e,Te){if(typeof _e=="object"&&_e!==null&&_e.type===y&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case _:e:{for(var Qe=_e.key;de!==null;){if(de.key===Qe){if(Qe=_e.type,Qe===y){if(de.tag===7){h(pe,de.sibling),Te=O(de,_e.props.children),Te.return=pe,pe=Te;break e}}else if(de.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&bd(Qe)===de.type){h(pe,de.sibling),Te=O(de,_e.props),Pp(Te,_e),Te.return=pe,pe=Te;break e}h(pe,de);break}else d(pe,de);de=de.sibling}_e.type===y?(Te=gd(_e.props.children,pe.mode,Te,_e.key),Te.return=pe,pe=Te):(Te=H_(_e.type,_e.key,_e.props,null,pe.mode,Te),Pp(Te,_e),Te.return=pe,pe=Te)}return B(pe);case p:e:{for(Qe=_e.key;de!==null;){if(de.key===Qe)if(de.tag===4&&de.stateNode.containerInfo===_e.containerInfo&&de.stateNode.implementation===_e.implementation){h(pe,de.sibling),Te=O(de,_e.children||[]),Te.return=pe,pe=Te;break e}else{h(pe,de);break}else d(pe,de);de=de.sibling}Te=$0(_e,pe.mode,Te),Te.return=pe,pe=Te}return B(pe);case M:return _e=bd(_e),At(pe,de,_e,Te)}if(Y(_e))return Ge(pe,de,_e,Te);if(w(_e)){if(Qe=w(_e),typeof Qe!="function")throw Error(i(150));return _e=Qe.call(_e),tt(pe,de,_e,Te)}if(typeof _e.then=="function")return At(pe,de,Q_(_e),Te);if(_e.$$typeof===j)return At(pe,de,Y_(pe,_e),Te);X_(pe,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,de!==null&&de.tag===6?(h(pe,de.sibling),Te=O(de,_e),Te.return=pe,pe=Te):(h(pe,de),Te=L0(_e,pe.mode,Te),Te.return=pe,pe=Te),B(pe)):h(pe,de)}return function(pe,de,_e,Te){try{xp=0;var Qe=At(pe,de,_e,Te);return hh=null,Qe}catch(Ye){if(Ye===fh||Ye===J_)throw Ye;var bt=Zr(29,Ye,null,pe.mode);return bt.lanes=Te,bt.return=pe,bt}}}var Od=wP(!0),OP=wP(!1),mc=!1;function X0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ew(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function _c(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function yc(c,d,h){var g=c.updateQueue;if(g===null)return null;if(g=g.shared,(Et&2)!==0){var O=g.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),g.pending=d,d=G_(c),iP(c,null,h),d}return V_(c,g,d,h),G_(c)}function Ap(c,d,h){if(d=d.updateQueue,d!==null&&(d=d.shared,(h&4194048)!==0)){var g=d.lanes;g&=c.pendingLanes,h|=g,d.lanes=h,ar(c,h)}}function tw(c,d){var h=c.updateQueue,g=c.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var O=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var B={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?O=E=B:E=E.next=B,h=h.next}while(h!==null);E===null?O=E=d:E=E.next=d}else O=E=d;h={baseState:g.baseState,firstBaseUpdate:O,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},c.updateQueue=h;return}c=h.lastBaseUpdate,c===null?h.firstBaseUpdate=d:c.next=d,h.lastBaseUpdate=d}var rw=!1;function Np(){if(rw){var c=dh;if(c!==null)throw c}}function Dp(c,d,h,g){rw=!1;var O=c.updateQueue;mc=!1;var E=O.firstBaseUpdate,B=O.lastBaseUpdate,W=O.shared.pending;if(W!==null){O.shared.pending=null;var se=W,ve=se.next;se.next=null,B===null?E=ve:B.next=ve,B=se;var je=c.alternate;je!==null&&(je=je.updateQueue,W=je.lastBaseUpdate,W!==B&&(W===null?je.firstBaseUpdate=ve:W.next=ve,je.lastBaseUpdate=se))}if(E!==null){var Me=O.baseState;B=0,je=ve=se=null,W=E;do{var we=W.lane&-536870913,Se=we!==W.lane;if(Se?(ht&we)===we:(g&we)===we){we!==0&&we===ch&&(rw=!0),je!==null&&(je=je.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Ge=c,tt=W;we=d;var At=h;switch(tt.tag){case 1:if(Ge=tt.payload,typeof Ge=="function"){Me=Ge.call(At,Me,we);break e}Me=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=tt.payload,we=typeof Ge=="function"?Ge.call(At,Me,we):Ge,we==null)break e;Me=m({},Me,we);break e;case 2:mc=!0}}we=W.callback,we!==null&&(c.flags|=64,Se&&(c.flags|=8192),Se=O.callbacks,Se===null?O.callbacks=[we]:Se.push(we))}else Se={lane:we,tag:W.tag,payload:W.payload,callback:W.callback,next:null},je===null?(ve=je=Se,se=Me):je=je.next=Se,B|=we;if(W=W.next,W===null){if(W=O.shared.pending,W===null)break;Se=W,W=Se.next,Se.next=null,O.lastBaseUpdate=Se,O.shared.pending=null}}while(!0);je===null&&(se=Me),O.baseState=se,O.firstBaseUpdate=ve,O.lastBaseUpdate=je,E===null&&(O.shared.lanes=0),Sc|=B,c.lanes=B,c.memoizedState=Me}}function SP(c,d){if(typeof c!="function")throw Error(i(191,c));c.call(d)}function EP(c,d){var h=c.callbacks;if(h!==null)for(c.callbacks=null,c=0;c<h.length;c++)SP(h[c],d)}var ph=G(null),ey=G(0);function RP(c,d){c=Fl,oe(ey,c),oe(ph,d),Fl=c|d.baseLanes}function nw(){oe(ey,Fl),oe(ph,ph.current)}function aw(){Fl=ey.current,J(ph),J(ey)}var Qr=G(null),xn=null;function vc(c){var d=c.alternate;oe(Wt,Wt.current&1),oe(Qr,c),xn===null&&(d===null||ph.current!==null||d.memoizedState!==null)&&(xn=c)}function iw(c){oe(Wt,Wt.current),oe(Qr,c),xn===null&&(xn=c)}function jP(c){c.tag===22?(oe(Wt,Wt.current),oe(Qr,c),xn===null&&(xn=c)):bc()}function bc(){oe(Wt,Wt.current),oe(Qr,Qr.current)}function Xr(c){J(Qr),xn===c&&(xn=null),J(Wt)}var Wt=G(0);function ty(c){for(var d=c;d!==null;){if(d.tag===13){var h=d.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||dO(h)||fO(h)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Dl=0,ot=null,xt=null,Xt=null,ry=!1,gh=!1,Sd=!1,ny=0,Ip=0,mh=null,BZ=0;function Ht(){throw Error(i(321))}function ow(c,d){if(d===null)return!1;for(var h=0;h<d.length&&h<c.length;h++)if(!Jr(c[h],d[h]))return!1;return!0}function sw(c,d,h,g,O,E){return Dl=E,ot=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,U.H=c===null||c.memoizedState===null?lA:Ow,Sd=!1,E=h(g,O),Sd=!1,gh&&(E=TP(d,h,g,O)),CP(c),E}function CP(c){U.H=Bp;var d=xt!==null&&xt.next!==null;if(Dl=0,Xt=xt=ot=null,ry=!1,Ip=0,mh=null,d)throw Error(i(300));c===null||er||(c=c.dependencies,c!==null&&k_(c)&&(er=!0))}function TP(c,d,h,g){ot=c;var O=0;do{if(gh&&(mh=null),Ip=0,gh=!1,25<=O)throw Error(i(301));if(O+=1,Xt=xt=null,c.updateQueue!=null){var E=c.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}U.H=cA,E=d(h,g)}while(gh);return E}function UZ(){var c=U.H,d=c.useState()[0];return d=typeof d.then=="function"?zp(d):d,c=c.useState()[0],(xt!==null?xt.memoizedState:null)!==c&&(ot.flags|=1024),d}function uw(){var c=ny!==0;return ny=0,c}function lw(c,d,h){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~h}function cw(c){if(ry){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}ry=!1}Dl=0,Xt=xt=ot=null,gh=!1,Ip=ny=0,mh=null}function Cr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?ot.memoizedState=Xt=c:Xt=Xt.next=c,Xt}function Jt(){if(xt===null){var c=ot.alternate;c=c!==null?c.memoizedState:null}else c=xt.next;var d=Xt===null?ot.memoizedState:Xt.next;if(d!==null)Xt=d,xt=c;else{if(c===null)throw ot.alternate===null?Error(i(467)):Error(i(310));xt=c,c={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Xt===null?ot.memoizedState=Xt=c:Xt=Xt.next=c}return Xt}function ay(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zp(c){var d=Ip;return Ip+=1,mh===null&&(mh=[]),c=yP(mh,c,d),d=ot,(Xt===null?d.memoizedState:Xt.next)===null&&(d=d.alternate,U.H=d===null||d.memoizedState===null?lA:Ow),c}function iy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return zp(c);if(c.$$typeof===j)return yr(c)}throw Error(i(438,String(c)))}function dw(c){var d=null,h=ot.updateQueue;if(h!==null&&(d=h.memoCache),d==null){var g=ot.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(d={data:g.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),h===null&&(h=ay(),ot.updateQueue=h),h.memoCache=d,h=d.data[d.index],h===void 0)for(h=d.data[d.index]=Array(c),g=0;g<c;g++)h[g]=q;return d.index++,h}function Il(c,d){return typeof d=="function"?d(c):d}function oy(c){var d=Jt();return fw(d,xt,c)}function fw(c,d,h){var g=c.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=h;var O=c.baseQueue,E=g.pending;if(E!==null){if(O!==null){var B=O.next;O.next=E.next,E.next=B}d.baseQueue=O=E,g.pending=null}if(E=c.baseState,O===null)c.memoizedState=E;else{d=O.next;var W=B=null,se=null,ve=d,je=!1;do{var Me=ve.lane&-536870913;if(Me!==ve.lane?(ht&Me)===Me:(Dl&Me)===Me){var we=ve.revertLane;if(we===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Me===ch&&(je=!0);else if((Dl&we)===we){ve=ve.next,we===ch&&(je=!0);continue}else Me={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(W=se=Me,B=E):se=se.next=Me,ot.lanes|=we,Sc|=we;Me=ve.action,Sd&&h(E,Me),E=ve.hasEagerState?ve.eagerState:h(E,Me)}else we={lane:Me,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(W=se=we,B=E):se=se.next=we,ot.lanes|=Me,Sc|=Me;ve=ve.next}while(ve!==null&&ve!==d);if(se===null?B=E:se.next=W,!Jr(E,c.memoizedState)&&(er=!0,je&&(h=dh,h!==null)))throw h;c.memoizedState=E,c.baseState=B,c.baseQueue=se,g.lastRenderedState=E}return O===null&&(g.lanes=0),[c.memoizedState,g.dispatch]}function hw(c){var d=Jt(),h=d.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=h.dispatch,O=h.pending,E=d.memoizedState;if(O!==null){h.pending=null;var B=O=O.next;do E=c(E,B.action),B=B.next;while(B!==O);Jr(E,d.memoizedState)||(er=!0),d.memoizedState=E,d.baseQueue===null&&(d.baseState=E),h.lastRenderedState=E}return[E,g]}function MP(c,d,h){var g=ot,O=Jt(),E=gt;if(E){if(h===void 0)throw Error(i(407));h=h()}else h=d();var B=!Jr((xt||O).memoizedState,h);if(B&&(O.memoizedState=h,er=!0),O=O.queue,mw(AP.bind(null,g,O,c),[c]),O.getSnapshot!==d||B||Xt!==null&&Xt.memoizedState.tag&1){if(g.flags|=2048,_h(9,{destroy:void 0},PP.bind(null,g,O,h,d),null),Nt===null)throw Error(i(349));E||(Dl&127)!==0||xP(g,d,h)}return h}function xP(c,d,h){c.flags|=16384,c={getSnapshot:d,value:h},d=ot.updateQueue,d===null?(d=ay(),ot.updateQueue=d,d.stores=[c]):(h=d.stores,h===null?d.stores=[c]:h.push(c))}function PP(c,d,h,g){d.value=h,d.getSnapshot=g,NP(d)&&DP(c)}function AP(c,d,h){return h(function(){NP(d)&&DP(c)})}function NP(c){var d=c.getSnapshot;c=c.value;try{var h=d();return!Jr(c,h)}catch{return!0}}function DP(c){var d=pd(c,2);d!==null&&Lr(d,c,2)}function pw(c){var d=Cr();if(typeof c=="function"){var h=c;if(c=h(),Sd){mt(!0);try{h()}finally{mt(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:c},d}function IP(c,d,h,g){return c.baseState=h,fw(c,xt,typeof g=="function"?g:Il)}function LZ(c,d,h,g,O){if(ly(c))throw Error(i(485));if(c=d.action,c!==null){var E={payload:O,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){E.listeners.push(B)}};U.T!==null?h(!0):E.isTransition=!1,g(E),h=d.pending,h===null?(E.next=d.pending=E,zP(d,E)):(E.next=h.next,d.pending=h.next=E)}}function zP(c,d){var h=d.action,g=d.payload,O=c.state;if(d.isTransition){var E=U.T,B={};U.T=B;try{var W=h(O,g),se=U.S;se!==null&&se(B,W),qP(c,d,W)}catch(ve){gw(c,d,ve)}finally{E!==null&&B.types!==null&&(E.types=B.types),U.T=E}}else try{E=h(O,g),qP(c,d,E)}catch(ve){gw(c,d,ve)}}function qP(c,d,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){BP(c,d,g)},function(g){return gw(c,d,g)}):BP(c,d,h)}function BP(c,d,h){d.status="fulfilled",d.value=h,UP(d),c.state=h,d=c.pending,d!==null&&(h=d.next,h===d?c.pending=null:(h=h.next,d.next=h,zP(c,h)))}function gw(c,d,h){var g=c.pending;if(c.pending=null,g!==null){g=g.next;do d.status="rejected",d.reason=h,UP(d),d=d.next;while(d!==g)}c.action=null}function UP(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function LP(c,d){return d}function $P(c,d){if(gt){var h=Nt.formState;if(h!==null){e:{var g=ot;if(gt){if(Bt){t:{for(var O=Bt,E=Mn;O.nodeType!==8;){if(!E){O=null;break t}if(O=Pn(O.nextSibling),O===null){O=null;break t}}E=O.data,O=E==="F!"||E==="F"?O:null}if(O){Bt=Pn(O.nextSibling),g=O.data==="F!";break e}}pc(g)}g=!1}g&&(d=h[0])}}return h=Cr(),h.memoizedState=h.baseState=d,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LP,lastRenderedState:d},h.queue=g,h=oA.bind(null,ot,g),g.dispatch=h,g=pw(!1),E=ww.bind(null,ot,!1,g.queue),g=Cr(),O={state:d,dispatch:null,action:c,pending:null},g.queue=O,h=LZ.bind(null,ot,O,E,h),O.dispatch=h,g.memoizedState=c,[d,h,!1]}function FP(c){var d=Jt();return VP(d,xt,c)}function VP(c,d,h){if(d=fw(c,d,LP)[0],c=oy(Il)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var g=zp(d)}catch(B){throw B===fh?J_:B}else g=d;d=Jt();var O=d.queue,E=O.dispatch;return h!==d.memoizedState&&(ot.flags|=2048,_h(9,{destroy:void 0},$Z.bind(null,O,h),null)),[g,E,c]}function $Z(c,d){c.action=d}function GP(c){var d=Jt(),h=xt;if(h!==null)return VP(d,h,c);Jt(),d=d.memoizedState,h=Jt();var g=h.queue.dispatch;return h.memoizedState=c,[d,g,!1]}function _h(c,d,h,g){return c={tag:c,create:h,deps:g,inst:d,next:null},d=ot.updateQueue,d===null&&(d=ay(),ot.updateQueue=d),h=d.lastEffect,h===null?d.lastEffect=c.next=c:(g=h.next,h.next=c,c.next=g,d.lastEffect=c),c}function HP(){return Jt().memoizedState}function sy(c,d,h,g){var O=Cr();ot.flags|=c,O.memoizedState=_h(1|d,{destroy:void 0},h,g===void 0?null:g)}function uy(c,d,h,g){var O=Jt();g=g===void 0?null:g;var E=O.memoizedState.inst;xt!==null&&g!==null&&ow(g,xt.memoizedState.deps)?O.memoizedState=_h(d,E,h,g):(ot.flags|=c,O.memoizedState=_h(1|d,E,h,g))}function KP(c,d){sy(8390656,8,c,d)}function mw(c,d){uy(2048,8,c,d)}function FZ(c){ot.flags|=4;var d=ot.updateQueue;if(d===null)d=ay(),ot.updateQueue=d,d.events=[c];else{var h=d.events;h===null?d.events=[c]:h.push(c)}}function kP(c){var d=Jt().memoizedState;return FZ({ref:d,nextImpl:c}),function(){if((Et&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}function YP(c,d){return uy(4,2,c,d)}function WP(c,d){return uy(4,4,c,d)}function JP(c,d){if(typeof d=="function"){c=c();var h=d(c);return function(){typeof h=="function"?h():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function ZP(c,d,h){h=h!=null?h.concat([c]):null,uy(4,4,JP.bind(null,d,c),h)}function _w(){}function QP(c,d){var h=Jt();d=d===void 0?null:d;var g=h.memoizedState;return d!==null&&ow(d,g[1])?g[0]:(h.memoizedState=[c,d],c)}function XP(c,d){var h=Jt();d=d===void 0?null:d;var g=h.memoizedState;if(d!==null&&ow(d,g[1]))return g[0];if(g=c(),Sd){mt(!0);try{c()}finally{mt(!1)}}return h.memoizedState=[g,d],g}function yw(c,d,h){return h===void 0||(Dl&1073741824)!==0&&(ht&261930)===0?c.memoizedState=d:(c.memoizedState=h,c=eN(),ot.lanes|=c,Sc|=c,h)}function eA(c,d,h,g){return Jr(h,d)?h:ph.current!==null?(c=yw(c,h,g),Jr(c,d)||(er=!0),c):(Dl&42)===0||(Dl&1073741824)!==0&&(ht&261930)===0?(er=!0,c.memoizedState=h):(c=eN(),ot.lanes|=c,Sc|=c,d)}function tA(c,d,h,g,O){var E=H.p;H.p=E!==0&&8>E?E:8;var B=U.T,W={};U.T=W,ww(c,!1,d,h);try{var se=O(),ve=U.S;if(ve!==null&&ve(W,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var je=qZ(se,g);qp(c,d,je,rn(c))}else qp(c,d,g,rn(c))}catch(Me){qp(c,d,{then:function(){},status:"rejected",reason:Me},rn())}finally{H.p=E,B!==null&&W.types!==null&&(B.types=W.types),U.T=B}}function VZ(){}function vw(c,d,h,g){if(c.tag!==5)throw Error(i(476));var O=rA(c).queue;tA(c,O,d,Z,h===null?VZ:function(){return nA(c),h(g)})}function rA(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:Z},next:null};var h={};return d.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:h},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function nA(c){var d=rA(c);d.next===null&&(d=c.alternate.memoizedState),qp(c,d.next.queue,{},rn())}function bw(){return yr(eg)}function aA(){return Jt().memoizedState}function iA(){return Jt().memoizedState}function GZ(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var h=rn();c=_c(h);var g=yc(d,c,h);g!==null&&(Lr(g,d,h),Ap(g,d,h)),d={cache:W0()},c.payload=d;return}d=d.return}}function HZ(c,d,h){var g=rn();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ly(c)?sA(d,h):(h=B0(c,d,h,g),h!==null&&(Lr(h,c,g),uA(h,d,g)))}function oA(c,d,h){var g=rn();qp(c,d,h,g)}function qp(c,d,h,g){var O={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(ly(c))sA(d,O);else{var E=c.alternate;if(c.lanes===0&&(E===null||E.lanes===0)&&(E=d.lastRenderedReducer,E!==null))try{var B=d.lastRenderedState,W=E(B,h);if(O.hasEagerState=!0,O.eagerState=W,Jr(W,B))return V_(c,d,O,0),Nt===null&&F_(),!1}catch{}if(h=B0(c,d,O,g),h!==null)return Lr(h,c,g),uA(h,d,g),!0}return!1}function ww(c,d,h,g){if(g={lane:2,revertLane:Xw(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ly(c)){if(d)throw Error(i(479))}else d=B0(c,h,g,2),d!==null&&Lr(d,c,2)}function ly(c){var d=c.alternate;return c===ot||d!==null&&d===ot}function sA(c,d){gh=ry=!0;var h=c.pending;h===null?d.next=d:(d.next=h.next,h.next=d),c.pending=d}function uA(c,d,h){if((h&4194048)!==0){var g=d.lanes;g&=c.pendingLanes,h|=g,d.lanes=h,ar(c,h)}}var Bp={readContext:yr,use:iy,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};Bp.useEffectEvent=Ht;var lA={readContext:yr,use:iy,useCallback:function(c,d){return Cr().memoizedState=[c,d===void 0?null:d],c},useContext:yr,useEffect:KP,useImperativeHandle:function(c,d,h){h=h!=null?h.concat([c]):null,sy(4194308,4,JP.bind(null,d,c),h)},useLayoutEffect:function(c,d){return sy(4194308,4,c,d)},useInsertionEffect:function(c,d){sy(4,2,c,d)},useMemo:function(c,d){var h=Cr();d=d===void 0?null:d;var g=c();if(Sd){mt(!0);try{c()}finally{mt(!1)}}return h.memoizedState=[g,d],g},useReducer:function(c,d,h){var g=Cr();if(h!==void 0){var O=h(d);if(Sd){mt(!0);try{h(d)}finally{mt(!1)}}}else O=d;return g.memoizedState=g.baseState=O,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:O},g.queue=c,c=c.dispatch=HZ.bind(null,ot,c),[g.memoizedState,c]},useRef:function(c){var d=Cr();return c={current:c},d.memoizedState=c},useState:function(c){c=pw(c);var d=c.queue,h=oA.bind(null,ot,d);return d.dispatch=h,[c.memoizedState,h]},useDebugValue:_w,useDeferredValue:function(c,d){var h=Cr();return yw(h,c,d)},useTransition:function(){var c=pw(!1);return c=tA.bind(null,ot,c.queue,!0,!1),Cr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,h){var g=ot,O=Cr();if(gt){if(h===void 0)throw Error(i(407));h=h()}else{if(h=d(),Nt===null)throw Error(i(349));(ht&127)!==0||xP(g,d,h)}O.memoizedState=h;var E={value:h,getSnapshot:d};return O.queue=E,KP(AP.bind(null,g,E,c),[c]),g.flags|=2048,_h(9,{destroy:void 0},PP.bind(null,g,E,h,d),null),h},useId:function(){var c=Cr(),d=Nt.identifierPrefix;if(gt){var h=dl,g=cl;h=(g&~(1<<32-ut(g)-1)).toString(32)+h,d="_"+d+"R_"+h,h=ny++,0<h&&(d+="H"+h.toString(32)),d+="_"}else h=BZ++,d="_"+d+"r_"+h.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:bw,useFormState:$P,useActionState:$P,useOptimistic:function(c){var d=Cr();d.memoizedState=d.baseState=c;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=h,d=ww.bind(null,ot,!0,h),h.dispatch=d,[c,d]},useMemoCache:dw,useCacheRefresh:function(){return Cr().memoizedState=GZ.bind(null,ot)},useEffectEvent:function(c){var d=Cr(),h={impl:c};return d.memoizedState=h,function(){if((Et&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},Ow={readContext:yr,use:iy,useCallback:QP,useContext:yr,useEffect:mw,useImperativeHandle:ZP,useInsertionEffect:YP,useLayoutEffect:WP,useMemo:XP,useReducer:oy,useRef:HP,useState:function(){return oy(Il)},useDebugValue:_w,useDeferredValue:function(c,d){var h=Jt();return eA(h,xt.memoizedState,c,d)},useTransition:function(){var c=oy(Il)[0],d=Jt().memoizedState;return[typeof c=="boolean"?c:zp(c),d]},useSyncExternalStore:MP,useId:aA,useHostTransitionStatus:bw,useFormState:FP,useActionState:FP,useOptimistic:function(c,d){var h=Jt();return IP(h,xt,c,d)},useMemoCache:dw,useCacheRefresh:iA};Ow.useEffectEvent=kP;var cA={readContext:yr,use:iy,useCallback:QP,useContext:yr,useEffect:mw,useImperativeHandle:ZP,useInsertionEffect:YP,useLayoutEffect:WP,useMemo:XP,useReducer:hw,useRef:HP,useState:function(){return hw(Il)},useDebugValue:_w,useDeferredValue:function(c,d){var h=Jt();return xt===null?yw(h,c,d):eA(h,xt.memoizedState,c,d)},useTransition:function(){var c=hw(Il)[0],d=Jt().memoizedState;return[typeof c=="boolean"?c:zp(c),d]},useSyncExternalStore:MP,useId:aA,useHostTransitionStatus:bw,useFormState:GP,useActionState:GP,useOptimistic:function(c,d){var h=Jt();return xt!==null?IP(h,xt,c,d):(h.baseState=c,[c,h.queue.dispatch])},useMemoCache:dw,useCacheRefresh:iA};cA.useEffectEvent=kP;function Sw(c,d,h,g){d=c.memoizedState,h=h(g,d),h=h==null?d:m({},d,h),c.memoizedState=h,c.lanes===0&&(c.updateQueue.baseState=h)}var Ew={enqueueSetState:function(c,d,h){c=c._reactInternals;var g=rn(),O=_c(g);O.payload=d,h!=null&&(O.callback=h),d=yc(c,O,g),d!==null&&(Lr(d,c,g),Ap(d,c,g))},enqueueReplaceState:function(c,d,h){c=c._reactInternals;var g=rn(),O=_c(g);O.tag=1,O.payload=d,h!=null&&(O.callback=h),d=yc(c,O,g),d!==null&&(Lr(d,c,g),Ap(d,c,g))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var h=rn(),g=_c(h);g.tag=2,d!=null&&(g.callback=d),d=yc(c,g,h),d!==null&&(Lr(d,c,h),Ap(d,c,h))}};function dA(c,d,h,g,O,E,B){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(g,E,B):d.prototype&&d.prototype.isPureReactComponent?!Ep(h,g)||!Ep(O,E):!0}function fA(c,d,h,g){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(h,g),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(h,g),d.state!==c&&Ew.enqueueReplaceState(d,d.state,null)}function Ed(c,d){var h=d;if("ref"in d){h={};for(var g in d)g!=="ref"&&(h[g]=d[g])}if(c=c.defaultProps){h===d&&(h=m({},h));for(var O in c)h[O]===void 0&&(h[O]=c[O])}return h}function hA(c){$_(c)}function pA(c){console.error(c)}function gA(c){$_(c)}function cy(c,d){try{var h=c.onUncaughtError;h(d.value,{componentStack:d.stack})}catch(g){setTimeout(function(){throw g})}}function mA(c,d,h){try{var g=c.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Rw(c,d,h){return h=_c(h),h.tag=3,h.payload={element:null},h.callback=function(){cy(c,d)},h}function _A(c){return c=_c(c),c.tag=3,c}function yA(c,d,h,g){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var E=g.value;c.payload=function(){return O(E)},c.callback=function(){mA(d,h,g)}}var B=h.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(c.callback=function(){mA(d,h,g),typeof O!="function"&&(Ec===null?Ec=new Set([this]):Ec.add(this));var W=g.stack;this.componentDidCatch(g.value,{componentStack:W!==null?W:""})})}function KZ(c,d,h,g,O){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(d=h.alternate,d!==null&&lh(d,h,O,!0),h=Qr.current,h!==null){switch(h.tag){case 31:case 13:return xn===null?Oy():h.alternate===null&&Kt===0&&(Kt=3),h.flags&=-257,h.flags|=65536,h.lanes=O,g===Z_?h.flags|=16384:(d=h.updateQueue,d===null?h.updateQueue=new Set([g]):d.add(g),Jw(c,g,O)),!1;case 22:return h.flags|=65536,g===Z_?h.flags|=16384:(d=h.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=d):(h=d.retryQueue,h===null?d.retryQueue=new Set([g]):h.add(g)),Jw(c,g,O)),!1}throw Error(i(435,h.tag))}return Jw(c,g,O),Oy(),!1}if(gt)return d=Qr.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,g!==G0&&(c=Error(i(422),{cause:g}),Cp(jn(c,h)))):(g!==G0&&(d=Error(i(423),{cause:g}),Cp(jn(d,h))),c=c.current.alternate,c.flags|=65536,O&=-O,c.lanes|=O,g=jn(g,h),O=Rw(c.stateNode,g,O),tw(c,O),Kt!==4&&(Kt=2)),!1;var E=Error(i(520),{cause:g});if(E=jn(E,h),Kp===null?Kp=[E]:Kp.push(E),Kt!==4&&(Kt=2),d===null)return!0;g=jn(g,h),h=d;do{switch(h.tag){case 3:return h.flags|=65536,c=O&-O,h.lanes|=c,c=Rw(h.stateNode,g,c),tw(h,c),!1;case 1:if(d=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ec===null||!Ec.has(E))))return h.flags|=65536,O&=-O,h.lanes|=O,O=_A(O),yA(O,c,h,g),tw(h,O),!1}h=h.return}while(h!==null);return!1}var jw=Error(i(461)),er=!1;function vr(c,d,h,g){d.child=c===null?OP(d,null,h,g):Od(d,c.child,h,g)}function vA(c,d,h,g,O){h=h.render;var E=d.ref;if("ref"in g){var B={};for(var W in g)W!=="ref"&&(B[W]=g[W])}else B=g;return yd(d),g=sw(c,d,h,B,E,O),W=uw(),c!==null&&!er?(lw(c,d,O),zl(c,d,O)):(gt&&W&&F0(d),d.flags|=1,vr(c,d,g,O),d.child)}function bA(c,d,h,g,O){if(c===null){var E=h.type;return typeof E=="function"&&!U0(E)&&E.defaultProps===void 0&&h.compare===null?(d.tag=15,d.type=E,wA(c,d,E,g,O)):(c=H_(h.type,null,g,d,d.mode,O),c.ref=d.ref,c.return=d,d.child=c)}if(E=c.child,!Dw(c,O)){var B=E.memoizedProps;if(h=h.compare,h=h!==null?h:Ep,h(B,g)&&c.ref===d.ref)return zl(c,d,O)}return d.flags|=1,c=xl(E,g),c.ref=d.ref,c.return=d,d.child=c}function wA(c,d,h,g,O){if(c!==null){var E=c.memoizedProps;if(Ep(E,g)&&c.ref===d.ref)if(er=!1,d.pendingProps=g=E,Dw(c,O))(c.flags&131072)!==0&&(er=!0);else return d.lanes=c.lanes,zl(c,d,O)}return Cw(c,d,h,g,O)}function OA(c,d,h,g){var O=g.children,E=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((d.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,c!==null){for(g=d.child=c.child,O=0;g!==null;)O=O|g.lanes|g.childLanes,g=g.sibling;g=O&~E}else g=0,d.child=null;return SA(c,d,E,h,g)}if((h&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&W_(d,E!==null?E.cachePool:null),E!==null?RP(d,E):nw(),jP(d);else return g=d.lanes=536870912,SA(c,d,E!==null?E.baseLanes|h:h,h,g)}else E!==null?(W_(d,E.cachePool),RP(d,E),bc(),d.memoizedState=null):(c!==null&&W_(d,null),nw(),bc());return vr(c,d,O,h),d.child}function Up(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function SA(c,d,h,g,O){var E=Z0();return E=E===null?null:{parent:Qt._currentValue,pool:E},d.memoizedState={baseLanes:h,cachePool:E},c!==null&&W_(d,null),nw(),jP(d),c!==null&&lh(c,d,g,!0),d.childLanes=O,null}function dy(c,d){return d=hy({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function EA(c,d,h){return Od(d,c.child,null,h),c=dy(d,d.pendingProps),c.flags|=2,Xr(d),d.memoizedState=null,c}function kZ(c,d,h){var g=d.pendingProps,O=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(gt){if(g.mode==="hidden")return c=dy(d,g),d.lanes=536870912,Up(null,c);if(iw(d),(c=Bt)?(c=zN(c,Mn),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:fc!==null?{id:cl,overflow:dl}:null,retryLane:536870912,hydrationErrors:null},h=sP(c),h.return=d,d.child=h,_r=d,Bt=null)):c=null,c===null)throw pc(d);return d.lanes=536870912,null}return dy(d,g)}var E=c.memoizedState;if(E!==null){var B=E.dehydrated;if(iw(d),O)if(d.flags&256)d.flags&=-257,d=EA(c,d,h);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(i(558));else if(er||lh(c,d,h,!1),O=(h&c.childLanes)!==0,er||O){if(g=Nt,g!==null&&(B=jr(g,h),B!==0&&B!==E.retryLane))throw E.retryLane=B,pd(c,B),Lr(g,c,B),jw;Oy(),d=EA(c,d,h)}else c=E.treeContext,Bt=Pn(B.nextSibling),_r=d,gt=!0,hc=null,Mn=!1,c!==null&&cP(d,c),d=dy(d,g),d.flags|=4096;return d}return c=xl(c.child,{mode:g.mode,children:g.children}),c.ref=d.ref,d.child=c,c.return=d,c}function fy(c,d){var h=d.ref;if(h===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(c===null||c.ref!==h)&&(d.flags|=4194816)}}function Cw(c,d,h,g,O){return yd(d),h=sw(c,d,h,g,void 0,O),g=uw(),c!==null&&!er?(lw(c,d,O),zl(c,d,O)):(gt&&g&&F0(d),d.flags|=1,vr(c,d,h,O),d.child)}function RA(c,d,h,g,O,E){return yd(d),d.updateQueue=null,h=TP(d,g,h,O),CP(c),g=uw(),c!==null&&!er?(lw(c,d,E),zl(c,d,E)):(gt&&g&&F0(d),d.flags|=1,vr(c,d,h,E),d.child)}function jA(c,d,h,g,O){if(yd(d),d.stateNode===null){var E=ih,B=h.contextType;typeof B=="object"&&B!==null&&(E=yr(B)),E=new h(g,E),d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Ew,d.stateNode=E,E._reactInternals=d,E=d.stateNode,E.props=g,E.state=d.memoizedState,E.refs={},X0(d),B=h.contextType,E.context=typeof B=="object"&&B!==null?yr(B):ih,E.state=d.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(Sw(d,h,B,g),E.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(B=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),B!==E.state&&Ew.enqueueReplaceState(E,E.state,null),Dp(d,g,E,O),Np(),E.state=d.memoizedState),typeof E.componentDidMount=="function"&&(d.flags|=4194308),g=!0}else if(c===null){E=d.stateNode;var W=d.memoizedProps,se=Ed(h,W);E.props=se;var ve=E.context,je=h.contextType;B=ih,typeof je=="object"&&je!==null&&(B=yr(je));var Me=h.getDerivedStateFromProps;je=typeof Me=="function"||typeof E.getSnapshotBeforeUpdate=="function",W=d.pendingProps!==W,je||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(W||ve!==B)&&fA(d,E,g,B),mc=!1;var we=d.memoizedState;E.state=we,Dp(d,g,E,O),Np(),ve=d.memoizedState,W||we!==ve||mc?(typeof Me=="function"&&(Sw(d,h,Me,g),ve=d.memoizedState),(se=mc||dA(d,h,se,g,we,ve,B))?(je||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(d.flags|=4194308)):(typeof E.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=g,d.memoizedState=ve),E.props=g,E.state=ve,E.context=B,g=se):(typeof E.componentDidMount=="function"&&(d.flags|=4194308),g=!1)}else{E=d.stateNode,ew(c,d),B=d.memoizedProps,je=Ed(h,B),E.props=je,Me=d.pendingProps,we=E.context,ve=h.contextType,se=ih,typeof ve=="object"&&ve!==null&&(se=yr(ve)),W=h.getDerivedStateFromProps,(ve=typeof W=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(B!==Me||we!==se)&&fA(d,E,g,se),mc=!1,we=d.memoizedState,E.state=we,Dp(d,g,E,O),Np();var Se=d.memoizedState;B!==Me||we!==Se||mc||c!==null&&c.dependencies!==null&&k_(c.dependencies)?(typeof W=="function"&&(Sw(d,h,W,g),Se=d.memoizedState),(je=mc||dA(d,h,je,g,we,Se,se)||c!==null&&c.dependencies!==null&&k_(c.dependencies))?(ve||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,Se,se),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,Se,se)),typeof E.componentDidUpdate=="function"&&(d.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof E.componentDidUpdate!="function"||B===c.memoizedProps&&we===c.memoizedState||(d.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&we===c.memoizedState||(d.flags|=1024),d.memoizedProps=g,d.memoizedState=Se),E.props=g,E.state=Se,E.context=se,g=je):(typeof E.componentDidUpdate!="function"||B===c.memoizedProps&&we===c.memoizedState||(d.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&we===c.memoizedState||(d.flags|=1024),g=!1)}return E=g,fy(c,d),g=(d.flags&128)!==0,E||g?(E=d.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:E.render(),d.flags|=1,c!==null&&g?(d.child=Od(d,c.child,null,O),d.child=Od(d,null,h,O)):vr(c,d,h,O),d.memoizedState=E.state,c=d.child):c=zl(c,d,O),c}function CA(c,d,h,g){return md(),d.flags|=256,vr(c,d,h,g),d.child}var Tw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mw(c){return{baseLanes:c,cachePool:mP()}}function xw(c,d,h){return c=c!==null?c.childLanes&~h:0,d&&(c|=tn),c}function TA(c,d,h){var g=d.pendingProps,O=!1,E=(d.flags&128)!==0,B;if((B=E)||(B=c!==null&&c.memoizedState===null?!1:(Wt.current&2)!==0),B&&(O=!0,d.flags&=-129),B=(d.flags&32)!==0,d.flags&=-33,c===null){if(gt){if(O?vc(d):bc(),(c=Bt)?(c=zN(c,Mn),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:fc!==null?{id:cl,overflow:dl}:null,retryLane:536870912,hydrationErrors:null},h=sP(c),h.return=d,d.child=h,_r=d,Bt=null)):c=null,c===null)throw pc(d);return fO(c)?d.lanes=32:d.lanes=536870912,null}var W=g.children;return g=g.fallback,O?(bc(),O=d.mode,W=hy({mode:"hidden",children:W},O),g=gd(g,O,h,null),W.return=d,g.return=d,W.sibling=g,d.child=W,g=d.child,g.memoizedState=Mw(h),g.childLanes=xw(c,B,h),d.memoizedState=Tw,Up(null,g)):(vc(d),Pw(d,W))}var se=c.memoizedState;if(se!==null&&(W=se.dehydrated,W!==null)){if(E)d.flags&256?(vc(d),d.flags&=-257,d=Aw(c,d,h)):d.memoizedState!==null?(bc(),d.child=c.child,d.flags|=128,d=null):(bc(),W=g.fallback,O=d.mode,g=hy({mode:"visible",children:g.children},O),W=gd(W,O,h,null),W.flags|=2,g.return=d,W.return=d,g.sibling=W,d.child=g,Od(d,c.child,null,h),g=d.child,g.memoizedState=Mw(h),g.childLanes=xw(c,B,h),d.memoizedState=Tw,d=Up(null,g));else if(vc(d),fO(W)){if(B=W.nextSibling&&W.nextSibling.dataset,B)var ve=B.dgst;B=ve,g=Error(i(419)),g.stack="",g.digest=B,Cp({value:g,source:null,stack:null}),d=Aw(c,d,h)}else if(er||lh(c,d,h,!1),B=(h&c.childLanes)!==0,er||B){if(B=Nt,B!==null&&(g=jr(B,h),g!==0&&g!==se.retryLane))throw se.retryLane=g,pd(c,g),Lr(B,c,g),jw;dO(W)||Oy(),d=Aw(c,d,h)}else dO(W)?(d.flags|=192,d.child=c.child,d=null):(c=se.treeContext,Bt=Pn(W.nextSibling),_r=d,gt=!0,hc=null,Mn=!1,c!==null&&cP(d,c),d=Pw(d,g.children),d.flags|=4096);return d}return O?(bc(),W=g.fallback,O=d.mode,se=c.child,ve=se.sibling,g=xl(se,{mode:"hidden",children:g.children}),g.subtreeFlags=se.subtreeFlags&65011712,ve!==null?W=xl(ve,W):(W=gd(W,O,h,null),W.flags|=2),W.return=d,g.return=d,g.sibling=W,d.child=g,Up(null,g),g=d.child,W=c.child.memoizedState,W===null?W=Mw(h):(O=W.cachePool,O!==null?(se=Qt._currentValue,O=O.parent!==se?{parent:se,pool:se}:O):O=mP(),W={baseLanes:W.baseLanes|h,cachePool:O}),g.memoizedState=W,g.childLanes=xw(c,B,h),d.memoizedState=Tw,Up(c.child,g)):(vc(d),h=c.child,c=h.sibling,h=xl(h,{mode:"visible",children:g.children}),h.return=d,h.sibling=null,c!==null&&(B=d.deletions,B===null?(d.deletions=[c],d.flags|=16):B.push(c)),d.child=h,d.memoizedState=null,h)}function Pw(c,d){return d=hy({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function hy(c,d){return c=Zr(22,c,null,d),c.lanes=0,c}function Aw(c,d,h){return Od(d,c.child,null,h),c=Pw(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function MA(c,d,h){c.lanes|=d;var g=c.alternate;g!==null&&(g.lanes|=d),k0(c.return,d,h)}function Nw(c,d,h,g,O,E){var B=c.memoizedState;B===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:O,treeForkCount:E}:(B.isBackwards=d,B.rendering=null,B.renderingStartTime=0,B.last=g,B.tail=h,B.tailMode=O,B.treeForkCount=E)}function xA(c,d,h){var g=d.pendingProps,O=g.revealOrder,E=g.tail;g=g.children;var B=Wt.current,W=(B&2)!==0;if(W?(B=B&1|2,d.flags|=128):B&=1,oe(Wt,B),vr(c,d,g,h),g=gt?jp:0,!W&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&MA(c,h,d);else if(c.tag===19)MA(c,h,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(O){case"forwards":for(h=d.child,O=null;h!==null;)c=h.alternate,c!==null&&ty(c)===null&&(O=h),h=h.sibling;h=O,h===null?(O=d.child,d.child=null):(O=h.sibling,h.sibling=null),Nw(d,!1,O,h,E,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=d.child,d.child=null;O!==null;){if(c=O.alternate,c!==null&&ty(c)===null){d.child=O;break}c=O.sibling,O.sibling=h,h=O,O=c}Nw(d,!0,h,null,E,g);break;case"together":Nw(d,!1,null,null,void 0,g);break;default:d.memoizedState=null}return d.child}function zl(c,d,h){if(c!==null&&(d.dependencies=c.dependencies),Sc|=d.lanes,(h&d.childLanes)===0)if(c!==null){if(lh(c,d,h,!1),(h&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(i(153));if(d.child!==null){for(c=d.child,h=xl(c,c.pendingProps),d.child=h,h.return=d;c.sibling!==null;)c=c.sibling,h=h.sibling=xl(c,c.pendingProps),h.return=d;h.sibling=null}return d.child}function Dw(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&k_(c)))}function YZ(c,d,h){switch(d.tag){case 3:ne(d,d.stateNode.containerInfo),gc(d,Qt,c.memoizedState.cache),md();break;case 27:case 5:ue(d);break;case 4:ne(d,d.stateNode.containerInfo);break;case 10:gc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,iw(d),null;break;case 13:var g=d.memoizedState;if(g!==null)return g.dehydrated!==null?(vc(d),d.flags|=128,null):(h&d.child.childLanes)!==0?TA(c,d,h):(vc(d),c=zl(c,d,h),c!==null?c.sibling:null);vc(d);break;case 19:var O=(c.flags&128)!==0;if(g=(h&d.childLanes)!==0,g||(lh(c,d,h,!1),g=(h&d.childLanes)!==0),O){if(g)return xA(c,d,h);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),oe(Wt,Wt.current),g)break;return null;case 22:return d.lanes=0,OA(c,d,h,d.pendingProps);case 24:gc(d,Qt,c.memoizedState.cache)}return zl(c,d,h)}function PA(c,d,h){if(c!==null)if(c.memoizedProps!==d.pendingProps)er=!0;else{if(!Dw(c,h)&&(d.flags&128)===0)return er=!1,YZ(c,d,h);er=(c.flags&131072)!==0}else er=!1,gt&&(d.flags&1048576)!==0&&lP(d,jp,d.index);switch(d.lanes=0,d.tag){case 16:e:{var g=d.pendingProps;if(c=bd(d.elementType),d.type=c,typeof c=="function")U0(c)?(g=Ed(c,g),d.tag=1,d=jA(null,d,c,g,h)):(d.tag=0,d=Cw(null,d,c,g,h));else{if(c!=null){var O=c.$$typeof;if(O===P){d.tag=11,d=vA(null,d,c,g,h);break e}else if(O===D){d.tag=14,d=bA(null,d,c,g,h);break e}}throw d=k(c)||c,Error(i(306,d,""))}}return d;case 0:return Cw(c,d,d.type,d.pendingProps,h);case 1:return g=d.type,O=Ed(g,d.pendingProps),jA(c,d,g,O,h);case 3:e:{if(ne(d,d.stateNode.containerInfo),c===null)throw Error(i(387));g=d.pendingProps;var E=d.memoizedState;O=E.element,ew(c,d),Dp(d,g,null,h);var B=d.memoizedState;if(g=B.cache,gc(d,Qt,g),g!==E.cache&&Y0(d,[Qt],h,!0),Np(),g=B.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:B.cache},d.updateQueue.baseState=E,d.memoizedState=E,d.flags&256){d=CA(c,d,g,h);break e}else if(g!==O){O=jn(Error(i(424)),d),Cp(O),d=CA(c,d,g,h);break e}else for(c=d.stateNode.containerInfo,c.nodeType===9?c=c.body:c=c.nodeName==="HTML"?c.ownerDocument.body:c,Bt=Pn(c.firstChild),_r=d,gt=!0,hc=null,Mn=!0,h=OP(d,null,g,h),d.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(md(),g===O){d=zl(c,d,h);break e}vr(c,d,g,h)}d=d.child}return d;case 26:return fy(c,d),c===null?(h=FN(d.type,null,d.pendingProps,null))?d.memoizedState=h:gt||(h=d.type,c=d.pendingProps,g=My(K.current).createElement(h),g[Zt]=d,g[cr]=c,br(g,h,c),dr(g),d.stateNode=g):d.memoizedState=FN(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return ue(d),c===null&&gt&&(g=d.stateNode=UN(d.type,d.pendingProps,K.current),_r=d,Mn=!0,O=Bt,Tc(d.type)?(hO=O,Bt=Pn(g.firstChild)):Bt=O),vr(c,d,d.pendingProps.children,h),fy(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&gt&&((O=g=Bt)&&(g=EQ(g,d.type,d.pendingProps,Mn),g!==null?(d.stateNode=g,_r=d,Bt=Pn(g.firstChild),Mn=!1,O=!0):O=!1),O||pc(d)),ue(d),O=d.type,E=d.pendingProps,B=c!==null?c.memoizedProps:null,g=E.children,uO(O,E)?g=null:B!==null&&uO(O,B)&&(d.flags|=32),d.memoizedState!==null&&(O=sw(c,d,UZ,null,null,h),eg._currentValue=O),fy(c,d),vr(c,d,g,h),d.child;case 6:return c===null&&gt&&((c=h=Bt)&&(h=RQ(h,d.pendingProps,Mn),h!==null?(d.stateNode=h,_r=d,Bt=null,c=!0):c=!1),c||pc(d)),null;case 13:return TA(c,d,h);case 4:return ne(d,d.stateNode.containerInfo),g=d.pendingProps,c===null?d.child=Od(d,null,g,h):vr(c,d,g,h),d.child;case 11:return vA(c,d,d.type,d.pendingProps,h);case 7:return vr(c,d,d.pendingProps,h),d.child;case 8:return vr(c,d,d.pendingProps.children,h),d.child;case 12:return vr(c,d,d.pendingProps.children,h),d.child;case 10:return g=d.pendingProps,gc(d,d.type,g.value),vr(c,d,g.children,h),d.child;case 9:return O=d.type._context,g=d.pendingProps.children,yd(d),O=yr(O),g=g(O),d.flags|=1,vr(c,d,g,h),d.child;case 14:return bA(c,d,d.type,d.pendingProps,h);case 15:return wA(c,d,d.type,d.pendingProps,h);case 19:return xA(c,d,h);case 31:return kZ(c,d,h);case 22:return OA(c,d,h,d.pendingProps);case 24:return yd(d),g=yr(Qt),c===null?(O=Z0(),O===null&&(O=Nt,E=W0(),O.pooledCache=E,E.refCount++,E!==null&&(O.pooledCacheLanes|=h),O=E),d.memoizedState={parent:g,cache:O},X0(d),gc(d,Qt,O)):((c.lanes&h)!==0&&(ew(c,d),Dp(d,null,null,h),Np()),O=c.memoizedState,E=d.memoizedState,O.parent!==g?(O={parent:g,cache:g},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),gc(d,Qt,g)):(g=E.cache,gc(d,Qt,g),g!==O.cache&&Y0(d,[Qt],h,!0))),vr(c,d,d.pendingProps.children,h),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function ql(c){c.flags|=4}function Iw(c,d,h,g,O){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(O&335544128)===O)if(c.stateNode.complete)c.flags|=8192;else if(aN())c.flags|=8192;else throw wd=Z_,Q0}else c.flags&=-16777217}function AA(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!kN(d))if(aN())c.flags|=8192;else throw wd=Z_,Q0}function py(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?X():536870912,c.lanes|=d,wh|=d)}function Lp(c,d){if(!gt)switch(c.tailMode){case"hidden":d=c.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?c.tail=null:h.sibling=null;break;case"collapsed":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:g.sibling=null}}function Ut(c){var d=c.alternate!==null&&c.alternate.child===c.child,h=0,g=0;if(d)for(var O=c.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags&65011712,g|=O.flags&65011712,O.return=c,O=O.sibling;else for(O=c.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags,g|=O.flags,O.return=c,O=O.sibling;return c.subtreeFlags|=g,c.childLanes=h,d}function WZ(c,d,h){var g=d.pendingProps;switch(V0(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(d),null;case 1:return Ut(d),null;case 3:return h=d.stateNode,g=null,c!==null&&(g=c.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),Nl(Qt),Q(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(c===null||c.child===null)&&(uh(d)?ql(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,H0())),Ut(d),null;case 26:var O=d.type,E=d.memoizedState;return c===null?(ql(d),E!==null?(Ut(d),AA(d,E)):(Ut(d),Iw(d,O,null,g,h))):E?E!==c.memoizedState?(ql(d),Ut(d),AA(d,E)):(Ut(d),d.flags&=-16777217):(c=c.memoizedProps,c!==g&&ql(d),Ut(d),Iw(d,O,c,g,h)),null;case 27:if(ye(d),h=K.current,O=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==g&&ql(d);else{if(!g){if(d.stateNode===null)throw Error(i(166));return Ut(d),null}c=me.current,uh(d)?dP(d):(c=UN(O,g,h),d.stateNode=c,ql(d))}return Ut(d),null;case 5:if(ye(d),O=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==g&&ql(d);else{if(!g){if(d.stateNode===null)throw Error(i(166));return Ut(d),null}if(E=me.current,uh(d))dP(d);else{var B=My(K.current);switch(E){case 1:E=B.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:E=B.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":E=B.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":E=B.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":E=B.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?B.createElement("select",{is:g.is}):B.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?B.createElement(O,{is:g.is}):B.createElement(O)}}E[Zt]=d,E[cr]=g;e:for(B=d.child;B!==null;){if(B.tag===5||B.tag===6)E.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===d)break e;for(;B.sibling===null;){if(B.return===null||B.return===d)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}d.stateNode=E;e:switch(br(E,O,g),O){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&ql(d)}}return Ut(d),Iw(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,h),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==g&&ql(d);else{if(typeof g!="string"&&d.stateNode===null)throw Error(i(166));if(c=K.current,uh(d)){if(c=d.stateNode,h=d.memoizedProps,g=null,O=_r,O!==null)switch(O.tag){case 27:case 5:g=O.memoizedProps}c[Zt]=d,c=!!(c.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||TN(c.nodeValue,h)),c||pc(d,!0)}else c=My(c).createTextNode(g),c[Zt]=d,d.stateNode=c}return Ut(d),null;case 31:if(h=d.memoizedState,c===null||c.memoizedState!==null){if(g=uh(d),h!==null){if(c===null){if(!g)throw Error(i(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(557));c[Zt]=d}else md(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ut(d),c=!1}else h=H0(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=h),c=!0;if(!c)return d.flags&256?(Xr(d),d):(Xr(d),null);if((d.flags&128)!==0)throw Error(i(558))}return Ut(d),null;case 13:if(g=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(O=uh(d),g!==null&&g.dehydrated!==null){if(c===null){if(!O)throw Error(i(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(i(317));O[Zt]=d}else md(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ut(d),O=!1}else O=H0(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(Xr(d),d):(Xr(d),null)}return Xr(d),(d.flags&128)!==0?(d.lanes=h,d):(h=g!==null,c=c!==null&&c.memoizedState!==null,h&&(g=d.child,O=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(O=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==O&&(g.flags|=2048)),h!==c&&h&&(d.child.flags|=8192),py(d,d.updateQueue),Ut(d),null);case 4:return Q(),c===null&&nO(d.stateNode.containerInfo),Ut(d),null;case 10:return Nl(d.type),Ut(d),null;case 19:if(J(Wt),g=d.memoizedState,g===null)return Ut(d),null;if(O=(d.flags&128)!==0,E=g.rendering,E===null)if(O)Lp(g,!1);else{if(Kt!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(E=ty(c),E!==null){for(d.flags|=128,Lp(g,!1),c=E.updateQueue,d.updateQueue=c,py(d,c),d.subtreeFlags=0,c=h,h=d.child;h!==null;)oP(h,c),h=h.sibling;return oe(Wt,Wt.current&1|2),gt&&Pl(d,g.treeForkCount),d.child}c=c.sibling}g.tail!==null&&$e()>vy&&(d.flags|=128,O=!0,Lp(g,!1),d.lanes=4194304)}else{if(!O)if(c=ty(E),c!==null){if(d.flags|=128,O=!0,c=c.updateQueue,d.updateQueue=c,py(d,c),Lp(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!gt)return Ut(d),null}else 2*$e()-g.renderingStartTime>vy&&h!==536870912&&(d.flags|=128,O=!0,Lp(g,!1),d.lanes=4194304);g.isBackwards?(E.sibling=d.child,d.child=E):(c=g.last,c!==null?c.sibling=E:d.child=E,g.last=E)}return g.tail!==null?(c=g.tail,g.rendering=c,g.tail=c.sibling,g.renderingStartTime=$e(),c.sibling=null,h=Wt.current,oe(Wt,O?h&1|2:h&1),gt&&Pl(d,g.treeForkCount),c):(Ut(d),null);case 22:case 23:return Xr(d),aw(),g=d.memoizedState!==null,c!==null?c.memoizedState!==null!==g&&(d.flags|=8192):g&&(d.flags|=8192),g?(h&536870912)!==0&&(d.flags&128)===0&&(Ut(d),d.subtreeFlags&6&&(d.flags|=8192)):Ut(d),h=d.updateQueue,h!==null&&py(d,h.retryQueue),h=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),g=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==h&&(d.flags|=2048),c!==null&&J(vd),null;case 24:return h=null,c!==null&&(h=c.memoizedState.cache),d.memoizedState.cache!==h&&(d.flags|=2048),Nl(Qt),Ut(d),null;case 25:return null;case 30:return null}throw Error(i(156,d.tag))}function JZ(c,d){switch(V0(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Nl(Qt),Q(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return ye(d),null;case 31:if(d.memoizedState!==null){if(Xr(d),d.alternate===null)throw Error(i(340));md()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(Xr(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(i(340));md()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return J(Wt),null;case 4:return Q(),null;case 10:return Nl(d.type),null;case 22:case 23:return Xr(d),aw(),c!==null&&J(vd),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Nl(Qt),null;case 25:return null;default:return null}}function NA(c,d){switch(V0(d),d.tag){case 3:Nl(Qt),Q();break;case 26:case 27:case 5:ye(d);break;case 4:Q();break;case 31:d.memoizedState!==null&&Xr(d);break;case 13:Xr(d);break;case 19:J(Wt);break;case 10:Nl(d.type);break;case 22:case 23:Xr(d),aw(),c!==null&&J(vd);break;case 24:Nl(Qt)}}function $p(c,d){try{var h=d.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var O=g.next;h=O;do{if((h.tag&c)===c){g=void 0;var E=h.create,B=h.inst;g=E(),B.destroy=g}h=h.next}while(h!==O)}}catch(W){Tt(d,d.return,W)}}function wc(c,d,h){try{var g=d.updateQueue,O=g!==null?g.lastEffect:null;if(O!==null){var E=O.next;g=E;do{if((g.tag&c)===c){var B=g.inst,W=B.destroy;if(W!==void 0){B.destroy=void 0,O=d;var se=h,ve=W;try{ve()}catch(je){Tt(O,se,je)}}}g=g.next}while(g!==E)}}catch(je){Tt(d,d.return,je)}}function DA(c){var d=c.updateQueue;if(d!==null){var h=c.stateNode;try{EP(d,h)}catch(g){Tt(c,c.return,g)}}}function IA(c,d,h){h.props=Ed(c.type,c.memoizedProps),h.state=c.memoizedState;try{h.componentWillUnmount()}catch(g){Tt(c,d,g)}}function Fp(c,d){try{var h=c.ref;if(h!==null){switch(c.tag){case 26:case 27:case 5:var g=c.stateNode;break;case 30:g=c.stateNode;break;default:g=c.stateNode}typeof h=="function"?c.refCleanup=h(g):h.current=g}}catch(O){Tt(c,d,O)}}function fl(c,d){var h=c.ref,g=c.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(O){Tt(c,d,O)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){Tt(c,d,O)}else h.current=null}function zA(c){var d=c.type,h=c.memoizedProps,g=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(O){Tt(c,c.return,O)}}function zw(c,d,h){try{var g=c.stateNode;yQ(g,c.type,h,d),g[cr]=d}catch(O){Tt(c,c.return,O)}}function qA(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Tc(c.type)||c.tag===4}function qw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||qA(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Tc(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Bw(c,d,h){var g=c.tag;if(g===5||g===6)c=c.stateNode,d?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(c,d):(d=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,d.appendChild(c),h=h._reactRootContainer,h!=null||d.onclick!==null||(d.onclick=Tl));else if(g!==4&&(g===27&&Tc(c.type)&&(h=c.stateNode,d=null),c=c.child,c!==null))for(Bw(c,d,h),c=c.sibling;c!==null;)Bw(c,d,h),c=c.sibling}function gy(c,d,h){var g=c.tag;if(g===5||g===6)c=c.stateNode,d?h.insertBefore(c,d):h.appendChild(c);else if(g!==4&&(g===27&&Tc(c.type)&&(h=c.stateNode),c=c.child,c!==null))for(gy(c,d,h),c=c.sibling;c!==null;)gy(c,d,h),c=c.sibling}function BA(c){var d=c.stateNode,h=c.memoizedProps;try{for(var g=c.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);br(d,g,h),d[Zt]=c,d[cr]=h}catch(E){Tt(c,c.return,E)}}var Bl=!1,tr=!1,Uw=!1,UA=typeof WeakSet=="function"?WeakSet:Set,fr=null;function ZZ(c,d){if(c=c.containerInfo,oO=zy,c=Zx(c),A0(c)){if("selectionStart"in c)var h={start:c.selectionStart,end:c.selectionEnd};else e:{h=(h=c.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var O=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var B=0,W=-1,se=-1,ve=0,je=0,Me=c,we=null;t:for(;;){for(var Se;Me!==h||O!==0&&Me.nodeType!==3||(W=B+O),Me!==E||g!==0&&Me.nodeType!==3||(se=B+g),Me.nodeType===3&&(B+=Me.nodeValue.length),(Se=Me.firstChild)!==null;)we=Me,Me=Se;for(;;){if(Me===c)break t;if(we===h&&++ve===O&&(W=B),we===E&&++je===g&&(se=B),(Se=Me.nextSibling)!==null)break;Me=we,we=Me.parentNode}Me=Se}h=W===-1||se===-1?null:{start:W,end:se}}else h=null}h=h||{start:0,end:0}}else h=null;for(sO={focusedElem:c,selectionRange:h},zy=!1,fr=d;fr!==null;)if(d=fr,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,fr=c;else for(;fr!==null;){switch(d=fr,E=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(h=0;h<c.length;h++)O=c[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&E!==null){c=void 0,h=d,O=E.memoizedProps,E=E.memoizedState,g=h.stateNode;try{var Ge=Ed(h.type,O);c=g.getSnapshotBeforeUpdate(Ge,E),g.__reactInternalSnapshotBeforeUpdate=c}catch(tt){Tt(h,h.return,tt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,h=c.nodeType,h===9)cO(c);else if(h===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":cO(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=d.sibling,c!==null){c.return=d.return,fr=c;break}fr=d.return}}function LA(c,d,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Ll(c,h),g&4&&$p(5,h);break;case 1:if(Ll(c,h),g&4)if(c=h.stateNode,d===null)try{c.componentDidMount()}catch(B){Tt(h,h.return,B)}else{var O=Ed(h.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(O,d,c.__reactInternalSnapshotBeforeUpdate)}catch(B){Tt(h,h.return,B)}}g&64&&DA(h),g&512&&Fp(h,h.return);break;case 3:if(Ll(c,h),g&64&&(c=h.updateQueue,c!==null)){if(d=null,h.child!==null)switch(h.child.tag){case 27:case 5:d=h.child.stateNode;break;case 1:d=h.child.stateNode}try{EP(c,d)}catch(B){Tt(h,h.return,B)}}break;case 27:d===null&&g&4&&BA(h);case 26:case 5:Ll(c,h),d===null&&g&4&&zA(h),g&512&&Fp(h,h.return);break;case 12:Ll(c,h);break;case 31:Ll(c,h),g&4&&VA(c,h);break;case 13:Ll(c,h),g&4&&GA(c,h),g&64&&(c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(h=oQ.bind(null,h),jQ(c,h))));break;case 22:if(g=h.memoizedState!==null||Bl,!g){d=d!==null&&d.memoizedState!==null||tr,O=Bl;var E=tr;Bl=g,(tr=d)&&!E?$l(c,h,(h.subtreeFlags&8772)!==0):Ll(c,h),Bl=O,tr=E}break;case 30:break;default:Ll(c,h)}}function $A(c){var d=c.alternate;d!==null&&(c.alternate=null,$A(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&g0(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Lt=null,zr=!1;function Ul(c,d,h){for(h=h.child;h!==null;)FA(c,d,h),h=h.sibling}function FA(c,d,h){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Ce,h)}catch{}switch(h.tag){case 26:tr||fl(h,d),Ul(c,d,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:tr||fl(h,d);var g=Lt,O=zr;Tc(h.type)&&(Lt=h.stateNode,zr=!1),Ul(c,d,h),Zp(h.stateNode),Lt=g,zr=O;break;case 5:tr||fl(h,d);case 6:if(g=Lt,O=zr,Lt=null,Ul(c,d,h),Lt=g,zr=O,Lt!==null)if(zr)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(h.stateNode)}catch(E){Tt(h,d,E)}else try{Lt.removeChild(h.stateNode)}catch(E){Tt(h,d,E)}break;case 18:Lt!==null&&(zr?(c=Lt,DN(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,h.stateNode),Mh(c)):DN(Lt,h.stateNode));break;case 4:g=Lt,O=zr,Lt=h.stateNode.containerInfo,zr=!0,Ul(c,d,h),Lt=g,zr=O;break;case 0:case 11:case 14:case 15:wc(2,h,d),tr||wc(4,h,d),Ul(c,d,h);break;case 1:tr||(fl(h,d),g=h.stateNode,typeof g.componentWillUnmount=="function"&&IA(h,d,g)),Ul(c,d,h);break;case 21:Ul(c,d,h);break;case 22:tr=(g=tr)||h.memoizedState!==null,Ul(c,d,h),tr=g;break;default:Ul(c,d,h)}}function VA(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Mh(c)}catch(h){Tt(d,d.return,h)}}}function GA(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Mh(c)}catch(h){Tt(d,d.return,h)}}function QZ(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new UA),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new UA),d;default:throw Error(i(435,c.tag))}}function my(c,d){var h=QZ(c);d.forEach(function(g){if(!h.has(g)){h.add(g);var O=sQ.bind(null,c,g);g.then(O,O)}})}function qr(c,d){var h=d.deletions;if(h!==null)for(var g=0;g<h.length;g++){var O=h[g],E=c,B=d,W=B;e:for(;W!==null;){switch(W.tag){case 27:if(Tc(W.type)){Lt=W.stateNode,zr=!1;break e}break;case 5:Lt=W.stateNode,zr=!1;break e;case 3:case 4:Lt=W.stateNode.containerInfo,zr=!0;break e}W=W.return}if(Lt===null)throw Error(i(160));FA(E,B,O),Lt=null,zr=!1,E=O.alternate,E!==null&&(E.return=null),O.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)HA(d,c),d=d.sibling}var Vn=null;function HA(c,d){var h=c.alternate,g=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:qr(d,c),Br(c),g&4&&(wc(3,c,c.return),$p(3,c),wc(5,c,c.return));break;case 1:qr(d,c),Br(c),g&512&&(tr||h===null||fl(h,h.return)),g&64&&Bl&&(c=c.updateQueue,c!==null&&(g=c.callbacks,g!==null&&(h=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var O=Vn;if(qr(d,c),Br(c),g&512&&(tr||h===null||fl(h,h.return)),g&4){var E=h!==null?h.memoizedState:null;if(g=c.memoizedState,h===null)if(g===null)if(c.stateNode===null){e:{g=c.type,h=c.memoizedProps,O=O.ownerDocument||O;t:switch(g){case"title":E=O.getElementsByTagName("title")[0],(!E||E[gp]||E[Zt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=O.createElement(g),O.head.insertBefore(E,O.querySelector("head > title"))),br(E,g,h),E[Zt]=c,dr(E),g=E;break e;case"link":var B=HN("link","href",O).get(g+(h.href||""));if(B){for(var W=0;W<B.length;W++)if(E=B[W],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){B.splice(W,1);break t}}E=O.createElement(g),br(E,g,h),O.head.appendChild(E);break;case"meta":if(B=HN("meta","content",O).get(g+(h.content||""))){for(W=0;W<B.length;W++)if(E=B[W],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){B.splice(W,1);break t}}E=O.createElement(g),br(E,g,h),O.head.appendChild(E);break;default:throw Error(i(468,g))}E[Zt]=c,dr(E),g=E}c.stateNode=g}else KN(O,c.type,c.stateNode);else c.stateNode=GN(O,g,c.memoizedProps);else E!==g?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,g===null?KN(O,c.type,c.stateNode):GN(O,g,c.memoizedProps)):g===null&&c.stateNode!==null&&zw(c,c.memoizedProps,h.memoizedProps)}break;case 27:qr(d,c),Br(c),g&512&&(tr||h===null||fl(h,h.return)),h!==null&&g&4&&zw(c,c.memoizedProps,h.memoizedProps);break;case 5:if(qr(d,c),Br(c),g&512&&(tr||h===null||fl(h,h.return)),c.flags&32){O=c.stateNode;try{Qf(O,"")}catch(Ge){Tt(c,c.return,Ge)}}g&4&&c.stateNode!=null&&(O=c.memoizedProps,zw(c,O,h!==null?h.memoizedProps:O)),g&1024&&(Uw=!0);break;case 6:if(qr(d,c),Br(c),g&4){if(c.stateNode===null)throw Error(i(162));g=c.memoizedProps,h=c.stateNode;try{h.nodeValue=g}catch(Ge){Tt(c,c.return,Ge)}}break;case 3:if(Ay=null,O=Vn,Vn=xy(d.containerInfo),qr(d,c),Vn=O,Br(c),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Mh(d.containerInfo)}catch(Ge){Tt(c,c.return,Ge)}Uw&&(Uw=!1,KA(c));break;case 4:g=Vn,Vn=xy(c.stateNode.containerInfo),qr(d,c),Br(c),Vn=g;break;case 12:qr(d,c),Br(c);break;case 31:qr(d,c),Br(c),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,my(c,g)));break;case 13:qr(d,c),Br(c),c.child.flags&8192&&c.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(yy=$e()),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,my(c,g)));break;case 22:O=c.memoizedState!==null;var se=h!==null&&h.memoizedState!==null,ve=Bl,je=tr;if(Bl=ve||O,tr=je||se,qr(d,c),tr=je,Bl=ve,Br(c),g&8192)e:for(d=c.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(h===null||se||Bl||tr||Rd(c)),h=null,d=c;;){if(d.tag===5||d.tag===26){if(h===null){se=h=d;try{if(E=se.stateNode,O)B=E.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{W=se.stateNode;var Me=se.memoizedProps.style,we=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;W.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(Ge){Tt(se,se.return,Ge)}}}else if(d.tag===6){if(h===null){se=d;try{se.stateNode.nodeValue=O?"":se.memoizedProps}catch(Ge){Tt(se,se.return,Ge)}}}else if(d.tag===18){if(h===null){se=d;try{var Se=se.stateNode;O?IN(Se,!0):IN(se.stateNode,!1)}catch(Ge){Tt(se,se.return,Ge)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}g&4&&(g=c.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,my(c,h))));break;case 19:qr(d,c),Br(c),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,my(c,g)));break;case 30:break;case 21:break;default:qr(d,c),Br(c)}}function Br(c){var d=c.flags;if(d&2){try{for(var h,g=c.return;g!==null;){if(qA(g)){h=g;break}g=g.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var O=h.stateNode,E=qw(c);gy(c,E,O);break;case 5:var B=h.stateNode;h.flags&32&&(Qf(B,""),h.flags&=-33);var W=qw(c);gy(c,W,B);break;case 3:case 4:var se=h.stateNode.containerInfo,ve=qw(c);Bw(c,ve,se);break;default:throw Error(i(161))}}catch(je){Tt(c,c.return,je)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function KA(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;KA(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Ll(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)LA(c,d.alternate,d),d=d.sibling}function Rd(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:wc(4,d,d.return),Rd(d);break;case 1:fl(d,d.return);var h=d.stateNode;typeof h.componentWillUnmount=="function"&&IA(d,d.return,h),Rd(d);break;case 27:Zp(d.stateNode);case 26:case 5:fl(d,d.return),Rd(d);break;case 22:d.memoizedState===null&&Rd(d);break;case 30:Rd(d);break;default:Rd(d)}c=c.sibling}}function $l(c,d,h){for(h=h&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var g=d.alternate,O=c,E=d,B=E.flags;switch(E.tag){case 0:case 11:case 15:$l(O,E,h),$p(4,E);break;case 1:if($l(O,E,h),g=E,O=g.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(ve){Tt(g,g.return,ve)}if(g=E,O=g.updateQueue,O!==null){var W=g.stateNode;try{var se=O.shared.hiddenCallbacks;if(se!==null)for(O.shared.hiddenCallbacks=null,O=0;O<se.length;O++)SP(se[O],W)}catch(ve){Tt(g,g.return,ve)}}h&&B&64&&DA(E),Fp(E,E.return);break;case 27:BA(E);case 26:case 5:$l(O,E,h),h&&g===null&&B&4&&zA(E),Fp(E,E.return);break;case 12:$l(O,E,h);break;case 31:$l(O,E,h),h&&B&4&&VA(O,E);break;case 13:$l(O,E,h),h&&B&4&&GA(O,E);break;case 22:E.memoizedState===null&&$l(O,E,h),Fp(E,E.return);break;case 30:break;default:$l(O,E,h)}d=d.sibling}}function Lw(c,d){var h=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==h&&(c!=null&&c.refCount++,h!=null&&Tp(h))}function $w(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Tp(c))}function Gn(c,d,h,g){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)kA(c,d,h,g),d=d.sibling}function kA(c,d,h,g){var O=d.flags;switch(d.tag){case 0:case 11:case 15:Gn(c,d,h,g),O&2048&&$p(9,d);break;case 1:Gn(c,d,h,g);break;case 3:Gn(c,d,h,g),O&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Tp(c)));break;case 12:if(O&2048){Gn(c,d,h,g),c=d.stateNode;try{var E=d.memoizedProps,B=E.id,W=E.onPostCommit;typeof W=="function"&&W(B,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(se){Tt(d,d.return,se)}}else Gn(c,d,h,g);break;case 31:Gn(c,d,h,g);break;case 13:Gn(c,d,h,g);break;case 23:break;case 22:E=d.stateNode,B=d.alternate,d.memoizedState!==null?E._visibility&2?Gn(c,d,h,g):Vp(c,d):E._visibility&2?Gn(c,d,h,g):(E._visibility|=2,yh(c,d,h,g,(d.subtreeFlags&10256)!==0||!1)),O&2048&&Lw(B,d);break;case 24:Gn(c,d,h,g),O&2048&&$w(d.alternate,d);break;default:Gn(c,d,h,g)}}function yh(c,d,h,g,O){for(O=O&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var E=c,B=d,W=h,se=g,ve=B.flags;switch(B.tag){case 0:case 11:case 15:yh(E,B,W,se,O),$p(8,B);break;case 23:break;case 22:var je=B.stateNode;B.memoizedState!==null?je._visibility&2?yh(E,B,W,se,O):Vp(E,B):(je._visibility|=2,yh(E,B,W,se,O)),O&&ve&2048&&Lw(B.alternate,B);break;case 24:yh(E,B,W,se,O),O&&ve&2048&&$w(B.alternate,B);break;default:yh(E,B,W,se,O)}d=d.sibling}}function Vp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var h=c,g=d,O=g.flags;switch(g.tag){case 22:Vp(h,g),O&2048&&Lw(g.alternate,g);break;case 24:Vp(h,g),O&2048&&$w(g.alternate,g);break;default:Vp(h,g)}d=d.sibling}}var Gp=8192;function vh(c,d,h){if(c.subtreeFlags&Gp)for(c=c.child;c!==null;)YA(c,d,h),c=c.sibling}function YA(c,d,h){switch(c.tag){case 26:vh(c,d,h),c.flags&Gp&&c.memoizedState!==null&&BQ(h,Vn,c.memoizedState,c.memoizedProps);break;case 5:vh(c,d,h);break;case 3:case 4:var g=Vn;Vn=xy(c.stateNode.containerInfo),vh(c,d,h),Vn=g;break;case 22:c.memoizedState===null&&(g=c.alternate,g!==null&&g.memoizedState!==null?(g=Gp,Gp=16777216,vh(c,d,h),Gp=g):vh(c,d,h));break;default:vh(c,d,h)}}function WA(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Hp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var g=d[h];fr=g,ZA(g,c)}WA(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)JA(c),c=c.sibling}function JA(c){switch(c.tag){case 0:case 11:case 15:Hp(c),c.flags&2048&&wc(9,c,c.return);break;case 3:Hp(c);break;case 12:Hp(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,_y(c)):Hp(c);break;default:Hp(c)}}function _y(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var g=d[h];fr=g,ZA(g,c)}WA(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:wc(8,d,d.return),_y(d);break;case 22:h=d.stateNode,h._visibility&2&&(h._visibility&=-3,_y(d));break;default:_y(d)}c=c.sibling}}function ZA(c,d){for(;fr!==null;){var h=fr;switch(h.tag){case 0:case 11:case 15:wc(8,h,d);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Tp(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,fr=g;else e:for(h=c;fr!==null;){g=fr;var O=g.sibling,E=g.return;if($A(g),g===h){fr=null;break e}if(O!==null){O.return=E,fr=O;break e}fr=E}}}var XZ={getCacheForType:function(c){var d=yr(Qt),h=d.data.get(c);return h===void 0&&(h=c(),d.data.set(c,h)),h},cacheSignal:function(){return yr(Qt).controller.signal}},eQ=typeof WeakMap=="function"?WeakMap:Map,Et=0,Nt=null,dt=null,ht=0,Ct=0,en=null,Oc=!1,bh=!1,Fw=!1,Fl=0,Kt=0,Sc=0,jd=0,Vw=0,tn=0,wh=0,Kp=null,Ur=null,Gw=!1,yy=0,QA=0,vy=1/0,by=null,Ec=null,ir=0,Rc=null,Oh=null,Vl=0,Hw=0,Kw=null,XA=null,kp=0,kw=null;function rn(){return(Et&2)!==0&&ht!==0?ht&-ht:U.T!==null?Xw():pp()}function eN(){if(tn===0)if((ht&536870912)===0||gt){var c=sd;sd<<=1,(sd&3932160)===0&&(sd=262144),tn=c}else tn=536870912;return c=Qr.current,c!==null&&(c.flags|=32),tn}function Lr(c,d,h){(c===Nt&&(Ct===2||Ct===9)||c.cancelPendingCommit!==null)&&(Sh(c,0),jc(c,ht,tn,!1)),qe(c,h),((Et&2)===0||c!==Nt)&&(c===Nt&&((Et&2)===0&&(jd|=h),Kt===4&&jc(c,ht,tn,!1)),hl(c))}function tN(c,d,h){if((Et&6)!==0)throw Error(i(327));var g=!h&&(d&127)===0&&(d&c.expiredLanes)===0||Rl(c,d),O=g?nQ(c,d):Ww(c,d,!0),E=g;do{if(O===0){bh&&!g&&jc(c,d,0,!1);break}else{if(h=c.current.alternate,E&&!tQ(h)){O=Ww(c,d,!1),E=!1;continue}if(O===2){if(E=d,c.errorRecoveryDisabledLanes&E)var B=0;else B=c.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){d=B;e:{var W=c;O=Kp;var se=W.current.memoizedState.isDehydrated;if(se&&(Sh(W,B).flags|=256),B=Ww(W,B,!1),B!==2){if(Fw&&!se){W.errorRecoveryDisabledLanes|=E,jd|=E,O=4;break e}E=Ur,Ur=O,E!==null&&(Ur===null?Ur=E:Ur.push.apply(Ur,E))}O=B}if(E=!1,O!==2)continue}}if(O===1){Sh(c,0),jc(c,d,0,!0);break}e:{switch(g=c,E=O,E){case 0:case 1:throw Error(i(345));case 4:if((d&4194048)!==d)break;case 6:jc(g,d,tn,!Oc);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(i(329))}if((d&62914560)===d&&(O=yy+300-$e(),10<O)){if(jc(g,d,tn,!Oc),Hf(g,0,!0)!==0)break e;Vl=d,g.timeoutHandle=AN(rN.bind(null,g,h,Ur,by,Gw,d,tn,jd,wh,Oc,E,"Throttled",-0,0),O);break e}rN(g,h,Ur,by,Gw,d,tn,jd,wh,Oc,E,null,-0,0)}}break}while(!0);hl(c)}function rN(c,d,h,g,O,E,B,W,se,ve,je,Me,we,Se){if(c.timeoutHandle=-1,Me=d.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tl},YA(d,E,Me);var Ge=(E&62914560)===E?yy-$e():(E&4194048)===E?QA-$e():0;if(Ge=UQ(Me,Ge),Ge!==null){Vl=E,c.cancelPendingCommit=Ge(cN.bind(null,c,d,E,h,g,O,B,W,se,je,Me,null,we,Se)),jc(c,E,B,!ve);return}}cN(c,d,E,h,g,O,B,W,se)}function tQ(c){for(var d=c;;){var h=d.tag;if((h===0||h===11||h===15)&&d.flags&16384&&(h=d.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var O=h[g],E=O.getSnapshot;O=O.value;try{if(!Jr(E(),O))return!1}catch{return!1}}if(h=d.child,d.subtreeFlags&16384&&h!==null)h.return=d,d=h;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function jc(c,d,h,g){d&=~Vw,d&=~jd,c.suspendedLanes|=d,c.pingedLanes&=~d,g&&(c.warmLanes|=d),g=c.expirationTimes;for(var O=d;0<O;){var E=31-ut(O),B=1<<E;g[E]=-1,O&=~B}h!==0&&Ke(c,h,d)}function wy(){return(Et&6)===0?(Yp(0),!1):!0}function Yw(){if(dt!==null){if(Ct===0)var c=dt.return;else c=dt,Al=_d=null,cw(c),hh=null,xp=0,c=dt;for(;c!==null;)NA(c.alternate,c),c=c.return;dt=null}}function Sh(c,d){var h=c.timeoutHandle;h!==-1&&(c.timeoutHandle=-1,wQ(h)),h=c.cancelPendingCommit,h!==null&&(c.cancelPendingCommit=null,h()),Vl=0,Yw(),Nt=c,dt=h=xl(c.current,null),ht=d,Ct=0,en=null,Oc=!1,bh=Rl(c,d),Fw=!1,wh=tn=Vw=jd=Sc=Kt=0,Ur=Kp=null,Gw=!1,(d&8)!==0&&(d|=d&32);var g=c.entangledLanes;if(g!==0)for(c=c.entanglements,g&=d;0<g;){var O=31-ut(g),E=1<<O;d|=c[O],g&=~E}return Fl=d,F_(),h}function nN(c,d){ot=null,U.H=Bp,d===fh||d===J_?(d=vP(),Ct=3):d===Q0?(d=vP(),Ct=4):Ct=d===jw?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,en=d,dt===null&&(Kt=1,cy(c,jn(d,c.current)))}function aN(){var c=Qr.current;return c===null?!0:(ht&4194048)===ht?xn===null:(ht&62914560)===ht||(ht&536870912)!==0?c===xn:!1}function iN(){var c=U.H;return U.H=Bp,c===null?Bp:c}function oN(){var c=U.A;return U.A=XZ,c}function Oy(){Kt=4,Oc||(ht&4194048)!==ht&&Qr.current!==null||(bh=!0),(Sc&134217727)===0&&(jd&134217727)===0||Nt===null||jc(Nt,ht,tn,!1)}function Ww(c,d,h){var g=Et;Et|=2;var O=iN(),E=oN();(Nt!==c||ht!==d)&&(by=null,Sh(c,d)),d=!1;var B=Kt;e:do try{if(Ct!==0&&dt!==null){var W=dt,se=en;switch(Ct){case 8:Yw(),B=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(d=!0);var ve=Ct;if(Ct=0,en=null,Eh(c,W,se,ve),h&&bh){B=0;break e}break;default:ve=Ct,Ct=0,en=null,Eh(c,W,se,ve)}}rQ(),B=Kt;break}catch(je){nN(c,je)}while(!0);return d&&c.shellSuspendCounter++,Al=_d=null,Et=g,U.H=O,U.A=E,dt===null&&(Nt=null,ht=0,F_()),B}function rQ(){for(;dt!==null;)sN(dt)}function nQ(c,d){var h=Et;Et|=2;var g=iN(),O=oN();Nt!==c||ht!==d?(by=null,vy=$e()+500,Sh(c,d)):bh=Rl(c,d);e:do try{if(Ct!==0&&dt!==null){d=dt;var E=en;t:switch(Ct){case 1:Ct=0,en=null,Eh(c,d,E,1);break;case 2:case 9:if(_P(E)){Ct=0,en=null,uN(d);break}d=function(){Ct!==2&&Ct!==9||Nt!==c||(Ct=7),hl(c)},E.then(d,d);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:_P(E)?(Ct=0,en=null,uN(d)):(Ct=0,en=null,Eh(c,d,E,7));break;case 5:var B=null;switch(dt.tag){case 26:B=dt.memoizedState;case 5:case 27:var W=dt;if(B?kN(B):W.stateNode.complete){Ct=0,en=null;var se=W.sibling;if(se!==null)dt=se;else{var ve=W.return;ve!==null?(dt=ve,Sy(ve)):dt=null}break t}}Ct=0,en=null,Eh(c,d,E,5);break;case 6:Ct=0,en=null,Eh(c,d,E,6);break;case 8:Yw(),Kt=6;break e;default:throw Error(i(462))}}aQ();break}catch(je){nN(c,je)}while(!0);return Al=_d=null,U.H=g,U.A=O,Et=h,dt!==null?0:(Nt=null,ht=0,F_(),Kt)}function aQ(){for(;dt!==null&&!ge();)sN(dt)}function sN(c){var d=PA(c.alternate,c,Fl);c.memoizedProps=c.pendingProps,d===null?Sy(c):dt=d}function uN(c){var d=c,h=d.alternate;switch(d.tag){case 15:case 0:d=RA(h,d,d.pendingProps,d.type,void 0,ht);break;case 11:d=RA(h,d,d.pendingProps,d.type.render,d.ref,ht);break;case 5:cw(d);default:NA(h,d),d=dt=oP(d,Fl),d=PA(h,d,Fl)}c.memoizedProps=c.pendingProps,d===null?Sy(c):dt=d}function Eh(c,d,h,g){Al=_d=null,cw(d),hh=null,xp=0;var O=d.return;try{if(KZ(c,O,d,h,ht)){Kt=1,cy(c,jn(h,c.current)),dt=null;return}}catch(E){if(O!==null)throw dt=O,E;Kt=1,cy(c,jn(h,c.current)),dt=null;return}d.flags&32768?(gt||g===1?c=!0:bh||(ht&536870912)!==0?c=!1:(Oc=c=!0,(g===2||g===9||g===3||g===6)&&(g=Qr.current,g!==null&&g.tag===13&&(g.flags|=16384))),lN(d,c)):Sy(d)}function Sy(c){var d=c;do{if((d.flags&32768)!==0){lN(d,Oc);return}c=d.return;var h=WZ(d.alternate,d,Fl);if(h!==null){dt=h;return}if(d=d.sibling,d!==null){dt=d;return}dt=d=c}while(d!==null);Kt===0&&(Kt=5)}function lN(c,d){do{var h=JZ(c.alternate,c);if(h!==null){h.flags&=32767,dt=h;return}if(h=c.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!d&&(c=c.sibling,c!==null)){dt=c;return}dt=c=h}while(c!==null);Kt=6,dt=null}function cN(c,d,h,g,O,E,B,W,se){c.cancelPendingCommit=null;do Ey();while(ir!==0);if((Et&6)!==0)throw Error(i(327));if(d!==null){if(d===c.current)throw Error(i(177));if(E=d.lanes|d.childLanes,E|=q0,Le(c,h,E,B,W,se),c===Nt&&(dt=Nt=null,ht=0),Oh=d,Rc=c,Vl=h,Hw=E,Kw=O,XA=g,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,uQ(A,function(){return gN(),null})):(c.callbackNode=null,c.callbackPriority=0),g=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||g){g=U.T,U.T=null,O=H.p,H.p=2,B=Et,Et|=4;try{ZZ(c,d,h)}finally{Et=B,H.p=O,U.T=g}}ir=1,dN(),fN(),hN()}}function dN(){if(ir===1){ir=0;var c=Rc,d=Oh,h=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||h){h=U.T,U.T=null;var g=H.p;H.p=2;var O=Et;Et|=4;try{HA(d,c);var E=sO,B=Zx(c.containerInfo),W=E.focusedElem,se=E.selectionRange;if(B!==W&&W&&W.ownerDocument&&Jx(W.ownerDocument.documentElement,W)){if(se!==null&&A0(W)){var ve=se.start,je=se.end;if(je===void 0&&(je=ve),"selectionStart"in W)W.selectionStart=ve,W.selectionEnd=Math.min(je,W.value.length);else{var Me=W.ownerDocument||document,we=Me&&Me.defaultView||window;if(we.getSelection){var Se=we.getSelection(),Ge=W.textContent.length,tt=Math.min(se.start,Ge),At=se.end===void 0?tt:Math.min(se.end,Ge);!Se.extend&&tt>At&&(B=At,At=tt,tt=B);var pe=Wx(W,tt),de=Wx(W,At);if(pe&&de&&(Se.rangeCount!==1||Se.anchorNode!==pe.node||Se.anchorOffset!==pe.offset||Se.focusNode!==de.node||Se.focusOffset!==de.offset)){var _e=Me.createRange();_e.setStart(pe.node,pe.offset),Se.removeAllRanges(),tt>At?(Se.addRange(_e),Se.extend(de.node,de.offset)):(_e.setEnd(de.node,de.offset),Se.addRange(_e))}}}}for(Me=[],Se=W;Se=Se.parentNode;)Se.nodeType===1&&Me.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Me.length;W++){var Te=Me[W];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}zy=!!oO,sO=oO=null}finally{Et=O,H.p=g,U.T=h}}c.current=d,ir=2}}function fN(){if(ir===2){ir=0;var c=Rc,d=Oh,h=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||h){h=U.T,U.T=null;var g=H.p;H.p=2;var O=Et;Et|=4;try{LA(c,d.alternate,d)}finally{Et=O,H.p=g,U.T=h}}ir=3}}function hN(){if(ir===4||ir===3){ir=0,Ie();var c=Rc,d=Oh,h=Vl,g=XA;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ir=5:(ir=0,Oh=Rc=null,pN(c,c.pendingLanes));var O=c.pendingLanes;if(O===0&&(Ec=null),Ln(h),d=d.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Ce,d,void 0,(d.current.flags&128)===128)}catch{}if(g!==null){d=U.T,O=H.p,H.p=2,U.T=null;try{for(var E=c.onRecoverableError,B=0;B<g.length;B++){var W=g[B];E(W.value,{componentStack:W.stack})}}finally{U.T=d,H.p=O}}(Vl&3)!==0&&Ey(),hl(c),O=c.pendingLanes,(h&261930)!==0&&(O&42)!==0?c===kw?kp++:(kp=0,kw=c):kp=0,Yp(0)}}function pN(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Tp(d)))}function Ey(){return dN(),fN(),hN(),gN()}function gN(){if(ir!==5)return!1;var c=Rc,d=Hw;Hw=0;var h=Ln(Vl),g=U.T,O=H.p;try{H.p=32>h?32:h,U.T=null,h=Kw,Kw=null;var E=Rc,B=Vl;if(ir=0,Oh=Rc=null,Vl=0,(Et&6)!==0)throw Error(i(331));var W=Et;if(Et|=4,JA(E.current),kA(E,E.current,B,h),Et=W,Yp(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Ce,E)}catch{}return!0}finally{H.p=O,U.T=g,pN(c,d)}}function mN(c,d,h){d=jn(h,d),d=Rw(c.stateNode,d,2),c=yc(c,d,2),c!==null&&(qe(c,2),hl(c))}function Tt(c,d,h){if(c.tag===3)mN(c,c,h);else for(;d!==null;){if(d.tag===3){mN(d,c,h);break}else if(d.tag===1){var g=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ec===null||!Ec.has(g))){c=jn(h,c),h=_A(2),g=yc(d,h,2),g!==null&&(yA(h,g,d,c),qe(g,2),hl(g));break}}d=d.return}}function Jw(c,d,h){var g=c.pingCache;if(g===null){g=c.pingCache=new eQ;var O=new Set;g.set(d,O)}else O=g.get(d),O===void 0&&(O=new Set,g.set(d,O));O.has(h)||(Fw=!0,O.add(h),c=iQ.bind(null,c,d,h),d.then(c,c))}function iQ(c,d,h){var g=c.pingCache;g!==null&&g.delete(d),c.pingedLanes|=c.suspendedLanes&h,c.warmLanes&=~h,Nt===c&&(ht&h)===h&&(Kt===4||Kt===3&&(ht&62914560)===ht&&300>$e()-yy?(Et&2)===0&&Sh(c,0):Vw|=h,wh===ht&&(wh=0)),hl(c)}function _N(c,d){d===0&&(d=X()),c=pd(c,d),c!==null&&(qe(c,d),hl(c))}function oQ(c){var d=c.memoizedState,h=0;d!==null&&(h=d.retryLane),_N(c,h)}function sQ(c,d){var h=0;switch(c.tag){case 31:case 13:var g=c.stateNode,O=c.memoizedState;O!==null&&(h=O.retryLane);break;case 19:g=c.stateNode;break;case 22:g=c.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(d),_N(c,h)}function uQ(c,d){return he(c,d)}var Ry=null,Rh=null,Zw=!1,jy=!1,Qw=!1,Cc=0;function hl(c){c!==Rh&&c.next===null&&(Rh===null?Ry=Rh=c:Rh=Rh.next=c),jy=!0,Zw||(Zw=!0,cQ())}function Yp(c,d){if(!Qw&&jy){Qw=!0;do for(var h=!1,g=Ry;g!==null;){if(c!==0){var O=g.pendingLanes;if(O===0)var E=0;else{var B=g.suspendedLanes,W=g.pingedLanes;E=(1<<31-ut(42|c)+1)-1,E&=O&~(B&~W),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,wN(g,E))}else E=ht,E=Hf(g,g===Nt?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||Rl(g,E)||(h=!0,wN(g,E));g=g.next}while(h);Qw=!1}}function lQ(){yN()}function yN(){jy=Zw=!1;var c=0;Cc!==0&&bQ()&&(c=Cc);for(var d=$e(),h=null,g=Ry;g!==null;){var O=g.next,E=vN(g,d);E===0?(g.next=null,h===null?Ry=O:h.next=O,O===null&&(Rh=h)):(h=g,(c!==0||(E&3)!==0)&&(jy=!0)),g=O}ir!==0&&ir!==5||Yp(c),Cc!==0&&(Cc=0)}function vN(c,d){for(var h=c.suspendedLanes,g=c.pingedLanes,O=c.expirationTimes,E=c.pendingLanes&-62914561;0<E;){var B=31-ut(E),W=1<<B,se=O[B];se===-1?((W&h)===0||(W&g)!==0)&&(O[B]=M_(W,d)):se<=d&&(c.expiredLanes|=W),E&=~W}if(d=Nt,h=ht,h=Hf(c,c===d?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),g=c.callbackNode,h===0||c===d&&(Ct===2||Ct===9)||c.cancelPendingCommit!==null)return g!==null&&g!==null&&Ne(g),c.callbackNode=null,c.callbackPriority=0;if((h&3)===0||Rl(c,h)){if(d=h&-h,d===c.callbackPriority)return d;switch(g!==null&&Ne(g),Ln(h)){case 2:case 8:h=F;break;case 32:h=A;break;case 268435456:h=te;break;default:h=A}return g=bN.bind(null,c),h=he(h,g),c.callbackPriority=d,c.callbackNode=h,d}return g!==null&&g!==null&&Ne(g),c.callbackPriority=2,c.callbackNode=null,2}function bN(c,d){if(ir!==0&&ir!==5)return c.callbackNode=null,c.callbackPriority=0,null;var h=c.callbackNode;if(Ey()&&c.callbackNode!==h)return null;var g=ht;return g=Hf(c,c===Nt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),g===0?null:(tN(c,g,d),vN(c,$e()),c.callbackNode!=null&&c.callbackNode===h?bN.bind(null,c):null)}function wN(c,d){if(Ey())return null;tN(c,d,!0)}function cQ(){OQ(function(){(Et&6)!==0?he(ze,lQ):yN()})}function Xw(){if(Cc===0){var c=ch;c===0&&(c=Gf,Gf<<=1,(Gf&261888)===0&&(Gf=256)),Cc=c}return Cc}function ON(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:D_(""+c)}function SN(c,d){var h=d.ownerDocument.createElement("input");return h.name=d.name,h.value=d.value,c.id&&h.setAttribute("form",c.id),d.parentNode.insertBefore(h,d),c=new FormData(c),h.parentNode.removeChild(h),c}function dQ(c,d,h,g,O){if(d==="submit"&&h&&h.stateNode===O){var E=ON((O[cr]||null).action),B=g.submitter;B&&(d=(d=B[cr]||null)?ON(d.formAction):B.getAttribute("formAction"),d!==null&&(E=d,B=null));var W=new B_("action","action",null,g,O);c.push({event:W,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Cc!==0){var se=B?SN(O,B):new FormData(O);vw(h,{pending:!0,data:se,method:O.method,action:E},null,se)}}else typeof E=="function"&&(W.preventDefault(),se=B?SN(O,B):new FormData(O),vw(h,{pending:!0,data:se,method:O.method,action:E},E,se))},currentTarget:O}]})}}for(var eO=0;eO<z0.length;eO++){var tO=z0[eO],fQ=tO.toLowerCase(),hQ=tO[0].toUpperCase()+tO.slice(1);Fn(fQ,"on"+hQ)}Fn(eP,"onAnimationEnd"),Fn(tP,"onAnimationIteration"),Fn(rP,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(MZ,"onTransitionRun"),Fn(xZ,"onTransitionStart"),Fn(PZ,"onTransitionCancel"),Fn(nP,"onTransitionEnd"),Jf("onMouseEnter",["mouseout","mouseover"]),Jf("onMouseLeave",["mouseout","mouseover"]),Jf("onPointerEnter",["pointerout","pointerover"]),Jf("onPointerLeave",["pointerout","pointerover"]),cd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cd("onBeforeInput",["compositionend","keypress","textInput","paste"]),cd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wp));function EN(c,d){d=(d&4)!==0;for(var h=0;h<c.length;h++){var g=c[h],O=g.event;g=g.listeners;e:{var E=void 0;if(d)for(var B=g.length-1;0<=B;B--){var W=g[B],se=W.instance,ve=W.currentTarget;if(W=W.listener,se!==E&&O.isPropagationStopped())break e;E=W,O.currentTarget=ve;try{E(O)}catch(je){$_(je)}O.currentTarget=null,E=se}else for(B=0;B<g.length;B++){if(W=g[B],se=W.instance,ve=W.currentTarget,W=W.listener,se!==E&&O.isPropagationStopped())break e;E=W,O.currentTarget=ve;try{E(O)}catch(je){$_(je)}O.currentTarget=null,E=se}}}}function ft(c,d){var h=d[ud];h===void 0&&(h=d[ud]=new Set);var g=c+"__bubble";h.has(g)||(RN(d,c,2,!1),h.add(g))}function rO(c,d,h){var g=0;d&&(g|=4),RN(h,c,g,d)}var Cy="_reactListening"+Math.random().toString(36).slice(2);function nO(c){if(!c[Cy]){c[Cy]=!0,yx.forEach(function(h){h!=="selectionchange"&&(pQ.has(h)||rO(h,!1,c),rO(h,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Cy]||(d[Cy]=!0,rO("selectionchange",!1,d))}}function RN(c,d,h,g){switch(eD(d)){case 2:var O=FQ;break;case 8:O=VQ;break;default:O=yO}h=O.bind(null,d,h,c),O=void 0,!S0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),g?O!==void 0?c.addEventListener(d,h,{capture:!0,passive:O}):c.addEventListener(d,h,!0):O!==void 0?c.addEventListener(d,h,{passive:O}):c.addEventListener(d,h,!1)}function aO(c,d,h,g,O){var E=g;if((d&1)===0&&(d&2)===0&&g!==null)e:for(;;){if(g===null)return;var B=g.tag;if(B===3||B===4){var W=g.stateNode.containerInfo;if(W===O)break;if(B===4)for(B=g.return;B!==null;){var se=B.tag;if((se===3||se===4)&&B.stateNode.containerInfo===O)return;B=B.return}for(;W!==null;){if(B=kf(W),B===null)return;if(se=B.tag,se===5||se===6||se===26||se===27){g=E=B;continue e}W=W.parentNode}}g=g.return}xx(function(){var ve=E,je=w0(h),Me=[];e:{var we=aP.get(c);if(we!==void 0){var Se=B_,Ge=c;switch(c){case"keypress":if(z_(h)===0)break e;case"keydown":case"keyup":Se=sZ;break;case"focusin":Ge="focus",Se=C0;break;case"focusout":Ge="blur",Se=C0;break;case"beforeblur":case"afterblur":Se=C0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=WJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=cZ;break;case eP:case tP:case rP:Se=QJ;break;case nP:Se=fZ;break;case"scroll":case"scrollend":Se=kJ;break;case"wheel":Se=pZ;break;case"copy":case"cut":case"paste":Se=eZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Ix;break;case"toggle":case"beforetoggle":Se=mZ}var tt=(d&4)!==0,At=!tt&&(c==="scroll"||c==="scrollend"),pe=tt?we!==null?we+"Capture":null:we;tt=[];for(var de=ve,_e;de!==null;){var Te=de;if(_e=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||_e===null||pe===null||(Te=_p(de,pe),Te!=null&&tt.push(Jp(de,Te,_e))),At)break;de=de.return}0<tt.length&&(we=new Se(we,Ge,null,h,je),Me.push({event:we,listeners:tt}))}}if((d&7)===0){e:{if(we=c==="mouseover"||c==="pointerover",Se=c==="mouseout"||c==="pointerout",we&&h!==b0&&(Ge=h.relatedTarget||h.fromElement)&&(kf(Ge)||Ge[ll]))break e;if((Se||we)&&(we=je.window===je?je:(we=je.ownerDocument)?we.defaultView||we.parentWindow:window,Se?(Ge=h.relatedTarget||h.toElement,Se=ve,Ge=Ge?kf(Ge):null,Ge!==null&&(At=t(Ge),tt=Ge.tag,Ge!==At||tt!==5&&tt!==27&&tt!==6)&&(Ge=null)):(Se=null,Ge=ve),Se!==Ge)){if(tt=Nx,Te="onMouseLeave",pe="onMouseEnter",de="mouse",(c==="pointerout"||c==="pointerover")&&(tt=Ix,Te="onPointerLeave",pe="onPointerEnter",de="pointer"),At=Se==null?we:mp(Se),_e=Ge==null?we:mp(Ge),we=new tt(Te,de+"leave",Se,h,je),we.target=At,we.relatedTarget=_e,Te=null,kf(je)===ve&&(tt=new tt(pe,de+"enter",Ge,h,je),tt.target=_e,tt.relatedTarget=At,Te=tt),At=Te,Se&&Ge)t:{for(tt=gQ,pe=Se,de=Ge,_e=0,Te=pe;Te;Te=tt(Te))_e++;Te=0;for(var Qe=de;Qe;Qe=tt(Qe))Te++;for(;0<_e-Te;)pe=tt(pe),_e--;for(;0<Te-_e;)de=tt(de),Te--;for(;_e--;){if(pe===de||de!==null&&pe===de.alternate){tt=pe;break t}pe=tt(pe),de=tt(de)}tt=null}else tt=null;Se!==null&&jN(Me,we,Se,tt,!1),Ge!==null&&At!==null&&jN(Me,At,Ge,tt,!0)}}e:{if(we=ve?mp(ve):window,Se=we.nodeName&&we.nodeName.toLowerCase(),Se==="select"||Se==="input"&&we.type==="file")var bt=Vx;else if($x(we))if(Gx)bt=jZ;else{bt=EZ;var Ye=SZ}else Se=we.nodeName,!Se||Se.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ve&&v0(ve.elementType)&&(bt=Vx):bt=RZ;if(bt&&(bt=bt(c,ve))){Fx(Me,bt,h,je);break e}Ye&&Ye(c,we,ve),c==="focusout"&&ve&&we.type==="number"&&ve.memoizedProps.value!=null&&y0(we,"number",we.value)}switch(Ye=ve?mp(ve):window,c){case"focusin":($x(Ye)||Ye.contentEditable==="true")&&(rh=Ye,N0=ve,Rp=null);break;case"focusout":Rp=N0=rh=null;break;case"mousedown":D0=!0;break;case"contextmenu":case"mouseup":case"dragend":D0=!1,Qx(Me,h,je);break;case"selectionchange":if(TZ)break;case"keydown":case"keyup":Qx(Me,h,je)}var st;if(M0)e:{switch(c){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else th?Ux(c,h)&&(pt="onCompositionEnd"):c==="keydown"&&h.keyCode===229&&(pt="onCompositionStart");pt&&(zx&&h.locale!=="ko"&&(th||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&th&&(st=Px()):(dc=je,E0="value"in dc?dc.value:dc.textContent,th=!0)),Ye=Ty(ve,pt),0<Ye.length&&(pt=new Dx(pt,c,null,h,je),Me.push({event:pt,listeners:Ye}),st?pt.data=st:(st=Lx(h),st!==null&&(pt.data=st)))),(st=yZ?vZ(c,h):bZ(c,h))&&(pt=Ty(ve,"onBeforeInput"),0<pt.length&&(Ye=new Dx("onBeforeInput","beforeinput",null,h,je),Me.push({event:Ye,listeners:pt}),Ye.data=st)),dQ(Me,c,ve,h,je)}EN(Me,d)})}function Jp(c,d,h){return{instance:c,listener:d,currentTarget:h}}function Ty(c,d){for(var h=d+"Capture",g=[];c!==null;){var O=c,E=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||E===null||(O=_p(c,h),O!=null&&g.unshift(Jp(c,O,E)),O=_p(c,d),O!=null&&g.push(Jp(c,O,E))),c.tag===3)return g;c=c.return}return[]}function gQ(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function jN(c,d,h,g,O){for(var E=d._reactName,B=[];h!==null&&h!==g;){var W=h,se=W.alternate,ve=W.stateNode;if(W=W.tag,se!==null&&se===g)break;W!==5&&W!==26&&W!==27||ve===null||(se=ve,O?(ve=_p(h,E),ve!=null&&B.unshift(Jp(h,ve,se))):O||(ve=_p(h,E),ve!=null&&B.push(Jp(h,ve,se)))),h=h.return}B.length!==0&&c.push({event:d,listeners:B})}var mQ=/\r\n?/g,_Q=/\u0000|\uFFFD/g;function CN(c){return(typeof c=="string"?c:""+c).replace(mQ,`
`).replace(_Q,"")}function TN(c,d){return d=CN(d),CN(c)===d}function Pt(c,d,h,g,O,E){switch(h){case"children":typeof g=="string"?d==="body"||d==="textarea"&&g===""||Qf(c,g):(typeof g=="number"||typeof g=="bigint")&&d!=="body"&&Qf(c,""+g);break;case"className":A_(c,"class",g);break;case"tabIndex":A_(c,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":A_(c,h,g);break;case"style":Tx(c,g,E);break;case"data":if(d!=="object"){A_(c,"data",g);break}case"src":case"href":if(g===""&&(d!=="a"||h!=="href")){c.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){c.removeAttribute(h);break}g=D_(""+g),c.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){c.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(d!=="input"&&Pt(c,d,"name",O.name,O,null),Pt(c,d,"formEncType",O.formEncType,O,null),Pt(c,d,"formMethod",O.formMethod,O,null),Pt(c,d,"formTarget",O.formTarget,O,null)):(Pt(c,d,"encType",O.encType,O,null),Pt(c,d,"method",O.method,O,null),Pt(c,d,"target",O.target,O,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){c.removeAttribute(h);break}g=D_(""+g),c.setAttribute(h,g);break;case"onClick":g!=null&&(c.onclick=Tl);break;case"onScroll":g!=null&&ft("scroll",c);break;case"onScrollEnd":g!=null&&ft("scrollend",c);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(i(60));c.innerHTML=h}}break;case"multiple":c.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":c.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){c.removeAttribute("xlink:href");break}h=D_(""+g),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(h,""+g):c.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(h,""):c.removeAttribute(h);break;case"capture":case"download":g===!0?c.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(h,g):c.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?c.setAttribute(h,g):c.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?c.removeAttribute(h):c.setAttribute(h,g);break;case"popover":ft("beforetoggle",c),ft("toggle",c),P_(c,"popover",g);break;case"xlinkActuate":Cl(c,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Cl(c,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Cl(c,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Cl(c,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Cl(c,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Cl(c,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Cl(c,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Cl(c,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Cl(c,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":P_(c,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=HJ.get(h)||h,P_(c,h,g))}}function iO(c,d,h,g,O,E){switch(h){case"style":Tx(c,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(i(60));c.innerHTML=h}}break;case"children":typeof g=="string"?Qf(c,g):(typeof g=="number"||typeof g=="bigint")&&Qf(c,""+g);break;case"onScroll":g!=null&&ft("scroll",c);break;case"onScrollEnd":g!=null&&ft("scrollend",c);break;case"onClick":g!=null&&(c.onclick=Tl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vx.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),d=h.slice(2,O?h.length-7:void 0),E=c[cr]||null,E=E!=null?E[h]:null,typeof E=="function"&&c.removeEventListener(d,E,O),typeof g=="function")){typeof E!="function"&&E!==null&&(h in c?c[h]=null:c.hasAttribute(h)&&c.removeAttribute(h)),c.addEventListener(d,g,O);break e}h in c?c[h]=g:g===!0?c.setAttribute(h,""):P_(c,h,g)}}}function br(c,d,h){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",c),ft("load",c);var g=!1,O=!1,E;for(E in h)if(h.hasOwnProperty(E)){var B=h[E];if(B!=null)switch(E){case"src":g=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:Pt(c,d,E,B,h,null)}}O&&Pt(c,d,"srcSet",h.srcSet,h,null),g&&Pt(c,d,"src",h.src,h,null);return;case"input":ft("invalid",c);var W=E=B=O=null,se=null,ve=null;for(g in h)if(h.hasOwnProperty(g)){var je=h[g];if(je!=null)switch(g){case"name":O=je;break;case"type":B=je;break;case"checked":se=je;break;case"defaultChecked":ve=je;break;case"value":E=je;break;case"defaultValue":W=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,d));break;default:Pt(c,d,g,je,h,null)}}Ex(c,E,W,se,ve,B,O,!1);return;case"select":ft("invalid",c),g=B=E=null;for(O in h)if(h.hasOwnProperty(O)&&(W=h[O],W!=null))switch(O){case"value":E=W;break;case"defaultValue":B=W;break;case"multiple":g=W;default:Pt(c,d,O,W,h,null)}d=E,h=B,c.multiple=!!g,d!=null?Zf(c,!!g,d,!1):h!=null&&Zf(c,!!g,h,!0);return;case"textarea":ft("invalid",c),E=O=g=null;for(B in h)if(h.hasOwnProperty(B)&&(W=h[B],W!=null))switch(B){case"value":g=W;break;case"defaultValue":O=W;break;case"children":E=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:Pt(c,d,B,W,h,null)}jx(c,g,O,E);return;case"option":for(se in h)h.hasOwnProperty(se)&&(g=h[se],g!=null)&&(se==="selected"?c.selected=g&&typeof g!="function"&&typeof g!="symbol":Pt(c,d,se,g,h,null));return;case"dialog":ft("beforetoggle",c),ft("toggle",c),ft("cancel",c),ft("close",c);break;case"iframe":case"object":ft("load",c);break;case"video":case"audio":for(g=0;g<Wp.length;g++)ft(Wp[g],c);break;case"image":ft("error",c),ft("load",c);break;case"details":ft("toggle",c);break;case"embed":case"source":case"link":ft("error",c),ft("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in h)if(h.hasOwnProperty(ve)&&(g=h[ve],g!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:Pt(c,d,ve,g,h,null)}return;default:if(v0(d)){for(je in h)h.hasOwnProperty(je)&&(g=h[je],g!==void 0&&iO(c,d,je,g,h,void 0));return}}for(W in h)h.hasOwnProperty(W)&&(g=h[W],g!=null&&Pt(c,d,W,g,h,null))}function yQ(c,d,h,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,E=null,B=null,W=null,se=null,ve=null,je=null;for(Se in h){var Me=h[Se];if(h.hasOwnProperty(Se)&&Me!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":se=Me;default:g.hasOwnProperty(Se)||Pt(c,d,Se,null,g,Me)}}for(var we in g){var Se=g[we];if(Me=h[we],g.hasOwnProperty(we)&&(Se!=null||Me!=null))switch(we){case"type":E=Se;break;case"name":O=Se;break;case"checked":ve=Se;break;case"defaultChecked":je=Se;break;case"value":B=Se;break;case"defaultValue":W=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,d));break;default:Se!==Me&&Pt(c,d,we,Se,g,Me)}}_0(c,B,W,se,ve,je,E,O);return;case"select":Se=B=W=we=null;for(E in h)if(se=h[E],h.hasOwnProperty(E)&&se!=null)switch(E){case"value":break;case"multiple":Se=se;default:g.hasOwnProperty(E)||Pt(c,d,E,null,g,se)}for(O in g)if(E=g[O],se=h[O],g.hasOwnProperty(O)&&(E!=null||se!=null))switch(O){case"value":we=E;break;case"defaultValue":W=E;break;case"multiple":B=E;default:E!==se&&Pt(c,d,O,E,g,se)}d=W,h=B,g=Se,we!=null?Zf(c,!!h,we,!1):!!g!=!!h&&(d!=null?Zf(c,!!h,d,!0):Zf(c,!!h,h?[]:"",!1));return;case"textarea":Se=we=null;for(W in h)if(O=h[W],h.hasOwnProperty(W)&&O!=null&&!g.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Pt(c,d,W,null,g,O)}for(B in g)if(O=g[B],E=h[B],g.hasOwnProperty(B)&&(O!=null||E!=null))switch(B){case"value":we=O;break;case"defaultValue":Se=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:O!==E&&Pt(c,d,B,O,g,E)}Rx(c,we,Se);return;case"option":for(var Ge in h)we=h[Ge],h.hasOwnProperty(Ge)&&we!=null&&!g.hasOwnProperty(Ge)&&(Ge==="selected"?c.selected=!1:Pt(c,d,Ge,null,g,we));for(se in g)we=g[se],Se=h[se],g.hasOwnProperty(se)&&we!==Se&&(we!=null||Se!=null)&&(se==="selected"?c.selected=we&&typeof we!="function"&&typeof we!="symbol":Pt(c,d,se,we,g,Se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in h)we=h[tt],h.hasOwnProperty(tt)&&we!=null&&!g.hasOwnProperty(tt)&&Pt(c,d,tt,null,g,we);for(ve in g)if(we=g[ve],Se=h[ve],g.hasOwnProperty(ve)&&we!==Se&&(we!=null||Se!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,d));break;default:Pt(c,d,ve,we,g,Se)}return;default:if(v0(d)){for(var At in h)we=h[At],h.hasOwnProperty(At)&&we!==void 0&&!g.hasOwnProperty(At)&&iO(c,d,At,void 0,g,we);for(je in g)we=g[je],Se=h[je],!g.hasOwnProperty(je)||we===Se||we===void 0&&Se===void 0||iO(c,d,je,we,g,Se);return}}for(var pe in h)we=h[pe],h.hasOwnProperty(pe)&&we!=null&&!g.hasOwnProperty(pe)&&Pt(c,d,pe,null,g,we);for(Me in g)we=g[Me],Se=h[Me],!g.hasOwnProperty(Me)||we===Se||we==null&&Se==null||Pt(c,d,Me,we,g,Se)}function MN(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vQ(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var O=h[g],E=O.transferSize,B=O.initiatorType,W=O.duration;if(E&&W&&MN(B)){for(B=0,W=O.responseEnd,g+=1;g<h.length;g++){var se=h[g],ve=se.startTime;if(ve>W)break;var je=se.transferSize,Me=se.initiatorType;je&&MN(Me)&&(se=se.responseEnd,B+=je*(se<W?1:(W-ve)/(se-ve)))}if(--g,d+=8*(E+B)/(O.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var oO=null,sO=null;function My(c){return c.nodeType===9?c:c.ownerDocument}function xN(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PN(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function uO(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var lO=null;function bQ(){var c=window.event;return c&&c.type==="popstate"?c===lO?!1:(lO=c,!0):(lO=null,!1)}var AN=typeof setTimeout=="function"?setTimeout:void 0,wQ=typeof clearTimeout=="function"?clearTimeout:void 0,NN=typeof Promise=="function"?Promise:void 0,OQ=typeof queueMicrotask=="function"?queueMicrotask:typeof NN<"u"?function(c){return NN.resolve(null).then(c).catch(SQ)}:AN;function SQ(c){setTimeout(function(){throw c})}function Tc(c){return c==="head"}function DN(c,d){var h=d,g=0;do{var O=h.nextSibling;if(c.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(g===0){c.removeChild(O),Mh(d);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Zp(c.ownerDocument.documentElement);else if(h==="head"){h=c.ownerDocument.head,Zp(h);for(var E=h.firstChild;E;){var B=E.nextSibling,W=E.nodeName;E[gp]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=B}}else h==="body"&&Zp(c.ownerDocument.body);h=O}while(h);Mh(d)}function IN(c,d){var h=c;c=0;do{var g=h.nextSibling;if(h.nodeType===1?d?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(d?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(c===0)break;c--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||c++;h=g}while(h)}function cO(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var h=d;switch(d=d.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":cO(h),g0(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}c.removeChild(h)}}function EQ(c,d,h,g){for(;c.nodeType===1;){var O=h;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!g&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(g){if(!c[gp])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(E=c.getAttribute("rel"),E==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(E!==O.rel||c.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||c.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||c.getAttribute("title")!==(O.title==null?null:O.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(E=c.getAttribute("src"),(E!==(O.src==null?null:O.src)||c.getAttribute("type")!==(O.type==null?null:O.type)||c.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&E&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var E=O.name==null?null:""+O.name;if(O.type==="hidden"&&c.getAttribute("name")===E)return c}else return c;if(c=Pn(c.nextSibling),c===null)break}return null}function RQ(c,d,h){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=Pn(c.nextSibling),c===null))return null;return c}function zN(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=Pn(c.nextSibling),c===null))return null;return c}function dO(c){return c.data==="$?"||c.data==="$~"}function fO(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function jQ(c,d){var h=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||h.readyState!=="loading")d();else{var g=function(){d(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),c._reactRetry=g}}function Pn(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var hO=null;function qN(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var h=c.data;if(h==="/$"||h==="/&"){if(d===0)return Pn(c.nextSibling);d--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||d++}c=c.nextSibling}return null}function BN(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var h=c.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(d===0)return c;d--}else h!=="/$"&&h!=="/&"||d++}c=c.previousSibling}return null}function UN(c,d,h){switch(d=My(h),c){case"html":if(c=d.documentElement,!c)throw Error(i(452));return c;case"head":if(c=d.head,!c)throw Error(i(453));return c;case"body":if(c=d.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function Zp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);g0(c)}var An=new Map,LN=new Set;function xy(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Gl=H.d;H.d={f:CQ,r:TQ,D:MQ,C:xQ,L:PQ,m:AQ,X:DQ,S:NQ,M:IQ};function CQ(){var c=Gl.f(),d=wy();return c||d}function TQ(c){var d=Yf(c);d!==null&&d.tag===5&&d.type==="form"?nA(d):Gl.r(c)}var jh=typeof document>"u"?null:document;function $N(c,d,h){var g=jh;if(g&&typeof d=="string"&&d){var O=En(d);O='link[rel="'+c+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),LN.has(O)||(LN.add(O),c={rel:c,crossOrigin:h,href:d},g.querySelector(O)===null&&(d=g.createElement("link"),br(d,"link",c),dr(d),g.head.appendChild(d)))}}function MQ(c){Gl.D(c),$N("dns-prefetch",c,null)}function xQ(c,d){Gl.C(c,d),$N("preconnect",c,d)}function PQ(c,d,h){Gl.L(c,d,h);var g=jh;if(g&&c&&d){var O='link[rel="preload"][as="'+En(d)+'"]';d==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+En(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+En(h.imageSizes)+'"]')):O+='[href="'+En(c)+'"]';var E=O;switch(d){case"style":E=Ch(c);break;case"script":E=Th(c)}An.has(E)||(c=m({rel:"preload",href:d==="image"&&h&&h.imageSrcSet?void 0:c,as:d},h),An.set(E,c),g.querySelector(O)!==null||d==="style"&&g.querySelector(Qp(E))||d==="script"&&g.querySelector(Xp(E))||(d=g.createElement("link"),br(d,"link",c),dr(d),g.head.appendChild(d)))}}function AQ(c,d){Gl.m(c,d);var h=jh;if(h&&c){var g=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+En(g)+'"][href="'+En(c)+'"]',E=O;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Th(c)}if(!An.has(E)&&(c=m({rel:"modulepreload",href:c},d),An.set(E,c),h.querySelector(O)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Xp(E)))return}g=h.createElement("link"),br(g,"link",c),dr(g),h.head.appendChild(g)}}}function NQ(c,d,h){Gl.S(c,d,h);var g=jh;if(g&&c){var O=Wf(g).hoistableStyles,E=Ch(c);d=d||"default";var B=O.get(E);if(!B){var W={loading:0,preload:null};if(B=g.querySelector(Qp(E)))W.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":d},h),(h=An.get(E))&&pO(c,h);var se=B=g.createElement("link");dr(se),br(se,"link",c),se._p=new Promise(function(ve,je){se.onload=ve,se.onerror=je}),se.addEventListener("load",function(){W.loading|=1}),se.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Py(B,d,g)}B={type:"stylesheet",instance:B,count:1,state:W},O.set(E,B)}}}function DQ(c,d){Gl.X(c,d);var h=jh;if(h&&c){var g=Wf(h).hoistableScripts,O=Th(c),E=g.get(O);E||(E=h.querySelector(Xp(O)),E||(c=m({src:c,async:!0},d),(d=An.get(O))&&gO(c,d),E=h.createElement("script"),dr(E),br(E,"link",c),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(O,E))}}function IQ(c,d){Gl.M(c,d);var h=jh;if(h&&c){var g=Wf(h).hoistableScripts,O=Th(c),E=g.get(O);E||(E=h.querySelector(Xp(O)),E||(c=m({src:c,async:!0,type:"module"},d),(d=An.get(O))&&gO(c,d),E=h.createElement("script"),dr(E),br(E,"link",c),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(O,E))}}function FN(c,d,h,g){var O=(O=K.current)?xy(O):null;if(!O)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(d=Ch(h.href),h=Wf(O).hoistableStyles,g=h.get(d),g||(g={type:"style",instance:null,count:0,state:null},h.set(d,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){c=Ch(h.href);var E=Wf(O).hoistableStyles,B=E.get(c);if(B||(O=O.ownerDocument||O,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(c,B),(E=O.querySelector(Qp(c)))&&!E._p&&(B.instance=E,B.state.loading=5),An.has(c)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},An.set(c,h),E||zQ(O,c,h,B.state))),d&&g===null)throw Error(i(528,""));return B}if(d&&g!==null)throw Error(i(529,""));return null;case"script":return d=h.async,h=h.src,typeof h=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Th(h),h=Wf(O).hoistableScripts,g=h.get(d),g||(g={type:"script",instance:null,count:0,state:null},h.set(d,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function Ch(c){return'href="'+En(c)+'"'}function Qp(c){return'link[rel="stylesheet"]['+c+"]"}function VN(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function zQ(c,d,h,g){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?g.loading=1:(d=c.createElement("link"),g.preload=d,d.addEventListener("load",function(){return g.loading|=1}),d.addEventListener("error",function(){return g.loading|=2}),br(d,"link",h),dr(d),c.head.appendChild(d))}function Th(c){return'[src="'+En(c)+'"]'}function Xp(c){return"script[async]"+c}function GN(c,d,h){if(d.count++,d.instance===null)switch(d.type){case"style":var g=c.querySelector('style[data-href~="'+En(h.href)+'"]');if(g)return d.instance=g,dr(g),g;var O=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(c.ownerDocument||c).createElement("style"),dr(g),br(g,"style",O),Py(g,h.precedence,c),d.instance=g;case"stylesheet":O=Ch(h.href);var E=c.querySelector(Qp(O));if(E)return d.state.loading|=4,d.instance=E,dr(E),E;g=VN(h),(O=An.get(O))&&pO(g,O),E=(c.ownerDocument||c).createElement("link"),dr(E);var B=E;return B._p=new Promise(function(W,se){B.onload=W,B.onerror=se}),br(E,"link",g),d.state.loading|=4,Py(E,h.precedence,c),d.instance=E;case"script":return E=Th(h.src),(O=c.querySelector(Xp(E)))?(d.instance=O,dr(O),O):(g=h,(O=An.get(E))&&(g=m({},h),gO(g,O)),c=c.ownerDocument||c,O=c.createElement("script"),dr(O),br(O,"link",g),c.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(g=d.instance,d.state.loading|=4,Py(g,h.precedence,c));return d.instance}function Py(c,d,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=g.length?g[g.length-1]:null,E=O,B=0;B<g.length;B++){var W=g[B];if(W.dataset.precedence===d)E=W;else if(E!==O)break}E?E.parentNode.insertBefore(c,E.nextSibling):(d=h.nodeType===9?h.head:h,d.insertBefore(c,d.firstChild))}function pO(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function gO(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Ay=null;function HN(c,d,h){if(Ay===null){var g=new Map,O=Ay=new Map;O.set(h,g)}else O=Ay,g=O.get(h),g||(g=new Map,O.set(h,g));if(g.has(c))return g;for(g.set(c,null),h=h.getElementsByTagName(c),O=0;O<h.length;O++){var E=h[O];if(!(E[gp]||E[Zt]||c==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var B=E.getAttribute(d)||"";B=c+B;var W=g.get(B);W?W.push(E):g.set(B,[E])}}return g}function KN(c,d,h){c=c.ownerDocument||c,c.head.insertBefore(h,d==="title"?c.querySelector("head > title"):null)}function qQ(c,d,h){if(h===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;return d.rel==="stylesheet"?(c=d.disabled,typeof d.precedence=="string"&&c==null):!0;case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function kN(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function BQ(c,d,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=Ch(g.href),E=d.querySelector(Qp(O));if(E){d=E._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=Ny.bind(c),d.then(c,c)),h.state.loading|=4,h.instance=E,dr(E);return}E=d.ownerDocument||d,g=VN(g),(O=An.get(O))&&pO(g,O),E=E.createElement("link"),dr(E);var B=E;B._p=new Promise(function(W,se){B.onload=W,B.onerror=se}),br(E,"link",g),h.instance=E}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(h,d),(d=h.state.preload)&&(h.state.loading&3)===0&&(c.count++,h=Ny.bind(c),d.addEventListener("load",h),d.addEventListener("error",h))}}var mO=0;function UQ(c,d){return c.stylesheets&&c.count===0&&Iy(c,c.stylesheets),0<c.count||0<c.imgCount?function(h){var g=setTimeout(function(){if(c.stylesheets&&Iy(c,c.stylesheets),c.unsuspend){var E=c.unsuspend;c.unsuspend=null,E()}},6e4+d);0<c.imgBytes&&mO===0&&(mO=62500*vQ());var O=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Iy(c,c.stylesheets),c.unsuspend)){var E=c.unsuspend;c.unsuspend=null,E()}},(c.imgBytes>mO?50:800)+d);return c.unsuspend=h,function(){c.unsuspend=null,clearTimeout(g),clearTimeout(O)}}:null}function Ny(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iy(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Dy=null;function Iy(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Dy=new Map,d.forEach(LQ,c),Dy=null,Ny.call(c))}function LQ(c,d){if(!(d.state.loading&4)){var h=Dy.get(c);if(h)var g=h.get(null);else{h=new Map,Dy.set(c,h);for(var O=c.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<O.length;E++){var B=O[E];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(h.set(B.dataset.precedence,B),g=B)}g&&h.set(null,g)}O=d.instance,B=O.getAttribute("data-precedence"),E=h.get(B)||g,E===g&&h.set(null,O),h.set(B,O),this.count++,g=Ny.bind(this),O.addEventListener("load",g),O.addEventListener("error",g),E?E.parentNode.insertBefore(O,E.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(O,c.firstChild)),d.state.loading|=4}}var eg={$$typeof:j,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function $Q(c,d,h,g,O,E,B,W,se){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.hiddenUpdates=ie(null),this.identifierPrefix=g,this.onUncaughtError=O,this.onCaughtError=E,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function YN(c,d,h,g,O,E,B,W,se,ve,je,Me){return c=new $Q(c,d,h,B,se,ve,je,Me,W),d=1,E===!0&&(d|=24),E=Zr(3,null,null,d),c.current=E,E.stateNode=c,d=W0(),d.refCount++,c.pooledCache=d,d.refCount++,E.memoizedState={element:g,isDehydrated:h,cache:d},X0(E),c}function WN(c){return c?(c=ih,c):ih}function JN(c,d,h,g,O,E){O=WN(O),g.context===null?g.context=O:g.pendingContext=O,g=_c(d),g.payload={element:h},E=E===void 0?null:E,E!==null&&(g.callback=E),h=yc(c,g,d),h!==null&&(Lr(h,c,d),Ap(h,c,d))}function ZN(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var h=c.retryLane;c.retryLane=h!==0&&h<d?h:d}}function _O(c,d){ZN(c,d),(c=c.alternate)&&ZN(c,d)}function QN(c){if(c.tag===13||c.tag===31){var d=pd(c,67108864);d!==null&&Lr(d,c,67108864),_O(c,67108864)}}function XN(c){if(c.tag===13||c.tag===31){var d=rn();d=Kf(d);var h=pd(c,d);h!==null&&Lr(h,c,d),_O(c,d)}}var zy=!0;function FQ(c,d,h,g){var O=U.T;U.T=null;var E=H.p;try{H.p=2,yO(c,d,h,g)}finally{H.p=E,U.T=O}}function VQ(c,d,h,g){var O=U.T;U.T=null;var E=H.p;try{H.p=8,yO(c,d,h,g)}finally{H.p=E,U.T=O}}function yO(c,d,h,g){if(zy){var O=vO(g);if(O===null)aO(c,d,g,qy,h),tD(c,g);else if(HQ(O,c,d,h,g))g.stopPropagation();else if(tD(c,g),d&4&&-1<GQ.indexOf(c)){for(;O!==null;){var E=Yf(O);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var B=El(E.pendingLanes);if(B!==0){var W=E;for(W.pendingLanes|=2,W.entangledLanes|=2;B;){var se=1<<31-ut(B);W.entanglements[1]|=se,B&=~se}hl(E),(Et&6)===0&&(vy=$e()+500,Yp(0))}}break;case 31:case 13:W=pd(E,2),W!==null&&Lr(W,E,2),wy(),_O(E,2)}if(E=vO(g),E===null&&aO(c,d,g,qy,h),E===O)break;O=E}O!==null&&g.stopPropagation()}else aO(c,d,g,null,h)}}function vO(c){return c=w0(c),bO(c)}var qy=null;function bO(c){if(qy=null,c=kf(c),c!==null){var d=t(c);if(d===null)c=null;else{var h=d.tag;if(h===13){if(c=r(d),c!==null)return c;c=null}else if(h===31){if(c=a(d),c!==null)return c;c=null}else if(h===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return qy=c,null}function eD(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case ze:return 2;case F:return 8;case A:case I:return 32;case te:return 268435456;default:return 32}default:return 32}}var wO=!1,Mc=null,xc=null,Pc=null,tg=new Map,rg=new Map,Ac=[],GQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tD(c,d){switch(c){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":xc=null;break;case"mouseover":case"mouseout":Pc=null;break;case"pointerover":case"pointerout":tg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":rg.delete(d.pointerId)}}function ng(c,d,h,g,O,E){return c===null||c.nativeEvent!==E?(c={blockedOn:d,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[O]},d!==null&&(d=Yf(d),d!==null&&QN(d)),c):(c.eventSystemFlags|=g,d=c.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),c)}function HQ(c,d,h,g,O){switch(d){case"focusin":return Mc=ng(Mc,c,d,h,g,O),!0;case"dragenter":return xc=ng(xc,c,d,h,g,O),!0;case"mouseover":return Pc=ng(Pc,c,d,h,g,O),!0;case"pointerover":var E=O.pointerId;return tg.set(E,ng(tg.get(E)||null,c,d,h,g,O)),!0;case"gotpointercapture":return E=O.pointerId,rg.set(E,ng(rg.get(E)||null,c,d,h,g,O)),!0}return!1}function rD(c){var d=kf(c.target);if(d!==null){var h=t(d);if(h!==null){if(d=h.tag,d===13){if(d=r(h),d!==null){c.blockedOn=d,x_(c.priority,function(){XN(h)});return}}else if(d===31){if(d=a(h),d!==null){c.blockedOn=d,x_(c.priority,function(){XN(h)});return}}else if(d===3&&h.stateNode.current.memoizedState.isDehydrated){c.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}c.blockedOn=null}function By(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var h=vO(c.nativeEvent);if(h===null){h=c.nativeEvent;var g=new h.constructor(h.type,h);b0=g,h.target.dispatchEvent(g),b0=null}else return d=Yf(h),d!==null&&QN(d),c.blockedOn=h,!1;d.shift()}return!0}function nD(c,d,h){By(c)&&h.delete(d)}function KQ(){wO=!1,Mc!==null&&By(Mc)&&(Mc=null),xc!==null&&By(xc)&&(xc=null),Pc!==null&&By(Pc)&&(Pc=null),tg.forEach(nD),rg.forEach(nD)}function Uy(c,d){c.blockedOn===d&&(c.blockedOn=null,wO||(wO=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,KQ)))}var Ly=null;function aD(c){Ly!==c&&(Ly=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ly===c&&(Ly=null);for(var d=0;d<c.length;d+=3){var h=c[d],g=c[d+1],O=c[d+2];if(typeof g!="function"){if(bO(g||h)===null)continue;break}var E=Yf(h);E!==null&&(c.splice(d,3),d-=3,vw(E,{pending:!0,data:O,method:h.method,action:g},g,O))}}))}function Mh(c){function d(se){return Uy(se,c)}Mc!==null&&Uy(Mc,c),xc!==null&&Uy(xc,c),Pc!==null&&Uy(Pc,c),tg.forEach(d),rg.forEach(d);for(var h=0;h<Ac.length;h++){var g=Ac[h];g.blockedOn===c&&(g.blockedOn=null)}for(;0<Ac.length&&(h=Ac[0],h.blockedOn===null);)rD(h),h.blockedOn===null&&Ac.shift();if(h=(c.ownerDocument||c).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var O=h[g],E=h[g+1],B=O[cr]||null;if(typeof E=="function")B||aD(h);else if(B){var W=null;if(E&&E.hasAttribute("formAction")){if(O=E,B=E[cr]||null)W=B.formAction;else if(bO(O)!==null)continue}else W=B.action;typeof W=="function"?h[g+1]=W:(h.splice(g,3),g-=3),aD(h)}}}function iD(){function c(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(B){return O=B})},focusReset:"manual",scroll:"manual"})}function d(){O!==null&&(O(),O=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,O=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),O!==null&&(O(),O=null)}}}function OO(c){this._internalRoot=c}$y.prototype.render=OO.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(i(409));var h=d.current,g=rn();JN(h,g,c,d,null,null)},$y.prototype.unmount=OO.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;JN(c.current,2,null,c,null,null),wy(),d[ll]=null}};function $y(c){this._internalRoot=c}$y.prototype.unstable_scheduleHydration=function(c){if(c){var d=pp();c={blockedOn:null,target:c,priority:d};for(var h=0;h<Ac.length&&d!==0&&d<Ac[h].priority;h++);Ac.splice(h,0,c),h===0&&rD(c)}};var oD=n.version;if(oD!=="19.2.3")throw Error(i(527,oD,"19.2.3"));H.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=l(d),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var kQ={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fy.isDisabled&&Fy.supportsFiber)try{Ce=Fy.inject(kQ),et=Fy}catch{}}return ig.createRoot=function(c,d){if(!u(c))throw Error(i(299));var h=!1,g="",O=hA,E=pA,B=gA;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(E=d.onCaughtError),d.onRecoverableError!==void 0&&(B=d.onRecoverableError)),d=YN(c,1,!1,null,null,h,g,null,O,E,B,iD),c[ll]=d.current,nO(c),new OO(d)},ig.hydrateRoot=function(c,d,h){if(!u(c))throw Error(i(299));var g=!1,O="",E=hA,B=pA,W=gA,se=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(B=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.formState!==void 0&&(se=h.formState)),d=YN(c,1,!0,d,h??null,g,O,se,E,B,W,iD),d.context=WN(null),h=d.current,g=rn(),g=Kf(g),O=_c(g),O.callback=null,yc(h,O,g),h=g,d.current.lanes=h,qe(d,h),hl(d),c[ll]=d.current,nO(c),new $y(d)},ig.version="19.2.3",ig}var mD;function nX(){if(mD)return RO.exports;mD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),RO.exports=rX(),RO.exports}var aX=nX();const iX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,o,i)=>i?i.toUpperCase():o.toLowerCase()),_D=e=>{const n=oX(e);return n.charAt(0).toUpperCase()+n.slice(1)},RV=(...e)=>e.filter((n,o,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===o).join(" ").trim(),sX=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var uX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lX=Ze.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:u="",children:t,iconNode:r,...a},s)=>Ze.createElement("svg",{ref:s,...uX,width:n,height:n,stroke:e,strokeWidth:i?Number(o)*24/Number(n):o,className:RV("lucide",u),...!t&&!sX(a)&&{"aria-hidden":"true"},...a},[...r.map(([l,f])=>Ze.createElement(l,f)),...Array.isArray(t)?t:[t]]));const Rt=(e,n)=>{const o=Ze.forwardRef(({className:i,...u},t)=>Ze.createElement(lX,{ref:t,iconNode:n,className:RV(`lucide-${iX(_D(e))}`,`lucide-${e}`,i),...u}));return o.displayName=_D(e),o};const cX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$f=Rt("book-open",cX);const dX=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],jV=Rt("brain",dX);const fX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hX=Rt("check",fX);const pX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dm=Rt("chevron-down",pX);const gX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CV=Rt("circle-alert",gX);const mX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TV=Rt("circle-check-big",mX);const _X=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yX=Rt("circle-check",_X);const vX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bX=Rt("circle",vX);const wX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],qT=Rt("database",wX);const OX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],SX=Rt("external-link",OX);const EX=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],MV=Rt("github",EX);const RX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jX=Rt("globe",RX);const CX=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],xV=Rt("instagram",CX);const TX=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],MX=Rt("key",TX);const xX=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],PX=Rt("layers",xX);const AX=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],PV=Rt("link",AX);const NX=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],AV=Rt("linkedin",NX);const DX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],NV=Rt("loader-circle",DX);const IX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zX=Rt("menu",IX);const qX=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],yD=Rt("message-circle",qX);const BX=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],DV=Rt("network",BX);const UX=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],LX=Rt("play",UX);const $X=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vD=Rt("search",$X);const FX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IV=Rt("settings",FX);const VX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Eb=Rt("sparkles",VX);const GX=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],HX=Rt("terminal",GX);const KX=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],zV=Rt("twitter",KX);const kX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qV=Rt("users",kX);const YX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BV=Rt("x",YX);const WX=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],UV=Rt("youtube",WX);const JX=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ZX=Rt("zap",JX),bD=e=>{let n;const o=new Set,i=(l,f)=>{const m=typeof l=="function"?l(n):l;if(!Object.is(m,n)){const b=n;n=f??(typeof m!="object"||m===null)?m:Object.assign({},n,m),o.forEach(_=>_(n,b))}},u=()=>n,a={setState:i,getState:u,getInitialState:()=>s,subscribe:l=>(o.add(l),()=>o.delete(l))},s=n=e(i,u,a);return a},QX=(e=>e?bD(e):bD),XX=e=>e;function eee(e,n=XX){const o=ml.useSyncExternalStore(e.subscribe,ml.useCallback(()=>n(e.getState()),[e,n]),ml.useCallback(()=>n(e.getInitialState()),[e,n]));return ml.useDebugValue(o),o}const tee=e=>{const n=QX(e),o=i=>eee(n,i);return Object.assign(o,n),o},ree=(e=>tee);function nee(e,n){let o;try{o=e()}catch{return}return{getItem:u=>{var t;const r=s=>s===null?null:JSON.parse(s,void 0),a=(t=o.getItem(u))!=null?t:null;return a instanceof Promise?a.then(r):r(a)},setItem:(u,t)=>o.setItem(u,JSON.stringify(t,void 0)),removeItem:u=>o.removeItem(u)}}const q1=e=>n=>{try{const o=e(n);return o instanceof Promise?o:{then(i){return q1(i)(o)},catch(i){return this}}}catch(o){return{then(i){return this},catch(i){return q1(i)(o)}}}},aee=(e,n)=>(o,i,u)=>{let t={storage:nee(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...n},r=!1;const a=new Set,s=new Set;let l=t.storage;if(!l)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),o(...y)},i,u);const f=()=>{const y=t.partialize({...i()});return l.setItem(t.name,{state:y,version:t.version})},m=u.setState;u.setState=(y,v)=>(m(y,v),f());const b=e((...y)=>(o(...y),f()),i,u);u.getInitialState=()=>b;let _;const p=()=>{var y,v;if(!l)return;r=!1,a.forEach(R=>{var j;return R((j=i())!=null?j:b)});const S=((v=t.onRehydrateStorage)==null?void 0:v.call(t,(y=i())!=null?y:b))||void 0;return q1(l.getItem.bind(l))(t.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==t.version){if(t.migrate){const j=t.migrate(R.state,R.version);return j instanceof Promise?j.then(P=>[!0,P]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var j;const[P,T]=R;if(_=t.merge(T,(j=i())!=null?j:b),o(_,!0),P)return f()}).then(()=>{S?.(_,void 0),_=i(),r=!0,s.forEach(R=>R(_))}).catch(R=>{S?.(void 0,R)})};return u.persist={setOptions:y=>{t={...t,...y},y.storage&&(l=y.storage)},clearStorage:()=>{l?.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>p(),hasHydrated:()=>r,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(s.add(y),()=>{s.delete(y)})},t.skipHydration||p(),_||b},iee=aee,qn=ree()(iee(e=>({apiKey:null,provider:"groq",selectedModel:"llama-3.1-8b-instant",availableModels:[],currentLab:1,labProgress:{},setApiKey:(n,o)=>{e({apiKey:n,provider:o,selectedModel:o==="groq"?"llama-3.1-8b-instant":"command-a-03-2025"})},setSelectedModel:n=>e({selectedModel:n}),setAvailableModels:n=>e({availableModels:n}),setCurrentLab:n=>e({currentLab:n}),markLabComplete:n=>e(o=>({labProgress:{...o.labProgress,[n]:!0}}))}),{name:"agents-training-storage"}));function oee({labs:e}){const{currentLab:n,labProgress:o,setCurrentLab:i}=qn();return x.jsxs("nav",{className:"relative h-full overflow-y-auto bg-gradient-to-b from-slate-900/95 via-blue-900/30 to-purple-900/30 backdrop-blur-xl border-r border-cyan-500/20",children:[x.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(5)].map((u,t)=>x.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*10}s`,animationDuration:`${15+Math.random()*5}s`}},t))}),x.jsxs("div",{className:"relative p-6",children:[x.jsxs("div",{className:"mb-6 pb-6 border-b border-cyan-500/30",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx("div",{className:"p-1.5 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg",style:{boxShadow:"0 0 15px rgba(0, 212, 255, 0.5)"},children:x.jsx(Eb,{className:"w-5 h-5 text-white"})}),x.jsx("h2",{className:"text-xl font-bold heading-font neon-cyan tracking-wider",children:"AI AGENTS 101"})]}),x.jsx("p",{className:"text-sm text-gradient-gold font-semibold tracking-wide",children:"by Yuval Avidani  YUV.AI"})]}),x.jsx("div",{className:"space-y-2",children:e.map(u=>{const t=n===u.id,r=o[u.id];return x.jsx("button",{onClick:()=>i(u.id),className:`w-full text-left px-4 py-3 rounded-xl transition-all hover-lift relative overflow-hidden ${t?"bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border-2 border-cyan-400 shadow-neural":"glass border border-white/10 hover:glass-strong hover:border-cyan-500/50"}`,style:t?{boxShadow:"0 0 20px rgba(0, 212, 255, 0.3)"}:{},children:x.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[r?x.jsx(TV,{className:`w-5 h-5 flex-shrink-0 ${t?"text-green-400":"text-green-500"}`,style:{filter:"drop-shadow(0 0 8px rgba(34, 197, 94, 0.8))"}}):x.jsx(bX,{className:`w-5 h-5 flex-shrink-0 ${t?"text-cyan-400":"text-white/40"}`}),x.jsxs("div",{children:[x.jsxs("div",{className:`text-sm font-bold ${t?"neon-cyan":"text-white"}`,children:["LAB ",u.id]}),x.jsx("div",{className:`text-xs ${t?"text-white font-medium":"text-white/60"}`,children:u.title})]})]})},u.id)})})]})]})}const see={"llama-3.1-8b-instant":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"mistral-saba-24b":{maxInputTokens:32768,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-8b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen-qwq-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-70b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"deepseek-r1-distill-llama-70b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-guard-3-8b":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1},"gemma2-9b-it":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-3.3-70b-versatile":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct-0905":{maxInputTokens:262144,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-20b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-120b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen/qwen3-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-scout-17b-16e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-maverick-17b-128e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-guard-4-12b":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:128,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1}};var uee=see,lee=Object.defineProperty,lt=(e,n)=>{for(var o in n)lee(e,o,{get:n[o],enumerable:!0})};function op(e,n,o){function i(a,s){var l;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(l=a._zod).traits??(l.traits=new Set),a._zod.traits.add(e),n(a,s);for(const f in r.prototype)f in a||Object.defineProperty(a,f,{value:r.prototype[f].bind(a)});a._zod.constr=r,a._zod.def=s}const u=o?.Parent??Object;class t extends u{}Object.defineProperty(t,"name",{value:e});function r(a){var s;const l=o?.Parent?new t:this;i(l,a),(s=l._zod).deferred??(s.deferred=[]);for(const f of l._zod.deferred)f();return l}return Object.defineProperty(r,"init",{value:i}),Object.defineProperty(r,Symbol.hasInstance,{value:a=>o?.Parent&&a instanceof o.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(r,"name",{value:e}),r}class nb extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const cee={};function Rb(e){return cee}function dee(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,u])=>n.indexOf(+i)===-1).map(([i,u])=>u)}function fee(e,n){return typeof n=="bigint"?n.toString():n}function hee(e){const n=e.startsWith("^")?1:0,o=e.endsWith("$")?e.length-1:e.length;return e.slice(n,o)}function wD(e,n,o){Object.defineProperty(e,n,{get(){{const i=o();return e[n]=i,i}},set(i){Object.defineProperty(e,n,{value:i})},configurable:!0})}function pee(e,n,o){Object.defineProperty(e,n,{value:o,writable:!0,enumerable:!0,configurable:!0})}const LV=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function OD(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function gee(e){if(OD(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const o=n.prototype;return!(OD(o)===!1||Object.prototype.hasOwnProperty.call(o,"isPrototypeOf")===!1)}function Xu(e,n,o){const i=new e._zod.constr(n??e._zod.def);return(!n||o?.parent)&&(i._zod.parent=e),i}function mee(e){return{}}function _ee(e,n){if(!gee(n))throw new Error("Invalid input to extend: expected a plain object");const o={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return pee(this,"shape",i),i},checks:[]};return Xu(e,o)}function yee(e,n,o){const i=n._zod.def.shape,u={...i};for(const t in i)u[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return Xu(n,{...n._zod.def,shape:u,checks:[]})}function MO(e,n=0){for(let o=n;o<e.issues.length;o++)if(e.issues[o]?.continue!==!0)return!0;return!1}function Vy(e){return typeof e=="string"?e:e?.message}function jb(e,n,o){const i={...e,path:e.path??[]};if(!e.message){const u=Vy(e.inst?._zod.def?.error?.(e))??Vy(n?.error?.(e))??Vy(o.customError?.(e))??Vy(o.localeError?.(e))??"Invalid input";i.message=u}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}const $V=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(n,fee,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},vee=op("$ZodError",$V),Cb=op("$ZodError",$V,{Parent:Error}),bee=e=>(n,o,i,u)=>{const t=i?Object.assign(i,{async:!1}):{async:!1},r=n._zod.run({value:o,issues:[]},t);if(r instanceof Promise)throw new nb;if(r.issues.length){const a=new(u?.Err??e)(r.issues.map(s=>jb(s,t,Rb())));throw LV(a,u?.callee),a}return r.value},BT=bee(Cb),wee=e=>async(n,o,i,u)=>{const t=i?Object.assign(i,{async:!0}):{async:!0};let r=n._zod.run({value:o,issues:[]},t);if(r instanceof Promise&&(r=await r),r.issues.length){const a=new(u?.Err??e)(r.issues.map(s=>jb(s,t,Rb())));throw LV(a,u?.callee),a}return r.value},FV=wee(Cb),Oee=e=>(n,o,i)=>{const u=i?{...i,async:!1}:{async:!1},t=n._zod.run({value:o,issues:[]},u);if(t instanceof Promise)throw new nb;return t.issues.length?{success:!1,error:new(e??vee)(t.issues.map(r=>jb(r,u,Rb())))}:{success:!0,data:t.value}},See=Oee(Cb),Eee=e=>async(n,o,i)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let t=n._zod.run({value:o,issues:[]},u);return t instanceof Promise&&(t=await t),t.issues.length?{success:!1,error:new e(t.issues.map(r=>jb(r,u,Rb())))}:{success:!0,data:t.value}},Ree=Eee(Cb),jee={major:4,minor:0,patch:0},UT=op("$ZodType",(e,n)=>{var o;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=jee;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const u of i)for(const t of u._zod.onattach)t(e);if(i.length===0)(o=e._zod).deferred??(o.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const u=(t,r,a)=>{let s=MO(t),l;for(const f of r){if(f._zod.def.when){if(!f._zod.def.when(t))continue}else if(s)continue;const m=t.issues.length,b=f._zod.check(t);if(b instanceof Promise&&a?.async===!1)throw new nb;if(l||b instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await b,t.issues.length!==m&&(s||(s=MO(t,m)))});else{if(t.issues.length===m)continue;s||(s=MO(t,m))}}return l?l.then(()=>t):t};e._zod.run=(t,r)=>{const a=e._zod.parse(t,r);if(a instanceof Promise){if(r.async===!1)throw new nb;return a.then(s=>u(s,i,r))}return u(a,i,r)}}e["~standard"]={validate:u=>{try{const t=See(e,u);return t.success?{value:t.data}:{issues:t.error?.issues}}catch{return Ree(e,u).then(r=>r.success?{value:r.data}:{issues:r.error?.issues})}},vendor:"zod",version:1}}),Cee=op("$ZodUnknown",(e,n)=>{UT.init(e,n),e._zod.parse=o=>o}),Tee=op("$ZodNever",(e,n)=>{UT.init(e,n),e._zod.parse=(o,i)=>(o.issues.push({expected:"never",code:"invalid_type",input:o.value,inst:e}),o)}),VV=op("$ZodOptional",(e,n)=>{UT.init(e,n),e._zod.optin="optional",e._zod.optout="optional",wD(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),wD(e._zod,"pattern",()=>{const o=n.innerType._zod.pattern;return o?new RegExp(`^(${hee(o.source)})?$`):void 0}),e._zod.parse=(o,i)=>n.innerType._zod.optin==="optional"?n.innerType._zod.run(o,i):o.value===void 0?o:n.innerType._zod.run(o,i)});class GV{constructor(){this._map=new Map,this._idmap=new Map}add(n,...o){const i=o[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(n){const o=this._map.get(n);return o&&typeof o=="object"&&"id"in o&&this._idmap.delete(o.id),this._map.delete(n),this}get(n){const o=n._zod.parent;if(o){const i={...this.get(o)??{}};return delete i.id,{...i,...this._map.get(n)}}return this._map.get(n)}has(n){return this._map.has(n)}}function Mee(){return new GV}const Hr=Mee();function xee(e){return new e({type:"unknown"})}function Pee(e,n){return new e({type:"never",...mee()})}class SD{constructor(n){this.counter=0,this.metadataRegistry=n?.metadata??Hr,this.target=n?.target??"draft-2020-12",this.unrepresentable=n?.unrepresentable??"throw",this.override=n?.override??(()=>{}),this.io=n?.io??"output",this.seen=new Map}process(n,o={path:[],schemaPath:[]}){var i;const u=n._zod.def,t={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},r=this.seen.get(n);if(r)return r.count++,o.schemaPath.includes(n)&&(r.cycle=o.path),r.schema;const a={schema:{},count:1,cycle:void 0,path:o.path};this.seen.set(n,a);const s=n._zod.toJSONSchema?.();if(s)a.schema=s;else{const m={...o,schemaPath:[...o.schemaPath,n],path:o.path},b=n._zod.parent;if(b)a.ref=b,this.process(b,m),this.seen.get(b).isParent=!0;else{const _=a.schema;switch(u.type){case"string":{const p=_;p.type="string";const{minimum:y,maximum:v,format:S,patterns:R,contentEncoding:j}=n._zod.bag;if(typeof y=="number"&&(p.minLength=y),typeof v=="number"&&(p.maxLength=v),S&&(p.format=t[S]??S,p.format===""&&delete p.format),j&&(p.contentEncoding=j),R&&R.size>0){const P=[...R];P.length===1?p.pattern=P[0].source:P.length>1&&(a.schema.allOf=[...P.map(T=>({...this.target==="draft-7"?{type:"string"}:{},pattern:T.source}))])}break}case"number":{const p=_,{minimum:y,maximum:v,format:S,multipleOf:R,exclusiveMaximum:j,exclusiveMinimum:P}=n._zod.bag;typeof S=="string"&&S.includes("int")?p.type="integer":p.type="number",typeof P=="number"&&(p.exclusiveMinimum=P),typeof y=="number"&&(p.minimum=y,typeof P=="number"&&(P>=y?delete p.minimum:delete p.exclusiveMinimum)),typeof j=="number"&&(p.exclusiveMaximum=j),typeof v=="number"&&(p.maximum=v,typeof j=="number"&&(j<=v?delete p.maximum:delete p.exclusiveMaximum)),typeof R=="number"&&(p.multipleOf=R);break}case"boolean":{const p=_;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{_.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{_.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const p=_,{minimum:y,maximum:v}=n._zod.bag;typeof y=="number"&&(p.minItems=y),typeof v=="number"&&(p.maxItems=v),p.type="array",p.items=this.process(u.element,{...m,path:[...m.path,"items"]});break}case"object":{const p=_;p.type="object",p.properties={};const y=u.shape;for(const R in y)p.properties[R]=this.process(y[R],{...m,path:[...m.path,"properties",R]});const v=new Set(Object.keys(y)),S=new Set([...v].filter(R=>{const j=u.shape[R]._zod;return this.io==="input"?j.optin===void 0:j.optout===void 0}));S.size>0&&(p.required=Array.from(S)),u.catchall?._zod.def.type==="never"?p.additionalProperties=!1:u.catchall?u.catchall&&(p.additionalProperties=this.process(u.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{const p=_;p.anyOf=u.options.map((y,v)=>this.process(y,{...m,path:[...m.path,"anyOf",v]}));break}case"intersection":{const p=_,y=this.process(u.left,{...m,path:[...m.path,"allOf",0]}),v=this.process(u.right,{...m,path:[...m.path,"allOf",1]}),S=j=>"allOf"in j&&Object.keys(j).length===1,R=[...S(y)?y.allOf:[y],...S(v)?v.allOf:[v]];p.allOf=R;break}case"tuple":{const p=_;p.type="array";const y=u.items.map((R,j)=>this.process(R,{...m,path:[...m.path,"prefixItems",j]}));if(this.target==="draft-2020-12"?p.prefixItems=y:p.items=y,u.rest){const R=this.process(u.rest,{...m,path:[...m.path,"items"]});this.target==="draft-2020-12"?p.items=R:p.additionalItems=R}u.rest&&(p.items=this.process(u.rest,{...m,path:[...m.path,"items"]}));const{minimum:v,maximum:S}=n._zod.bag;typeof v=="number"&&(p.minItems=v),typeof S=="number"&&(p.maxItems=S);break}case"record":{const p=_;p.type="object",p.propertyNames=this.process(u.keyType,{...m,path:[...m.path,"propertyNames"]}),p.additionalProperties=this.process(u.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const p=_,y=dee(u.entries);y.every(v=>typeof v=="number")&&(p.type="number"),y.every(v=>typeof v=="string")&&(p.type="string"),p.enum=y;break}case"literal":{const p=_,y=[];for(const v of u.values)if(v===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof v=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");y.push(Number(v))}else y.push(v);if(y.length!==0)if(y.length===1){const v=y[0];p.type=v===null?"null":typeof v,p.const=v}else y.every(v=>typeof v=="number")&&(p.type="number"),y.every(v=>typeof v=="string")&&(p.type="string"),y.every(v=>typeof v=="boolean")&&(p.type="string"),y.every(v=>v===null)&&(p.type="null"),p.enum=y;break}case"file":{const p=_,y={type:"string",format:"binary",contentEncoding:"binary"},{minimum:v,maximum:S,mime:R}=n._zod.bag;v!==void 0&&(y.minLength=v),S!==void 0&&(y.maxLength=S),R?R.length===1?(y.contentMediaType=R[0],Object.assign(p,y)):p.anyOf=R.map(j=>({...y,contentMediaType:j})):Object.assign(p,y);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const p=this.process(u.innerType,m);_.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(u.innerType,m),a.ref=u.innerType;break}case"success":{const p=_;p.type="boolean";break}case"default":{this.process(u.innerType,m),a.ref=u.innerType,_.default=JSON.parse(JSON.stringify(u.defaultValue));break}case"prefault":{this.process(u.innerType,m),a.ref=u.innerType,this.io==="input"&&(_._prefault=JSON.parse(JSON.stringify(u.defaultValue)));break}case"catch":{this.process(u.innerType,m),a.ref=u.innerType;let p;try{p=u.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}_.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const p=_,y=n._zod.pattern;if(!y)throw new Error("Pattern not found in template literal");p.type="string",p.pattern=y.source;break}case"pipe":{const p=this.io==="input"?u.in._zod.def.type==="transform"?u.out:u.in:u.out;this.process(p,m),a.ref=p;break}case"readonly":{this.process(u.innerType,m),a.ref=u.innerType,_.readOnly=!0;break}case"promise":{this.process(u.innerType,m),a.ref=u.innerType;break}case"optional":{this.process(u.innerType,m),a.ref=u.innerType;break}case"lazy":{const p=n._zod.innerType;this.process(p,m),a.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const l=this.metadataRegistry.get(n);return l&&Object.assign(a.schema,l),this.io==="input"&&or(n)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(n).schema}emit(n,o){const i={cycles:o?.cycles??"ref",reused:o?.reused??"inline",external:o?.external??void 0},u=this.seen.get(n);if(!u)throw new Error("Unprocessed schema. This is a bug in Zod.");const t=f=>{const m=this.target==="draft-2020-12"?"$defs":"definitions";if(i.external){const y=i.external.registry.get(f[0])?.id,v=i.external.uri??(R=>R);if(y)return{ref:v(y)};const S=f[1].defId??f[1].schema.id??`schema${this.counter++}`;return f[1].defId=S,{defId:S,ref:`${v("__shared")}#/${m}/${S}`}}if(f[1]===u)return{ref:"#"};const _=`#/${m}/`,p=f[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:_+p}},r=f=>{if(f[1].schema.$ref)return;const m=f[1],{ref:b,defId:_}=t(f);m.def={...m.schema},_&&(m.defId=_);const p=m.schema;for(const y in p)delete p[y];p.$ref=b};if(i.cycles==="throw")for(const f of this.seen.entries()){const m=f[1];if(m.cycle)throw new Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of this.seen.entries()){const m=f[1];if(n===f[0]){r(f);continue}if(i.external){const _=i.external.registry.get(f[0])?.id;if(n!==f[0]&&_){r(f);continue}}if(this.metadataRegistry.get(f[0])?.id){r(f);continue}if(m.cycle){r(f);continue}if(m.count>1&&i.reused==="ref"){r(f);continue}}const a=(f,m)=>{const b=this.seen.get(f),_=b.def??b.schema,p={..._};if(b.ref===null)return;const y=b.ref;if(b.ref=null,y){a(y,m);const v=this.seen.get(y).schema;v.$ref&&m.target==="draft-7"?(_.allOf=_.allOf??[],_.allOf.push(v)):(Object.assign(_,v),Object.assign(_,p))}b.isParent||this.override({zodSchema:f,jsonSchema:_,path:b.path??[]})};for(const f of[...this.seen.entries()].reverse())a(f[0],{target:this.target});const s={};if(this.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?s.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),i.external?.uri){const f=i.external.registry.get(n)?.id;if(!f)throw new Error("Schema is missing an `id` property");s.$id=i.external.uri(f)}Object.assign(s,u.def);const l=i.external?.defs??{};for(const f of this.seen.entries()){const m=f[1];m.def&&m.defId&&(l[m.defId]=m.def)}i.external||Object.keys(l).length>0&&(this.target==="draft-2020-12"?s.$defs=l:s.definitions=l);try{return JSON.parse(JSON.stringify(s))}catch{throw new Error("Error converting schema to JSON.")}}}function ED(e,n){if(e instanceof GV){const i=new SD(n),u={};for(const a of e._idmap.entries()){const[s,l]=a;i.process(l)}const t={},r={registry:e,uri:n?.uri,defs:u};for(const a of e._idmap.entries()){const[s,l]=a;t[s]=i.emit(l,{...n,external:r})}if(Object.keys(u).length>0){const a=i.target==="draft-2020-12"?"$defs":"definitions";t.__shared={[a]:u}}return{schemas:t}}const o=new SD(n);return o.process(e),o.emit(e,n)}function or(e,n){const o=n??{seen:new Set};if(o.seen.has(e))return!1;o.seen.add(e);const u=e._zod.def;switch(u.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return or(u.element,o);case"object":{for(const t in u.shape)if(or(u.shape[t],o))return!0;return!1}case"union":{for(const t of u.options)if(or(t,o))return!0;return!1}case"intersection":return or(u.left,o)||or(u.right,o);case"tuple":{for(const t of u.items)if(or(t,o))return!0;return!!(u.rest&&or(u.rest,o))}case"record":return or(u.keyType,o)||or(u.valueType,o);case"map":return or(u.keyType,o)||or(u.valueType,o);case"set":return or(u.valueType,o);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return or(u.innerType,o);case"lazy":return or(u.getter(),o);case"default":return or(u.innerType,o);case"prefault":return or(u.innerType,o);case"custom":return!1;case"transform":return!0;case"pipe":return or(u.in,o)||or(u.out,o);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${u.type}`)}function Gt(e){if(typeof e!="object"||e===null)return!1;const n=e;if(!("_zod"in n))return!1;const o=n._zod;return typeof o=="object"&&o!==null&&"def"in o}function lr(e){if(typeof e!="object"||e===null)return!1;const n=e;if(!("_def"in n)||"_zod"in n)return!1;const o=n._def;return typeof o=="object"&&o!=null&&"typeName"in o}function Aee(e){return Gt(e)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),lr(e)}function Jc(e){return!e||typeof e!="object"||Array.isArray(e)?!1:!!(Gt(e)||lr(e))}function HV(e){return typeof e=="object"&&e!==null&&"_def"in e&&typeof e._def=="object"&&e._def!==null&&"typeName"in e._def&&e._def.typeName==="ZodLiteral"}function KV(e){return Gt(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="literal":!1}function Nee(e){return!!(HV(e)||KV(e))}async function kV(e,n){if(Gt(e))try{return{success:!0,data:await FV(e,n)}}catch(o){return{success:!1,error:o}}if(lr(e))return await e.safeParseAsync(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function LT(e,n){if(Gt(e))return await FV(e,n);if(lr(e))return await e.parseAsync(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Dee(e,n){if(Gt(e))try{return{success:!0,data:BT(e,n)}}catch(o){return{success:!1,error:o}}if(lr(e))return e.safeParse(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Iee(e,n){if(Gt(e))return BT(e,n);if(lr(e))return e.parse(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function $T(e){if(Gt(e))return Hr.get(e)?.description;if(lr(e)||"description"in e&&typeof e.description=="string")return e.description}function zee(e){if(!Jc(e))return!1;if(lr(e)){const n=e._def;if(n.typeName==="ZodObject"){const o=e;return!o.shape||Object.keys(o.shape).length===0}if(n.typeName==="ZodRecord")return!0}if(Gt(e)){const n=e._zod.def;if(n.type==="object"){const o=e;return!o.shape||Object.keys(o.shape).length===0}if(n.type==="record")return!0}return typeof e=="object"&&e!==null&&!("shape"in e)}function YV(e){return Jc(e)?lr(e)?e._def.typeName==="ZodString":Gt(e)?e._zod.def.type==="string":!1:!1}function FT(e){return typeof e=="object"&&e!==null&&"_def"in e&&typeof e._def=="object"&&e._def!==null&&"typeName"in e._def&&e._def.typeName==="ZodObject"}function _l(e){return Gt(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="object":!1}function Tb(e){return Gt(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="array":!1}function WV(e){return Gt(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="optional":!1}function JV(e){return Gt(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="nullable":!1}function qee(e){return!!(FT(e)||_l(e))}function B1(e){if(lr(e))return e.shape;if(Gt(e))return e._zod.def.shape;throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Bee(e,n){if(lr(e))return e.extend(n);if(Gt(e))return _ee(e,n);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Uee(e){if(lr(e))return e.partial();if(Gt(e))return yee(VV,e);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function ab(e,n=!1){if(lr(e))return e.strict();if(_l(e)){const o=e._zod.def.shape;if(n)for(const[t,r]of Object.entries(e._zod.def.shape)){if(_l(r)){const s=ab(r,n);o[t]=s}else if(Tb(r)){let s=r._zod.def.element;_l(s)&&(s=ab(s,n)),o[t]=Xu(r,{...r._zod.def,element:s})}else o[t]=r;const a=Hr.get(r);a&&Hr.add(o[t],a)}const i=Xu(e,{...e._zod.def,shape:o,catchall:Pee(Tee)}),u=Hr.get(e);return u&&Hr.add(i,u),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function U1(e,n=!1){if(FT(e))return e.passthrough();if(_l(e)){const o=e._zod.def.shape;if(n)for(const[t,r]of Object.entries(e._zod.def.shape)){if(_l(r)){const s=U1(r,n);o[t]=s}else if(Tb(r)){let s=r._zod.def.element;_l(s)&&(s=U1(s,n)),o[t]=Xu(r,{...r._zod.def,element:s})}else o[t]=r;const a=Hr.get(r);a&&Hr.add(o[t],a)}const i=Xu(e,{...e._zod.def,shape:o,catchall:xee(Cee)}),u=Hr.get(e);return u&&Hr.add(i,u),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Lee(e){if(lr(e))try{const n=e.parse(void 0);return()=>n}catch{return}if(Gt(e))try{const n=BT(e,void 0);return()=>n}catch{return}}function $ee(e){return lr(e)&&"typeName"in e._def&&e._def.typeName==="ZodEffects"}function Fee(e){return Gt(e)&&e._zod.def.type==="pipe"}function Mf(e,n,o){const i=o.get(e);if(i!==void 0)return i;if(lr(e))return $ee(e)?Mf(e._def.schema,n,o):e;if(Gt(e)){let u=e;if(Fee(e)&&(u=Mf(e._zod.def.in,n,o)),n){if(_l(u)){const r={};for(const[a,s]of Object.entries(u._zod.def.shape))r[a]=Mf(s,n,o);u=Xu(u,{...u._zod.def,shape:r})}else if(Tb(u)){const r=Mf(u._zod.def.element,n,o);u=Xu(u,{...u._zod.def,element:r})}else if(WV(u)){const r=Mf(u._zod.def.innerType,n,o);u=Xu(u,{...u._zod.def,innerType:r})}else if(JV(u)){const r=Mf(u._zod.def.innerType,n,o);u=Xu(u,{...u._zod.def,innerType:r})}}const t=Hr.get(e);return t&&Hr.add(u,t),o.set(e,u),u}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function ZV(e,n=!1){return Mf(e,n,new WeakMap)}function Vee(e,n){if(lr(e)){const o=B1(e),i={};for(const[u,t]of Object.entries(o))n(u,t)?i[u]=t.optional():i[u]=t;return e.extend(i)}if(Gt(e)){const o=B1(e),i={...e._zod.def.shape};for(const[r,a]of Object.entries(o))n(r,a)&&(i[r]=new VV({type:"optional",innerType:a}));const u=Xu(e,{...e._zod.def,shape:i}),t=Hr.get(e);return t&&Hr.add(u,t),u}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Gee(e){return e instanceof Error&&(e.constructor.name==="ZodError"||e.constructor.name==="$ZodError")}const Hee=Symbol("Let zodToJsonSchema decide on which parser to use"),Kee={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},kee=e=>({...Kee,...e}),Yee=e=>{const n=kee(e),o=n.name!==void 0?[...n.basePath,n.definitionPath,n.name]:n.basePath;return{...n,flags:{hasReferencedOpenAiAnyType:!1},currentPath:o,propertyPath:void 0,seen:new Map(Object.entries(n.definitions).map(([i,u])=>[u._def,{def:u._def,path:[...n.basePath,n.definitionPath,i],jsonSchema:void 0}]))}},QV=(e,n)=>{let o=0;for(;o<e.length&&o<n.length&&e[o]===n[o];o++);return[(e.length-o).toString(),...n.slice(o)].join("/")};function yn(e){if(e.target!=="openAi")return{};const n=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?QV(n,e.currentPath):n.join("/")}}function XV(e,n,o,i){i?.errorMessages&&o&&(e.errorMessage={...e.errorMessage,[n]:o})}function Mt(e,n,o,i,u){e[n]=o,XV(e,n,i,u)}var St;(function(e){e.assertEqual=u=>{};function n(u){}e.assertIs=n;function o(u){throw new Error}e.assertNever=o,e.arrayToEnum=u=>{const t={};for(const r of u)t[r]=r;return t},e.getValidEnumValues=u=>{const t=e.objectKeys(u).filter(a=>typeof u[u[a]]!="number"),r={};for(const a of t)r[a]=u[a];return e.objectValues(r)},e.objectValues=u=>e.objectKeys(u).map(function(t){return u[t]}),e.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{const t=[];for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&t.push(r);return t},e.find=(u,t)=>{for(const r of u)if(t(r))return r},e.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&Number.isFinite(u)&&Math.floor(u)===u;function i(u,t=" | "){return u.map(r=>typeof r=="string"?`'${r}'`:r).join(t)}e.joinValues=i,e.jsonStringifyReplacer=(u,t)=>typeof t=="bigint"?t.toString():t})(St||(St={}));var RD;(function(e){e.mergeShapes=(n,o)=>({...n,...o})})(RD||(RD={}));const ke=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Uc=e=>{switch(typeof e){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(e)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(e)?ke.array:e===null?ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ke.promise:typeof Map<"u"&&e instanceof Map?ke.map:typeof Set<"u"&&e instanceof Set?ke.set:typeof Date<"u"&&e instanceof Date?ke.date:ke.object;default:return ke.unknown}},Be=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Zl extends Error{get errors(){return this.issues}constructor(n){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=n}format(n){const o=n||function(t){return t.message},i={_errors:[]},u=t=>{for(const r of t.issues)if(r.code==="invalid_union")r.unionErrors.map(u);else if(r.code==="invalid_return_type")u(r.returnTypeError);else if(r.code==="invalid_arguments")u(r.argumentsError);else if(r.path.length===0)i._errors.push(o(r));else{let a=i,s=0;for(;s<r.path.length;){const l=r.path[s];s===r.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(o(r))):a[l]=a[l]||{_errors:[]},a=a[l],s++}}};return u(this),i}static assert(n){if(!(n instanceof Zl))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=o=>o.message){const o={},i=[];for(const u of this.issues)if(u.path.length>0){const t=u.path[0];o[t]=o[t]||[],o[t].push(n(u))}else i.push(n(u));return{formErrors:i,fieldErrors:o}}get formErrors(){return this.flatten()}}Zl.create=e=>new Zl(e);const L1=(e,n)=>{let o;switch(e.code){case Be.invalid_type:e.received===ke.undefined?o="Required":o=`Expected ${e.expected}, received ${e.received}`;break;case Be.invalid_literal:o=`Invalid literal value, expected ${JSON.stringify(e.expected,St.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:o=`Unrecognized key(s) in object: ${St.joinValues(e.keys,", ")}`;break;case Be.invalid_union:o="Invalid input";break;case Be.invalid_union_discriminator:o=`Invalid discriminator value. Expected ${St.joinValues(e.options)}`;break;case Be.invalid_enum_value:o=`Invalid enum value. Expected ${St.joinValues(e.options)}, received '${e.received}'`;break;case Be.invalid_arguments:o="Invalid function arguments";break;case Be.invalid_return_type:o="Invalid function return type";break;case Be.invalid_date:o="Invalid date";break;case Be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(o=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(o=`${o} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?o=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?o=`Invalid input: must end with "${e.validation.endsWith}"`:St.assertNever(e.validation):e.validation!=="regex"?o=`Invalid ${e.validation}`:o="Invalid";break;case Be.too_small:e.type==="array"?o=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?o=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?o=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?o=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?o=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:o="Invalid input";break;case Be.too_big:e.type==="array"?o=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?o=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?o=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?o=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?o=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:o="Invalid input";break;case Be.custom:o="Invalid input";break;case Be.invalid_intersection_types:o="Intersection results could not be merged";break;case Be.not_multiple_of:o=`Number must be a multiple of ${e.multipleOf}`;break;case Be.not_finite:o="Number must be finite";break;default:o=n.defaultError,St.assertNever(e)}return{message:o}};let Wee=L1;function Jee(){return Wee}const Zee=e=>{const{data:n,path:o,errorMaps:i,issueData:u}=e,t=[...o,...u.path||[]],r={...u,path:t};if(u.message!==void 0)return{...u,path:t,message:u.message};let a="";const s=i.filter(l=>!!l).slice().reverse();for(const l of s)a=l(r,{data:n,defaultError:a}).message;return{...u,path:t,message:a}};function Fe(e,n){const o=Jee(),i=Zee({issueData:n,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,o,o===L1?void 0:L1].filter(u=>!!u)});e.common.issues.push(i)}class vn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(n,o){const i=[];for(const u of o){if(u.status==="aborted")return it;u.status==="dirty"&&n.dirty(),i.push(u.value)}return{status:n.value,value:i}}static async mergeObjectAsync(n,o){const i=[];for(const u of o){const t=await u.key,r=await u.value;i.push({key:t,value:r})}return vn.mergeObjectSync(n,i)}static mergeObjectSync(n,o){const i={};for(const u of o){const{key:t,value:r}=u;if(t.status==="aborted"||r.status==="aborted")return it;t.status==="dirty"&&n.dirty(),r.status==="dirty"&&n.dirty(),t.value!=="__proto__"&&(typeof r.value<"u"||u.alwaysSet)&&(i[t.value]=r.value)}return{status:n.value,value:i}}}const it=Object.freeze({status:"aborted"}),Em=e=>({status:"dirty",value:e}),Bn=e=>({status:"valid",value:e}),jD=e=>e.status==="aborted",CD=e=>e.status==="dirty",Jh=e=>e.status==="valid",ib=e=>typeof Promise<"u"&&e instanceof Promise;var We;(function(e){e.errToObj=n=>typeof n=="string"?{message:n}:n||{},e.toString=n=>typeof n=="string"?n:n?.message})(We||(We={}));class Zc{constructor(n,o,i,u){this._cachedPath=[],this.parent=n,this.data=o,this._path=i,this._key=u}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const TD=(e,n)=>{if(Jh(n))return{success:!0,data:n.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const o=new Zl(e.common.issues);return this._error=o,this._error}}};function ct(e){if(!e)return{};const{errorMap:n,invalid_type_error:o,required_error:i,description:u}=e;if(n&&(o||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:u}:{errorMap:(r,a)=>{const{message:s}=e;return r.code==="invalid_enum_value"?{message:s??a.defaultError}:typeof a.data>"u"?{message:s??i??a.defaultError}:r.code!=="invalid_type"?{message:a.defaultError}:{message:s??o??a.defaultError}},description:u}}class yt{get description(){return this._def.description}_getType(n){return Uc(n.data)}_getOrReturnCtx(n,o){return o||{common:n.parent.common,data:n.data,parsedType:Uc(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new vn,ctx:{common:n.parent.common,data:n.data,parsedType:Uc(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const o=this._parse(n);if(ib(o))throw new Error("Synchronous parse encountered promise.");return o}_parseAsync(n){const o=this._parse(n);return Promise.resolve(o)}parse(n,o){const i=this.safeParse(n,o);if(i.success)return i.data;throw i.error}safeParse(n,o){const i={common:{issues:[],async:o?.async??!1,contextualErrorMap:o?.errorMap},path:o?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Uc(n)},u=this._parseSync({data:n,path:i.path,parent:i});return TD(i,u)}"~validate"(n){const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Uc(n)};if(!this["~standard"].async)try{const i=this._parseSync({data:n,path:[],parent:o});return Jh(i)?{value:i.value}:{issues:o.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:n,path:[],parent:o}).then(i=>Jh(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(n,o){const i=await this.safeParseAsync(n,o);if(i.success)return i.data;throw i.error}async safeParseAsync(n,o){const i={common:{issues:[],contextualErrorMap:o?.errorMap,async:!0},path:o?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Uc(n)},u=this._parse({data:n,path:i.path,parent:i}),t=await(ib(u)?u:Promise.resolve(u));return TD(i,t)}refine(n,o){const i=u=>typeof o=="string"||typeof o>"u"?{message:o}:typeof o=="function"?o(u):o;return this._refinement((u,t)=>{const r=n(u),a=()=>t.addIssue({code:Be.custom,...i(u)});return typeof Promise<"u"&&r instanceof Promise?r.then(s=>s?!0:(a(),!1)):r?!0:(a(),!1)})}refinement(n,o){return this._refinement((i,u)=>n(i)?!0:(u.addIssue(typeof o=="function"?o(i,u):o),!1))}_refinement(n){return new Qh({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:o=>this["~validate"](o)}}optional(){return Gc.create(this,this._def)}nullable(){return Xh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yl.create(this)}promise(){return lb.create(this,this._def)}or(n){return sb.create([this,n],this._def)}and(n){return ub.create(this,n,this._def)}transform(n){return new Qh({...ct(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const o=typeof n=="function"?n:()=>n;return new V1({...ct(this._def),innerType:this,defaultValue:o,typeName:Ue.ZodDefault})}brand(){return new bte({typeName:Ue.ZodBranded,type:this,...ct(this._def)})}catch(n){const o=typeof n=="function"?n:()=>n;return new G1({...ct(this._def),innerType:this,catchValue:o,typeName:Ue.ZodCatch})}describe(n){const o=this.constructor;return new o({...this._def,description:n})}pipe(n){return VT.create(this,n)}readonly(){return H1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qee=/^c[^\s-]{8,}$/i,Xee=/^[0-9a-z]+$/,ete=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rte=/^[a-z0-9_-]{21}$/i,nte=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ate=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ite=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ote="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xO;const ste=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ute=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lte=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cte=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dte=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fte=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hte=new RegExp(`^${eG}$`);function tG(e){let n="[0-5]\\d";e.precision?n=`${n}\\.\\d{${e.precision}}`:e.precision==null&&(n=`${n}(\\.\\d+)?`);const o=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${n})${o}`}function pte(e){return new RegExp(`^${tG(e)}$`)}function gte(e){let n=`${eG}T${tG(e)}`;const o=[];return o.push(e.local?"Z?":"Z"),e.offset&&o.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${o.join("|")})`,new RegExp(`^${n}$`)}function mte(e,n){return!!((n==="v4"||!n)&&ste.test(e)||(n==="v6"||!n)&&lte.test(e))}function _te(e,n){if(!nte.test(e))return!1;try{const[o]=e.split(".");if(!o)return!1;const i=o.replace(/-/g,"+").replace(/_/g,"/").padEnd(o.length+(4-o.length%4)%4,"="),u=JSON.parse(atob(i));return!(typeof u!="object"||u===null||"typ"in u&&u?.typ!=="JWT"||!u.alg||n&&u.alg!==n)}catch{return!1}}function yte(e,n){return!!((n==="v4"||!n)&&ute.test(e)||(n==="v6"||!n)&&cte.test(e))}class Fc extends yt{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==ke.string){const t=this._getOrReturnCtx(n);return Fe(t,{code:Be.invalid_type,expected:ke.string,received:t.parsedType}),it}const i=new vn;let u;for(const t of this._def.checks)if(t.kind==="min")n.data.length<t.value&&(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),i.dirty());else if(t.kind==="max")n.data.length>t.value&&(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),i.dirty());else if(t.kind==="length"){const r=n.data.length>t.value,a=n.data.length<t.value;(r||a)&&(u=this._getOrReturnCtx(n,u),r?Fe(u,{code:Be.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message}):a&&Fe(u,{code:Be.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message}),i.dirty())}else if(t.kind==="email")ite.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"email",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="emoji")xO||(xO=new RegExp(ote,"u")),xO.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"emoji",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="uuid")tte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"uuid",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="nanoid")rte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"nanoid",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="cuid")Qee.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"cuid",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="cuid2")Xee.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"cuid2",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="ulid")ete.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"ulid",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="url")try{new URL(n.data)}catch{u=this._getOrReturnCtx(n,u),Fe(u,{validation:"url",code:Be.invalid_string,message:t.message}),i.dirty()}else t.kind==="regex"?(t.regex.lastIndex=0,t.regex.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"regex",code:Be.invalid_string,message:t.message}),i.dirty())):t.kind==="trim"?n.data=n.data.trim():t.kind==="includes"?n.data.includes(t.value,t.position)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:{includes:t.value,position:t.position},message:t.message}),i.dirty()):t.kind==="toLowerCase"?n.data=n.data.toLowerCase():t.kind==="toUpperCase"?n.data=n.data.toUpperCase():t.kind==="startsWith"?n.data.startsWith(t.value)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:{startsWith:t.value},message:t.message}),i.dirty()):t.kind==="endsWith"?n.data.endsWith(t.value)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:{endsWith:t.value},message:t.message}),i.dirty()):t.kind==="datetime"?gte(t).test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:"datetime",message:t.message}),i.dirty()):t.kind==="date"?hte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:"date",message:t.message}),i.dirty()):t.kind==="time"?pte(t).test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:"time",message:t.message}),i.dirty()):t.kind==="duration"?ate.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"duration",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="ip"?mte(n.data,t.version)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"ip",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="jwt"?_te(n.data,t.alg)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"jwt",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="cidr"?yte(n.data,t.version)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"cidr",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="base64"?dte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"base64",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="base64url"?fte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"base64url",code:Be.invalid_string,message:t.message}),i.dirty()):St.assertNever(t);return{status:i.value,value:n.data}}_regex(n,o,i){return this.refinement(u=>n.test(u),{validation:o,code:Be.invalid_string,...We.errToObj(i)})}_addCheck(n){return new Fc({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...We.errToObj(n)})}url(n){return this._addCheck({kind:"url",...We.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...We.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...We.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...We.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...We.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...We.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...We.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...We.errToObj(n)})}base64url(n){return this._addCheck({kind:"base64url",...We.errToObj(n)})}jwt(n){return this._addCheck({kind:"jwt",...We.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...We.errToObj(n)})}cidr(n){return this._addCheck({kind:"cidr",...We.errToObj(n)})}datetime(n){return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck({kind:"datetime",precision:typeof n?.precision>"u"?null:n?.precision,offset:n?.offset??!1,local:n?.local??!1,...We.errToObj(n?.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck({kind:"time",precision:typeof n?.precision>"u"?null:n?.precision,...We.errToObj(n?.message)})}duration(n){return this._addCheck({kind:"duration",...We.errToObj(n)})}regex(n,o){return this._addCheck({kind:"regex",regex:n,...We.errToObj(o)})}includes(n,o){return this._addCheck({kind:"includes",value:n,position:o?.position,...We.errToObj(o?.message)})}startsWith(n,o){return this._addCheck({kind:"startsWith",value:n,...We.errToObj(o)})}endsWith(n,o){return this._addCheck({kind:"endsWith",value:n,...We.errToObj(o)})}min(n,o){return this._addCheck({kind:"min",value:n,...We.errToObj(o)})}max(n,o){return this._addCheck({kind:"max",value:n,...We.errToObj(o)})}length(n,o){return this._addCheck({kind:"length",value:n,...We.errToObj(o)})}nonempty(n){return this.min(1,We.errToObj(n))}trim(){return new Fc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isCIDR(){return!!this._def.checks.find(n=>n.kind==="cidr")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get isBase64url(){return!!this._def.checks.find(n=>n.kind==="base64url")}get minLength(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n}get maxLength(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n}}Fc.create=e=>new Fc({checks:[],typeName:Ue.ZodString,coerce:e?.coerce??!1,...ct(e)});function vte(e,n){const o=(e.toString().split(".")[1]||"").length,i=(n.toString().split(".")[1]||"").length,u=o>i?o:i,t=Number.parseInt(e.toFixed(u).replace(".","")),r=Number.parseInt(n.toFixed(u).replace(".",""));return t%r/10**u}class $m extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==ke.number){const t=this._getOrReturnCtx(n);return Fe(t,{code:Be.invalid_type,expected:ke.number,received:t.parsedType}),it}let i;const u=new vn;for(const t of this._def.checks)t.kind==="int"?St.isInteger(n.data)||(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.invalid_type,expected:"integer",received:"float",message:t.message}),u.dirty()):t.kind==="min"?(t.inclusive?n.data<t.value:n.data<=t.value)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.too_small,minimum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),u.dirty()):t.kind==="max"?(t.inclusive?n.data>t.value:n.data>=t.value)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.too_big,maximum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),u.dirty()):t.kind==="multipleOf"?vte(n.data,t.value)!==0&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.not_multiple_of,multipleOf:t.value,message:t.message}),u.dirty()):t.kind==="finite"?Number.isFinite(n.data)||(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.not_finite,message:t.message}),u.dirty()):St.assertNever(t);return{status:u.value,value:n.data}}gte(n,o){return this.setLimit("min",n,!0,We.toString(o))}gt(n,o){return this.setLimit("min",n,!1,We.toString(o))}lte(n,o){return this.setLimit("max",n,!0,We.toString(o))}lt(n,o){return this.setLimit("max",n,!1,We.toString(o))}setLimit(n,o,i,u){return new $m({...this._def,checks:[...this._def.checks,{kind:n,value:o,inclusive:i,message:We.toString(u)}]})}_addCheck(n){return new $m({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:We.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:We.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:We.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:We.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:We.toString(n)})}multipleOf(n,o){return this._addCheck({kind:"multipleOf",value:n,message:We.toString(o)})}finite(n){return this._addCheck({kind:"finite",message:We.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:We.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:We.toString(n)})}get minValue(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n}get maxValue(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&St.isInteger(n.value))}get isFinite(){let n=null,o=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(o===null||i.value>o)&&(o=i.value):i.kind==="max"&&(n===null||i.value<n)&&(n=i.value)}return Number.isFinite(o)&&Number.isFinite(n)}}$m.create=e=>new $m({checks:[],typeName:Ue.ZodNumber,coerce:e?.coerce||!1,...ct(e)});class Fm extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)try{n.data=BigInt(n.data)}catch{return this._getInvalidInput(n)}if(this._getType(n)!==ke.bigint)return this._getInvalidInput(n);let i;const u=new vn;for(const t of this._def.checks)t.kind==="min"?(t.inclusive?n.data<t.value:n.data<=t.value)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.too_small,type:"bigint",minimum:t.value,inclusive:t.inclusive,message:t.message}),u.dirty()):t.kind==="max"?(t.inclusive?n.data>t.value:n.data>=t.value)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.too_big,type:"bigint",maximum:t.value,inclusive:t.inclusive,message:t.message}),u.dirty()):t.kind==="multipleOf"?n.data%t.value!==BigInt(0)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.not_multiple_of,multipleOf:t.value,message:t.message}),u.dirty()):St.assertNever(t);return{status:u.value,value:n.data}}_getInvalidInput(n){const o=this._getOrReturnCtx(n);return Fe(o,{code:Be.invalid_type,expected:ke.bigint,received:o.parsedType}),it}gte(n,o){return this.setLimit("min",n,!0,We.toString(o))}gt(n,o){return this.setLimit("min",n,!1,We.toString(o))}lte(n,o){return this.setLimit("max",n,!0,We.toString(o))}lt(n,o){return this.setLimit("max",n,!1,We.toString(o))}setLimit(n,o,i,u){return new Fm({...this._def,checks:[...this._def.checks,{kind:n,value:o,inclusive:i,message:We.toString(u)}]})}_addCheck(n){return new Fm({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:We.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:We.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:We.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:We.toString(n)})}multipleOf(n,o){return this._addCheck({kind:"multipleOf",value:n,message:We.toString(o)})}get minValue(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n}get maxValue(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n}}Fm.create=e=>new Fm({checks:[],typeName:Ue.ZodBigInt,coerce:e?.coerce??!1,...ct(e)});class MD extends yt{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==ke.boolean){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:ke.boolean,received:i.parsedType}),it}return Bn(n.data)}}MD.create=e=>new MD({typeName:Ue.ZodBoolean,coerce:e?.coerce||!1,...ct(e)});class ob extends yt{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==ke.date){const t=this._getOrReturnCtx(n);return Fe(t,{code:Be.invalid_type,expected:ke.date,received:t.parsedType}),it}if(Number.isNaN(n.data.getTime())){const t=this._getOrReturnCtx(n);return Fe(t,{code:Be.invalid_date}),it}const i=new vn;let u;for(const t of this._def.checks)t.kind==="min"?n.data.getTime()<t.value&&(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.too_small,message:t.message,inclusive:!0,exact:!1,minimum:t.value,type:"date"}),i.dirty()):t.kind==="max"?n.data.getTime()>t.value&&(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.too_big,message:t.message,inclusive:!0,exact:!1,maximum:t.value,type:"date"}),i.dirty()):St.assertNever(t);return{status:i.value,value:new Date(n.data.getTime())}}_addCheck(n){return new ob({...this._def,checks:[...this._def.checks,n]})}min(n,o){return this._addCheck({kind:"min",value:n.getTime(),message:We.toString(o)})}max(n,o){return this._addCheck({kind:"max",value:n.getTime(),message:We.toString(o)})}get minDate(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n!=null?new Date(n):null}}ob.create=e=>new ob({checks:[],coerce:e?.coerce||!1,typeName:Ue.ZodDate,...ct(e)});class xD extends yt{_parse(n){if(this._getType(n)!==ke.symbol){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:ke.symbol,received:i.parsedType}),it}return Bn(n.data)}}xD.create=e=>new xD({typeName:Ue.ZodSymbol,...ct(e)});class PD extends yt{_parse(n){if(this._getType(n)!==ke.undefined){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:ke.undefined,received:i.parsedType}),it}return Bn(n.data)}}PD.create=e=>new PD({typeName:Ue.ZodUndefined,...ct(e)});class AD extends yt{_parse(n){if(this._getType(n)!==ke.null){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:ke.null,received:i.parsedType}),it}return Bn(n.data)}}AD.create=e=>new AD({typeName:Ue.ZodNull,...ct(e)});class $1 extends yt{constructor(){super(...arguments),this._any=!0}_parse(n){return Bn(n.data)}}$1.create=e=>new $1({typeName:Ue.ZodAny,...ct(e)});class ND extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(n){return Bn(n.data)}}ND.create=e=>new ND({typeName:Ue.ZodUnknown,...ct(e)});class Qc extends yt{_parse(n){const o=this._getOrReturnCtx(n);return Fe(o,{code:Be.invalid_type,expected:ke.never,received:o.parsedType}),it}}Qc.create=e=>new Qc({typeName:Ue.ZodNever,...ct(e)});class DD extends yt{_parse(n){if(this._getType(n)!==ke.undefined){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:ke.void,received:i.parsedType}),it}return Bn(n.data)}}DD.create=e=>new DD({typeName:Ue.ZodVoid,...ct(e)});class yl extends yt{_parse(n){const{ctx:o,status:i}=this._processInputParams(n),u=this._def;if(o.parsedType!==ke.array)return Fe(o,{code:Be.invalid_type,expected:ke.array,received:o.parsedType}),it;if(u.exactLength!==null){const r=o.data.length>u.exactLength.value,a=o.data.length<u.exactLength.value;(r||a)&&(Fe(o,{code:r?Be.too_big:Be.too_small,minimum:a?u.exactLength.value:void 0,maximum:r?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),i.dirty())}if(u.minLength!==null&&o.data.length<u.minLength.value&&(Fe(o,{code:Be.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),i.dirty()),u.maxLength!==null&&o.data.length>u.maxLength.value&&(Fe(o,{code:Be.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),i.dirty()),o.common.async)return Promise.all([...o.data].map((r,a)=>u.type._parseAsync(new Zc(o,r,o.path,a)))).then(r=>vn.mergeArray(i,r));const t=[...o.data].map((r,a)=>u.type._parseSync(new Zc(o,r,o.path,a)));return vn.mergeArray(i,t)}get element(){return this._def.type}min(n,o){return new yl({...this._def,minLength:{value:n,message:We.toString(o)}})}max(n,o){return new yl({...this._def,maxLength:{value:n,message:We.toString(o)}})}length(n,o){return new yl({...this._def,exactLength:{value:n,message:We.toString(o)}})}nonempty(n){return this.min(1,n)}}yl.create=(e,n)=>new yl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...ct(n)});function Lh(e){if(e instanceof rr){const n={};for(const o in e.shape){const i=e.shape[o];n[o]=Gc.create(Lh(i))}return new rr({...e._def,shape:()=>n})}else return e instanceof yl?new yl({...e._def,type:Lh(e.element)}):e instanceof Gc?Gc.create(Lh(e.unwrap())):e instanceof Xh?Xh.create(Lh(e.unwrap())):e instanceof zf?zf.create(e.items.map(n=>Lh(n))):e}class rr extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),o=St.objectKeys(n);return this._cached={shape:n,keys:o},this._cached}_parse(n){if(this._getType(n)!==ke.object){const l=this._getOrReturnCtx(n);return Fe(l,{code:Be.invalid_type,expected:ke.object,received:l.parsedType}),it}const{status:i,ctx:u}=this._processInputParams(n),{shape:t,keys:r}=this._getCached(),a=[];if(!(this._def.catchall instanceof Qc&&this._def.unknownKeys==="strip"))for(const l in u.data)r.includes(l)||a.push(l);const s=[];for(const l of r){const f=t[l],m=u.data[l];s.push({key:{status:"valid",value:l},value:f._parse(new Zc(u,m,u.path,l)),alwaysSet:l in u.data})}if(this._def.catchall instanceof Qc){const l=this._def.unknownKeys;if(l==="passthrough")for(const f of a)s.push({key:{status:"valid",value:f},value:{status:"valid",value:u.data[f]}});else if(l==="strict")a.length>0&&(Fe(u,{code:Be.unrecognized_keys,keys:a}),i.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const f of a){const m=u.data[f];s.push({key:{status:"valid",value:f},value:l._parse(new Zc(u,m,u.path,f)),alwaysSet:f in u.data})}}return u.common.async?Promise.resolve().then(async()=>{const l=[];for(const f of s){const m=await f.key,b=await f.value;l.push({key:m,value:b,alwaysSet:f.alwaysSet})}return l}).then(l=>vn.mergeObjectSync(i,l)):vn.mergeObjectSync(i,s)}get shape(){return this._def.shape()}strict(n){return We.errToObj,new rr({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(o,i)=>{const u=this._def.errorMap?.(o,i).message??i.defaultError;return o.code==="unrecognized_keys"?{message:We.errToObj(n).message??u}:{message:u}}}:{}})}strip(){return new rr({...this._def,unknownKeys:"strip"})}passthrough(){return new rr({...this._def,unknownKeys:"passthrough"})}extend(n){return new rr({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new rr({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:Ue.ZodObject})}setKey(n,o){return this.augment({[n]:o})}catchall(n){return new rr({...this._def,catchall:n})}pick(n){const o={};for(const i of St.objectKeys(n))n[i]&&this.shape[i]&&(o[i]=this.shape[i]);return new rr({...this._def,shape:()=>o})}omit(n){const o={};for(const i of St.objectKeys(this.shape))n[i]||(o[i]=this.shape[i]);return new rr({...this._def,shape:()=>o})}deepPartial(){return Lh(this)}partial(n){const o={};for(const i of St.objectKeys(this.shape)){const u=this.shape[i];n&&!n[i]?o[i]=u:o[i]=u.optional()}return new rr({...this._def,shape:()=>o})}required(n){const o={};for(const i of St.objectKeys(this.shape))if(n&&!n[i])o[i]=this.shape[i];else{let t=this.shape[i];for(;t instanceof Gc;)t=t._def.innerType;o[i]=t}return new rr({...this._def,shape:()=>o})}keyof(){return rG(St.objectKeys(this.shape))}}rr.create=(e,n)=>new rr({shape:()=>e,unknownKeys:"strip",catchall:Qc.create(),typeName:Ue.ZodObject,...ct(n)});rr.strictCreate=(e,n)=>new rr({shape:()=>e,unknownKeys:"strict",catchall:Qc.create(),typeName:Ue.ZodObject,...ct(n)});rr.lazycreate=(e,n)=>new rr({shape:e,unknownKeys:"strip",catchall:Qc.create(),typeName:Ue.ZodObject,...ct(n)});class sb extends yt{_parse(n){const{ctx:o}=this._processInputParams(n),i=this._def.options;function u(t){for(const a of t)if(a.result.status==="valid")return a.result;for(const a of t)if(a.result.status==="dirty")return o.common.issues.push(...a.ctx.common.issues),a.result;const r=t.map(a=>new Zl(a.ctx.common.issues));return Fe(o,{code:Be.invalid_union,unionErrors:r}),it}if(o.common.async)return Promise.all(i.map(async t=>{const r={...o,common:{...o.common,issues:[]},parent:null};return{result:await t._parseAsync({data:o.data,path:o.path,parent:r}),ctx:r}})).then(u);{let t;const r=[];for(const s of i){const l={...o,common:{...o.common,issues:[]},parent:null},f=s._parseSync({data:o.data,path:o.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!t&&(t={result:f,ctx:l}),l.common.issues.length&&r.push(l.common.issues)}if(t)return o.common.issues.push(...t.ctx.common.issues),t.result;const a=r.map(s=>new Zl(s));return Fe(o,{code:Be.invalid_union,unionErrors:a}),it}}get options(){return this._def.options}}sb.create=(e,n)=>new sb({options:e,typeName:Ue.ZodUnion,...ct(n)});function F1(e,n){const o=Uc(e),i=Uc(n);if(e===n)return{valid:!0,data:e};if(o===ke.object&&i===ke.object){const u=St.objectKeys(n),t=St.objectKeys(e).filter(a=>u.indexOf(a)!==-1),r={...e,...n};for(const a of t){const s=F1(e[a],n[a]);if(!s.valid)return{valid:!1};r[a]=s.data}return{valid:!0,data:r}}else if(o===ke.array&&i===ke.array){if(e.length!==n.length)return{valid:!1};const u=[];for(let t=0;t<e.length;t++){const r=e[t],a=n[t],s=F1(r,a);if(!s.valid)return{valid:!1};u.push(s.data)}return{valid:!0,data:u}}else return o===ke.date&&i===ke.date&&+e==+n?{valid:!0,data:e}:{valid:!1}}class ub extends yt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n),u=(t,r)=>{if(jD(t)||jD(r))return it;const a=F1(t.value,r.value);return a.valid?((CD(t)||CD(r))&&o.dirty(),{status:o.value,value:a.data}):(Fe(i,{code:Be.invalid_intersection_types}),it)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([t,r])=>u(t,r)):u(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}ub.create=(e,n,o)=>new ub({left:e,right:n,typeName:Ue.ZodIntersection,...ct(o)});class zf extends yt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.parsedType!==ke.array)return Fe(i,{code:Be.invalid_type,expected:ke.array,received:i.parsedType}),it;if(i.data.length<this._def.items.length)return Fe(i,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),it;!this._def.rest&&i.data.length>this._def.items.length&&(Fe(i,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o.dirty());const t=[...i.data].map((r,a)=>{const s=this._def.items[a]||this._def.rest;return s?s._parse(new Zc(i,r,i.path,a)):null}).filter(r=>!!r);return i.common.async?Promise.all(t).then(r=>vn.mergeArray(o,r)):vn.mergeArray(o,t)}get items(){return this._def.items}rest(n){return new zf({...this._def,rest:n})}}zf.create=(e,n)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zf({items:e,typeName:Ue.ZodTuple,rest:null,...ct(n)})};class ID extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.parsedType!==ke.map)return Fe(i,{code:Be.invalid_type,expected:ke.map,received:i.parsedType}),it;const u=this._def.keyType,t=this._def.valueType,r=[...i.data.entries()].map(([a,s],l)=>({key:u._parse(new Zc(i,a,i.path,[l,"key"])),value:t._parse(new Zc(i,s,i.path,[l,"value"]))}));if(i.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const s of r){const l=await s.key,f=await s.value;if(l.status==="aborted"||f.status==="aborted")return it;(l.status==="dirty"||f.status==="dirty")&&o.dirty(),a.set(l.value,f.value)}return{status:o.value,value:a}})}else{const a=new Map;for(const s of r){const l=s.key,f=s.value;if(l.status==="aborted"||f.status==="aborted")return it;(l.status==="dirty"||f.status==="dirty")&&o.dirty(),a.set(l.value,f.value)}return{status:o.value,value:a}}}}ID.create=(e,n,o)=>new ID({valueType:n,keyType:e,typeName:Ue.ZodMap,...ct(o)});class Vm extends yt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.parsedType!==ke.set)return Fe(i,{code:Be.invalid_type,expected:ke.set,received:i.parsedType}),it;const u=this._def;u.minSize!==null&&i.data.size<u.minSize.value&&(Fe(i,{code:Be.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),o.dirty()),u.maxSize!==null&&i.data.size>u.maxSize.value&&(Fe(i,{code:Be.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),o.dirty());const t=this._def.valueType;function r(s){const l=new Set;for(const f of s){if(f.status==="aborted")return it;f.status==="dirty"&&o.dirty(),l.add(f.value)}return{status:o.value,value:l}}const a=[...i.data.values()].map((s,l)=>t._parse(new Zc(i,s,i.path,l)));return i.common.async?Promise.all(a).then(s=>r(s)):r(a)}min(n,o){return new Vm({...this._def,minSize:{value:n,message:We.toString(o)}})}max(n,o){return new Vm({...this._def,maxSize:{value:n,message:We.toString(o)}})}size(n,o){return this.min(n,o).max(n,o)}nonempty(n){return this.min(1,n)}}Vm.create=(e,n)=>new Vm({valueType:e,minSize:null,maxSize:null,typeName:Ue.ZodSet,...ct(n)});class zD extends yt{get schema(){return this._def.getter()}_parse(n){const{ctx:o}=this._processInputParams(n);return this._def.getter()._parse({data:o.data,path:o.path,parent:o})}}zD.create=(e,n)=>new zD({getter:e,typeName:Ue.ZodLazy,...ct(n)});class qD extends yt{_parse(n){if(n.data!==this._def.value){const o=this._getOrReturnCtx(n);return Fe(o,{received:o.data,code:Be.invalid_literal,expected:this._def.value}),it}return{status:"valid",value:n.data}}get value(){return this._def.value}}qD.create=(e,n)=>new qD({value:e,typeName:Ue.ZodLiteral,...ct(n)});function rG(e,n){return new Zh({values:e,typeName:Ue.ZodEnum,...ct(n)})}class Zh extends yt{_parse(n){if(typeof n.data!="string"){const o=this._getOrReturnCtx(n),i=this._def.values;return Fe(o,{expected:St.joinValues(i),received:o.parsedType,code:Be.invalid_type}),it}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(n.data)){const o=this._getOrReturnCtx(n),i=this._def.values;return Fe(o,{received:o.data,code:Be.invalid_enum_value,options:i}),it}return Bn(n.data)}get options(){return this._def.values}get enum(){const n={};for(const o of this._def.values)n[o]=o;return n}get Values(){const n={};for(const o of this._def.values)n[o]=o;return n}get Enum(){const n={};for(const o of this._def.values)n[o]=o;return n}extract(n,o=this._def){return Zh.create(n,{...this._def,...o})}exclude(n,o=this._def){return Zh.create(this.options.filter(i=>!n.includes(i)),{...this._def,...o})}}Zh.create=rG;class BD extends yt{_parse(n){const o=St.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(n);if(i.parsedType!==ke.string&&i.parsedType!==ke.number){const u=St.objectValues(o);return Fe(i,{expected:St.joinValues(u),received:i.parsedType,code:Be.invalid_type}),it}if(this._cache||(this._cache=new Set(St.getValidEnumValues(this._def.values))),!this._cache.has(n.data)){const u=St.objectValues(o);return Fe(i,{received:i.data,code:Be.invalid_enum_value,options:u}),it}return Bn(n.data)}get enum(){return this._def.values}}BD.create=(e,n)=>new BD({values:e,typeName:Ue.ZodNativeEnum,...ct(n)});class lb extends yt{unwrap(){return this._def.type}_parse(n){const{ctx:o}=this._processInputParams(n);if(o.parsedType!==ke.promise&&o.common.async===!1)return Fe(o,{code:Be.invalid_type,expected:ke.promise,received:o.parsedType}),it;const i=o.parsedType===ke.promise?o.data:Promise.resolve(o.data);return Bn(i.then(u=>this._def.type.parseAsync(u,{path:o.path,errorMap:o.common.contextualErrorMap})))}}lb.create=(e,n)=>new lb({type:e,typeName:Ue.ZodPromise,...ct(n)});class Qh extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:o,ctx:i}=this._processInputParams(n),u=this._def.effect||null,t={addIssue:r=>{Fe(i,r),r.fatal?o.abort():o.dirty()},get path(){return i.path}};if(t.addIssue=t.addIssue.bind(t),u.type==="preprocess"){const r=u.transform(i.data,t);if(i.common.async)return Promise.resolve(r).then(async a=>{if(o.value==="aborted")return it;const s=await this._def.schema._parseAsync({data:a,path:i.path,parent:i});return s.status==="aborted"?it:s.status==="dirty"||o.value==="dirty"?Em(s.value):s});{if(o.value==="aborted")return it;const a=this._def.schema._parseSync({data:r,path:i.path,parent:i});return a.status==="aborted"?it:a.status==="dirty"||o.value==="dirty"?Em(a.value):a}}if(u.type==="refinement"){const r=a=>{const s=u.refinement(a,t);if(i.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?it:(a.status==="dirty"&&o.dirty(),r(a.value),{status:o.value,value:a.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>a.status==="aborted"?it:(a.status==="dirty"&&o.dirty(),r(a.value).then(()=>({status:o.value,value:a.value}))))}if(u.type==="transform")if(i.common.async===!1){const r=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Jh(r))return it;const a=u.transform(r.value,t);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:o.value,value:a}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(r=>Jh(r)?Promise.resolve(u.transform(r.value,t)).then(a=>({status:o.value,value:a})):it);St.assertNever(u)}}Qh.create=(e,n,o)=>new Qh({schema:e,typeName:Ue.ZodEffects,effect:n,...ct(o)});Qh.createWithPreprocess=(e,n,o)=>new Qh({schema:n,effect:{type:"preprocess",transform:e},typeName:Ue.ZodEffects,...ct(o)});class Gc extends yt{_parse(n){return this._getType(n)===ke.undefined?Bn(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}Gc.create=(e,n)=>new Gc({innerType:e,typeName:Ue.ZodOptional,...ct(n)});class Xh extends yt{_parse(n){return this._getType(n)===ke.null?Bn(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}Xh.create=(e,n)=>new Xh({innerType:e,typeName:Ue.ZodNullable,...ct(n)});class V1 extends yt{_parse(n){const{ctx:o}=this._processInputParams(n);let i=o.data;return o.parsedType===ke.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:o.path,parent:o})}removeDefault(){return this._def.innerType}}V1.create=(e,n)=>new V1({innerType:e,typeName:Ue.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default,...ct(n)});class G1 extends yt{_parse(n){const{ctx:o}=this._processInputParams(n),i={...o,common:{...o.common,issues:[]}},u=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return ib(u)?u.then(t=>({status:"valid",value:t.status==="valid"?t.value:this._def.catchValue({get error(){return new Zl(i.common.issues)},input:i.data})})):{status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Zl(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}G1.create=(e,n)=>new G1({innerType:e,typeName:Ue.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch,...ct(n)});class UD extends yt{_parse(n){if(this._getType(n)!==ke.nan){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:ke.nan,received:i.parsedType}),it}return{status:"valid",value:n.data}}}UD.create=e=>new UD({typeName:Ue.ZodNaN,...ct(e)});class bte extends yt{_parse(n){const{ctx:o}=this._processInputParams(n),i=o.data;return this._def.type._parse({data:i,path:o.path,parent:o})}unwrap(){return this._def.type}}class VT extends yt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.common.async)return(async()=>{const t=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return t.status==="aborted"?it:t.status==="dirty"?(o.dirty(),Em(t.value)):this._def.out._parseAsync({data:t.value,path:i.path,parent:i})})();{const u=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?it:u.status==="dirty"?(o.dirty(),{status:"dirty",value:u.value}):this._def.out._parseSync({data:u.value,path:i.path,parent:i})}}static create(n,o){return new VT({in:n,out:o,typeName:Ue.ZodPipeline})}}class H1 extends yt{_parse(n){const o=this._def.innerType._parse(n),i=u=>(Jh(u)&&(u.value=Object.freeze(u.value)),u);return ib(o)?o.then(u=>i(u)):i(o)}unwrap(){return this._def.innerType}}H1.create=(e,n)=>new H1({innerType:e,typeName:Ue.ZodReadonly,...ct(n)});var Ue;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const GT=Fc.create,LD=$1.create;Qc.create;yl.create;const HT=rr.create;sb.create;ub.create;zf.create;Zh.create;lb.create;Gc.create;Xh.create;function wte(e,n){const o={type:"array"};return e.type?._def&&e.type?._def?.typeName!==Ue.ZodAny&&(o.items=jt(e.type._def,{...n,currentPath:[...n.currentPath,"items"]})),e.minLength&&Mt(o,"minItems",e.minLength.value,e.minLength.message,n),e.maxLength&&Mt(o,"maxItems",e.maxLength.value,e.maxLength.message,n),e.exactLength&&(Mt(o,"minItems",e.exactLength.value,e.exactLength.message,n),Mt(o,"maxItems",e.exactLength.value,e.exactLength.message,n)),o}function Ote(e,n){const o={type:"integer",format:"int64"};if(!e.checks)return o;for(const i of e.checks)switch(i.kind){case"min":n.target==="jsonSchema7"?i.inclusive?Mt(o,"minimum",i.value,i.message,n):Mt(o,"exclusiveMinimum",i.value,i.message,n):(i.inclusive||(o.exclusiveMinimum=!0),Mt(o,"minimum",i.value,i.message,n));break;case"max":n.target==="jsonSchema7"?i.inclusive?Mt(o,"maximum",i.value,i.message,n):Mt(o,"exclusiveMaximum",i.value,i.message,n):(i.inclusive||(o.exclusiveMaximum=!0),Mt(o,"maximum",i.value,i.message,n));break;case"multipleOf":Mt(o,"multipleOf",i.value,i.message,n);break}return o}function Ste(){return{type:"boolean"}}function nG(e,n){return jt(e.type._def,n)}const Ete=(e,n)=>jt(e.innerType._def,n);function aG(e,n,o){const i=o??n.dateStrategy;if(Array.isArray(i))return{anyOf:i.map(u=>aG(e,n,u))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Rte(e,n)}}const Rte=(e,n)=>{const o={type:"integer",format:"unix-time"};if(n.target==="openApi3")return o;for(const i of e.checks)switch(i.kind){case"min":Mt(o,"minimum",i.value,i.message,n);break;case"max":Mt(o,"maximum",i.value,i.message,n);break}return o};function jte(e,n){return{...jt(e.innerType._def,n),default:e.defaultValue()}}function Cte(e,n){return n.effectStrategy==="input"?jt(e.schema._def,n):yn(n)}function Tte(e){return{type:"string",enum:Array.from(e.values)}}const Mte=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function xte(e,n){const o=[jt(e.left._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),jt(e.right._def,{...n,currentPath:[...n.currentPath,"allOf","1"]})].filter(t=>!!t);let i=n.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return o.forEach(t=>{if(Mte(t))u.push(...t.allOf),t.unevaluatedProperties===void 0&&(i=void 0);else{let r=t;if("additionalProperties"in t&&t.additionalProperties===!1){const{additionalProperties:a,...s}=t;r=s}else i=void 0;u.push(r)}}),u.length?{allOf:u,...i}:void 0}function Pte(e,n){const o=typeof e.value;return o!=="bigint"&&o!=="number"&&o!=="boolean"&&o!=="string"?{type:Array.isArray(e.value)?"array":"object"}:n.target==="openApi3"?{type:o==="bigint"?"integer":o,enum:[e.value]}:{type:o==="bigint"?"integer":o,const:e.value}}let PO;const Hn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(PO===void 0&&(PO=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),PO),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function iG(e,n){const o={type:"string"};if(e.checks)for(const i of e.checks)switch(i.kind){case"min":Mt(o,"minLength",typeof o.minLength=="number"?Math.max(o.minLength,i.value):i.value,i.message,n);break;case"max":Mt(o,"maxLength",typeof o.maxLength=="number"?Math.min(o.maxLength,i.value):i.value,i.message,n);break;case"email":switch(n.emailStrategy){case"format:email":Kn(o,"email",i.message,n);break;case"format:idn-email":Kn(o,"idn-email",i.message,n);break;case"pattern:zod":Tr(o,Hn.email,i.message,n);break}break;case"url":Kn(o,"uri",i.message,n);break;case"uuid":Kn(o,"uuid",i.message,n);break;case"regex":Tr(o,i.regex,i.message,n);break;case"cuid":Tr(o,Hn.cuid,i.message,n);break;case"cuid2":Tr(o,Hn.cuid2,i.message,n);break;case"startsWith":Tr(o,RegExp(`^${AO(i.value,n)}`),i.message,n);break;case"endsWith":Tr(o,RegExp(`${AO(i.value,n)}$`),i.message,n);break;case"datetime":Kn(o,"date-time",i.message,n);break;case"date":Kn(o,"date",i.message,n);break;case"time":Kn(o,"time",i.message,n);break;case"duration":Kn(o,"duration",i.message,n);break;case"length":Mt(o,"minLength",typeof o.minLength=="number"?Math.max(o.minLength,i.value):i.value,i.message,n),Mt(o,"maxLength",typeof o.maxLength=="number"?Math.min(o.maxLength,i.value):i.value,i.message,n);break;case"includes":Tr(o,RegExp(AO(i.value,n)),i.message,n);break;case"ip":i.version!=="v6"&&Kn(o,"ipv4",i.message,n),i.version!=="v4"&&Kn(o,"ipv6",i.message,n);break;case"base64url":Tr(o,Hn.base64url,i.message,n);break;case"jwt":Tr(o,Hn.jwt,i.message,n);break;case"cidr":i.version!=="v6"&&Tr(o,Hn.ipv4Cidr,i.message,n),i.version!=="v4"&&Tr(o,Hn.ipv6Cidr,i.message,n);break;case"emoji":Tr(o,Hn.emoji(),i.message,n);break;case"ulid":Tr(o,Hn.ulid,i.message,n);break;case"base64":switch(n.base64Strategy){case"format:binary":Kn(o,"binary",i.message,n);break;case"contentEncoding:base64":Mt(o,"contentEncoding","base64",i.message,n);break;case"pattern:zod":Tr(o,Hn.base64,i.message,n);break}break;case"nanoid":Tr(o,Hn.nanoid,i.message,n);break}return o}function AO(e,n){return n.patternStrategy==="escape"?Nte(e):e}const Ate=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Nte(e){let n="";for(let o=0;o<e.length;o++)Ate.has(e[o])||(n+="\\"),n+=e[o];return n}function Kn(e,n,o,i){e.format||e.anyOf?.some(u=>u.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&i.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:n,...o&&i.errorMessages&&{errorMessage:{format:o}}})):Mt(e,"format",n,o,i)}function Tr(e,n,o,i){e.pattern||e.allOf?.some(u=>u.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&i.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:$D(n,i),...o&&i.errorMessages&&{errorMessage:{pattern:o}}})):Mt(e,"pattern",$D(n,i),o,i)}function $D(e,n){if(!n.applyRegexFlags||!e.flags)return e.source;const o={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=o.i?e.source.toLowerCase():e.source;let u="",t=!1,r=!1,a=!1;for(let s=0;s<i.length;s++){if(t){u+=i[s],t=!1;continue}if(o.i){if(r){if(i[s].match(/[a-z]/)){a?(u+=i[s],u+=`${i[s-2]}-${i[s]}`.toUpperCase(),a=!1):i[s+1]==="-"&&i[s+2]?.match(/[a-z]/)?(u+=i[s],a=!0):u+=`${i[s]}${i[s].toUpperCase()}`;continue}}else if(i[s].match(/[a-z]/)){u+=`[${i[s]}${i[s].toUpperCase()}]`;continue}}if(o.m){if(i[s]==="^"){u+=`(^|(?<=[\r
]))`;continue}else if(i[s]==="$"){u+=`($|(?=[\r
]))`;continue}}if(o.s&&i[s]==="."){u+=r?`${i[s]}\r
`:`[${i[s]}\r
]`;continue}u+=i[s],i[s]==="\\"?t=!0:r&&i[s]==="]"?r=!1:!r&&i[s]==="["&&(r=!0)}try{new RegExp(u)}catch{return console.warn(`Could not convert regex pattern at ${n.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return u}function oG(e,n){if(n.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),n.target==="openApi3"&&e.keyType?._def.typeName===Ue.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((i,u)=>({...i,[u]:jt(e.valueType._def,{...n,currentPath:[...n.currentPath,"properties",u]})??yn(n)}),{}),additionalProperties:n.rejectedAdditionalProperties};const o={type:"object",additionalProperties:jt(e.valueType._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]})??n.allowedAdditionalProperties};if(n.target==="openApi3")return o;if(e.keyType?._def.typeName===Ue.ZodString&&e.keyType._def.checks?.length){const{type:i,...u}=iG(e.keyType._def,n);return{...o,propertyNames:u}}else{if(e.keyType?._def.typeName===Ue.ZodEnum)return{...o,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===Ue.ZodBranded&&e.keyType._def.type._def.typeName===Ue.ZodString&&e.keyType._def.type._def.checks?.length){const{type:i,...u}=nG(e.keyType._def,n);return{...o,propertyNames:u}}}return o}function Dte(e,n){if(n.mapStrategy==="record")return oG(e,n);const o=jt(e.keyType._def,{...n,currentPath:[...n.currentPath,"items","items","0"]})||yn(n),i=jt(e.valueType._def,{...n,currentPath:[...n.currentPath,"items","items","1"]})||yn(n);return{type:"array",maxItems:125,items:{type:"array",items:[o,i],minItems:2,maxItems:2}}}function Ite(e){const n=e.values,i=Object.keys(e.values).filter(t=>typeof n[n[t]]!="number").map(t=>n[t]),u=Array.from(new Set(i.map(t=>typeof t)));return{type:u.length===1?u[0]==="string"?"string":"number":["string","number"],enum:i}}function zte(e){return e.target==="openAi"?void 0:{not:yn({...e,currentPath:[...e.currentPath,"not"]})}}function qte(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const cb={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Bte(e,n){if(n.target==="openApi3")return FD(e,n);const o=e.options instanceof Map?Array.from(e.options.values()):e.options;if(o.every(i=>i._def.typeName in cb&&(!i._def.checks||!i._def.checks.length))){const i=o.reduce((u,t)=>{const r=cb[t._def.typeName];return r&&!u.includes(r)?[...u,r]:u},[]);return{type:i.length>1?i:i[0]}}else if(o.every(i=>i._def.typeName==="ZodLiteral"&&!i.description)){const i=o.reduce((u,t)=>{const r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...u,r];case"bigint":return[...u,"integer"];case"object":return t._def.value===null?[...u,"null"]:u;default:return u}},[]);if(i.length===o.length){const u=i.filter((t,r,a)=>a.indexOf(t)===r);return{type:u.length>1?u:u[0],enum:o.reduce((t,r)=>t.includes(r._def.value)?t:[...t,r._def.value],[])}}}else if(o.every(i=>i._def.typeName==="ZodEnum"))return{type:"string",enum:o.reduce((i,u)=>[...i,...u._def.values.filter(t=>!i.includes(t))],[])};return FD(e,n)}const FD=(e,n)=>{const o=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((i,u)=>jt(i._def,{...n,currentPath:[...n.currentPath,"anyOf",`${u}`]})).filter(i=>!!i&&(!n.strictUnions||typeof i=="object"&&Object.keys(i).length>0));return o.length?{anyOf:o}:void 0};function Ute(e,n){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return n.target==="openApi3"?{type:cb[e.innerType._def.typeName],nullable:!0}:{type:[cb[e.innerType._def.typeName],"null"]};if(n.target==="openApi3"){const i=jt(e.innerType._def,{...n,currentPath:[...n.currentPath]});return i&&"$ref"in i?{allOf:[i],nullable:!0}:i&&{...i,nullable:!0}}const o=jt(e.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","0"]});return o&&{anyOf:[o,{type:"null"}]}}function Lte(e,n){const o={type:"number"};if(!e.checks)return o;for(const i of e.checks)switch(i.kind){case"int":o.type="integer",XV(o,"type",i.message,n);break;case"min":n.target==="jsonSchema7"?i.inclusive?Mt(o,"minimum",i.value,i.message,n):Mt(o,"exclusiveMinimum",i.value,i.message,n):(i.inclusive||(o.exclusiveMinimum=!0),Mt(o,"minimum",i.value,i.message,n));break;case"max":n.target==="jsonSchema7"?i.inclusive?Mt(o,"maximum",i.value,i.message,n):Mt(o,"exclusiveMaximum",i.value,i.message,n):(i.inclusive||(o.exclusiveMaximum=!0),Mt(o,"maximum",i.value,i.message,n));break;case"multipleOf":Mt(o,"multipleOf",i.value,i.message,n);break}return o}function $te(e,n){const o=n.target==="openAi",i={type:"object",properties:{}},u=[],t=e.shape();for(const a in t){let s=t[a];if(s===void 0||s._def===void 0)continue;let l=Vte(s);l&&o&&(s._def.typeName==="ZodOptional"&&(s=s._def.innerType),s.isNullable()||(s=s.nullable()),l=!1);const f=jt(s._def,{...n,currentPath:[...n.currentPath,"properties",a],propertyPath:[...n.currentPath,"properties",a]});f!==void 0&&(i.properties[a]=f,l||u.push(a))}u.length&&(i.required=u);const r=Fte(e,n);return r!==void 0&&(i.additionalProperties=r),i}function Fte(e,n){if(e.catchall._def.typeName!=="ZodNever")return jt(e.catchall._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return n.allowedAdditionalProperties;case"strict":return n.rejectedAdditionalProperties;case"strip":return n.removeAdditionalStrategy==="strict"?n.allowedAdditionalProperties:n.rejectedAdditionalProperties}}function Vte(e){try{return e.isOptional()}catch{return!0}}const Gte=(e,n)=>{if(n.currentPath.toString()===n.propertyPath?.toString())return jt(e.innerType._def,n);const o=jt(e.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","1"]});return o?{anyOf:[{not:yn(n)},o]}:yn(n)},Hte=(e,n)=>{if(n.pipeStrategy==="input")return jt(e.in._def,n);if(n.pipeStrategy==="output")return jt(e.out._def,n);const o=jt(e.in._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),i=jt(e.out._def,{...n,currentPath:[...n.currentPath,"allOf",o?"1":"0"]});return{allOf:[o,i].filter(u=>u!==void 0)}};function Kte(e,n){return jt(e.type._def,n)}function kte(e,n){const i={type:"array",uniqueItems:!0,items:jt(e.valueType._def,{...n,currentPath:[...n.currentPath,"items"]})};return e.minSize&&Mt(i,"minItems",e.minSize.value,e.minSize.message,n),e.maxSize&&Mt(i,"maxItems",e.maxSize.value,e.maxSize.message,n),i}function Yte(e,n){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((o,i)=>jt(o._def,{...n,currentPath:[...n.currentPath,"items",`${i}`]})).reduce((o,i)=>i===void 0?o:[...o,i],[]),additionalItems:jt(e.rest._def,{...n,currentPath:[...n.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((o,i)=>jt(o._def,{...n,currentPath:[...n.currentPath,"items",`${i}`]})).reduce((o,i)=>i===void 0?o:[...o,i],[])}}function Wte(e){return{not:yn(e)}}function Jte(e){return yn(e)}const Zte=(e,n)=>jt(e.innerType._def,n),Qte=(e,n,o)=>{switch(n){case Ue.ZodString:return iG(e,o);case Ue.ZodNumber:return Lte(e,o);case Ue.ZodObject:return $te(e,o);case Ue.ZodBigInt:return Ote(e,o);case Ue.ZodBoolean:return Ste();case Ue.ZodDate:return aG(e,o);case Ue.ZodUndefined:return Wte(o);case Ue.ZodNull:return qte(o);case Ue.ZodArray:return wte(e,o);case Ue.ZodUnion:case Ue.ZodDiscriminatedUnion:return Bte(e,o);case Ue.ZodIntersection:return xte(e,o);case Ue.ZodTuple:return Yte(e,o);case Ue.ZodRecord:return oG(e,o);case Ue.ZodLiteral:return Pte(e,o);case Ue.ZodEnum:return Tte(e);case Ue.ZodNativeEnum:return Ite(e);case Ue.ZodNullable:return Ute(e,o);case Ue.ZodOptional:return Gte(e,o);case Ue.ZodMap:return Dte(e,o);case Ue.ZodSet:return kte(e,o);case Ue.ZodLazy:return()=>e.getter()._def;case Ue.ZodPromise:return Kte(e,o);case Ue.ZodNaN:case Ue.ZodNever:return zte(o);case Ue.ZodEffects:return Cte(e,o);case Ue.ZodAny:return yn(o);case Ue.ZodUnknown:return Jte(o);case Ue.ZodDefault:return jte(e,o);case Ue.ZodBranded:return nG(e,o);case Ue.ZodReadonly:return Zte(e,o);case Ue.ZodCatch:return Ete(e,o);case Ue.ZodPipeline:return Hte(e,o);case Ue.ZodFunction:case Ue.ZodVoid:case Ue.ZodSymbol:return;default:return(i=>{})()}};function jt(e,n,o=!1){const i=n.seen.get(e);if(n.override){const a=n.override?.(e,n,i,o);if(a!==Hee)return a}if(i&&!o){const a=Xte(i,n);if(a!==void 0)return a}const u={def:e,path:n.currentPath,jsonSchema:void 0};n.seen.set(e,u);const t=Qte(e,e.typeName,n),r=typeof t=="function"?jt(t(),n):t;if(r&&ere(e,n,r),n.postProcess){const a=n.postProcess(r,e,n);return u.jsonSchema=r,a}return u.jsonSchema=r,r}const Xte=(e,n)=>{switch(n.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:QV(n.currentPath,e.path)};case"none":case"seen":return e.path.length<n.currentPath.length&&e.path.every((o,i)=>n.currentPath[i]===o)?(console.warn(`Recursive reference detected at ${n.currentPath.join("/")}! Defaulting to any`),yn(n)):n.$refStrategy==="seen"?yn(n):void 0}},ere=(e,n,o)=>(e.description&&(o.description=e.description,n.markdownDescription&&(o.markdownDescription=e.description)),o),tre=(e,n)=>{const o=Yee(n);let i;const u=n?.name,t=jt(e._def,o,!1)??yn(o);o.flags.hasReferencedOpenAiAnyType&&(i||(i={}),i[o.openAiAnyTypeName]||(i[o.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:o.$refStrategy==="relative"?"1":[...o.basePath,o.definitionPath,o.openAiAnyTypeName].join("/")}}));const r=u===void 0?i?{...t,[o.definitionPath]:i}:t:{$ref:[...o.$refStrategy==="relative"?[]:o.basePath,o.definitionPath,u].join("/"),[o.definitionPath]:{...i,[u]:t}};return o.target==="jsonSchema7"?r.$schema="http://json-schema.org/draft-07/schema#":(o.target==="jsonSchema2019-09"||o.target==="openAi")&&(r.$schema="https://json-schema.org/draft/2019-09/schema#"),o.target==="openAi"&&("anyOf"in r||"oneOf"in r||"allOf"in r||"type"in r&&Array.isArray(r.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),r};function Pf(e,n){const o=typeof e;if(o!==typeof n)return!1;if(Array.isArray(e)){if(!Array.isArray(n))return!1;const i=e.length;if(i!==n.length)return!1;for(let u=0;u<i;u++)if(!Pf(e[u],n[u]))return!1;return!0}if(o==="object"){if(!e||!n)return e===n;const i=Object.keys(e),u=Object.keys(n);if(i.length!==u.length)return!1;for(const r of i)if(!Pf(e[r],n[r]))return!1;return!0}return e===n}function Zu(e){return encodeURI(rre(e))}function rre(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}const nre={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},are={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},ire={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let ore=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Vc(e,n=Object.create(null),o=ore,i=""){if(e&&typeof e=="object"&&!Array.isArray(e)){const t=e.$id||e.id;if(t){const r=new URL(t,o.href);r.hash.length>1?n[r.href]=e:(r.hash="",i===""?o=r:Vc(e,n,o))}}else if(e!==!0&&e!==!1)return n;const u=o.href+(i?"#"+i:"");if(n[u]!==void 0)throw new Error(`Duplicate schema URI "${u}".`);if(n[u]=e,e===!0||e===!1)return n;if(e.__absolute_uri__===void 0&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:u}),e.$ref&&e.__absolute_ref__===void 0){const t=new URL(e.$ref,o.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:t.href})}if(e.$recursiveRef&&e.__absolute_recursive_ref__===void 0){const t=new URL(e.$recursiveRef,o.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:t.href})}if(e.$anchor){const t=new URL("#"+e.$anchor,o.href);n[t.href]=e}for(let t in e){if(ire[t])continue;const r=`${i}/${Zu(t)}`,a=e[t];if(Array.isArray(a)){if(nre[t]){const s=a.length;for(let l=0;l<s;l++)Vc(a[l],n,o,`${r}/${l}`)}}else if(are[t])for(let s in a)Vc(a[s],n,o,`${r}/${Zu(s)}`);else Vc(a,n,o,r)}return n}const sre=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ure=[0,31,28,31,30,31,30,31,31,30,31,30,31],lre=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,cre=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,dre=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,fre=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,hre=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,pre=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,gre=/^(?:\/(?:[^~/]|~0|~1)*)*$/,mre=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,_re=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,yre=e=>{if(e[0]==='"')return!1;const[n,o,...i]=e.split("@");return!n||!o||i.length!==0||n.length>64||o.length>253||n[0]==="."||n.endsWith(".")||n.includes("..")||!/^[a-z0-9.-]+$/i.test(o)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(n)?!1:o.split(".").every(u=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(u))},vre=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,bre=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,wre=e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e));function pl(e){return e.test.bind(e)}const VD={date:sG,time:uG.bind(void 0,!1),"date-time":Ere,duration:wre,uri:Cre,"uri-reference":pl(dre),"uri-template":pl(fre),url:pl(hre),email:yre,hostname:pl(cre),ipv4:pl(vre),ipv6:pl(bre),regex:Mre,uuid:pl(pre),"json-pointer":pl(gre),"json-pointer-uri-fragment":pl(mre),"relative-json-pointer":pl(_re)};function Ore(e){return e%4===0&&(e%100!==0||e%400===0)}function sG(e){const n=e.match(sre);if(!n)return!1;const o=+n[1],i=+n[2],u=+n[3];return i>=1&&i<=12&&u>=1&&u<=(i==2&&Ore(o)?29:ure[i])}function uG(e,n){const o=n.match(lre);if(!o)return!1;const i=+o[1],u=+o[2],t=+o[3],r=!!o[5];return(i<=23&&u<=59&&t<=59||i==23&&u==59&&t==60)&&(!e||r)}const Sre=/t|\s/i;function Ere(e){const n=e.split(Sre);return n.length==2&&sG(n[0])&&uG(!0,n[1])}const Rre=/\/|:/,jre=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Cre(e){return Rre.test(e)&&jre.test(e)}const Tre=/[^\\]\\Z/;function Mre(e){if(Tre.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}function xre(e){let n=0,o=e.length,i=0,u;for(;i<o;)n++,u=e.charCodeAt(i++),u>=55296&&u<=56319&&i<o&&(u=e.charCodeAt(i),(u&64512)==56320&&i++);return n}function $t(e,n,o="2019-09",i=Vc(n),u=!0,t=null,r="#",a="#",s=Object.create(null)){if(n===!0)return{valid:!0,errors:[]};if(n===!1)return{valid:!1,errors:[{instanceLocation:r,keyword:"false",keywordLocation:r,error:"False boolean schema."}]};const l=typeof e;let f;switch(l){case"boolean":case"number":case"string":f=l;break;case"object":e===null?f="null":Array.isArray(e)?f="array":f="object";break;default:throw new Error(`Instances of "${l}" type are not supported.`)}const{$ref:m,$recursiveRef:b,$recursiveAnchor:_,type:p,const:y,enum:v,required:S,not:R,anyOf:j,allOf:P,oneOf:T,if:C,then:D,else:M,format:L,properties:q,patternProperties:z,additionalProperties:w,unevaluatedProperties:V,minProperties:k,maxProperties:Y,propertyNames:U,dependentRequired:H,dependentSchemas:Z,dependencies:ee,prefixItems:N,items:G,additionalItems:J,unevaluatedItems:oe,contains:me,minContains:Ee,maxContains:K,minItems:$,maxItems:ne,uniqueItems:Q,minimum:ue,maximum:ye,exclusiveMinimum:Re,exclusiveMaximum:ae,multipleOf:le,minLength:be,maxLength:xe,pattern:Ae,__absolute_ref__:De,__absolute_recursive_ref__:fe}=n,he=[];if(_===!0&&t===null&&(t=n),b==="#"){const ge=t===null?i[fe]:t,Ie=`${a}/$recursiveRef`,$e=$t(e,t===null?n:t,o,i,u,ge,r,Ie,s);$e.valid||he.push({instanceLocation:r,keyword:"$recursiveRef",keywordLocation:Ie,error:"A subschema had errors."},...$e.errors)}if(m!==void 0){const Ie=i[De||m];if(Ie===void 0){let ze=`Unresolved $ref "${m}".`;throw De&&De!==m&&(ze+=`  Absolute URI "${De}".`),ze+=`
Known schemas:
- ${Object.keys(i).join(`
- `)}`,new Error(ze)}const $e=`${a}/$ref`,Pe=$t(e,Ie,o,i,u,t,r,$e,s);if(Pe.valid||he.push({instanceLocation:r,keyword:"$ref",keywordLocation:$e,error:"A subschema had errors."},...Pe.errors),o==="4"||o==="7")return{valid:he.length===0,errors:he}}if(Array.isArray(p)){let ge=p.length,Ie=!1;for(let $e=0;$e<ge;$e++)if(f===p[$e]||p[$e]==="integer"&&f==="number"&&e%1===0&&e===e){Ie=!0;break}Ie||he.push({instanceLocation:r,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${p.join('", "')}".`})}else p==="integer"?(f!=="number"||e%1||e!==e)&&he.push({instanceLocation:r,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${p}".`}):p!==void 0&&f!==p&&he.push({instanceLocation:r,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${p}".`});if(y!==void 0&&(f==="object"||f==="array"?Pf(e,y)||he.push({instanceLocation:r,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(y)}.`}):e!==y&&he.push({instanceLocation:r,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(y)}.`})),v!==void 0&&(f==="object"||f==="array"?v.some(ge=>Pf(e,ge))||he.push({instanceLocation:r,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`}):v.some(ge=>e===ge)||he.push({instanceLocation:r,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`})),R!==void 0){const ge=`${a}/not`;$t(e,R,o,i,u,t,r,ge).valid&&he.push({instanceLocation:r,keyword:"not",keywordLocation:ge,error:'Instance matched "not" schema.'})}let Ne=[];if(j!==void 0){const ge=`${a}/anyOf`,Ie=he.length;let $e=!1;for(let Pe=0;Pe<j.length;Pe++){const ze=j[Pe],F=Object.create(s),A=$t(e,ze,o,i,u,_===!0?t:null,r,`${ge}/${Pe}`,F);he.push(...A.errors),$e=$e||A.valid,A.valid&&Ne.push(F)}$e?he.length=Ie:he.splice(Ie,0,{instanceLocation:r,keyword:"anyOf",keywordLocation:ge,error:"Instance does not match any subschemas."})}if(P!==void 0){const ge=`${a}/allOf`,Ie=he.length;let $e=!0;for(let Pe=0;Pe<P.length;Pe++){const ze=P[Pe],F=Object.create(s),A=$t(e,ze,o,i,u,_===!0?t:null,r,`${ge}/${Pe}`,F);he.push(...A.errors),$e=$e&&A.valid,A.valid&&Ne.push(F)}$e?he.length=Ie:he.splice(Ie,0,{instanceLocation:r,keyword:"allOf",keywordLocation:ge,error:"Instance does not match every subschema."})}if(T!==void 0){const ge=`${a}/oneOf`,Ie=he.length,$e=T.filter((Pe,ze)=>{const F=Object.create(s),A=$t(e,Pe,o,i,u,_===!0?t:null,r,`${ge}/${ze}`,F);return he.push(...A.errors),A.valid&&Ne.push(F),A.valid}).length;$e===1?he.length=Ie:he.splice(Ie,0,{instanceLocation:r,keyword:"oneOf",keywordLocation:ge,error:`Instance does not match exactly one subschema (${$e} matches).`})}if((f==="object"||f==="array")&&Object.assign(s,...Ne),C!==void 0){const ge=`${a}/if`;if($t(e,C,o,i,u,t,r,ge,s).valid){if(D!==void 0){const $e=$t(e,D,o,i,u,t,r,`${a}/then`,s);$e.valid||he.push({instanceLocation:r,keyword:"if",keywordLocation:ge,error:'Instance does not match "then" schema.'},...$e.errors)}}else if(M!==void 0){const $e=$t(e,M,o,i,u,t,r,`${a}/else`,s);$e.valid||he.push({instanceLocation:r,keyword:"if",keywordLocation:ge,error:'Instance does not match "else" schema.'},...$e.errors)}}if(f==="object"){if(S!==void 0)for(const Pe of S)Pe in e||he.push({instanceLocation:r,keyword:"required",keywordLocation:`${a}/required`,error:`Instance does not have required property "${Pe}".`});const ge=Object.keys(e);if(k!==void 0&&ge.length<k&&he.push({instanceLocation:r,keyword:"minProperties",keywordLocation:`${a}/minProperties`,error:`Instance does not have at least ${k} properties.`}),Y!==void 0&&ge.length>Y&&he.push({instanceLocation:r,keyword:"maxProperties",keywordLocation:`${a}/maxProperties`,error:`Instance does not have at least ${Y} properties.`}),U!==void 0){const Pe=`${a}/propertyNames`;for(const ze in e){const F=`${r}/${Zu(ze)}`,A=$t(ze,U,o,i,u,t,F,Pe);A.valid||he.push({instanceLocation:r,keyword:"propertyNames",keywordLocation:Pe,error:`Property name "${ze}" does not match schema.`},...A.errors)}}if(H!==void 0){const Pe=`${a}/dependantRequired`;for(const ze in H)if(ze in e){const F=H[ze];for(const A of F)A in e||he.push({instanceLocation:r,keyword:"dependentRequired",keywordLocation:Pe,error:`Instance has "${ze}" but does not have "${A}".`})}}if(Z!==void 0)for(const Pe in Z){const ze=`${a}/dependentSchemas`;if(Pe in e){const F=$t(e,Z[Pe],o,i,u,t,r,`${ze}/${Zu(Pe)}`,s);F.valid||he.push({instanceLocation:r,keyword:"dependentSchemas",keywordLocation:ze,error:`Instance has "${Pe}" but does not match dependant schema.`},...F.errors)}}if(ee!==void 0){const Pe=`${a}/dependencies`;for(const ze in ee)if(ze in e){const F=ee[ze];if(Array.isArray(F))for(const A of F)A in e||he.push({instanceLocation:r,keyword:"dependencies",keywordLocation:Pe,error:`Instance has "${ze}" but does not have "${A}".`});else{const A=$t(e,F,o,i,u,t,r,`${Pe}/${Zu(ze)}`);A.valid||he.push({instanceLocation:r,keyword:"dependencies",keywordLocation:Pe,error:`Instance has "${ze}" but does not match dependant schema.`},...A.errors)}}}const Ie=Object.create(null);let $e=!1;if(q!==void 0){const Pe=`${a}/properties`;for(const ze in q){if(!(ze in e))continue;const F=`${r}/${Zu(ze)}`,A=$t(e[ze],q[ze],o,i,u,t,F,`${Pe}/${Zu(ze)}`);if(A.valid)s[ze]=Ie[ze]=!0;else if($e=u,he.push({instanceLocation:r,keyword:"properties",keywordLocation:Pe,error:`Property "${ze}" does not match schema.`},...A.errors),$e)break}}if(!$e&&z!==void 0){const Pe=`${a}/patternProperties`;for(const ze in z){const F=new RegExp(ze,"u"),A=z[ze];for(const I in e){if(!F.test(I))continue;const te=`${r}/${Zu(I)}`,ce=$t(e[I],A,o,i,u,t,te,`${Pe}/${Zu(ze)}`);ce.valid?s[I]=Ie[I]=!0:($e=u,he.push({instanceLocation:r,keyword:"patternProperties",keywordLocation:Pe,error:`Property "${I}" matches pattern "${ze}" but does not match associated schema.`},...ce.errors))}}}if(!$e&&w!==void 0){const Pe=`${a}/additionalProperties`;for(const ze in e){if(Ie[ze])continue;const F=`${r}/${Zu(ze)}`,A=$t(e[ze],w,o,i,u,t,F,Pe);A.valid?s[ze]=!0:($e=u,he.push({instanceLocation:r,keyword:"additionalProperties",keywordLocation:Pe,error:`Property "${ze}" does not match additional properties schema.`},...A.errors))}}else if(!$e&&V!==void 0){const Pe=`${a}/unevaluatedProperties`;for(const ze in e)if(!s[ze]){const F=`${r}/${Zu(ze)}`,A=$t(e[ze],V,o,i,u,t,F,Pe);A.valid?s[ze]=!0:he.push({instanceLocation:r,keyword:"unevaluatedProperties",keywordLocation:Pe,error:`Property "${ze}" does not match unevaluated properties schema.`},...A.errors)}}}else if(f==="array"){ne!==void 0&&e.length>ne&&he.push({instanceLocation:r,keyword:"maxItems",keywordLocation:`${a}/maxItems`,error:`Array has too many items (${e.length} > ${ne}).`}),$!==void 0&&e.length<$&&he.push({instanceLocation:r,keyword:"minItems",keywordLocation:`${a}/minItems`,error:`Array has too few items (${e.length} < ${$}).`});const ge=e.length;let Ie=0,$e=!1;if(N!==void 0){const Pe=`${a}/prefixItems`,ze=Math.min(N.length,ge);for(;Ie<ze;Ie++){const F=$t(e[Ie],N[Ie],o,i,u,t,`${r}/${Ie}`,`${Pe}/${Ie}`);if(s[Ie]=!0,!F.valid&&($e=u,he.push({instanceLocation:r,keyword:"prefixItems",keywordLocation:Pe,error:"Items did not match schema."},...F.errors),$e))break}}if(G!==void 0){const Pe=`${a}/items`;if(Array.isArray(G)){const ze=Math.min(G.length,ge);for(;Ie<ze;Ie++){const F=$t(e[Ie],G[Ie],o,i,u,t,`${r}/${Ie}`,`${Pe}/${Ie}`);if(s[Ie]=!0,!F.valid&&($e=u,he.push({instanceLocation:r,keyword:"items",keywordLocation:Pe,error:"Items did not match schema."},...F.errors),$e))break}}else for(;Ie<ge;Ie++){const ze=$t(e[Ie],G,o,i,u,t,`${r}/${Ie}`,Pe);if(s[Ie]=!0,!ze.valid&&($e=u,he.push({instanceLocation:r,keyword:"items",keywordLocation:Pe,error:"Items did not match schema."},...ze.errors),$e))break}if(!$e&&J!==void 0){const ze=`${a}/additionalItems`;for(;Ie<ge;Ie++){const F=$t(e[Ie],J,o,i,u,t,`${r}/${Ie}`,ze);s[Ie]=!0,F.valid||($e=u,he.push({instanceLocation:r,keyword:"additionalItems",keywordLocation:ze,error:"Items did not match additional items schema."},...F.errors))}}}if(me!==void 0)if(ge===0&&Ee===void 0)he.push({instanceLocation:r,keyword:"contains",keywordLocation:`${a}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(Ee!==void 0&&ge<Ee)he.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array has less items (${ge}) than minContains (${Ee}).`});else{const Pe=`${a}/contains`,ze=he.length;let F=0;for(let A=0;A<ge;A++){const I=$t(e[A],me,o,i,u,t,`${r}/${A}`,Pe);I.valid?(s[A]=!0,F++):he.push(...I.errors)}F>=(Ee||0)&&(he.length=ze),Ee===void 0&&K===void 0&&F===0?he.splice(ze,0,{instanceLocation:r,keyword:"contains",keywordLocation:Pe,error:"Array does not contain item matching schema."}):Ee!==void 0&&F<Ee?he.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array must contain at least ${Ee} items matching schema. Only ${F} items were found.`}):K!==void 0&&F>K&&he.push({instanceLocation:r,keyword:"maxContains",keywordLocation:`${a}/maxContains`,error:`Array may contain at most ${K} items matching schema. ${F} items were found.`})}if(!$e&&oe!==void 0){const Pe=`${a}/unevaluatedItems`;for(Ie;Ie<ge;Ie++){if(s[Ie])continue;const ze=$t(e[Ie],oe,o,i,u,t,`${r}/${Ie}`,Pe);s[Ie]=!0,ze.valid||he.push({instanceLocation:r,keyword:"unevaluatedItems",keywordLocation:Pe,error:"Items did not match unevaluated items schema."},...ze.errors)}}if(Q)for(let Pe=0;Pe<ge;Pe++){const ze=e[Pe],F=typeof ze=="object"&&ze!==null;for(let A=0;A<ge;A++){if(Pe===A)continue;const I=e[A];(ze===I||F&&(typeof I=="object"&&I!==null)&&Pf(ze,I))&&(he.push({instanceLocation:r,keyword:"uniqueItems",keywordLocation:`${a}/uniqueItems`,error:`Duplicate items at indexes ${Pe} and ${A}.`}),Pe=Number.MAX_SAFE_INTEGER,A=Number.MAX_SAFE_INTEGER)}}}else if(f==="number"){if(o==="4"?(ue!==void 0&&(Re===!0&&e<=ue||e<ue)&&he.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${Re?"or equal to ":""} ${ue}.`}),ye!==void 0&&(ae===!0&&e>=ye||e>ye)&&he.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${ae?"or equal to ":""} ${ye}.`})):(ue!==void 0&&e<ue&&he.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${ue}.`}),ye!==void 0&&e>ye&&he.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${ye}.`}),Re!==void 0&&e<=Re&&he.push({instanceLocation:r,keyword:"exclusiveMinimum",keywordLocation:`${a}/exclusiveMinimum`,error:`${e} is less than ${Re}.`}),ae!==void 0&&e>=ae&&he.push({instanceLocation:r,keyword:"exclusiveMaximum",keywordLocation:`${a}/exclusiveMaximum`,error:`${e} is greater than or equal to ${ae}.`})),le!==void 0){const ge=e%le;Math.abs(0-ge)>=11920929e-14&&Math.abs(le-ge)>=11920929e-14&&he.push({instanceLocation:r,keyword:"multipleOf",keywordLocation:`${a}/multipleOf`,error:`${e} is not a multiple of ${le}.`})}}else if(f==="string"){const ge=be===void 0&&xe===void 0?0:xre(e);be!==void 0&&ge<be&&he.push({instanceLocation:r,keyword:"minLength",keywordLocation:`${a}/minLength`,error:`String is too short (${ge} < ${be}).`}),xe!==void 0&&ge>xe&&he.push({instanceLocation:r,keyword:"maxLength",keywordLocation:`${a}/maxLength`,error:`String is too long (${ge} > ${xe}).`}),Ae!==void 0&&!new RegExp(Ae,"u").test(e)&&he.push({instanceLocation:r,keyword:"pattern",keywordLocation:`${a}/pattern`,error:"String does not match pattern."}),L!==void 0&&VD[L]&&!VD[L](e)&&he.push({instanceLocation:r,keyword:"format",keywordLocation:`${a}/format`,error:`String does not match format "${L}".`})}return{valid:he.length===0,errors:he}}class Pre{schema;draft;shortCircuit;lookup;constructor(n,o="2019-09",i=!0){this.schema=n,this.draft=o,this.shortCircuit=i,this.lookup=Vc(n)}validate(n){return $t(n,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(n,o){o&&(n={...n,$id:o}),Vc(n,this.lookup)}}var Are={};lt(Are,{Validator:()=>Pre,deepCompareStrict:()=>Pf,toJsonSchema:()=>Ql,validatesOnlyStrings:()=>Vv});function Ql(e,n){if(Gt(e)){const o=ZV(e,!0);if(_l(o)){const i=ab(o,!0);return ED(i,n)}else return ED(e,n)}return lr(e)?tre(e):e}function Vv(e){if(!e||typeof e!="object"||Object.keys(e).length===0||Array.isArray(e))return!1;if("type"in e)return typeof e.type=="string"?e.type==="string":Array.isArray(e.type)?e.type.every(n=>n==="string"):!1;if("enum"in e)return Array.isArray(e.enum)&&e.enum.length>0&&e.enum.every(n=>typeof n=="string");if("const"in e)return typeof e.const=="string";if("allOf"in e&&Array.isArray(e.allOf))return e.allOf.some(n=>Vv(n));if("anyOf"in e&&Array.isArray(e.anyOf)||"oneOf"in e&&Array.isArray(e.oneOf)){const n="anyOf"in e?e.anyOf:e.oneOf;return n.length>0&&n.every(o=>Vv(o))}if("not"in e)return!1;if("$ref"in e&&typeof e.$ref=="string"){const n=e.$ref,o=Vc(e);return o[n]?Vv(o[n]):!1}return!1}function Xc(e){return typeof e=="object"&&e!==null&&"type"in e&&typeof e.type=="string"&&"source_type"in e&&(e.source_type==="url"||e.source_type==="base64"||e.source_type==="text"||e.source_type==="id")}function KT(e){return Xc(e)&&e.source_type==="url"&&"url"in e&&typeof e.url=="string"}function kT(e){return Xc(e)&&e.source_type==="base64"&&"data"in e&&typeof e.data=="string"}function Nre(e){return Xc(e)&&e.source_type==="text"&&"text"in e&&typeof e.text=="string"}function lG(e){return Xc(e)&&e.source_type==="id"&&"id"in e&&typeof e.id=="string"}function cG(e){if(Xc(e)){if(e.source_type==="url")return{type:"image_url",image_url:{url:e.url}};if(e.source_type==="base64"){if(!e.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${e.mime_type};base64,${e.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function Dre(e){const n=e.split(";")[0].split("/");if(n.length!==2)throw new Error(`Invalid mime type: "${e}" - does not match type/subtype format.`);const o=n[0].trim(),i=n[1].trim();if(o===""||i==="")throw new Error(`Invalid mime type: "${e}" - type or subtype is empty.`);const u={};for(const t of e.split(";").slice(1)){const r=t.split("=");if(r.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${e}".`);const a=r[0].trim(),s=r[1].trim();if(a==="")throw new Error(`Invalid parameter syntax in mime type: "${e}".`);u[a]=s}return{type:o,subtype:i,parameters:u}}function K1({dataUrl:e,asTypedArray:n=!1}){const o=e.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let i;if(o){i=o[1].toLowerCase();const u=n?Uint8Array.from(atob(o[2]),t=>t.charCodeAt(0)):o[2];return{mime_type:i,data:u}}}function Ire(e,n){if(e.type==="text"){if(!n.fromStandardTextBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardTextBlock\` method.`);return n.fromStandardTextBlock(e)}if(e.type==="image"){if(!n.fromStandardImageBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardImageBlock\` method.`);return n.fromStandardImageBlock(e)}if(e.type==="audio"){if(!n.fromStandardAudioBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardAudioBlock\` method.`);return n.fromStandardAudioBlock(e)}if(e.type==="file"){if(!n.fromStandardFileBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardFileBlock\` method.`);return n.fromStandardFileBlock(e)}throw new Error(`Unable to convert content block type '${e.type}' to provider-specific format: not recognized.`)}var NO,GD;function zre(){return GD||(GD=1,NO=function(e,n){if(typeof e!="string")throw new TypeError("Expected a string");return n=typeof n>"u"?"_":n,e.replace(/([a-z\d])([A-Z])/g,"$1"+n+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+n+"$2").toLowerCase()}),NO}var qre=zre();const Bre=r_(qre);var Gy={exports:{}},HD;function Ure(){if(HD)return Gy.exports;HD=1;const e=/[\p{Lu}]/u,n=/[\p{Ll}]/u,o=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,u=/[_.\- ]+/,t=new RegExp("^"+u.source),r=new RegExp(u.source+i.source,"gu"),a=new RegExp("\\d+"+i.source,"gu"),s=(b,_,p)=>{let y=!1,v=!1,S=!1;for(let R=0;R<b.length;R++){const j=b[R];y&&e.test(j)?(b=b.slice(0,R)+"-"+b.slice(R),y=!1,S=v,v=!0,R++):v&&S&&n.test(j)?(b=b.slice(0,R-1)+"-"+b.slice(R-1),S=v,v=!1,y=!0):(y=_(j)===j&&p(j)!==j,S=v,v=p(j)===j&&_(j)!==j)}return b},l=(b,_)=>(o.lastIndex=0,b.replace(o,p=>_(p))),f=(b,_)=>(r.lastIndex=0,a.lastIndex=0,b.replace(r,(p,y)=>_(y)).replace(a,p=>_(p))),m=(b,_)=>{if(!(typeof b=="string"||Array.isArray(b)))throw new TypeError("Expected the input to be `string | string[]`");if(_={pascalCase:!1,preserveConsecutiveUppercase:!1,..._},Array.isArray(b)?b=b.map(S=>S.trim()).filter(S=>S.length).join("-"):b=b.trim(),b.length===0)return"";const p=_.locale===!1?S=>S.toLowerCase():S=>S.toLocaleLowerCase(_.locale),y=_.locale===!1?S=>S.toUpperCase():S=>S.toLocaleUpperCase(_.locale);return b.length===1?_.pascalCase?y(b):p(b):(b!==p(b)&&(b=s(b,p,y)),b=b.replace(t,""),_.preserveConsecutiveUppercase?b=l(b,p):b=p(b),_.pascalCase&&(b=y(b.charAt(0))+b.slice(1)),f(b,y))};return Gy.exports=m,Gy.exports.default=m,Gy.exports}Ure();function Lre(e,n){return n?.[e]||Bre(e)}function $re(e,n,o){const i={};for(const u in e)Object.hasOwn(e,u)&&(i[n(u,o)]=e[u]);return i}const dG="__lc_escaped__";function Fre(e){return"lc"in e||Object.keys(e).length===1&&dG in e}function Vre(e){return{[dG]:e}}function Gre(e){return e!==null&&typeof e=="object"&&"lc_serializable"in e&&typeof e.toJSON=="function"}function k1(e){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){if(Gre(e))return e;const n=e;if(Fre(n))return Vre(n);const o={};for(const[i,u]of Object.entries(n))o[i]=k1(u);return o}return Array.isArray(e)?e.map(n=>k1(n)):e}var Hre={};lt(Hre,{Serializable:()=>qf,get_lc_unique_name:()=>YT});function KD(e){return Array.isArray(e)?[...e]:{...e}}function Kre(e,n){const o=KD(e);for(const[i,u]of Object.entries(n)){const[t,...r]=i.split(".").reverse();let a=o;for(const s of r.reverse()){if(a[s]===void 0)break;a[s]=KD(a[s]),a=a[s]}a[t]!==void 0&&(a[t]={lc:1,type:"secret",id:[u]})}return o}function YT(e){const n=Object.getPrototypeOf(e);return typeof e.lc_name=="function"&&(typeof n.lc_name!="function"||e.lc_name()!==n.lc_name())?e.lc_name():e.name}var qf=class fG{lc_serializable=!1;lc_kwargs;static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,YT(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(n,...o){this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(n||{}).filter(([i])=>this.lc_serializable_keys?.includes(i))):this.lc_kwargs=n??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof fG||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const n={},o={},i=Object.keys(this.lc_kwargs).reduce((a,s)=>(a[s]=s in this?this[s]:this.lc_kwargs[s],a),{});for(let a=Object.getPrototypeOf(this);a;a=Object.getPrototypeOf(a))Object.assign(n,Reflect.get(a,"lc_aliases",this)),Object.assign(o,Reflect.get(a,"lc_secrets",this)),Object.assign(i,Reflect.get(a,"lc_attributes",this));Object.keys(o).forEach(a=>{let s=this,l=i;const[f,...m]=a.split(".").reverse();for(const b of m.reverse()){if(!(b in s)||s[b]===void 0)return;(!(b in l)||l[b]===void 0)&&(typeof s[b]=="object"&&s[b]!=null?l[b]={}:Array.isArray(s[b])&&(l[b]=[])),s=s[b],l=l[b]}f in s&&s[f]!==void 0&&(l[f]=l[f]||s[f])});const u={};for(const[a,s]of Object.entries(i))u[a]=k1(s);const t=Object.keys(o).length?Kre(u,o):u,r=$re(t,Lre,n);return{lc:1,type:"constructor",id:this.lc_id,kwargs:r}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function Xe(e,n){return at(e)&&e.type===n}function at(e){return typeof e=="object"&&e!==null}function vl(e){return Array.isArray(e)}function Ve(e){return typeof e=="string"}function Qu(e){return typeof e=="number"}function WT(e){return e instanceof Uint8Array}function kD(e){try{return JSON.parse(e)}catch{return}}const Gm=e=>e();function kre(e){if(e.type==="char_location"&&Ve(e.document_title)&&Qu(e.start_char_index)&&Qu(e.end_char_index)&&Ve(e.cited_text)){const{document_title:n,start_char_index:o,end_char_index:i,cited_text:u,...t}=e;return{...t,type:"citation",source:"char",title:n??void 0,startIndex:o,endIndex:i,citedText:u}}if(e.type==="page_location"&&Ve(e.document_title)&&Qu(e.start_page_number)&&Qu(e.end_page_number)&&Ve(e.cited_text)){const{document_title:n,start_page_number:o,end_page_number:i,cited_text:u,...t}=e;return{...t,type:"citation",source:"page",title:n??void 0,startIndex:o,endIndex:i,citedText:u}}if(e.type==="content_block_location"&&Ve(e.document_title)&&Qu(e.start_block_index)&&Qu(e.end_block_index)&&Ve(e.cited_text)){const{document_title:n,start_block_index:o,end_block_index:i,cited_text:u,...t}=e;return{...t,type:"citation",source:"block",title:n??void 0,startIndex:o,endIndex:i,citedText:u}}if(e.type==="web_search_result_location"&&Ve(e.url)&&Ve(e.title)&&Ve(e.encrypted_index)&&Ve(e.cited_text)){const{url:n,title:o,encrypted_index:i,cited_text:u,...t}=e;return{...t,type:"citation",source:"url",url:n,title:o,startIndex:Number(i),endIndex:Number(i),citedText:u}}if(e.type==="search_result_location"&&Ve(e.source)&&Ve(e.title)&&Qu(e.start_block_index)&&Qu(e.end_block_index)&&Ve(e.cited_text)){const{source:n,title:o,start_block_index:i,end_block_index:u,cited_text:t,...r}=e;return{...r,type:"citation",source:"search",url:n,title:o??void 0,startIndex:i,endIndex:u,citedText:t}}}function hG(e){if(Xe(e,"document")&&at(e.source)&&"type"in e.source){if(e.source.type==="base64"&&Ve(e.source.media_type)&&Ve(e.source.data))return{type:"file",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&Ve(e.source.url))return{type:"file",url:e.source.url};if(e.source.type==="file"&&Ve(e.source.file_id))return{type:"file",fileId:e.source.file_id};if(e.source.type==="text"&&Ve(e.source.data))return{type:"file",mimeType:String(e.source.media_type??"text/plain"),data:e.source.data}}else if(Xe(e,"image")&&at(e.source)&&"type"in e.source){if(e.source.type==="base64"&&Ve(e.source.media_type)&&Ve(e.source.data))return{type:"image",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&Ve(e.source.url))return{type:"image",url:e.source.url};if(e.source.type==="file"&&Ve(e.source.file_id))return{type:"image",fileId:e.source.file_id}}}function Yre(e){function*n(){for(const o of e){const i=hG(o);i?yield i:yield o}}return Array.from(n())}function YD(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(Xe(i,"text")&&Ve(i.text)){const{text:u,citations:t,...r}=i;if(vl(t)&&t.length){const a=t.reduce((s,l)=>{const f=kre(l);return f?[...s,f]:s},[]);yield{...r,type:"text",text:u,annotations:a};continue}else{yield{...r,type:"text",text:u};continue}}else if(Xe(i,"thinking")&&Ve(i.thinking)){const{thinking:u,signature:t,...r}=i;yield{...r,type:"reasoning",reasoning:u,signature:t};continue}else if(Xe(i,"redacted_thinking")){yield{type:"non_standard",value:i};continue}else if(Xe(i,"tool_use")&&Ve(i.name)&&Ve(i.id)){yield{type:"tool_call",id:i.id,name:i.name,args:i.input};continue}else if(Xe(i,"input_json_delta")){if(Jre(e)&&e.tool_call_chunks?.length){const u=e.tool_call_chunks[0];yield{type:"tool_call_chunk",id:u.id,name:u.name,args:u.args,index:u.index};continue}}else if(Xe(i,"server_tool_use")&&Ve(i.name)&&Ve(i.id)){const{name:u,id:t}=i;if(u==="web_search"){const r=Gm(()=>{if(typeof i.input=="string")return i.input;if(at(i.input)&&Ve(i.input.query))return i.input.query;if(Ve(i.partial_json)){const a=kD(i.partial_json);if(a?.query)return a.query}return""});yield{id:t,type:"server_tool_call",name:"web_search",args:{query:r}};continue}else if(i.name==="code_execution"){const r=Gm(()=>{if(typeof i.input=="string")return i.input;if(at(i.input)&&Ve(i.input.code))return i.input.code;if(Ve(i.partial_json)){const a=kD(i.partial_json);if(a?.code)return a.code}return""});yield{id:t,type:"server_tool_call",name:"code_execution",args:{code:r}};continue}}else if(Xe(i,"web_search_tool_result")&&Ve(i.tool_use_id)&&vl(i.content)){const{content:u,tool_use_id:t}=i,r=u.reduce((a,s)=>Xe(s,"web_search_result")?[...a,s.url]:a,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:t,status:"success",output:{urls:r}};continue}else if(Xe(i,"code_execution_tool_result")&&Ve(i.tool_use_id)&&at(i.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(Xe(i,"mcp_tool_use")){yield{id:i.id,type:"server_tool_call",name:"mcp_tool_use",args:i.input};continue}else if(Xe(i,"mcp_tool_result")&&Ve(i.tool_use_id)&&at(i.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(Xe(i,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:i.input};continue}else if(Xe(i,"search_result")){yield{id:i.id,type:"non_standard",value:i};continue}else if(Xe(i,"tool_result")){yield{id:i.id,type:"non_standard",value:i};continue}else{const u=hG(i);if(u){yield u;continue}}yield{type:"non_standard",value:i}}}return Array.from(n())}const Wre={translateContent:YD,translateContentChunk:YD};function Jre(e){return typeof e?._getType=="function"&&typeof e.concat=="function"&&e._getType()==="ai"}function Zre(e){return KT(e)?{type:e.type,mimeType:e.mime_type,url:e.url,metadata:e.metadata}:kT(e)?{type:e.type,mimeType:e.mime_type??"application/octet-stream",data:e.data,metadata:e.metadata}:lG(e)?{type:e.type,mimeType:e.mime_type,fileId:e.id,metadata:e.metadata}:e}function Qre(e){return e.map(Zre)}function Xre(e){return!!(Xe(e,"image_url")&&at(e.image_url)||Xe(e,"input_audio")&&at(e.input_audio)||Xe(e,"file")&&at(e.file))}function ene(e){if(Xe(e,"image_url")&&at(e.image_url)&&Ve(e.image_url.url)){const n=K1({dataUrl:e.image_url.url});return n?{type:"image",mimeType:n.mime_type,data:n.data}:{type:"image",url:e.image_url.url}}else{if(Xe(e,"input_audio")&&at(e.input_audio)&&Ve(e.input_audio.data)&&Ve(e.input_audio.format))return{type:"audio",data:e.input_audio.data,mimeType:`audio/${e.input_audio.format}`};if(Xe(e,"file")&&at(e.file)&&Ve(e.file.data)){const n=K1({dataUrl:e.file.data});if(n)return{type:"file",data:n.data,mimeType:n.mime_type};if(Ve(e.file.file_id))return{type:"file",fileId:e.file.file_id}}}return e}function tne(e){const n=[];typeof e.content=="string"?n.push({type:"text",text:e.content}):n.push(...JT(e.content));for(const o of e.tool_calls??[])n.push({type:"tool_call",id:o.id,name:o.name,args:o.args});return n}function rne(e){const n=[];typeof e.content=="string"?n.push({type:"text",text:e.content}):n.push(...JT(e.content));for(const o of e.tool_calls??[])n.push({type:"tool_call",id:o.id,name:o.name,args:o.args});return n}function JT(e){const n=[];for(const o of e)Xre(o)?n.push(ene(o)):n.push(o);return n}function nne(e){if(e.type==="url_citation"){const{url:n,title:o,start_index:i,end_index:u}=e;return{type:"citation",url:n,title:o,startIndex:i,endIndex:u}}if(e.type==="file_citation"){const{file_id:n,filename:o,index:i}=e;return{type:"citation",title:o,startIndex:i,endIndex:i,fileId:n}}return e}function pG(e){function*n(){at(e.additional_kwargs?.reasoning)&&vl(e.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:e.additional_kwargs.reasoning.summary.reduce((u,t)=>at(t)&&Ve(t.text)?`${u}${t.text}`:u,"")});const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o)if(Xe(i,"text")){const{text:u,annotations:t,...r}=i;Array.isArray(t)?yield{...r,type:"text",text:String(u),annotations:t.map(nne)}:yield{...r,type:"text",text:String(u)}}for(const i of e.tool_calls??[])yield{type:"tool_call",id:i.id,name:i.name,args:i.args};if(at(e.additional_kwargs)&&vl(e.additional_kwargs.tool_outputs))for(const i of e.additional_kwargs.tool_outputs){if(Xe(i,"web_search_call")){yield{id:i.id,type:"server_tool_call",name:"web_search",args:{query:i.query}};continue}else if(Xe(i,"file_search_call")){yield{id:i.id,type:"server_tool_call",name:"file_search",args:{query:i.query}};continue}else if(Xe(i,"computer_call")){yield{type:"non_standard",value:i};continue}else if(Xe(i,"code_interpreter_call")){if(Ve(i.code)&&(yield{id:i.id,type:"server_tool_call",name:"code_interpreter",args:{code:i.code}}),vl(i.outputs)){const u=Gm(()=>{if(i.status!=="in_progress"){if(i.status==="completed")return 0;if(i.status==="incomplete")return 127;if(i.status!=="interpreting"&&i.status==="failed")return 1}});for(const t of i.outputs)if(Xe(t,"logs")){yield{type:"server_tool_call_result",toolCallId:i.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:u??0,stderr:[0,void 0].includes(u)?void 0:String(t.logs),stdout:[0,void 0].includes(u)?String(t.logs):void 0}};continue}}continue}else if(Xe(i,"mcp_call")){yield{id:i.id,type:"server_tool_call",name:"mcp_call",args:i.input};continue}else if(Xe(i,"mcp_list_tools")){yield{id:i.id,type:"server_tool_call",name:"mcp_list_tools",args:i.input};continue}else if(Xe(i,"mcp_approval_request")){yield{type:"non_standard",value:i};continue}else if(Xe(i,"image_generation_call")){yield{type:"non_standard",value:i};continue}at(i)&&(yield{type:"non_standard",value:i})}}return Array.from(n())}function ane(e){function*n(){yield*pG(e);for(const o of e.tool_call_chunks??[])yield{type:"tool_call_chunk",id:o.id,name:o.name,args:o.args}}return Array.from(n())}const ine={translateContent:e=>typeof e.content=="string"?tne(e):pG(e),translateContentChunk:e=>typeof e.content=="string"?rne(e):ane(e)};function gG(e){return typeof e=="object"&&e!==null&&"type"in e&&"content"in e&&(typeof e.content=="string"||Array.isArray(e.content))}function one(e,n="pretty"){return n==="pretty"?sne(e):JSON.stringify(e)}function sne(e){const n=[],o=` ${e.type.charAt(0).toUpperCase()+e.type.slice(1)} Message `,i=Math.floor((80-o.length)/2),u="=".repeat(i),t=o.length%2===0?u:`${u}=`;if(n.push(`${u}${o}${t}`),e.type==="ai"){const r=e;if(r.tool_calls&&r.tool_calls.length>0){n.push("Tool Calls:");for(const a of r.tool_calls){n.push(`  ${a.name} (${a.id})`),n.push(` Call ID: ${a.id}`),n.push("  Args:");for(const[s,l]of Object.entries(a.args))n.push(`    ${s}: ${typeof l=="object"?JSON.stringify(l):l}`)}}}if(e.type==="tool"){const r=e;r.name&&n.push(`Name: ${r.name}`)}return typeof e.content=="string"&&e.content.trim()&&(n.length>1&&n.push(""),n.push(e.content)),n.join(`
`)}const DO=Symbol.for("langchain.message");function Xl(e,n){return typeof e=="string"?e===""?n:typeof n=="string"?e+n:Array.isArray(n)&&n.length===0?e:Array.isArray(n)&&n.some(o=>Xc(o))?[{type:"text",source_type:"text",text:e},...n]:[{type:"text",text:e},...n]:Array.isArray(n)?a_(e,n)??[...e,...n]:n===""?e:Array.isArray(e)&&e.some(o=>Xc(o))?[...e,{type:"file",source_type:"text",text:n}]:[...e,{type:"text",text:n}]}function mG(e,n){return e==="error"||n==="error"?"error":"success"}function une(e,n){function o(i,u){if(typeof i!="object"||i===null||i===void 0)return i;if(u>=n)return Array.isArray(i)?"[Array]":"[Object]";if(Array.isArray(i))return i.map(r=>o(r,u+1));const t={};for(const r of Object.keys(i))t[r]=o(i[r],u+1);return t}return JSON.stringify(o(e,0),null,2)}var In=class extends qf{lc_namespace=["langchain_core","messages"];lc_serializable=!0;get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}[DO]=!0;id;name;content;additional_kwargs;response_metadata;_getType(){return this.type}getType(){return this._getType()}constructor(e){const n=typeof e=="string"||Array.isArray(e)?{content:e}:e;n.additional_kwargs||(n.additional_kwargs={}),n.response_metadata||(n.response_metadata={}),super(n),this.name=n.name,n.content===void 0&&n.contentBlocks!==void 0?(this.content=n.contentBlocks,this.response_metadata={output_version:"v1",...n.response_metadata}):n.content!==void 0?(this.content=n.content??[],this.response_metadata=n.response_metadata):(this.content=[],this.response_metadata=n.response_metadata),this.additional_kwargs=n.additional_kwargs,this.id=n.id}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){const e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[Qre,JT,Yre].reduce((i,u)=>u(i),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&DO in e&&e[DO]===!0&&gG(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=une(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}toFormattedString(e="pretty"){return one(this,e)}};function lne(e){return Array.isArray(e)&&e.every(n=>typeof n.index=="number")}function Er(e={},n={}){const o={...e};for(const[i,u]of Object.entries(n))if(o[i]==null)o[i]=u;else{if(u==null)continue;if(typeof o[i]!=typeof u||Array.isArray(o[i])!==Array.isArray(u))throw new Error(`field[${i}] already exists in the message chunk, but with a different type.`);if(typeof o[i]=="string"){if(i==="type")continue;["id","name","output_version","model_provider"].includes(i)?u&&(o[i]=u):o[i]+=u}else if(typeof o[i]=="object"&&!Array.isArray(o[i]))o[i]=Er(o[i],u);else if(Array.isArray(o[i]))o[i]=a_(o[i],u);else{if(o[i]===u)continue;console.warn(`field[${i}] already exists in this message chunk and value has unsupported type.`)}}return o}function a_(e,n){if(!(e===void 0&&n===void 0)){if(e===void 0||n===void 0)return e||n;{const o=[...e];for(const i of n)if(typeof i=="object"&&i!==null&&"index"in i&&typeof i.index=="number"){const u=o.findIndex(t=>{const r=typeof t=="object",a="index"in t&&t.index===i.index,s="id"in t&&"id"in i&&t?.id===i?.id,l=!("id"in t)||!t?.id||!("id"in i)||!i?.id;return r&&a&&(s||l)});u!==-1&&typeof o[u]=="object"&&o[u]!==null?o[u]=Er(o[u],i):o.push(i)}else{if(typeof i=="object"&&i!==null&&"text"in i&&i.text==="")continue;o.push(i)}return o}}}function _G(e,n){if(!(e===void 0&&n===void 0)){if(e===void 0||n===void 0)return e??n;if(typeof e!=typeof n)throw new Error(`Cannot merge objects of different types.
Left ${typeof e}
Right ${typeof n}`);if(typeof e=="string"&&typeof n=="string")return e+n;if(Array.isArray(e)&&Array.isArray(n))return a_(e,n);if(typeof e=="object"&&typeof n=="object")return Er(e,n);if(e===n)return e;throw new Error(`Can not merge objects of different types.
Left ${e}
Right ${n}`)}}var rd=class yG extends In{static isInstance(n){if(!super.isInstance(n))return!1;let o=Object.getPrototypeOf(n);for(;o!==null;){if(o===yG.prototype)return!0;o=Object.getPrototypeOf(o)}return!1}};function vG(e){return typeof e.role=="string"}function kl(e){return typeof e?._getType=="function"}function ZT(e){return rd.isInstance(e)}var cne={};lt(cne,{ToolMessage:()=>sp,ToolMessageChunk:()=>i_,defaultToolCallParser:()=>QT,isDirectToolOutput:()=>bG,isToolMessage:()=>wG,isToolMessageChunk:()=>OG});function bG(e){return e!=null&&typeof e=="object"&&"lc_direct_tool_output"in e&&e.lc_direct_tool_output===!0}var sp=class extends In{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}lc_direct_tool_output=!0;type="tool";status;tool_call_id;metadata;artifact;constructor(e,n,o){const i=typeof e=="string"||Array.isArray(e)?{content:e,name:o,tool_call_id:n}:e;super(i),this.tool_call_id=i.tool_call_id,this.artifact=i.artifact,this.status=i.status,this.metadata=i.metadata}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},i_=class extends rd{type="tool";tool_call_id;status;artifact;constructor(e){super(e),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){const n=this.constructor;return new n({content:Xl(this.content,e.content),additional_kwargs:Er(this.additional_kwargs,e.additional_kwargs),response_metadata:Er(this.response_metadata,e.response_metadata),artifact:_G(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:mG(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function QT(e){const n=[],o=[];for(const i of e)if(i.function){const u=i.function.name;try{const t=JSON.parse(i.function.arguments);n.push({name:u||"",args:t||{},id:i.id})}catch{o.push({name:u,args:i.function.arguments,id:i.id,error:"Malformed args."})}}else continue;return[n,o]}function wG(e){return typeof e=="object"&&e!==null&&"getType"in e&&typeof e.getType=="function"&&e.getType()==="tool"}function OG(e){return e._getType()==="tool"}function Mb(e,n){return e.lc_error_code=n,e.message=`${e.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${n}/
`,e}function SG(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="tool_call")}var dne=class extends Error{output;constructor(e,n){super(e),this.output=n}};function Y1(e,n=xb){e=e.trim();const o=e.indexOf("```");if(o===-1)return n(e);let i=e.substring(o+3);i.startsWith(`json
`)?i=i.substring(5):i.startsWith("json")?i=i.substring(4):i.startsWith(`
`)&&(i=i.substring(1));const u=i.indexOf("```");let t=i;return u!==-1&&(t=i.substring(0,u)),n(t.trim())}function fne(e){try{return JSON.parse(e)}catch{}const n=e.trim();if(n.length===0)throw new Error("Unexpected end of JSON input");let o=0;function i(){for(;o<n.length&&/\s/.test(n[o]);)o+=1}function u(){if(n[o]!=='"')throw new Error(`Expected '"' at position ${o}, got '${n[o]}'`);o+=1;let f="",m=!1;for(;o<n.length;){const b=n[o];if(m){if(b==="n")f+=`
`;else if(b==="t")f+="	";else if(b==="r")f+="\r";else if(b==="\\")f+="\\";else if(b==='"')f+='"';else if(b==="b")f+="\b";else if(b==="f")f+="\f";else if(b==="/")f+="/";else if(b==="u"){const _=n.substring(o+1,o+5);if(/^[0-9A-Fa-f]{0,4}$/.test(_))_.length===4?f+=String.fromCharCode(Number.parseInt(_,16)):f+=`u${_}`,o+=_.length;else throw new Error(`Invalid unicode escape sequence '\\u${_}' at position ${o}`)}else throw new Error(`Invalid escape sequence '\\${b}' at position ${o}`);m=!1}else if(b==="\\")m=!0;else{if(b==='"')return o+=1,f;f+=b}o+=1}return m&&(f+="\\"),f}function t(){const f=o;let m="";if(n[o]==="-"&&(m+="-",o+=1),o<n.length&&n[o]==="0"&&(m+="0",o+=1,n[o]>="0"&&n[o]<="9"))throw new Error(`Invalid number at position ${f}`);if(o<n.length&&n[o]>="1"&&n[o]<="9")for(;o<n.length&&n[o]>="0"&&n[o]<="9";)m+=n[o],o+=1;if(o<n.length&&n[o]===".")for(m+=".",o+=1;o<n.length&&n[o]>="0"&&n[o]<="9";)m+=n[o],o+=1;if(o<n.length&&(n[o]==="e"||n[o]==="E"))for(m+=n[o],o+=1,o<n.length&&(n[o]==="+"||n[o]==="-")&&(m+=n[o],o+=1);o<n.length&&n[o]>="0"&&n[o]<="9";)m+=n[o],o+=1;if(m==="-")return-0;const b=Number.parseFloat(m);if(Number.isNaN(b))throw o=f,new Error(`Invalid number '${m}' at position ${f}`);return b}function r(){if(i(),o>=n.length)throw new Error(`Unexpected end of input at position ${o}`);const f=n[o];if(f==="{")return s();if(f==="[")return a();if(f==='"')return u();if("null".startsWith(n.substring(o,o+4)))return o+=Math.min(4,n.length-o),null;if("true".startsWith(n.substring(o,o+4)))return o+=Math.min(4,n.length-o),!0;if("false".startsWith(n.substring(o,o+5)))return o+=Math.min(5,n.length-o),!1;if(f==="-"||f>="0"&&f<="9")return t();throw new Error(`Unexpected character '${f}' at position ${o}`)}function a(){if(n[o]!=="[")throw new Error(`Expected '[' at position ${o}, got '${n[o]}'`);const f=[];if(o+=1,i(),o>=n.length)return f;if(n[o]==="]")return o+=1,f;for(;o<n.length;){if(i(),o>=n.length||(f.push(r()),i(),o>=n.length))return f;if(n[o]==="]")return o+=1,f;if(n[o]===","){o+=1;continue}throw new Error(`Expected ',' or ']' at position ${o}, got '${n[o]}'`)}return f}function s(){if(n[o]!=="{")throw new Error(`Expected '{' at position ${o}, got '${n[o]}'`);const f={};if(o+=1,i(),o>=n.length)return f;if(n[o]==="}")return o+=1,f;for(;o<n.length;){if(i(),o>=n.length)return f;const m=u();if(i(),o>=n.length)return f;if(n[o]!==":")throw new Error(`Expected ':' at position ${o}, got '${n[o]}'`);if(o+=1,i(),o>=n.length||(f[m]=r(),i(),o>=n.length))return f;if(n[o]==="}")return o+=1,f;if(n[o]===","){o+=1;continue}throw new Error(`Expected ',' or '}' at position ${o}, got '${n[o]}'`)}return f}const l=r();if(i(),o<n.length)throw new Error(`Unexpected character '${n[o]}' at position ${o}`);return l}function xb(e){try{return typeof e>"u"?null:fne(e)}catch{return null}}var nc=class EG extends In{static lc_name(){return"ChatMessage"}type="generic";role;static _chatMessageClass(){return EG}constructor(n,o){(typeof n=="string"||Array.isArray(n))&&(n={content:n,role:o}),super(n),this.role=n.role}static isInstance(n){return super.isInstance(n)&&n.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},o_=class extends rd{static lc_name(){return"ChatMessageChunk"}type="generic";role;constructor(e,n){(typeof e=="string"||Array.isArray(e))&&(e={content:e,role:n}),super(e),this.role=e.role}concat(e){const n=this.constructor;return new n({content:Xl(this.content,e.content),additional_kwargs:Er(this.additional_kwargs,e.additional_kwargs),response_metadata:Er(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};function hne(e){return e._getType()==="generic"}function pne(e){return e._getType()==="generic"}var Pb=class extends In{static lc_name(){return"FunctionMessage"}type="function";name;constructor(e){super(e),this.name=e.name}},s_=class extends rd{static lc_name(){return"FunctionMessageChunk"}type="function";concat(e){const n=this.constructor;return new n({content:Xl(this.content,e.content),additional_kwargs:Er(this.additional_kwargs,e.additional_kwargs),response_metadata:Er(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}};function gne(e){return e._getType()==="function"}function mne(e){return e._getType()==="function"}var Dt=class extends In{static lc_name(){return"HumanMessage"}type="human";constructor(e){super(e)}static isInstance(e){return super.isInstance(e)&&e.type==="human"}},u_=class extends rd{static lc_name(){return"HumanMessageChunk"}type="human";constructor(e){super(e)}concat(e){const n=this.constructor;return new n({content:Xl(this.content,e.content),additional_kwargs:Er(this.additional_kwargs,e.additional_kwargs),response_metadata:Er(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="human"}};function _ne(e){return e.getType()==="human"}function yne(e){return e.getType()==="human"}var db=class extends In{type="remove";id;constructor(e){super({...e,content:[]}),this.id=e.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(e){return super.isInstance(e)&&e.type==="remove"}},ur=class Gv extends In{static lc_name(){return"SystemMessage"}type="system";constructor(n){super(n)}concat(n){if(typeof n=="string")return new Gv({...this,content:Xl(this.content,n)});if(Gv.isInstance(n))return new Gv({...this,additional_kwargs:{...this.additional_kwargs,...n.additional_kwargs},response_metadata:{...this.response_metadata,...n.response_metadata},content:Xl(this.content,n.content)});throw new Error("Unexpected chunk type for system message")}static isInstance(n){return super.isInstance(n)&&n.type==="system"}},ed=class extends rd{static lc_name(){return"SystemMessageChunk"}type="system";constructor(e){super(e)}concat(e){const n=this.constructor;return new n({content:Xl(this.content,e.content),additional_kwargs:Er(this.additional_kwargs,e.additional_kwargs),response_metadata:Er(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="system"}};function vne(e){return e._getType()==="system"}function bne(e){return e._getType()==="system"}function XT(e){switch(e){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function wne(e){if(at(e.document)&&at(e.document.source)){const n=at(e.document)&&Ve(e.document.format)?e.document.format:"",o=XT(n);if(at(e.document.source)){if(at(e.document.source.s3Location)&&Ve(e.document.source.s3Location.uri))return{type:"file",mimeType:o,fileId:e.document.source.s3Location.uri};if(WT(e.document.source.bytes))return{type:"file",mimeType:o,data:e.document.source.bytes};if(Ve(e.document.source.text))return{type:"file",mimeType:o,data:Buffer.from(e.document.source.text).toString("base64")};if(vl(e.document.source.content)){const i=e.document.source.content.reduce((u,t)=>at(t)&&Ve(t.text)?u+t.text:u,"");return{type:"file",mimeType:o,data:i}}}}return{type:"non_standard",value:e}}function One(e){if(Xe(e,"image")&&at(e.image)){const n=at(e.image)&&Ve(e.image.format)?e.image.format:"",o=XT(n);if(at(e.image.source)){if(at(e.image.source.s3Location)&&Ve(e.image.source.s3Location.uri))return{type:"image",mimeType:o,fileId:e.image.source.s3Location.uri};if(WT(e.image.source.bytes))return{type:"image",mimeType:o,data:e.image.source.bytes}}}return{type:"non_standard",value:e}}function Sne(e){if(Xe(e,"video")&&at(e.video)){const n=at(e.video)&&Ve(e.video.format)?e.video.format:"",o=XT(n);if(at(e.video.source)){if(at(e.video.source.s3Location)&&Ve(e.video.source.s3Location.uri))return{type:"video",mimeType:o,fileId:e.video.source.s3Location.uri};if(WT(e.video.source.bytes))return{type:"video",mimeType:o,data:e.video.source.bytes}}}return{type:"non_standard",value:e}}function WD(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(Xe(i,"cache_point")){yield{type:"non_standard",value:i};continue}else if(Xe(i,"citations_content")&&at(i.citationsContent)){const u=vl(i.citationsContent.content)?i.citationsContent.content.reduce((r,a)=>at(a)&&Ve(a.text)?r+a.text:r,""):"",t=vl(i.citationsContent.citations)?i.citationsContent.citations.reduce((r,a)=>{if(at(a)){const s=vl(a.sourceContent)?a.sourceContent.reduce((f,m)=>at(m)&&Ve(m.text)?f+m.text:f,""):"",l=Gm(()=>{if(at(a.location)){const f=a.location.documentChar||a.location.documentPage||a.location.documentChunk;if(at(f))return{source:Qu(f.documentIndex)?f.documentIndex.toString():void 0,startIndex:Qu(f.start)?f.start:void 0,endIndex:Qu(f.end)?f.end:void 0}}return{}});r.push({type:"citation",citedText:s,...l})}return r},[]):[];yield{type:"text",text:u,annotations:t};continue}else if(Xe(i,"document")&&at(i.document)){yield wne(i);continue}else if(Xe(i,"guard_content")){yield{type:"non_standard",value:i};continue}else if(Xe(i,"image")&&at(i.image)){yield One(i);continue}else if(Xe(i,"reasoning_content")&&Ve(i.reasoningText)){yield{type:"reasoning",reasoning:i.reasoningText};continue}else if(Xe(i,"text")&&Ve(i.text)){yield{type:"text",text:i.text};continue}else if(Xe(i,"tool_result")){yield{type:"non_standard",value:i};continue}else{if(Xe(i,"tool_call"))continue;if(Xe(i,"video")&&at(i.video)){yield Sne(i);continue}}yield{type:"non_standard",value:i}}}return Array.from(n())}const Ene={translateContent:WD,translateContentChunk:WD};function JD(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(Xe(i,"text")&&Ve(i.text)){yield{type:"text",text:i.text};continue}else if(Xe(i,"inlineData")&&at(i.inlineData)&&Ve(i.inlineData.mimeType)&&Ve(i.inlineData.data)){yield{type:"file",mimeType:i.inlineData.mimeType,data:i.inlineData.data};continue}else if(Xe(i,"functionCall")&&at(i.functionCall)&&Ve(i.functionCall.name)&&at(i.functionCall.args)){yield{type:"tool_call",id:e.id,name:i.functionCall.name,args:i.functionCall.args};continue}else if(Xe(i,"functionResponse")){yield{type:"non_standard",value:i};continue}else if(Xe(i,"fileData")&&at(i.fileData)&&Ve(i.fileData.mimeType)&&Ve(i.fileData.fileUri)){yield{type:"file",mimeType:i.fileData.mimeType,fileId:i.fileData.fileUri};continue}else if(Xe(i,"executableCode")){yield{type:"non_standard",value:i};continue}else if(Xe(i,"codeExecutionResult")){yield{type:"non_standard",value:i};continue}yield{type:"non_standard",value:i}}}return Array.from(n())}const Rne={translateContent:JD,translateContentChunk:JD};function ZD(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(Xe(i,"reasoning")&&Ve(i.reasoning)){const u=Gm(()=>{const t=o.indexOf(i);if(vl(e.additional_kwargs?.signatures)&&t>=0)return e.additional_kwargs.signatures.at(t)});Ve(u)?yield{type:"reasoning",reasoning:i.reasoning,signature:u}:yield{type:"reasoning",reasoning:i.reasoning};continue}else if(Xe(i,"text")&&Ve(i.text)){yield{type:"text",text:i.text};continue}else if(Xe(i,"image_url")){if(Ve(i.image_url))if(i.image_url.startsWith("data:")){const u=/^data:([^;]+);base64,(.+)$/,t=i.image_url.match(u);t?yield{type:"image",data:t[2],mimeType:t[1]}:yield{type:"image",url:i.image_url}}else yield{type:"image",url:i.image_url};continue}else if(Xe(i,"media")&&Ve(i.mimeType)&&Ve(i.data)){yield{type:"file",mimeType:i.mimeType,data:i.data};continue}yield{type:"non_standard",value:i}}}return Array.from(n())}const jne={translateContent:ZD,translateContentChunk:ZD};globalThis.lc_block_translators_registry??=new Map([["anthropic",Wre],["bedrock-converse",Ene],["google-genai",Rne],["google-vertexai",jne],["openai",ine]]);function RG(e){return globalThis.lc_block_translators_registry.get(e)}function jG(e,n){return Er(e??{},n??{})}function CG(e,n){const o={};return(e?.audio!==void 0||n?.audio!==void 0)&&(o.audio=(e?.audio??0)+(n?.audio??0)),(e?.image!==void 0||n?.image!==void 0)&&(o.image=(e?.image??0)+(n?.image??0)),(e?.video!==void 0||n?.video!==void 0)&&(o.video=(e?.video??0)+(n?.video??0)),(e?.document!==void 0||n?.document!==void 0)&&(o.document=(e?.document??0)+(n?.document??0)),(e?.text!==void 0||n?.text!==void 0)&&(o.text=(e?.text??0)+(n?.text??0)),o}function Cne(e,n){const o={...CG(e,n)};return(e?.cache_read!==void 0||n?.cache_read!==void 0)&&(o.cache_read=(e?.cache_read??0)+(n?.cache_read??0)),(e?.cache_creation!==void 0||n?.cache_creation!==void 0)&&(o.cache_creation=(e?.cache_creation??0)+(n?.cache_creation??0)),o}function Tne(e,n){const o={...CG(e,n)};return(e?.reasoning!==void 0||n?.reasoning!==void 0)&&(o.reasoning=(e?.reasoning??0)+(n?.reasoning??0)),o}function eM(e,n){return{input_tokens:(e?.input_tokens??0)+(n?.input_tokens??0),output_tokens:(e?.output_tokens??0)+(n?.output_tokens??0),total_tokens:(e?.total_tokens??0)+(n?.total_tokens??0),input_token_details:Cne(e?.input_token_details,n?.input_token_details),output_token_details:Tne(e?.output_token_details,n?.output_token_details)}}var Or=class extends In{type="ai";tool_calls=[];invalid_tool_calls=[];usage_metadata;get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e){let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{n=e;const o=n.additional_kwargs?.tool_calls,i=n.tool_calls;o!=null&&o.length>0&&(i===void 0||i.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(o!=null&&i===void 0){const[u,t]=QT(o);n.tool_calls=u??[],n.invalid_tool_calls=t??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}if(n.response_metadata!==void 0&&"output_version"in n.response_metadata&&n.response_metadata.output_version==="v1"&&(n.contentBlocks=n.content,n.content=void 0),n.contentBlocks!==void 0){n.contentBlocks.push(...n.tool_calls.map(t=>({type:"tool_call",id:t.id,name:t.name,args:t.args})));const u=n.contentBlocks.filter(t=>t.type==="tool_call").filter(t=>!n.tool_calls?.some(r=>r.id===t.id&&r.name===t.name));u.length>0&&(n.tool_calls=u.map(t=>({type:"tool_call",id:t.id,name:t.name,args:t.args})))}}super(n),typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=RG(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls){const n=this.tool_calls.filter(o=>!e.some(i=>i.id===o.id&&i.name===o.name));e.push(...n.map(o=>({...o,type:"tool_call",id:o.id,name:o.name,args:o.args})))}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function Hc(e){return e._getType()==="ai"}function W1(e){return e._getType()==="ai"}var zn=class extends rd{type="ai";tool_calls=[];invalid_tool_calls=[];tool_call_chunks=[];usage_metadata;constructor(e){let n;typeof e=="string"||Array.isArray(e)?n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]}:e.tool_call_chunks===void 0||e.tool_call_chunks.length===0?n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}:n={...e,...TG(e.tool_call_chunks??[]),usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0},super(n),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=RG(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){const n=this.content.filter(o=>o.type==="tool_call").map(o=>o.id);for(const o of this.tool_calls)o.id&&!n.includes(o.id)&&e.push({...o,type:"tool_call",id:o.id,name:o.name,args:o.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:Xl(this.content,e.content),additional_kwargs:Er(this.additional_kwargs,e.additional_kwargs),response_metadata:jG(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const i=a_(this.tool_call_chunks,e.tool_call_chunks);i!==void 0&&i.length>0&&(n.tool_call_chunks=i)}(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(n.usage_metadata=eM(this.usage_metadata,e.usage_metadata));const o=this.constructor;return new o(n)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};const Mne=e=>e();function xne(e){return SG(e)?e:typeof e.id=="string"&&e.type==="function"&&typeof e.function=="object"&&e.function!==null&&"arguments"in e.function&&typeof e.function.arguments=="string"&&"name"in e.function&&typeof e.function.name=="string"?{id:e.id,args:JSON.parse(e.function.arguments),name:e.function.name,type:"tool_call"}:e}function Pne(e){return typeof e=="object"&&e!=null&&e.lc===1&&Array.isArray(e.id)&&e.kwargs!=null&&typeof e.kwargs=="object"}function IO(e){let n,o;if(Pne(e)){const i=e.id.at(-1);i==="HumanMessage"||i==="HumanMessageChunk"?n="user":i==="AIMessage"||i==="AIMessageChunk"?n="assistant":i==="SystemMessage"||i==="SystemMessageChunk"?n="system":i==="FunctionMessage"||i==="FunctionMessageChunk"?n="function":i==="ToolMessage"||i==="ToolMessageChunk"?n="tool":n="unknown",o=e.kwargs}else{const{type:i,...u}=e;n=i,o=u}if(n==="human"||n==="user")return new Dt(o);if(n==="ai"||n==="assistant"){const{tool_calls:i,...u}=o;if(!Array.isArray(i))return new Or(o);const t=i.map(xne);return new Or({...u,tool_calls:t})}else{if(n==="system")return new ur(o);if(n==="developer")return new ur({...o,additional_kwargs:{...o.additional_kwargs,__openai_role__:"developer"}});if(n==="tool"&&"tool_call_id"in o)return new sp({...o,content:o.content,tool_call_id:o.tool_call_id,name:o.name});if(n==="remove"&&"id"in o&&typeof o.id=="string")return new db({...o,id:o.id});throw Mb(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(e,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Kc(e){if(typeof e=="string")return new Dt(e);if(kl(e))return e;if(Array.isArray(e)){const[n,o]=e;return IO({type:n,content:o})}else if(vG(e)){const{role:n,...o}=e;return IO({...o,type:n})}else return IO(e)}function tM(e,n="Human",o="AI"){const i=[];for(const u of e){let t;if(u._getType()==="human")t=n;else if(u._getType()==="ai")t=o;else if(u._getType()==="system")t="System";else if(u._getType()==="tool")t="Tool";else if(u._getType()==="generic")t=u.role;else throw new Error(`Got unsupported message type: ${u._getType()}`);const r=u.name?`${u.name}, `:"",a=typeof u.content=="string"?u.content:JSON.stringify(u.content,null,2);i.push(`${t}: ${r}${a}`)}return i.join(`
`)}function Ane(e){if(e.data!==void 0)return e;{const n=e;return{type:n.type,data:{content:n.text,role:n.role,name:void 0,tool_call_id:void 0}}}}function rM(e){const n=Ane(e);switch(n.type){case"human":return new Dt(n.data);case"ai":return new Or(n.data);case"system":return new ur(n.data);case"function":if(n.data.name===void 0)throw new Error("Name must be defined for function messages");return new Pb(n.data);case"tool":if(n.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new sp(n.data);case"generic":if(n.data.role===void 0)throw new Error("Role must be defined for chat messages");return new nc(n.data);default:throw new Error(`Got unexpected type: ${n.type}`)}}function Nne(e){return e.map(rM)}function Dne(e){return e.map(n=>n.toDict())}function fb(e){const n=e._getType();if(n==="human")return new u_({...e});if(n==="ai"){let o={...e};return"tool_calls"in o&&(o={...o,tool_call_chunks:o.tool_calls?.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new zn({...o})}else{if(n==="system")return new ed({...e});if(n==="function")return new s_({...e});if(nc.isInstance(e))return new o_({...e});throw new Error("Unknown message type.")}}function TG(e){const n=e.reduce((u,t)=>{const r=u.findIndex(([a])=>"id"in t&&t.id&&"index"in t&&t.index!==void 0?t.id===a.id&&t.index===a.index:"id"in t&&t.id?t.id===a.id:"index"in t&&t.index!==void 0?t.index===a.index:!1);return r!==-1?u[r].push(t):u.push([t]),u},[]),o=[],i=[];for(const u of n){let t=null;const r=u[0]?.name??"",a=u.map(f=>f.args||"").join("").trim(),s=a.length?a:"{}",l=u[0]?.id;try{if(t=xb(s),!l||t===null||typeof t!="object"||Array.isArray(t))throw new Error("Malformed tool call chunk args.");o.push({name:r,args:t,id:l,type:"tool_call"})}catch{i.push({name:r,args:s,id:l,error:"Malformed args.",type:"invalid_tool_call"})}}return{tool_call_chunks:e,tool_calls:o,invalid_tool_calls:i}}var Ine={},zne={};lt(zne,{getEnv:()=>NG,getEnvironmentVariable:()=>bl,getRuntimeEnvironment:()=>DG,isBrowser:()=>MG,isDeno:()=>Ab,isJsDom:()=>PG,isNode:()=>AG,isWebWorker:()=>xG});const MG=()=>typeof window<"u"&&typeof window.document<"u",xG=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",PG=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),Ab=()=>typeof Deno<"u",AG=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Ab(),NG=()=>{let e;return MG()?e="browser":AG()?e="node":xG()?e="webworker":PG()?e="jsdom":Ab()?e="deno":e="other",e};let zO;function DG(){return zO===void 0&&(zO={library:"langchain-js",runtime:NG()}),zO}function bl(e){try{return typeof process<"u"?Ine?.[e]:Ab()?Deno?.env.get(e):void 0}catch{return}}const qne=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Im(e){return typeof e=="string"&&qne.test(e)}function Bne(e){if(!Im(e))throw TypeError("Invalid UUID");var n,o=new Uint8Array(16);return o[0]=(n=parseInt(e.slice(0,8),16))>>>24,o[1]=n>>>16&255,o[2]=n>>>8&255,o[3]=n&255,o[4]=(n=parseInt(e.slice(9,13),16))>>>8,o[5]=n&255,o[6]=(n=parseInt(e.slice(14,18),16))>>>8,o[7]=n&255,o[8]=(n=parseInt(e.slice(19,23),16))>>>8,o[9]=n&255,o[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,o[11]=n/4294967296&255,o[12]=n>>>24&255,o[13]=n>>>16&255,o[14]=n>>>8&255,o[15]=n&255,o}var wr=[];for(var qO=0;qO<256;++qO)wr.push((qO+256).toString(16).slice(1));function nM(e,n=0){return(wr[e[n+0]]+wr[e[n+1]]+wr[e[n+2]]+wr[e[n+3]]+"-"+wr[e[n+4]]+wr[e[n+5]]+"-"+wr[e[n+6]]+wr[e[n+7]]+"-"+wr[e[n+8]]+wr[e[n+9]]+"-"+wr[e[n+10]]+wr[e[n+11]]+wr[e[n+12]]+wr[e[n+13]]+wr[e[n+14]]+wr[e[n+15]]).toLowerCase()}var Hy,Une=new Uint8Array(16);function IG(){if(!Hy&&(Hy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hy(Une)}function Lne(e){e=unescape(encodeURIComponent(e));for(var n=[],o=0;o<e.length;++o)n.push(e.charCodeAt(o));return n}var $ne="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Fne="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Vne(e,n,o){function i(u,t,r,a){var s;if(typeof u=="string"&&(u=Lne(u)),typeof t=="string"&&(t=Bne(t)),((s=t)===null||s===void 0?void 0:s.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+u.length);if(l.set(t),l.set(u,t.length),l=o(l),l[6]=l[6]&15|n,l[8]=l[8]&63|128,r){a=a||0;for(var f=0;f<16;++f)r[a+f]=l[f];return r}return nM(l)}try{i.name=e}catch{}return i.DNS=$ne,i.URL=Fne,i}var Gne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const QD={randomUUID:Gne};function $c(e,n,o){if(QD.randomUUID&&!e)return QD.randomUUID();e=e||{};var i=e.random||(e.rng||IG)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,nM(i)}function Hne(e,n,o,i){switch(e){case 0:return n&o^~n&i;case 1:return n^o^i;case 2:return n&o^n&i^o&i;case 3:return n^o^i}}function BO(e,n){return e<<n|e>>>32-n}function Kne(e){var n=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var i=unescape(encodeURIComponent(e));e=[];for(var u=0;u<i.length;++u)e.push(i.charCodeAt(u))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var t=e.length/4+2,r=Math.ceil(t/16),a=new Array(r),s=0;s<r;++s){for(var l=new Uint32Array(16),f=0;f<16;++f)l[f]=e[s*64+f*4]<<24|e[s*64+f*4+1]<<16|e[s*64+f*4+2]<<8|e[s*64+f*4+3];a[s]=l}a[r-1][14]=(e.length-1)*8/Math.pow(2,32),a[r-1][14]=Math.floor(a[r-1][14]),a[r-1][15]=(e.length-1)*8&4294967295;for(var m=0;m<r;++m){for(var b=new Uint32Array(80),_=0;_<16;++_)b[_]=a[m][_];for(var p=16;p<80;++p)b[p]=BO(b[p-3]^b[p-8]^b[p-14]^b[p-16],1);for(var y=o[0],v=o[1],S=o[2],R=o[3],j=o[4],P=0;P<80;++P){var T=Math.floor(P/20),C=BO(y,5)+Hne(T,v,S,R)+j+n[T]+b[P]>>>0;j=R,R=S,S=BO(v,30)>>>0,v=y,y=C}o[0]=o[0]+y>>>0,o[1]=o[1]+v>>>0,o[2]=o[2]+S>>>0,o[3]=o[3]+R>>>0,o[4]=o[4]+j>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,o[0]&255,o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,o[1]&255,o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,o[2]&255,o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,o[3]&255,o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,o[4]&255]}var Rm=Vne("v5",80,Kne),XD=null,eI=null,kn=0;function Lc(e,n,o){e=e||{};var i=0,u=new Uint8Array(16),t=e.random||(e.rng||IG)(),r=e.msecs!==void 0?e.msecs:Date.now(),a=e.seq!==void 0?e.seq:null,s=eI,l=XD;return r>kn&&e.msecs===void 0&&(kn=r,a!==null&&(s=null,l=null)),a!==null&&(a>2147483647&&(a=2147483647),s=a>>>19&4095,l=a&524287),(s===null||l===null)&&(s=t[6]&127,s=s<<8|t[7],l=t[8]&63,l=l<<8|t[9],l=l<<5|t[10]>>>3),r+1e4>kn&&a===null?++l>524287&&(l=0,++s>4095&&(s=0,kn++)):kn=r,eI=s,XD=l,u[i++]=kn/1099511627776&255,u[i++]=kn/4294967296&255,u[i++]=kn/16777216&255,u[i++]=kn/65536&255,u[i++]=kn/256&255,u[i++]=kn&255,u[i++]=s>>>4&15|112,u[i++]=s&255,u[i++]=l>>>13&63|128,u[i++]=l>>>5&255,u[i++]=l<<3&255|t[10]&7,u[i++]=t[11],u[i++]=t[12],u[i++]=t[13],u[i++]=t[14],u[i++]=t[15],n||nM(u)}var kne={};lt(kne,{BaseCallbackHandler:()=>l_,callbackHandlerPrefersStreaming:()=>aM,isBaseCallbackHandler:()=>zG});var Yne=class{};function aM(e){return"lc_prefer_streaming"in e&&e.lc_prefer_streaming}var l_=class extends Yne{lc_serializable=!1;get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,YT(this.constructor)]}lc_kwargs;ignoreLLM=!1;ignoreChain=!1;ignoreAgent=!1;ignoreRetriever=!1;ignoreCustomEvent=!1;raiseError=!1;awaitHandlers=bl("LANGCHAIN_CALLBACKS_BACKGROUND")==="false";constructor(e){super(),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return qf.prototype.toJSON.call(this)}toJSONNotImplemented(){return qf.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends l_{name=Lc();constructor(){super(),Object.assign(this,e)}}return new n}};const zG=e=>{const n=e;return n!==void 0&&typeof n.copy=="function"&&typeof n.name=="string"&&typeof n.awaitHandlers=="boolean"},Wne="gen_ai.operation.name",Jne="gen_ai.system",tI="gen_ai.request.model",Zne="gen_ai.response.model",rI="gen_ai.usage.input_tokens",nI="gen_ai.usage.output_tokens",aI="gen_ai.usage.total_tokens",Qne="gen_ai.request.max_tokens",Xne="gen_ai.request.temperature",eae="gen_ai.request.top_p",tae="gen_ai.request.frequency_penalty",rae="gen_ai.request.presence_penalty",nae="gen_ai.response.finish_reasons",aae="gen_ai.prompt",iae="gen_ai.completion",oae="gen_ai.request.extra_query",sae="gen_ai.request.extra_body",uae="gen_ai.serialized.name",lae="gen_ai.serialized.signature",cae="gen_ai.serialized.doc",dae="gen_ai.response.id",fae="gen_ai.response.service_tier",hae="gen_ai.response.system_fingerprint",pae="gen_ai.usage.input_token_details",gae="gen_ai.usage.output_token_details",mae="langsmith.trace.session_id",_ae="langsmith.trace.session_name",yae="langsmith.span.kind",vae="langsmith.trace.name",bae="langsmith.metadata",iI="langsmith.span.tags",wae="langsmith.request.streaming",Oae="langsmith.request.headers",Sae=(...e)=>fetch(...e),qG=Symbol.for("ls:fetch_implementation"),Eae=()=>{const e=globalThis[qG];return e?typeof e=="function"&&"Headers"in e&&"Request"in e&&"Response"in e:!1},Rae=e=>async(...n)=>{if(e||Gr("DEBUG")==="true"){const[i,u]=n;console.log(` ${u?.method||"GET"} ${i}`)}const o=await(globalThis[qG]??Sae)(...n);return(e||Gr("DEBUG")==="true")&&console.log(` ${o.status} ${o.statusText} ${o.url}`),o},BG=()=>Gr("PROJECT")??Ol("LANGCHAIN_SESSION")??"default",oI={};function UG(e){oI[e]||(console.warn(e),oI[e]=!0)}const jae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function nt(e,n){if(!jae.test(e)){const o=n!==void 0?`Invalid UUID for ${n}: ${e}`:`Invalid UUID: ${e}`;throw new Error(o)}return e}function Cae(e){const n=typeof e=="string"?Date.parse(e):e;return Lc({msecs:n,seq:0})}const LG="0.4.2";var J1={};let gl;const Tae=()=>typeof window<"u"&&typeof window.document<"u",Mae=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",xae=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),$G=()=>typeof Deno<"u",Pae=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!$G(),FG=()=>gl||(typeof Bun<"u"?gl="bun":Tae()?gl="browser":Pae()?gl="node":Mae()?gl="webworker":xae()?gl="jsdom":$G()?gl="deno":gl="other",gl);let UO;function VG(){if(UO===void 0){const e=FG(),n=Nae();UO={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:LG,...n}}return UO}function GG(){const e=Aae(),n={},o=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[i,u]of Object.entries(e))typeof u=="string"&&!o.includes(i)&&!i.toLowerCase().includes("key")&&!i.toLowerCase().includes("secret")&&!i.toLowerCase().includes("token")&&(i==="LANGCHAIN_REVISION_ID"?n.revision_id=u:n[i]=u);return n}function Aae(){const e={};try{if(typeof process<"u"&&J1)for(const[n,o]of Object.entries(J1))(n.startsWith("LANGCHAIN_")||n.startsWith("LANGSMITH_"))&&o!=null&&((n.toLowerCase().includes("key")||n.toLowerCase().includes("secret")||n.toLowerCase().includes("token"))&&typeof o=="string"?e[n]=o.slice(0,2)+"*".repeat(o.length-4)+o.slice(-2):e[n]=o)}catch{}return e}function Ol(e){try{return typeof process<"u"?J1?.[e]:void 0}catch{return}}function Gr(e){return Ol(`LANGSMITH_${e}`)||Ol(`LANGCHAIN_${e}`)}let LO;function Nae(){if(LO!==void 0)return LO;const e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],n={};for(const o of e){const i=Ol(o);i!==void 0&&(n[o]=i)}return LO=n,n}function HG(){return Ol("OTEL_ENABLED")==="true"||Gr("OTEL_ENABLED")==="true"}class Dae{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(n,...o){!this.hasWarned&&HG()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let i;if(o.length===1&&typeof o[0]=="function"?i=o[0]:o.length===2&&typeof o[1]=="function"?i=o[1]:o.length===3&&typeof o[2]=="function"&&(i=o[2]),typeof i=="function")return i()}}class Iae{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new Dae})}getTracer(n,o){return this.mockTracer}getActiveSpan(){}setSpan(n,o){return n}getSpan(n){}setSpanContext(n,o){return n}getTracerProvider(){}setGlobalTracerProvider(n){return!1}}class zae{active(){return{}}with(n,o){return o()}}const $O=Symbol.for("ls:otel_trace"),FO=Symbol.for("ls:otel_context"),sI=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),qae=new Iae,Bae=new zae;class Uae{getTraceInstance(){return globalThis[$O]??qae}getContextInstance(){return globalThis[FO]??Bae}initializeGlobalInstances(n){globalThis[$O]===void 0&&(globalThis[$O]=n.trace),globalThis[FO]===void 0&&(globalThis[FO]=n.context)}setDefaultOTLPTracerComponents(n){globalThis[sI]=n}getDefaultOTLPTracerComponents(){return globalThis[sI]??void 0}}const iM=new Uae;function KG(){return iM.getTraceInstance()}function Lae(){return iM.getContextInstance()}function $ae(){return iM.getDefaultOTLPTracerComponents()}const Fae={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function Vae(e){return Fae[e]||e}class Gae{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(n,o){for(const i of n)try{if(!i.run)continue;if(i.operation==="post"){const u=this.createSpanForRun(i,i.run,o.get(i.id));u&&!i.run.end_time&&this.spans.set(i.id,u)}else this.updateSpanForRun(i,i.run)}catch(u){console.error(`Error processing operation ${i.id}:`,u)}}createSpanForRun(n,o,i){const u=i&&KG().getSpan(i);if(u)try{return this.finishSpanSetup(u,o,n)}catch(t){console.error(`Failed to create span for run ${n.id}:`,t);return}}finishSpanSetup(n,o,i){return this.setSpanAttributes(n,o,i),o.error?(n.setStatus({code:2}),n.recordException(new Error(o.error))):n.setStatus({code:1}),o.end_time&&n.end(new Date(o.end_time)),n}updateSpanForRun(n,o){try{const i=this.spans.get(n.id);if(!i){console.debug(`No span found for run ${n.id} during update`);return}this.setSpanAttributes(i,o,n),o.error?(i.setStatus({code:2}),i.recordException(new Error(o.error))):i.setStatus({code:1});const u=o.end_time;u&&(i.end(new Date(u)),this.spans.delete(n.id))}catch(i){console.error(`Failed to update span for run ${n.id}:`,i)}}extractModelName(n){if(n.extra?.metadata){const o=n.extra.metadata;if(o.ls_model_name)return o.ls_model_name;if(o.invocation_params){const i=o.invocation_params;if(i.model)return i.model;if(i.model_name)return i.model_name}}}setSpanAttributes(n,o,i){if("run_type"in o&&o.run_type){n.setAttribute(yae,o.run_type);const a=Vae(o.run_type||"chain");n.setAttribute(Wne,a)}"name"in o&&o.name&&n.setAttribute(vae,o.name),"session_id"in o&&o.session_id&&n.setAttribute(mae,o.session_id),"session_name"in o&&o.session_name&&n.setAttribute(_ae,o.session_name),this.setGenAiSystem(n,o);const u=this.extractModelName(o);u&&n.setAttribute(tI,u),"prompt_tokens"in o&&typeof o.prompt_tokens=="number"&&n.setAttribute(rI,o.prompt_tokens),"completion_tokens"in o&&typeof o.completion_tokens=="number"&&n.setAttribute(nI,o.completion_tokens),"total_tokens"in o&&typeof o.total_tokens=="number"&&n.setAttribute(aI,o.total_tokens),this.setInvocationParameters(n,o);const t=o.extra?.metadata||{};for(const[a,s]of Object.entries(t))s!=null&&n.setAttribute(`${bae}.${a}`,String(s));const r=o.tags;if(r&&Array.isArray(r)?n.setAttribute(iI,r.join(", ")):r&&n.setAttribute(iI,String(r)),"serialized"in o&&typeof o.serialized=="object"){const a=o.serialized;a.name&&n.setAttribute(uae,String(a.name)),a.signature&&n.setAttribute(lae,String(a.signature)),a.doc&&n.setAttribute(cae,String(a.doc))}this.setIOAttributes(n,i)}setGenAiSystem(n,o){let i="langchain";const u=this.extractModelName(o);if(u){const t=u.toLowerCase();t.includes("anthropic")||t.startsWith("claude")?i="anthropic":t.includes("bedrock")?i="aws.bedrock":t.includes("azure")&&t.includes("openai")?i="az.ai.openai":t.includes("azure")&&t.includes("inference")?i="az.ai.inference":t.includes("cohere")?i="cohere":t.includes("deepseek")?i="deepseek":t.includes("gemini")?i="gemini":t.includes("groq")?i="groq":t.includes("watson")||t.includes("ibm")?i="ibm.watsonx.ai":t.includes("mistral")?i="mistral_ai":t.includes("gpt")||t.includes("openai")?i="openai":t.includes("perplexity")||t.includes("sonar")?i="perplexity":t.includes("vertex")?i="vertex_ai":(t.includes("xai")||t.includes("grok"))&&(i="xai")}n.setAttribute(Jne,i)}setInvocationParameters(n,o){if(!o.extra?.metadata?.invocation_params)return;const i=o.extra.metadata.invocation_params;i.max_tokens!==void 0&&n.setAttribute(Qne,i.max_tokens),i.temperature!==void 0&&n.setAttribute(Xne,i.temperature),i.top_p!==void 0&&n.setAttribute(eae,i.top_p),i.frequency_penalty!==void 0&&n.setAttribute(tae,i.frequency_penalty),i.presence_penalty!==void 0&&n.setAttribute(rae,i.presence_penalty)}setIOAttributes(n,o){if(o.run.inputs)try{const i=o.run.inputs;typeof i=="object"&&i!==null&&(i.model&&Array.isArray(i.messages)&&n.setAttribute(tI,i.model),i.stream!==void 0&&n.setAttribute(wae,i.stream),i.extra_headers&&n.setAttribute(Oae,JSON.stringify(i.extra_headers)),i.extra_query&&n.setAttribute(oae,JSON.stringify(i.extra_query)),i.extra_body&&n.setAttribute(sae,JSON.stringify(i.extra_body))),n.setAttribute(aae,JSON.stringify(i))}catch(i){console.debug(`Failed to process inputs for run ${o.id}`,i)}if(o.run.outputs)try{const i=o.run.outputs,u=this.getUnifiedRunTokens(i);if(u&&(n.setAttribute(rI,u[0]),n.setAttribute(nI,u[1]),n.setAttribute(aI,u[0]+u[1])),i&&typeof i=="object"){if(i.model&&n.setAttribute(Zne,String(i.model)),i.id&&n.setAttribute(dae,i.id),i.choices&&Array.isArray(i.choices)){const t=i.choices.map(r=>r.finish_reason).filter(r=>r).map(String);t.length>0&&n.setAttribute(nae,t.join(", "))}if(i.service_tier&&n.setAttribute(fae,i.service_tier),i.system_fingerprint&&n.setAttribute(hae,i.system_fingerprint),i.usage_metadata&&typeof i.usage_metadata=="object"){const t=i.usage_metadata;t.input_token_details&&n.setAttribute(pae,JSON.stringify(t.input_token_details)),t.output_token_details&&n.setAttribute(gae,JSON.stringify(t.output_token_details))}}n.setAttribute(iae,JSON.stringify(i))}catch(i){console.debug(`Failed to process outputs for run ${o.id}`,i)}}getUnifiedRunTokens(n){if(!n)return null;let o=this.extractUnifiedRunTokens(n.usage_metadata);if(o)return o;const i=Object.keys(n);for(const r of i){const a=n[r];if(!(!a||typeof a!="object")&&(o=this.extractUnifiedRunTokens(a.usage_metadata),o||a.lc===1&&a.kwargs&&typeof a.kwargs=="object"&&(o=this.extractUnifiedRunTokens(a.kwargs.usage_metadata),o)))return o}const u=n.generations||[];if(!Array.isArray(u))return null;const t=Array.isArray(u[0])?u.flat():u;for(const r of t)if(typeof r=="object"&&r.message&&typeof r.message=="object"&&r.message.kwargs&&typeof r.message.kwargs=="object"&&(o=this.extractUnifiedRunTokens(r.message.kwargs.usage_metadata),o))return o;return null}extractUnifiedRunTokens(n){return!n||typeof n!="object"||typeof n.input_tokens!="number"||typeof n.output_tokens!="number"?null:[n.input_tokens,n.output_tokens]}}const Hae=Object.prototype.toString,Kae=e=>Hae.call(e)==="[object Error]",kae=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Yae(e){if(!(e&&Kae(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:o,stack:i}=e;return o==="Load failed"?i===void 0||"__sentry_captured__"in e:o.startsWith("error sending request for url")?!0:kae.has(o)}function Wae(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Ky(e,n,{min:o=0,allowInfinity:i=!1}={}){if(n!==void 0){if(typeof n!="number"||Number.isNaN(n))throw new TypeError(`Expected \`${e}\` to be a number${i?" or Infinity":""}.`);if(!i&&!Number.isFinite(n))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(n<o)throw new TypeError(`Expected \`${e}\` to be  ${o}.`)}}let Jae=class extends Error{constructor(n){super(),n instanceof Error?(this.originalError=n,{message:n}=n):(this.originalError=new Error(n),this.originalError.stack=this.stack),this.name="AbortError",this.message=n}};function Zae(e,n){const o=Math.max(1,e+1),i=n.randomize?Math.random()+1:1;let u=Math.round(i*n.minTimeout*n.factor**(o-1));return u=Math.min(u,n.maxTimeout),u}function uI(e,n){return Number.isFinite(n)?n-(performance.now()-e):n}async function Qae({error:e,attemptNumber:n,retriesConsumed:o,startTime:i,options:u}){const t=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(t instanceof Jae)throw t.originalError;const r=Number.isFinite(u.retries)?Math.max(0,u.retries-o):u.retries,a=u.maxRetryTime??Number.POSITIVE_INFINITY,s=Object.freeze({error:t,attemptNumber:n,retriesLeft:r,retriesConsumed:o});if(await u.onFailedAttempt(s),uI(i,a)<=0)throw t;const l=await u.shouldConsumeRetry(s),f=uI(i,a);if(f<=0||r<=0)throw t;if(t instanceof TypeError&&!Yae(t)){if(l)throw t;return u.signal?.throwIfAborted(),!1}if(!await u.shouldRetry(s))throw t;if(!l)return u.signal?.throwIfAborted(),!1;const m=Zae(o,u),b=Math.min(m,f);return b>0&&await new Promise((_,p)=>{const y=()=>{clearTimeout(v),u.signal?.removeEventListener("abort",y),p(u.signal.reason)},v=setTimeout(()=>{u.signal?.removeEventListener("abort",y),_()},b);u.unref&&v.unref?.(),u.signal?.addEventListener("abort",y,{once:!0})}),u.signal?.throwIfAborted(),!0}async function Xae(e,n={}){if(n={...n},Wae(n.retries),Object.hasOwn(n,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");n.retries??=10,n.factor??=2,n.minTimeout??=1e3,n.maxTimeout??=Number.POSITIVE_INFINITY,n.maxRetryTime??=Number.POSITIVE_INFINITY,n.randomize??=!1,n.onFailedAttempt??=()=>{},n.shouldRetry??=()=>!0,n.shouldConsumeRetry??=()=>!0,Ky("factor",n.factor,{min:0,allowInfinity:!1}),Ky("minTimeout",n.minTimeout,{min:0,allowInfinity:!1}),Ky("maxTimeout",n.maxTimeout,{min:0,allowInfinity:!0}),Ky("maxRetryTime",n.maxRetryTime,{min:0,allowInfinity:!0}),n.factor>0||(n.factor=1),n.signal?.throwIfAborted();let o=0,i=0;const u=performance.now();for(;!Number.isFinite(n.retries)||i<=n.retries;){o++;try{n.signal?.throwIfAborted();const t=await e(o);return n.signal?.throwIfAborted(),t}catch(t){await Qae({error:t,attemptNumber:o,retriesConsumed:i,startTime:u,options:n})&&i++}}throw new Error("Retry attempts exhausted without throwing an error.")}var ky={},VO={exports:{}},lI;function eie(){return lI||(lI=1,(function(e){var n=Object.prototype.hasOwnProperty,o="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(o=!1));function u(s,l,f){this.fn=s,this.context=l,this.once=f||!1}function t(s,l,f,m,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var _=new u(f,m||s,b),p=o?o+l:l;return s._events[p]?s._events[p].fn?s._events[p]=[s._events[p],_]:s._events[p].push(_):(s._events[p]=_,s._eventsCount++),s}function r(s,l){--s._eventsCount===0?s._events=new i:delete s._events[l]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],f,m;if(this._eventsCount===0)return l;for(m in f=this._events)n.call(f,m)&&l.push(o?m.slice(1):m);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},a.prototype.listeners=function(l){var f=o?o+l:l,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,_=m.length,p=new Array(_);b<_;b++)p[b]=m[b].fn;return p},a.prototype.listenerCount=function(l){var f=o?o+l:l,m=this._events[f];return m?m.fn?1:m.length:0},a.prototype.emit=function(l,f,m,b,_,p){var y=o?o+l:l;if(!this._events[y])return!1;var v=this._events[y],S=arguments.length,R,j;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),S){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,m),!0;case 4:return v.fn.call(v.context,f,m,b),!0;case 5:return v.fn.call(v.context,f,m,b,_),!0;case 6:return v.fn.call(v.context,f,m,b,_,p),!0}for(j=1,R=new Array(S-1);j<S;j++)R[j-1]=arguments[j];v.fn.apply(v.context,R)}else{var P=v.length,T;for(j=0;j<P;j++)switch(v[j].once&&this.removeListener(l,v[j].fn,void 0,!0),S){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,f);break;case 3:v[j].fn.call(v[j].context,f,m);break;case 4:v[j].fn.call(v[j].context,f,m,b);break;default:if(!R)for(T=1,R=new Array(S-1);T<S;T++)R[T-1]=arguments[T];v[j].fn.apply(v[j].context,R)}}return!0},a.prototype.on=function(l,f,m){return t(this,l,f,m,!1)},a.prototype.once=function(l,f,m){return t(this,l,f,m,!0)},a.prototype.removeListener=function(l,f,m,b){var _=o?o+l:l;if(!this._events[_])return this;if(!f)return r(this,_),this;var p=this._events[_];if(p.fn)p.fn===f&&(!b||p.once)&&(!m||p.context===m)&&r(this,_);else{for(var y=0,v=[],S=p.length;y<S;y++)(p[y].fn!==f||b&&!p[y].once||m&&p[y].context!==m)&&v.push(p[y]);v.length?this._events[_]=v.length===1?v[0]:v:r(this,_)}return this},a.prototype.removeAllListeners=function(l){var f;return l?(f=o?o+l:l,this._events[f]&&r(this,f)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=o,a.EventEmitter=a,e.exports=a})(VO)),VO.exports}var og={exports:{}},GO,cI;function tie(){return cI||(cI=1,GO=(e,n)=>(n=n||(()=>{}),e.then(o=>new Promise(i=>{i(n())}).then(()=>o),o=>new Promise(i=>{i(n())}).then(()=>{throw o})))),GO}var dI;function rie(){if(dI)return og.exports;dI=1;const e=tie();class n extends Error{constructor(u){super(u),this.name="TimeoutError"}}const o=(i,u,t)=>new Promise((r,a)=>{if(typeof u!="number"||u<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(u===1/0){r(i);return}const s=setTimeout(()=>{if(typeof t=="function"){try{r(t())}catch(m){a(m)}return}const l=typeof t=="string"?t:`Promise timed out after ${u} milliseconds`,f=t instanceof Error?t:new n(l);typeof i.cancel=="function"&&i.cancel(),a(f)},u);e(i.then(r,a),()=>{clearTimeout(s)})});return og.exports=o,og.exports.default=o,og.exports.TimeoutError=n,og.exports}var Yy={},Wy={},fI;function nie(){if(fI)return Wy;fI=1,Object.defineProperty(Wy,"__esModule",{value:!0});function e(n,o,i){let u=0,t=n.length;for(;t>0;){const r=t/2|0;let a=u+r;i(n[a],o)<=0?(u=++a,t-=r+1):t=r}return u}return Wy.default=e,Wy}var hI;function aie(){if(hI)return Yy;hI=1,Object.defineProperty(Yy,"__esModule",{value:!0});const e=nie();class n{constructor(){this._queue=[]}enqueue(i,u){u=Object.assign({priority:0},u);const t={priority:u.priority,run:i};if(this.size&&this._queue[this.size-1].priority>=u.priority){this._queue.push(t);return}const r=e.default(this._queue,t,(a,s)=>s.priority-a.priority);this._queue.splice(r,0,t)}dequeue(){const i=this._queue.shift();return i?.run}filter(i){return this._queue.filter(u=>u.priority===i.priority).map(u=>u.run)}get size(){return this._queue.length}}return Yy.default=n,Yy}var pI;function iie(){if(pI)return ky;pI=1,Object.defineProperty(ky,"__esModule",{value:!0});const e=eie(),n=rie(),o=aie(),i=()=>{},u=new n.TimeoutError;class t extends e{constructor(a){var s,l,f,m;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,a=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},a),!(typeof a.intervalCap=="number"&&a.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(l=(s=a.intervalCap)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""}\` (${typeof a.intervalCap})`);if(a.interval===void 0||!(Number.isFinite(a.interval)&&a.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(m=(f=a.interval)===null||f===void 0?void 0:f.toString())!==null&&m!==void 0?m:""}\` (${typeof a.interval})`);this._carryoverConcurrencyCount=a.carryoverConcurrencyCount,this._isIntervalIgnored=a.intervalCap===1/0||a.interval===0,this._intervalCap=a.intervalCap,this._interval=a.interval,this._queue=new a.queueClass,this._queueClass=a.queueClass,this.concurrency=a.concurrency,this._timeout=a.timeout,this._throwOnTimeout=a.throwOnTimeout===!0,this._isPaused=a.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const a=Date.now();if(this._intervalId===void 0){const s=this._intervalEnd-a;if(s<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},s)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const a=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const s=this._queue.dequeue();return s?(this.emit("active"),s(),a&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(a){if(!(typeof a=="number"&&a>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);this._concurrency=a,this._processQueue()}async add(a,s={}){return new Promise((l,f)=>{const m=async()=>{this._pendingCount++,this._intervalCount++;try{const b=this._timeout===void 0&&s.timeout===void 0?a():n.default(Promise.resolve(a()),s.timeout===void 0?this._timeout:s.timeout,()=>{(s.throwOnTimeout===void 0?this._throwOnTimeout:s.throwOnTimeout)&&f(u)});l(await b)}catch(b){f(b)}this._next()};this._queue.enqueue(m,s),this._tryToStartAnother(),this.emit("add")})}async addAll(a,s){return Promise.all(a.map(async l=>this.add(l,s)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(a=>{const s=this._resolveEmpty;this._resolveEmpty=()=>{s(),a()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(a=>{const s=this._resolveIdle;this._resolveIdle=()=>{s(),a()}})}get size(){return this._queue.size}sizeBy(a){return this._queue.filter(a).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(a){this._timeout=a}}return ky.default=t,ky}var oie=iie();const Wl=r_(oie),sie=[408,425,429,500,502,503,504];let gI=class{constructor(n){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=n.maxConcurrency??1/0,this.maxRetries=n.maxRetries??6,this.maxQueueSizeBytes=n.maxQueueSizeBytes,"default"in Wl?this.queue=new Wl.default({concurrency:this.maxConcurrency}):this.queue=new Wl({concurrency:this.maxConcurrency}),this.onFailedResponseHook=n?.onFailedResponseHook}call(n,...o){return this.callWithOptions({},n,...o)}callWithOptions(n,o,...i){const u=n.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&u>0&&this.queueSizeBytes+u>this.maxQueueSizeBytes)return Promise.reject(new Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${u} bytes.`));u>0&&(this.queueSizeBytes+=u);const t=this.onFailedResponseHook;let r=this.queue.add(()=>Xae(()=>o(...i).catch(a=>{throw a instanceof Error?a:new Error(a)}),{async onFailedAttempt({error:a}){if(a.message.startsWith("Cancel")||a.message.startsWith("TimeoutError")||a.name==="TimeoutError"||a.message.startsWith("AbortError")||a?.code==="ECONNABORTED")throw a;const s=a?.response;if(t&&await t(s))return;const l=s?.status??a?.status;if(l&&!sie.includes(+l))throw a},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return u>0&&(r=r.finally(()=>{this.queueSizeBytes-=u})),n.signal?Promise.race([r,new Promise((a,s)=>{n.signal?.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):r}};function mI(e){return typeof e?._getType=="function"}function _I(e){const n={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(n.data.additional_kwargs={...e.additional_kwargs}),n}var Jy={exports:{}},HO,yI;function Nb(){if(yI)return HO;yI=1;const e="2.0.0",n=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,u=n-6;return HO={MAX_LENGTH:n,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:u,MAX_SAFE_INTEGER:o,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},HO}var KO,vI;function Db(){if(vI)return KO;vI=1;var e={};return KO=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...o)=>console.error("SEMVER",...o):()=>{},KO}var bI;function c_(){return bI||(bI=1,(function(e,n){const{MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:u}=Nb(),t=Db();n=e.exports={};const r=n.re=[],a=n.safeRe=[],s=n.src=[],l=n.safeSrc=[],f=n.t={};let m=0;const b="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",u],[b,i]],p=v=>{for(const[S,R]of _)v=v.split(`${S}*`).join(`${S}{0,${R}}`).split(`${S}+`).join(`${S}{1,${R}}`);return v},y=(v,S,R)=>{const j=p(S),P=m++;t(v,P,S),f[v]=P,s[P]=S,l[P]=j,r[P]=new RegExp(S,R?"g":void 0),a[P]=new RegExp(j,R?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),y("MAINVERSION",`(${s[f.NUMERICIDENTIFIER]})\\.(${s[f.NUMERICIDENTIFIER]})\\.(${s[f.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${s[f.NUMERICIDENTIFIERLOOSE]})\\.(${s[f.NUMERICIDENTIFIERLOOSE]})\\.(${s[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${s[f.NONNUMERICIDENTIFIER]}|${s[f.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${s[f.NONNUMERICIDENTIFIER]}|${s[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${s[f.PRERELEASEIDENTIFIER]}(?:\\.${s[f.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${s[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[f.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${b}+`),y("BUILD",`(?:\\+(${s[f.BUILDIDENTIFIER]}(?:\\.${s[f.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${s[f.MAINVERSION]}${s[f.PRERELEASE]}?${s[f.BUILD]}?`),y("FULL",`^${s[f.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${s[f.MAINVERSIONLOOSE]}${s[f.PRERELEASELOOSE]}?${s[f.BUILD]}?`),y("LOOSE",`^${s[f.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${s[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${s[f.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${s[f.XRANGEIDENTIFIER]})(?:\\.(${s[f.XRANGEIDENTIFIER]})(?:\\.(${s[f.XRANGEIDENTIFIER]})(?:${s[f.PRERELEASE]})?${s[f.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${s[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[f.XRANGEIDENTIFIERLOOSE]})(?:${s[f.PRERELEASELOOSE]})?${s[f.BUILD]}?)?)?`),y("XRANGE",`^${s[f.GTLT]}\\s*${s[f.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${s[f.GTLT]}\\s*${s[f.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?`),y("COERCE",`${s[f.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",s[f.COERCEPLAIN]+`(?:${s[f.PRERELEASE]})?(?:${s[f.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",s[f.COERCE],!0),y("COERCERTLFULL",s[f.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${s[f.LONETILDE]}\\s+`,!0),n.tildeTrimReplace="$1~",y("TILDE",`^${s[f.LONETILDE]}${s[f.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${s[f.LONETILDE]}${s[f.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${s[f.LONECARET]}\\s+`,!0),n.caretTrimReplace="$1^",y("CARET",`^${s[f.LONECARET]}${s[f.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${s[f.LONECARET]}${s[f.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${s[f.GTLT]}\\s*(${s[f.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${s[f.GTLT]}\\s*(${s[f.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${s[f.GTLT]}\\s*(${s[f.LOOSEPLAIN]}|${s[f.XRANGEPLAIN]})`,!0),n.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${s[f.XRANGEPLAIN]})\\s+-\\s+(${s[f.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${s[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[f.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Jy,Jy.exports)),Jy.exports}var kO,wI;function oM(){if(wI)return kO;wI=1;const e=Object.freeze({loose:!0}),n=Object.freeze({});return kO=i=>i?typeof i!="object"?e:i:n,kO}var YO,OI;function kG(){if(OI)return YO;OI=1;const e=/^[0-9]+$/,n=(i,u)=>{if(typeof i=="number"&&typeof u=="number")return i===u?0:i<u?-1:1;const t=e.test(i),r=e.test(u);return t&&r&&(i=+i,u=+u),i===u?0:t&&!r?-1:r&&!t?1:i<u?-1:1};return YO={compareIdentifiers:n,rcompareIdentifiers:(i,u)=>n(u,i)},YO}var WO,SI;function Ar(){if(SI)return WO;SI=1;const e=Db(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:o}=Nb(),{safeRe:i,t:u}=c_(),t=oM(),{compareIdentifiers:r}=kG();class a{constructor(l,f){if(f=t(f),l instanceof a){if(l.loose===!!f.loose&&l.includePrerelease===!!f.includePrerelease)return l;l=l.version}else if(typeof l!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof l}".`);if(l.length>n)throw new TypeError(`version is longer than ${n} characters`);e("SemVer",l,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const m=l.trim().match(f.loose?i[u.LOOSE]:i[u.FULL]);if(!m)throw new TypeError(`Invalid Version: ${l}`);if(this.raw=l,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(b=>{if(/^[0-9]+$/.test(b)){const _=+b;if(_>=0&&_<o)return _}return b}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(l){if(e("SemVer.compare",this.version,this.options,l),!(l instanceof a)){if(typeof l=="string"&&l===this.version)return 0;l=new a(l,this.options)}return l.version===this.version?0:this.compareMain(l)||this.comparePre(l)}compareMain(l){return l instanceof a||(l=new a(l,this.options)),this.major<l.major?-1:this.major>l.major?1:this.minor<l.minor?-1:this.minor>l.minor?1:this.patch<l.patch?-1:this.patch>l.patch?1:0}comparePre(l){if(l instanceof a||(l=new a(l,this.options)),this.prerelease.length&&!l.prerelease.length)return-1;if(!this.prerelease.length&&l.prerelease.length)return 1;if(!this.prerelease.length&&!l.prerelease.length)return 0;let f=0;do{const m=this.prerelease[f],b=l.prerelease[f];if(e("prerelease compare",f,m,b),m===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(m===void 0)return-1;if(m===b)continue;return r(m,b)}while(++f)}compareBuild(l){l instanceof a||(l=new a(l,this.options));let f=0;do{const m=this.build[f],b=l.build[f];if(e("build compare",f,m,b),m===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(m===void 0)return-1;if(m===b)continue;return r(m,b)}while(++f)}inc(l,f,m){if(l.startsWith("pre")){if(!f&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(f){const b=`-${f}`.match(this.options.loose?i[u.PRERELEASELOOSE]:i[u.PRERELEASE]);if(!b||b[1]!==f)throw new Error(`invalid identifier: ${f}`)}}switch(l){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,m),this.inc("pre",f,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,m),this.inc("pre",f,m);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const b=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[b];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(f===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(b)}}if(f){let _=[f,b];m===!1&&(_=[f]),r(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw new Error(`invalid increment argument: ${l}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return WO=a,WO}var JO,EI;function up(){if(EI)return JO;EI=1;const e=Ar();return JO=(o,i,u=!1)=>{if(o instanceof e)return o;try{return new e(o,i)}catch(t){if(!u)return null;throw t}},JO}var ZO,RI;function uie(){if(RI)return ZO;RI=1;const e=up();return ZO=(o,i)=>{const u=e(o,i);return u?u.version:null},ZO}var QO,jI;function lie(){if(jI)return QO;jI=1;const e=up();return QO=(o,i)=>{const u=e(o.trim().replace(/^[=v]+/,""),i);return u?u.version:null},QO}var XO,CI;function cie(){if(CI)return XO;CI=1;const e=Ar();return XO=(o,i,u,t,r)=>{typeof u=="string"&&(r=t,t=u,u=void 0);try{return new e(o instanceof e?o.version:o,u).inc(i,t,r).version}catch{return null}},XO}var eS,TI;function die(){if(TI)return eS;TI=1;const e=up();return eS=(o,i)=>{const u=e(o,null,!0),t=e(i,null,!0),r=u.compare(t);if(r===0)return null;const a=r>0,s=a?u:t,l=a?t:u,f=!!s.prerelease.length;if(!!l.prerelease.length&&!f){if(!l.patch&&!l.minor)return"major";if(l.compareMain(s)===0)return l.minor&&!l.patch?"minor":"patch"}const b=f?"pre":"";return u.major!==t.major?b+"major":u.minor!==t.minor?b+"minor":u.patch!==t.patch?b+"patch":"prerelease"},eS}var tS,MI;function fie(){if(MI)return tS;MI=1;const e=Ar();return tS=(o,i)=>new e(o,i).major,tS}var rS,xI;function hie(){if(xI)return rS;xI=1;const e=Ar();return rS=(o,i)=>new e(o,i).minor,rS}var nS,PI;function pie(){if(PI)return nS;PI=1;const e=Ar();return nS=(o,i)=>new e(o,i).patch,nS}var aS,AI;function gie(){if(AI)return aS;AI=1;const e=up();return aS=(o,i)=>{const u=e(o,i);return u&&u.prerelease.length?u.prerelease:null},aS}var iS,NI;function ol(){if(NI)return iS;NI=1;const e=Ar();return iS=(o,i,u)=>new e(o,u).compare(new e(i,u)),iS}var oS,DI;function mie(){if(DI)return oS;DI=1;const e=ol();return oS=(o,i,u)=>e(i,o,u),oS}var sS,II;function _ie(){if(II)return sS;II=1;const e=ol();return sS=(o,i)=>e(o,i,!0),sS}var uS,zI;function sM(){if(zI)return uS;zI=1;const e=Ar();return uS=(o,i,u)=>{const t=new e(o,u),r=new e(i,u);return t.compare(r)||t.compareBuild(r)},uS}var lS,qI;function yie(){if(qI)return lS;qI=1;const e=sM();return lS=(o,i)=>o.sort((u,t)=>e(u,t,i)),lS}var cS,BI;function vie(){if(BI)return cS;BI=1;const e=sM();return cS=(o,i)=>o.sort((u,t)=>e(t,u,i)),cS}var dS,UI;function Ib(){if(UI)return dS;UI=1;const e=ol();return dS=(o,i,u)=>e(o,i,u)>0,dS}var fS,LI;function uM(){if(LI)return fS;LI=1;const e=ol();return fS=(o,i,u)=>e(o,i,u)<0,fS}var hS,$I;function YG(){if($I)return hS;$I=1;const e=ol();return hS=(o,i,u)=>e(o,i,u)===0,hS}var pS,FI;function WG(){if(FI)return pS;FI=1;const e=ol();return pS=(o,i,u)=>e(o,i,u)!==0,pS}var gS,VI;function lM(){if(VI)return gS;VI=1;const e=ol();return gS=(o,i,u)=>e(o,i,u)>=0,gS}var mS,GI;function cM(){if(GI)return mS;GI=1;const e=ol();return mS=(o,i,u)=>e(o,i,u)<=0,mS}var _S,HI;function JG(){if(HI)return _S;HI=1;const e=YG(),n=WG(),o=Ib(),i=lM(),u=uM(),t=cM();return _S=(a,s,l,f)=>{switch(s){case"===":return typeof a=="object"&&(a=a.version),typeof l=="object"&&(l=l.version),a===l;case"!==":return typeof a=="object"&&(a=a.version),typeof l=="object"&&(l=l.version),a!==l;case"":case"=":case"==":return e(a,l,f);case"!=":return n(a,l,f);case">":return o(a,l,f);case">=":return i(a,l,f);case"<":return u(a,l,f);case"<=":return t(a,l,f);default:throw new TypeError(`Invalid operator: ${s}`)}},_S}var yS,KI;function bie(){if(KI)return yS;KI=1;const e=Ar(),n=up(),{safeRe:o,t:i}=c_();return yS=(t,r)=>{if(t instanceof e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;r=r||{};let a=null;if(!r.rtl)a=t.match(r.includePrerelease?o[i.COERCEFULL]:o[i.COERCE]);else{const _=r.includePrerelease?o[i.COERCERTLFULL]:o[i.COERCERTL];let p;for(;(p=_.exec(t))&&(!a||a.index+a[0].length!==t.length);)(!a||p.index+p[0].length!==a.index+a[0].length)&&(a=p),_.lastIndex=p.index+p[1].length+p[2].length;_.lastIndex=-1}if(a===null)return null;const s=a[2],l=a[3]||"0",f=a[4]||"0",m=r.includePrerelease&&a[5]?`-${a[5]}`:"",b=r.includePrerelease&&a[6]?`+${a[6]}`:"";return n(`${s}.${l}.${f}${m}${b}`,r)},yS}var vS,kI;function wie(){if(kI)return vS;kI=1;class e{constructor(){this.max=1e3,this.map=new Map}get(o){const i=this.map.get(o);if(i!==void 0)return this.map.delete(o),this.map.set(o,i),i}delete(o){return this.map.delete(o)}set(o,i){if(!this.delete(o)&&i!==void 0){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(o,i)}return this}}return vS=e,vS}var bS,YI;function sl(){if(YI)return bS;YI=1;const e=/\s+/g;class n{constructor(Y,U){if(U=u(U),Y instanceof n)return Y.loose===!!U.loose&&Y.includePrerelease===!!U.includePrerelease?Y:new n(Y.raw,U);if(Y instanceof t)return this.raw=Y.value,this.set=[[Y]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=Y.trim().replace(e," "),this.set=this.raw.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter(Z=>!y(Z[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const Z of this.set)if(Z.length===1&&v(Z[0])){this.set=[Z];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let Y=0;Y<this.set.length;Y++){Y>0&&(this.formatted+="||");const U=this.set[Y];for(let H=0;H<U.length;H++)H>0&&(this.formatted+=" "),this.formatted+=U[H].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(Y){const H=((this.options.includePrerelease&&_)|(this.options.loose&&p))+":"+Y,Z=i.get(H);if(Z)return Z;const ee=this.options.loose,N=ee?s[l.HYPHENRANGELOOSE]:s[l.HYPHENRANGE];Y=Y.replace(N,w(this.options.includePrerelease)),r("hyphen replace",Y),Y=Y.replace(s[l.COMPARATORTRIM],f),r("comparator trim",Y),Y=Y.replace(s[l.TILDETRIM],m),r("tilde trim",Y),Y=Y.replace(s[l.CARETTRIM],b),r("caret trim",Y);let G=Y.split(" ").map(Ee=>R(Ee,this.options)).join(" ").split(/\s+/).map(Ee=>z(Ee,this.options));ee&&(G=G.filter(Ee=>(r("loose invalid filter",Ee,this.options),!!Ee.match(s[l.COMPARATORLOOSE])))),r("range list",G);const J=new Map,oe=G.map(Ee=>new t(Ee,this.options));for(const Ee of oe){if(y(Ee))return[Ee];J.set(Ee.value,Ee)}J.size>1&&J.has("")&&J.delete("");const me=[...J.values()];return i.set(H,me),me}intersects(Y,U){if(!(Y instanceof n))throw new TypeError("a Range is required");return this.set.some(H=>S(H,U)&&Y.set.some(Z=>S(Z,U)&&H.every(ee=>Z.every(N=>ee.intersects(N,U)))))}test(Y){if(!Y)return!1;if(typeof Y=="string")try{Y=new a(Y,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(V(this.set[U],Y,this.options))return!0;return!1}}bS=n;const o=wie(),i=new o,u=oM(),t=zb(),r=Db(),a=Ar(),{safeRe:s,t:l,comparatorTrimReplace:f,tildeTrimReplace:m,caretTrimReplace:b}=c_(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:p}=Nb(),y=k=>k.value==="<0.0.0-0",v=k=>k.value==="",S=(k,Y)=>{let U=!0;const H=k.slice();let Z=H.pop();for(;U&&H.length;)U=H.every(ee=>Z.intersects(ee,Y)),Z=H.pop();return U},R=(k,Y)=>(k=k.replace(s[l.BUILD],""),r("comp",k,Y),k=C(k,Y),r("caret",k),k=P(k,Y),r("tildes",k),k=M(k,Y),r("xrange",k),k=q(k,Y),r("stars",k),k),j=k=>!k||k.toLowerCase()==="x"||k==="*",P=(k,Y)=>k.trim().split(/\s+/).map(U=>T(U,Y)).join(" "),T=(k,Y)=>{const U=Y.loose?s[l.TILDELOOSE]:s[l.TILDE];return k.replace(U,(H,Z,ee,N,G)=>{r("tilde",k,H,Z,ee,N,G);let J;return j(Z)?J="":j(ee)?J=`>=${Z}.0.0 <${+Z+1}.0.0-0`:j(N)?J=`>=${Z}.${ee}.0 <${Z}.${+ee+1}.0-0`:G?(r("replaceTilde pr",G),J=`>=${Z}.${ee}.${N}-${G} <${Z}.${+ee+1}.0-0`):J=`>=${Z}.${ee}.${N} <${Z}.${+ee+1}.0-0`,r("tilde return",J),J})},C=(k,Y)=>k.trim().split(/\s+/).map(U=>D(U,Y)).join(" "),D=(k,Y)=>{r("caret",k,Y);const U=Y.loose?s[l.CARETLOOSE]:s[l.CARET],H=Y.includePrerelease?"-0":"";return k.replace(U,(Z,ee,N,G,J)=>{r("caret",k,Z,ee,N,G,J);let oe;return j(ee)?oe="":j(N)?oe=`>=${ee}.0.0${H} <${+ee+1}.0.0-0`:j(G)?ee==="0"?oe=`>=${ee}.${N}.0${H} <${ee}.${+N+1}.0-0`:oe=`>=${ee}.${N}.0${H} <${+ee+1}.0.0-0`:J?(r("replaceCaret pr",J),ee==="0"?N==="0"?oe=`>=${ee}.${N}.${G}-${J} <${ee}.${N}.${+G+1}-0`:oe=`>=${ee}.${N}.${G}-${J} <${ee}.${+N+1}.0-0`:oe=`>=${ee}.${N}.${G}-${J} <${+ee+1}.0.0-0`):(r("no pr"),ee==="0"?N==="0"?oe=`>=${ee}.${N}.${G}${H} <${ee}.${N}.${+G+1}-0`:oe=`>=${ee}.${N}.${G}${H} <${ee}.${+N+1}.0-0`:oe=`>=${ee}.${N}.${G} <${+ee+1}.0.0-0`),r("caret return",oe),oe})},M=(k,Y)=>(r("replaceXRanges",k,Y),k.split(/\s+/).map(U=>L(U,Y)).join(" ")),L=(k,Y)=>{k=k.trim();const U=Y.loose?s[l.XRANGELOOSE]:s[l.XRANGE];return k.replace(U,(H,Z,ee,N,G,J)=>{r("xRange",k,H,Z,ee,N,G,J);const oe=j(ee),me=oe||j(N),Ee=me||j(G),K=Ee;return Z==="="&&K&&(Z=""),J=Y.includePrerelease?"-0":"",oe?Z===">"||Z==="<"?H="<0.0.0-0":H="*":Z&&K?(me&&(N=0),G=0,Z===">"?(Z=">=",me?(ee=+ee+1,N=0,G=0):(N=+N+1,G=0)):Z==="<="&&(Z="<",me?ee=+ee+1:N=+N+1),Z==="<"&&(J="-0"),H=`${Z+ee}.${N}.${G}${J}`):me?H=`>=${ee}.0.0${J} <${+ee+1}.0.0-0`:Ee&&(H=`>=${ee}.${N}.0${J} <${ee}.${+N+1}.0-0`),r("xRange return",H),H})},q=(k,Y)=>(r("replaceStars",k,Y),k.trim().replace(s[l.STAR],"")),z=(k,Y)=>(r("replaceGTE0",k,Y),k.trim().replace(s[Y.includePrerelease?l.GTE0PRE:l.GTE0],"")),w=k=>(Y,U,H,Z,ee,N,G,J,oe,me,Ee,K)=>(j(H)?U="":j(Z)?U=`>=${H}.0.0${k?"-0":""}`:j(ee)?U=`>=${H}.${Z}.0${k?"-0":""}`:N?U=`>=${U}`:U=`>=${U}${k?"-0":""}`,j(oe)?J="":j(me)?J=`<${+oe+1}.0.0-0`:j(Ee)?J=`<${oe}.${+me+1}.0-0`:K?J=`<=${oe}.${me}.${Ee}-${K}`:k?J=`<${oe}.${me}.${+Ee+1}-0`:J=`<=${J}`,`${U} ${J}`.trim()),V=(k,Y,U)=>{for(let H=0;H<k.length;H++)if(!k[H].test(Y))return!1;if(Y.prerelease.length&&!U.includePrerelease){for(let H=0;H<k.length;H++)if(r(k[H].semver),k[H].semver!==t.ANY&&k[H].semver.prerelease.length>0){const Z=k[H].semver;if(Z.major===Y.major&&Z.minor===Y.minor&&Z.patch===Y.patch)return!0}return!1}return!0};return bS}var wS,WI;function zb(){if(WI)return wS;WI=1;const e=Symbol("SemVer ANY");class n{static get ANY(){return e}constructor(f,m){if(m=o(m),f instanceof n){if(f.loose===!!m.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),r("comparator",f,m),this.options=m,this.loose=!!m.loose,this.parse(f),this.semver===e?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}parse(f){const m=this.options.loose?i[u.COMPARATORLOOSE]:i[u.COMPARATOR],b=f.match(m);if(!b)throw new TypeError(`Invalid comparator: ${f}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new a(b[2],this.options.loose):this.semver=e}toString(){return this.value}test(f){if(r("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if(typeof f=="string")try{f=new a(f,this.options)}catch{return!1}return t(f,this.operator,this.semver,this.options)}intersects(f,m){if(!(f instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new s(f.value,m).test(this.value):f.operator===""?f.value===""?!0:new s(this.value,m).test(f.semver):(m=o(m),m.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||t(this.semver,"<",f.semver,m)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||t(this.semver,">",f.semver,m)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}wS=n;const o=oM(),{safeRe:i,t:u}=c_(),t=JG(),r=Db(),a=Ar(),s=sl();return wS}var OS,JI;function qb(){if(JI)return OS;JI=1;const e=sl();return OS=(o,i,u)=>{try{i=new e(i,u)}catch{return!1}return i.test(o)},OS}var SS,ZI;function Oie(){if(ZI)return SS;ZI=1;const e=sl();return SS=(o,i)=>new e(o,i).set.map(u=>u.map(t=>t.value).join(" ").trim().split(" ")),SS}var ES,QI;function Sie(){if(QI)return ES;QI=1;const e=Ar(),n=sl();return ES=(i,u,t)=>{let r=null,a=null,s=null;try{s=new n(u,t)}catch{return null}return i.forEach(l=>{s.test(l)&&(!r||a.compare(l)===-1)&&(r=l,a=new e(r,t))}),r},ES}var RS,XI;function Eie(){if(XI)return RS;XI=1;const e=Ar(),n=sl();return RS=(i,u,t)=>{let r=null,a=null,s=null;try{s=new n(u,t)}catch{return null}return i.forEach(l=>{s.test(l)&&(!r||a.compare(l)===1)&&(r=l,a=new e(r,t))}),r},RS}var jS,ez;function Rie(){if(ez)return jS;ez=1;const e=Ar(),n=sl(),o=Ib();return jS=(u,t)=>{u=new n(u,t);let r=new e("0.0.0");if(u.test(r)||(r=new e("0.0.0-0"),u.test(r)))return r;r=null;for(let a=0;a<u.set.length;++a){const s=u.set[a];let l=null;s.forEach(f=>{const m=new e(f.semver.version);switch(f.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!l||o(m,l))&&(l=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),l&&(!r||o(r,l))&&(r=l)}return r&&u.test(r)?r:null},jS}var CS,tz;function jie(){if(tz)return CS;tz=1;const e=sl();return CS=(o,i)=>{try{return new e(o,i).range||"*"}catch{return null}},CS}var TS,rz;function dM(){if(rz)return TS;rz=1;const e=Ar(),n=zb(),{ANY:o}=n,i=sl(),u=qb(),t=Ib(),r=uM(),a=cM(),s=lM();return TS=(f,m,b,_)=>{f=new e(f,_),m=new i(m,_);let p,y,v,S,R;switch(b){case">":p=t,y=a,v=r,S=">",R=">=";break;case"<":p=r,y=s,v=t,S="<",R="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(f,m,_))return!1;for(let j=0;j<m.set.length;++j){const P=m.set[j];let T=null,C=null;if(P.forEach(D=>{D.semver===o&&(D=new n(">=0.0.0")),T=T||D,C=C||D,p(D.semver,T.semver,_)?T=D:v(D.semver,C.semver,_)&&(C=D)}),T.operator===S||T.operator===R||(!C.operator||C.operator===S)&&y(f,C.semver))return!1;if(C.operator===R&&v(f,C.semver))return!1}return!0},TS}var MS,nz;function Cie(){if(nz)return MS;nz=1;const e=dM();return MS=(o,i,u)=>e(o,i,">",u),MS}var xS,az;function Tie(){if(az)return xS;az=1;const e=dM();return xS=(o,i,u)=>e(o,i,"<",u),xS}var PS,iz;function Mie(){if(iz)return PS;iz=1;const e=sl();return PS=(o,i,u)=>(o=new e(o,u),i=new e(i,u),o.intersects(i,u)),PS}var AS,oz;function xie(){if(oz)return AS;oz=1;const e=qb(),n=ol();return AS=(o,i,u)=>{const t=[];let r=null,a=null;const s=o.sort((b,_)=>n(b,_,u));for(const b of s)e(b,i,u)?(a=b,r||(r=b)):(a&&t.push([r,a]),a=null,r=null);r&&t.push([r,null]);const l=[];for(const[b,_]of t)b===_?l.push(b):!_&&b===s[0]?l.push("*"):_?b===s[0]?l.push(`<=${_}`):l.push(`${b} - ${_}`):l.push(`>=${b}`);const f=l.join(" || "),m=typeof i.raw=="string"?i.raw:String(i);return f.length<m.length?f:i},AS}var NS,sz;function Pie(){if(sz)return NS;sz=1;const e=sl(),n=zb(),{ANY:o}=n,i=qb(),u=ol(),t=(m,b,_={})=>{if(m===b)return!0;m=new e(m,_),b=new e(b,_);let p=!1;e:for(const y of m.set){for(const v of b.set){const S=s(y,v,_);if(p=p||S!==null,S)continue e}if(p)return!1}return!0},r=[new n(">=0.0.0-0")],a=[new n(">=0.0.0")],s=(m,b,_)=>{if(m===b)return!0;if(m.length===1&&m[0].semver===o){if(b.length===1&&b[0].semver===o)return!0;_.includePrerelease?m=r:m=a}if(b.length===1&&b[0].semver===o){if(_.includePrerelease)return!0;b=a}const p=new Set;let y,v;for(const M of m)M.operator===">"||M.operator===">="?y=l(y,M,_):M.operator==="<"||M.operator==="<="?v=f(v,M,_):p.add(M.semver);if(p.size>1)return null;let S;if(y&&v){if(S=u(y.semver,v.semver,_),S>0)return null;if(S===0&&(y.operator!==">="||v.operator!=="<="))return null}for(const M of p){if(y&&!i(M,String(y),_)||v&&!i(M,String(v),_))return null;for(const L of b)if(!i(M,String(L),_))return!1;return!0}let R,j,P,T,C=v&&!_.includePrerelease&&v.semver.prerelease.length?v.semver:!1,D=y&&!_.includePrerelease&&y.semver.prerelease.length?y.semver:!1;C&&C.prerelease.length===1&&v.operator==="<"&&C.prerelease[0]===0&&(C=!1);for(const M of b){if(T=T||M.operator===">"||M.operator===">=",P=P||M.operator==="<"||M.operator==="<=",y){if(D&&M.semver.prerelease&&M.semver.prerelease.length&&M.semver.major===D.major&&M.semver.minor===D.minor&&M.semver.patch===D.patch&&(D=!1),M.operator===">"||M.operator===">="){if(R=l(y,M,_),R===M&&R!==y)return!1}else if(y.operator===">="&&!i(y.semver,String(M),_))return!1}if(v){if(C&&M.semver.prerelease&&M.semver.prerelease.length&&M.semver.major===C.major&&M.semver.minor===C.minor&&M.semver.patch===C.patch&&(C=!1),M.operator==="<"||M.operator==="<="){if(j=f(v,M,_),j===M&&j!==v)return!1}else if(v.operator==="<="&&!i(v.semver,String(M),_))return!1}if(!M.operator&&(v||y)&&S!==0)return!1}return!(y&&P&&!v&&S!==0||v&&T&&!y&&S!==0||D||C)},l=(m,b,_)=>{if(!m)return b;const p=u(m.semver,b.semver,_);return p>0?m:p<0||b.operator===">"&&m.operator===">="?b:m},f=(m,b,_)=>{if(!m)return b;const p=u(m.semver,b.semver,_);return p<0?m:p>0||b.operator==="<"&&m.operator==="<="?b:m};return NS=t,NS}var DS,uz;function Aie(){if(uz)return DS;uz=1;const e=c_(),n=Nb(),o=Ar(),i=kG(),u=up(),t=uie(),r=lie(),a=cie(),s=die(),l=fie(),f=hie(),m=pie(),b=gie(),_=ol(),p=mie(),y=_ie(),v=sM(),S=yie(),R=vie(),j=Ib(),P=uM(),T=YG(),C=WG(),D=lM(),M=cM(),L=JG(),q=bie(),z=zb(),w=sl(),V=qb(),k=Oie(),Y=Sie(),U=Eie(),H=Rie(),Z=jie(),ee=dM(),N=Cie(),G=Tie(),J=Mie(),oe=xie(),me=Pie();return DS={parse:u,valid:t,clean:r,inc:a,diff:s,major:l,minor:f,patch:m,prerelease:b,compare:_,rcompare:p,compareLoose:y,compareBuild:v,sort:S,rsort:R,gt:j,lt:P,eq:T,neq:C,gte:D,lte:M,cmp:L,coerce:q,Comparator:z,Range:w,satisfies:V,toComparators:k,maxSatisfying:Y,minSatisfying:U,minVersion:H,validRange:Z,outside:ee,gtr:N,ltr:G,intersects:J,simplifyRange:oe,subset:me,SemVer:o,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},DS}Aie();function Dc(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw new Error(`Invalid identifier format: ${e}`);const[n,o]=e.split(":"),i=o||"latest";if(n.includes("/")){const[u,t]=n.split("/",2);if(!u||!t)throw new Error(`Invalid identifier format: ${e}`);return[u,t,i]}else{if(!n)throw new Error(`Invalid identifier format: ${e}`);return["-",n,i]}}class Nie extends Error{constructor(n){super(n),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}class Die extends Error{constructor(n){super(n),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithNotFoundError",this.status=404}}function lz(e){return e!=null&&typeof e=="object"&&"name"in e&&e?.name==="LangSmithNotFoundError"}async function Je(e,n,o){let i;if(e.ok){o&&(i=await e.text());return}if(e.status===403)try{(await e.json())?.error==="org_scoped_key_requires_workspace"&&(i="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const a=new Error(`${e.status} ${e.statusText}`);throw a.status=e?.status,a}if(i===void 0)try{i=await e.text()}catch{i=""}const u=`Failed to ${n}. Received status [${e.status}]: ${e.statusText}. Message: ${i}`;if(e.status===404)throw new Die(u);if(e.status===409)throw new Nie(u);const t=new Error(u);throw t.status=e.status,t}const ZG="ERR_CONFLICTING_ENDPOINTS";class Iie extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:ZG}),this.name="ConflictingEndpointsError"}}function zie(e){return typeof e=="object"&&e!==null&&e.code===ZG}var cz="[...]",qie={result:"[Circular]"},hb=[],Gh=[];const Bie=new TextEncoder;function Uie(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Zy(e){return Bie.encode(e)}function QG(e){if(e&&typeof e=="object"&&e!==null){if(e instanceof Map)return Object.fromEntries(e);if(e instanceof Set)return Array.from(e);if(e instanceof Date)return e.toISOString();if(e instanceof RegExp)return e.toString();if(e instanceof Error)return{name:e.name,message:e.message}}else if(typeof e=="bigint")return e.toString();return e}function Lie(e){return function(n,o){return QG(o)}}function hn(e,n,o,i,u){try{const t=JSON.stringify(e,Lie(o),i);return Zy(t)}catch(t){if(!t.message?.includes("Converting circular structure to JSON"))return console.warn(`[WARNING]: LangSmith received unserializable value.${n?`
Context: ${n}`:""}`),Zy("[Unserializable]");Gr("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${n?`
Context: ${n}`:""}`),typeof u>"u"&&(u=Uie()),Z1(e,"",0,[],void 0,0,u);let r;try{Gh.length===0?r=JSON.stringify(e,o,i):r=JSON.stringify(e,$ie(o),i)}catch{return Zy("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;hb.length!==0;){const a=hb.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return Zy(r)}}function IS(e,n,o,i){var u=Object.getOwnPropertyDescriptor(i,o);u.get!==void 0?u.configurable?(Object.defineProperty(i,o,{value:e}),hb.push([i,o,n,u])):Gh.push([n,o,e]):(i[o]=e,hb.push([i,o,n]))}function Z1(e,n,o,i,u,t,r){t+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<i.length;a++)if(i[a]===e){IS(qie,e,n,u);return}if(typeof r.depthLimit<"u"&&t>r.depthLimit){IS(cz,e,n,u);return}if(typeof r.edgesLimit<"u"&&o+1>r.edgesLimit){IS(cz,e,n,u);return}if(i.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Z1(e[a],a,a,i,e,t,r);else{e=QG(e);var s=Object.keys(e);for(a=0;a<s.length;a++){var l=s[a];Z1(e[l],l,a,i,e,t,r)}}i.pop()}}function $ie(e){return e=typeof e<"u"?e:function(n,o){return o},function(n,o){if(Gh.length>0)for(var i=0;i<Gh.length;i++){var u=Gh[i];if(u[1]===n&&u[0]===o){o=u[2],Gh.splice(i,1);break}}return e.call(this,n,o)}}function dz(e,n,o){if(o)return e;const i=VG(),u=n??GG(),t=e.extra??{},r=t.metadata;return e.extra={...t,runtime:{...i,...t?.runtime},metadata:{...u,...u.revision_id||"revision_id"in e&&e.revision_id?{revision_id:("revision_id"in e?e.revision_id:void 0)??u.revision_id}:{},...r}},e}const Fie=e=>{const n=e?.toString()??Gr("TRACING_SAMPLING_RATE");if(n===void 0)return;const o=parseFloat(n);if(o<0||o>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${o}`);return o},Vie=e=>{const o=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return o==="localhost"||o==="127.0.0.1"||o==="::1"};async function Gie(e){const n=[];for await(const o of e)n.push(o);return n}function Qy(e){if(e!==void 0)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const Hie=async e=>{if(e?.status===429){const n=parseInt(e.headers.get("retry-after")??"10",10)*1e3;if(n>0)return await new Promise(o=>setTimeout(o,n)),!0}return!1};function fz(e){return typeof e=="number"?Number(e.toFixed(4)):e}const Kie=24*1024*1024,XG=1024*1024*1024,kie=1e4,Yie=100,hz="https://api.smith.langchain.com";class Wie{constructor(n){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=n??XG}peek(){return this.items[0]}push(n){let o;const i=new Promise(t=>{o=t}),u=hn(n.item,`Serializing run with id: ${n.item.id}`).length;return this.sizeBytes+u>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${n.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${u} bytes.`),o(),i):(this.items.push({action:n.action,payload:n.item,otelContext:n.otelContext,apiKey:n.apiKey,apiUrl:n.apiUrl,itemPromiseResolve:o,itemPromise:i,size:u}),this.sizeBytes+=u,i)}pop({upToSizeBytes:n,upToSize:o}){if(n<1)throw new Error("Number of bytes to pop off may not be less than 1.");const i=[];let u=0;for(;u+(this.peek()?.size??0)<n&&this.items.length>0&&i.length<o;){const t=this.items.shift();t&&(i.push(t),u+=t.size,this.sizeBytes-=t.size)}if(i.length===0&&this.items.length>0){const t=this.items.shift();i.push(t),u+=t.size,this.sizeBytes-=t.size}return[i.map(t=>({action:t.action,item:t.payload,otelContext:t.otelContext,apiKey:t.apiKey,apiUrl:t.apiUrl,size:t.size})),()=>i.forEach(t=>t.itemPromiseResolve())]}}let eH=class Q1{get _fetch(){return this.fetchImplementation||Rae(this.debug)}constructor(n={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitTracedRuntimeInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:Ol("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_multipartDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:Ol("LANGSMITH_DEBUG")==="true"});const o=Q1.getDefaultClientConfig();if(this.tracingSampleRate=Fie(n.tracingSamplingRate),this.apiUrl=Qy(n.apiUrl??o.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=Qy(n.apiKey??o.apiKey),this.webUrl=Qy(n.webUrl??o.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=Qy(n.workspaceId??Gr("WORKSPACE_ID")),this.timeout_ms=n.timeout_ms??9e4,this.caller=new gI({...n.callerOptions??{},maxRetries:4,debug:n.debug??this.debug}),this.traceBatchConcurrency=n.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=n.debug??this.debug,this.fetchImplementation=n.fetchImplementation;const i=n.maxIngestMemoryBytes??XG;this.batchIngestCaller=new gI({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:i,...n.callerOptions??{},onFailedResponseHook:Hie,debug:n.debug??this.debug}),this.hideInputs=n.hideInputs??n.anonymizer??o.hideInputs,this.hideOutputs=n.hideOutputs??n.anonymizer??o.hideOutputs,this.omitTracedRuntimeInfo=n.omitTracedRuntimeInfo??!1,this.autoBatchTracing=n.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new Wie(i),this.blockOnRootRunFinalization=n.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=n.batchSizeBytesLimit,this.batchSizeLimit=n.batchSizeLimit,this.fetchOptions=n.fetchOptions||{},this.manualFlushMode=n.manualFlushMode??this.manualFlushMode,HG()&&(this.langSmithToOTELTranslator=new Gae),this.cachedLSEnvVarsForMetadata=GG()}static getDefaultClientConfig(){const n=Gr("API_KEY"),o=Gr("ENDPOINT")??hz,i=Gr("HIDE_INPUTS")==="true",u=Gr("HIDE_OUTPUTS")==="true";return{apiUrl:o,apiKey:n,webUrl:void 0,hideInputs:i,hideOutputs:u}}getHostUrl(){return this.webUrl?this.webUrl:Vie(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const n={"User-Agent":`langsmith-js/${LG}`};return this.apiKey&&(n["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(n["x-tenant-id"]=this.workspaceId),n}_getPlatformEndpointPath(n){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${n}`:`/platform/${n}`}async processInputs(n){return this.hideInputs===!1?n:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(n):n}async processOutputs(n){return this.hideOutputs===!1?n:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(n):n}async prepareRunCreateOrUpdateInputs(n){const o={...n};return o.inputs!==void 0&&(o.inputs=await this.processInputs(o.inputs)),o.outputs!==void 0&&(o.outputs=await this.processOutputs(o.outputs)),o}async _getResponse(n,o){const i=o?.toString()??"",u=`${this.apiUrl}${n}?${i}`;return await this.caller.call(async()=>{const r=await this._fetch(u,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(r,`fetch ${n}`),r})}async _get(n,o){return(await this._getResponse(n,o)).json()}async*_getPaginated(n,o=new URLSearchParams,i){let u=Number(o.get("offset"))||0;const t=Number(o.get("limit"))||100;for(;;){o.set("offset",String(u)),o.set("limit",String(t));const r=`${this.apiUrl}${n}?${o}`,a=await this.caller.call(async()=>{const l=await this._fetch(r,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(l,`fetch ${n}`),l}),s=i?i(await a.json()):await a.json();if(s.length===0||(yield s,s.length<t))break;u+=s.length}}async*_getCursorPaginatedList(n,o=null,i="POST",u="runs"){const t=o?{...o}:{};for(;;){const r=JSON.stringify(t),s=await(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}${n}`,{method:i,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Je(f,`fetch ${n}`),f})).json();if(!s||!s[u])break;yield s[u];const l=s.cursors;if(!l||!l.next)break;t.cursor=l.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(n,o=!1){if(this.tracingSampleRate===void 0)return n;if(o){const i=[];for(const u of n)this.filteredPostUuids.has(u.trace_id)?u.id===u.trace_id&&this.filteredPostUuids.delete(u.trace_id):i.push(u);return i}else{const i=[];for(const u of n){const t=u.trace_id??u.id;this.filteredPostUuids.has(t)||(u.id===t?this._shouldSample()?i.push(u):this.filteredPostUuids.add(t):i.push(u))}return i}}async _getBatchSizeLimitBytes(){const n=await this._ensureServerInfo();return this.batchSizeBytesLimit??n?.batch_ingest_config?.size_limit_bytes??Kie}async _getBatchSizeLimit(){const n=await this._ensureServerInfo();return this.batchSizeLimit??n?.batch_ingest_config?.size_limit??Yie}async _getDatasetExamplesMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:o}){const i=[];for(;this.autoBatchQueue.items.length>0;){const[u,t]=this.autoBatchQueue.pop({upToSizeBytes:n,upToSize:o});if(!u.length){t();break}const r=u.reduce((l,f)=>{const m=f.apiUrl??this.apiUrl,b=f.apiKey??this.apiKey,p=f.apiKey===this.apiKey&&f.apiUrl===this.apiUrl?"default":`${m}|${b}`;return l[p]||(l[p]=[]),l[p].push(f),l},{}),a=[];for(const[l,f]of Object.entries(r)){const m=this._processBatch(f,{apiUrl:l==="default"?void 0:l.split("|")[0],apiKey:l==="default"?void 0:l.split("|")[1]});a.push(m)}const s=Promise.all(a).finally(t);i.push(s)}return Promise.all(i)}async _processBatch(n,o){if(!n.length)return;const i=n.reduce((u,t)=>u+(t.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(n);else{const u={runCreates:n.filter(a=>a.action==="create").map(a=>a.item),runUpdates:n.filter(a=>a.action==="update").map(a=>a.item)},t=await this._ensureServerInfo();if(!this._multipartDisabled&&(t?.batch_ingest_config?.use_multipart_endpoint??!0)){const a=t?.instance_flags?.gzip_body_enabled;try{await this.multipartIngestRuns(u,{...o,useGzip:a,sizeBytes:i})}catch(s){if(lz(s))this._multipartDisabled=!0,await this.batchIngestRuns(u,{...o,sizeBytes:i});else throw s}}else await this.batchIngestRuns(u,{...o,sizeBytes:i})}}catch(u){console.error("Error exporting batch:",u)}}_sendBatchToOTELTranslator(n){if(this.langSmithToOTELTranslator!==void 0){const o=new Map,i=[];for(const u of n)u.item.id&&u.otelContext&&(o.set(u.item.id,u.otelContext),u.action==="create"?i.push({operation:"post",id:u.item.id,trace_id:u.item.trace_id??u.item.id,run:u.item}):i.push({operation:"patch",id:u.item.id,trace_id:u.item.trace_id??u.item.id,run:u.item}));this.langSmithToOTELTranslator.exportBatch(i,o)}}async processRunOperation(n){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,n.item=dz(n.item,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);const o=this.autoBatchQueue.push(n);if(this.manualFlushMode)return o;const i=await this._getBatchSizeLimitBytes(),u=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>i||this.autoBatchQueue.items.length>u)&&this.drainAutoBatchQueue({batchSizeLimitBytes:i,batchSizeLimit:u}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:i,batchSizeLimit:u})},this.autoBatchAggregationDelayMs)),o}async _getServerInfo(){const o=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(kie),...this.fetchOptions});return await Je(i,"get server info"),i})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(o,null,2)+`
`),o}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(n){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${n.status??"Unspecified status code"} ${n.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(n=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),n))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const n=await this._getBatchSizeLimitBytes(),o=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:o})}_cloneCurrentOTELContext(){const n=KG(),o=Lae();if(this.langSmithToOTELTranslator!==void 0){const i=n.getActiveSpan();if(i)return n.setSpan(o.active(),i)}}async createRun(n,o){if(!this._filterForSampling([n]).length)return;const i={...this.headers,"Content-Type":"application/json"},u=n.project_name;delete n.project_name;const t=await this.prepareRunCreateOrUpdateInputs({session_name:u,...n,start_time:n.start_time??Date.now()});if(this.autoBatchTracing&&t.trace_id!==void 0&&t.dotted_order!==void 0){const s=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:t,otelContext:s,apiKey:o?.apiKey,apiUrl:o?.apiUrl}).catch(console.error);return}const r=dz(t,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);o?.apiKey!==void 0&&(i["x-api-key"]=o.apiKey),o?.workspaceId!==void 0&&(i["x-tenant-id"]=o.workspaceId);const a=hn(r,`Creating run with id: ${r.id}`);await this.caller.call(async()=>{const s=await this._fetch(`${o?.apiUrl??this.apiUrl}/runs`,{method:"POST",headers:i,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Je(s,"create run",!0),s})}async batchIngestRuns({runCreates:n,runUpdates:o},i){if(n===void 0&&o===void 0)return;let u=await Promise.all(n?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[]),t=await Promise.all(o?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[]);if(u.length>0&&t.length>0){const s=u.reduce((f,m)=>(m.id&&(f[m.id]=m),f),{}),l=[];for(const f of t)f.id!==void 0&&s[f.id]?s[f.id]={...s[f.id],...f}:l.push(f);u=Object.values(s),t=l}const r={post:u,patch:t};if(!r.post.length&&!r.patch.length)return;const a={post:[],patch:[]};for(const s of["post","patch"]){const l=s,f=r[l].reverse();let m=f.pop();for(;m!==void 0;)a[l].push(m),m=f.pop()}if(a.post.length>0||a.patch.length>0){const s=a.post.map(l=>l.id).concat(a.patch.map(l=>l.id)).join(",");await this._postBatchIngestRuns(hn(a,`Ingesting runs with ids: ${s}`),i)}}async _postBatchIngestRuns(n,o){const i={...this.headers,"Content-Type":"application/json",Accept:"application/json"};o?.apiKey!==void 0&&(i["x-api-key"]=o.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:o?.sizeBytes},async()=>{const u=await this._fetch(`${o?.apiUrl??this.apiUrl}/runs/batch`,{method:"POST",headers:i,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await Je(u,"batch create run",!0),u})}async multipartIngestRuns({runCreates:n,runUpdates:o},i){if(n===void 0&&o===void 0)return;const u={};let t=[];for(const m of n??[]){const b=await this.prepareRunCreateOrUpdateInputs(m);b.id!==void 0&&b.attachments!==void 0&&(u[b.id]=b.attachments),delete b.attachments,t.push(b)}let r=[];for(const m of o??[])r.push(await this.prepareRunCreateOrUpdateInputs(m));if(t.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(r.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(t.length>0&&r.length>0){const m=t.reduce((_,p)=>(p.id&&(_[p.id]=p),_),{}),b=[];for(const _ of r)_.id!==void 0&&m[_.id]?m[_.id]={...m[_.id],..._}:b.push(_);t=Object.values(m),r=b}if(t.length===0&&r.length===0)return;const l=[],f=[];for(const[m,b]of[["post",t],["patch",r]])for(const _ of b){const{inputs:p,outputs:y,events:v,extra:S,error:R,serialized:j,attachments:P,...T}=_,C={inputs:p,outputs:y,events:v,extra:S,error:R,serialized:j},D=hn(T,`Serializing for multipart ingestion of run with id: ${T.id}`);f.push({name:`${m}.${T.id}`,payload:new Blob([D],{type:`application/json; length=${D.length}`})});for(const[M,L]of Object.entries(C)){if(L===void 0)continue;const q=hn(L,`Serializing ${M} for multipart ingestion of run with id: ${T.id}`);f.push({name:`${m}.${T.id}.${M}`,payload:new Blob([q],{type:`application/json; length=${q.length}`})})}if(T.id!==void 0){const M=u[T.id];if(M){delete u[T.id];for(const[L,q]of Object.entries(M)){let z,w;if(Array.isArray(q)?[z,w]=q:(z=q.mimeType,w=q.data),L.includes(".")){console.warn(`Skipping attachment '${L}' for run ${T.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}f.push({name:`attachment.${T.id}.${L}`,payload:new Blob([w],{type:`${z}; length=${w.byteLength}`})})}}}l.push(`trace=${T.trace_id},id=${T.id}`)}await this._sendMultipartRequest(f,l.join("; "),i)}async _createNodeFetchBody(n,o){const i=[];for(const r of n)i.push(new Blob([`--${o}\r
`])),i.push(new Blob([`Content-Disposition: form-data; name="${r.name}"\r
`,`Content-Type: ${r.payload.type}\r
\r
`])),i.push(r.payload),i.push(new Blob([`\r
`]));return i.push(new Blob([`--${o}--\r
`])),await new Blob(i).arrayBuffer()}async _createMultipartStream(n,o){const i=new TextEncoder;return new ReadableStream({async start(t){const r=async a=>{typeof a=="string"?t.enqueue(i.encode(a)):t.enqueue(a)};for(const a of n){await r(`--${o}\r
`),await r(`Content-Disposition: form-data; name="${a.name}"\r
`),await r(`Content-Type: ${a.payload.type}\r
\r
`);const l=a.payload.stream().getReader();try{let f;for(;!(f=await l.read()).done;)t.enqueue(f.value)}finally{l.releaseLock()}await r(`\r
`)}await r(`--${o}--\r
`),t.close()}})}async _sendMultipartRequest(n,o,i){const u="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),t=Eae(),r=()=>this._createNodeFetchBody(n,u),a=()=>this._createMultipartStream(n,u),s=async l=>this.batchIngestCaller.callWithOptions({sizeBytes:i?.sizeBytes},async()=>{const f=await l(),m={...this.headers,"Content-Type":`multipart/form-data; boundary=${u}`};i?.apiKey!==void 0&&(m["x-api-key"]=i.apiKey);let b=f;i?.useGzip&&typeof f=="object"&&"pipeThrough"in f&&(b=f.pipeThrough(new CompressionStream("gzip")),m["Content-Encoding"]="gzip");const _=await this._fetch(`${i?.apiUrl??this.apiUrl}/runs/multipart`,{method:"POST",headers:m,body:b,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(_,"Failed to send multipart request",!0),_});try{let l,f=!1;!t&&!this.multipartStreamingDisabled&&FG()!=="bun"?(f=!0,l=await s(a)):l=await s(r),(!this.multipartStreamingDisabled||f)&&l.status===422&&(i?.apiUrl??this.apiUrl)!==hz&&(console.warn(`Streaming multipart upload to ${i?.apiUrl??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${o}".`),this.multipartStreamingDisabled=!0,l=await s(r))}catch(l){if(lz(l))throw l;console.warn(`${l.message.trim()}

Context: ${o}`)}}async updateRun(n,o,i){nt(n),o.inputs&&(o.inputs=await this.processInputs(o.inputs)),o.outputs&&(o.outputs=await this.processOutputs(o.outputs));const u={...o,id:n};if(!this._filterForSampling([u],!0).length)return;if(this.autoBatchTracing&&u.trace_id!==void 0&&u.dotted_order!==void 0){const a=this._cloneCurrentOTELContext();if(o.end_time!==void 0&&u.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:u,otelContext:a,apiKey:i?.apiKey,apiUrl:i?.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:u,otelContext:a,apiKey:i?.apiKey,apiUrl:i?.apiUrl}).catch(console.error);return}const t={...this.headers,"Content-Type":"application/json"};i?.apiKey!==void 0&&(t["x-api-key"]=i.apiKey),i?.workspaceId!==void 0&&(t["x-tenant-id"]=i.workspaceId);const r=hn(o,`Serializing payload to update run with id: ${n}`);await this.caller.call(async()=>{const a=await this._fetch(`${i?.apiUrl??this.apiUrl}/runs/${n}`,{method:"PATCH",headers:t,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Je(a,"update run",!0),a})}async readRun(n,{loadChildRuns:o}={loadChildRuns:!1}){nt(n);let i=await this._get(`/runs/${n}`);return o&&(i=await this._loadChildRuns(i)),i}async getRunUrl({runId:n,run:o,projectOpts:i}){if(o!==void 0){let u;o.session_id?u=o.session_id:i?.projectName?u=(await this.readProject({projectName:i?.projectName})).id:i?.projectId?u=i?.projectId:u=(await this.readProject({projectName:Gr("PROJECT")||"default"})).id;const t=await this._getTenantId();return`${this.getHostUrl()}/o/${t}/projects/p/${u}/r/${o.id}?poll=true`}else if(n!==void 0){const u=await this.readRun(n);if(!u.app_path)throw new Error(`Run ${n} has no app_path`);return`${this.getHostUrl()}${u.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(n){const o=await Gie(this.listRuns({isRoot:!1,projectId:n.session_id,traceId:n.trace_id})),i={},u={};o.sort((t,r)=>(t?.dotted_order??"").localeCompare(r?.dotted_order??""));for(const t of o){if(t.parent_run_id===null||t.parent_run_id===void 0)throw new Error(`Child run ${t.id} has no parent`);t.dotted_order?.startsWith(n.dotted_order??"")&&t.id!==n.id&&(t.parent_run_id in i||(i[t.parent_run_id]=[]),i[t.parent_run_id].push(t),u[t.id]=t)}n.child_runs=i[n.id]||[];for(const t in i)t!==n.id&&(u[t].child_runs=i[t]);return n}async*listRuns(n){const{projectId:o,projectName:i,parentRunId:u,traceId:t,referenceExampleId:r,startTime:a,executionOrder:s,isRoot:l,runType:f,error:m,id:b,query:_,filter:p,traceFilter:y,treeFilter:v,limit:S,select:R,order:j}=n;let P=[];if(o&&(P=Array.isArray(o)?o:[o]),i){const M=Array.isArray(i)?i:[i],L=await Promise.all(M.map(q=>this.readProject({projectName:q}).then(z=>z.id)));P.push(...L)}const T=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],C={session:P.length?P:null,run_type:f,reference_example:r,query:_,filter:p,trace_filter:y,tree_filter:v,execution_order:s,parent_run:u,start_time:a?a.toISOString():null,error:m,id:b,limit:S,trace:t,select:R||T,is_root:l,order:j};C.select.includes("child_run_ids")&&UG("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let D=0;for await(const M of this._getCursorPaginatedList("/runs/query",C))if(S){if(D>=S)break;if(M.length+D>S){yield*M.slice(0,S-D);break}D+=M.length,yield*M}else yield*M}async*listGroupRuns(n){const{projectId:o,projectName:i,groupBy:u,filter:t,startTime:r,endTime:a,limit:s,offset:l}=n,m={session_id:o||(await this.readProject({projectName:i})).id,group_by:u,filter:t,start_time:r?r.toISOString():null,end_time:a?a.toISOString():null,limit:Number(s)||100};let b=Number(l)||0;const _="/runs/group",p=`${this.apiUrl}${_}`;for(;;){const y={...m,offset:b},v=Object.fromEntries(Object.entries(y).filter(([C,D])=>D!==void 0)),S=JSON.stringify(v),j=await(await this.caller.call(async()=>{const C=await this._fetch(p,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:S});return await Je(C,`Failed to fetch ${_}`),C})).json(),{groups:P,total:T}=j;if(P.length===0)break;for(const C of P)yield C;if(b+=P.length,b>=T)break}}async getRunStats({id:n,trace:o,parentRun:i,runType:u,projectNames:t,projectIds:r,referenceExampleIds:a,startTime:s,endTime:l,error:f,query:m,filter:b,traceFilter:_,treeFilter:p,isRoot:y,dataSourceType:v}){let S=r||[];t&&(S=[...r||[],...await Promise.all(t.map(D=>this.readProject({projectName:D}).then(M=>M.id)))]);const j=Object.fromEntries(Object.entries({id:n,trace:o,parent_run:i,run_type:u,session:S,reference_example:a,start_time:s,end_time:l,error:f,query:m,filter:b,trace_filter:_,tree_filter:p,is_root:y,data_source_type:v}).filter(([D,M])=>M!==void 0)),P=JSON.stringify(j);return await(await this.caller.call(async()=>{const D=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:P});return await Je(D,"get run stats"),D})).json()}async shareRun(n,{shareId:o}={}){const i={run_id:n,share_token:o||$c()};nt(n);const u=JSON.stringify(i),r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/runs/${n}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Je(a,"share run"),a})).json();if(r===null||!("share_token"in r))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${r.share_token}/r`}async unshareRun(n){nt(n),await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/runs/${n}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(o,"unshare run",!0),o})}async readRunSharedLink(n){nt(n);const i=await(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/runs/${n}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(u,"read run shared link"),u})).json();if(!(i===null||!("share_token"in i)))return`${this.getHostUrl()}/public/${i.share_token}/r`}async listSharedRuns(n,{runIds:o}={}){const i=new URLSearchParams({share_token:n});if(o!==void 0)for(const r of o)i.append("id",r);return nt(n),await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/public/${n}/runs${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(r,"list shared runs"),r})).json()}async readDatasetSharedSchema(n,o){if(!n&&!o)throw new Error("Either datasetId or datasetName must be given");n||(n=(await this.readDataset({datasetName:o})).id),nt(n);const u=await(await this.caller.call(async()=>{const t=await this._fetch(`${this.apiUrl}/datasets/${n}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(t,"read dataset shared schema"),t})).json();return u.url=`${this.getHostUrl()}/public/${u.share_token}/d`,u}async shareDataset(n,o){if(!n&&!o)throw new Error("Either datasetId or datasetName must be given");n||(n=(await this.readDataset({datasetName:o})).id);const i={dataset_id:n};nt(n);const u=JSON.stringify(i),r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/datasets/${n}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Je(a,"share dataset"),a})).json();return r.url=`${this.getHostUrl()}/public/${r.share_token}/d`,r}async unshareDataset(n){nt(n),await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${n}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(o,"unshare dataset",!0),o})}async readSharedDataset(n){return nt(n),await(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/public/${n}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(u,"read shared dataset"),u})).json()}async listSharedExamples(n,o){const i={};o?.exampleIds&&(i.id=o.exampleIds);const u=new URLSearchParams;Object.entries(i).forEach(([a,s])=>{Array.isArray(s)?s.forEach(l=>u.append(a,l)):u.append(a,s)});const t=await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/public/${n}/examples?${u.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(a,"list shared examples"),a}),r=await t.json();if(!t.ok)throw"detail"in r?new Error(`Failed to list shared examples.
Status: ${t.status}
Message: ${Array.isArray(r.detail)?r.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${t.status} ${t.statusText}`);return r.map(a=>({...a,_hostUrl:this.getHostUrl()}))}async createProject({projectName:n,description:o=null,metadata:i=null,upsert:u=!1,projectExtra:t=null,referenceDatasetId:r=null}){const a=u?"?upsert=true":"",s=`${this.apiUrl}/sessions${a}`,l=t||{};i&&(l.metadata=i);const f={name:n,extra:l,description:o};r!==null&&(f.reference_dataset_id=r);const m=JSON.stringify(f);return await(await this.caller.call(async()=>{const p=await this._fetch(s,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:m});return await Je(p,"create project"),p})).json()}async updateProject(n,{name:o=null,description:i=null,metadata:u=null,projectExtra:t=null,endTime:r=null}){const a=`${this.apiUrl}/sessions/${n}`;let s=t;u&&(s={...s||{},metadata:u});const l=JSON.stringify({name:o,extra:s,description:i,end_time:r?new Date(r).toISOString():null});return await(await this.caller.call(async()=>{const b=await this._fetch(a,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Je(b,"update project"),b})).json()}async hasProject({projectId:n,projectName:o}){let i="/sessions";const u=new URLSearchParams;if(n!==void 0&&o!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(n!==void 0)nt(n),i+=`/${n}`;else if(o!==void 0)u.append("name",o);else throw new Error("Must provide projectName or projectId");const t=await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}${i}?${u}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(r,"has project"),r});try{const r=await t.json();return t.ok?Array.isArray(r)?r.length>0:!0:!1}catch{return!1}}async readProject({projectId:n,projectName:o,includeStats:i}){let u="/sessions";const t=new URLSearchParams;if(n!==void 0&&o!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(n!==void 0)nt(n),u+=`/${n}`;else if(o!==void 0)t.append("name",o);else throw new Error("Must provide projectName or projectId");i!==void 0&&t.append("include_stats",i.toString());const r=await this._get(u,t);let a;if(Array.isArray(r)){if(r.length===0)throw new Error(`Project[id=${n}, name=${o}] not found`);a=r[0]}else a=r;return a}async getProjectUrl({projectId:n,projectName:o}){if(n===void 0&&o===void 0)throw new Error("Must provide either projectName or projectId");const i=await this.readProject({projectId:n,projectName:o}),u=await this._getTenantId();return`${this.getHostUrl()}/o/${u}/projects/p/${i.id}`}async getDatasetUrl({datasetId:n,datasetName:o}){if(n===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");const i=await this.readDataset({datasetId:n,datasetName:o}),u=await this._getTenantId();return`${this.getHostUrl()}/o/${u}/datasets/${i.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const n=new URLSearchParams({limit:"1"});for await(const o of this._getPaginated("/sessions",n))return this._tenantId=o[0].tenant_id,o[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:n,name:o,nameContains:i,referenceDatasetId:u,referenceDatasetName:t,includeStats:r,datasetVersion:a,referenceFree:s,metadata:l}={}){const f=new URLSearchParams;if(n!==void 0)for(const m of n)f.append("id",m);if(o!==void 0&&f.append("name",o),i!==void 0&&f.append("name_contains",i),u!==void 0)f.append("reference_dataset",u);else if(t!==void 0){const m=await this.readDataset({datasetName:t});f.append("reference_dataset",m.id)}r!==void 0&&f.append("include_stats",r.toString()),a!==void 0&&f.append("dataset_version",a),s!==void 0&&f.append("reference_free",s.toString()),l!==void 0&&f.append("metadata",JSON.stringify(l));for await(const m of this._getPaginated("/sessions",f))yield*m}async deleteProject({projectId:n,projectName:o}){let i;if(n===void 0&&o===void 0)throw new Error("Must provide projectName or projectId");if(n!==void 0&&o!==void 0)throw new Error("Must provide either projectName or projectId, not both");n===void 0?i=(await this.readProject({projectName:o})).id:i=n,nt(i),await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/sessions/${i}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(u,`delete session ${i} (${o})`,!0),u})}async uploadCsv({csvFile:n,fileName:o,inputKeys:i,outputKeys:u,description:t,dataType:r,name:a}){const s=`${this.apiUrl}/datasets/upload`,l=new FormData;return l.append("file",n,o),i.forEach(b=>{l.append("input_keys",b)}),u.forEach(b=>{l.append("output_keys",b)}),t&&l.append("description",t),r&&l.append("data_type",r),a&&l.append("name",a),await(await this.caller.call(async()=>{const b=await this._fetch(s,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Je(b,"upload CSV"),b})).json()}async createDataset(n,{description:o,dataType:i,inputsSchema:u,outputsSchema:t,metadata:r}={}){const a={name:n,description:o,extra:r?{metadata:r}:void 0};i&&(a.data_type=i),u&&(a.inputs_schema_definition=u),t&&(a.outputs_schema_definition=t);const s=JSON.stringify(a);return await(await this.caller.call(async()=>{const m=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Je(m,"create dataset"),m})).json()}async readDataset({datasetId:n,datasetName:o}){let i="/datasets";const u=new URLSearchParams({limit:"1"});if(n&&o)throw new Error("Must provide either datasetName or datasetId, not both");if(n)nt(n),i+=`/${n}`;else if(o)u.append("name",o);else throw new Error("Must provide datasetName or datasetId");const t=await this._get(i,u);let r;if(Array.isArray(t)){if(t.length===0)throw new Error(`Dataset[id=${n}, name=${o}] not found`);r=t[0]}else r=t;return r}async hasDataset({datasetId:n,datasetName:o}){try{return await this.readDataset({datasetId:n,datasetName:o}),!0}catch(i){if(i instanceof Error&&i.message.toLocaleLowerCase().includes("not found"))return!1;throw i}}async diffDatasetVersions({datasetId:n,datasetName:o,fromVersion:i,toVersion:u}){let t=n;if(t===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(t!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");t===void 0&&(t=(await this.readDataset({datasetName:o})).id);const r=new URLSearchParams({from_version:typeof i=="string"?i:i.toISOString(),to_version:typeof u=="string"?u:u.toISOString()});return await this._get(`/datasets/${t}/versions/diff`,r)}async readDatasetOpenaiFinetuning({datasetId:n,datasetName:o}){const i="/datasets";if(n===void 0)if(o!==void 0)n=(await this.readDataset({datasetName:o})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${i}/${n}/openai_ft`)).text()).trim().split(`
`).map(a=>JSON.parse(a))}async*listDatasets({limit:n=100,offset:o=0,datasetIds:i,datasetName:u,datasetNameContains:t,metadata:r}={}){const a="/datasets",s=new URLSearchParams({limit:n.toString(),offset:o.toString()});if(i!==void 0)for(const l of i)s.append("id",l);u!==void 0&&s.append("name",u),t!==void 0&&s.append("name_contains",t),r!==void 0&&s.append("metadata",JSON.stringify(r));for await(const l of this._getPaginated(a,s))yield*l}async updateDataset(n){const{datasetId:o,datasetName:i,...u}=n;if(!o&&!i)throw new Error("Must provide either datasetName or datasetId");const t=o??(await this.readDataset({datasetName:i})).id;nt(t);const r=JSON.stringify(u);return await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Je(s,"update dataset"),s})).json()}async updateDatasetTag(n){const{datasetId:o,datasetName:i,asOf:u,tag:t}=n;if(!o&&!i)throw new Error("Must provide either datasetName or datasetId");const r=o??(await this.readDataset({datasetName:i})).id;nt(r);const a=JSON.stringify({as_of:typeof u=="string"?u:u.toISOString(),tag:t});await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${r}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Je(s,"update dataset tags",!0),s})}async deleteDataset({datasetId:n,datasetName:o}){let i="/datasets",u=n;if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(o!==void 0&&(u=(await this.readDataset({datasetName:o})).id),u!==void 0)nt(u),i+=`/${u}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const t=await this._fetch(this.apiUrl+i,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(t,`delete ${i}`,!0),t})}async indexDataset({datasetId:n,datasetName:o,tag:i}){let u=n;if(!u&&!o)throw new Error("Must provide either datasetName or datasetId");if(u&&o)throw new Error("Must provide either datasetName or datasetId, not both");u||(u=(await this.readDataset({datasetName:o})).id),nt(u);const r=JSON.stringify({tag:i});await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${u}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Je(s,"index dataset"),s})).json()}async similarExamples(n,o,i,{filter:u}={}){const t={limit:i,inputs:n};u!==void 0&&(t.filter=u),nt(o);const r=JSON.stringify(t);return(await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${o}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:r});return await Je(l,"fetch similar examples"),l})).json()).examples}async createExample(n,o,i){if(pz(n)&&(o!==void 0||i!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let u=o?i?.datasetId:n.dataset_id;const t=o?i?.datasetName:n.dataset_name;if(u===void 0&&t===void 0)throw new Error("Must provide either datasetName or datasetId");if(u!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");u===void 0&&(u=(await this.readDataset({datasetName:t})).id);const r=(o?i?.createdAt:n.created_at)||new Date;let a;pz(n)?a=n:a={inputs:n,outputs:o,created_at:r?.toISOString(),id:i?.exampleId,metadata:i?.metadata,split:i?.split,source_run_id:i?.sourceRunId,use_source_run_io:i?.useSourceRunIO,use_source_run_attachments:i?.useSourceRunAttachments,attachments:i?.attachments};const s=await this._uploadExamplesMultipart(u,[a]);return await this.readExample(s.example_ids?.[0]??$c())}async createExamples(n){if(Array.isArray(n)){if(n.length===0)return[];const R=n;let j=R[0].dataset_id;const P=R[0].dataset_name;if(j===void 0&&P===void 0)throw new Error("Must provide either datasetName or datasetId");if(j!==void 0&&P!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");j===void 0&&(j=(await this.readDataset({datasetName:P})).id);const T=await this._uploadExamplesMultipart(j,R);return await Promise.all(T.example_ids.map(D=>this.readExample(D)))}const{inputs:o,outputs:i,metadata:u,splits:t,sourceRunIds:r,useSourceRunIOs:a,useSourceRunAttachments:s,attachments:l,exampleIds:f,datasetId:m,datasetName:b}=n;if(o===void 0)throw new Error("Must provide inputs when using legacy parameters");let _=m;const p=b;if(_===void 0&&p===void 0)throw new Error("Must provide either datasetName or datasetId");if(_!==void 0&&p!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");_===void 0&&(_=(await this.readDataset({datasetName:p})).id);const y=o.map((R,j)=>({dataset_id:_,inputs:R,outputs:i?.[j],metadata:u?.[j],split:t?.[j],id:f?.[j],attachments:l?.[j],source_run_id:r?.[j],use_source_run_io:a?.[j],use_source_run_attachments:s?.[j]})),v=await this._uploadExamplesMultipart(_,y);return await Promise.all(v.example_ids.map(R=>this.readExample(R)))}async createLLMExample(n,o,i){return this.createExample({input:n},{output:o},i)}async createChatExample(n,o,i){const u=n.map(r=>mI(r)?_I(r):r),t=mI(o)?_I(o):o;return this.createExample({input:u},{output:t},i)}async readExample(n){nt(n);const o=`/examples/${n}`,i=await this._get(o),{attachment_urls:u,...t}=i,r=t;return u&&(r.attachments=Object.entries(u).reduce((a,[s,l])=>(a[s.slice(11)]={presigned_url:l.presigned_url,mime_type:l.mime_type},a),{})),r}async*listExamples({datasetId:n,datasetName:o,exampleIds:i,asOf:u,splits:t,inlineS3Urls:r,metadata:a,limit:s,offset:l,filter:f,includeAttachments:m}={}){let b;if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0)b=n;else if(o!==void 0)b=(await this.readDataset({datasetName:o})).id;else throw new Error("Must provide a datasetName or datasetId");const _=new URLSearchParams({dataset:b}),p=u?typeof u=="string"?u:u?.toISOString():void 0;p&&_.append("as_of",p);const y=r??!0;if(_.append("inline_s3_urls",y.toString()),i!==void 0)for(const S of i)_.append("id",S);if(t!==void 0)for(const S of t)_.append("splits",S);if(a!==void 0){const S=JSON.stringify(a);_.append("metadata",S)}s!==void 0&&_.append("limit",s.toString()),l!==void 0&&_.append("offset",l.toString()),f!==void 0&&_.append("filter",f),m===!0&&["attachment_urls","outputs","metadata"].forEach(S=>_.append("select",S));let v=0;for await(const S of this._getPaginated("/examples",_)){for(const R of S){const{attachment_urls:j,...P}=R,T=P;j&&(T.attachments=Object.entries(j).reduce((C,[D,M])=>(C[D.slice(11)]={presigned_url:M.presigned_url,mime_type:M.mime_type||void 0},C),{})),yield T,v++}if(s!==void 0&&v>=s)break}}async deleteExample(n){nt(n);const o=`/examples/${n}`;await this.caller.call(async()=>{const i=await this._fetch(this.apiUrl+o,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(i,`delete ${o}`,!0),i})}async deleteExamples(n,o){if(n.forEach(i=>nt(i)),o?.hardDelete){const i=this._getPlatformEndpointPath("datasets/examples/delete");await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({example_ids:n,hard_delete:!0}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(u,"hard delete examples",!0),u})}else{const i=new URLSearchParams;n.forEach(u=>i.append("example_ids",u)),await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/examples?${i.toString()}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(u,"delete examples",!0),u})}}async updateExample(n,o){let i;o?i=n:i=n.id,nt(i);let u;o?u={id:i,...o}:u=n;let t;return u.dataset_id!==void 0?t=u.dataset_id:t=(await this.readExample(i)).dataset_id,this._updateExamplesMultipart(t,[u])}async updateExamples(n){let o;return n[0].dataset_id===void 0?o=(await this.readExample(n[0].id)).dataset_id:o=n[0].dataset_id,this._updateExamplesMultipart(o,n)}async readDatasetVersion({datasetId:n,datasetName:o,asOf:i,tag:u}){let t;if(n?t=n:t=(await this.readDataset({datasetName:o})).id,nt(t),i&&u||!i&&!u)throw new Error("Exactly one of asOf and tag must be specified.");const r=new URLSearchParams;return i!==void 0&&r.append("as_of",typeof i=="string"?i:i.toISOString()),u!==void 0&&r.append("tag",u),await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${t}/version?${r.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(s,"read dataset version"),s})).json()}async listDatasetSplits({datasetId:n,datasetName:o,asOf:i}){let u;if(n===void 0&&o===void 0)throw new Error("Must provide dataset name or ID");if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");n===void 0?u=(await this.readDataset({datasetName:o})).id:u=n,nt(u);const t=new URLSearchParams,r=i?typeof i=="string"?i:i?.toISOString():void 0;return r&&t.append("as_of",r),await this._get(`/datasets/${u}/splits`,t)}async updateDatasetSplits({datasetId:n,datasetName:o,splitName:i,exampleIds:u,remove:t=!1}){let r;if(n===void 0&&o===void 0)throw new Error("Must provide dataset name or ID");if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");n===void 0?r=(await this.readDataset({datasetName:o})).id:r=n,nt(r);const a={split_name:i,examples:u.map(l=>(nt(l),l)),remove:t},s=JSON.stringify(a);await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${r}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Je(l,"update dataset splits",!0),l})}async createFeedback(n,o,{score:i,value:u,correction:t,comment:r,sourceInfo:a,feedbackSourceType:s="api",sourceRunId:l,feedbackId:f,feedbackConfig:m,projectId:b,comparativeExperimentId:_}){if(!n&&!b)throw new Error("One of runId or projectId must be provided");if(n&&b)throw new Error("Only one of runId or projectId can be provided");const p={type:s??"api",metadata:a??{}};l!==void 0&&p?.metadata!==void 0&&!p.metadata.__run&&(p.metadata.__run={run_id:l}),p?.metadata!==void 0&&p.metadata.__run?.run_id!==void 0&&nt(p.metadata.__run.run_id);const y={id:f??$c(),run_id:n,key:o,score:fz(i),value:u,correction:t,comment:r,feedback_source:p,comparative_experiment_id:_,feedbackConfig:m,session_id:b},v=JSON.stringify(y),S=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const R=await this._fetch(S,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:v});return await Je(R,"create feedback",!0),R}),y}async updateFeedback(n,{score:o,value:i,correction:u,comment:t}){const r={};o!=null&&(r.score=fz(o)),i!=null&&(r.value=i),u!=null&&(r.correction=u),t!=null&&(r.comment=t),nt(n);const a=JSON.stringify(r);await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/feedback/${n}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Je(s,"update feedback",!0),s})}async readFeedback(n){nt(n);const o=`/feedback/${n}`;return await this._get(o)}async deleteFeedback(n){nt(n);const o=`/feedback/${n}`;await this.caller.call(async()=>{const i=await this._fetch(this.apiUrl+o,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(i,`delete ${o}`,!0),i})}async*listFeedback({runIds:n,feedbackKeys:o,feedbackSourceTypes:i}={}){const u=new URLSearchParams;if(n)for(const t of n)nt(t),u.append("run",t);if(o)for(const t of o)u.append("key",t);if(i)for(const t of i)u.append("source",t);for await(const t of this._getPaginated("/feedback",u))yield*t}async createPresignedFeedbackToken(n,o,{expiration:i,feedbackConfig:u}={}){const t={run_id:n,feedback_key:o,feedback_config:u};i?typeof i=="string"?t.expires_at=i:(i?.hours||i?.minutes||i?.days)&&(t.expires_in=i):t.expires_in={hours:3};const r=JSON.stringify(t);return await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Je(s,"create presigned feedback token"),s})).json()}async createComparativeExperiment({name:n,experimentIds:o,referenceDatasetId:i,createdAt:u,description:t,metadata:r,id:a}){if(o.length===0)throw new Error("At least one experiment is required");if(i||(i=(await this.readProject({projectId:o[0]})).reference_dataset_id),!i==null)throw new Error("A reference dataset is required");const s={id:a,name:n,experiment_ids:o,reference_dataset_id:i,description:t,created_at:(u??new Date)?.toISOString(),extra:{}};r&&(s.extra.metadata=r);const l=JSON.stringify(s);return(await this.caller.call(async()=>{const m=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Je(m,"create comparative experiment"),m})).json()}async*listPresignedFeedbackTokens(n){nt(n);const o=new URLSearchParams({run_id:n});for await(const i of this._getPaginated("/feedback/tokens",o))yield*i}_selectEvalResults(n){let o;return"results"in n?o=n.results:Array.isArray(n)?o=n:o=[n],o}async _logEvaluationFeedback(n,o,i){const u=this._selectEvalResults(n),t=[];for(const r of u){let a=i||{};r.evaluatorInfo&&(a={...r.evaluatorInfo,...a});let s=null;r.targetRunId?s=r.targetRunId:o&&(s=o.id),t.push(await this.createFeedback(s,r.key,{score:r.score,value:r.value,comment:r.comment,correction:r.correction,sourceInfo:a,sourceRunId:r.sourceRunId,feedbackConfig:r.feedbackConfig,feedbackSourceType:"model"}))}return[u,t]}async logEvaluationFeedback(n,o,i){const[u]=await this._logEvaluationFeedback(n,o,i);return u}async*listAnnotationQueues(n={}){const{queueIds:o,name:i,nameContains:u,limit:t}=n,r=new URLSearchParams;o&&o.forEach((s,l)=>{nt(s,`queueIds[${l}]`),r.append("ids",s)}),i&&r.append("name",i),u&&r.append("name_contains",u),r.append("limit",(t!==void 0?Math.min(t,100):100).toString());let a=0;for await(const s of this._getPaginated("/annotation-queues",r))if(yield*s,a++,t!==void 0&&a>=t)break}async createAnnotationQueue(n){const{name:o,description:i,queueId:u,rubricInstructions:t}=n,r={name:o,description:i,id:u||$c(),rubric_instructions:t},a=JSON.stringify(Object.fromEntries(Object.entries(r).filter(([l,f])=>f!==void 0)));return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Je(l,"create annotation queue"),l})).json()}async readAnnotationQueue(n){return(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${nt(n,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(i,"read annotation queue"),i})).json()}async updateAnnotationQueue(n,o){const{name:i,description:u,rubricInstructions:t}=o,r=JSON.stringify({name:i,description:u,rubric_instructions:t});await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/annotation-queues/${nt(n,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Je(a,"update annotation queue",!0),a})}async deleteAnnotationQueue(n){await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/annotation-queues/${nt(n,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(o,"delete annotation queue",!0),o})}async addRunsToAnnotationQueue(n,o){const i=JSON.stringify(o.map((u,t)=>nt(u,`runIds[${t}]`).toString()));await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/annotation-queues/${nt(n,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Je(u,"add runs to annotation queue",!0),u})}async getRunFromAnnotationQueue(n,o){const i=`/annotation-queues/${nt(n,"queueId")}/run`;return(await this.caller.call(async()=>{const t=await this._fetch(`${this.apiUrl}${i}/${o}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(t,"get run from annotation queue"),t})).json()}async deleteRunFromAnnotationQueue(n,o){await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${nt(n,"queueId")}/runs/${nt(o,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(i,"delete run from annotation queue",!0),i})}async getSizeFromAnnotationQueue(n){return(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${nt(n,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(i,"get size from annotation queue"),i})).json()}async _currentTenantIsOwner(n){const o=await this._getSettings();return n=="-"||o.tenant_handle===n}async _ownerConflictError(n,o){const i=await this._getSettings();return new Error(`Cannot ${n} for another tenant.

      Current tenant: ${i.tenant_handle}

      Requested tenant: ${o}`)}async _getLatestCommitHash(n){const i=await(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/commits/${n}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(u,"get latest commit hash"),u})).json();if(i.commits.length!==0)return i.commits[0].commit_hash}async _likeOrUnlikePrompt(n,o){const[i,u,t]=Dc(n),r=JSON.stringify({like:o});return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/likes/${i}/${u}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Je(s,`${o?"like":"unlike"} prompt`),s})).json()}async _getPromptUrl(n){const[o,i,u]=Dc(n);if(await this._currentTenantIsOwner(o)){const t=await this._getSettings();return u!=="latest"?`${this.getHostUrl()}/prompts/${i}/${u.substring(0,8)}?organizationId=${t.id}`:`${this.getHostUrl()}/prompts/${i}?organizationId=${t.id}`}else return u!=="latest"?`${this.getHostUrl()}/hub/${o}/${i}/${u.substring(0,8)}`:`${this.getHostUrl()}/hub/${o}/${i}`}async promptExists(n){return!!await this.getPrompt(n)}async likePrompt(n){return this._likeOrUnlikePrompt(n,!0)}async unlikePrompt(n){return this._likeOrUnlikePrompt(n,!1)}async*listCommits(n){for await(const o of this._getPaginated(`/commits/${n}/`,new URLSearchParams,i=>i.commits))yield*o}async*listPrompts(n){const o=new URLSearchParams;o.append("sort_field",n?.sortField??"updated_at"),o.append("sort_direction","desc"),o.append("is_archived",(!!n?.isArchived).toString()),n?.isPublic!==void 0&&o.append("is_public",n.isPublic.toString()),n?.query&&o.append("query",n.query);for await(const i of this._getPaginated("/repos",o,u=>u.repos))yield*i}async getPrompt(n){const[o,i,u]=Dc(n),r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/repos/${o}/${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return a?.status===404?null:(await Je(a,"get prompt"),a)}))?.json();return r?.repo?r.repo:null}async createPrompt(n,o){const i=await this._getSettings();if(o?.isPublic&&!i.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[u,t,r]=Dc(n);if(!await this._currentTenantIsOwner(u))throw await this._ownerConflictError("create a prompt",u);const a={repo_handle:t,...o?.description&&{description:o.description},...o?.readme&&{readme:o.readme},...o?.tags&&{tags:o.tags},is_public:!!o?.isPublic},s=JSON.stringify(a),l=await this.caller.call(async()=>{const m=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Je(m,"create prompt"),m}),{repo:f}=await l.json();return f}async createCommit(n,o,i){if(!await this.promptExists(n))throw new Error("Prompt does not exist, you must create it first.");const[u,t,r]=Dc(n),a=i?.parentCommitHash==="latest"||!i?.parentCommitHash?await this._getLatestCommitHash(`${u}/${t}`):i?.parentCommitHash,s={manifest:JSON.parse(JSON.stringify(o)),parent_commit:a},l=JSON.stringify(s),m=await(await this.caller.call(async()=>{const b=await this._fetch(`${this.apiUrl}/commits/${u}/${t}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Je(b,"create commit"),b})).json();return this._getPromptUrl(`${u}/${t}${m.commit_hash?`:${m.commit_hash}`:""}`)}async updateExamplesMultipart(n,o=[]){return this._updateExamplesMultipart(n,o)}async _updateExamplesMultipart(n,o=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const i=new FormData;for(const r of o){const a=r.id,s={...r.metadata&&{metadata:r.metadata},...r.split&&{split:r.split}},l=hn(s,`Serializing body for example with id: ${a}`),f=new Blob([l],{type:"application/json"});if(i.append(a,f),r.inputs){const m=hn(r.inputs,`Serializing inputs for example with id: ${a}`),b=new Blob([m],{type:"application/json"});i.append(`${a}.inputs`,b)}if(r.outputs){const m=hn(r.outputs,`Serializing outputs whle updating example with id: ${a}`),b=new Blob([m],{type:"application/json"});i.append(`${a}.outputs`,b)}if(r.attachments)for(const[m,b]of Object.entries(r.attachments)){let _,p;Array.isArray(b)?[_,p]=b:(_=b.mimeType,p=b.data);const y=new Blob([p],{type:`${_}; length=${p.byteLength}`});i.append(`${a}.attachment.${m}`,y)}if(r.attachments_operations){const m=hn(r.attachments_operations,`Serializing attachments while updating example with id: ${a}`),b=new Blob([m],{type:"application/json"});i.append(`${a}.attachments_operations`,b)}}const u=n??o[0]?.dataset_id;return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${u}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Je(r,"update examples"),r})).json()}async uploadExamplesMultipart(n,o=[]){return this._uploadExamplesMultipart(n,o)}async _uploadExamplesMultipart(n,o=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const i=new FormData;for(const t of o){const r=(t.id??$c()).toString(),a={created_at:t.created_at,...t.metadata&&{metadata:t.metadata},...t.split&&{split:t.split},...t.source_run_id&&{source_run_id:t.source_run_id},...t.use_source_run_io&&{use_source_run_io:t.use_source_run_io},...t.use_source_run_attachments&&{use_source_run_attachments:t.use_source_run_attachments}},s=hn(a,`Serializing body for uploaded example with id: ${r}`),l=new Blob([s],{type:"application/json"});if(i.append(r,l),t.inputs){const f=hn(t.inputs,`Serializing inputs for uploaded example with id: ${r}`),m=new Blob([f],{type:"application/json"});i.append(`${r}.inputs`,m)}if(t.outputs){const f=hn(t.outputs,`Serializing outputs for uploaded example with id: ${r}`),m=new Blob([f],{type:"application/json"});i.append(`${r}.outputs`,m)}if(t.attachments)for(const[f,m]of Object.entries(t.attachments)){let b,_;Array.isArray(m)?[b,_]=m:(b=m.mimeType,_=m.data);const p=new Blob([_],{type:`${b}; length=${_.byteLength}`});i.append(`${r}.attachment.${f}`,p)}}return(await this.caller.call(async()=>{const t=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${n}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Je(t,"upload examples"),t})).json()}async updatePrompt(n,o){if(!await this.promptExists(n))throw new Error("Prompt does not exist, you must create it first.");const[i,u]=Dc(n);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("update a prompt",i);const t={};if(o?.description!==void 0&&(t.description=o.description),o?.readme!==void 0&&(t.readme=o.readme),o?.tags!==void 0&&(t.tags=o.tags),o?.isPublic!==void 0&&(t.is_public=o.isPublic),o?.isArchived!==void 0&&(t.is_archived=o.isArchived),Object.keys(t).length===0)throw new Error("No valid update options provided");const r=JSON.stringify(t);return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/repos/${i}/${u}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Je(s,"update prompt"),s})).json()}async deletePrompt(n){if(!await this.promptExists(n))throw new Error("Prompt does not exist, you must create it first.");const[o,i,u]=Dc(n);if(!await this._currentTenantIsOwner(o))throw await this._ownerConflictError("delete a prompt",o);return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/repos/${o}/${i}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(r,"delete prompt"),r})).json()}async pullPromptCommit(n,o){const[i,u,t]=Dc(n),a=await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/commits/${i}/${u}/${t}${o?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Je(s,"pull prompt commit"),s})).json();return{owner:i,repo:u,commit_hash:a.commit_hash,manifest:a.manifest,examples:a.examples}}async _pullPrompt(n,o){const i=await this.pullPromptCommit(n,{includeModel:o?.includeModel});return JSON.stringify(i.manifest)}async pushPrompt(n,o){return await this.promptExists(n)?o&&Object.keys(o).some(u=>u!=="object")&&await this.updatePrompt(n,{description:o?.description,readme:o?.readme,tags:o?.tags,isPublic:o?.isPublic}):await this.createPrompt(n,{description:o?.description,readme:o?.readme,tags:o?.tags,isPublic:o?.isPublic}),o?.object?await this.createCommit(n,o?.object,{parentCommitHash:o?.parentCommitHash}):await this._getPromptUrl(n)}async clonePublicDataset(n,o={}){const{sourceApiUrl:i=this.apiUrl,datasetName:u}=o,[t,r]=this.parseTokenOrUrl(n,i),a=new Q1({apiUrl:t,apiKey:"placeholder"}),s=await a.readSharedDataset(r),l=u||s.name;try{if(await this.hasDataset({datasetId:l})){console.log(`Dataset ${l} already exists in your tenant. Skipping.`);return}}catch{}const f=await a.listSharedExamples(r),m=await this.createDataset(l,{description:s.description,dataType:s.data_type||"kv",inputsSchema:s.inputs_schema_definition??void 0,outputsSchema:s.outputs_schema_definition??void 0});try{await this.createExamples({inputs:f.map(b=>b.inputs),outputs:f.flatMap(b=>b.outputs?[b.outputs]:[]),datasetId:m.id})}catch(b){throw console.error(`An error occurred while creating dataset ${l}. You should delete it manually.`),b}}parseTokenOrUrl(n,o,i=2,u="dataset"){try{return nt(n),[o,n]}catch{}try{const r=new URL(n).pathname.split("/").filter(a=>a!=="");if(r.length>=i){const a=r[r.length-i];return[o,a]}else throw new Error(`Invalid public ${u} URL: ${n}`)}catch{throw new Error(`Invalid public ${u} URL or token: ${n}`)}}async awaitPendingTraceBatches(){if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await new Promise(n=>setTimeout(n,1)),await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:n})=>n),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await $ae()?.DEFAULT_LANGSMITH_SPAN_PROCESSOR?.forceFlush()}};function pz(e){return"dataset_id"in e||"dataset_name"in e}const Jie=e=>!!["TRACING_V2","TRACING"].find(o=>Gr(o)==="true"),kc=Symbol.for("lc:context_variables"),zS=Symbol.for("langsmith:replica_trace_roots");function gz(e,n){if(kc in e)return e[kc][n]}function Zie(e,n,o){const i=kc in e?e[kc]:{};i[n]=o,e[kc]=i}const jm="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function mz(e){const o=Object.keys(e).sort().map(i=>`${i}:${e[i]??""}`).join("|");return Rm(o,jm)}function Qie(e){return e.replace(/[-:.]/g,"")}function tH(e,n=1){const o=n.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${o}Z`}function rH(e,n,o=1){const i=tH(e,o);return{dottedOrder:Qie(i)+n,microsecondPrecisionDatestring:i}}class pb{constructor(n,o,i,u){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=n,this.tags=o,this.project_name=i,this.replicas=u}static fromHeader(n){const o=n.split(",");let i={},u=[],t,r;for(const a of o){const[s,l]=a.split("="),f=decodeURIComponent(l);s==="langsmith-metadata"?i=JSON.parse(f):s==="langsmith-tags"?u=f.split(","):s==="langsmith-project"?t=f:s==="langsmith-replicas"&&(r=JSON.parse(f))}return new pb(i,u,t,r)}toHeader(){const n=[];return this.metadata&&Object.keys(this.metadata).length>0&&n.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&n.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&n.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),n.join(",")}}class Vr{constructor(n){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Xie(n)){Object.assign(this,{...n});return}const o=Vr.getDefaultConfig(),{metadata:i,...u}=n,t=u.client??Vr.getSharedClient(),r={...i,...u?.extra?.metadata};if(u.extra={...u.extra,metadata:r},"id"in u&&u.id==null&&delete u.id,Object.assign(this,{...o,...u,client:t}),this.execution_order??=1,this.child_execution_order??=1,this.dotted_order||(this._serialized_start_time=tH(this.start_time,this.execution_order)),this.id||(this.id=Cae(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=noe(this.replicas),!this.dotted_order){const{dottedOrder:a}=rH(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+a:this.dotted_order=a}}set metadata(n){this.extra={...this.extra,metadata:{...this.extra?.metadata,...n}}}get metadata(){return this.extra?.metadata}static getDefaultConfig(){const n=Date.now();return{run_type:"chain",project_name:BG(),child_runs:[],api_url:Ol("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:Ol("LANGCHAIN_API_KEY"),caller_options:{},start_time:n,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return Vr.sharedClient||(Vr.sharedClient=new eH),Vr.sharedClient}createChild(n){const o=this.child_execution_order+1,i=this.replicas?.map(f=>{const{reroot:m,...b}=f;return b}),u=n.replicas??i,t=new Vr({...n,parent_run:this,project_name:this.project_name,replicas:u,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:o,child_execution_order:o});kc in this&&(t[kc]=this[kc]);const r=Symbol.for("lc:child_config"),a=n.extra?.[r]??this.extra[r];if(toe(a)){const f={...a},m=eoe(f.callbacks)?f.callbacks.copy?.():void 0;m&&(Object.assign(m,{_parentRunId:t.id}),m.handlers?.find(nH)?.updateFromRunTree?.(t),f.callbacks=m),t.extra[r]=f}const s=new Set;let l=this;for(;l!=null&&!s.has(l.id);)s.add(l.id),l.child_execution_order=Math.max(l.child_execution_order,o),l=l.parent_run;return this.child_runs.push(t),t}async end(n,o,i=Date.now(),u){this.outputs=this.outputs??n,this.error=this.error??o,this.end_time=this.end_time??i,u&&Object.keys(u).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...u}}:{metadata:u})}_convertToCreate(n,o,i=!0){const u=n.extra??{};if(u?.runtime?.library===void 0&&(u.runtime||(u.runtime={}),o))for(const[a,s]of Object.entries(o))u.runtime[a]||(u.runtime[a]=s);let t,r;return i?(r=n.parent_run?.id??n.parent_run_id,t=[]):(t=n.child_runs.map(a=>this._convertToCreate(a,o,i)),r=void 0),{id:n.id,name:n.name,start_time:n._serialized_start_time??n.start_time,end_time:n.end_time,run_type:n.run_type,reference_example_id:n.reference_example_id,extra:u,serialized:n.serialized,error:n.error,inputs:n.inputs,outputs:n.outputs,session_name:n.project_name,child_runs:t,parent_run_id:r,trace_id:n.trace_id,dotted_order:n.dotted_order,tags:n.tags,attachments:n.attachments,events:n.events}}_sliceParentId(n,o){if(o.dotted_order){const i=o.dotted_order.split(".");let u=null;for(let t=0;t<i.length;t++)if(i[t].slice(-36)===n){u=t;break}if(u!==null){const t=i.slice(u+1);o.dotted_order=t.join("."),t.length>0?o.trace_id=t[0].slice(-36):o.trace_id=o.id}}o.parent_run_id===n&&(o.parent_run_id=void 0)}_setReplicaTraceRoot(n,o){const i=gz(this,zS)??{};i[n]=o,Zie(this,zS,i);for(const u of this.child_runs)u._setReplicaTraceRoot(n,o)}_remapForProject(n){const{projectName:o,runtimeEnv:i,excludeChildRuns:u=!0,reroot:t=!1,distributedParentId:r,apiUrl:a,apiKey:s,workspaceId:l}=n,f=this._convertToCreate(this,i,u);if(o===this.project_name)return{...f,session_name:o};if(t){if(r)this._sliceParentId(r,f);else if(f.parent_run_id=void 0,f.dotted_order){const R=f.dotted_order.split(".");R.length>0&&(f.dotted_order=R[R.length-1],f.trace_id=f.id)}const S=mz({projectName:o,apiUrl:a,apiKey:s,workspaceId:l});this._setReplicaTraceRoot(S,f.id)}let m;if(!t){const S=gz(this,zS)??{},R=mz({projectName:o,apiUrl:a,apiKey:s,workspaceId:l});if(m=S[R],m&&(f.trace_id=m,f.dotted_order)){const j=f.dotted_order.split(".");let P=null;for(let T=0;T<j.length;T++)if(j[T].slice(-36)===m){P=T;break}if(P!==null){const T=j.slice(P);f.dotted_order=T.join(".")}}}const b=f.id,_=Rm(`${b}:${o}`,jm);let p;f.trace_id?p=Rm(`${f.trace_id}:${o}`,jm):p=_;let y;f.parent_run_id&&(y=Rm(`${f.parent_run_id}:${o}`,jm));let v;return f.dotted_order&&(v=f.dotted_order.split(".").map(j=>{const P=j.slice(-36),T=Rm(`${P}:${o}`,jm);return j.slice(0,-36)+T}).join(".")),{...f,id:_,trace_id:p,parent_run_id:y,dotted_order:v,session_name:o}}async postRun(n=!0){try{const o=VG();if(this.replicas&&this.replicas.length>0)for(const{projectName:i,apiKey:u,apiUrl:t,workspaceId:r,reroot:a}of this.replicas){const s=this._remapForProject({projectName:i??this.project_name,runtimeEnv:o,excludeChildRuns:!0,reroot:a,distributedParentId:this.distributedParentId,apiUrl:t,apiKey:u,workspaceId:r});await this.client.createRun(s,{apiKey:u,apiUrl:t,workspaceId:r})}else{const i=this._convertToCreate(this,o,n);await this.client.createRun(i)}if(!n){UG("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const i of this.child_runs)await i.postRun(!1)}this.child_runs=[]}catch(o){console.error(`Error in postRun for run ${this.id}:`,o)}}async patchRun(n){if(this.replicas&&this.replicas.length>0)for(const{projectName:o,apiKey:i,apiUrl:u,workspaceId:t,updates:r,reroot:a}of this.replicas){const s=this._remapForProject({projectName:o??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:a,distributedParentId:this.distributedParentId,apiUrl:u,apiKey:i,workspaceId:t}),l={id:s.id,name:s.name,run_type:s.run_type,start_time:s.start_time,outputs:s.outputs,error:s.error,parent_run_id:s.parent_run_id,session_name:s.session_name,reference_example_id:s.reference_example_id,end_time:s.end_time,dotted_order:s.dotted_order,trace_id:s.trace_id,events:s.events,tags:s.tags,extra:s.extra,attachments:this.attachments,...r};n?.excludeInputs||(l.inputs=s.inputs),await this.client.updateRun(s.id,l,{apiKey:i,apiUrl:u,workspaceId:t})}else try{const o={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:this.parent_run?.id??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};n?.excludeInputs||(o.inputs=this.inputs),await this.client.updateRun(this.id,o)}catch(o){console.error(`Error in patchRun for run ${this.id}`,o)}this.child_runs=[]}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(n){this.events||(this.events=[]),typeof n=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:n}):this.events.push({...n,time:n.time??new Date().toISOString()})}static fromRunnableConfig(n,o){const i=n?.callbacks;let u,t,r,a=Jie();if(i){const l=i?.getParentRunId?.()??"",f=i?.handlers?.find(m=>m?.name=="langchain_tracer");u=f?.getRun?.(l),t=f?.projectName,r=f?.client,a=a||!!f}return u?new Vr({name:u.name,id:u.id,trace_id:u.trace_id,dotted_order:u.dotted_order,client:r,tracingEnabled:a,project_name:t,tags:[...new Set((u?.tags??[]).concat(n?.tags??[]))],extra:{metadata:{...u?.extra?.metadata,...n?.metadata}}}).createChild(o):new Vr({...o,client:r,tracingEnabled:a,project_name:t})}static fromDottedOrder(n){return this.fromHeaders({"langsmith-trace":n})}static fromHeaders(n,o){const i="get"in n&&typeof n.get=="function"?{"langsmith-trace":n.get("langsmith-trace"),baggage:n.get("baggage")}:n,u=i["langsmith-trace"];if(!u||typeof u!="string")return;const t=u.trim(),r=t.split(".").map(f=>{const[m,b]=f.split("Z");return{strTime:m,time:Date.parse(m+"Z"),uuid:b}}),a=r[0].uuid,s={...o,name:o?.name??"parent",run_type:o?.run_type??"chain",start_time:o?.start_time??Date.now(),id:r.at(-1)?.uuid,trace_id:a,dotted_order:t};if(i.baggage&&typeof i.baggage=="string"){const f=pb.fromHeader(i.baggage);s.metadata=f.metadata,s.tags=f.tags,s.project_name=f.project_name,s.replicas=f.replicas}const l=new Vr(s);return l.distributedParentId=l.id,l}toHeaders(n){const o={"langsmith-trace":this.dotted_order,baggage:new pb(this.extra?.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(n)for(const[i,u]of Object.entries(o))n.set(i,u);return o}}Object.defineProperty(Vr,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function Xie(e){return e!=null&&typeof e.createChild=="function"&&typeof e.postRun=="function"}function nH(e){return typeof e=="object"&&e!=null&&typeof e.name=="string"&&e.name==="langchain_tracer"}function _z(e){return Array.isArray(e)&&e.some(n=>nH(n))}function eoe(e){return typeof e=="object"&&e!=null&&Array.isArray(e.handlers)}function toe(e){const n=e?.callbacks;return e!=null&&typeof n=="object"&&(_z(n?.handlers)||_z(n))}function roe(){const e=Ol("LANGSMITH_RUNS_ENDPOINTS");if(!e)return[];try{const n=JSON.parse(e);if(Array.isArray(n)){const o=[];for(const i of n){if(typeof i!="object"||i===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof i}`);continue}if(typeof i.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof i.api_url}`);continue}if(typeof i.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof i.api_key}`);continue}o.push({apiUrl:i.api_url.replace(/\/$/,""),apiKey:i.api_key})}return o}else if(typeof n=="object"&&n!==null){aoe(n);const o=[];for(const[i,u]of Object.entries(n)){const t=i.replace(/\/$/,"");if(typeof u=="string")o.push({apiUrl:t,apiKey:u});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${i}: expected string, got ${typeof u}`);continue}}return o}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof n}`),[]}catch(n){if(zie(n))throw n;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function noe(e){return e?e.map(n=>Array.isArray(n)?{projectName:n[0],updates:n[1]}:n):roe()}function aoe(e){if(Object.keys(e).length>0&&Gr("ENDPOINT"))throw new Iie}var ioe={};lt(ioe,{BaseTracer:()=>lp,isBaseTracer:()=>$h});const ooe=e=>{if(e)return e.events=e.events??[],e.child_runs=e.child_runs??[],e};function X1(e,n){if(e)return new Vr({...e,start_time:e._serialized_start_time??e.start_time,parent_run:X1(n),child_runs:e.child_runs.map(o=>X1(o)).filter(o=>o!==void 0),extra:{...e.extra,runtime:DG()},tracingEnabled:!1})}function qS(e,n){return e&&!Array.isArray(e)&&typeof e=="object"?e:{[n]:e}}function $h(e){return typeof e._addRunToRunMap=="function"}var lp=class extends l_{runMap=new Map;runTreeMap=new Map;usesRunTreeMap=!1;constructor(e){super(...arguments)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?ooe(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const{dottedOrder:n,microsecondPrecisionDatestring:o}=rH(new Date(e.start_time).getTime(),e.id,e.execution_order),i={...e},u=this.getRunById(i.parent_run_id);if(i.parent_run_id!==void 0?u?(this._addChildRun(u,i),u.child_execution_order=Math.max(u.child_execution_order,i.child_execution_order),i.trace_id=u.trace_id,u.dotted_order!==void 0&&(i.dotted_order=[u.dotted_order,n].join("."),i._serialized_start_time=o)):i.parent_run_id=void 0:(i.trace_id=i.id,i.dotted_order=n,i._serialized_start_time=o),this.usesRunTreeMap){const t=X1(i,u);t!==void 0&&this.runTreeMap.set(i.id,t)}else this.runMap.set(i.id,i);return i}async _endTrace(e){const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await this.onRunUpdate?.(e),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,o,i,u,t,r,a){const s=this._getExecutionOrder(i),l=Date.now(),f=r?{...u,metadata:r}:u,m={id:o,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{prompts:n},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:f??{},tags:t||[]};return this._addRunToRunMap(m)}async handleLLMStart(e,n,o,i,u,t,r,a){const s=this.getRunById(o)??this._createRunForLLMStart(e,n,o,i,u,t,r,a);return await this.onRunCreate?.(s),await this.onLLMStart?.(s),s}_createRunForChatModelStart(e,n,o,i,u,t,r,a){const s=this._getExecutionOrder(i),l=Date.now(),f=r?{...u,metadata:r}:u,m={id:o,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{messages:n},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:f??{},tags:t||[]};return this._addRunToRunMap(m)}async handleChatModelStart(e,n,o,i,u,t,r,a){const s=this.getRunById(o)??this._createRunForChatModelStart(e,n,o,i,u,t,r,a);return await this.onRunCreate?.(s),await this.onLLMStart?.(s),s}async handleLLMEnd(e,n,o,i,u){const t=this.getRunById(n);if(!t||t?.run_type!=="llm")throw new Error("No LLM run to end.");return t.end_time=Date.now(),t.outputs=e,t.events.push({name:"end",time:new Date(t.end_time).toISOString()}),t.extra={...t.extra,...u},await this.onLLMEnd?.(t),await this._endTrace(t),t}async handleLLMError(e,n,o,i,u){const t=this.getRunById(n);if(!t||t?.run_type!=="llm")throw new Error("No LLM run to end.");return t.end_time=Date.now(),t.error=this.stringifyError(e),t.events.push({name:"error",time:new Date(t.end_time).toISOString()}),t.extra={...t.extra,...u},await this.onLLMError?.(t),await this._endTrace(t),t}_createRunForChainStart(e,n,o,i,u,t,r,a,s){const l=this._getExecutionOrder(i),f=Date.now(),m={id:o,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:f,serialized:e,events:[{name:"start",time:new Date(f).toISOString()}],inputs:n,execution_order:l,child_execution_order:l,run_type:r??"chain",child_runs:[],extra:t?{...s,metadata:t}:{...s},tags:u||[]};return this._addRunToRunMap(m)}async handleChainStart(e,n,o,i,u,t,r,a){const s=this.getRunById(o)??this._createRunForChainStart(e,n,o,i,u,t,r,a);return await this.onRunCreate?.(s),await this.onChainStart?.(s),s}async handleChainEnd(e,n,o,i,u){const t=this.getRunById(n);if(!t)throw new Error("No chain run to end.");return t.end_time=Date.now(),t.outputs=qS(e,"output"),t.events.push({name:"end",time:new Date(t.end_time).toISOString()}),u?.inputs!==void 0&&(t.inputs=qS(u.inputs,"input")),await this.onChainEnd?.(t),await this._endTrace(t),t}async handleChainError(e,n,o,i,u){const t=this.getRunById(n);if(!t)throw new Error("No chain run to end.");return t.end_time=Date.now(),t.error=this.stringifyError(e),t.events.push({name:"error",time:new Date(t.end_time).toISOString()}),u?.inputs!==void 0&&(t.inputs=qS(u.inputs,"input")),await this.onChainError?.(t),await this._endTrace(t),t}_createRunForToolStart(e,n,o,i,u,t,r){const a=this._getExecutionOrder(i),s=Date.now(),l={id:o,name:r??e.id[e.id.length-1],parent_run_id:i,start_time:s,serialized:e,events:[{name:"start",time:new Date(s).toISOString()}],inputs:{input:n},execution_order:a,child_execution_order:a,run_type:"tool",child_runs:[],extra:t?{metadata:t}:{},tags:u||[]};return this._addRunToRunMap(l)}async handleToolStart(e,n,o,i,u,t,r){const a=this.getRunById(o)??this._createRunForToolStart(e,n,o,i,u,t,r);return await this.onRunCreate?.(a),await this.onToolStart?.(a),a}async handleToolEnd(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="tool")throw new Error("No tool run to end");return o.end_time=Date.now(),o.outputs={output:e},o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),await this.onToolEnd?.(o),await this._endTrace(o),o}async handleToolError(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="tool")throw new Error("No tool run to end");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),await this.onToolError?.(o),await this._endTrace(o),o}async handleAgentAction(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="chain")return;const i=o;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentAction?.(o)}async handleAgentEnd(e,n){const o=this.getRunById(n);!o||o?.run_type!=="chain"||(o.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentEnd?.(o))}_createRunForRetrieverStart(e,n,o,i,u,t,r){const a=this._getExecutionOrder(i),s=Date.now(),l={id:o,name:r??e.id[e.id.length-1],parent_run_id:i,start_time:s,serialized:e,events:[{name:"start",time:new Date(s).toISOString()}],inputs:{query:n},execution_order:a,child_execution_order:a,run_type:"retriever",child_runs:[],extra:t?{metadata:t}:{},tags:u||[]};return this._addRunToRunMap(l)}async handleRetrieverStart(e,n,o,i,u,t,r){const a=this.getRunById(o)??this._createRunForRetrieverStart(e,n,o,i,u,t,r);return await this.onRunCreate?.(a),await this.onRetrieverStart?.(a),a}async handleRetrieverEnd(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="retriever")throw new Error("No retriever run to end");return o.end_time=Date.now(),o.outputs={documents:e},o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),await this.onRetrieverEnd?.(o),await this._endTrace(o),o}async handleRetrieverError(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="retriever")throw new Error("No retriever run to end");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),await this.onRetrieverError?.(o),await this._endTrace(o),o}async handleText(e,n){const o=this.getRunById(n);!o||o?.run_type!=="chain"||(o.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await this.onText?.(o))}async handleLLMNewToken(e,n,o,i,u,t){const r=this.getRunById(o);if(!r||r?.run_type!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return r.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:t?.chunk}}),await this.onLLMNewToken?.(r,e,{chunk:t?.chunk}),r}},Hv={exports:{}};Hv.exports;var yz;function soe(){return yz||(yz=1,(function(e){const o=(t=0)=>r=>`\x1B[${38+t};5;${r}m`,i=(t=0)=>(r,a,s)=>`\x1B[${38+t};2;${r};${a};${s}m`;function u(){const t=new Map,r={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};r.color.gray=r.color.blackBright,r.bgColor.bgGray=r.bgColor.bgBlackBright,r.color.grey=r.color.blackBright,r.bgColor.bgGrey=r.bgColor.bgBlackBright;for(const[a,s]of Object.entries(r)){for(const[l,f]of Object.entries(s))r[l]={open:`\x1B[${f[0]}m`,close:`\x1B[${f[1]}m`},s[l]=r[l],t.set(f[0],f[1]);Object.defineProperty(r,a,{value:s,enumerable:!1})}return Object.defineProperty(r,"codes",{value:t,enumerable:!1}),r.color.close="\x1B[39m",r.bgColor.close="\x1B[49m",r.color.ansi256=o(),r.color.ansi16m=i(),r.bgColor.ansi256=o(10),r.bgColor.ansi16m=i(10),Object.defineProperties(r,{rgbToAnsi256:{value:(a,s,l)=>a===s&&s===l?a<8?16:a>248?231:Math.round((a-8)/247*24)+232:16+36*Math.round(a/255*5)+6*Math.round(s/255*5)+Math.round(l/255*5),enumerable:!1},hexToRgb:{value:a=>{const s=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(a.toString(16));if(!s)return[0,0,0];let{colorString:l}=s.groups;l.length===3&&(l=l.split("").map(m=>m+m).join(""));const f=Number.parseInt(l,16);return[f>>16&255,f>>8&255,f&255]},enumerable:!1},hexToAnsi256:{value:a=>r.rgbToAnsi256(...r.hexToRgb(a)),enumerable:!1}}),r}Object.defineProperty(e,"exports",{enumerable:!0,get:u})})(Hv)),Hv.exports}var uoe=soe();const aH=r_(uoe);var loe={};lt(loe,{ConsoleCallbackHandler:()=>eT});function Mr(e,n){return`${e.open}${n}${e.close}`}function Nn(e,n){try{return JSON.stringify(e,null,2)}catch{return n}}function vz(e){return typeof e=="string"?e.trim():e==null?e:Nn(e,e.toString())}function Ic(e){if(!e.end_time)return"";const n=e.end_time-e.start_time;return n<1e3?`${n}ms`:`${(n/1e3).toFixed(2)}s`}const{color:$r}=aH;var eT=class extends lp{name="console_callback_handler";persistRun(e){return Promise.resolve()}getParents(e){const n=[];let o=e;for(;o.parent_run_id;){const i=this.runMap.get(o.parent_run_id);if(i)n.push(i),o=i;else break}return n}getBreadcrumbs(e){const o=[...this.getParents(e).reverse(),e].map((i,u,t)=>{const r=`${i.execution_order}:${i.run_type}:${i.name}`;return u===t.length-1?Mr(aH.bold,r):r}).join(" > ");return Mr($r.grey,o)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.green,"[chain/start]")} [${n}] Entering Chain run with input: ${Nn(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.cyan,"[chain/end]")} [${n}] [${Ic(e)}] Exiting Chain run with output: ${Nn(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.red,"[chain/error]")} [${n}] [${Ic(e)}] Chain run errored with error: ${Nn(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),o="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${Mr($r.green,"[llm/start]")} [${n}] Entering LLM run with input: ${Nn(o,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.cyan,"[llm/end]")} [${n}] [${Ic(e)}] Exiting LLM run with output: ${Nn(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.red,"[llm/error]")} [${n}] [${Ic(e)}] LLM run errored with error: ${Nn(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.green,"[tool/start]")} [${n}] Entering Tool run with input: "${vz(e.inputs.input)}"`)}onToolEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.cyan,"[tool/end]")} [${n}] [${Ic(e)}] Exiting Tool run with output: "${vz(e.outputs?.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.red,"[tool/error]")} [${n}] [${Ic(e)}] Tool run errored with error: ${Nn(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${Nn(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.cyan,"[retriever/end]")} [${n}] [${Ic(e)}] Exiting Retriever run with output: ${Nn(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${Mr($r.red,"[retriever/error]")} [${n}] [${Ic(e)}] Retriever run errored with error: ${Nn(e.error,"[error]")}`)}onAgentAction(e){const n=e,o=this.getBreadcrumbs(e);console.log(`${Mr($r.blue,"[agent/action]")} [${o}] Agent selected action: ${Nn(n.actions[n.actions.length-1],"[action]")}`)}};let BS;const iH=()=>{if(BS===void 0){const e=bl("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};BS=new eH(e)}return BS};let coe=class{getStore(){}run(n,o){return o()}};const US=Symbol.for("ls:tracing_async_local_storage"),doe=new coe;let foe=class{getInstance(){return globalThis[US]??doe}initializeGlobalInstance(n){globalThis[US]===void 0&&(globalThis[US]=n)}};const hoe=new foe;function poe(e=!1){const n=hoe.getInstance().getStore();if(!e&&n===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return n}function fM(e){return typeof e=="function"&&"langsmith:traceable"in e}var goe={};lt(goe,{LangChainTracer:()=>Kv});function moe(e){let n;for(const o of e)for(const i of o)Or.isInstance(i.message)&&i.message.usage_metadata!==void 0&&(n=eM(n,i.message.usage_metadata));return n}var Kv=class oH extends lp{name="langchain_tracer";projectName;exampleId;client;replicas;usesRunTreeMap=!0;constructor(n={}){super(n);const{exampleId:o,projectName:i,client:u,replicas:t}=n;this.projectName=i??BG(),this.replicas=t,this.exampleId=o,this.client=u??iH();const r=oH.getTraceableRunTree();r&&this.updateFromRunTree(r)}async persistRun(n){}async onRunCreate(n){n.extra?.lc_defers_inputs||await this.getRunTreeWithTracingConfig(n.id)?.postRun()}async onRunUpdate(n){const o=this.getRunTreeWithTracingConfig(n.id);n.extra?.lc_defers_inputs?await o?.postRun():await o?.patchRun()}onLLMEnd(n){const o=n.outputs;if(o?.generations){const i=moe(o.generations);if(i!==void 0){n.extra=n.extra??{};const u=n.extra.metadata??{};u.usage_metadata=i,n.extra.metadata=u}}}getRun(n){return this.runTreeMap.get(n)}updateFromRunTree(n){this.runTreeMap.set(n.id,n);let o=n;const i=new Set;for(;o.parent_run&&!(i.has(o.id)||(i.add(o.id),!o.parent_run));)o=o.parent_run;i.clear();const u=[o];for(;u.length>0;){const t=u.shift();!t||i.has(t.id)||(i.add(t.id),this.runTreeMap.set(t.id,t),t.child_runs&&u.push(...t.child_runs))}this.client=n.client??this.client,this.replicas=n.replicas??this.replicas,this.projectName=n.project_name??this.projectName,this.exampleId=n.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(n){const o=this.runTreeMap.get(n);if(o)return new Vr({...o,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return poe(!0)}catch{return}}};const sH=Symbol.for("ls:tracing_async_local_storage"),zm=Symbol.for("lc:context_variables"),_oe=e=>{globalThis[sH]=e},Hm=()=>globalThis[sH];let Af;function yoe(){const e="default"in Wl?Wl.default:Wl;return new e({autoStart:!0,concurrency:1})}function voe(){return typeof Af>"u"&&(Af=yoe()),Af}async function nr(e,n){if(n===!0){const o=Hm();o!==void 0?await o.run(void 0,async()=>e()):await e()}else Af=voe(),Af.add(async()=>{const o=Hm();o!==void 0?await o.run(void 0,async()=>e()):await e()})}async function boe(){const e=iH();await Promise.allSettled([typeof Af<"u"?Af.onIdle():Promise.resolve(),e.awaitPendingTraceBatches()])}var woe={};lt(woe,{awaitAllCallbacks:()=>boe,consumeCallback:()=>nr});const Ooe=e=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(o=>bl(o)==="true");function uH(e){const n=Hm();return n===void 0?void 0:n.getStore()?.[zm]?.[e]}const Soe=Symbol("lc:configure_hooks"),Eoe=()=>uH(Soe)||[];var Roe={};lt(Roe,{BaseCallbackManager:()=>cH,BaseRunManager:()=>d_,CallbackManager:()=>Kr,CallbackManagerForChainRun:()=>fH,CallbackManagerForLLMRun:()=>tT,CallbackManagerForRetrieverRun:()=>dH,CallbackManagerForToolRun:()=>hH,ensureHandler:()=>Km,parseCallbackConfigArg:()=>lH});function lH(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}var cH=class{setHandler(e){return this.setHandlers([e])}},d_=class{constructor(e,n,o,i,u,t,r,a){this.runId=e,this.handlers=n,this.inheritableHandlers=o,this.tags=i,this.inheritableTags=u,this.metadata=t,this.inheritableMetadata=r,this._parentRunId=a}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>nr(async()=>{try{await n.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}async handleCustomEvent(e,n,o,i,u){await Promise.all(this.handlers.map(t=>nr(async()=>{try{await t.handleCustomEvent?.(e,n,this.runId,this.tags,this.metadata)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleCustomEvent: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},dH=class extends d_{getChild(e){const n=new Kr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>nr(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw o}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>nr(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${o}`),n.raiseError)throw e}},n.awaitHandlers)))}},tT=class extends d_{async handleLLMNewToken(e,n,o,i,u,t){await Promise.all(this.handlers.map(r=>nr(async()=>{if(!r.ignoreLLM)try{await r.handleLLMNewToken?.(e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,t)}catch(a){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleLLMNewToken: ${a}`),r.raiseError)throw a}},r.awaitHandlers)))}async handleLLMError(e,n,o,i,u){await Promise.all(this.handlers.map(t=>nr(async()=>{if(!t.ignoreLLM)try{await t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags,u)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMError: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleLLMEnd(e,n,o,i,u){await Promise.all(this.handlers.map(t=>nr(async()=>{if(!t.ignoreLLM)try{await t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags,u)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},fH=class extends d_{getChild(e){const n=new Kr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,o,i,u){await Promise.all(this.handlers.map(t=>nr(async()=>{if(!t.ignoreChain)try{await t.handleChainError?.(e,this.runId,this._parentRunId,this.tags,u)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainError: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleChainEnd(e,n,o,i,u){await Promise.all(this.handlers.map(t=>nr(async()=>{if(!t.ignoreChain)try{await t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,u)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>nr(async()=>{if(!n.ignoreAgent)try{await n.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>nr(async()=>{if(!n.ignoreAgent)try{await n.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}},hH=class extends d_{getChild(e){const n=new Kr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>nr(async()=>{if(!n.ignoreAgent)try{await n.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>nr(async()=>{if(!n.ignoreAgent)try{await n.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}},Kr=class Cm extends cH{handlers=[];inheritableHandlers=[];tags=[];inheritableTags=[];metadata={};inheritableMetadata={};name="callback_manager";_parentRunId;constructor(n,o){super(),this.handlers=o?.handlers??this.handlers,this.inheritableHandlers=o?.inheritableHandlers??this.inheritableHandlers,this.tags=o?.tags??this.tags,this.inheritableTags=o?.inheritableTags??this.inheritableTags,this.metadata=o?.metadata??this.metadata,this.inheritableMetadata=o?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=n}getParentRunId(){return this._parentRunId}async handleLLMStart(n,o,i=void 0,u=void 0,t=void 0,r=void 0,a=void 0,s=void 0){return Promise.all(o.map(async(l,f)=>{const m=f===0&&i?i:Lc();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return $h(b)&&b._createRunForLLMStart(n,[l],m,this._parentRunId,t,this.tags,this.metadata,s),nr(async()=>{try{await b.handleLLMStart?.(n,[l],m,this._parentRunId,t,this.tags,this.metadata,s)}catch(_){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${_}`),b.raiseError)throw _}},b.awaitHandlers)})),new tT(m,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,o,i=void 0,u=void 0,t=void 0,r=void 0,a=void 0,s=void 0){return Promise.all(o.map(async(l,f)=>{const m=f===0&&i?i:Lc();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return $h(b)&&b._createRunForChatModelStart(n,[l],m,this._parentRunId,t,this.tags,this.metadata,s),nr(async()=>{try{if(b.handleChatModelStart)await b.handleChatModelStart?.(n,[l],m,this._parentRunId,t,this.tags,this.metadata,s);else if(b.handleLLMStart){const _=tM(l);await b.handleLLMStart?.(n,[_],m,this._parentRunId,t,this.tags,this.metadata,s)}}catch(_){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${_}`),b.raiseError)throw _}},b.awaitHandlers)})),new tT(m,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,o,i=Lc(),u=void 0,t=void 0,r=void 0,a=void 0,s=void 0,l=void 0){return await Promise.all(this.handlers.map(f=>{if(!f.ignoreChain)return $h(f)&&f._createRunForChainStart(n,o,i,this._parentRunId,this.tags,this.metadata,u,a,l),nr(async()=>{try{await f.handleChainStart?.(n,o,i,this._parentRunId,this.tags,this.metadata,u,a,l)}catch(m){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleChainStart: ${m}`),f.raiseError)throw m}},f.awaitHandlers)})),new fH(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,o,i=Lc(),u=void 0,t=void 0,r=void 0,a=void 0){return await Promise.all(this.handlers.map(s=>{if(!s.ignoreAgent)return $h(s)&&s._createRunForToolStart(n,o,i,this._parentRunId,this.tags,this.metadata,a),nr(async()=>{try{await s.handleToolStart?.(n,o,i,this._parentRunId,this.tags,this.metadata,a)}catch(l){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleToolStart: ${l}`),s.raiseError)throw l}},s.awaitHandlers)})),new hH(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,o,i=Lc(),u=void 0,t=void 0,r=void 0,a=void 0){return await Promise.all(this.handlers.map(s=>{if(!s.ignoreRetriever)return $h(s)&&s._createRunForRetrieverStart(n,o,i,this._parentRunId,this.tags,this.metadata,a),nr(async()=>{try{await s.handleRetrieverStart?.(n,o,i,this._parentRunId,this.tags,this.metadata,a)}catch(l){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleRetrieverStart: ${l}`),s.raiseError)throw l}},s.awaitHandlers)})),new dH(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(n,o,i,u,t){await Promise.all(this.handlers.map(r=>nr(async()=>{if(!r.ignoreCustomEvent)try{await r.handleCustomEvent?.(n,o,i,this.tags,this.metadata)}catch(a){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleCustomEvent: ${a}`),r.raiseError)throw a}},r.awaitHandlers)))}addHandler(n,o=!0){this.handlers.push(n),o&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(o=>o!==n),this.inheritableHandlers=this.inheritableHandlers.filter(o=>o!==n)}setHandlers(n,o=!0){this.handlers=[],this.inheritableHandlers=[];for(const i of n)this.addHandler(i,o)}addTags(n,o=!0){this.removeTags(n),this.tags.push(...n),o&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(o=>!n.includes(o)),this.inheritableTags=this.inheritableTags.filter(o=>!n.includes(o))}addMetadata(n,o=!0){this.metadata={...this.metadata,...n},o&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const o of Object.keys(n))delete this.metadata[o],delete this.inheritableMetadata[o]}copy(n=[],o=!0){const i=new Cm(this._parentRunId);for(const u of this.handlers){const t=this.inheritableHandlers.includes(u);i.addHandler(u,t)}for(const u of this.tags){const t=this.inheritableTags.includes(u);i.addTags([u],t)}for(const u of Object.keys(this.metadata)){const t=Object.keys(this.inheritableMetadata).includes(u);i.addMetadata({[u]:this.metadata[u]},t)}for(const u of n)i.handlers.filter(t=>t.name==="console_callback_handler").some(t=>t.name===u.name)||i.addHandler(u,o);return i}static fromHandlers(n){class o extends l_{name=Lc();constructor(){super(),Object.assign(this,n)}}const i=new this;return i.addHandler(new o),i}static configure(n,o,i,u,t,r,a){return this._configureSync(n,o,i,u,t,r,a)}static _configureSync(n,o,i,u,t,r,a){let s;(n||o)&&(Array.isArray(n)||!n?(s=new Cm,s.setHandlers(n?.map(Km)??[],!0)):s=n,s=s.copy(Array.isArray(o)?o.map(Km):o?.handlers,!1));const l=bl("LANGCHAIN_VERBOSE")==="true"||a?.verbose,f=Kv.getTraceableRunTree()?.tracingEnabled||Ooe(),m=f||(bl("LANGCHAIN_TRACING")??!1);if(l||m){if(s||(s=new Cm),l&&!s.handlers.some(b=>b.name===eT.prototype.name)){const b=new eT;s.addHandler(b,!0)}if(m&&!s.handlers.some(b=>b.name==="langchain_tracer")&&f){const b=new Kv;s.addHandler(b,!0)}if(f){const b=Kv.getTraceableRunTree();b&&s._parentRunId===void 0&&(s._parentRunId=b.id,s.handlers.find(p=>p.name==="langchain_tracer")?.updateFromRunTree(b))}}for(const{contextVar:b,inheritable:_=!0,handlerClass:p,envVar:y}of Eoe()){const v=y&&bl(y)==="true"&&p;let S;const R=b!==void 0?uH(b):void 0;R&&zG(R)?S=R:v&&(S=new p({})),S!==void 0&&(s||(s=new Cm),s.handlers.some(j=>j.name===S.name)||s.addHandler(S,_))}return(i||u)&&s&&(s.addTags(i??[]),s.addTags(u??[],!1)),(t||r)&&s&&(s.addMetadata(t??{}),s.addMetadata(r??{},!1)),s}};function Km(e){return"name"in e?e:l_.fromMethods(e)}var pH=class{getStore(){}run(e,n){return n()}enterWith(e){}};const joe=new pH,bz=Symbol.for("lc:child_config");var Coe=class{getInstance(){return Hm()??joe}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[bz]}runWithConfig(e,n,o){const i=Kr._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),u=this.getInstance(),t=u.getStore(),r=i?.getParentRunId(),a=i?.handlers?.find(l=>l?.name==="langchain_tracer");let s;return a&&r?s=a.getRunTreeWithTracingConfig(r):o||(s=new Vr({name:"<runnable_lambda>",tracingEnabled:!1})),s&&(s.extra={...s.extra,[bz]:e}),t!==void 0&&t[zm]!==void 0&&(s===void 0&&(s={}),s[zm]=t[zm]),u.run(s,n)}initializeGlobalInstance(e){Hm()===void 0&&_oe(e)}};const ec=new Coe;var Toe={};lt(Toe,{AsyncLocalStorageProviderSingleton:()=>ec,MockAsyncLocalStorage:()=>pH,_CONTEXT_VARIABLES_KEY:()=>zm});const LS=25;async function mn(e){return Kr._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}function rT(...e){const n={};for(const o of e.filter(i=>!!i))for(const i of Object.keys(o))if(i==="metadata")n[i]={...n[i],...o[i]};else if(i==="tags"){const u=n[i]??[];n[i]=[...new Set(u.concat(o[i]??[]))]}else if(i==="configurable")n[i]={...n[i],...o[i]};else if(i==="timeout")n.timeout===void 0?n.timeout=o.timeout:o.timeout!==void 0&&(n.timeout=Math.min(n.timeout,o.timeout));else if(i==="signal")n.signal===void 0?n.signal=o.signal:o.signal!==void 0&&("any"in AbortSignal?n.signal=AbortSignal.any([n.signal,o.signal]):n.signal=o.signal);else if(i==="callbacks"){const u=n.callbacks,t=o.callbacks;if(Array.isArray(t))if(!u)n.callbacks=t;else if(Array.isArray(u))n.callbacks=u.concat(t);else{const r=u.copy();for(const a of t)r.addHandler(Km(a),!0);n.callbacks=r}else if(t)if(!u)n.callbacks=t;else if(Array.isArray(u)){const r=t.copy();for(const a of u)r.addHandler(Km(a),!0);n.callbacks=r}else n.callbacks=new Kr(t._parentRunId,{handlers:u.handlers.concat(t.handlers),inheritableHandlers:u.inheritableHandlers.concat(t.inheritableHandlers),tags:Array.from(new Set(u.tags.concat(t.tags))),inheritableTags:Array.from(new Set(u.inheritableTags.concat(t.inheritableTags))),metadata:{...u.metadata,...t.metadata}})}else{const u=i;n[u]=o[u]??n[u]}return n}const Moe=new Set(["string","number","boolean"]);function Ot(e){const n=ec.getRunnableConfig();let o={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(n){const{runId:i,runName:u,...t}=n;o=Object.entries(t).reduce((r,[a,s])=>(s!==void 0&&(r[a]=s),r),o)}if(e&&(o=Object.entries(e).reduce((i,[u,t])=>(t!==void 0&&(i[u]=t),i),o)),o?.configurable)for(const i of Object.keys(o.configurable))Moe.has(typeof o.configurable[i])&&!o.metadata?.[i]&&(o.metadata||(o.metadata={}),o.metadata[i]=o.configurable[i]);if(o.timeout!==void 0){if(o.timeout<=0)throw new Error("Timeout must be a positive number");const i=o.timeout,u=AbortSignal.timeout(i);o.metadata||(o.metadata={}),o.metadata.timeoutMs===void 0&&(o.metadata.timeoutMs=i),o.signal!==void 0?"any"in AbortSignal&&(o.signal=AbortSignal.any([o.signal,u])):o.signal=u,delete o.timeout}return o}function Ft(e={},{callbacks:n,maxConcurrency:o,recursionLimit:i,runName:u,configurable:t,runId:r}={}){const a=Ot(e);return n!==void 0&&(delete a.runName,a.callbacks=n),i!==void 0&&(a.recursionLimit=i),o!==void 0&&(a.maxConcurrency=o),u!==void 0&&(a.runName=u),t!==void 0&&(a.configurable={...a.configurable,...t}),r!==void 0&&delete a.runId,a}function Bf(e){if(e)return{configurable:e.configurable,recursionLimit:e.recursionLimit,callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,maxConcurrency:e.maxConcurrency,timeout:e.timeout,signal:e.signal,store:e.store}}async function tc(e,n){if(n===void 0)return e;let o;return Promise.race([e.catch(i=>{if(!n?.aborted)throw i}),new Promise((i,u)=>{o=()=>{u(gb(n))},n.addEventListener("abort",o),n.aborted&&u(gb(n))})]).finally(()=>n.removeEventListener("abort",o))}function gb(e){return e?.reason instanceof Error?e.reason:typeof e?.reason=="string"?new Error(e.reason):new Error("Aborted")}var xoe={};lt(xoe,{AsyncGeneratorWithSetup:()=>Ff,IterableReadableStream:()=>al,atee:()=>hM,concat:()=>td,pipeGeneratorWithSetup:()=>gH});var al=class nT extends ReadableStream{reader;ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:n.value}}catch(n){throw this.reader.releaseLock(),n}}async return(){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}return{done:!0,value:void 0}}async throw(n){if(this.ensureReader(),this.locked){const o=this.reader.cancel();this.reader.releaseLock(),await o}throw n}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(n){const o=n.getReader();return new nT({start(i){return u();function u(){return o.read().then(({done:t,value:r})=>{if(t){i.close();return}return i.enqueue(r),u()})}},cancel(){o.releaseLock()}})}static fromAsyncGenerator(n){return new nT({async pull(o){const{value:i,done:u}=await n.next();u&&o.close(),o.enqueue(i)},async cancel(o){await n.return(o)}})}};function hM(e,n=2){const o=Array.from({length:n},()=>[]);return o.map(async function*(u){for(;;)if(u.length===0){const t=await e.next();for(const r of o)r.push(t)}else{if(u[0].done)return;yield u.shift().value}})}function td(e,n){if(Array.isArray(e)&&Array.isArray(n))return e.concat(n);if(typeof e=="string"&&typeof n=="string")return e+n;if(typeof e=="number"&&typeof n=="number")return e+n;if("concat"in e&&typeof e.concat=="function")return e.concat(n);if(typeof e=="object"&&typeof n=="object"){const o={...e};for(const[i,u]of Object.entries(n))i in o&&!Array.isArray(o[i])?o[i]=td(o[i],u):o[i]=u;return o}else throw new Error(`Cannot concat ${typeof e} and ${typeof n}`)}var Ff=class{generator;setup;config;signal;firstResult;firstResultUsed=!1;constructor(e){this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise((n,o)=>{ec.runWithConfig(Bf(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(n,o):this.firstResult.then(i=>n(void 0),o)},!0)})}async next(...e){return this.signal?.throwIfAborted(),this.firstResultUsed?ec.runWithConfig(Bf(this.config),this.signal?async()=>tc(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function gH(e,n,o,i,...u){const t=new Ff({generator:n,startSetup:o,signal:i}),r=await t.setup;return{output:e(t,r,...u),setup:r}}var Poe={};lt(Poe,{ChatGenerationChunk:()=>Yc,GenerationChunk:()=>ep,RUN_KEY:()=>km});const km="__run";var ep=class mH{text;generationInfo;constructor(n){this.text=n.text,this.generationInfo=n.generationInfo}concat(n){return new mH({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo}})}},Yc=class _H extends ep{message;constructor(n){super(n),this.message=n.message}concat(n){return new _H({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo},message:this.message.concat(n.message)})}};const Aoe=Object.prototype.hasOwnProperty;function aT(e,n){return Aoe.call(e,n)}function iT(e){if(Array.isArray(e)){const o=new Array(e.length);for(let i=0;i<o.length;i++)o[i]=""+i;return o}if(Object.keys)return Object.keys(e);let n=[];for(let o in e)aT(e,o)&&n.push(o);return n}function el(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function oT(e){let n=0;const o=e.length;let i;for(;n<o;){if(i=e.charCodeAt(n),i>=48&&i<=57){n++;continue}return!1}return!0}function xh(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Noe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function sT(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let o=0,i=e.length;o<i;o++)if(sT(e[o]))return!0}else if(typeof e=="object"){const o=iT(e),i=o.length;for(var n=0;n<i;n++)if(sT(e[o[n]]))return!0}}return!1}function wz(e,n){const o=[e];for(const i in n){const u=typeof n[i]=="object"?JSON.stringify(n[i],null,2):n[i];typeof u<"u"&&o.push(`${i}: ${u}`)}return o.join(`
`)}var Doe=class extends Error{constructor(e,n,o,i,u){super(wz(e,{name:n,index:o,operation:i,tree:u})),this.name=n,this.index=o,this.operation=i,this.tree=u,Object.setPrototypeOf(this,new.target.prototype),this.message=wz(e,{name:n,index:o,operation:i,tree:u})}},yH={};lt(yH,{JsonPatchError:()=>kt,_areEquals:()=>Ym,applyOperation:()=>Nf,applyPatch:()=>tp,applyReducer:()=>qoe,deepClone:()=>Ioe,getValueByPointer:()=>mb,validate:()=>vH,validator:()=>_b});const kt=Doe,Ioe=el;function $S(e){return Object.getOwnPropertyNames(Object.prototype).includes(e)}const Hh={add:function(e,n,o){if($S(n))throw new TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");return e[n]=this.value,{newDocument:o}},remove:function(e,n,o){if($S(n))throw new TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");var i=e[n];return delete e[n],{newDocument:o,removed:i}},replace:function(e,n,o){if($S(n))throw new TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");var i=e[n];return e[n]=this.value,{newDocument:o,removed:i}},move:function(e,n,o){let i=mb(o,this.path);i&&(i=el(i));const u=Nf(o,{op:"remove",path:this.from}).removed;return Nf(o,{op:"add",path:this.path,value:u}),{newDocument:o,removed:i}},copy:function(e,n,o){const i=mb(o,this.from);return Nf(o,{op:"add",path:this.path,value:el(i)}),{newDocument:o}},test:function(e,n,o){return{newDocument:o,test:Ym(e[n],this.value)}},_get:function(e,n,o){return this.value=e[n],{newDocument:o}}};var zoe={add:function(e,n,o){return oT(n)?e.splice(n,0,this.value):e[n]=this.value,{newDocument:o,index:n}},remove:function(e,n,o){var i=e.splice(n,1);return{newDocument:o,removed:i[0]}},replace:function(e,n,o){var i=e[n];return e[n]=this.value,{newDocument:o,removed:i}},move:Hh.move,copy:Hh.copy,test:Hh.test,_get:Hh._get};function mb(e,n){if(n=="")return e;var o={op:"_get",path:n};return Nf(e,o),o.value}function Nf(e,n,o=!1,i=!0,u=!0,t=0){if(o&&(typeof o=="function"?o(n,0,e,n.path):_b(n,0)),n.path===""){let r={newDocument:e};if(n.op==="add")return r.newDocument=n.value,r;if(n.op==="replace")return r.newDocument=n.value,r.removed=e,r;if(n.op==="move"||n.op==="copy")return r.newDocument=mb(e,n.from),n.op==="move"&&(r.removed=e),r;if(n.op==="test"){if(r.test=Ym(e,n.value),r.test===!1)throw new kt("Test operation failed","TEST_OPERATION_FAILED",t,n,e);return r.newDocument=e,r}else{if(n.op==="remove")return r.removed=e,r.newDocument=null,r;if(n.op==="_get")return n.value=e,r;if(o)throw new kt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,n,e);return r}}else{i||(e=el(e));const a=(n.path||"").split("/");let s=e,l=1,f=a.length,m,b,_;for(typeof o=="function"?_=o:_=_b;;){if(b=a[l],b&&b.indexOf("~")!=-1&&(b=Noe(b)),u&&(b=="__proto__"||b=="prototype"&&l>0&&a[l-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(o&&m===void 0&&(s[b]===void 0?m=a.slice(0,l).join("/"):l==f-1&&(m=n.path),m!==void 0&&_(n,0,e,m)),l++,Array.isArray(s)){if(b==="-")b=s.length;else{if(o&&!oT(b))throw new kt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",t,n,e);oT(b)&&(b=~~b)}if(l>=f){if(o&&n.op==="add"&&b>s.length)throw new kt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",t,n,e);const p=zoe[n.op].call(n,s,b,e);if(p.test===!1)throw new kt("Test operation failed","TEST_OPERATION_FAILED",t,n,e);return p}}else if(l>=f){const p=Hh[n.op].call(n,s,b,e);if(p.test===!1)throw new kt("Test operation failed","TEST_OPERATION_FAILED",t,n,e);return p}if(s=s[b],o&&l<f&&(!s||typeof s!="object"))throw new kt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",t,n,e)}}}function tp(e,n,o,i=!0,u=!0){if(o&&!Array.isArray(n))throw new kt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(e=el(e));const t=new Array(n.length);for(let r=0,a=n.length;r<a;r++)t[r]=Nf(e,n[r],o,!0,u,r),e=t[r].newDocument;return t.newDocument=e,t}function qoe(e,n,o){const i=Nf(e,n);if(i.test===!1)throw new kt("Test operation failed","TEST_OPERATION_FAILED",o,n,e);return i.newDocument}function _b(e,n,o,i){if(typeof e!="object"||e===null||Array.isArray(e))throw new kt("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,e,o);if(Hh[e.op]){if(typeof e.path!="string")throw new kt("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,e,o);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new kt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",n,e,o);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new kt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,e,o);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new kt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,e,o);if((e.op==="add"||e.op==="replace"||e.op==="test")&&sT(e.value))throw new kt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,e,o);if(o){if(e.op=="add"){var u=e.path.split("/").length,t=i.split("/").length;if(u!==t+1&&u!==t)throw new kt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,e,o)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==i)throw new kt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,e,o)}else if(e.op==="move"||e.op==="copy"){var r={op:"_get",path:e.from,value:void 0},a=vH([r],o);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new kt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,e,o)}}}else throw new kt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,e,o)}function vH(e,n,o){try{if(!Array.isArray(e))throw new kt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(n)tp(el(n),el(e),o||!0);else{o=o||_b;for(var i=0;i<e.length;i++)o(e[i],i,n,void 0)}}catch(u){if(u instanceof kt)return u;throw u}}function Ym(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){var o=Array.isArray(e),i=Array.isArray(n),u,t,r;if(o&&i){if(t=e.length,t!=n.length)return!1;for(u=t;u--!==0;)if(!Ym(e[u],n[u]))return!1;return!0}if(o!=i)return!1;var a=Object.keys(e);if(t=a.length,t!==Object.keys(n).length)return!1;for(u=t;u--!==0;)if(!n.hasOwnProperty(a[u]))return!1;for(u=t;u--!==0;)if(r=a[u],!Ym(e[r],n[r]))return!1;return!0}return e!==e&&n!==n}function bH(e,n,o,i,u){if(n!==e){typeof n.toJSON=="function"&&(n=n.toJSON());for(var t=iT(n),r=iT(e),a=!1,s=r.length-1;s>=0;s--){var l=r[s],f=e[l];if(aT(n,l)&&!(n[l]===void 0&&f!==void 0&&Array.isArray(n)===!1)){var m=n[l];typeof f=="object"&&f!=null&&typeof m=="object"&&m!=null&&Array.isArray(f)===Array.isArray(m)?bH(f,m,o,i+"/"+xh(l),u):f!==m&&(u&&o.push({op:"test",path:i+"/"+xh(l),value:el(f)}),o.push({op:"replace",path:i+"/"+xh(l),value:el(m)}))}else Array.isArray(e)===Array.isArray(n)?(u&&o.push({op:"test",path:i+"/"+xh(l),value:el(f)}),o.push({op:"remove",path:i+"/"+xh(l)}),a=!0):(u&&o.push({op:"test",path:i,value:e}),o.push({op:"replace",path:i,value:n}))}if(!(!a&&t.length==r.length))for(var s=0;s<t.length;s++){var l=t[s];!aT(e,l)&&n[l]!==void 0&&o.push({op:"add",path:i+"/"+xh(l),value:el(n[l])})}}}function pM(e,n,o=!1){var i=[];return bH(e,n,i,"",o),i}({...yH});var Boe={};lt(Boe,{LogStreamCallbackHandler:()=>lT,RunLog:()=>gM,RunLogPatch:()=>Kl,isLogStreamHandler:()=>wH});var Kl=class{ops;constructor(e){this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),o=tp({},n);return new gM({ops:n,state:o[o.length-1].newDocument})}},gM=class uT extends Kl{state;constructor(n){super(n),this.state=n.state}concat(n){const o=this.ops.concat(n.ops),i=tp(this.state,n.ops);return new uT({ops:o,state:i[i.length-1].newDocument})}static fromRunLogPatch(n){const o=tp({},n.ops);return new uT({ops:n.ops,state:o[o.length-1].newDocument})}};const wH=e=>e.name==="log_stream_tracer";async function Oz(e,n){if(n==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:o}=e;if(["retriever","llm","prompt"].includes(e.run_type))return o;if(!(Object.keys(o).length===1&&o?.input===""))return o.input}async function Sz(e,n){const{outputs:o}=e;return n==="original"||["retriever","llm","prompt"].includes(e.run_type)?o:o!==void 0&&Object.keys(o).length===1&&o?.output!==void 0?o.output:o}function Uoe(e){return e!==void 0&&e.message!==void 0}var lT=class extends lp{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;_schemaFormat="original";rootId;keyMapByRunId={};counterMapByRunName={};transformStream;writer;receiveStream;name="log_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=al.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let o=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(o=o||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(o=o||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(o=o||n.find(i=>this.includeTags?.includes(i))!==void 0),this.excludeNames!==void 0&&(o=o&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(o=o&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(o=o&&n.every(i=>!this.excludeTags?.includes(i))),o}async*tapOutputIterable(e,n){for await(const o of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new Kl({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:o}]}))}yield o}}async onRunCreate(e){if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Kl({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const o={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(o.inputs=await Oz(e,this._schemaFormat)),await this.writer.write(new Kl({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:o}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const o=[];this._schemaFormat==="streaming_events"&&o.push({op:"replace",path:`/logs/${n}/inputs`,value:await Oz(e,this._schemaFormat)}),o.push({op:"add",path:`/logs/${n}/final_output`,value:await Sz(e,this._schemaFormat)}),e.end_time!==void 0&&o.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Kl({ops:o});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new Kl({ops:[{op:"replace",path:"/final_output",value:await Sz(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,o){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const u=e.inputs.messages!==void 0;let t;u?Uoe(o?.chunk)?t=o?.chunk:t=new zn({id:`run-${e.id}`,content:n}):t=n;const r=new Kl({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:t}]});await this.writer.write(r)}};function Xy({name:e,serialized:n}){return e!==void 0?e:n?.name!==void 0?n.name:n?.id!==void 0&&Array.isArray(n?.id)?n.id[n.id.length-1]:"Unnamed"}const Loe=e=>e.name==="event_stream_tracer";var $oe=class extends lp{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;runInfoMap=new Map;tappedPromises=new Map;transformStream;writer;receiveStream;readableStreamClosed=!1;name="event_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream({flush:()=>{this.readableStreamClosed=!0}}),this.writer=this.transformStream.writable.getWriter(),this.receiveStream=al.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let o=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(o=o||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(o=o||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(o=o||n.find(i=>this.includeTags?.includes(i))!==void 0),this.excludeNames!==void 0&&(o=o&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(o=o&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(o=o&&n.every(i=>!this.excludeTags?.includes(i))),o}async*tapOutputIterable(e,n){const o=await n.next();if(o.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield o.value;return}function u(r,a){return r==="llm"&&typeof a=="string"?new ep({text:a}):a}let t=this.tappedPromises.get(e);if(t===void 0){let r;t=new Promise(a=>{r=a}),this.tappedPromises.set(e,t);try{const a={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...a,data:{chunk:u(i.runType,o.value)}},i),yield o.value;for await(const s of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...a,data:{chunk:u(i.runType,s)}},i),yield s}finally{r?.()}}else{yield o.value;for await(const r of n)yield r}}async send(e,n){this.readableStreamClosed||this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const o=this.tappedPromises.get(e.run_id);o!==void 0?o.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){const n=Xy(e),o=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:o,inputs:e.inputs};this.runInfoMap.set(e.id,i);const u=`on_${o}_start`;await this.send({event:u,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onLLMNewToken(e,n,o){const i=this.runInfoMap.get(e.id);let u,t;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")t="on_chat_model_stream",o?.chunk===void 0?u=new zn({content:n,id:`run-${e.id}`}):u=o.chunk.message;else if(i.runType==="llm")t="on_llm_stream",o?.chunk===void 0?u=new ep({text:n}):u=o.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:t,data:{chunk:u},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let o;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=e.outputs?.generations;let u;if(n.runType==="chat_model"){for(const t of i??[]){if(u!==void 0)break;u=t[0]?.message}o="on_chat_model_end"}else if(n.runType==="llm")u={generations:i?.map(t=>t.map(r=>({text:r.text,generationInfo:r.generationInfo}))),llmOutput:e.outputs?.llmOutput??{}},o="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:o,data:{output:u,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){const n=Xy(e),o=e.run_type??"chain",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:e.run_type};let u={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(u={},i.inputs={}):e.inputs.input!==void 0?(u.input=e.inputs.input,i.inputs=e.inputs.input):(u.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${o}_start`,data:u,name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onChainEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const o=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},t={output:e.outputs?.output??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(t.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:o,data:t,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){const n=Xy(e),o={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,o),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},o)}async onToolEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const o=e.outputs?.output===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:o,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){const n=Xy(e),i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onRetrieverEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,o){const i=this.runInfoMap.get(o);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${o} not found in run map.`);await this.send({event:"on_custom_event",run_id:o,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}};const Foe=Object.prototype.toString,Voe=e=>Foe.call(e)==="[object Error]",Goe=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Hoe(e){if(!(e&&Voe(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:o,stack:i}=e;return o==="Load failed"?i===void 0||"__sentry_captured__"in e:o.startsWith("error sending request for url")?!0:Goe.has(o)}function Koe(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function ev(e,n,{min:o=0,allowInfinity:i=!1}={}){if(n!==void 0){if(typeof n!="number"||Number.isNaN(n))throw new TypeError(`Expected \`${e}\` to be a number${i?" or Infinity":""}.`);if(!i&&!Number.isFinite(n))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(n<o)throw new TypeError(`Expected \`${e}\` to be  ${o}.`)}}var koe=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function Yoe(e,n){const o=Math.max(1,e+1),i=n.randomize?Math.random()+1:1;let u=Math.round(i*n.minTimeout*n.factor**(o-1));return u=Math.min(u,n.maxTimeout),u}function Ez(e,n){return Number.isFinite(n)?n-(performance.now()-e):n}async function Woe({error:e,attemptNumber:n,retriesConsumed:o,startTime:i,options:u}){const t=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(t instanceof koe)throw t.originalError;const r=Number.isFinite(u.retries)?Math.max(0,u.retries-o):u.retries,a=u.maxRetryTime??Number.POSITIVE_INFINITY,s=Object.freeze({error:t,attemptNumber:n,retriesLeft:r,retriesConsumed:o});if(await u.onFailedAttempt(s),Ez(i,a)<=0)throw t;const l=await u.shouldConsumeRetry(s),f=Ez(i,a);if(f<=0||r<=0)throw t;if(t instanceof TypeError&&!Hoe(t)){if(l)throw t;return u.signal?.throwIfAborted(),!1}if(!await u.shouldRetry(s))throw t;if(!l)return u.signal?.throwIfAborted(),!1;const m=Yoe(o,u),b=Math.min(m,f);return b>0&&await new Promise((_,p)=>{const y=()=>{clearTimeout(v),u.signal?.removeEventListener("abort",y),p(u.signal.reason)},v=setTimeout(()=>{u.signal?.removeEventListener("abort",y),_()},b);u.unref&&v.unref?.(),u.signal?.addEventListener("abort",y,{once:!0})}),u.signal?.throwIfAborted(),!0}async function cT(e,n={}){if(n={...n},Koe(n.retries),Object.hasOwn(n,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");n.retries??=10,n.factor??=2,n.minTimeout??=1e3,n.maxTimeout??=Number.POSITIVE_INFINITY,n.maxRetryTime??=Number.POSITIVE_INFINITY,n.randomize??=!1,n.onFailedAttempt??=()=>{},n.shouldRetry??=()=>!0,n.shouldConsumeRetry??=()=>!0,ev("factor",n.factor,{min:0,allowInfinity:!1}),ev("minTimeout",n.minTimeout,{min:0,allowInfinity:!1}),ev("maxTimeout",n.maxTimeout,{min:0,allowInfinity:!0}),ev("maxRetryTime",n.maxRetryTime,{min:0,allowInfinity:!0}),n.factor>0||(n.factor=1),n.signal?.throwIfAborted();let o=0,i=0;const u=performance.now();for(;!Number.isFinite(n.retries)||i<=n.retries;){o++;try{n.signal?.throwIfAborted();const t=await e(o);return n.signal?.throwIfAborted(),t}catch(t){await Woe({error:t,attemptNumber:o,retriesConsumed:i,startTime:u,options:n})&&i++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Joe={};lt(Joe,{AsyncCaller:()=>f_});const Zoe=[400,401,402,403,404,405,406,407,409],Qoe=e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||e.name==="AbortError"||e?.code==="ECONNABORTED")throw e;const n=e?.response?.status??e?.status;if(n&&Zoe.includes(+n))throw e;if(e?.error?.code==="insufficient_quota"){const o=new Error(e?.message);throw o.name="InsufficientQuotaError",o}};var f_=class{maxConcurrency;maxRetries;onFailedAttempt;queue;constructor(e){this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??Qoe;const n="default"in Wl?Wl.default:Wl;this.queue=new n({concurrency:this.maxConcurrency})}async call(e,...n){return this.queue.add(()=>cT(()=>e(...n).catch(o=>{throw o instanceof Error?o:new Error(o)}),{onFailedAttempt:({error:o})=>this.onFailedAttempt?.(o),retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...o){if(e.signal){let i;return Promise.race([this.call(n,...o),new Promise((u,t)=>{i=()=>{t(gb(e.signal))},e.signal?.addEventListener("abort",i)})]).finally(()=>{e.signal&&i&&e.signal.removeEventListener("abort",i)})}return this.call(n,...o)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}},OH=class extends lp{name="RootListenersTracer";rootId;config;argOnStart;argOnEnd;argOnError;constructor({config:e,onStart:n,onEnd:o,onError:i}){super({_awaitHandler:!0}),this.config=e,this.argOnStart=n,this.argOnEnd=o,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function mM(e){return e?e.lc_runnable:!1}var Xoe=class{includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;constructor(e){this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let o=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=e.tags??[];return this.includeNames!==void 0&&(o=o||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(o=o||this.includeTypes.includes(n)),this.includeTags!==void 0&&(o=o||i.some(u=>this.includeTags?.includes(u))),this.excludeNames!==void 0&&(o=o&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(o=o&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(o=o&&i.every(u=>!this.excludeTags?.includes(u))),o}};const ese=e=>btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");function FS(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}const tse=["*","_","`"];function rse(e){let n="";for(const[o,i]of Object.entries(e))n+=`	classDef ${o} ${i};
`;return n}function nse(e,n,o){const{firstNode:i,lastNode:u,nodeColors:t,withStyles:r=!0,curveStyle:a="linear",wrapLabelNWords:s=9}=o??{};let l=r?`%%{init: {'flowchart': {'curve': '${a}'}}}%%
graph TD;
`:`graph TD;
`;if(r){const p="default",y={[p]:"{0}({1})"};i!==void 0&&(y[i]="{0}([{1}]):::first"),u!==void 0&&(y[u]="{0}([{1}]):::last");for(const[v,S]of Object.entries(e)){const R=S.name.split(":").pop()??"";let P=tse.some(C=>R.startsWith(C)&&R.endsWith(C))?`<p>${R}</p>`:R;Object.keys(S.metadata??{}).length&&(P+=`<hr/><small><em>${Object.entries(S.metadata??{}).map(([C,D])=>`${C} = ${D}`).join(`
`)}</em></small>`);const T=(y[v]??y[p]).replace("{0}",FS(v)).replace("{1}",P);l+=`	${T}
`}}const f={};for(const p of n){const y=p.source.split(":"),v=p.target.split(":"),S=y.filter((R,j)=>R===v[j]).join(":");f[S]||(f[S]=[]),f[S].push(p)}const m=new Set;function b(p){return[...p].sort((y,v)=>y.split(":").length-v.split(":").length)}function _(p,y){const v=p.length===1&&p[0].source===p[0].target;if(y&&!v){const R=y.split(":").pop();if(m.has(y))throw new Error(`Found duplicate subgraph '${R}' at '${y} -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);m.add(y),l+=`	subgraph ${R}
`}const S=b(Object.keys(f).filter(R=>R.startsWith(`${y}:`)&&R!==y&&R.split(":").length===y.split(":").length+1));for(const R of S)_(f[R],R);for(const R of p){const{source:j,target:P,data:T,conditional:C}=R;let D="";if(T!==void 0){let M=T;const L=M.split(" ");L.length>s&&(M=Array.from({length:Math.ceil(L.length/s)},(q,z)=>L.slice(z*s,(z+1)*s).join(" ")).join("&nbsp;<br>&nbsp;")),D=C?` -. &nbsp;${M}&nbsp; .-> `:` -- &nbsp;${M}&nbsp; --> `}else D=C?" -.-> ":" --> ";l+=`	${FS(j)}${D}${FS(P)};
`}y&&!v&&(l+=`	end
`)}_(f[""]??[],"");for(const p in f)!p.includes(":")&&p!==""&&_(f[p],p);return r&&(l+=rse(t??{})),l}async function ase(e,n){let o=n?.backgroundColor??"white";const i=n?.imageType??"png",u=ese(e);o!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(o)||(o=`!${o}`));const t=`https://mermaid.ink/img/${u}?bgColor=${o}&type=${i}`,r=await fetch(t);if(!r.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${r.status}`,`Status text: ${r.statusText}`].join(`
`));return await r.blob()}var ise={};lt(ise,{Graph:()=>_M});function ose(e,n){if(e!==void 0&&!Im(e))return e;if(mM(n))try{let o=n.getName();return o=o.startsWith("Runnable")?o.slice(8):o,o}catch{return n.getName()}else return n.name??"UnknownSchema"}function sse(e){return mM(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...Ql(e.data.schema),title:e.data.name}}}var _M=class SH{nodes={};edges=[];constructor(n){this.nodes=n?.nodes??this.nodes,this.edges=n?.edges??this.edges}toJSON(){const n={};return Object.values(this.nodes).forEach((o,i)=>{n[o.id]=Im(o.id)?i:o.id}),{nodes:Object.values(this.nodes).map(o=>({id:n[o.id],...sse(o)})),edges:this.edges.map(o=>{const i={source:n[o.source],target:n[o.target]};return typeof o.data<"u"&&(i.data=o.data),typeof o.conditional<"u"&&(i.conditional=o.conditional),i})}}addNode(n,o,i){if(o!==void 0&&this.nodes[o]!==void 0)throw new Error(`Node with id ${o} already exists`);const u=o??$c(),t={id:u,data:n,name:ose(o,n),metadata:i};return this.nodes[u]=t,t}removeNode(n){delete this.nodes[n.id],this.edges=this.edges.filter(o=>o.source!==n.id&&o.target!==n.id)}addEdge(n,o,i,u){if(this.nodes[n.id]===void 0)throw new Error(`Source node ${n.id} not in graph`);if(this.nodes[o.id]===void 0)throw new Error(`Target node ${o.id} not in graph`);const t={source:n.id,target:o.id,data:i,conditional:u};return this.edges.push(t),t}firstNode(){return Rz(this)}lastNode(){return jz(this)}extend(n,o=""){let i=o;Object.values(n.nodes).map(l=>l.id).every(Im)&&(i="");const t=l=>i?`${i}:${l}`:l;Object.entries(n.nodes).forEach(([l,f])=>{this.nodes[t(l)]={...f,id:t(l)}});const r=n.edges.map(l=>({...l,source:t(l.source),target:t(l.target)}));this.edges=[...this.edges,...r];const a=n.firstNode(),s=n.lastNode();return[a?{id:t(a.id),data:a.data}:void 0,s?{id:t(s.id),data:s.data}:void 0]}trimFirstNode(){const n=this.firstNode();n&&Rz(this,[n.id])&&this.removeNode(n)}trimLastNode(){const n=this.lastNode();n&&jz(this,[n.id])&&this.removeNode(n)}reid(){const n=Object.fromEntries(Object.values(this.nodes).map(u=>[u.id,u.name])),o=new Map;Object.values(n).forEach(u=>{o.set(u,(o.get(u)||0)+1)});const i=u=>{const t=n[u];return Im(u)&&o.get(t)===1?t:u};return new SH({nodes:Object.fromEntries(Object.entries(this.nodes).map(([u,t])=>[i(u),{...t,id:i(u)}])),edges:this.edges.map(u=>({...u,source:i(u.source),target:i(u.target)}))})}drawMermaid(n){const{withStyles:o,curveStyle:i,nodeColors:u={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:t}=n??{},r=this.reid(),a=r.firstNode(),s=r.lastNode();return nse(r.nodes,r.edges,{firstNode:a?.id,lastNode:s?.id,withStyles:o,curveStyle:i,nodeColors:u,wrapLabelNWords:t})}async drawMermaidPng(n){const o=this.drawMermaid(n);return ase(o,{backgroundColor:n?.backgroundColor})}};function Rz(e,n=[]){const o=new Set(e.edges.filter(u=>!n.includes(u.source)).map(u=>u.target)),i=[];for(const u of Object.values(e.nodes))!n.includes(u.id)&&!o.has(u.id)&&i.push(u);return i.length===1?i[0]:void 0}function jz(e,n=[]){const o=new Set(e.edges.filter(u=>!n.includes(u.target)).map(u=>u.source)),i=[];for(const u of Object.values(e.nodes))!n.includes(u.id)&&!o.has(u.id)&&i.push(u);return i.length===1?i[0]:void 0}function use(e){const n=new TextEncoder,o=new ReadableStream({async start(i){for await(const u of e)i.enqueue(n.encode(`event: data
data: ${JSON.stringify(u)}

`));i.enqueue(n.encode(`event: end

`)),i.close()}});return al.fromReadableStream(o)}function Cz(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}const lse=e=>e!=null&&typeof e=="object"&&"next"in e&&typeof e.next=="function";function dT(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function"}function*Tz(e,n){for(;;){const{value:o,done:i}=ec.runWithConfig(Bf(e),n.next.bind(n),!0);if(i)break;yield o}}async function*fT(e,n){const o=n[Symbol.asyncIterator]();for(;;){const{value:i,done:u}=await ec.runWithConfig(Bf(e),o.next.bind(n),!0);if(u)break;yield i}}function sr(e,n){return e&&!Array.isArray(e)&&!(e instanceof Date)&&typeof e=="object"?e:{[n]:e}}var zt=class extends qf{lc_runnable=!0;name;getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}withRetry(e){return new yM({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new Uf({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new MH({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(Ot);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const o=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,u)=>Ot(u===0?e:o))}return Array.from({length:n},()=>Ot(e))}async batch(e,n,o){const i=this._getOptionsList(n??{},e.length),u=i[0]?.maxConcurrency??o?.maxConcurrency,t=new f_({maxConcurrency:u,onFailedAttempt:a=>{throw a}}),r=e.map((a,s)=>t.call(async()=>{try{return await this.invoke(a,i[s])}catch(l){if(o?.returnExceptions)return l;throw l}}));return Promise.all(r)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const o=Ot(n),i=new Ff({generator:this._streamIterator(e,o),config:o});return await i.setup,al.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=Ot(e):n=Ot({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const o={...e};return delete o.callbacks,delete o.tags,delete o.metadata,delete o.runName,delete o.configurable,delete o.recursionLimit,delete o.maxConcurrency,delete o.runId,delete o.timeout,delete o.signal,[n,o]}async _callWithConfig(e,n,o){const i=Ot(o),t=await(await mn(i))?.handleChainStart(this.toJSON(),sr(n,"input"),i.runId,i?.runType,void 0,void 0,i?.runName??this.getName());delete i.runId;let r;try{const a=e.call(this,n,i,t);r=await tc(a,o?.signal)}catch(a){throw await t?.handleChainError(a),a}return await t?.handleChainEnd(sr(r,"output")),r}async _batchWithConfig(e,n,o,i){const u=this._getOptionsList(o??{},n.length),t=await Promise.all(u.map(mn)),r=await Promise.all(t.map(async(s,l)=>{const f=await s?.handleChainStart(this.toJSON(),sr(n[l],"input"),u[l].runId,u[l].runType,void 0,void 0,u[l].runName??this.getName());return delete u[l].runId,f}));let a;try{const s=e.call(this,n,u,r,i);a=await tc(s,u?.[0]?.signal)}catch(s){throw await Promise.all(r.map(l=>l?.handleChainError(s))),s}return await Promise.all(r.map(s=>s?.handleChainEnd(sr(a,"output")))),a}_concatOutputChunks(e,n){return td(e,n)}async*_transformStreamWithConfig(e,n,o){let i,u=!0,t,r=!0;const a=Ot(o),s=await mn(a),l=this;async function*f(){for await(const b of e){if(u)if(i===void 0)i=b;else try{i=l._concatOutputChunks(i,b)}catch{i=void 0,u=!1}yield b}}let m;try{const b=await gH(n.bind(this),f(),async()=>s?.handleChainStart(this.toJSON(),{input:""},a.runId,a.runType,void 0,void 0,a.runName??this.getName(),void 0,{lc_defers_inputs:!0}),o?.signal,a);delete a.runId,m=b.setup;const _=m?.handlers.find(Loe);let p=b.output;_!==void 0&&m!==void 0&&(p=_.tapOutputIterable(m.runId,p));const y=m?.handlers.find(wH);y!==void 0&&m!==void 0&&(p=y.tapOutputIterable(m.runId,p));for await(const v of p)if(yield v,r)if(t===void 0)t=v;else try{t=this._concatOutputChunks(t,v)}catch{t=void 0,r=!1}}catch(b){throw await m?.handleChainError(b,void 0,void 0,void 0,{inputs:sr(i,"input")}),b}await m?.handleChainEnd(t??{},void 0,void 0,void 0,{inputs:sr(i,"input")})}getGraph(e){const n=new _M,o=n.addNode({name:`${this.getName()}Input`,schema:LD()}),i=n.addNode(this),u=n.addNode({name:`${this.getName()}Output`,schema:LD()});return n.addEdge(o,i),n.addEdge(i,u),n}pipe(e){return new h_({first:this,last:tl(e)})}pick(e){return this.pipe(new xH(e))}assign(e){return this.pipe(new vM(new cp({steps:e})))}async*transform(e,n){let o;for await(const i of e)o===void 0?o=i:o=this._concatOutputChunks(o,i);yield*this._streamIterator(o,Ot(n))}async*streamLog(e,n,o){const i=new lT({...o,autoClose:!1,_schemaFormat:"original"}),u=Ot(n);yield*this._streamLog(e,i,u)}async*_streamLog(e,n,o){const{callbacks:i}=o;if(i===void 0)o.callbacks=[n];else if(Array.isArray(i))o.callbacks=i.concat([n]);else{const a=i.copy();a.addHandler(n,!0),o.callbacks=a}const u=this.stream(e,o);async function t(){try{const a=await u;for await(const s of a){const l=new Kl({ops:[{op:"add",path:"/streamed_output/-",value:s}]});await n.writer.write(l)}}finally{await n.writer.close()}}const r=t();try{for await(const a of n)yield a}finally{await r}}streamEvents(e,n,o){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,o);else if(n.version==="v2")i=this._streamEventsV2(e,n,o);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?use(i):al.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,o){const i=new $oe({...o,autoClose:!1}),u=Ot(n),t=u.runId??$c();u.runId=t;const r=u.callbacks;if(r===void 0)u.callbacks=[i];else if(Array.isArray(r))u.callbacks=r.concat(i);else{const _=r.copy();_.addHandler(i,!0),u.callbacks=_}const a=new AbortController,s=this;async function l(){let _,p=null;try{n?.signal?"any"in AbortSignal?_=AbortSignal.any([a.signal,n.signal]):(_=n.signal,p=()=>{a.abort()},n.signal.addEventListener("abort",p,{once:!0})):_=a.signal;const y=await s.stream(e,{...u,signal:_}),v=i.tapOutputIterable(t,y);for await(const S of v)if(a.signal.aborted)break}finally{await i.finish(),_&&p&&_.removeEventListener("abort",p)}}const f=l();let m=!1,b;try{for await(const _ of i){if(!m){_.data.input=e,m=!0,b=_.run_id,yield _;continue}_.run_id===b&&_.event.endsWith("_end")&&_.data?.input&&delete _.data.input,yield _}}finally{a.abort(),await f}}async*_streamEventsV1(e,n,o){let i,u=!1;const t=Ot(n),r=t.tags??[],a=t.metadata??{},s=t.runName??this.getName(),l=new lT({...o,autoClose:!1,_schemaFormat:"streaming_events"}),f=new Xoe({...o}),m=this._streamLog(e,l,t);for await(const _ of m){if(i?i=i.concat(_):i=gM.fromRunLogPatch(_),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!u){u=!0;const S={...i.state},R={run_id:S.id,event:`on_${S.type}_start`,name:s,tags:r,metadata:a,data:{input:e}};f.includeEvent(R,S.type)&&(yield R)}const p=_.ops.filter(S=>S.path.startsWith("/logs/")).map(S=>S.path.split("/")[2]),y=[...new Set(p)];for(const S of y){let R,j={};const P=i.state.logs[S];if(P.end_time===void 0?P.streamed_output.length>0?R="stream":R="start":R="end",R==="start")P.inputs!==void 0&&(j.input=P.inputs);else if(R==="end")P.inputs!==void 0&&(j.input=P.inputs),j.output=P.final_output;else if(R==="stream"){const T=P.streamed_output.length;if(T!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${T} instead. Encountered in: "${P.name}"`);j={chunk:P.streamed_output[0]},P.streamed_output=[]}yield{event:`on_${P.type}_${R}`,name:P.name,run_id:P.id,tags:P.tags,metadata:P.metadata,data:j}}const{state:v}=i;if(v.streamed_output.length>0){const S=v.streamed_output.length;if(S!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${S} instead. Encountered in: "${v.name}"`);const R={chunk:v.streamed_output[0]};v.streamed_output=[];const j={event:`on_${v.type}_stream`,run_id:v.id,tags:r,metadata:a,name:s,data:R};f.includeEvent(j,v.type)&&(yield j)}}const b=i?.state;if(b!==void 0){const _={event:`on_${b.type}_end`,name:s,run_id:b.id,tags:r,metadata:a,data:{output:b.final_output}};f.includeEvent(_,b.type)&&(yield _)}}static isRunnable(e){return mM(e)}withListeners({onStart:e,onEnd:n,onError:o}){return new Uf({bound:this,config:{},configFactories:[i=>({callbacks:[new OH({config:i,onStart:e,onEnd:n,onError:o})]})]})}asTool(e){return pse(this,e)}},Uf=class EH extends zt{static lc_name(){return"RunnableBinding"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;bound;config;kwargs;configFactories;constructor(n){super(n),this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config,this.configFactories=n.configFactories}getName(n){return this.bound.getName(n)}async _mergeConfig(...n){const o=rT(this.config,...n);return rT(o,...this.configFactories?await Promise.all(this.configFactories.map(async i=>await i(o))):[])}withConfig(n){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return new yM({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:n?.stopAfterAttempt,...n})}async invoke(n,o){return this.bound.invoke(n,await this._mergeConfig(o,this.kwargs))}async batch(n,o,i){const u=Array.isArray(o)?await Promise.all(o.map(async t=>this._mergeConfig(Ot(t),this.kwargs))):await this._mergeConfig(Ot(o),this.kwargs);return this.bound.batch(n,u,i)}_concatOutputChunks(n,o){return this.bound._concatOutputChunks(n,o)}async*_streamIterator(n,o){yield*this.bound._streamIterator(n,await this._mergeConfig(Ot(o),this.kwargs))}async stream(n,o){return this.bound.stream(n,await this._mergeConfig(Ot(o),this.kwargs))}async*transform(n,o){yield*this.bound.transform(n,await this._mergeConfig(Ot(o),this.kwargs))}streamEvents(n,o,i){const u=this,t=async function*(){yield*u.bound.streamEvents(n,{...await u._mergeConfig(Ot(o),u.kwargs),version:o.version},i)};return al.fromAsyncGenerator(t())}static isRunnableBinding(n){return n.bound&&zt.isRunnable(n.bound)}withListeners({onStart:n,onEnd:o,onError:i}){return new EH({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[u=>({callbacks:[new OH({config:u,onStart:n,onEnd:o,onError:i})]})]})}},cse=class RH extends zt{static lc_name(){return"RunnableEach"}lc_serializable=!0;lc_namespace=["langchain_core","runnables"];bound;constructor(n){super(n),this.bound=n.bound}async invoke(n,o){return this._callWithConfig(this._invoke.bind(this),n,o)}async _invoke(n,o,i){return this.bound.batch(n,Ft(o,{callbacks:i?.getChild()}))}withListeners({onStart:n,onEnd:o,onError:i}){return new RH({bound:this.bound.withListeners({onStart:n,onEnd:o,onError:i})})}},yM=class extends Uf{static lc_name(){return"RunnableRetry"}lc_namespace=["langchain_core","runnables"];maxAttemptNumber=3;onFailedAttempt=()=>{};constructor(e){super(e),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,o){const i=e>1?`retry:attempt:${e}`:void 0;return Ft(n,{callbacks:o?.getChild(i)})}async _invoke(e,n,o){return cT(i=>super.invoke(e,this._patchConfigForRetry(i,n,o)),{onFailedAttempt:({error:i})=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,o,i){const u={};try{await cT(async t=>{const r=e.map((m,b)=>b).filter(m=>u[m.toString()]===void 0||u[m.toString()]instanceof Error),a=r.map(m=>e[m]),s=r.map(m=>this._patchConfigForRetry(t,n?.[m],o?.[m])),l=await super.batch(a,s,{...i,returnExceptions:!0});let f;for(let m=0;m<l.length;m+=1){const b=l[m],_=r[m];b instanceof Error&&f===void 0&&(f=b,f.input=a[m]),u[_.toString()]=b}if(f)throw f;return l},{onFailedAttempt:({error:t})=>this.onFailedAttempt(t,t.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(t){if(i?.returnExceptions!==!0)throw t}return Object.keys(u).sort((t,r)=>parseInt(t,10)-parseInt(r,10)).map(t=>u[parseInt(t,10)])}async batch(e,n,o){return this._batchWithConfig(this._batch.bind(this),e,n,o)}},h_=class Tm extends zt{static lc_name(){return"RunnableSequence"}first;middle=[];last;omitSequenceTags=!1;lc_serializable=!0;lc_namespace=["langchain_core","runnables"];constructor(n){super(n),this.first=n.first,this.middle=n.middle??this.middle,this.last=n.last,this.name=n.name,this.omitSequenceTags=n.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,o){const i=Ot(o),t=await(await mn(i))?.handleChainStart(this.toJSON(),sr(n,"input"),i.runId,void 0,void 0,void 0,i?.runName);delete i.runId;let r=n,a;try{const s=[this.first,...this.middle];for(let l=0;l<s.length;l+=1){const m=s[l].invoke(r,Ft(i,{callbacks:t?.getChild(this.omitSequenceTags?void 0:`seq:step:${l+1}`)}));r=await tc(m,o?.signal)}if(o?.signal?.aborted)throw gb(o.signal);a=await this.last.invoke(r,Ft(i,{callbacks:t?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(s){throw await t?.handleChainError(s),s}return await t?.handleChainEnd(sr(a,"output")),a}async batch(n,o,i){const u=this._getOptionsList(o??{},n.length),t=await Promise.all(u.map(mn)),r=await Promise.all(t.map(async(s,l)=>{const f=await s?.handleChainStart(this.toJSON(),sr(n[l],"input"),u[l].runId,void 0,void 0,void 0,u[l].runName);return delete u[l].runId,f}));let a=n;try{for(let s=0;s<this.steps.length;s+=1){const f=this.steps[s].batch(a,r.map((m,b)=>{const _=m?.getChild(this.omitSequenceTags?void 0:`seq:step:${s+1}`);return Ft(u[b],{callbacks:_})}),i);a=await tc(f,u[0]?.signal)}}catch(s){throw await Promise.all(r.map(l=>l?.handleChainError(s))),s}return await Promise.all(r.map(s=>s?.handleChainEnd(sr(a,"output")))),a}_concatOutputChunks(n,o){return this.last._concatOutputChunks(n,o)}async*_streamIterator(n,o){const i=await mn(o),{runId:u,...t}=o??{},r=await i?.handleChainStart(this.toJSON(),sr(n,"input"),u,void 0,void 0,void 0,t?.runName),a=[this.first,...this.middle,this.last];let s=!0,l;async function*f(){yield n}try{let m=a[0].transform(f(),Ft(t,{callbacks:r?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let b=1;b<a.length;b+=1)m=await a[b].transform(m,Ft(t,{callbacks:r?.getChild(this.omitSequenceTags?void 0:`seq:step:${b+1}`)}));for await(const b of m)if(o?.signal?.throwIfAborted(),yield b,s)if(l===void 0)l=b;else try{l=this._concatOutputChunks(l,b)}catch{l=void 0,s=!1}}catch(m){throw await r?.handleChainError(m),m}await r?.handleChainEnd(sr(l,"output"))}getGraph(n){const o=new _M;let i=null;return this.steps.forEach((u,t)=>{const r=u.getGraph(n);t!==0&&r.trimFirstNode(),t!==this.steps.length-1&&r.trimLastNode(),o.extend(r);const a=r.firstNode();if(!a)throw new Error(`Runnable ${u} has no first node`);i&&o.addEdge(i,a),i=r.lastNode()}),o}pipe(n){return Tm.isRunnableSequence(n)?new Tm({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last,name:this.name??n.name}):new Tm({first:this.first,middle:[...this.middle,this.last],last:tl(n),name:this.name})}static isRunnableSequence(n){return Array.isArray(n.middle)&&zt.isRunnable(n)}static from([n,...o],i){let u={};return typeof i=="string"?u.name=i:i!==void 0&&(u=i),new Tm({...u,first:tl(n),middle:o.slice(0,-1).map(tl),last:tl(o[o.length-1])})}},cp=class jH extends zt{static lc_name(){return"RunnableMap"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;steps;getStepsKeys(){return Object.keys(this.steps)}constructor(n){super(n),this.steps={};for(const[o,i]of Object.entries(n.steps))this.steps[o]=tl(i)}static from(n){return new jH({steps:n})}async invoke(n,o){const i=Ot(o),t=await(await mn(i))?.handleChainStart(this.toJSON(),{input:n},i.runId,void 0,void 0,void 0,i?.runName);delete i.runId;const r={};try{const a=Object.entries(this.steps).map(async([s,l])=>{r[s]=await l.invoke(n,Ft(i,{callbacks:t?.getChild(`map:key:${s}`)}))});await tc(Promise.all(a),o?.signal)}catch(a){throw await t?.handleChainError(a),a}return await t?.handleChainEnd(r),r}async*_transform(n,o,i){const u={...this.steps},t=hM(n,Object.keys(u).length),r=new Map(Object.entries(u).map(([a,s],l)=>{const f=s.transform(t[l],Ft(i,{callbacks:o?.getChild(`map:key:${a}`)}));return[a,f.next().then(m=>({key:a,gen:f,result:m}))]}));for(;r.size;){const a=Promise.race(r.values()),{key:s,result:l,gen:f}=await tc(a,i?.signal);r.delete(s),l.done||(yield{[s]:l.value},r.set(s,f.next().then(m=>({key:s,gen:f,result:m}))))}}transform(n,o){return this._transformStreamWithConfig(n,this._transform.bind(this),o)}async stream(n,o){async function*i(){yield n}const u=Ot(o),t=new Ff({generator:this.transform(i(),u),config:u});return await t.setup,al.fromAsyncGenerator(t)}},dse=class CH extends zt{lc_serializable=!1;lc_namespace=["langchain_core","runnables"];func;constructor(n){if(super(n),!fM(n.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=n.func}async invoke(n,o){const[i]=this._getOptionsList(o??{},1),u=await mn(i),t=this.func(Ft(i,{callbacks:u}),n);return tc(t,i?.signal)}async*_streamIterator(n,o){const[i]=this._getOptionsList(o??{},1),u=await this.invoke(n,o);if(dT(u)){for await(const t of u)i?.signal?.throwIfAborted(),yield t;return}if(lse(u)){for(;;){i?.signal?.throwIfAborted();const t=u.next();if(t.done)break;yield t.value}return}yield u}static from(n){return new CH({func:n})}};function fse(e){if(fM(e))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var nd=class TH extends zt{static lc_name(){return"RunnableLambda"}lc_namespace=["langchain_core","runnables"];func;constructor(n){if(fM(n.func))return dse.from(n.func);super(n),fse(n.func),this.func=n.func}static from(n){return new TH({func:n})}async _invoke(n,o,i){return new Promise((u,t)=>{const r=Ft(o,{callbacks:i?.getChild(),recursionLimit:(o?.recursionLimit??LS)-1});ec.runWithConfig(Bf(r),async()=>{try{let a=await this.func(n,{...r});if(a&&zt.isRunnable(a)){if(o?.recursionLimit===0)throw new Error("Recursion limit reached.");a=await a.invoke(n,{...r,recursionLimit:(r.recursionLimit??LS)-1})}else if(dT(a)){let s;for await(const l of fT(r,a))if(o?.signal?.throwIfAborted(),s===void 0)s=l;else try{s=this._concatOutputChunks(s,l)}catch{s=l}a=s}else if(Cz(a)){let s;for(const l of Tz(r,a))if(o?.signal?.throwIfAborted(),s===void 0)s=l;else try{s=this._concatOutputChunks(s,l)}catch{s=l}a=s}u(a)}catch(a){t(a)}})})}async invoke(n,o){return this._callWithConfig(this._invoke.bind(this),n,o)}async*_transform(n,o,i){let u;for await(const a of n)if(u===void 0)u=a;else try{u=this._concatOutputChunks(u,a)}catch{u=a}const t=Ft(i,{callbacks:o?.getChild(),recursionLimit:(i?.recursionLimit??LS)-1}),r=await new Promise((a,s)=>{ec.runWithConfig(Bf(t),async()=>{try{const l=await this.func(u,{...t,config:t});a(l)}catch(l){s(l)}})});if(r&&zt.isRunnable(r)){if(i?.recursionLimit===0)throw new Error("Recursion limit reached.");const a=await r.stream(u,t);for await(const s of a)yield s}else if(dT(r))for await(const a of fT(t,r))i?.signal?.throwIfAborted(),yield a;else if(Cz(r))for(const a of Tz(t,r))i?.signal?.throwIfAborted(),yield a;else yield r}transform(n,o){return this._transformStreamWithConfig(n,this._transform.bind(this),o)}async stream(n,o){async function*i(){yield n}const u=Ot(o),t=new Ff({generator:this.transform(i(),u),config:u});return await t.setup,al.fromAsyncGenerator(t)}},hse=class extends cp{},MH=class extends zt{static lc_name(){return"RunnableWithFallbacks"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnable;fallbacks;constructor(e){super(e),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const o=Ot(n),i=await mn(o),{runId:u,...t}=o,r=await i?.handleChainStart(this.toJSON(),sr(e,"input"),u,void 0,void 0,void 0,t?.runName),a=Ft(t,{callbacks:r?.getChild()});return await ec.runWithConfig(a,async()=>{let l;for(const f of this.runnables()){o?.signal?.throwIfAborted();try{const m=await f.invoke(e,a);return await r?.handleChainEnd(sr(m,"output")),m}catch(m){l===void 0&&(l=m)}}throw l===void 0?new Error("No error stored at end of fallback."):(await r?.handleChainError(l),l)})}async*_streamIterator(e,n){const o=Ot(n),i=await mn(o),{runId:u,...t}=o,r=await i?.handleChainStart(this.toJSON(),sr(e,"input"),u,void 0,void 0,void 0,t?.runName);let a,s;for(const f of this.runnables()){o?.signal?.throwIfAborted();const m=Ft(t,{callbacks:r?.getChild()});try{const b=await f.stream(e,m);s=fT(m,b);break}catch(b){a===void 0&&(a=b)}}if(s===void 0){const f=a??new Error("No error stored at end of fallback.");throw await r?.handleChainError(f),f}let l;try{for await(const f of s){yield f;try{l=l===void 0?l:this._concatOutputChunks(l,f)}catch{l=void 0}}}catch(f){throw await r?.handleChainError(f),f}await r?.handleChainEnd(sr(l,"output"))}async batch(e,n,o){if(o?.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),u=await Promise.all(i.map(a=>mn(a))),t=await Promise.all(u.map(async(a,s)=>{const l=await a?.handleChainStart(this.toJSON(),sr(e[s],"input"),i[s].runId,void 0,void 0,void 0,i[s].runName);return delete i[s].runId,l}));let r;for(const a of this.runnables()){i[0].signal?.throwIfAborted();try{const s=await a.batch(e,t.map((l,f)=>Ft(i[f],{callbacks:l?.getChild()})),o);return await Promise.all(t.map((l,f)=>l?.handleChainEnd(sr(s[f],"output")))),s}catch(s){r===void 0&&(r=s)}}throw r?(await Promise.all(t.map(a=>a?.handleChainError(r))),r):new Error("No error stored at end of fallbacks.")}};function tl(e){if(typeof e=="function")return new nd({func:e});if(zt.isRunnable(e))return e;if(!Array.isArray(e)&&typeof e=="object"){const n={};for(const[o,i]of Object.entries(e))n[o]=tl(i);return new cp({steps:n})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var vM=class extends zt{static lc_name(){return"RunnableAssign"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;mapper;constructor(e){e instanceof cp&&(e={mapper:e}),super(e),this.mapper=e.mapper}async invoke(e,n){const o=await this.mapper.invoke(e,n);return{...e,...o}}async*_transform(e,n,o){const i=this.mapper.getStepsKeys(),[u,t]=hM(e),r=this.mapper.transform(t,Ft(o,{callbacks:n?.getChild()})),a=r.next();for await(const s of u){if(typeof s!="object"||Array.isArray(s))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof s}`);const l=Object.fromEntries(Object.entries(s).filter(([f])=>!i.includes(f)));Object.keys(l).length>0&&(yield l)}yield(await a).value;for await(const s of r)yield s}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*o(){yield e}const i=Ot(n),u=new Ff({generator:this.transform(o(),i),config:i});return await u.setup,al.fromAsyncGenerator(u)}},xH=class extends zt{static lc_name(){return"RunnablePick"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;keys;constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(o=>[o,e[o]]).filter(o=>o[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const o=await this._pick(n);o!==void 0&&(yield o)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*o(){yield e}const i=Ot(n),u=new Ff({generator:this.transform(o(),i),config:i});return await u.setup,al.fromAsyncGenerator(u)}},hT=class extends Uf{name;description;schema;constructor(e){const n=h_.from([nd.from(async o=>{let i;if(SG(o))try{i=await LT(this.schema,o.args)}catch{throw new dne("Received tool input did not match expected schema",JSON.stringify(o.args))}else i=o;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function pse(e,n){const o=n.name??e.getName(),i=n.description??$T(n.schema);return YV(n.schema)?new hT({name:o,description:i,schema:HT({input:GT()}).transform(u=>u.input),bound:e}):new hT({name:o,description:i,schema:n.schema,bound:e})}const yb=(e,n)=>{const o=[...new Set(n?.map(u=>{if(typeof u=="string")return u;const t=new u({});if(!("getType"in t)||typeof t.getType!="function")throw new Error("Invalid type provided.");return t.getType()}))],i=e.getType();return o.some(u=>u===i)};function gse(e,n){return Array.isArray(e)?Mz(e,n):nd.from(o=>Mz(o,e))}function Mz(e,n={}){const{includeNames:o,excludeNames:i,includeTypes:u,excludeTypes:t,includeIds:r,excludeIds:a}=n,s=[];for(const l of e)if(!(i&&l.name&&i.includes(l.name))){{if(t&&yb(l,t))continue;if(a&&l.id&&a.includes(l.id))continue}u||r||o?(o&&l.name&&o.some(f=>f===l.name)||u&&yb(l,u)||r&&l.id&&r.some(f=>f===l.id))&&s.push(l):s.push(l)}return s}function mse(e){return Array.isArray(e)?xz(e):nd.from(xz)}function xz(e){if(!e.length)return[];const n=[];for(const o of e){const i=o,u=n.pop();if(!u)n.push(i);else if(i.getType()==="tool"||i.getType()!==u.getType())n.push(u,i);else{const t=fb(u),r=fb(i),a=t.concat(r);typeof t.content=="string"&&typeof r.content=="string"&&(a.content=`${t.content}
${r.content}`),n.push(vse(a))}}return n}function _se(e,n){if(Array.isArray(e)){const o=e;if(!n)throw new Error("Options parameter is required when providing messages.");return Pz(o,n)}else{const o=e;return nd.from(i=>Pz(i,o)).withConfig({runName:"trim_messages"})}}async function Pz(e,n){const{maxTokens:o,tokenCounter:i,strategy:u="last",allowPartial:t=!1,endOn:r,startOn:a,includeSystem:s=!1,textSplitter:l}=n;if(a&&u==="first")throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(s&&u==="first")throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let f;"getNumTokens"in i?f=async b=>(await Promise.all(b.map(p=>i.getNumTokens(p.content)))).reduce((p,y)=>p+y,0):f=async b=>i(b);let m=AH;if(l&&("splitText"in l?m=l.splitText:m=async b=>l(b)),u==="first")return PH(e,{maxTokens:o,tokenCounter:f,textSplitter:m,partialStrategy:t?"first":void 0,endOn:r});if(u==="last")return yse(e,{maxTokens:o,tokenCounter:f,textSplitter:m,allowPartial:t,includeSystem:s,startOn:a,endOn:r});throw new Error(`Unrecognized strategy: '${u}'. Must be one of 'first' or 'last'.`)}async function PH(e,n){const{maxTokens:o,tokenCounter:i,textSplitter:u,partialStrategy:t,endOn:r}=n;let a=[...e],s=0;for(let l=0;l<a.length;l+=1){const f=l>0?a.slice(0,-l):a;if(await i(f)<=o){s=a.length-l;break}}if(s<a.length&&t){let l=!1;if(Array.isArray(a[s].content)){const f=a[s];if(typeof f.content=="string")throw new Error("Expected content to be an array.");const m=f.content.length,b=t==="last"?[...f.content].reverse():f.content;for(let _=1;_<=m;_+=1){const p=t==="first"?b.slice(0,_):b.slice(-_),y=Object.fromEntries(Object.entries(f).filter(([R])=>R!=="type"&&!R.startsWith("lc_"))),v=bM(f.getType(),{...y,content:p}),S=[...a.slice(0,s),v];if(await i(S)<=o)a=S,s+=1,l=!0;else break}l&&t==="last"&&(f.content=[...b].reverse())}if(!l){const f=a[s];let m;if(Array.isArray(f.content)&&f.content.some(b=>typeof b=="string"||b.type==="text")?m=f.content.find(_=>_.type==="text"&&_.text)?.text:typeof f.content=="string"&&(m=f.content),m){const b=await u(m),_=b.length;t==="last"&&b.reverse();for(let p=0;p<_-1;p+=1)if(b.pop(),f.content=b.join(""),await i([...a.slice(0,s),f])<=o){t==="last"&&(f.content=[...b].reverse().join("")),a=[...a.slice(0,s),f],s+=1;break}}}}if(r){const l=Array.isArray(r)?r:[r];for(;s>0&&!yb(a[s-1],l);)s-=1}return a.slice(0,s)}async function yse(e,n){const{allowPartial:o=!1,includeSystem:i=!1,endOn:u,startOn:t,...r}=n;let a=e.map(f=>{const m=Object.fromEntries(Object.entries(f).filter(([b])=>b!=="type"&&!b.startsWith("lc_")));return bM(f.getType(),m,ZT(f))});if(u){const f=Array.isArray(u)?u:[u];for(;a.length>0&&!yb(a[a.length-1],f);)a=a.slice(0,-1)}const s=i&&a[0]?.getType()==="system";let l=s?a.slice(0,1).concat(a.slice(1).reverse()):a.reverse();return l=await PH(l,{...r,partialStrategy:o?"last":void 0,endOn:t}),s?[l[0],...l.slice(1).reverse()]:l.reverse()}const Az={human:{message:Dt,messageChunk:u_},ai:{message:Or,messageChunk:zn},system:{message:ur,messageChunk:ed},developer:{message:ur,messageChunk:ed},tool:{message:sp,messageChunk:i_},function:{message:Pb,messageChunk:s_},generic:{message:nc,messageChunk:o_},remove:{message:db,messageChunk:db}};function bM(e,n,o){let i,u;switch(e){case"human":o?i=new u_(n):u=new Dt(n);break;case"ai":if(o){let t={...n};"tool_calls"in t&&(t={...t,tool_call_chunks:t.tool_calls?.map(r=>({...r,type:"tool_call_chunk",index:void 0,args:JSON.stringify(r.args)}))}),i=new zn(t)}else u=new Or(n);break;case"system":o?i=new ed(n):u=new ur(n);break;case"developer":o?i=new ed({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}}):u=new ur({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in n)o?i=new i_(n):u=new sp(n);else throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(o)i=new s_(n);else{if(!n.name)throw new Error("FunctionMessage must have a 'name' field");u=new Pb(n)}break;case"generic":if("role"in n)o?i=new o_(n):u=new nc(n);else throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw new Error(`Unrecognized message type ${e}`)}if(o&&i)return i;if(u)return u;throw new Error(`Unrecognized message type ${e}`)}function vse(e){const n=e.getType();let o;const i=Object.fromEntries(Object.entries(e).filter(([u])=>!["type","tool_call_chunks"].includes(u)&&!u.startsWith("lc_")));if(n in Az&&(o=bM(n,i)),!o)throw new Error(`Unrecognized message chunk class ${n}. Supported classes are ${Object.keys(Az)}`);return o}function AH(e){const n=e.split(`
`);return Promise.resolve([...n.slice(0,-1).map(o=>`${o}
`),n[n.length-1]])}const bse=["tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result"],wse=["image","video","audio","text-plain","file"],Ose=["text","reasoning",...bse,...wse];var Sse={};lt(Sse,{AIMessage:()=>Or,AIMessageChunk:()=>zn,BaseMessage:()=>In,BaseMessageChunk:()=>rd,ChatMessage:()=>nc,ChatMessageChunk:()=>o_,FunctionMessage:()=>Pb,FunctionMessageChunk:()=>s_,HumanMessage:()=>Dt,HumanMessageChunk:()=>u_,KNOWN_BLOCK_TYPES:()=>Ose,RemoveMessage:()=>db,SystemMessage:()=>ur,SystemMessageChunk:()=>ed,ToolMessage:()=>sp,ToolMessageChunk:()=>i_,_isMessageFieldWithRole:()=>vG,_mergeDicts:()=>Er,_mergeLists:()=>a_,_mergeObj:()=>_G,_mergeStatus:()=>mG,coerceMessageLikeToMessage:()=>Kc,collapseToolCallChunks:()=>TG,convertToChunk:()=>fb,convertToOpenAIImageBlock:()=>cG,convertToProviderContentBlock:()=>Ire,defaultTextSplitter:()=>AH,defaultToolCallParser:()=>QT,filterMessages:()=>gse,getBufferString:()=>tM,iife:()=>Mne,isAIMessage:()=>Hc,isAIMessageChunk:()=>W1,isBase64ContentBlock:()=>kT,isBaseMessage:()=>kl,isBaseMessageChunk:()=>ZT,isChatMessage:()=>hne,isChatMessageChunk:()=>pne,isDataContentBlock:()=>Xc,isDirectToolOutput:()=>bG,isFunctionMessage:()=>gne,isFunctionMessageChunk:()=>mne,isHumanMessage:()=>_ne,isHumanMessageChunk:()=>yne,isIDContentBlock:()=>lG,isMessage:()=>gG,isOpenAIToolCallArray:()=>lne,isPlainTextContentBlock:()=>Nre,isSystemMessage:()=>vne,isSystemMessageChunk:()=>bne,isToolMessage:()=>wG,isToolMessageChunk:()=>OG,isURLContentBlock:()=>KT,mapChatMessagesToStoredMessages:()=>Dne,mapStoredMessageToChatMessage:()=>rM,mapStoredMessagesToChatMessages:()=>Nne,mergeContent:()=>Xl,mergeMessageRuns:()=>mse,mergeResponseMetadata:()=>jG,mergeUsageMetadata:()=>eM,parseBase64DataUrl:()=>K1,parseMimeType:()=>Dre,trimMessages:()=>_se});var Ese={};lt(Ese,{BasePromptValue:()=>Bb,ChatPromptValue:()=>OM,ImagePromptValue:()=>NH,StringPromptValue:()=>wM});var Bb=class extends qf{},wM=class extends Bb{static lc_name(){return"StringPromptValue"}lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;value;constructor(e){super({value:e}),this.value=e}toString(){return this.value}toChatMessages(){return[new Dt(this.value)]}},OM=class extends Bb{lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;static lc_name(){return"ChatPromptValue"}messages;constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),this.messages=e.messages}toString(){return tM(this.messages)}toChatMessages(){return this.messages}},NH=class extends Bb{lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;static lc_name(){return"ImagePromptValue"}imageUrl;value;constructor(e){"imageUrl"in e||(e={imageUrl:e}),super(e),this.imageUrl=e.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new Dt({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},He="0123456789abcdef".split(""),Rse=[-2147483648,8388608,32768,128],Yn=[24,16,8,0],tv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],hr=[];function il(e,n){n?(hr[0]=hr[16]=hr[1]=hr[2]=hr[3]=hr[4]=hr[5]=hr[6]=hr[7]=hr[8]=hr[9]=hr[10]=hr[11]=hr[12]=hr[13]=hr[14]=hr[15]=0,this.blocks=hr):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}il.prototype.update=function(e){if(!this.finalized){var n,o=typeof e;if(o!=="string"){if(o==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);n=!0}for(var i,u=0,t,r=e.length,a=this.blocks;u<r;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,this.block=a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),n)for(t=this.start;u<r&&t<64;++u)a[t>>>2]|=e[u]<<Yn[t++&3];else for(t=this.start;u<r&&t<64;++u)i=e.charCodeAt(u),i<128?a[t>>>2]|=i<<Yn[t++&3]:i<2048?(a[t>>>2]|=(192|i>>>6)<<Yn[t++&3],a[t>>>2]|=(128|i&63)<<Yn[t++&3]):i<55296||i>=57344?(a[t>>>2]|=(224|i>>>12)<<Yn[t++&3],a[t>>>2]|=(128|i>>>6&63)<<Yn[t++&3],a[t>>>2]|=(128|i&63)<<Yn[t++&3]):(i=65536+((i&1023)<<10|e.charCodeAt(++u)&1023),a[t>>>2]|=(240|i>>>18)<<Yn[t++&3],a[t>>>2]|=(128|i>>>12&63)<<Yn[t++&3],a[t>>>2]|=(128|i>>>6&63)<<Yn[t++&3],a[t>>>2]|=(128|i&63)<<Yn[t++&3]);this.lastByteIndex=t,this.bytes+=t-this.start,t>=64?(this.block=a[16],this.start=t-64,this.hash(),this.hashed=!0):this.start=t}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};il.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,n=this.lastByteIndex;e[16]=this.block,e[n>>>2]|=Rse[n&3],this.block=e[16],n>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}};il.prototype.hash=function(){var e=this.h0,n=this.h1,o=this.h2,i=this.h3,u=this.h4,t=this.h5,r=this.h6,a=this.h7,s=this.blocks,l,f,m,b,_,p,y,v,S,R,j;for(l=16;l<64;++l)_=s[l-15],f=(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3,_=s[l-2],m=(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10,s[l]=s[l-16]+f+s[l-7]+m<<0;for(j=n&o,l=0;l<64;l+=4)this.first?(this.is224?(v=300032,_=s[0]-1413257819,a=_-150054599<<0,i=_+24177077<<0):(v=704751109,_=s[0]-210244248,a=_-1521486534<<0,i=_+143694565<<0),this.first=!1):(f=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),m=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),v=e&n,b=v^e&o^j,y=u&t^~u&r,_=a+m+y+tv[l]+s[l],p=f+b,a=i+_<<0,i=_+p<<0),f=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),m=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),S=i&e,b=S^i&n^v,y=r&a^~r&u,_=t+m+y+tv[l+1]+s[l+1],p=f+b,r=o+_<<0,o=_+p<<0,f=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),m=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),R=o&i,b=R^o&e^S,y=t&r^~t&a,_=u+m+y+tv[l+2]+s[l+2],p=f+b,t=n+_<<0,n=_+p<<0,f=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),m=(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),j=n&o,b=j^n&i^R,y=t&r^~t&a,_=u+m+y+tv[l+3]+s[l+3],p=f+b,u=e+_<<0,e=_+p<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+e<<0,this.h1=this.h1+n<<0,this.h2=this.h2+o<<0,this.h3=this.h3+i<<0,this.h4=this.h4+u<<0,this.h5=this.h5+t<<0,this.h6=this.h6+r<<0,this.h7=this.h7+a<<0};il.prototype.hex=function(){this.finalize();var e=this.h0,n=this.h1,o=this.h2,i=this.h3,u=this.h4,t=this.h5,r=this.h6,a=this.h7,s=He[e>>>28&15]+He[e>>>24&15]+He[e>>>20&15]+He[e>>>16&15]+He[e>>>12&15]+He[e>>>8&15]+He[e>>>4&15]+He[e&15]+He[n>>>28&15]+He[n>>>24&15]+He[n>>>20&15]+He[n>>>16&15]+He[n>>>12&15]+He[n>>>8&15]+He[n>>>4&15]+He[n&15]+He[o>>>28&15]+He[o>>>24&15]+He[o>>>20&15]+He[o>>>16&15]+He[o>>>12&15]+He[o>>>8&15]+He[o>>>4&15]+He[o&15]+He[i>>>28&15]+He[i>>>24&15]+He[i>>>20&15]+He[i>>>16&15]+He[i>>>12&15]+He[i>>>8&15]+He[i>>>4&15]+He[i&15]+He[u>>>28&15]+He[u>>>24&15]+He[u>>>20&15]+He[u>>>16&15]+He[u>>>12&15]+He[u>>>8&15]+He[u>>>4&15]+He[u&15]+He[t>>>28&15]+He[t>>>24&15]+He[t>>>20&15]+He[t>>>16&15]+He[t>>>12&15]+He[t>>>8&15]+He[t>>>4&15]+He[t&15]+He[r>>>28&15]+He[r>>>24&15]+He[r>>>20&15]+He[r>>>16&15]+He[r>>>12&15]+He[r>>>8&15]+He[r>>>4&15]+He[r&15];return this.is224||(s+=He[a>>>28&15]+He[a>>>24&15]+He[a>>>20&15]+He[a>>>16&15]+He[a>>>12&15]+He[a>>>8&15]+He[a>>>4&15]+He[a&15]),s};il.prototype.toString=il.prototype.hex;il.prototype.digest=function(){this.finalize();var e=this.h0,n=this.h1,o=this.h2,i=this.h3,u=this.h4,t=this.h5,r=this.h6,a=this.h7,s=[e>>>24&255,e>>>16&255,e>>>8&255,e&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255,o>>>24&255,o>>>16&255,o>>>8&255,o&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255];return this.is224||s.push(a>>>24&255,a>>>16&255,a>>>8&255,a&255),s};il.prototype.array=il.prototype.digest;il.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),n=new DataView(e);return n.setUint32(0,this.h0),n.setUint32(4,this.h1),n.setUint32(8,this.h2),n.setUint32(12,this.h3),n.setUint32(16,this.h4),n.setUint32(20,this.h5),n.setUint32(24,this.h6),this.is224||n.setUint32(28,this.h7),e};const DH=(...e)=>new il(!1,!0).update(e.join("")).hex();var jse={};lt(jse,{sha256:()=>DH});var Cse={};lt(Cse,{BaseCache:()=>zH,InMemoryCache:()=>qH,defaultHashKeyEncoder:()=>IH,deserializeStoredGeneration:()=>Tse,serializeGeneration:()=>Mse});const IH=(...e)=>DH(e.join("_"));function Tse(e){return e.message!==void 0?{text:e.text,message:rM(e.message)}:{text:e.text}}function Mse(e){const n={text:e.text};return e.message!==void 0&&(n.message=e.message.toDict()),n}var zH=class{keyEncoder=IH;makeDefaultKeyEncoder(e){this.keyEncoder=e}};const xse=new Map;var qH=class BH extends zH{cache;constructor(n){super(),this.cache=n??new Map}lookup(n,o){return Promise.resolve(this.cache.get(this.keyEncoder(n,o))??null)}async update(n,o,i){this.cache.set(this.keyEncoder(n,o),i)}static global(){return new BH(xse)}},sg={},Nz;function UH(){if(Nz)return sg;Nz=1,sg.byteLength=a,sg.toByteArray=l,sg.fromByteArray=b;for(var e=[],n=[],o=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,t=i.length;u<t;++u)e[u]=i[u],n[i.charCodeAt(u)]=u;n[45]=62,n[95]=63;function r(_){var p=_.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=_.indexOf("=");y===-1&&(y=p);var v=y===p?0:4-y%4;return[y,v]}function a(_){var p=r(_),y=p[0],v=p[1];return(y+v)*3/4-v}function s(_,p,y){return(p+y)*3/4-y}function l(_){var p,y=r(_),v=y[0],S=y[1],R=new o(s(_,v,S)),j=0,P=S>0?v-4:v,T;for(T=0;T<P;T+=4)p=n[_.charCodeAt(T)]<<18|n[_.charCodeAt(T+1)]<<12|n[_.charCodeAt(T+2)]<<6|n[_.charCodeAt(T+3)],R[j++]=p>>16&255,R[j++]=p>>8&255,R[j++]=p&255;return S===2&&(p=n[_.charCodeAt(T)]<<2|n[_.charCodeAt(T+1)]>>4,R[j++]=p&255),S===1&&(p=n[_.charCodeAt(T)]<<10|n[_.charCodeAt(T+1)]<<4|n[_.charCodeAt(T+2)]>>2,R[j++]=p>>8&255,R[j++]=p&255),R}function f(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function m(_,p,y){for(var v,S=[],R=p;R<y;R+=3)v=(_[R]<<16&16711680)+(_[R+1]<<8&65280)+(_[R+2]&255),S.push(f(v));return S.join("")}function b(_){for(var p,y=_.length,v=y%3,S=[],R=16383,j=0,P=y-v;j<P;j+=R)S.push(m(_,j,j+R>P?P:j+R));return v===1?(p=_[y-1],S.push(e[p>>2]+e[p<<4&63]+"==")):v===2&&(p=(_[y-2]<<8)+_[y-1],S.push(e[p>>10]+e[p>>4&63]+e[p<<2&63]+"=")),S.join("")}return sg}var Pse=UH();const Ase=r_(Pse);var Nse=Object.defineProperty,Dse=(e,n,o)=>n in e?Nse(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,Ise=(e,n,o)=>(Dse(e,n+"",o),o);function zse(e,n){let o=Array.from({length:e.length},(i,u)=>({start:u,end:u+1}));for(;o.length>1;){let i=null;for(let u=0;u<o.length-1;u++){const t=e.slice(o[u].start,o[u+1].end),r=n.get(t.join(","));r!=null&&(i==null||r<i[0])&&(i=[r,u])}if(i!=null){const u=i[1];o[u]={start:o[u].start,end:o[u+1].end},o.splice(u+1,1)}else break}return o}function qse(e,n){return e.length===1?[n.get(e.join(","))]:zse(e,n).map(o=>n.get(e.slice(o.start,o.end).join(","))).filter(o=>o!=null)}function Bse(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var pT=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,n){this.patStr=e.pat_str;const o=e.bpe_ranks.split(`
`).filter(Boolean).reduce((i,u)=>{const[t,r,...a]=u.split(" "),s=Number.parseInt(r,10);return a.forEach((l,f)=>i[l]=s+f),i},{});for(const[i,u]of Object.entries(o)){const t=Ase.toByteArray(i);this.rankMap.set(t.join(","),u),this.textMap.set(u,t)}this.specialTokens={...e.special_tokens,...n},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((i,[u,t])=>(i[t]=this.textEncoder.encode(u),i),{})}encode(e,n=[],o="all"){const i=new RegExp(this.patStr,"ug"),u=pT.specialTokenRegex(Object.keys(this.specialTokens)),t=[],r=new Set(n==="all"?Object.keys(this.specialTokens):n),a=new Set(o==="all"?Object.keys(this.specialTokens).filter(l=>!r.has(l)):o);if(a.size>0){const l=pT.specialTokenRegex([...a]),f=e.match(l);if(f!=null)throw new Error(`The text contains a special token that is not allowed: ${f[0]}`)}let s=0;for(;;){let l=null,f=s;for(;u.lastIndex=f,l=u.exec(e),!(l==null||r.has(l[0]));)f=l.index+1;const m=l?.index??e.length;for(const _ of e.substring(s,m).matchAll(i)){const p=this.textEncoder.encode(_[0]),y=this.rankMap.get(p.join(","));if(y!=null){t.push(y);continue}t.push(...qse(p,this.rankMap))}if(l==null)break;let b=this.specialTokens[l[0]];t.push(b),s=l.index+l[0].length}return t}decode(e){const n=[];let o=0;for(let t=0;t<e.length;++t){const r=e[t],a=this.textMap.get(r)??this.inverseSpecialTokens[r];a!=null&&(n.push(a),o+=a.length)}const i=new Uint8Array(o);let u=0;for(const t of n)i.set(t,u),u+=t.length;return this.textDecoder.decode(i)}},LH=pT;Ise(LH,"specialTokenRegex",e=>new RegExp(e.map(n=>Bse(n)).join("|"),"g"));function Use(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}var Lse={};lt(Lse,{encodingForModel:()=>SM,getEncoding:()=>$H});const rv={},$se=new f_({});async function $H(e){return e in rv||(rv[e]=$se.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then(n=>n.json()).then(n=>new LH(n)).catch(n=>{throw delete rv[e],n})),await rv[e]}async function SM(e){return $H(Use(e))}var Fse={};lt(Fse,{BaseLangChain:()=>GH,BaseLanguageModel:()=>EM,calculateMaxTokens:()=>Gse,getEmbeddingContextSize:()=>Vse,getModelContextSize:()=>FH,getModelNameForTiktoken:()=>Ub,isOpenAITool:()=>VH});const Ub=e=>e.startsWith("gpt-5")?"gpt-5":e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e,Vse=e=>e==="text-embedding-ada-002"?8191:2046,FH=e=>{switch(Ub(e)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":return 128e3;case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"code-cushman-001":return 2048;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6;case"gemini-pro":case"gemini-pro-vision":return 32768;default:return 4097}};function VH(e){return typeof e!="object"||!e?!1:!!("type"in e&&e.type==="function"&&"function"in e&&typeof e.function=="object"&&e.function&&"name"in e.function&&"parameters"in e.function)}const Gse=async({prompt:e,modelName:n})=>{let o;try{o=(await SM(Ub(n))).encode(e).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),o=Math.ceil(e.length/4)}return FH(n)-o},Hse=()=>!1;var GH=class extends zt{verbose;callbacks;tags;metadata;get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),this.verbose=e.verbose??Hse(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}},EM=class extends GH{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}caller;cache;constructor({callbacks:e,callbackManager:n,...o}){const{cache:i,...u}=o;super({callbacks:e??n,...u}),typeof i=="object"?this.cache=i:i?this.cache=qH.global():this.cache=void 0,this.caller=new f_(o??{})}_encoding;async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let o=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await SM("modelName"in this?Ub(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{o=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return o}static _convertInputToPromptValue(e){return typeof e=="string"?new wM(e):Array.isArray(e)?new OM(e.map(Kc)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const o={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(o).filter(([t,r])=>r!==void 0).map(([t,r])=>`${t}:${JSON.stringify(r)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}get profile(){return{}}},rp=class extends zt{static lc_name(){return"RunnablePassthrough"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;func;constructor(e){super(e),e&&(this.func=e.func)}async invoke(e,n){const o=Ot(n);return this.func&&await this.func(e,o),this._callWithConfig(i=>Promise.resolve(i),e,o)}async*transform(e,n){const o=Ot(n);let i,u=!0;for await(const t of this._transformStreamWithConfig(e,r=>r,o))if(yield t,u)if(i===void 0)i=t;else try{i=td(i,t)}catch{i=void 0,u=!1}this.func&&i!==void 0&&await this.func(i,o)}static assign(e){return new vM(new cp({steps:e}))}};const Kse=e=>e();function VS(e){const n=e.constructor;return new n({...e,content:e.contentBlocks,response_metadata:{...e.response_metadata,output_version:"v1"}})}var kse={};lt(kse,{BaseChatModel:()=>Lb,SimpleChatModel:()=>Yse});function GS(e){const n=[];for(const o of e){let i=o;if(Array.isArray(o.content))for(let u=0;u<o.content.length;u++){const t=o.content[u];(KT(t)||kT(t))&&i===o&&(i=new o.constructor({...i,content:[...o.content.slice(0,u),cG(t),...o.content.slice(u+1)]}))}n.push(i)}return n}var Lb=class xf extends EM{lc_namespace=["langchain","chat_models",this._llmType()];disableStreaming=!1;outputVersion;get callKeys(){return[...super.callKeys,"outputVersion"]}constructor(n){super(n),this.outputVersion=Kse(()=>{const o=n.outputVersion??bl("LC_OUTPUT_VERSION");return o&&["v0","v1"].includes(o)?o:"v0"})}_separateRunnableConfigFromCallOptionsCompat(n){const[o,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=o.signal,[o,i]}async invoke(n,o){const i=xf._convertInputToPromptValue(n);return(await this.generatePrompt([i],o,o?.callbacks)).generations[0][0].message}async*_streamResponseChunks(n,o,i){throw new Error("Not implemented.")}async*_streamIterator(n,o){if(this._streamResponseChunks===xf.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(n,o);else{const u=xf._convertInputToPromptValue(n).toChatMessages(),[t,r]=this._separateRunnableConfigFromCallOptionsCompat(o),a={...t.metadata,...this.getLsParams(r)},s=await Kr.configure(t.callbacks,this.callbacks,t.tags,this.tags,a,this.metadata,{verbose:this.verbose}),l={options:r,invocation_params:this?.invocationParams(r),batch_size:1},f=r.outputVersion??this.outputVersion,m=await s?.handleChatModelStart(this.toJSON(),[GS(u)],t.runId,void 0,l,void 0,void 0,t.runName);let b,_;try{for await(const p of this._streamResponseChunks(u,r,m?.[0])){if(p.message.id==null){const y=m?.at(0)?.runId;y!=null&&p.message._updateId(`run-${y}`)}p.message.response_metadata={...p.generationInfo,...p.message.response_metadata},f==="v1"?yield VS(p.message):yield p.message,b?b=b.concat(p):b=p,W1(p.message)&&p.message.usage_metadata!==void 0&&(_={tokenUsage:{promptTokens:p.message.usage_metadata.input_tokens,completionTokens:p.message.usage_metadata.output_tokens,totalTokens:p.message.usage_metadata.total_tokens}})}}catch(p){throw await Promise.all((m??[]).map(y=>y?.handleLLMError(p))),p}await Promise.all((m??[]).map(p=>p?.handleLLMEnd({generations:[[b]],llmOutput:_})))}}getLsParams(n){const o=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:n.stop,ls_provider:o}}async _generateUncached(n,o,i,u){const t=n.map(b=>b.map(Kc));let r;if(u!==void 0&&u.length===t.length)r=u;else{const b={...i.metadata,...this.getLsParams(o)},_=await Kr.configure(i.callbacks,this.callbacks,i.tags,this.tags,b,this.metadata,{verbose:this.verbose}),p={options:o,invocation_params:this?.invocationParams(o),batch_size:1};r=await _?.handleChatModelStart(this.toJSON(),t.map(GS),i.runId,void 0,p,void 0,void 0,i.runName)}const a=o.outputVersion??this.outputVersion,s=[],l=[];if(!!r?.[0].handlers.find(aM)&&!this.disableStreaming&&t.length===1&&this._streamResponseChunks!==xf.prototype._streamResponseChunks)try{const b=await this._streamResponseChunks(t[0],o,r?.[0]);let _,p;for await(const y of b){if(y.message.id==null){const v=r?.at(0)?.runId;v!=null&&y.message._updateId(`run-${v}`)}_===void 0?_=y:_=td(_,y),W1(y.message)&&y.message.usage_metadata!==void 0&&(p={tokenUsage:{promptTokens:y.message.usage_metadata.input_tokens,completionTokens:y.message.usage_metadata.output_tokens,totalTokens:y.message.usage_metadata.total_tokens}})}if(_===void 0)throw new Error("Received empty response from chat model call.");s.push([_]),await r?.[0].handleLLMEnd({generations:s,llmOutput:p})}catch(b){throw await r?.[0].handleLLMError(b),b}else{const b=await Promise.allSettled(t.map(async(_,p)=>{const y=await this._generate(_,{...o,promptIndex:p},r?.[p]);if(a==="v1")for(const v of y.generations)v.message=VS(v.message);return y}));await Promise.all(b.map(async(_,p)=>{if(_.status==="fulfilled"){const y=_.value;for(const v of y.generations){if(v.message.id==null){const S=r?.at(0)?.runId;S!=null&&v.message._updateId(`run-${S}`)}v.message.response_metadata={...v.generationInfo,...v.message.response_metadata}}return y.generations.length===1&&(y.generations[0].message.response_metadata={...y.llmOutput,...y.generations[0].message.response_metadata}),s[p]=y.generations,l[p]=y.llmOutput,r?.[p]?.handleLLMEnd({generations:[y.generations],llmOutput:y.llmOutput})}else return await r?.[p]?.handleLLMError(_.reason),Promise.reject(_.reason)}))}const m={generations:s,llmOutput:l.length?this._combineLLMOutput?.(...l):void 0};return Object.defineProperty(m,km,{value:r?{runIds:r?.map(b=>b.runId)}:void 0,configurable:!0}),m}async _generateCached({messages:n,cache:o,llmStringKey:i,parsedOptions:u,handledOptions:t}){const r=n.map(S=>S.map(Kc)),a={...t.metadata,...this.getLsParams(u)},s=await Kr.configure(t.callbacks,this.callbacks,t.tags,this.tags,a,this.metadata,{verbose:this.verbose}),l={options:u,invocation_params:this?.invocationParams(u),batch_size:1},f=await s?.handleChatModelStart(this.toJSON(),r.map(GS),t.runId,void 0,l,void 0,void 0,t.runName),m=[],_=(await Promise.allSettled(r.map(async(S,R)=>{const j=xf._convertInputToPromptValue(S).toString(),P=await o.lookup(j,i);return P==null&&m.push(R),P}))).map((S,R)=>({result:S,runManager:f?.[R]})).filter(({result:S})=>S.status==="fulfilled"&&S.value!=null||S.status==="rejected"),p=u.outputVersion??this.outputVersion,y=[];await Promise.all(_.map(async({result:S,runManager:R},j)=>{if(S.status==="fulfilled"){const P=S.value;return y[j]=P.map(T=>("message"in T&&kl(T.message)&&Hc(T.message)&&(T.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},p==="v1"&&(T.message=VS(T.message))),T.generationInfo={...T.generationInfo,tokenUsage:{}},T)),P.length&&await R?.handleLLMNewToken(P[0].text),R?.handleLLMEnd({generations:[P]},void 0,void 0,void 0,{cached:!0})}else return await R?.handleLLMError(S.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(S.reason)}));const v={generations:y,missingPromptIndices:m,startedRunManagers:f};return Object.defineProperty(v,km,{value:f?{runIds:f?.map(S=>S.runId)}:void 0,configurable:!0}),v}async generate(n,o,i){let u;Array.isArray(o)?u={stop:o}:u=o;const t=n.map(p=>p.map(Kc)),[r,a]=this._separateRunnableConfigFromCallOptionsCompat(u);if(r.callbacks=r.callbacks??i,!this.cache)return this._generateUncached(t,a,r);const{cache:s}=this,l=this._getSerializedCacheKeyParametersForCall(a),{generations:f,missingPromptIndices:m,startedRunManagers:b}=await this._generateCached({messages:t,cache:s,llmStringKey:l,parsedOptions:a,handledOptions:r});let _={};if(m.length>0){const p=await this._generateUncached(m.map(y=>t[y]),a,r,b!==void 0?m.map(y=>b?.[y]):void 0);await Promise.all(p.generations.map(async(y,v)=>{const S=m[v];f[S]=y;const R=xf._convertInputToPromptValue(t[S]).toString();return s.update(R,l,y)})),_=p.llmOutput??{}}return{generations:f,llmOutput:_}}invocationParams(n){return{}}_modelType(){return"base_chat_model"}async generatePrompt(n,o,i){const u=n.map(t=>t.toChatMessages());return this.generate(u,o,i)}withStructuredOutput(n,o){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(o?.strict)throw new Error('"strict" mode is not supported for this model by default.');const i=n,u=o?.name,t=$T(i)??"A function available to call.",r=o?.method,a=o?.includeRaw;if(r==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let s=u??"extract",l;Jc(i)?l=[{type:"function",function:{name:s,description:t,parameters:Ql(i)}}]:("name"in i&&(s=i.name),l=[{type:"function",function:{name:s,description:t,parameters:i}}]);const f=this.bindTools(l),m=nd.from(y=>{if(!zn.isInstance(y))throw new Error("Input is not an AIMessageChunk.");if(!y.tool_calls||y.tool_calls.length===0)throw new Error("No tool calls found in the response.");const v=y.tool_calls.find(S=>S.name===s);if(!v)throw new Error(`No tool call found with name ${s}.`);return v.args});if(!a)return f.pipe(m).withConfig({runName:"StructuredOutput"});const b=rp.assign({parsed:(y,v)=>m.invoke(y.raw,v)}),_=rp.assign({parsed:()=>null}),p=b.withFallbacks({fallbacks:[_]});return h_.from([{raw:f},p]).withConfig({runName:"StructuredOutputRunnable"})}},Yse=class extends Lb{async _generate(e,n,o){const i=await this._call(e,n,o),u=new Or(i);if(typeof u.content!="string")throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:u.content,message:u}]}}},Wse={};lt(Wse,{extendInteropZodObject:()=>Bee,getInteropZodDefaultGetter:()=>Lee,getInteropZodObjectShape:()=>B1,getSchemaDescription:()=>$T,interopParse:()=>Iee,interopParseAsync:()=>LT,interopSafeParse:()=>Dee,interopSafeParseAsync:()=>kV,interopZodObjectMakeFieldsOptional:()=>Vee,interopZodObjectPartial:()=>Uee,interopZodObjectPassthrough:()=>U1,interopZodObjectStrict:()=>ab,interopZodTransformInputSchema:()=>ZV,isInteropZodError:()=>Gee,isInteropZodLiteral:()=>Nee,isInteropZodObject:()=>qee,isInteropZodSchema:()=>Jc,isShapelessZodSchema:()=>zee,isSimpleStringZodSchema:()=>YV,isZodArrayV4:()=>Tb,isZodLiteralV3:()=>HV,isZodLiteralV4:()=>KV,isZodNullableV4:()=>JV,isZodObjectV3:()=>FT,isZodObjectV4:()=>_l,isZodOptionalV4:()=>WV,isZodSchema:()=>Aee,isZodSchemaV3:()=>lr,isZodSchemaV4:()=>Gt});const Fh="0.19.0";let Dz=!1,qm,HH,KH,gT,kH,YH,WH,JH,ZH;function Jse(e,n={auto:!1}){if(Dz)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(qm)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${qm}'\``);Dz=n.auto,qm=e.kind,HH=e.fetch,KH=e.FormData,gT=e.File,kH=e.ReadableStream,YH=e.getMultipartRequestOptions,WH=e.getDefaultAgent,JH=e.fileFromPath,ZH=e.isFsReadStream}class Zse{constructor(n){this.body=n}get[Symbol.toStringTag](){return"MultipartBody"}}function Qse({manuallyImported:e}={}){const n=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let o,i,u,t;try{o=fetch,i=Request,u=Response,t=Headers}catch(r){throw new Error(`this environment is missing the following Web Fetch API type: ${r.message}. ${n}`)}return{kind:"web",fetch:o,Request:i,Response:u,Headers:t,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${n}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${n}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${n}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${n}`)}},getMultipartRequestOptions:async(r,a)=>({...a,body:new Zse(r)}),getDefaultAgent:r=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:r=>!1}}const QH=()=>{qm||Jse(Qse(),{auto:!0})};QH();class nl extends Error{}class Rr extends nl{constructor(n,o,i,u){super(`${Rr.makeMessage(n,o,i)}`),this.status=n,this.headers=u,this.error=o}static makeMessage(n,o,i){const u=o?.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):i;return n&&u?`${n} ${u}`:n?`${n} status code (no body)`:u||"(no status code or body)"}static generate(n,o,i,u){if(!n||!u)return new $b({message:i,cause:yT(o)});const t=o;return n===400?new e7(n,t,i,u):n===401?new t7(n,t,i,u):n===403?new r7(n,t,i,u):n===404?new n7(n,t,i,u):n===409?new a7(n,t,i,u):n===422?new i7(n,t,i,u):n===429?new o7(n,t,i,u):n>=500?new s7(n,t,i,u):new Rr(n,t,i,u)}}class mT extends Rr{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class $b extends Rr{constructor({message:n,cause:o}){super(void 0,void 0,n||"Connection error.",void 0),o&&(this.cause=o)}}class XH extends $b{constructor({message:n}={}){super({message:n??"Request timed out."})}}let e7=class extends Rr{};class t7 extends Rr{}class r7 extends Rr{}let n7=class extends Rr{};class a7 extends Rr{}let i7=class extends Rr{};class o7 extends Rr{}let s7=class extends Rr{},Xse=class Mm{constructor(n,o){this.iterator=n,this.controller=o}static fromSSEResponse(n,o){let i=!1;const u=new eue;async function*t(){if(!n.body)throw o.abort(),new nl("Attempted to iterate over a response with no body");const a=new Lf,s=Iz(n.body);for await(const l of s)for(const f of a.decode(l)){const m=u.decode(f);m&&(yield m)}for(const l of a.flush()){const f=u.decode(l);f&&(yield f)}}async function*r(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const s of t())if(!a){if(s.data.startsWith("[DONE]")){a=!0;continue}if(s.event===null||s.event==="error"){let l;try{l=JSON.parse(s.data)}catch(f){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),f}if(l&&l.error)throw new Rr(l.error.status_code,l.error,l.error.message,void 0);yield l}}a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||o.abort()}}return new Mm(r,o)}static fromReadableStream(n,o){let i=!1;async function*u(){const r=new Lf,a=Iz(n);for await(const s of a)for(const l of r.decode(s))yield l;for(const s of r.flush())yield s}async function*t(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let r=!1;try{for await(const a of u())r||a&&(yield JSON.parse(a));r=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{r||o.abort()}}return new Mm(t,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],o=[],i=this.iterator(),u=t=>({next:()=>{if(t.length===0){const r=i.next();n.push(r),o.push(r)}return t.shift()}});return[new Mm(()=>u(n),this.controller),new Mm(()=>u(o),this.controller)]}toReadableStream(){const n=this;let o;const i=new TextEncoder;return new kH({async start(){o=n[Symbol.asyncIterator]()},async pull(u){try{const{value:t,done:r}=await o.next();if(r)return u.close();const a=i.encode(JSON.stringify(t)+`
`);u.enqueue(a)}catch(t){u.error(t)}},async cancel(){await o.return?.()}})}};class eue{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const t={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],t}if(this.chunks.push(n),n.startsWith(":"))return null;let[o,i,u]=tue(n,":");return u.startsWith(" ")&&(u=u.substring(1)),o==="event"?this.event=u:o==="data"&&this.data.push(u),null}}class Lf{constructor(){this.buffer=[],this.trailingCR=!1}decode(n){let o=this.decodeText(n);if(this.trailingCR&&(o="\r"+o,this.trailingCR=!1),o.endsWith("\r")&&(this.trailingCR=!0,o=o.slice(0,-1)),!o)return[];const i=Lf.NEWLINE_CHARS.has(o[o.length-1]||"");let u=o.split(Lf.NEWLINE_REGEXP);return u.length===1&&!i?(this.buffer.push(u[0]),[]):(this.buffer.length>0&&(u=[this.buffer.join("")+u[0],...u.slice(1)],this.buffer=[]),i||(this.buffer=[u.pop()||""]),u)}decodeText(n){if(n==null)return"";if(typeof n=="string")return n;if(typeof Buffer<"u"){if(n instanceof Buffer)return n.toString();if(n instanceof Uint8Array)return Buffer.from(n).toString();throw new nl(`Unexpected: received non-Uint8Array (${n.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(n instanceof Uint8Array||n instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(n);throw new nl(`Unexpected: received non-Uint8Array/ArrayBuffer (${n.constructor.name}) in a web platform. Please report this error.`)}throw new nl("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const n=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,n}}Lf.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Lf.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function tue(e,n){const o=e.indexOf(n);return o!==-1?[e.substring(0,o),n,e.substring(o+n.length)]:[e,"",""]}function Iz(e){if(e[Symbol.asyncIterator])return e;const n=e.getReader();return{async next(){try{const o=await n.read();return o?.done&&n.releaseLock(),o}catch(o){throw n.releaseLock(),o}},async return(){const o=n.cancel();return n.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const u7=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",l7=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Fb(e),Fb=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",rue=e=>l7(e)||u7(e)||ZH(e);async function c7(e,n,o){if(e=await e,l7(e))return e;if(u7(e)){const u=await e.blob();n||(n=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const t=Fb(u)?[await u.arrayBuffer()]:[u];return new gT(t,n,o)}const i=await nue(e);if(n||(n=iue(e)??"unknown_file"),!o?.type){const u=i[0]?.type;typeof u=="string"&&(o={...o,type:u})}return new gT(i,n,o)}async function nue(e){let n=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)n.push(e);else if(Fb(e))n.push(await e.arrayBuffer());else if(oue(e))for await(const o of e)n.push(o);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${aue(e)}`);return n}function aue(e){return`[${Object.getOwnPropertyNames(e).map(o=>`"${o}"`).join(", ")}]`}function iue(e){return HS(e.name)||HS(e.filename)||HS(e.path)?.split(/[\\/]/).pop()}const HS=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},oue=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",zz=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",RM=async e=>{const n=await sue(e.body);return YH(n,e)},sue=async e=>{const n=new KH;return await Promise.all(Object.entries(e||{}).map(([o,i])=>_T(n,o,i))),n},_T=async(e,n,o)=>{if(o!==void 0){if(o==null)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")e.append(n,String(o));else if(rue(o)){const i=await c7(o);e.append(n,i)}else if(Array.isArray(o))await Promise.all(o.map(i=>_T(e,n+"[]",i)));else if(typeof o=="object")await Promise.all(Object.entries(o).map(([i,u])=>_T(e,`${n}[${i}]`,u)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${o} instead`)}};var d7={};QH();async function f7(e){const{response:n}=e;if(e.options.stream)return Yh("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):Xse.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const i=n.headers.get("content-type")?.split(";")[0]?.trim();if(i?.includes("application/json")||i?.endsWith("+json")){const r=await n.json();return Yh("response",n.status,n.url,n.headers,r),r}const t=await n.text();return Yh("response",n.status,n.url,n.headers,t),t}class Vb extends Promise{constructor(n,o=f7){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=o}_thenUnwrap(n){return new Vb(this.responsePromise,async o=>n(await this.parseResponse(o),o))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(n,o){return this.parse().then(n,o)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}class uue{constructor({baseURL:n,maxRetries:o=2,timeout:i=6e4,httpAgent:u,fetch:t}){this.baseURL=n,this.maxRetries=KS("maxRetries",o),this.timeout=KS("timeout",i),this.httpAgent=u,this.fetch=t??HH}authHeaders(n){return{}}defaultHeaders(n){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...hue(),...this.authHeaders(n)}}validateHeaders(n,o){}defaultIdempotencyKey(){return`stainless-node-retry-${bue()}`}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,i){return this.request(Promise.resolve(i).then(async u=>{const t=u&&Fb(u?.body)?new DataView(await u.body.arrayBuffer()):u?.body instanceof DataView?u.body:u?.body instanceof ArrayBuffer?new DataView(u.body):u&&ArrayBuffer.isView(u?.body)?new DataView(u.body.buffer):u?.body;return{method:n,path:o,...u,body:t}}))}getAPIList(n,o,i){return this.requestAPIList(o,{method:"get",path:n,...i})}calculateContentLength(n){if(typeof n=="string"){if(typeof Buffer<"u")return Buffer.byteLength(n,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(n).length.toString()}else if(ArrayBuffer.isView(n))return n.byteLength.toString();return null}buildRequest(n,{retryCount:o=0}={}){n={...n};const{method:i,path:u,query:t,headers:r={}}=n,a=ArrayBuffer.isView(n.body)||n.__binaryRequest&&typeof n.body=="string"?n.body:zz(n.body)?n.body.body:n.body?JSON.stringify(n.body,null,2):null,s=this.calculateContentLength(a),l=this.buildURL(u,t);"timeout"in n&&KS("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const f=n.httpAgent??this.httpAgent??WH(l),m=n.timeout+1e3;typeof f?.options?.timeout=="number"&&m>(f.options.timeout??0)&&(f.options.timeout=m),this.idempotencyHeader&&i!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=n.idempotencyKey);const b=this.buildHeaders({options:n,headers:r,contentLength:s,retryCount:o});return{req:{method:i,...a&&{body:a},headers:b,...f&&{agent:f},signal:n.signal??null},url:l,timeout:n.timeout}}buildHeaders({options:n,headers:o,contentLength:i,retryCount:u}){const t={};i&&(t["content-length"]=i);const r=this.defaultHeaders(n);return $z(t,r),$z(t,o),zz(n.body)&&qm!=="node"&&delete t["content-type"],nv(r,"x-stainless-retry-count")===void 0&&nv(o,"x-stainless-retry-count")===void 0&&(t["x-stainless-retry-count"]=String(u)),nv(r,"x-stainless-timeout")===void 0&&nv(o,"x-stainless-timeout")===void 0&&n.timeout&&(t["x-stainless-timeout"]=String(n.timeout)),this.validateHeaders(t,o),t}async prepareOptions(n){}async prepareRequest(n,{url:o,options:i}){}parseHeaders(n){return n?Symbol.iterator in n?Object.fromEntries(Array.from(n).map(o=>[...o])):{...n}:{}}makeStatusError(n,o,i,u){return Rr.generate(n,o,i,u)}request(n,o=null){return new Vb(this.makeRequest(n,o))}async makeRequest(n,o){const i=await n,u=i.maxRetries??this.maxRetries;o==null&&(o=u),await this.prepareOptions(i);const{req:t,url:r,timeout:a}=this.buildRequest(i,{retryCount:u-o});if(await this.prepareRequest(t,{url:r,options:i}),Yh("request",r,i,t.headers),i.signal?.aborted)throw new mT;const s=new AbortController,l=await this.fetchWithTimeout(r,t,a,s).catch(yT);if(l instanceof Error){if(i.signal?.aborted)throw new mT;if(o)return this.retryRequest(i,o);throw l.name==="AbortError"?new XH:new $b({cause:l})}const f=cue(l.headers);if(!l.ok){if(o&&this.shouldRetry(l)){const v=`retrying, ${o} attempts remaining`;return Yh(`response (error; ${v})`,l.status,r,f),this.retryRequest(i,o,f)}const m=await l.text().catch(v=>yT(v).message),b=pue(m),_=b?void 0:m;throw Yh(`response (error; ${o?"(error; no more retries left)":"(error; not retryable)"})`,l.status,r,f,_),this.makeStatusError(l.status,b,_,f)}return{response:l,options:i,controller:s}}requestAPIList(n,o){const i=this.makeRequest(o,null);return new lue(this,i,n)}buildURL(n,o){const i=mue(n)?new URL(n):new URL(this.baseURL+(this.baseURL.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),u=this.defaultQuery();return yue(u)||(o={...u,...o}),typeof o=="object"&&o&&!Array.isArray(o)&&(i.search=this.stringifyQuery(o)),i.toString()}stringifyQuery(n){return Object.entries(n).filter(([o,i])=>typeof i<"u").map(([o,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(o)}=`;throw new nl(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(n,o,i,u){const{signal:t,...r}=o||{};t&&t.addEventListener("abort",()=>u.abort());const a=setTimeout(()=>u.abort(),i),s={signal:u.signal,...r};return s.method&&(s.method=s.method.toUpperCase()),this.fetch.call(void 0,n,s).finally(()=>{clearTimeout(a)})}shouldRetry(n){const o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,i){let u;const t=i?.["retry-after-ms"];if(t){const a=parseFloat(t);Number.isNaN(a)||(u=a)}const r=i?.["retry-after"];if(r&&!u){const a=parseFloat(r);Number.isNaN(a)?u=Date.parse(r)-Date.now():u=a*1e3}if(!(u&&0<=u&&u<60*1e3)){const a=n.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(o,a)}return await _ue(u),this.makeRequest(n,o-1)}calculateDefaultRetryTimeoutMillis(n,o){const t=o-n,r=Math.min(.5*Math.pow(2,t),8),a=1-Math.random()*.25;return r*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Fh}`}}class lue extends Vb{constructor(n,o,i){super(o,async u=>new i(n,u.response,await f7(u),u.options))}async*[Symbol.asyncIterator](){const n=await this;for await(const o of n)yield o}}const cue=e=>new Proxy(Object.fromEntries(e.entries()),{get(n,o){const i=o.toString();return n[i.toLowerCase()]||n[i]}}),due=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fh,"X-Stainless-OS":Bz(Deno.build.os),"X-Stainless-Arch":qz(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fh,"X-Stainless-OS":Bz(process.platform),"X-Stainless-Arch":qz(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=fue();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fue(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:o}of e){const i=o.exec(navigator.userAgent);if(i){const u=i[1]||0,t=i[2]||0,r=i[3]||0;return{browser:n,version:`${u}.${t}.${r}`}}}return null}const qz=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Bz=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Uz;const hue=()=>Uz??(Uz=due()),pue=e=>{try{return JSON.parse(e)}catch{return}},gue=/^[a-z][a-z0-9+.-]*:/i,mue=e=>gue.test(e),_ue=e=>new Promise(n=>setTimeout(n,e)),KS=(e,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new nl(`${e} must be an integer`);if(n<0)throw new nl(`${e} must be a positive integer`);return n},yT=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Lz=e=>{if(typeof process<"u")return d7?.[e]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(e)?.trim()};function yue(e){if(!e)return!0;for(const n in e)return!1;return!0}function vue(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function $z(e,n){for(const o in n){if(!vue(n,o))continue;const i=o.toLowerCase();if(!i)continue;const u=n[o];u===null?delete e[i]:u!==void 0&&(e[i]=u)}}function Yh(e,...n){typeof process<"u"&&d7?.DEBUG==="true"&&console.log(`Groq:DEBUG:${e}`,...n)}const bue=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)}),wue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Oue=e=>typeof e?.get=="function",nv=(e,n)=>{const o=n.toLowerCase();if(Oue(e)){const i=n[0]?.toUpperCase()+n.substring(1).replace(/([^\w])(\w)/g,(u,t,r)=>t+r.toUpperCase());for(const u of[n,o,n.toUpperCase(),i]){const t=e.get(u);if(t)return t}}for(const[i,u]of Object.entries(e))if(i.toLowerCase()===o)return Array.isArray(u)?(u.length<=1||console.warn(`Received ${u.length} entries for the ${n} header, using the first entry.`),u[0]):u};class ul{constructor(n){this._client=n}}class h7 extends ul{create(n,o){return this._client.post("/openai/v1/audio/speech",{body:n,...o,headers:{Accept:"application/octet-stream",...o?.headers},__binaryResponse:!0})}}class p7 extends ul{create(n,o){return this._client.post("/openai/v1/audio/transcriptions",RM({body:n,...o}))}}class g7 extends ul{create(n,o){return this._client.post("/openai/v1/audio/translations",RM({body:n,...o}))}}class p_ extends ul{constructor(){super(...arguments),this.speech=new h7(this._client),this.transcriptions=new p7(this._client),this.translations=new g7(this._client)}}p_.Speech=h7;p_.Transcriptions=p7;p_.Translations=g7;class m7 extends ul{create(n,o){return this._client.post("/openai/v1/batches",{body:n,...o})}retrieve(n,o){return this._client.get(`/openai/v1/batches/${n}`,o)}list(n){return this._client.get("/openai/v1/batches",n)}cancel(n,o){return this._client.post(`/openai/v1/batches/${n}/cancel`,o)}}let _7=class extends ul{create(n,o){return this._client.post("/openai/v1/chat/completions",{body:n,...o,stream:n.stream??!1})}};class jM extends ul{constructor(){super(...arguments),this.completions=new _7(this._client)}}jM.Completions=_7;class y7 extends ul{}let v7=class extends ul{create(n,o){return this._client.post("/openai/v1/embeddings",{body:n,...o})}};class b7 extends ul{create(n,o){return this._client.post("/openai/v1/files",RM({body:n,...o}))}list(n){return this._client.get("/openai/v1/files",n)}delete(n,o){return this._client.delete(`/openai/v1/files/${n}`,o)}content(n,o){return this._client.get(`/openai/v1/files/${n}/content`,o)}info(n,o){return this._client.get(`/openai/v1/files/${n}`,o)}}class w7 extends ul{retrieve(n,o){return this._client.get(`/openai/v1/models/${n}`,o)}list(n){return this._client.get("/openai/v1/models",n)}delete(n,o){return this._client.delete(`/openai/v1/models/${n}`,o)}}var O7;class qt extends uue{constructor({baseURL:n=Lz("GROQ_BASE_URL"),apiKey:o=Lz("GROQ_API_KEY"),...i}={}){if(o===void 0)throw new nl("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const u={apiKey:o,...i,baseURL:n||"https://api.groq.com"};if(!u.dangerouslyAllowBrowser&&wue())throw new nl(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:u.baseURL,timeout:u.timeout??6e4,httpAgent:u.httpAgent,maxRetries:u.maxRetries,fetch:u.fetch}),this.completions=new y7(this),this.chat=new jM(this),this.embeddings=new v7(this),this.audio=new p_(this),this.models=new w7(this),this.batches=new m7(this),this.files=new b7(this),this._options=u,this.apiKey=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(n){return{...super.defaultHeaders(n),...this._options.defaultHeaders}}authHeaders(n){return{Authorization:`Bearer ${this.apiKey}`}}}O7=qt;qt.Groq=O7;qt.DEFAULT_TIMEOUT=6e4;qt.GroqError=nl;qt.APIError=Rr;qt.APIConnectionError=$b;qt.APIConnectionTimeoutError=XH;qt.APIUserAbortError=mT;qt.NotFoundError=n7;qt.ConflictError=a7;qt.RateLimitError=o7;qt.BadRequestError=e7;qt.AuthenticationError=t7;qt.InternalServerError=s7;qt.PermissionDeniedError=r7;qt.UnprocessableEntityError=i7;qt.toFile=c7;qt.fileFromPath=JH;qt.Completions=y7;qt.Chat=jM;qt.Embeddings=v7;qt.Audio=p_;qt.Models=w7;qt.Batches=m7;qt.Files=b7;var Sue=class extends zt{static lc_name(){return"RouterRunnable"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnables;constructor(e){super(e),this.runnables=e.runnables}async invoke(e,n){const{key:o,input:i}=e,u=this.runnables[o];if(u===void 0)throw new Error(`No runnable associated with key "${o}".`);return u.invoke(i,Ot(n))}async batch(e,n,o){const i=e.map(m=>m.key),u=e.map(m=>m.input);if(i.find(m=>this.runnables[m]===void 0)!==void 0)throw new Error("One or more keys do not have a corresponding runnable.");const r=i.map(m=>this.runnables[m]),a=this._getOptionsList(n??{},e.length),s=a[0]?.maxConcurrency??o?.maxConcurrency,l=s&&s>0?s:e.length,f=[];for(let m=0;m<u.length;m+=l){const b=u.slice(m,m+l).map((p,y)=>r[y].invoke(p,a[y])),_=await Promise.all(b);f.push(_)}return f.flat()}async stream(e,n){const{key:o,input:i}=e,u=this.runnables[o];if(u===void 0)throw new Error(`No runnable associated with key "${o}".`);return u.stream(i,n)}},Eue=class extends zt{static lc_name(){return"RunnableBranch"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;default;branches;constructor(e){super(e),this.branches=e.branches,this.default=e.default}static from(e){if(e.length<1)throw new Error("RunnableBranch requires at least one branch");const o=e.slice(0,-1).map(([u,t])=>[tl(u),tl(t)]),i=tl(e[e.length-1]);return new this({branches:o,default:i})}async _invoke(e,n,o){let i;for(let u=0;u<this.branches.length;u+=1){const[t,r]=this.branches[u];if(await t.invoke(e,Ft(n,{callbacks:o?.getChild(`condition:${u+1}`)}))){i=await r.invoke(e,Ft(n,{callbacks:o?.getChild(`branch:${u+1}`)}));break}}return i||(i=await this.default.invoke(e,Ft(n,{callbacks:o?.getChild("branch:default")}))),i}async invoke(e,n={}){return this._callWithConfig(this._invoke,e,n)}async*_streamIterator(e,n){const i=await(await mn(n))?.handleChainStart(this.toJSON(),sr(e,"input"),n?.runId,void 0,void 0,void 0,n?.runName);let u,t=!0,r;try{for(let a=0;a<this.branches.length;a+=1){const[s,l]=this.branches[a];if(await s.invoke(e,Ft(n,{callbacks:i?.getChild(`condition:${a+1}`)}))){r=await l.stream(e,Ft(n,{callbacks:i?.getChild(`branch:${a+1}`)}));for await(const m of r)if(yield m,t)if(u===void 0)u=m;else try{u=td(u,m)}catch{u=void 0,t=!1}break}}if(r===void 0){r=await this.default.stream(e,Ft(n,{callbacks:i?.getChild("branch:default")}));for await(const a of r)if(yield a,t)if(u===void 0)u=a;else try{u=td(u,a)}catch{u=void 0,t=!1}}}catch(a){throw await i?.handleChainError(a),a}await i?.handleChainEnd(u??{})}},Rue=class extends Uf{runnable;inputMessagesKey;outputMessagesKey;historyMessagesKey;getMessageHistory;constructor(e){let n=nd.from((t,r)=>this._enterHistory(t,r??{})).withConfig({runName:"loadHistory"});const o=e.historyMessagesKey??e.inputMessagesKey;o&&(n=rp.assign({[o]:n}).withConfig({runName:"insertHistory"}));const i=n.pipe(e.runnable.withListeners({onEnd:(t,r)=>this._exitHistory(t,r??{})})).withConfig({runName:"RunnableWithMessageHistory"}),u=e.config??{};super({...e,config:u,bound:i}),this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!kl(e)){let o;this.inputMessagesKey?o=this.inputMessagesKey:Object.keys(e).length===1?o=Object.keys(e)[0]:o="input",Array.isArray(e[o])&&Array.isArray(e[o][0])?n=e[o][0]:n=e[o]}else n=e;if(typeof n=="string")return[new Dt(n)];if(Array.isArray(n))return n;if(kl(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!kl(e)&&typeof e!="string"){let o;this.outputMessagesKey!==void 0?o=this.outputMessagesKey:Object.keys(e).length===1?o=Object.keys(e)[0]:o="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[o]}else n=e;if(typeof n=="string")return[new Or(n)];if(Array.isArray(n))return n;if(kl(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){const i=await(n?.configurable?.messageHistory).getMessages();return this.historyMessagesKey===void 0?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,n){const o=n.configurable?.messageHistory;let i;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?i=e.inputs[0]:i=e.inputs;let u=this._getInputMessages(i);if(this.historyMessagesKey===void 0){const a=await o.getMessages();u=u.slice(a.length)}const t=e.outputs;if(!t)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const r=this._getOutputMessages(t);await o.addMessages([...u,...r])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const i={[this.inputMessagesKey??"input"]:"foo"},u={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(i)}, ${JSON.stringify(u)})`)}const{sessionId:o}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(o),n}},jue={};lt(jue,{RouterRunnable:()=>Sue,Runnable:()=>zt,RunnableAssign:()=>vM,RunnableBinding:()=>Uf,RunnableBranch:()=>Eue,RunnableEach:()=>cse,RunnableLambda:()=>nd,RunnableMap:()=>cp,RunnableParallel:()=>hse,RunnablePassthrough:()=>rp,RunnablePick:()=>xH,RunnableRetry:()=>yM,RunnableSequence:()=>h_,RunnableToolLike:()=>hT,RunnableWithFallbacks:()=>MH,RunnableWithMessageHistory:()=>Rue,_coerceToRunnable:()=>tl,ensureConfig:()=>Ot,getCallbackManagerForConfig:()=>mn,mergeConfigs:()=>rT,patchConfig:()=>Ft,pickRunnableConfigKeys:()=>Bf,raceWithSignal:()=>tc});var S7=class extends zt{parseResultWithPrompt(e,n,o){return this.parseResult(e,o)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(o,i)=>this.parseResult([{text:o}],i?.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(o,i)=>this.parseResult([{message:o,text:this._baseMessageToString(o)}],i?.callbacks),e,{...n,runType:"parser"})}},Gb=class extends S7{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,o){return this.parse(e,o)}_type(){throw new Error("_type not implemented")}},Jl=class extends Error{llmOutput;observation;sendToLLM;constructor(e,n,o,i=!1){if(super(e),this.llmOutput=n,this.observation=o,this.sendToLLM=i,i&&(o===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");Mb(this,"OUTPUT_PARSING_FAILURE")}},g_=class extends Gb{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}},Hb=class extends g_{diff=!1;constructor(e){super(e),this.diff=e?.diff??this.diff}async*_transform(e){let n,o;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let u;if(ZT(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");u=new Yc({message:i,text:i.content})}else if(kl(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");u=new Yc({message:fb(i),text:i.content})}else u=new ep({text:i});o===void 0?o=u:o=o.concat(u);const t=await this.parsePartialResult([o]);t!=null&&!Pf(t,n)&&(this.diff?yield this._diff(n,t):yield t,n=t)}}getFormatInstructions(){return""}},Cue={};lt(Cue,{applyPatch:()=>tp,compare:()=>pM});var E7=class extends Hb{static lc_name(){return"JsonOutputParser"}lc_namespace=["langchain_core","output_parsers"];lc_serializable=!0;_concatOutputChunks(e,n){return this.diff?super._concatOutputChunks(e,n):n}_diff(e,n){if(n)return e?pM(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return Y1(e[0].text)}async parse(e){return Y1(e,JSON.parse)}getFormatInstructions(){return""}},Tue=class extends g_{static lc_name(){return"BytesOutputParser"}lc_namespace=["langchain_core","output_parsers","bytes"];lc_serializable=!0;textEncoder=new TextEncoder;parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}},m_=class extends g_{re;async*_transform(e){let n="";for await(const o of e)if(typeof o=="string"?n+=o:n+=o.content,this.re){const i=[...n.matchAll(this.re)];if(i.length>1){let u=0;for(const t of i.slice(0,-1))yield[t[1]],u+=(t.index??0)+t[0].length;n=n.slice(u)}}else{const i=await this.parse(n);if(i.length>1){for(const u of i.slice(0,-1))yield[u];n=i[i.length-1]}}for(const o of await this.parse(n))yield[o]}},Mue=class extends m_{static lc_name(){return"CommaSeparatedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;async parse(e){try{return e.trim().split(",").map(n=>n.trim())}catch{throw new Jl(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},xue=class extends m_{lc_namespace=["langchain_core","output_parsers","list"];length;separator;constructor({length:e,separator:n}){super(...arguments),this.length=e,this.separator=n||","}async parse(e){try{const n=e.trim().split(this.separator).map(o=>o.trim());if(this.length!==void 0&&n.length!==this.length)throw new Jl(`Incorrect number of items. Expected ${this.length}, got ${n.length}.`);return n}catch(n){throw Object.getPrototypeOf(n)===Jl.prototype?n:new Jl(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${this.length===void 0?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},Pue=class extends m_{static lc_name(){return"NumberedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}re=/\d+\.\s([^\n]+)/g;async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Aue=class extends m_{static lc_name(){return"NumberedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}re=/^\s*[-*]\s([^\n]+)$/gm;async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Nue=class extends g_{static lc_name(){return"StrOutputParser"}lc_namespace=["langchain_core","output_parsers","string"];lc_serializable=!0;parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((n,o)=>n+this._messageContentToString(o),"")}},CM=class extends Gb{static lc_name(){return"StructuredOutputParser"}lc_namespace=["langchain","output_parsers","structured"];toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),this.schema=e}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=HT(Object.fromEntries(Object.entries(e).map(([o,i])=>[o,GT().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(Ql(this.schema))}
\`\`\`
`}async parse(e){try{const n=e.trim(),i=(n.match(/^```(?:json)?\s*([\s\S]*?)```/)?.[1]||n.match(/```json\s*([\s\S]*?)```/)?.[1]||n).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(u,t)=>`"${t.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await LT(this.schema,JSON.parse(i))}catch(n){throw new Jl(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}},R7=class extends CM{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(e){const n=e?.interpolationDepth??1;if(n<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction(Ql(this.schema)).replaceAll("{","{".repeat(n)).replaceAll("}","}".repeat(n))}
\`\`\``}_schemaToInstruction(e,n=2){const o=e;if("type"in o){let i=!1,u;if(Array.isArray(o.type)){const a=o.type.findIndex(s=>s==="null");a!==-1&&(i=!0,o.type.splice(a,1)),u=o.type.join(" | ")}else u=o.type;if(o.type==="object"&&o.properties){const a=o.description?` // ${o.description}`:"";return`{
${Object.entries(o.properties).map(([l,f])=>{const m=o.required?.includes(l)?"":" (optional)";return`${" ".repeat(n)}"${l}": ${this._schemaToInstruction(f,n+2)}${m}`}).join(`
`)}
${" ".repeat(n-2)}}${a}`}if(o.type==="array"&&o.items){const a=o.description?` // ${o.description}`:"";return`array[
${" ".repeat(n)}${this._schemaToInstruction(o.items,n+2)}
${" ".repeat(n-2)}] ${a}`}const t=i?" (nullable)":"",r=o.description?` // ${o.description}`:"";return`${u}${r}${t}`}if("anyOf"in o)return o.anyOf.map(i=>this._schemaToInstruction(i,n)).join(`
${" ".repeat(n-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=HT(Object.fromEntries(Object.entries(e).map(([o,i])=>[o,GT().describe(i)])));return new this(n)}},Due=class extends Gb{structuredInputParser;constructor({inputSchema:e}){super(...arguments),this.structuredInputParser=new R7(e)}async parse(e){let n;try{n=await this.structuredInputParser.parse(e)}catch(o){throw new Jl(`Failed to parse. Text: "${e}". Error: ${o}`,e)}return this.outputProcessor(n)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}};const Iue=function(){const e={};e.parser=function(K,$){return new o(K,$)},e.SAXParser=o,e.SAXStream=l,e.createStream=s,e.MAX_BUFFER_LENGTH=64*1024;const n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(K,$){if(!(this instanceof o))return new o(K,$);var ne=this;u(ne),ne.q=ne.c="",ne.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ne.opt=$||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!K,ne.noscript=!!(K||ne.opt.noscript),ne.state=M.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(p)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),q(ne,"onready")}Object.create||(Object.create=function(K){function $(){}$.prototype=K;var ne=new $;return ne}),Object.keys||(Object.keys=function(K){var $=[];for(var ne in K)K.hasOwnProperty(ne)&&$.push(ne);return $});function i(K){for(var $=Math.max(e.MAX_BUFFER_LENGTH,10),ne=0,Q=0,ue=n.length;Q<ue;Q++){var ye=K[n[Q]].length;if(ye>$)switch(n[Q]){case"textNode":w(K);break;case"cdata":z(K,"oncdata",K.cdata),K.cdata="";break;case"script":z(K,"onscript",K.script),K.script="";break;default:k(K,"Max buffer length exceeded: "+n[Q])}ne=Math.max(ne,ye)}var Re=e.MAX_BUFFER_LENGTH-ne;K.bufferCheckPosition=Re+K.position}function u(K){for(var $=0,ne=n.length;$<ne;$++)K[n[$]]=""}function t(K){w(K),K.cdata!==""&&(z(K,"oncdata",K.cdata),K.cdata=""),K.script!==""&&(z(K,"onscript",K.script),K.script="")}o.prototype={end:function(){Y(this)},write:Ee,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){t(this)}};var r=ReadableStream;r||(r=function(){});var a=e.EVENTS.filter(function(K){return K!=="error"&&K!=="end"});function s(K,$){return new l(K,$)}function l(K,$){if(!(this instanceof l))return new l(K,$);r.apply(this),this._parser=new o(K,$),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(Q){ne.emit("error",Q),ne._parser.error=null},this._decoder=null,a.forEach(function(Q){Object.defineProperty(ne,"on"+Q,{get:function(){return ne._parser["on"+Q]},set:function(ue){if(!ue)return ne.removeAllListeners(Q),ne._parser["on"+Q]=ue,ue;ne.on(Q,ue)},enumerable:!0,configurable:!1})})}l.prototype=Object.create(r.prototype,{constructor:{value:l}}),l.prototype.write=function(K){return this._parser.write(K.toString()),this.emit("data",K),!0},l.prototype.end=function(K){return K&&K.length&&this.write(K),this._parser.end(),!0},l.prototype.on=function(K,$){var ne=this;return!ne._parser["on"+K]&&a.indexOf(K)!==-1&&(ne._parser["on"+K]=function(){var Q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,K),ne.emit.apply(ne,Q)}),r.prototype.on.call(ne,K,$)};var f="[CDATA[",m="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",p={xml:b,xmlns:_},y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function j(K){return K===" "||K===`
`||K==="\r"||K==="	"}function P(K){return K==='"'||K==="'"}function T(K){return K===">"||j(K)}function C(K,$){return K.test($)}function D(K,$){return!C(K,$)}var M=0;e.STATE={BEGIN:M++,BEGIN_WHITESPACE:M++,TEXT:M++,TEXT_ENTITY:M++,OPEN_WAKA:M++,SGML_DECL:M++,SGML_DECL_QUOTED:M++,DOCTYPE:M++,DOCTYPE_QUOTED:M++,DOCTYPE_DTD:M++,DOCTYPE_DTD_QUOTED:M++,COMMENT_STARTING:M++,COMMENT:M++,COMMENT_ENDING:M++,COMMENT_ENDED:M++,CDATA:M++,CDATA_ENDING:M++,CDATA_ENDING_2:M++,PROC_INST:M++,PROC_INST_BODY:M++,PROC_INST_ENDING:M++,OPEN_TAG:M++,OPEN_TAG_SLASH:M++,ATTRIB:M++,ATTRIB_NAME:M++,ATTRIB_NAME_SAW_WHITE:M++,ATTRIB_VALUE:M++,ATTRIB_VALUE_QUOTED:M++,ATTRIB_VALUE_CLOSED:M++,ATTRIB_VALUE_UNQUOTED:M++,ATTRIB_VALUE_ENTITY_Q:M++,ATTRIB_VALUE_ENTITY_U:M++,CLOSE_TAG:M++,CLOSE_TAG_SAW_WHITE:M++,SCRIPT:M++,SCRIPT_ENDING:M++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(K){var $=e.ENTITIES[K],ne=typeof $=="number"?String.fromCharCode($):$;e.ENTITIES[K]=ne});for(var L in e.STATE)e.STATE[e.STATE[L]]=L;M=e.STATE;function q(K,$,ne){K[$]&&K[$](ne)}function z(K,$,ne){K.textNode&&w(K),q(K,$,ne)}function w(K){K.textNode=V(K.opt,K.textNode),K.textNode&&q(K,"ontext",K.textNode),K.textNode=""}function V(K,$){return K.trim&&($=$.trim()),K.normalize&&($=$.replace(/\s+/g," ")),$}function k(K,$){return w(K),K.trackPosition&&($+=`
Line: `+K.line+`
Column: `+K.column+`
Char: `+K.c),$=new Error($),K.error=$,q(K,"onerror",$),K}function Y(K){return K.sawRoot&&!K.closedRoot&&U(K,"Unclosed root tag"),K.state!==M.BEGIN&&K.state!==M.BEGIN_WHITESPACE&&K.state!==M.TEXT&&k(K,"Unexpected end"),w(K),K.c="",K.closed=!0,q(K,"onend"),o.call(K,K.strict,K.opt),K}function U(K,$){if(typeof K!="object"||!(K instanceof o))throw new Error("bad call to strictFail");K.strict&&k(K,$)}function H(K){K.strict||(K.tagName=K.tagName[K.looseCase]());var $=K.tags[K.tags.length-1]||K,ne=K.tag={name:K.tagName,attributes:{}};K.opt.xmlns&&(ne.ns=$.ns),K.attribList.length=0,z(K,"onopentagstart",ne)}function Z(K,$){var ne=K.indexOf(":"),Q=ne<0?["",K]:K.split(":"),ue=Q[0],ye=Q[1];return $&&K==="xmlns"&&(ue="xmlns",ye=""),{prefix:ue,local:ye}}function ee(K){if(K.strict||(K.attribName=K.attribName[K.looseCase]()),K.attribList.indexOf(K.attribName)!==-1||K.tag.attributes.hasOwnProperty(K.attribName)){K.attribName=K.attribValue="";return}if(K.opt.xmlns){var $=Z(K.attribName,!0),ne=$.prefix,Q=$.local;if(ne==="xmlns")if(Q==="xml"&&K.attribValue!==b)U(K,"xml: prefix must be bound to "+b+`
Actual: `+K.attribValue);else if(Q==="xmlns"&&K.attribValue!==_)U(K,"xmlns: prefix must be bound to "+_+`
Actual: `+K.attribValue);else{var ue=K.tag,ye=K.tags[K.tags.length-1]||K;ue.ns===ye.ns&&(ue.ns=Object.create(ye.ns)),ue.ns[Q]=K.attribValue}K.attribList.push([K.attribName,K.attribValue])}else K.tag.attributes[K.attribName]=K.attribValue,z(K,"onattribute",{name:K.attribName,value:K.attribValue});K.attribName=K.attribValue=""}function N(K,$){if(K.opt.xmlns){var ne=K.tag,Q=Z(K.tagName);ne.prefix=Q.prefix,ne.local=Q.local,ne.uri=ne.ns[Q.prefix]||"",ne.prefix&&!ne.uri&&(U(K,"Unbound namespace prefix: "+JSON.stringify(K.tagName)),ne.uri=Q.prefix);var ue=K.tags[K.tags.length-1]||K;ne.ns&&ue.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(Ne){z(K,"onopennamespace",{prefix:Ne,uri:ne.ns[Ne]})});for(var ye=0,Re=K.attribList.length;ye<Re;ye++){var ae=K.attribList[ye],le=ae[0],be=ae[1],xe=Z(le,!0),Ae=xe.prefix,De=xe.local,fe=Ae===""?"":ne.ns[Ae]||"",he={name:le,value:be,prefix:Ae,local:De,uri:fe};Ae&&Ae!=="xmlns"&&!fe&&(U(K,"Unbound namespace prefix: "+JSON.stringify(Ae)),he.uri=Ae),K.tag.attributes[le]=he,z(K,"onattribute",he)}K.attribList.length=0}K.tag.isSelfClosing=!!$,K.sawRoot=!0,K.tags.push(K.tag),z(K,"onopentag",K.tag),$||(!K.noscript&&K.tagName.toLowerCase()==="script"?K.state=M.SCRIPT:K.state=M.TEXT,K.tag=null,K.tagName=""),K.attribName=K.attribValue="",K.attribList.length=0}function G(K){if(!K.tagName){U(K,"Weird empty close tag."),K.textNode+="</>",K.state=M.TEXT;return}if(K.script){if(K.tagName!=="script"){K.script+="</"+K.tagName+">",K.tagName="",K.state=M.SCRIPT;return}z(K,"onscript",K.script),K.script=""}var $=K.tags.length,ne=K.tagName;K.strict||(ne=ne[K.looseCase]());for(var Q=ne;$--;){var ue=K.tags[$];if(ue.name!==Q)U(K,"Unexpected close tag");else break}if($<0){U(K,"Unmatched closing tag: "+K.tagName),K.textNode+="</"+K.tagName+">",K.state=M.TEXT;return}K.tagName=ne;for(var ye=K.tags.length;ye-- >$;){var Re=K.tag=K.tags.pop();K.tagName=K.tag.name,z(K,"onclosetag",K.tagName);var ae={};for(var le in Re.ns)ae[le]=Re.ns[le];var be=K.tags[K.tags.length-1]||K;K.opt.xmlns&&Re.ns!==be.ns&&Object.keys(Re.ns).forEach(function(xe){var Ae=Re.ns[xe];z(K,"onclosenamespace",{prefix:xe,uri:Ae})})}$===0&&(K.closedRoot=!0),K.tagName=K.attribValue=K.attribName="",K.attribList.length=0,K.state=M.TEXT}function J(K){var $=K.entity,ne=$.toLowerCase(),Q,ue="";return K.ENTITIES[$]?K.ENTITIES[$]:K.ENTITIES[ne]?K.ENTITIES[ne]:($=ne,$.charAt(0)==="#"&&($.charAt(1)==="x"?($=$.slice(2),Q=parseInt($,16),ue=Q.toString(16)):($=$.slice(1),Q=parseInt($,10),ue=Q.toString(10))),$=$.replace(/^0+/,""),isNaN(Q)||ue.toLowerCase()!==$?(U(K,"Invalid character entity"),"&"+K.entity+";"):String.fromCodePoint(Q))}function oe(K,$){$==="<"?(K.state=M.OPEN_WAKA,K.startTagPosition=K.position):j($)||(U(K,"Non-whitespace before first tag."),K.textNode=$,K.state=M.TEXT)}function me(K,$){var ne="";return $<K.length&&(ne=K.charAt($)),ne}function Ee(K){var $=this;if(this.error)throw this.error;if($.closed)return k($,"Cannot write after close. Assign an onready handler.");if(K===null)return Y($);typeof K=="object"&&(K=K.toString());for(var ne=0,Q="";Q=me(K,ne++),$.c=Q,!!Q;)switch($.trackPosition&&($.position++,Q===`
`?($.line++,$.column=0):$.column++),$.state){case M.BEGIN:if($.state=M.BEGIN_WHITESPACE,Q==="\uFEFF")continue;oe($,Q);continue;case M.BEGIN_WHITESPACE:oe($,Q);continue;case M.TEXT:if($.sawRoot&&!$.closedRoot){for(var ue=ne-1;Q&&Q!=="<"&&Q!=="&";)Q=me(K,ne++),Q&&$.trackPosition&&($.position++,Q===`
`?($.line++,$.column=0):$.column++);$.textNode+=K.substring(ue,ne-1)}Q==="<"&&!($.sawRoot&&$.closedRoot&&!$.strict)?($.state=M.OPEN_WAKA,$.startTagPosition=$.position):(!j(Q)&&(!$.sawRoot||$.closedRoot)&&U($,"Text data outside of root node."),Q==="&"?$.state=M.TEXT_ENTITY:$.textNode+=Q);continue;case M.SCRIPT:Q==="<"?$.state=M.SCRIPT_ENDING:$.script+=Q;continue;case M.SCRIPT_ENDING:Q==="/"?$.state=M.CLOSE_TAG:($.script+="<"+Q,$.state=M.SCRIPT);continue;case M.OPEN_WAKA:if(Q==="!")$.state=M.SGML_DECL,$.sgmlDecl="";else if(!j(Q))if(C(y,Q))$.state=M.OPEN_TAG,$.tagName=Q;else if(Q==="/")$.state=M.CLOSE_TAG,$.tagName="";else if(Q==="?")$.state=M.PROC_INST,$.procInstName=$.procInstBody="";else{if(U($,"Unencoded <"),$.startTagPosition+1<$.position){var ye=$.position-$.startTagPosition;Q=new Array(ye).join(" ")+Q}$.textNode+="<"+Q,$.state=M.TEXT}continue;case M.SGML_DECL:($.sgmlDecl+Q).toUpperCase()===f?(z($,"onopencdata"),$.state=M.CDATA,$.sgmlDecl="",$.cdata=""):$.sgmlDecl+Q==="--"?($.state=M.COMMENT,$.comment="",$.sgmlDecl=""):($.sgmlDecl+Q).toUpperCase()===m?($.state=M.DOCTYPE,($.doctype||$.sawRoot)&&U($,"Inappropriately located doctype declaration"),$.doctype="",$.sgmlDecl=""):Q===">"?(z($,"onsgmldeclaration",$.sgmlDecl),$.sgmlDecl="",$.state=M.TEXT):(P(Q)&&($.state=M.SGML_DECL_QUOTED),$.sgmlDecl+=Q);continue;case M.SGML_DECL_QUOTED:Q===$.q&&($.state=M.SGML_DECL,$.q=""),$.sgmlDecl+=Q;continue;case M.DOCTYPE:Q===">"?($.state=M.TEXT,z($,"ondoctype",$.doctype),$.doctype=!0):($.doctype+=Q,Q==="["?$.state=M.DOCTYPE_DTD:P(Q)&&($.state=M.DOCTYPE_QUOTED,$.q=Q));continue;case M.DOCTYPE_QUOTED:$.doctype+=Q,Q===$.q&&($.q="",$.state=M.DOCTYPE);continue;case M.DOCTYPE_DTD:$.doctype+=Q,Q==="]"?$.state=M.DOCTYPE:P(Q)&&($.state=M.DOCTYPE_DTD_QUOTED,$.q=Q);continue;case M.DOCTYPE_DTD_QUOTED:$.doctype+=Q,Q===$.q&&($.state=M.DOCTYPE_DTD,$.q="");continue;case M.COMMENT:Q==="-"?$.state=M.COMMENT_ENDING:$.comment+=Q;continue;case M.COMMENT_ENDING:Q==="-"?($.state=M.COMMENT_ENDED,$.comment=V($.opt,$.comment),$.comment&&z($,"oncomment",$.comment),$.comment=""):($.comment+="-"+Q,$.state=M.COMMENT);continue;case M.COMMENT_ENDED:Q!==">"?(U($,"Malformed comment"),$.comment+="--"+Q,$.state=M.COMMENT):$.state=M.TEXT;continue;case M.CDATA:Q==="]"?$.state=M.CDATA_ENDING:$.cdata+=Q;continue;case M.CDATA_ENDING:Q==="]"?$.state=M.CDATA_ENDING_2:($.cdata+="]"+Q,$.state=M.CDATA);continue;case M.CDATA_ENDING_2:Q===">"?($.cdata&&z($,"oncdata",$.cdata),z($,"onclosecdata"),$.cdata="",$.state=M.TEXT):Q==="]"?$.cdata+="]":($.cdata+="]]"+Q,$.state=M.CDATA);continue;case M.PROC_INST:Q==="?"?$.state=M.PROC_INST_ENDING:j(Q)?$.state=M.PROC_INST_BODY:$.procInstName+=Q;continue;case M.PROC_INST_BODY:if(!$.procInstBody&&j(Q))continue;Q==="?"?$.state=M.PROC_INST_ENDING:$.procInstBody+=Q;continue;case M.PROC_INST_ENDING:Q===">"?(z($,"onprocessinginstruction",{name:$.procInstName,body:$.procInstBody}),$.procInstName=$.procInstBody="",$.state=M.TEXT):($.procInstBody+="?"+Q,$.state=M.PROC_INST_BODY);continue;case M.OPEN_TAG:C(v,Q)?$.tagName+=Q:(H($),Q===">"?N($):Q==="/"?$.state=M.OPEN_TAG_SLASH:(j(Q)||U($,"Invalid character in tag name"),$.state=M.ATTRIB));continue;case M.OPEN_TAG_SLASH:Q===">"?(N($,!0),G($)):(U($,"Forward-slash in opening tag not followed by >"),$.state=M.ATTRIB);continue;case M.ATTRIB:if(j(Q))continue;Q===">"?N($):Q==="/"?$.state=M.OPEN_TAG_SLASH:C(y,Q)?($.attribName=Q,$.attribValue="",$.state=M.ATTRIB_NAME):U($,"Invalid attribute name");continue;case M.ATTRIB_NAME:Q==="="?$.state=M.ATTRIB_VALUE:Q===">"?(U($,"Attribute without value"),$.attribValue=$.attribName,ee($),N($)):j(Q)?$.state=M.ATTRIB_NAME_SAW_WHITE:C(v,Q)?$.attribName+=Q:U($,"Invalid attribute name");continue;case M.ATTRIB_NAME_SAW_WHITE:if(Q==="=")$.state=M.ATTRIB_VALUE;else{if(j(Q))continue;U($,"Attribute without value"),$.tag.attributes[$.attribName]="",$.attribValue="",z($,"onattribute",{name:$.attribName,value:""}),$.attribName="",Q===">"?N($):C(y,Q)?($.attribName=Q,$.state=M.ATTRIB_NAME):(U($,"Invalid attribute name"),$.state=M.ATTRIB)}continue;case M.ATTRIB_VALUE:if(j(Q))continue;P(Q)?($.q=Q,$.state=M.ATTRIB_VALUE_QUOTED):(U($,"Unquoted attribute value"),$.state=M.ATTRIB_VALUE_UNQUOTED,$.attribValue=Q);continue;case M.ATTRIB_VALUE_QUOTED:if(Q!==$.q){Q==="&"?$.state=M.ATTRIB_VALUE_ENTITY_Q:$.attribValue+=Q;continue}ee($),$.q="",$.state=M.ATTRIB_VALUE_CLOSED;continue;case M.ATTRIB_VALUE_CLOSED:j(Q)?$.state=M.ATTRIB:Q===">"?N($):Q==="/"?$.state=M.OPEN_TAG_SLASH:C(y,Q)?(U($,"No whitespace between attributes"),$.attribName=Q,$.attribValue="",$.state=M.ATTRIB_NAME):U($,"Invalid attribute name");continue;case M.ATTRIB_VALUE_UNQUOTED:if(!T(Q)){Q==="&"?$.state=M.ATTRIB_VALUE_ENTITY_U:$.attribValue+=Q;continue}ee($),Q===">"?N($):$.state=M.ATTRIB;continue;case M.CLOSE_TAG:if($.tagName)Q===">"?G($):C(v,Q)?$.tagName+=Q:$.script?($.script+="</"+$.tagName,$.tagName="",$.state=M.SCRIPT):(j(Q)||U($,"Invalid tagname in closing tag"),$.state=M.CLOSE_TAG_SAW_WHITE);else{if(j(Q))continue;D(y,Q)?$.script?($.script+="</"+Q,$.state=M.SCRIPT):U($,"Invalid tagname in closing tag."):$.tagName=Q}continue;case M.CLOSE_TAG_SAW_WHITE:if(j(Q))continue;Q===">"?G($):U($,"Invalid characters in closing tag");continue;case M.TEXT_ENTITY:case M.ATTRIB_VALUE_ENTITY_Q:case M.ATTRIB_VALUE_ENTITY_U:var Re,ae;switch($.state){case M.TEXT_ENTITY:Re=M.TEXT,ae="textNode";break;case M.ATTRIB_VALUE_ENTITY_Q:Re=M.ATTRIB_VALUE_QUOTED,ae="attribValue";break;case M.ATTRIB_VALUE_ENTITY_U:Re=M.ATTRIB_VALUE_UNQUOTED,ae="attribValue";break}if(Q===";")if($.opt.unparsedEntities){var le=J($);$.entity="",$.state=Re,$.write(le)}else $[ae]+=J($),$.entity="",$.state=Re;else C($.entity.length?R:S,Q)?$.entity+=Q:(U($,"Invalid character in entity name"),$[ae]+="&"+$.entity+Q,$.entity="",$.state=Re);continue;default:throw new Error($,"Unknown state: "+$.state)}return $.position>=$.bufferCheckPosition&&i($),$}return String.fromCodePoint||(function(){var K=String.fromCharCode,$=Math.floor,ne=function(){var Q=16384,ue=[],ye,Re,ae=-1,le=arguments.length;if(!le)return"";for(var be="";++ae<le;){var xe=Number(arguments[ae]);if(!isFinite(xe)||xe<0||xe>1114111||$(xe)!==xe)throw RangeError("Invalid code point: "+xe);xe<=65535?ue.push(xe):(xe-=65536,ye=(xe>>10)+55296,Re=xe%1024+56320,ue.push(ye,Re)),(ae+1===le||ue.length>Q)&&(be+=K.apply(null,ue),ue.length=0)}return be};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne})(),e},zue=Iue(),vT=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var que=class extends Hb{tags;constructor(e){super(e),this.tags=e?.tags}static lc_name(){return"XMLOutputParser"}lc_namespace=["langchain_core","output_parsers"];lc_serializable=!0;_diff(e,n){if(n)return e?pM(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return bT(e[0].text)}async parse(e){return bT(e)}getFormatInstructions(){return!!(this.tags&&this.tags.length>0)?vT.replace("{tags}",this.tags?.join(", ")??""):vT}};const Bue=e=>e.split(`
`).map(n=>n.replace(/^\s+/,"")).join(`
`).trim(),j7=e=>{if(Object.keys(e).length===0)return{};const n={};return e.children.length>0?(n[e.name]=e.children.map(j7),n):(n[e.name]=e.text??void 0,n)};function bT(e){const n=Bue(e),o=zue.parser(!0);let i={};const u=[];o.onopentag=a=>{const s={name:a.name,attributes:a.attributes,children:[],text:"",isSelfClosing:a.isSelfClosing};u.length>0?u[u.length-1].children.push(s):i=s,a.isSelfClosing||u.push(s)},o.onclosetag=()=>{if(u.length>0){const a=u.pop();u.length===0&&a&&(i=a)}},o.ontext=a=>{if(u.length>0){const s=u[u.length-1];s.text+=a}},o.onattribute=a=>{if(u.length>0){const s=u[u.length-1];s.attributes[a.name]=a.value}};const t=/```(xml)?(.*)```/s.exec(n),r=t?t[2]:n;return o.write(r).close(),i&&i.name==="?xml"&&(i=i.children[0]),j7(i)}var Uue={};lt(Uue,{AsymmetricStructuredOutputParser:()=>Due,BaseCumulativeTransformOutputParser:()=>Hb,BaseLLMOutputParser:()=>S7,BaseOutputParser:()=>Gb,BaseTransformOutputParser:()=>g_,BytesOutputParser:()=>Tue,CommaSeparatedListOutputParser:()=>Mue,CustomListOutputParser:()=>xue,JsonMarkdownStructuredOutputParser:()=>R7,JsonOutputParser:()=>E7,ListOutputParser:()=>m_,MarkdownListOutputParser:()=>Aue,NumberedListOutputParser:()=>Pue,OutputParserException:()=>Jl,StringOutputParser:()=>Nue,StructuredOutputParser:()=>CM,XMLOutputParser:()=>que,XML_FORMAT_INSTRUCTIONS:()=>vT,parseJsonMarkdown:()=>Y1,parsePartialJson:()=>xb,parseXMLMarkdown:()=>bT});function TM(e,n){if(e.function===void 0)return;let o;if(n?.partial)try{o=xb(e.function.arguments??"{}")}catch{return}else try{o=JSON.parse(e.function.arguments)}catch(u){throw new Jl([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"","are not valid JSON.",`Error: ${u.message}`].join(`
`))}const i={name:e.function.name,args:o,type:"tool_call"};return n?.returnId&&(i.id=e.id),i}function C7(e){if(e.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}}function T7(e,n){return{name:e.function?.name,args:e.function?.arguments,id:e.id,error:n,type:"invalid_tool_call"}}var M7=class extends Hb{static lc_name(){return"JsonOutputToolsParser"}returnId=!1;lc_namespace=["langchain","output_parsers","openai_tools"];lc_serializable=!0;constructor(e){super(e),this.returnId=e?.returnId??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){const o=e[0].message;let i;if(Hc(o)&&o.tool_calls?.length?i=o.tool_calls.map(t=>{const{id:r,...a}=t;return this.returnId?{id:r,...a}:a}):o.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(o.additional_kwargs.tool_calls)).map(r=>TM(r,{returnId:this.returnId,partial:n}))),!i)return[];const u=[];for(const t of i)if(t!==void 0){const r={type:t.name,args:t.args,id:t.id};u.push(r)}return u}},wT=class extends M7{static lc_name(){return"JsonOutputKeyToolsParser"}lc_namespace=["langchain","output_parsers","openai_tools"];lc_serializable=!0;returnId=!1;keyName;returnSingle=!1;zodSchema;constructor(e){super(e),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await kV(this.zodSchema,e);if(n.success)return n.data;throw new Jl(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error?.issues)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const o=(await super.parsePartialResult(e)).filter(u=>u.type===this.keyName);let i=o;if(o.length)return this.returnId||(i=o.map(u=>u.args)),this.returnSingle?i[0]:i}async parseResult(e){const o=(await super.parsePartialResult(e,!1)).filter(t=>t.type===this.keyName);let i=o;return o.length?(this.returnId||(i=o.map(t=>t.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(t=>this._validateResult(t)))):void 0}},Lue={};lt(Lue,{JsonOutputKeyToolsParser:()=>wT,JsonOutputToolsParser:()=>M7,convertLangChainToolCallToOpenAI:()=>C7,makeInvalidToolCall:()=>T7,parseToolCall:()=>TM});function x7(e){return e!==void 0&&Array.isArray(e.lc_namespace)}function P7(e){return e!==void 0&&zt.isRunnable(e)&&"lc_name"in e.constructor&&typeof e.constructor.lc_name=="function"&&e.constructor.lc_name()==="RunnableToolLike"}function A7(e){return!!e&&typeof e=="object"&&"name"in e&&"schema"in e&&(Jc(e.schema)||e.schema!=null&&typeof e.schema=="object"&&"type"in e.schema&&typeof e.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(e.schema.type))}function MM(e){return A7(e)||P7(e)||x7(e)}var $ue={};lt($ue,{convertToOpenAIFunction:()=>N7,convertToOpenAITool:()=>OT,isLangChainTool:()=>MM,isRunnableToolLike:()=>P7,isStructuredTool:()=>x7,isStructuredToolParams:()=>A7});function N7(e,n){const o=typeof n=="number"?void 0:n;return{name:e.name,description:e.description,parameters:Ql(e.schema),...o?.strict!==void 0?{strict:o.strict}:{}}}function OT(e,n){const o=typeof n=="number"?void 0:n;let i;return MM(e)?i={type:"function",function:N7(e)}:i=e,o?.strict!==void 0&&(i.function.strict=o.strict),i}const Fue=["frequency_penalty","function_call","functions","logit_bias","logprobs","max_completion_tokens","max_tokens","n","parallel_tool_calls","presence_penalty","reasoning_format","response_format","seed","service_tier","stop","temperature","tool_choice","top_logprobs","top_p"],Vue=["headers","promptIndex","stream_options","tools"],Gue=[...Fue,...Vue];function Hue(e){if(e.role!=="system"&&e.role!=="assistant"&&e.role!=="user"&&e.role!=="function")throw new Error(`Unsupported message role: ${e.role}. Expected "system", "assistant", "user", or "function"`);return e.role}function Kue(e){switch(e.type){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!nc.isInstance(e))throw new Error("Invalid generic chat message");return Hue(e);default:throw new Error(`Unknown message type: ${e.type}`)}}function Fz(e){return e.map(n=>{const o={role:Kue(n),content:n.content,name:n.name,function_call:n.additional_kwargs.function_call,tool_calls:n.additional_kwargs.tool_calls,tool_call_id:n.tool_call_id};return Hc(n)&&n.tool_calls?.length?o.tool_calls=n.tool_calls.map(C7):(n.additional_kwargs.tool_calls!=null&&(o.tool_calls=n.additional_kwargs.tool_calls),n.tool_call_id!=null&&(o.tool_call_id=n.tool_call_id)),o})}function kue(e,n,o){const i=e.tool_calls;switch(e.role){case"assistant":{const u=[],t=[];for(const r of i??[])try{u.push(TM(r,{returnId:!0}))}catch(a){t.push(T7(r,a.message))}return new Or({content:e.content||"",additional_kwargs:{tool_calls:i},tool_calls:u,invalid_tool_calls:t,usage_metadata:n,response_metadata:o})}default:return new nc(e.content||"",e.role??"unknown")}}function Yue(e,n,o,i){const u=e.role??n,t=e.content??"";let r;e.function_call?r={function_call:e.function_call}:e.tool_calls?r={tool_calls:e.tool_calls}:r={},e.audio&&(r.audio={...e.audio,index:o.choices[0].index});let a,s=i,l;const f=o.x_groq;f?.usage&&(a={input_tokens:f.usage.prompt_tokens,output_tokens:f.usage.completion_tokens,total_tokens:f.usage.total_tokens},l={completion_time:f.usage.completion_time,prompt_time:f.usage.prompt_time,queue_time:f.usage.queue_time,total_time:f.usage.total_time}),f?.id&&(s=f.id);const m={usage:a,timing:l};if(u==="user")return new u_({content:t,response_metadata:m});if(u==="assistant"){const b=[];if(Array.isArray(e.tool_calls))for(const _ of e.tool_calls)b.push({name:_.function?.name,args:_.function?.arguments,id:_.id,index:_.index,type:"tool_call_chunk"});return new zn({content:t,tool_call_chunks:b,additional_kwargs:r,id:s,response_metadata:m})}else return u==="system"?new ed({content:t,response_metadata:m}):u==="developer"?new ed({content:t,response_metadata:m,additional_kwargs:{__openai_role__:"developer"}}):u==="function"?new s_({content:t,additional_kwargs:r,name:e.name,response_metadata:m}):u==="tool"?new i_({content:t,additional_kwargs:r,tool_call_id:e.tool_call_id,response_metadata:m}):new o_({content:t,role:u,response_metadata:m})}var Wue=class extends Lb{lc_namespace=["langchain","chat_models","groq"];client;model;temperature=.7;stop;stopSequences;maxTokens;streaming=!1;apiKey;streamUsage=!0;topP;frequencyPenalty;presencePenalty;logprobs;n;logitBias;user;reasoningFormat;serviceTier;topLogprobs;lc_serializable=!0;get lc_serialized_keys(){return["client","model","temperature","stop","stopSequences","maxTokens","streaming","apiKey","streamUsage","topP","frequencyPenalty","presencePenalty","logprobs","n","logitBias","user","reasoningFormat","serviceTier","topLogprobs"]}static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}get callKeys(){return[...super.callKeys,...Gue]}constructor(e){super(e);const n=e.apiKey||bl("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');const o={"User-Agent":"langchainjs",...e.defaultHeaders??{}};this.client=new qt({apiKey:n,dangerouslyAllowBrowser:!0,baseURL:e.baseUrl,timeout:e.timeout,httpAgent:e.httpAgent,fetch:e.fetch,maxRetries:0,defaultHeaders:o,defaultQuery:e.defaultQuery}),this.apiKey=n,this.temperature=e.temperature??this.temperature,this.model=e.model,this.streaming=e.streaming??this.streaming,this.stop=e.stopSequences??(typeof e.stop=="string"?[e.stop]:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e.maxTokens,this.topP=e.topP,this.frequencyPenalty=e.frequencyPenalty,this.presencePenalty=e.presencePenalty,this.logprobs=e.logprobs,this.n=e.n,this.logitBias=e.logitBias,this.user=e.user}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e,n){const o=super.invocationParams(e);let i={};e?.stream_options!==void 0?i={stream_options:e.stream_options}:(this.streamUsage&&this.streaming||n?.streaming)&&(i={stream_options:{include_usage:!0}});const u={model:this.model,frequency_penalty:this.frequencyPenalty,function_call:e?.function_call,functions:e?.functions,logit_bias:this.logitBias,logprobs:this.logprobs,n:this.n,parallel_tool_calls:e?.parallel_tool_calls,presence_penalty:this.presencePenalty,reasoning_format:this.reasoningFormat,response_format:e?.response_format,seed:e?.seed,service_tier:this.serviceTier,stop:e?.stop??this.stopSequences,temperature:e?.temperature??this.temperature,tool_choice:Jue(e?.tool_choice),tools:e?.tools?.length?e.tools.map(t=>OT(t)):void 0,top_logprobs:this.topLogprobs,top_p:this.topP,user:this.user,stream:this.streaming,...o,...i};return u.max_completion_tokens=e?.max_completion_tokens??e?.max_tokens??this.maxTokens,u.max_completion_tokens===-1&&delete u.max_completion_tokens,u}bindTools(e,n){return this.withConfig({tools:e.map(o=>OT(o)),...n})}async*_streamResponseChunks(e,n,o){const i=this.invocationParams(n,{streaming:!0}),u=Fz(e),t=await this.completionWithRetry({...i,messages:u,stream:!0},{signal:n?.signal,headers:n?.headers});let r,a,s;for await(const l of t){s=l;const f=l?.choices[0];if(!f)continue;f.delta?.role&&(r=f.delta.role);const m=Yue(f.delta,r,l,a),b={prompt:n.promptIndex??0,completion:f.index??0};if(typeof m.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const _={...b};f.finish_reason!=null&&(_.finish_reason=f.finish_reason,_.system_fingerprint=l.system_fingerprint,_.model_name=l.model);const p=new Yc({message:m,text:m.content,generationInfo:_});yield p,await o?.handleLLMNewToken(p.text??"",b,void 0,void 0,void 0,{chunk:p})}if(s&&("choices"in s&&delete s.choices,yield new Yc({message:new zn({content:"",response_metadata:s}),text:""})),n.signal?.aborted)throw new Error("AbortError")}async _generate(e,n,o){if(this.streaming){const i={},u=this._streamResponseChunks(e,n,o),t={};for await(const a of u){const s=a.generationInfo?.completion??0;t[s]===void 0?t[s]=a:t[s]=t[s].concat(a)}return{generations:Object.entries(t).sort(([a],[s])=>parseInt(a,10)-parseInt(s,10)).map(([a,s])=>s),llmOutput:{estimatedTokenUsage:i}}}else return this._generateNonStreaming(e,n,o)}async _generateNonStreaming(e,n,o){const i={},u=this.invocationParams(n),t=Fz(e),r=await this.completionWithRetry({...u,stream:!1,messages:t},{signal:n?.signal,headers:n?.headers});if("usage"in r&&r.usage){const{completion_tokens:s,prompt_tokens:l,total_tokens:f}=r.usage;s&&(i.completionTokens=(i.completionTokens??0)+s),l&&(i.promptTokens=(i.promptTokens??0)+l),f&&(i.totalTokens=(i.totalTokens??0)+f)}const a=[];if("choices"in r&&r.choices)for(const s of r.choices){const l=s.message?.content??"";let f;i.totalTokens!==void 0&&(f={input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens});const{choices:m,...b}=r,_={text:l,message:kue(s.message??{role:"assistant"},f,b)};_.generationInfo={...s.finish_reason?{finish_reason:s.finish_reason}:{},...s.logprobs?{logprobs:s.logprobs}:{}},a.push(_)}return{generations:a,llmOutput:{tokenUsage:i}}}get profile(){return uee[this.model]??{}}withStructuredOutput(e,n){const o=e,i=n?.name,u=n?.method,t=n?.includeRaw;let r=i??"extract",a,s;if(u==="jsonMode"){let b;Jc(o)?(a=CM.fromZodSchema(o),b=Ql(o)):a=new E7,s=this.withConfig({response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"jsonMode"},schema:b}})}else if(Jc(o)){const b=Ql(o);s=this.bindTools([{type:"function",function:{name:r,description:b.description,parameters:b}}]).withConfig({tool_choice:{type:"function",function:{name:r}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:b}}),a=new wT({returnSingle:!0,keyName:r,zodSchema:o})}else{let b;typeof o.name=="string"&&typeof o.parameters=="object"&&o.parameters!=null?(b=o,r=o.name):(r=o.title??r,b={name:r,description:o.description??"",parameters:o}),s=this.bindTools([{type:"function",function:b}]).withConfig({tool_choice:{type:"function",function:{name:r}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:o}}),a=new wT({returnSingle:!0,keyName:r})}if(!t)return s.pipe(a).withConfig({runName:"ChatGroqStructuredOutput"});const l=rp.assign({parsed:(b,_)=>a.invoke(b.raw,_)}),f=rp.assign({parsed:()=>null}),m=l.withFallbacks({fallbacks:[f]});return h_.from([{raw:s},m]).withConfig({runName:"ChatGroqStructuredOutput"})}};function Jue(e){if(e)return e==="any"||e==="required"?"required":e==="auto"?"auto":e==="none"?"none":typeof e=="string"?{type:"function",function:{name:e}}:e}var Hl={},Cd={},Td={},kS={},Vz;function Zue(){return Vz||(Vz=1,Object.defineProperty(kS,"__esModule",{value:!0})),kS}var Gz;function Que(){return Gz||(Gz=1,(function(e){var n=Td&&Td.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Td&&Td.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Zue(),e)})(Td)),Td}var Md={},Wn={},YS={},ug={},Ph={},Hz;function __(){if(Hz)return Ph;Hz=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.toJson=void 0,Ph.fromJson=n;const e=(o,i,u)=>JSON.stringify(o,i,u);Ph.toJson=e;function n(o,i){return JSON.parse(o,i)}return Ph}var Kz;function Xue(){if(Kz)return ug;Kz=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.CohereError=void 0;const e=__();let n=class D7 extends Error{constructor({message:u,statusCode:t,body:r,rawResponse:a}){super(o({message:u,statusCode:t,body:r})),Object.setPrototypeOf(this,D7.prototype),this.statusCode=t,this.body=r,this.rawResponse=a}};ug.CohereError=n;function o({message:i,statusCode:u,body:t}){const r=[];return i!=null&&r.push(i),u!=null&&r.push(`Status code: ${u.toString()}`),t!=null&&r.push(`Body: ${(0,e.toJson)(t,void 0,2)}`),r.join(`
`)}return ug}var lg={},kz;function ele(){if(kz)return lg;kz=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.CohereTimeoutError=void 0;let e=class I7 extends Error{constructor(o){super(o),Object.setPrototypeOf(this,I7.prototype)}};return lg.CohereTimeoutError=e,lg}var Yz;function Yt(){return Yz||(Yz=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CohereTimeoutError=e.CohereError=void 0;var n=Xue();Object.defineProperty(e,"CohereError",{enumerable:!0,get:function(){return n.CohereError}});var o=ele();Object.defineProperty(e,"CohereTimeoutError",{enumerable:!0,get:function(){return o.CohereTimeoutError}})})(YS)),YS}var Wz;function tle(){if(Wz)return Wn;Wz=1;var e=Wn&&Wn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Wn&&Wn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Wn&&Wn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.BadRequestError=void 0;const i=o(Yt());let u=class z7 extends i.CohereError{constructor(r,a){super({message:"BadRequestError",statusCode:400,body:r,rawResponse:a}),Object.setPrototypeOf(this,z7.prototype)}};return Wn.BadRequestError=u,Wn}var Jn={},Jz;function rle(){if(Jz)return Jn;Jz=1;var e=Jn&&Jn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Jn&&Jn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Jn&&Jn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.ClientClosedRequestError=void 0;const i=o(Yt());let u=class q7 extends i.CohereError{constructor(r,a){super({message:"ClientClosedRequestError",statusCode:499,body:r,rawResponse:a}),Object.setPrototypeOf(this,q7.prototype)}};return Jn.ClientClosedRequestError=u,Jn}var Zn={},Zz;function nle(){if(Zz)return Zn;Zz=1;var e=Zn&&Zn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Zn&&Zn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Zn&&Zn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.ForbiddenError=void 0;const i=o(Yt());let u=class B7 extends i.CohereError{constructor(r,a){super({message:"ForbiddenError",statusCode:403,body:r,rawResponse:a}),Object.setPrototypeOf(this,B7.prototype)}};return Zn.ForbiddenError=u,Zn}var Qn={},Qz;function ale(){if(Qz)return Qn;Qz=1;var e=Qn&&Qn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Qn&&Qn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Qn&&Qn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.GatewayTimeoutError=void 0;const i=o(Yt());let u=class U7 extends i.CohereError{constructor(r,a){super({message:"GatewayTimeoutError",statusCode:504,body:r,rawResponse:a}),Object.setPrototypeOf(this,U7.prototype)}};return Qn.GatewayTimeoutError=u,Qn}var Xn={},Xz;function ile(){if(Xz)return Xn;Xz=1;var e=Xn&&Xn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Xn&&Xn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Xn&&Xn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.InternalServerError=void 0;const i=o(Yt());let u=class L7 extends i.CohereError{constructor(r,a){super({message:"InternalServerError",statusCode:500,body:r,rawResponse:a}),Object.setPrototypeOf(this,L7.prototype)}};return Xn.InternalServerError=u,Xn}var ea={},eq;function ole(){if(eq)return ea;eq=1;var e=ea&&ea.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ea&&ea.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ea&&ea.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ea,"__esModule",{value:!0}),ea.InvalidTokenError=void 0;const i=o(Yt());let u=class $7 extends i.CohereError{constructor(r,a){super({message:"InvalidTokenError",statusCode:498,body:r,rawResponse:a}),Object.setPrototypeOf(this,$7.prototype)}};return ea.InvalidTokenError=u,ea}var ta={},tq;function sle(){if(tq)return ta;tq=1;var e=ta&&ta.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ta&&ta.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ta&&ta.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ta,"__esModule",{value:!0}),ta.NotFoundError=void 0;const i=o(Yt());let u=class F7 extends i.CohereError{constructor(r,a){super({message:"NotFoundError",statusCode:404,body:r,rawResponse:a}),Object.setPrototypeOf(this,F7.prototype)}};return ta.NotFoundError=u,ta}var ra={},rq;function ule(){if(rq)return ra;rq=1;var e=ra&&ra.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ra&&ra.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ra&&ra.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ra,"__esModule",{value:!0}),ra.NotImplementedError=void 0;const i=o(Yt());let u=class V7 extends i.CohereError{constructor(r,a){super({message:"NotImplementedError",statusCode:501,body:r,rawResponse:a}),Object.setPrototypeOf(this,V7.prototype)}};return ra.NotImplementedError=u,ra}var na={},nq;function lle(){if(nq)return na;nq=1;var e=na&&na.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=na&&na.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=na&&na.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(na,"__esModule",{value:!0}),na.ServiceUnavailableError=void 0;const i=o(Yt());let u=class G7 extends i.CohereError{constructor(r,a){super({message:"ServiceUnavailableError",statusCode:503,body:r,rawResponse:a}),Object.setPrototypeOf(this,G7.prototype)}};return na.ServiceUnavailableError=u,na}var aa={},aq;function cle(){if(aq)return aa;aq=1;var e=aa&&aa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=aa&&aa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=aa&&aa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(aa,"__esModule",{value:!0}),aa.TooManyRequestsError=void 0;const i=o(Yt());let u=class H7 extends i.CohereError{constructor(r,a){super({message:"TooManyRequestsError",statusCode:429,body:r,rawResponse:a}),Object.setPrototypeOf(this,H7.prototype)}};return aa.TooManyRequestsError=u,aa}var ia={},iq;function dle(){if(iq)return ia;iq=1;var e=ia&&ia.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ia&&ia.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ia&&ia.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ia,"__esModule",{value:!0}),ia.UnauthorizedError=void 0;const i=o(Yt());let u=class K7 extends i.CohereError{constructor(r,a){super({message:"UnauthorizedError",statusCode:401,body:r,rawResponse:a}),Object.setPrototypeOf(this,K7.prototype)}};return ia.UnauthorizedError=u,ia}var oa={},oq;function fle(){if(oq)return oa;oq=1;var e=oa&&oa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=oa&&oa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=oa&&oa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(oa,"__esModule",{value:!0}),oa.UnprocessableEntityError=void 0;const i=o(Yt());let u=class k7 extends i.CohereError{constructor(r,a){super({message:"UnprocessableEntityError",statusCode:422,body:r,rawResponse:a}),Object.setPrototypeOf(this,k7.prototype)}};return oa.UnprocessableEntityError=u,oa}var sq;function hle(){return sq||(sq=1,(function(e){var n=Md&&Md.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Md&&Md.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(tle(),e),o(rle(),e),o(nle(),e),o(ale(),e),o(ile(),e),o(ole(),e),o(sle(),e),o(ule(),e),o(lle(),e),o(cle(),e),o(dle(),e),o(fle(),e)})(Md)),Md}var sa={},xd={},Pd={},WS={},uq;function Y7(){return uq||(uq=1,Object.defineProperty(WS,"__esModule",{value:!0})),WS}var lq;function ple(){return lq||(lq=1,(function(e){var n=Pd&&Pd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Pd&&Pd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Y7(),e)})(Pd)),Pd}var Ad={},JS={},cq;function gle(){return cq||(cq=1,Object.defineProperty(JS,"__esModule",{value:!0})),JS}var cg={},dq;function mle(){return dq||(dq=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.BatchStatus=void 0,cg.BatchStatus={BatchStatusUnspecified:"BATCH_STATUS_UNSPECIFIED",BatchStatusQueued:"BATCH_STATUS_QUEUED",BatchStatusInProgress:"BATCH_STATUS_IN_PROGRESS",BatchStatusCanceling:"BATCH_STATUS_CANCELING",BatchStatusCompleted:"BATCH_STATUS_COMPLETED",BatchStatusFailed:"BATCH_STATUS_FAILED",BatchStatusCanceled:"BATCH_STATUS_CANCELED"}),cg}var ZS={},fq;function _le(){return fq||(fq=1,Object.defineProperty(ZS,"__esModule",{value:!0})),ZS}var QS={},hq;function yle(){return hq||(hq=1,Object.defineProperty(QS,"__esModule",{value:!0})),QS}var XS={},pq;function vle(){return pq||(pq=1,Object.defineProperty(XS,"__esModule",{value:!0})),XS}var eE={},gq;function ble(){return gq||(gq=1,Object.defineProperty(eE,"__esModule",{value:!0})),eE}var mq;function W7(){return mq||(mq=1,(function(e){var n=Ad&&Ad.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Ad&&Ad.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(gle(),e),o(mle(),e),o(_le(),e),o(yle(),e),o(vle(),e),o(ble(),e)})(Ad)),Ad}var _q;function wle(){return _q||(_q=1,(function(e){var n=xd&&xd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=xd&&xd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(ple(),e),o(W7(),e)})(xd)),xd}var Nd={},Dd={},tE={},yq;function J7(){return yq||(yq=1,Object.defineProperty(tE,"__esModule",{value:!0})),tE}var vq;function Ole(){return vq||(vq=1,(function(e){var n=Dd&&Dd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Dd&&Dd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(J7(),e)})(Dd)),Dd}var bq;function Sle(){return bq||(bq=1,(function(e){var n=Nd&&Nd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Nd&&Nd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Ole(),e)})(Nd)),Nd}var Id={},zd={},rE={},wq;function Z7(){return wq||(wq=1,Object.defineProperty(rE,"__esModule",{value:!0})),rE}var Oq;function Ele(){return Oq||(Oq=1,(function(e){var n=zd&&zd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=zd&&zd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Z7(),e)})(zd)),zd}var qd={},nE={},Sq;function Rle(){return Sq||(Sq=1,Object.defineProperty(nE,"__esModule",{value:!0})),nE}var aE={},Eq;function jle(){return Eq||(Eq=1,Object.defineProperty(aE,"__esModule",{value:!0})),aE}var iE={},Rq;function Cle(){return Rq||(Rq=1,Object.defineProperty(iE,"__esModule",{value:!0})),iE}var oE={},jq;function Tle(){return jq||(jq=1,Object.defineProperty(oE,"__esModule",{value:!0})),oE}var Cq;function Q7(){return Cq||(Cq=1,(function(e){var n=qd&&qd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=qd&&qd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Rle(),e),o(jle(),e),o(Cle(),e),o(Tle(),e)})(qd)),qd}var Tq;function Mle(){return Tq||(Tq=1,(function(e){var n=Id&&Id.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Id&&Id.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Ele(),e),o(Q7(),e)})(Id)),Id}var Bd={},Ud={},sE={},Mq;function X7(){return Mq||(Mq=1,Object.defineProperty(sE,"__esModule",{value:!0})),sE}var xq;function xle(){return xq||(xq=1,(function(e){var n=Ud&&Ud.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Ud&&Ud.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(X7(),e)})(Ud)),Ud}var Ld={},dg={},Pq;function Ple(){return Pq||(Pq=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.CreateEmbedJobRequestTruncate=void 0,dg.CreateEmbedJobRequestTruncate={Start:"START",End:"END"}),dg}var Aq;function eK(){return Aq||(Aq=1,(function(e){var n=Ld&&Ld.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Ld&&Ld.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Ple(),e)})(Ld)),Ld}var Nq;function Ale(){return Nq||(Nq=1,(function(e){var n=Bd&&Bd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Bd&&Bd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(xle(),e),o(eK(),e)})(Bd)),Bd}var $d={},Fd={},uE={},Dq;function tK(){return Dq||(Dq=1,Object.defineProperty(uE,"__esModule",{value:!0})),uE}var Iq;function Nle(){return Iq||(Iq=1,(function(e){var n=Fd&&Fd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Fd&&Fd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(tK(),e)})(Fd)),Fd}var ua={},Vd={},Gd={},lE={},zq;function Dle(){return zq||(zq=1,Object.defineProperty(lE,"__esModule",{value:!0})),lE}var fg={},qq;function Ile(){return qq||(qq=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.BaseType=void 0,fg.BaseType={BaseTypeUnspecified:"BASE_TYPE_UNSPECIFIED",BaseTypeGenerative:"BASE_TYPE_GENERATIVE",BaseTypeClassification:"BASE_TYPE_CLASSIFICATION",BaseTypeRerank:"BASE_TYPE_RERANK",BaseTypeChat:"BASE_TYPE_CHAT"}),fg}var cE={},Bq;function zle(){return Bq||(Bq=1,Object.defineProperty(cE,"__esModule",{value:!0})),cE}var dE={},Uq;function qle(){return Uq||(Uq=1,Object.defineProperty(dE,"__esModule",{value:!0})),dE}var fE={},Lq;function Ble(){return Lq||(Lq=1,Object.defineProperty(fE,"__esModule",{value:!0})),fE}var hE={},$q;function Ule(){return $q||($q=1,Object.defineProperty(hE,"__esModule",{value:!0})),hE}var pE={},Fq;function Lle(){return Fq||(Fq=1,Object.defineProperty(pE,"__esModule",{value:!0})),pE}var gE={},Vq;function $le(){return Vq||(Vq=1,Object.defineProperty(gE,"__esModule",{value:!0})),gE}var mE={},Gq;function Fle(){return Gq||(Gq=1,Object.defineProperty(mE,"__esModule",{value:!0})),mE}var _E={},Hq;function Vle(){return Hq||(Hq=1,Object.defineProperty(_E,"__esModule",{value:!0})),_E}var yE={},Kq;function Gle(){return Kq||(Kq=1,Object.defineProperty(yE,"__esModule",{value:!0})),yE}var hg={},kq;function Hle(){return kq||(kq=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.LoraTargetModules=void 0,hg.LoraTargetModules={LoraTargetModulesUnspecified:"LORA_TARGET_MODULES_UNSPECIFIED",LoraTargetModulesQv:"LORA_TARGET_MODULES_QV",LoraTargetModulesQkvo:"LORA_TARGET_MODULES_QKVO",LoraTargetModulesQkvoFfn:"LORA_TARGET_MODULES_QKVO_FFN"}),hg}var vE={},Yq;function Kle(){return Yq||(Yq=1,Object.defineProperty(vE,"__esModule",{value:!0})),vE}var pg={},Wq;function kle(){return Wq||(Wq=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.Status=void 0,pg.Status={StatusUnspecified:"STATUS_UNSPECIFIED",StatusFinetuning:"STATUS_FINETUNING",StatusDeployingApi:"STATUS_DEPLOYING_API",StatusReady:"STATUS_READY",StatusFailed:"STATUS_FAILED",StatusDeleted:"STATUS_DELETED",StatusTemporarilyOffline:"STATUS_TEMPORARILY_OFFLINE",StatusPaused:"STATUS_PAUSED",StatusQueued:"STATUS_QUEUED"}),pg}var gg={},Jq;function Yle(){return Jq||(Jq=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.Strategy=void 0,gg.Strategy={StrategyUnspecified:"STRATEGY_UNSPECIFIED",StrategyVanilla:"STRATEGY_VANILLA",StrategyTfew:"STRATEGY_TFEW"}),gg}var bE={},Zq;function Wle(){return Zq||(Zq=1,Object.defineProperty(bE,"__esModule",{value:!0})),bE}var wE={},Qq;function Jle(){return Qq||(Qq=1,Object.defineProperty(wE,"__esModule",{value:!0})),wE}var OE={},Xq;function Zle(){return Xq||(Xq=1,Object.defineProperty(OE,"__esModule",{value:!0})),OE}var e4;function rK(){return e4||(e4=1,(function(e){var n=Gd&&Gd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Gd&&Gd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Dle(),e),o(Ile(),e),o(zle(),e),o(qle(),e),o(Ble(),e),o(Ule(),e),o(Lle(),e),o($le(),e),o(Fle(),e),o(Vle(),e),o(Gle(),e),o(Hle(),e),o(Kle(),e),o(kle(),e),o(Yle(),e),o(Wle(),e),o(Jle(),e),o(Zle(),e)})(Gd)),Gd}var t4;function Qle(){return t4||(t4=1,(function(e){var n=Vd&&Vd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Vd&&Vd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(rK(),e)})(Vd)),Vd}var r4;function Xle(){return r4||(r4=1,(function(e){var n=ua&&ua.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=ua&&ua.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=ua&&ua.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})(),u=ua&&ua.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.finetuning=void 0,e.finetuning=i(Qle()),u(rK(),e)})(ua)),ua}var n4;function ece(){return n4||(n4=1,(function(e){var n=$d&&$d.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=$d&&$d.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Nle(),e),o(Xle(),e)})($d)),$d}var Hd={},Kd={},SE={},a4;function nK(){return a4||(a4=1,Object.defineProperty(SE,"__esModule",{value:!0})),SE}var i4;function tce(){return i4||(i4=1,(function(e){var n=Kd&&Kd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Kd&&Kd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(nK(),e)})(Kd)),Kd}var o4;function rce(){return o4||(o4=1,(function(e){var n=Hd&&Hd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Hd&&Hd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(tce(),e)})(Hd)),Hd}var kd={},Yd={},EE={},s4;function aK(){return s4||(s4=1,Object.defineProperty(EE,"__esModule",{value:!0})),EE}var u4;function nce(){return u4||(u4=1,(function(e){var n=Yd&&Yd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Yd&&Yd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(aK(),e)})(Yd)),Yd}var Wd={},RE={},l4;function ace(){return l4||(l4=1,Object.defineProperty(RE,"__esModule",{value:!0})),RE}var mg={},c4;function ice(){return c4||(c4=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.V2ChatRequestSafetyMode=void 0,mg.V2ChatRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",Off:"OFF"}),mg}var _g={},d4;function oce(){return d4||(d4=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.V2ChatRequestToolChoice=void 0,_g.V2ChatRequestToolChoice={Required:"REQUIRED",None:"NONE"}),_g}var jE={},f4;function sce(){return f4||(f4=1,Object.defineProperty(jE,"__esModule",{value:!0})),jE}var CE={},h4;function uce(){return h4||(h4=1,Object.defineProperty(CE,"__esModule",{value:!0})),CE}var yg={},p4;function lce(){return p4||(p4=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.V2ChatStreamRequestSafetyMode=void 0,yg.V2ChatStreamRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",Off:"OFF"}),yg}var vg={},g4;function cce(){return g4||(g4=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.V2ChatStreamRequestToolChoice=void 0,vg.V2ChatStreamRequestToolChoice={Required:"REQUIRED",None:"NONE"}),vg}var TE={},m4;function dce(){return m4||(m4=1,Object.defineProperty(TE,"__esModule",{value:!0})),TE}var bg={},_4;function fce(){return _4||(_4=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.V2EmbedRequestTruncate=void 0,bg.V2EmbedRequestTruncate={None:"NONE",Start:"START",End:"END"}),bg}var ME={},y4;function hce(){return y4||(y4=1,Object.defineProperty(ME,"__esModule",{value:!0})),ME}var xE={},v4;function pce(){return v4||(v4=1,Object.defineProperty(xE,"__esModule",{value:!0})),xE}var b4;function iK(){return b4||(b4=1,(function(e){var n=Wd&&Wd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Wd&&Wd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(ace(),e),o(ice(),e),o(oce(),e),o(sce(),e),o(uce(),e),o(lce(),e),o(cce(),e),o(dce(),e),o(fce(),e),o(hce(),e),o(pce(),e)})(Wd)),Wd}var w4;function gce(){return w4||(w4=1,(function(e){var n=kd&&kd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=kd&&kd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(nce(),e),o(iK(),e)})(kd)),kd}var O4;function mce(){return O4||(O4=1,(function(e){var n=sa&&sa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=sa&&sa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=sa&&sa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})(),u=sa&&sa.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.v2=e.models=e.finetuning=e.embedJobs=e.datasets=e.connectors=e.batches=void 0,e.batches=i(wle()),u(Y7(),e),u(W7(),e),e.connectors=i(Sle()),u(J7(),e),e.datasets=i(Mle()),u(Z7(),e),u(Q7(),e),e.embedJobs=i(Ale()),u(X7(),e),u(eK(),e),e.finetuning=i(ece()),u(tK(),e),e.models=i(rce()),u(nK(),e),e.v2=i(gce()),u(aK(),e),u(iK(),e)})(sa)),sa}var Jd={},PE={},S4;function _ce(){return S4||(S4=1,Object.defineProperty(PE,"__esModule",{value:!0})),PE}var AE={},E4;function yce(){return E4||(E4=1,Object.defineProperty(AE,"__esModule",{value:!0})),AE}var NE={},R4;function vce(){return R4||(R4=1,Object.defineProperty(NE,"__esModule",{value:!0})),NE}var DE={},j4;function bce(){return j4||(j4=1,Object.defineProperty(DE,"__esModule",{value:!0})),DE}var IE={},C4;function wce(){return C4||(C4=1,Object.defineProperty(IE,"__esModule",{value:!0})),IE}var zE={},T4;function Oce(){return T4||(T4=1,Object.defineProperty(zE,"__esModule",{value:!0})),zE}var qE={},M4;function Sce(){return M4||(M4=1,Object.defineProperty(qE,"__esModule",{value:!0})),qE}var BE={},x4;function Ece(){return x4||(x4=1,Object.defineProperty(BE,"__esModule",{value:!0})),BE}var UE={},P4;function Rce(){return P4||(P4=1,Object.defineProperty(UE,"__esModule",{value:!0})),UE}var wg={},A4;function jce(){return A4||(A4=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.AuthTokenType=void 0,wg.AuthTokenType={Bearer:"bearer",Basic:"basic",Noscheme:"noscheme"}),wg}var LE={},N4;function Cce(){return N4||(N4=1,Object.defineProperty(LE,"__esModule",{value:!0})),LE}var $E={},D4;function Tce(){return D4||(D4=1,Object.defineProperty($E,"__esModule",{value:!0})),$E}var Og={},I4;function Mce(){return I4||(I4=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.ChatCitationType=void 0,Og.ChatCitationType={TextContent:"TEXT_CONTENT",Plan:"PLAN"}),Og}var FE={},z4;function xce(){return z4||(z4=1,Object.defineProperty(FE,"__esModule",{value:!0})),FE}var VE={},q4;function Pce(){return q4||(q4=1,Object.defineProperty(VE,"__esModule",{value:!0})),VE}var GE={},B4;function Ace(){return B4||(B4=1,Object.defineProperty(GE,"__esModule",{value:!0})),GE}var HE={},U4;function Nce(){return U4||(U4=1,Object.defineProperty(HE,"__esModule",{value:!0})),HE}var KE={},L4;function Dce(){return L4||(L4=1,Object.defineProperty(KE,"__esModule",{value:!0})),KE}var kE={},$4;function Ice(){return $4||($4=1,Object.defineProperty(kE,"__esModule",{value:!0})),kE}var YE={},F4;function zce(){return F4||(F4=1,Object.defineProperty(YE,"__esModule",{value:!0})),YE}var WE={},V4;function qce(){return V4||(V4=1,Object.defineProperty(WE,"__esModule",{value:!0})),WE}var JE={},G4;function Bce(){return G4||(G4=1,Object.defineProperty(JE,"__esModule",{value:!0})),JE}var ZE={},H4;function Uce(){return H4||(H4=1,Object.defineProperty(ZE,"__esModule",{value:!0})),ZE}var Sg={},K4;function Lce(){return K4||(K4=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.ChatContentStartEventDeltaMessageContentType=void 0,Sg.ChatContentStartEventDeltaMessageContentType={Text:"text",Thinking:"thinking"}),Sg}var QE={},k4;function $ce(){return k4||(k4=1,Object.defineProperty(QE,"__esModule",{value:!0})),QE}var XE={},Y4;function Fce(){return Y4||(Y4=1,Object.defineProperty(XE,"__esModule",{value:!0})),XE}var eR={},W4;function Vce(){return W4||(W4=1,Object.defineProperty(eR,"__esModule",{value:!0})),eR}var tR={},J4;function Gce(){return J4||(J4=1,Object.defineProperty(tR,"__esModule",{value:!0})),tR}var Eg={},Z4;function Hce(){return Z4||(Z4=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.ChatFinishReason=void 0,Eg.ChatFinishReason={Complete:"COMPLETE",StopSequence:"STOP_SEQUENCE",MaxTokens:"MAX_TOKENS",ToolCall:"TOOL_CALL",Error:"ERROR",Timeout:"TIMEOUT"}),Eg}var rR={},Q4;function Kce(){return Q4||(Q4=1,Object.defineProperty(rR,"__esModule",{value:!0})),rR}var nR={},X4;function kce(){return X4||(X4=1,Object.defineProperty(nR,"__esModule",{value:!0})),nR}var aR={},eB;function Yce(){return eB||(eB=1,Object.defineProperty(aR,"__esModule",{value:!0})),aR}var iR={},tB;function Wce(){return tB||(tB=1,Object.defineProperty(iR,"__esModule",{value:!0})),iR}var oR={},rB;function Jce(){return rB||(rB=1,Object.defineProperty(oR,"__esModule",{value:!0})),oR}var sR={},nB;function Zce(){return nB||(nB=1,Object.defineProperty(sR,"__esModule",{value:!0})),sR}var uR={},aB;function Qce(){return aB||(aB=1,Object.defineProperty(uR,"__esModule",{value:!0})),uR}var lR={},iB;function Xce(){return iB||(iB=1,Object.defineProperty(lR,"__esModule",{value:!0})),lR}var Rg={},oB;function ede(){return oB||(oB=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.ChatRequestCitationQuality=void 0,Rg.ChatRequestCitationQuality={Enabled:"ENABLED",Disabled:"DISABLED",Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}),Rg}var jg={},sB;function tde(){return sB||(sB=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.ChatRequestPromptTruncation=void 0,jg.ChatRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}),jg}var Cg={},uB;function rde(){return uB||(uB=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.ChatRequestSafetyMode=void 0,Cg.ChatRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}),Cg}var cR={},lB;function nde(){return lB||(lB=1,Object.defineProperty(cR,"__esModule",{value:!0})),cR}var dR={},cB;function ade(){return cB||(cB=1,Object.defineProperty(dR,"__esModule",{value:!0})),dR}var fR={},dB;function ide(){return dB||(dB=1,Object.defineProperty(fR,"__esModule",{value:!0})),fR}var hR={},fB;function ode(){return fB||(fB=1,Object.defineProperty(hR,"__esModule",{value:!0})),hR}var pR={},hB;function sde(){return hB||(hB=1,Object.defineProperty(pR,"__esModule",{value:!0})),pR}var gR={},pB;function ude(){return pB||(pB=1,Object.defineProperty(gR,"__esModule",{value:!0})),gR}var Tg={},gB;function lde(){return gB||(gB=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.ChatStreamEndEventFinishReason=void 0,Tg.ChatStreamEndEventFinishReason={Complete:"COMPLETE",ErrorLimit:"ERROR_LIMIT",MaxTokens:"MAX_TOKENS",Error:"ERROR",ErrorToxic:"ERROR_TOXIC"}),Tg}var mR={},mB;function cde(){return mB||(mB=1,Object.defineProperty(mR,"__esModule",{value:!0})),mR}var _R={},_B;function dde(){return _B||(_B=1,Object.defineProperty(_R,"__esModule",{value:!0})),_R}var Mg={},yB;function fde(){return yB||(yB=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.ChatStreamRequestCitationQuality=void 0,Mg.ChatStreamRequestCitationQuality={Enabled:"ENABLED",Disabled:"DISABLED",Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}),Mg}var xg={},vB;function hde(){return vB||(vB=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.ChatStreamRequestPromptTruncation=void 0,xg.ChatStreamRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}),xg}var Pg={},bB;function pde(){return bB||(bB=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.ChatStreamRequestSafetyMode=void 0,Pg.ChatStreamRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}),Pg}var yR={},wB;function gde(){return wB||(wB=1,Object.defineProperty(yR,"__esModule",{value:!0})),yR}var vR={},OB;function mde(){return OB||(OB=1,Object.defineProperty(vR,"__esModule",{value:!0})),vR}var bR={},SB;function _de(){return SB||(SB=1,Object.defineProperty(bR,"__esModule",{value:!0})),bR}var wR={},EB;function yde(){return EB||(EB=1,Object.defineProperty(wR,"__esModule",{value:!0})),wR}var OR={},RB;function vde(){return RB||(RB=1,Object.defineProperty(OR,"__esModule",{value:!0})),OR}var SR={},jB;function bde(){return jB||(jB=1,Object.defineProperty(SR,"__esModule",{value:!0})),SR}var ER={},CB;function wde(){return CB||(CB=1,Object.defineProperty(ER,"__esModule",{value:!0})),ER}var RR={},TB;function Ode(){return TB||(TB=1,Object.defineProperty(RR,"__esModule",{value:!0})),RR}var jR={},MB;function Sde(){return MB||(MB=1,Object.defineProperty(jR,"__esModule",{value:!0})),jR}var CR={},xB;function Ede(){return xB||(xB=1,Object.defineProperty(CR,"__esModule",{value:!0})),CR}var TR={},PB;function Rde(){return PB||(PB=1,Object.defineProperty(TR,"__esModule",{value:!0})),TR}var MR={},AB;function jde(){return AB||(AB=1,Object.defineProperty(MR,"__esModule",{value:!0})),MR}var xR={},NB;function Cde(){return NB||(NB=1,Object.defineProperty(xR,"__esModule",{value:!0})),xR}var PR={},DB;function Tde(){return DB||(DB=1,Object.defineProperty(PR,"__esModule",{value:!0})),PR}var AR={},IB;function Mde(){return IB||(IB=1,Object.defineProperty(AR,"__esModule",{value:!0})),AR}var NR={},zB;function xde(){return zB||(zB=1,Object.defineProperty(NR,"__esModule",{value:!0})),NR}var DR={},qB;function Pde(){return qB||(qB=1,Object.defineProperty(DR,"__esModule",{value:!0})),DR}var IR={},BB;function Ade(){return BB||(BB=1,Object.defineProperty(IR,"__esModule",{value:!0})),IR}var zR={},UB;function Nde(){return UB||(UB=1,Object.defineProperty(zR,"__esModule",{value:!0})),zR}var qR={},LB;function Dde(){return LB||(LB=1,Object.defineProperty(qR,"__esModule",{value:!0})),qR}var BR={},$B;function Ide(){return $B||($B=1,Object.defineProperty(BR,"__esModule",{value:!0})),BR}var UR={},FB;function zde(){return FB||(FB=1,Object.defineProperty(UR,"__esModule",{value:!0})),UR}var LR={},VB;function qde(){return VB||(VB=1,Object.defineProperty(LR,"__esModule",{value:!0})),LR}var $R={},GB;function Bde(){return GB||(GB=1,Object.defineProperty($R,"__esModule",{value:!0})),$R}var FR={},HB;function Ude(){return HB||(HB=1,Object.defineProperty(FR,"__esModule",{value:!0})),FR}var VR={},KB;function Lde(){return KB||(KB=1,Object.defineProperty(VR,"__esModule",{value:!0})),VR}var Ag={},kB;function $de(){return kB||(kB=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.CitationOptionsMode=void 0,Ag.CitationOptionsMode={Enabled:"ENABLED",Disabled:"DISABLED",Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}),Ag}var GR={},YB;function Fde(){return YB||(YB=1,Object.defineProperty(GR,"__esModule",{value:!0})),GR}var HR={},WB;function Vde(){return WB||(WB=1,Object.defineProperty(HR,"__esModule",{value:!0})),HR}var KR={},JB;function Gde(){return JB||(JB=1,Object.defineProperty(KR,"__esModule",{value:!0})),KR}var Ng={},ZB;function Hde(){return ZB||(ZB=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.CitationType=void 0,Ng.CitationType={TextContent:"TEXT_CONTENT",ThinkingContent:"THINKING_CONTENT",Plan:"PLAN"}),Ng}var kR={},QB;function Kde(){return QB||(QB=1,Object.defineProperty(kR,"__esModule",{value:!0})),kR}var YR={},XB;function kde(){return XB||(XB=1,Object.defineProperty(YR,"__esModule",{value:!0})),YR}var Dg={},eU;function Yde(){return eU||(eU=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.ClassifyRequestTruncate=void 0,Dg.ClassifyRequestTruncate={None:"NONE",Start:"START",End:"END"}),Dg}var WR={},tU;function Wde(){return tU||(tU=1,Object.defineProperty(WR,"__esModule",{value:!0})),WR}var JR={},rU;function Jde(){return rU||(rU=1,Object.defineProperty(JR,"__esModule",{value:!0})),JR}var Ig={},nU;function Zde(){return nU||(nU=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.ClassifyResponseClassificationsItemClassificationType=void 0,Ig.ClassifyResponseClassificationsItemClassificationType={SingleLabel:"single-label",MultiLabel:"multi-label"}),Ig}var ZR={},aU;function Qde(){return aU||(aU=1,Object.defineProperty(ZR,"__esModule",{value:!0})),ZR}var zg={},iU;function Xde(){return iU||(iU=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.CompatibleEndpoint=void 0,zg.CompatibleEndpoint={Chat:"chat",Embed:"embed",Classify:"classify",Summarize:"summarize",Rerank:"rerank",Rate:"rate",Generate:"generate"}),zg}var QR={},oU;function efe(){return oU||(oU=1,Object.defineProperty(QR,"__esModule",{value:!0})),QR}var qg={},sU;function tfe(){return sU||(sU=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.ConnectorAuthStatus=void 0,qg.ConnectorAuthStatus={Valid:"valid",Expired:"expired"}),qg}var XR={},uU;function rfe(){return uU||(uU=1,Object.defineProperty(XR,"__esModule",{value:!0})),XR}var ej={},lU;function nfe(){return lU||(lU=1,Object.defineProperty(ej,"__esModule",{value:!0})),ej}var tj={},cU;function afe(){return cU||(cU=1,Object.defineProperty(tj,"__esModule",{value:!0})),tj}var rj={},dU;function ife(){return dU||(dU=1,Object.defineProperty(rj,"__esModule",{value:!0})),rj}var nj={},fU;function ofe(){return fU||(fU=1,Object.defineProperty(nj,"__esModule",{value:!0})),nj}var aj={},hU;function sfe(){return hU||(hU=1,Object.defineProperty(aj,"__esModule",{value:!0})),aj}var ij={},pU;function ufe(){return pU||(pU=1,Object.defineProperty(ij,"__esModule",{value:!0})),ij}var oj={},gU;function lfe(){return gU||(gU=1,Object.defineProperty(oj,"__esModule",{value:!0})),oj}var Bg={},mU;function cfe(){return mU||(mU=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.DatasetType=void 0,Bg.DatasetType={EmbedInput:"embed-input",EmbedResult:"embed-result",ClusterResult:"cluster-result",ClusterOutliers:"cluster-outliers",RerankerFinetuneInput:"reranker-finetune-input",SingleLabelClassificationFinetuneInput:"single-label-classification-finetune-input",ChatFinetuneInput:"chat-finetune-input",MultiLabelClassificationFinetuneInput:"multi-label-classification-finetune-input",BatchChatInput:"batch-chat-input",BatchOpenaiChatInput:"batch-openai-chat-input",BatchEmbedV2Input:"batch-embed-v2-input",BatchChatV2Input:"batch-chat-v2-input"}),Bg}var Ug={},_U;function dfe(){return _U||(_U=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.DatasetValidationStatus=void 0,Ug.DatasetValidationStatus={Unknown:"unknown",Queued:"queued",Processing:"processing",Failed:"failed",Validated:"validated",Skipped:"skipped"}),Ug}var sj={},yU;function ffe(){return yU||(yU=1,Object.defineProperty(sj,"__esModule",{value:!0})),sj}var uj={},vU;function hfe(){return vU||(vU=1,Object.defineProperty(uj,"__esModule",{value:!0})),uj}var lj={},bU;function pfe(){return bU||(bU=1,Object.defineProperty(lj,"__esModule",{value:!0})),lj}var cj={},wU;function gfe(){return wU||(wU=1,Object.defineProperty(cj,"__esModule",{value:!0})),cj}var dj={},OU;function mfe(){return OU||(OU=1,Object.defineProperty(dj,"__esModule",{value:!0})),dj}var fj={},SU;function _fe(){return SU||(SU=1,Object.defineProperty(fj,"__esModule",{value:!0})),fj}var hj={},EU;function yfe(){return EU||(EU=1,Object.defineProperty(hj,"__esModule",{value:!0})),hj}var Lg={},RU;function vfe(){return RU||(RU=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.EmbeddingType=void 0,Lg.EmbeddingType={Float:"float",Int8:"int8",Uint8:"uint8",Binary:"binary",Ubinary:"ubinary",Base64:"base64"}),Lg}var pj={},jU;function bfe(){return jU||(jU=1,Object.defineProperty(pj,"__esModule",{value:!0})),pj}var gj={},CU;function wfe(){return CU||(CU=1,Object.defineProperty(gj,"__esModule",{value:!0})),gj}var mj={},TU;function Ofe(){return TU||(TU=1,Object.defineProperty(mj,"__esModule",{value:!0})),mj}var _j={},MU;function Sfe(){return MU||(MU=1,Object.defineProperty(_j,"__esModule",{value:!0})),_j}var $g={},xU;function Efe(){return xU||(xU=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.EmbedInputType=void 0,$g.EmbedInputType={SearchDocument:"search_document",SearchQuery:"search_query",Classification:"classification",Clustering:"clustering",Image:"image"}),$g}var yj={},PU;function Rfe(){return PU||(PU=1,Object.defineProperty(yj,"__esModule",{value:!0})),yj}var Fg={},AU;function jfe(){return AU||(AU=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.EmbedJobStatus=void 0,Fg.EmbedJobStatus={Processing:"processing",Complete:"complete",Cancelling:"cancelling",Cancelled:"cancelled",Failed:"failed"}),Fg}var Vg={},NU;function Cfe(){return NU||(NU=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.EmbedJobTruncate=void 0,Vg.EmbedJobTruncate={Start:"START",End:"END"}),Vg}var Gg={},DU;function Tfe(){return DU||(DU=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.EmbedRequestTruncate=void 0,Gg.EmbedRequestTruncate={None:"NONE",Start:"START",End:"END"}),Gg}var vj={},IU;function Mfe(){return IU||(IU=1,Object.defineProperty(vj,"__esModule",{value:!0})),vj}var bj={},zU;function xfe(){return zU||(zU=1,Object.defineProperty(bj,"__esModule",{value:!0})),bj}var wj={},qU;function Pfe(){return qU||(qU=1,Object.defineProperty(wj,"__esModule",{value:!0})),wj}var Hg={},BU;function Afe(){return BU||(BU=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.FinishReason=void 0,Hg.FinishReason={Complete:"COMPLETE",StopSequence:"STOP_SEQUENCE",Error:"ERROR",ErrorToxic:"ERROR_TOXIC",ErrorLimit:"ERROR_LIMIT",UserCancel:"USER_CANCEL",MaxTokens:"MAX_TOKENS",Timeout:"TIMEOUT"}),Hg}var Kg={},UU;function Nfe(){return UU||(UU=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.GenerateRequestReturnLikelihoods=void 0,Kg.GenerateRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}),Kg}var kg={},LU;function Dfe(){return LU||(LU=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.GenerateRequestTruncate=void 0,kg.GenerateRequestTruncate={None:"NONE",Start:"START",End:"END"}),kg}var Oj={},$U;function Ife(){return $U||($U=1,Object.defineProperty(Oj,"__esModule",{value:!0})),Oj}var Sj={},FU;function zfe(){return FU||(FU=1,Object.defineProperty(Sj,"__esModule",{value:!0})),Sj}var Ej={},VU;function qfe(){return VU||(VU=1,Object.defineProperty(Ej,"__esModule",{value:!0})),Ej}var Rj={},GU;function Bfe(){return GU||(GU=1,Object.defineProperty(Rj,"__esModule",{value:!0})),Rj}var jj={},HU;function Ufe(){return HU||(HU=1,Object.defineProperty(jj,"__esModule",{value:!0})),jj}var Yg={},KU;function Lfe(){return KU||(KU=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.GenerateStreamRequestReturnLikelihoods=void 0,Yg.GenerateStreamRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}),Yg}var Wg={},kU;function $fe(){return kU||(kU=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.GenerateStreamRequestTruncate=void 0,Wg.GenerateStreamRequestTruncate={None:"NONE",Start:"START",End:"END"}),Wg}var Cj={},YU;function Ffe(){return YU||(YU=1,Object.defineProperty(Cj,"__esModule",{value:!0})),Cj}var Tj={},WU;function Vfe(){return WU||(WU=1,Object.defineProperty(Tj,"__esModule",{value:!0})),Tj}var Mj={},JU;function Gfe(){return JU||(JU=1,Object.defineProperty(Mj,"__esModule",{value:!0})),Mj}var xj={},ZU;function Hfe(){return ZU||(ZU=1,Object.defineProperty(xj,"__esModule",{value:!0})),xj}var Pj={},QU;function Kfe(){return QU||(QU=1,Object.defineProperty(Pj,"__esModule",{value:!0})),Pj}var Aj={},XU;function kfe(){return XU||(XU=1,Object.defineProperty(Aj,"__esModule",{value:!0})),Aj}var Nj={},eL;function Yfe(){return eL||(eL=1,Object.defineProperty(Nj,"__esModule",{value:!0})),Nj}var Jg={},tL;function Wfe(){return tL||(tL=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.ImageUrlDetail=void 0,Jg.ImageUrlDetail={Auto:"auto",Low:"low",High:"high"}),Jg}var Dj={},rL;function Jfe(){return rL||(rL=1,Object.defineProperty(Dj,"__esModule",{value:!0})),Dj}var Ij={},nL;function Zfe(){return nL||(nL=1,Object.defineProperty(Ij,"__esModule",{value:!0})),Ij}var zj={},aL;function Qfe(){return aL||(aL=1,Object.defineProperty(zj,"__esModule",{value:!0})),zj}var qj={},iL;function Xfe(){return iL||(iL=1,Object.defineProperty(qj,"__esModule",{value:!0})),qj}var Bj={},oL;function ehe(){return oL||(oL=1,Object.defineProperty(Bj,"__esModule",{value:!0})),Bj}var Uj={},sL;function the(){return sL||(sL=1,Object.defineProperty(Uj,"__esModule",{value:!0})),Uj}var Lj={},uL;function rhe(){return uL||(uL=1,Object.defineProperty(Lj,"__esModule",{value:!0})),Lj}var $j={},lL;function nhe(){return lL||(lL=1,Object.defineProperty($j,"__esModule",{value:!0})),$j}var Fj={},cL;function ahe(){return cL||(cL=1,Object.defineProperty(Fj,"__esModule",{value:!0})),Fj}var Vj={},dL;function ihe(){return dL||(dL=1,Object.defineProperty(Vj,"__esModule",{value:!0})),Vj}var Gj={},fL;function ohe(){return fL||(fL=1,Object.defineProperty(Gj,"__esModule",{value:!0})),Gj}var Hj={},hL;function she(){return hL||(hL=1,Object.defineProperty(Hj,"__esModule",{value:!0})),Hj}var Kj={},pL;function uhe(){return pL||(pL=1,Object.defineProperty(Kj,"__esModule",{value:!0})),Kj}var kj={},gL;function lhe(){return gL||(gL=1,Object.defineProperty(kj,"__esModule",{value:!0})),kj}var Yj={},mL;function che(){return mL||(mL=1,Object.defineProperty(Yj,"__esModule",{value:!0})),Yj}var Wj={},_L;function dhe(){return _L||(_L=1,Object.defineProperty(Wj,"__esModule",{value:!0})),Wj}var Jj={},yL;function fhe(){return yL||(yL=1,Object.defineProperty(Jj,"__esModule",{value:!0})),Jj}var Zj={},vL;function hhe(){return vL||(vL=1,Object.defineProperty(Zj,"__esModule",{value:!0})),Zj}var Qj={},bL;function phe(){return bL||(bL=1,Object.defineProperty(Qj,"__esModule",{value:!0})),Qj}var Xj={},wL;function ghe(){return wL||(wL=1,Object.defineProperty(Xj,"__esModule",{value:!0})),Xj}var eC={},OL;function mhe(){return OL||(OL=1,Object.defineProperty(eC,"__esModule",{value:!0})),eC}var tC={},SL;function _he(){return SL||(SL=1,Object.defineProperty(tC,"__esModule",{value:!0})),tC}var rC={},EL;function yhe(){return EL||(EL=1,Object.defineProperty(rC,"__esModule",{value:!0})),rC}var nC={},RL;function vhe(){return RL||(RL=1,Object.defineProperty(nC,"__esModule",{value:!0})),nC}var aC={},jL;function bhe(){return jL||(jL=1,Object.defineProperty(aC,"__esModule",{value:!0})),aC}var Zg={},CL;function whe(){return CL||(CL=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.SummarizeRequestExtractiveness=void 0,Zg.SummarizeRequestExtractiveness={Low:"low",Medium:"medium",High:"high"}),Zg}var Qg={},TL;function Ohe(){return TL||(TL=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.SummarizeRequestFormat=void 0,Qg.SummarizeRequestFormat={Paragraph:"paragraph",Bullets:"bullets"}),Qg}var Xg={},ML;function She(){return ML||(ML=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.SummarizeRequestLength=void 0,Xg.SummarizeRequestLength={Short:"short",Medium:"medium",Long:"long"}),Xg}var iC={},xL;function Ehe(){return xL||(xL=1,Object.defineProperty(iC,"__esModule",{value:!0})),iC}var oC={},PL;function Rhe(){return PL||(PL=1,Object.defineProperty(oC,"__esModule",{value:!0})),oC}var sC={},AL;function jhe(){return AL||(AL=1,Object.defineProperty(sC,"__esModule",{value:!0})),sC}var uC={},NL;function Che(){return NL||(NL=1,Object.defineProperty(uC,"__esModule",{value:!0})),uC}var lC={},DL;function The(){return DL||(DL=1,Object.defineProperty(lC,"__esModule",{value:!0})),lC}var em={},IL;function Mhe(){return IL||(IL=1,Object.defineProperty(em,"__esModule",{value:!0}),em.ThinkingType=void 0,em.ThinkingType={Enabled:"enabled",Disabled:"disabled"}),em}var cC={},zL;function xhe(){return zL||(zL=1,Object.defineProperty(cC,"__esModule",{value:!0})),cC}var dC={},qL;function Phe(){return qL||(qL=1,Object.defineProperty(dC,"__esModule",{value:!0})),dC}var fC={},BL;function Ahe(){return BL||(BL=1,Object.defineProperty(fC,"__esModule",{value:!0})),fC}var hC={},UL;function Nhe(){return UL||(UL=1,Object.defineProperty(hC,"__esModule",{value:!0})),hC}var pC={},LL;function Dhe(){return LL||(LL=1,Object.defineProperty(pC,"__esModule",{value:!0})),pC}var gC={},$L;function Ihe(){return $L||($L=1,Object.defineProperty(gC,"__esModule",{value:!0})),gC}var mC={},FL;function zhe(){return FL||(FL=1,Object.defineProperty(mC,"__esModule",{value:!0})),mC}var _C={},VL;function qhe(){return VL||(VL=1,Object.defineProperty(_C,"__esModule",{value:!0})),_C}var yC={},GL;function Bhe(){return GL||(GL=1,Object.defineProperty(yC,"__esModule",{value:!0})),yC}var vC={},HL;function Uhe(){return HL||(HL=1,Object.defineProperty(vC,"__esModule",{value:!0})),vC}var bC={},KL;function Lhe(){return KL||(KL=1,Object.defineProperty(bC,"__esModule",{value:!0})),bC}var wC={},kL;function $he(){return kL||(kL=1,Object.defineProperty(wC,"__esModule",{value:!0})),wC}var OC={},YL;function Fhe(){return YL||(YL=1,Object.defineProperty(OC,"__esModule",{value:!0})),OC}var SC={},WL;function Vhe(){return WL||(WL=1,Object.defineProperty(SC,"__esModule",{value:!0})),SC}var EC={},JL;function Ghe(){return JL||(JL=1,Object.defineProperty(EC,"__esModule",{value:!0})),EC}var RC={},ZL;function Hhe(){return ZL||(ZL=1,Object.defineProperty(RC,"__esModule",{value:!0})),RC}var jC={},QL;function Khe(){return QL||(QL=1,Object.defineProperty(jC,"__esModule",{value:!0})),jC}var CC={},XL;function khe(){return XL||(XL=1,Object.defineProperty(CC,"__esModule",{value:!0})),CC}var TC={},e2;function Yhe(){return e2||(e2=1,Object.defineProperty(TC,"__esModule",{value:!0})),TC}var t2;function Whe(){return t2||(t2=1,(function(e){var n=Jd&&Jd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Jd&&Jd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(_ce(),e),o(yce(),e),o(vce(),e),o(bce(),e),o(wce(),e),o(Oce(),e),o(Sce(),e),o(Ece(),e),o(Rce(),e),o(jce(),e),o(Cce(),e),o(Tce(),e),o(Mce(),e),o(xce(),e),o(Pce(),e),o(Ace(),e),o(Nce(),e),o(Dce(),e),o(Ice(),e),o(zce(),e),o(qce(),e),o(Bce(),e),o(Uce(),e),o(Lce(),e),o($ce(),e),o(Fce(),e),o(Vce(),e),o(Gce(),e),o(Hce(),e),o(Kce(),e),o(kce(),e),o(Yce(),e),o(Wce(),e),o(Jce(),e),o(Zce(),e),o(Qce(),e),o(Xce(),e),o(ede(),e),o(tde(),e),o(rde(),e),o(nde(),e),o(ade(),e),o(ide(),e),o(ode(),e),o(sde(),e),o(ude(),e),o(lde(),e),o(cde(),e),o(dde(),e),o(fde(),e),o(hde(),e),o(pde(),e),o(gde(),e),o(mde(),e),o(_de(),e),o(yde(),e),o(vde(),e),o(bde(),e),o(wde(),e),o(Ode(),e),o(Sde(),e),o(Ede(),e),o(Rde(),e),o(jde(),e),o(Cde(),e),o(Tde(),e),o(Mde(),e),o(xde(),e),o(Pde(),e),o(Ade(),e),o(Nde(),e),o(Dde(),e),o(Ide(),e),o(zde(),e),o(qde(),e),o(Bde(),e),o(Ude(),e),o(Lde(),e),o($de(),e),o(Fde(),e),o(Vde(),e),o(Gde(),e),o(Hde(),e),o(Kde(),e),o(kde(),e),o(Yde(),e),o(Wde(),e),o(Jde(),e),o(Zde(),e),o(Qde(),e),o(Xde(),e),o(efe(),e),o(tfe(),e),o(rfe(),e),o(nfe(),e),o(afe(),e),o(ife(),e),o(ofe(),e),o(sfe(),e),o(ufe(),e),o(lfe(),e),o(cfe(),e),o(dfe(),e),o(ffe(),e),o(hfe(),e),o(pfe(),e),o(gfe(),e),o(mfe(),e),o(_fe(),e),o(yfe(),e),o(vfe(),e),o(bfe(),e),o(wfe(),e),o(Ofe(),e),o(Sfe(),e),o(Efe(),e),o(Rfe(),e),o(jfe(),e),o(Cfe(),e),o(Tfe(),e),o(Mfe(),e),o(xfe(),e),o(Pfe(),e),o(Afe(),e),o(Nfe(),e),o(Dfe(),e),o(Ife(),e),o(zfe(),e),o(qfe(),e),o(Bfe(),e),o(Ufe(),e),o(Lfe(),e),o($fe(),e),o(Ffe(),e),o(Vfe(),e),o(Gfe(),e),o(Hfe(),e),o(Kfe(),e),o(kfe(),e),o(Yfe(),e),o(Wfe(),e),o(Jfe(),e),o(Zfe(),e),o(Qfe(),e),o(Xfe(),e),o(ehe(),e),o(the(),e),o(rhe(),e),o(nhe(),e),o(ahe(),e),o(ihe(),e),o(ohe(),e),o(she(),e),o(uhe(),e),o(lhe(),e),o(che(),e),o(dhe(),e),o(fhe(),e),o(hhe(),e),o(phe(),e),o(ghe(),e),o(mhe(),e),o(_he(),e),o(yhe(),e),o(vhe(),e),o(bhe(),e),o(whe(),e),o(Ohe(),e),o(She(),e),o(Ehe(),e),o(Rhe(),e),o(jhe(),e),o(Che(),e),o(The(),e),o(Mhe(),e),o(xhe(),e),o(Phe(),e),o(Ahe(),e),o(Nhe(),e),o(Dhe(),e),o(Ihe(),e),o(zhe(),e),o(qhe(),e),o(Bhe(),e),o(Uhe(),e),o(Lhe(),e),o($he(),e),o(Fhe(),e),o(Vhe(),e),o(Ghe(),e),o(Hhe(),e),o(Khe(),e),o(khe(),e),o(Yhe(),e)})(Jd)),Jd}var r2;function ac(){return r2||(r2=1,(function(e){var n=Cd&&Cd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Cd&&Cd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Que(),e),o(hle(),e),o(mce(),e),o(Whe(),e)})(Cd)),Cd}var Zd={},nn={};function Jhe(e,n,o,i){function u(t){return t instanceof o?t:new o(function(r){r(t)})}return new(o||(o=Promise))(function(t,r){function a(f){try{l(i.next(f))}catch(m){r(m)}}function s(f){try{l(i.throw(f))}catch(m){r(m)}}function l(f){f.done?t(f.value):u(f.value).then(a,s)}l((i=i.apply(e,n||[])).next())})}function Zhe(e,n){var o={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},i,u,t,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(l){return function(f){return s([l,f])}}function s(l){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(o=0)),o;)try{if(i=1,u&&(t=l[0]&2?u.return:l[0]?u.throw||((t=u.return)&&t.call(u),0):u.next)&&!(t=t.call(u,l[1])).done)return t;switch(u=0,t&&(l=[l[0]&2,t.value]),l[0]){case 0:case 1:t=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,u=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(t=o.trys,!(t=t.length>0&&t[t.length-1])&&(l[0]===6||l[0]===2)){o=0;continue}if(l[0]===3&&(!t||l[1]>t[0]&&l[1]<t[3])){o.label=l[1];break}if(l[0]===6&&o.label<t[1]){o.label=t[1],t=l;break}if(t&&o.label<t[2]){o.label=t[2],o.ops.push(l);break}t[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(f){l=[6,f],u=0}finally{i=t=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Dn=64,Qhe=32,Xhe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),epe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],tpe=Math.pow(2,53)-1,kv=(function(){function e(){this.state=Int32Array.from(epe),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var o=0,i=n.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>tpe)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=n[o++],i--,this.bufferLength===Dn&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,o=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(o.setUint8(this.bufferLength++,128),i%Dn>=Dn-8){for(var u=this.bufferLength;u<Dn;u++)o.setUint8(u,0);this.hashBuffer(),this.bufferLength=0}for(var u=this.bufferLength;u<Dn-8;u++)o.setUint8(u,0);o.setUint32(Dn-8,Math.floor(n/4294967296),!0),o.setUint32(Dn-4,n),this.hashBuffer(),this.finished=!0}for(var t=new Uint8Array(Qhe),u=0;u<8;u++)t[u*4]=this.state[u]>>>24&255,t[u*4+1]=this.state[u]>>>16&255,t[u*4+2]=this.state[u]>>>8&255,t[u*4+3]=this.state[u]>>>0&255;return t},e.prototype.hashBuffer=function(){for(var n=this,o=n.buffer,i=n.state,u=i[0],t=i[1],r=i[2],a=i[3],s=i[4],l=i[5],f=i[6],m=i[7],b=0;b<Dn;b++){if(b<16)this.temp[b]=(o[b*4]&255)<<24|(o[b*4+1]&255)<<16|(o[b*4+2]&255)<<8|o[b*4+3]&255;else{var _=this.temp[b-2],p=(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10;_=this.temp[b-15];var y=(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3;this.temp[b]=(p+this.temp[b-7]|0)+(y+this.temp[b-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&f)|0)+(m+(Xhe[b]+this.temp[b]|0)|0)|0,S=((u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10))+(u&t^u&r^t&r)|0;m=f,f=l,l=s,s=a+v|0,a=r,r=t,t=u,u=v+S|0}i[0]+=u,i[1]+=t,i[2]+=r,i[3]+=a,i[4]+=s,i[5]+=l,i[6]+=f,i[7]+=m},e})();const rpe=e=>new TextEncoder().encode(e);var npe=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:rpe;function oK(e){return e instanceof Uint8Array?e:typeof e=="string"?npe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function ape(e){return typeof e=="string"?e.length===0:e.byteLength===0}var ipe=(function(){function e(n){this.secret=n,this.hash=new kv,this.reset()}return e.prototype.update=function(n){if(!(ape(n)||this.error))try{this.hash.update(oK(n))}catch(o){this.error=o}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Jhe(this,void 0,void 0,function(){return Zhe(this,function(n){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new kv,this.secret){this.outer=new kv;var n=ope(this.secret),o=new Uint8Array(Dn);o.set(n);for(var i=0;i<Dn;i++)n[i]^=54,o[i]^=92;this.hash.update(n),this.outer.update(o);for(var i=0;i<n.byteLength;i++)n[i]=0}},e})();function ope(e){var n=oK(e);if(n.byteLength>Dn){var o=new kv;o.update(n),n=o.digest()}var i=new Uint8Array(Dn);return i.set(n),i}const spe=Object.freeze(Object.defineProperty({__proto__:null,Sha256:ipe},Symbol.toStringTag,{value:"Module"})),upe=n_(spe),lpe="modulepreload",cpe=function(e){return"/ai-agents-101/"+e},n2={},Kb=function(n,o,i){let u=Promise.resolve();if(o&&o.length>0){let s=function(l){return Promise.all(l.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");u=s(o.map(l=>{if(l=cpe(l),l in n2)return;n2[l]=!0;const f=l.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":lpe,f||(b.as="script"),b.crossOrigin="",b.href=l,a&&b.setAttribute("nonce",a),document.head.appendChild(b),f)return new Promise((_,p)=>{b.addEventListener("load",_),b.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function t(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return u.then(r=>{for(const a of r||[])a.status==="rejected"&&t(a.reason);return n().catch(t)})};class xM extends Error{name="ProviderError";tryNextLink;constructor(n,o=!0){let i,u=!0;typeof o=="boolean"?(i=void 0,u=o):o!=null&&typeof o=="object"&&(i=o.logger,u=o.tryNextLink??!0),super(n),this.tryNextLink=u,Object.setPrototypeOf(this,xM.prototype),i?.debug?.(`@smithy/property-provider ${u?"->":"(!)"} ${n}`)}static from(n,o=!0){return Object.assign(new this(n.message,o),n)}}class _n extends xM{name="CredentialsProviderError";constructor(n,o=!0){super(n,o),Object.setPrototypeOf(this,_n.prototype)}}function sK(e){return Promise.all(Object.keys(e).reduce((n,o)=>{const i=e[o];return typeof i=="string"?n.push([o,i]):n.push(i().then(u=>[o,u])),n},[])).then(n=>n.reduce((o,[i,u])=>(o[i]=u,o),{}))}function uK(e){return async n=>{e.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const{GetCredentialsForIdentityCommand:o,CognitoIdentityClient:i}=await Kb(async()=>{const{GetCredentialsForIdentityCommand:l,CognitoIdentityClient:f}=await import("./loadCognitoIdentity-CXLULbCF.js");return{GetCredentialsForIdentityCommand:l,CognitoIdentityClient:f}},__vite__mapDeps([0,1])),u=l=>e.clientConfig?.[l]??e.parentClientConfig?.[l]??n?.callerClientConfig?.[l],{Credentials:{AccessKeyId:t=dpe(e.logger),Expiration:r,SecretKey:a=hpe(e.logger),SessionToken:s}=fpe(e.logger)}=await(e.client??new i(Object.assign({},e.clientConfig??{},{region:u("region"),profile:u("profile"),userAgentAppId:u("userAgentAppId")}))).send(new o({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await sK(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:t,secretAccessKey:a,sessionToken:s,expiration:r}}}function dpe(e){throw new _n("Response from Amazon Cognito contained no access key ID",{logger:e})}function fpe(e){throw new _n("Response from Amazon Cognito contained no credentials",{logger:e})}function hpe(e){throw new _n("Response from Amazon Cognito contained no secret key",{logger:e})}const MC="IdentityIds";class ppe{dbName;constructor(n="aws:cognito-identity-ids"){this.dbName=n}getItem(n){return this.withObjectStore("readonly",o=>{const i=o.get(n);return new Promise(u=>{i.onerror=()=>u(null),i.onsuccess=()=>u(i.result?i.result.value:null)})}).catch(()=>null)}removeItem(n){return this.withObjectStore("readwrite",o=>{const i=o.delete(n);return new Promise((u,t)=>{i.onerror=()=>t(i.error),i.onsuccess=()=>u()})})}setItem(n,o){return this.withObjectStore("readwrite",i=>{const u=i.put({id:n,value:o});return new Promise((t,r)=>{u.onerror=()=>r(u.error),u.onsuccess=()=>t()})})}getDb(){const n=self.indexedDB.open(this.dbName,1);return new Promise((o,i)=>{n.onsuccess=()=>{o(n.result)},n.onerror=()=>{i(n.error)},n.onblocked=()=>{i(new Error("Unable to access DB"))},n.onupgradeneeded=()=>{const u=n.result;u.onerror=()=>{i(new Error("Failed to create object store"))},u.createObjectStore(MC,{keyPath:"id"})}})}withObjectStore(n,o){return this.getDb().then(i=>{const u=i.transaction(MC,n);return u.oncomplete=()=>i.close(),new Promise((t,r)=>{u.onerror=()=>r(u.error),t(o(u.objectStore(MC)))}).catch(t=>{throw i.close(),t})})}}class gpe{store;constructor(n={}){this.store=n}getItem(n){return n in this.store?this.store[n]:null}removeItem(n){delete this.store[n]}setItem(n,o){this.store[n]=o}}const mpe=new gpe;function _pe(){return typeof self=="object"&&self.indexedDB?new ppe:typeof window=="object"&&window.localStorage?window.localStorage:mpe}function ype({accountId:e,cache:n=_pe(),client:o,clientConfig:i,customRoleArn:u,identityPoolId:t,logins:r,userIdentifier:a=!r||Object.keys(r).length===0?"ANONYMOUS":void 0,logger:s,parentClientConfig:l}){s?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const f=a?`aws:cognito-identity-credentials:${t}:${a}`:void 0;let m=async b=>{const{GetIdCommand:_,CognitoIdentityClient:p}=await Kb(async()=>{const{GetIdCommand:R,CognitoIdentityClient:j}=await import("./loadCognitoIdentity-CXLULbCF.js");return{GetIdCommand:R,CognitoIdentityClient:j}},__vite__mapDeps([0,1])),y=R=>i?.[R]??l?.[R]??b?.callerClientConfig?.[R],v=o??new p(Object.assign({},i??{},{region:y("region"),profile:y("profile"),userAgentAppId:y("userAgentAppId")}));let S=f&&await n.getItem(f);if(!S){const{IdentityId:R=vpe(s)}=await v.send(new _({AccountId:e,IdentityPoolId:t,Logins:r?await sK(r):void 0}));S=R,f&&Promise.resolve(n.setItem(f,S)).catch(()=>{})}return m=uK({client:v,customRoleArn:u,logins:r,identityId:S}),m(b)};return b=>m(b).catch(async _=>{throw f&&Promise.resolve(n.removeItem(f)).catch(()=>{}),_})}function vpe(e){throw new _n("Response from Amazon Cognito contained no identity ID",{logger:e})}const bpe=e=>uK({...e}),wpe=e=>ype({...e});var ST;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(ST||(ST={}));let a2=class{statusCode;reason;headers;body;constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;const o=n;return typeof o.statusCode=="number"&&typeof o.headers=="object"}};const Df=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ope),Ope=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Spe(e){const n=[];for(let o of Object.keys(e).sort()){const i=e[o];if(o=Df(o),Array.isArray(i))for(let u=0,t=i.length;u<t;u++)n.push(`${o}=${Df(i[u])}`);else{let u=o;(i||typeof i=="string")&&(u+=`=${Df(i)}`),n.push(u)}}return n.join("&")}function i2(e,n){return new Request(e,n)}function Epe(e=0){return new Promise((n,o)=>{e&&setTimeout(()=>{const i=new Error(`Request did not complete within ${e} ms`);i.name="TimeoutError",o(i)},e)})}const xC={supported:void 0};class PM{config;configProvider;static create(n){return typeof n?.handle=="function"?n:new PM(n)}constructor(n){typeof n=="function"?this.configProvider=n().then(o=>o||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),xC.supported===void 0&&(xC.supported=typeof Request<"u"&&"keepalive"in i2("https://[::1]"))}destroy(){}async handle(n,{abortSignal:o,requestTimeout:i}={}){this.config||(this.config=await this.configProvider);const u=i??this.config.requestTimeout,t=this.config.keepAlive===!0,r=this.config.credentials;if(o?.aborted){const R=new Error("Request aborted");return R.name="AbortError",Promise.reject(R)}let a=n.path;const s=Spe(n.query||{});s&&(a+=`?${s}`),n.fragment&&(a+=`#${n.fragment}`);let l="";if(n.username!=null||n.password!=null){const R=n.username??"",j=n.password??"";l=`${R}:${j}@`}const{port:f,method:m}=n,b=`${n.protocol}//${l}${n.hostname}${f?`:${f}`:""}${a}`,_=m==="GET"||m==="HEAD"?void 0:n.body,p={body:_,headers:new Headers(n.headers),method:m,credentials:r};this.config?.cache&&(p.cache=this.config.cache),_&&(p.duplex="half"),typeof AbortController<"u"&&(p.signal=o),xC.supported&&(p.keepalive=t),typeof this.config.requestInit=="function"&&Object.assign(p,this.config.requestInit(n));let y=()=>{};const v=i2(b,p),S=[fetch(v).then(R=>{const j=R.headers,P={};for(const C of j.entries())P[C[0]]=C[1];return R.body!=null?{response:new a2({headers:P,reason:R.statusText,statusCode:R.status,body:R.body})}:R.blob().then(C=>({response:new a2({headers:P,reason:R.statusText,statusCode:R.status,body:C})}))}),Epe(u)];return o&&S.push(new Promise((R,j)=>{const P=()=>{const T=new Error("Request aborted");T.name="AbortError",j(T)};if(typeof o.addEventListener=="function"){const T=o;T.addEventListener("abort",P,{once:!0}),y=()=>T.removeEventListener("abort",P)}else o.onabort=P})),Promise.race(S).finally(y)}updateHttpClientConfig(n,o){this.config=void 0,this.configProvider=this.configProvider.then(i=>(i[n]=o,i))}httpHandlerConfigs(){return this.config??{}}}const lK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o2=Object.entries(lK).reduce((e,[n,o])=>(e[o]=Number(n),e),{}),Rpe=lK.split(""),Wh=6,Bm=8,jpe=63,Cpe=e=>{let n=e.length/4*3;e.slice(-2)==="=="?n-=2:e.slice(-1)==="="&&n--;const o=new ArrayBuffer(n),i=new DataView(o);for(let u=0;u<e.length;u+=4){let t=0,r=0;for(let l=u,f=u+3;l<=f;l++)if(e[l]!=="="){if(!(e[l]in o2))throw new TypeError(`Invalid character ${e[l]} in base64 string.`);t|=o2[e[l]]<<(f-l)*Wh,r+=Wh}else t>>=Wh;const a=u/4*3;t>>=r%Bm;const s=Math.floor(r/Bm);for(let l=0;l<s;l++){const f=(s-l-1)*Bm;i.setUint8(a+l,(t&255<<f)>>f)}}return new Uint8Array(o)},Tpe=e=>new TextEncoder().encode(e);function Mpe(e){let n;typeof e=="string"?n=Tpe(e):n=e;const o=typeof n=="object"&&typeof n.length=="number",i=typeof n=="object"&&typeof n.byteOffset=="number"&&typeof n.byteLength=="number";if(!o&&!i)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let u="";for(let t=0;t<n.length;t+=3){let r=0,a=0;for(let l=t,f=Math.min(t+3,n.length);l<f;l++)r|=n[l]<<(f-l-1)*Bm,a+=Bm;const s=Math.ceil(a/Wh);r<<=s*Wh-a;for(let l=1;l<=s;l++){const f=(s-l)*Wh;u+=Rpe[(r&jpe<<f)>>f]}u+="==".slice(0,4-s)}return u}const xpe=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Ppe(e):Ape(e);async function Ppe(e){const n=await Npe(e),o=Cpe(n);return new Uint8Array(o)}async function Ape(e){const n=[],o=e.getReader();let i=!1,u=0;for(;!i;){const{done:a,value:s}=await o.read();s&&(n.push(s),u+=s.length),i=a}const t=new Uint8Array(u);let r=0;for(const a of n)t.set(a,r),r+=a.length;return t}function Npe(e){return new Promise((n,o)=>{const i=new FileReader;i.onloadend=()=>{if(i.readyState!==2)return o(new Error("Reader aborted too early"));const u=i.result??"",t=u.indexOf(","),r=t>-1?t+1:u.length;n(u.substring(r))},i.onabort=()=>o(new Error("Read aborted")),i.onerror=()=>o(i.error),i.readAsDataURL(e)})}const Dpe="169.254.170.2",Ipe="169.254.170.23",zpe="[fd00:ec2::23]",qpe=(e,n)=>{if(e.protocol!=="https:"&&!(e.hostname===Dpe||e.hostname===Ipe||e.hostname===zpe)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;const o=e.hostname.split("."),i=u=>{const t=parseInt(u,10);return 0<=t&&t<=255};if(o[0]==="127"&&i(o[1])&&i(o[2])&&i(o[3])&&o.length===4)return}throw new _n(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:n})}};let Bpe=class ET{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const o=new ET({...n,headers:{...n.headers}});return o.query&&(o.query=Upe(o.query)),o}static isInstance(n){if(!n)return!1;const o=n;return"method"in o&&"protocol"in o&&"hostname"in o&&"path"in o&&typeof o.query=="object"&&typeof o.headers=="object"}clone(){return ET.clone(this)}};function Upe(e){return Object.keys(e).reduce((n,o)=>{const i=e[o];return{...n,[o]:Array.isArray(i)?[...i]:i}},{})}const Lpe=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},s2=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),cK={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),cK[e]=n}function $pe(e){let n="";for(let o=0;o<e.byteLength;o++)n+=cK[e[o]];return n}const u2="The stream has already been transformed.",Fpe=e=>{if(!l2(e)&&!s2(e)){const u=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${u}`)}let n=!1;const o=async()=>{if(n)throw new Error(u2);return n=!0,await xpe(e)},i=u=>{if(typeof u.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return u.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async u=>{const t=await o();if(u==="base64")return Mpe(t);if(u==="hex")return $pe(t);if(u===void 0||u==="utf8"||u==="utf-8")return Lpe(t);if(typeof TextDecoder=="function")return new TextDecoder(u).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(u2);if(n=!0,l2(e))return i(e);if(s2(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},l2=e=>typeof Blob=="function"&&e instanceof Blob,c2=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},RT=e=>{if(e!=null){if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&Zpe.warn(Jpe(`Expected number but observed string: ${e}`)),n}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Vpe=Math.ceil(2**127*(2-2**-23)),d2=e=>{const n=RT(e);if(n!==void 0&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>Vpe)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},Gpe=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},f2=e=>dK(e,16),h2=e=>dK(e,8),dK=(e,n)=>{const o=Gpe(e);if(o!==void 0&&Hpe(o,n)!==o)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return o},Hpe=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Kpe=e=>RT(typeof e=="string"?kb(e):e),kpe=e=>d2(typeof e=="string"?kb(e):e),Ype=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,kb=e=>{const n=e.match(Ype);if(n===null||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Wm=e=>f2(typeof e=="string"?kb(e):e),Wpe=e=>h2(typeof e=="string"?kb(e):e),Jpe=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join(`
`),Zpe={warn:console.warn},Qpe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],AM=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M0e(e){const n=e.getUTCFullYear(),o=e.getUTCMonth(),i=e.getUTCDay(),u=e.getUTCDate(),t=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),s=u<10?`0${u}`:`${u}`,l=t<10?`0${t}`:`${t}`,f=r<10?`0${r}`:`${r}`,m=a<10?`0${a}`:`${a}`;return`${Qpe[i]}, ${s} ${AM[o]} ${n} ${l}:${f}:${m} GMT`}const Xpe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),ege=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=Xpe.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[o,i,u,t,r,a,s,l]=n,f=Wm(np(i)),m=wl(u,"month",1,12),b=wl(t,"day",1,31);return Um(f,m,b,{hours:r,minutes:a,seconds:s,fractionalMilliseconds:l})},tge=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),x0e=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=tge.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[o,i,u,t,r,a,s,l,f]=n,m=Wm(np(i)),b=wl(u,"month",1,12),_=wl(t,"day",1,31),p=Um(m,b,_,{hours:r,minutes:a,seconds:s,fractionalMilliseconds:l});return f.toUpperCase()!="Z"&&p.setTime(p.getTime()-fge(f)),p},rge=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),nge=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),age=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),P0e=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=rge.exec(e);if(n){const[o,i,u,t,r,a,s,l]=n;return Um(Wm(np(t)),PC(u),wl(i,"day",1,31),{hours:r,minutes:a,seconds:s,fractionalMilliseconds:l})}if(n=nge.exec(e),n){const[o,i,u,t,r,a,s,l]=n;return sge(Um(ige(t),PC(u),wl(i,"day",1,31),{hours:r,minutes:a,seconds:s,fractionalMilliseconds:l}))}if(n=age.exec(e),n){const[o,i,u,t,r,a,s,l]=n;return Um(Wm(np(l)),PC(i),wl(u.trimLeft(),"day",1,31),{hours:t,minutes:r,seconds:a,fractionalMilliseconds:s})}throw new TypeError("Invalid RFC-7231 date-time value")},A0e=e=>{if(e==null)return;let n;if(typeof e=="number")n=e;else if(typeof e=="string")n=Kpe(e);else if(typeof e=="object"&&e.tag===1)n=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(n)||n===1/0||n===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(n*1e3))},Um=(e,n,o,i)=>{const u=n-1;return lge(e,u,o),new Date(Date.UTC(e,u,o,wl(i.hours,"hour",0,23),wl(i.minutes,"minute",0,59),wl(i.seconds,"seconds",0,60),dge(i.fractionalMilliseconds)))},ige=e=>{const n=new Date().getUTCFullYear(),o=Math.floor(n/100)*100+Wm(np(e));return o<n?o+100:o},oge=50*365*24*60*60*1e3,sge=e=>e.getTime()-new Date().getTime()>oge?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,PC=e=>{const n=AM.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},uge=[31,28,31,30,31,30,31,31,30,31,30,31],lge=(e,n,o)=>{let i=uge[n];if(n===1&&cge(e)&&(i=29),o>i)throw new TypeError(`Invalid day for ${AM[n]} in ${e}: ${o}`)},cge=e=>e%4===0&&(e%100!==0||e%400===0),wl=(e,n,o,i)=>{const u=Wpe(np(e));if(u<o||u>i)throw new TypeError(`${n} must be between ${o} and ${i}, inclusive`);return u},dge=e=>e==null?0:kpe("0."+e)*1e3,fge=e=>{const n=e[0];let o=1;if(n=="+")o=1;else if(n=="-")o=-1;else throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);const i=Number(e.substring(1,3)),u=Number(e.substring(4,6));return o*(i*60+u)*60*1e3},np=e=>{let n=0;for(;n<e.length-1&&e.charAt(n)==="0";)n++;return n===0?e:e.slice(n)};function hge(e){return new Bpe({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((n,[o,i])=>(n[o]=i,n),{}),fragment:e.hash})}async function pge(e,n){const i=await Fpe(e.body).transformToString();if(e.statusCode===200){const u=JSON.parse(i);if(typeof u.AccessKeyId!="string"||typeof u.SecretAccessKey!="string"||typeof u.Token!="string"||typeof u.Expiration!="string")throw new _n("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:n});return{accessKeyId:u.AccessKeyId,secretAccessKey:u.SecretAccessKey,sessionToken:u.Token,expiration:ege(u.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let u={};try{u=JSON.parse(i)}catch{}throw Object.assign(new _n(`Server responded with status: ${e.statusCode}`,{logger:n}),{Code:u.Code,Message:u.Message})}throw new _n(`Server responded with status: ${e.statusCode}`,{logger:n})}const gge=(e,n,o)=>async()=>{for(let i=0;i<n;++i)try{return await e()}catch{await new Promise(t=>setTimeout(t,o))}return await e()},mge=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let n;const o=e.credentialsFullUri;if(o)n=o;else throw new _n("No HTTP credential provider host provided.",{logger:e.logger});const i=new URL(n);qpe(i,e.logger);const u=new PM;return gge(async()=>{const t=hge(i);e.authorizationToken&&(t.headers.Authorization=e.authorizationToken);const r=await u.handle(t);return pge(r.response)},e.maxRetries??3,e.timeout??1e3)},_ge=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},yge="us-east-1",vge=(e,n,o)=>{let i;return async(u={})=>{const{callerClientConfig:t}=u,r=e.clientConfig?.profile??t?.profile,a=e.logger??t?.logger;a?.debug("@aws-sdk/credential-providers - fromTemporaryCredentials (STS)");const s={...e.params,RoleSessionName:e.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(s?.SerialNumber){if(!e.mfaCodeProvider)throw new _n("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",{tryNextLink:!1,logger:a});s.TokenCode=await e.mfaCodeProvider(s?.SerialNumber)}const{AssumeRoleCommand:l,STSClient:f}=await Kb(async()=>{const{AssumeRoleCommand:b,STSClient:_}=await import("./loadSts-KDfBz3nQ.js").then(p=>p.v);return{AssumeRoleCommand:b,STSClient:_}},__vite__mapDeps([2,1,3]));if(!i){const b=typeof n=="function"?n():void 0,_=[e.masterCredentials,e.clientConfig?.credentials,void t?.credentials,t?.credentialDefaultProvider?.(),b];let p="STS client default credentials";if(_[0])p="options.masterCredentials";else if(_[1])p="options.clientConfig.credentials";else{if(_[2])throw p="caller client's credentials",new Error("fromTemporaryCredentials recursion in callerClientConfig.credentials");_[3]?p="caller client's credentialDefaultProvider":_[4]&&(p="AWS SDK default credentials")}const y=[e.clientConfig?.region,t?.region,await o?.({profile:r}),yge];let v="default partition's default region";y[0]?v="options.clientConfig.region":y[1]?v="caller client's region":y[2]&&(v="file or env region");const S=[p2(e.clientConfig?.requestHandler),p2(t?.requestHandler)];let R="STS default requestHandler";S[0]?R="options.clientConfig.requestHandler":S[1]&&(R="caller client's requestHandler"),a?.debug?.(`@aws-sdk/credential-providers - fromTemporaryCredentials STS client init with ${v}=${await _ge(av(y))()}, ${p}, ${R}.`),i=new f({userAgentAppId:t?.userAgentAppId,...e.clientConfig,credentials:av(_),logger:a,profile:r,region:av(y),requestHandler:av(S)})}if(e.clientPlugins)for(const b of e.clientPlugins)i.middlewareStack.use(b);const{Credentials:m}=await i.send(new l(s));if(!m||!m.AccessKeyId||!m.SecretAccessKey)throw new _n(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`,{logger:a});return{accessKeyId:m.AccessKeyId,secretAccessKey:m.SecretAccessKey,sessionToken:m.SessionToken,expiration:m.Expiration,credentialScope:m.CredentialScope}}},p2=e=>e?.metadata?.handlerProtocol==="h2"?void 0:e,av=e=>{for(const n of e)if(n!==void 0)return n},bge={},wge=Object.freeze(Object.defineProperty({__proto__:null,default:bge},Symbol.toStringTag,{value:"Module"})),Oge=e=>async n=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");const{roleArn:o,roleSessionName:i,webIdentityToken:u,providerId:t,policyArns:r,policy:a,durationSeconds:s}=e;let{roleAssumerWithWebIdentity:l}=e;if(!l){const{getDefaultRoleAssumerWithWebIdentity:f}=await Kb(async()=>{const{getDefaultRoleAssumerWithWebIdentity:m}=await import("./index-Cl2gA-Xs.js");return{getDefaultRoleAssumerWithWebIdentity:m}},__vite__mapDeps([4,2,1,3]));l=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...n?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:o,RoleSessionName:i??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:u,ProviderId:t,PolicyArns:r,Policy:a,DurationSeconds:s})},Sge=e=>Oge({...e}),Ege=Object.freeze(Object.defineProperty({__proto__:null,fromCognitoIdentity:bpe,fromCognitoIdentityPool:wpe,fromHttp:mge,fromTemporaryCredentials:vge,fromWebToken:Sge},Symbol.toStringTag,{value:"Module"})),Rge=n_(Ege),jge=e=>({setHttpHandler(n){e.httpHandler=n},httpHandler(){return e.httpHandler},updateHttpClientConfig(n,o){e.httpHandler?.updateHttpClientConfig(n,o)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),Cge=e=>({httpHandler:e.httpHandler()});class Tge{name;kind;values;constructor({name:n,kind:o=ST.HEADER,values:i=[]}){this.name=n,this.kind=o,this.values=i}add(n){this.values.push(n)}set(n){this.values=n}remove(n){this.values=this.values.filter(o=>o!==n)}toString(){return this.values.map(n=>n.includes(",")||n.includes(" ")?`"${n}"`:n).join(", ")}get(){return this.values}}class Mge{entries={};encoding;constructor({fields:n=[],encoding:o="utf-8"}){n.forEach(this.setField.bind(this)),this.encoding=o}setField(n){this.entries[n.name.toLowerCase()]=n}getField(n){return this.entries[n.toLowerCase()]}removeField(n){delete this.entries[n.toLowerCase()]}getByType(n){return Object.values(this.entries).filter(o=>o.kind===n)}}class ap{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const o=new ap({...n,headers:{...n.headers}});return o.query&&(o.query=xge(o.query)),o}static isInstance(n){if(!n)return!1;const o=n;return"method"in o&&"protocol"in o&&"hostname"in o&&"path"in o&&typeof o.query=="object"&&typeof o.headers=="object"}clone(){return ap.clone(this)}}function xge(e){return Object.keys(e).reduce((n,o)=>{const i=e[o];return{...n,[o]:Array.isArray(i)?[...i]:i}},{})}class Pge{statusCode;reason;headers;body;constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;const o=n;return typeof o.statusCode=="number"&&typeof o.headers=="object"}}function Age(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}const Nge=Object.freeze(Object.defineProperty({__proto__:null,Field:Tge,Fields:Mge,HttpRequest:ap,HttpResponse:Pge,getHttpHandlerExtensionConfiguration:jge,isValidHostname:Age,resolveHttpHandlerRuntimeConfig:Cge},Symbol.toStringTag,{value:"Module"})),Dge=n_(Nge),fK={},jT={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),fK[e]=n,jT[n]=e}function Ige(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(e.length/2);for(let o=0;o<e.length;o+=2){const i=e.slice(o,o+2).toLowerCase();if(i in jT)n[o/2]=jT[i];else throw new Error(`Cannot decode unrecognized sequence ${i} as hexadecimal`)}return n}function If(e){let n="";for(let o=0;o<e.byteLength;o++)n+=fK[e[o]];return n}const CT=e=>new TextEncoder().encode(e),Jm=e=>typeof e=="string"?CT(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),hK="X-Amz-Algorithm",pK="X-Amz-Credential",NM="X-Amz-Date",gK="X-Amz-SignedHeaders",mK="X-Amz-Expires",DM="X-Amz-Signature",IM="X-Amz-Security-Token",zge="X-Amz-Region-Set",zM="authorization",qM=NM.toLowerCase(),_K="date",yK=[zM,qM,_K],vK=DM.toLowerCase(),vb="x-amz-content-sha256",bK=IM.toLowerCase(),qge="host",wK={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},OK=/^proxy-/,SK=/^sec-/,Bge=[/^proxy-/i,/^sec-/i],Yv="AWS4-HMAC-SHA256",Uge="AWS4-ECDSA-P256-SHA256",EK="AWS4-HMAC-SHA256-PAYLOAD",RK="UNSIGNED-PAYLOAD",jK=50,BM="aws4_request",CK=3600*24*7,Kh={},Wv=[],Jv=(e,n,o)=>`${e}/${n}/${o}/${BM}`,TK=async(e,n,o,i,u)=>{const t=await g2(e,n.secretAccessKey,n.accessKeyId),r=`${o}:${i}:${u}:${If(t)}:${n.sessionToken}`;if(r in Kh)return Kh[r];for(Wv.push(r);Wv.length>jK;)delete Kh[Wv.shift()];let a=`AWS4${n.secretAccessKey}`;for(const s of[o,i,u,BM])a=await g2(e,a,s);return Kh[r]=a},Lge=()=>{Wv.length=0,Object.keys(Kh).forEach(e=>{delete Kh[e]})},g2=(e,n,o)=>{const i=new e(n);return i.update(Jm(o)),i.digest()},TT=({headers:e},n,o)=>{const i={};for(const u of Object.keys(e).sort()){if(e[u]==null)continue;const t=u.toLowerCase();(t in wK||n?.has(t)||OK.test(t)||SK.test(t))&&(!o||o&&!o.has(t))||(i[t]=e[u].trim().replace(/\s+/g," "))}return i},$ge=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",Zv=async({headers:e,body:n},o)=>{for(const i of Object.keys(e))if(i.toLowerCase()===vb)return e[i];if(n==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof n=="string"||ArrayBuffer.isView(n)||$ge(n)){const i=new o;return i.update(Jm(n)),If(await i.digest())}return RK};class Fge{format(n){const o=[];for(const t of Object.keys(n)){const r=CT(t);o.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(n[t]))}const i=new Uint8Array(o.reduce((t,r)=>t+r.byteLength,0));let u=0;for(const t of o)i.set(t,u),u+=t.byteLength;return i}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const o=new DataView(new ArrayBuffer(3));return o.setUint8(0,3),o.setInt16(1,n.value,!1),new Uint8Array(o.buffer);case"integer":const i=new DataView(new ArrayBuffer(5));return i.setUint8(0,4),i.setInt32(1,n.value,!1),new Uint8Array(i.buffer);case"long":const u=new Uint8Array(9);return u[0]=5,u.set(n.value.bytes,1),u;case"binary":const t=new DataView(new ArrayBuffer(3+n.value.byteLength));t.setUint8(0,6),t.setUint16(1,n.value.byteLength,!1);const r=new Uint8Array(t.buffer);return r.set(n.value,3),r;case"string":const a=CT(n.value),s=new DataView(new ArrayBuffer(3+a.byteLength));s.setUint8(0,7),s.setUint16(1,a.byteLength,!1);const l=new Uint8Array(s.buffer);return l.set(a,3),l;case"timestamp":const f=new Uint8Array(9);return f[0]=8,f.set(UM.fromNumber(n.value.valueOf()).bytes,1),f;case"uuid":if(!Vge.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const m=new Uint8Array(17);return m[0]=9,m.set(Ige(n.value.replace(/\-/g,"")),1),m}}}var m2;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(m2||(m2={}));const Vge=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class UM{bytes;constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const o=new Uint8Array(8);for(let i=7,u=Math.abs(Math.round(n));i>-1&&u>0;i--,u/=256)o[i]=u;return n<0&&_2(o),new UM(o)}valueOf(){const n=this.bytes.slice(0),o=n[0]&128;return o&&_2(n),parseInt(If(n),16)*(o?-1:1)}toString(){return String(this.valueOf())}}function _2(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}const MK=(e,n)=>{e=e.toLowerCase();for(const o of Object.keys(n))if(e===o.toLowerCase())return!0;return!1},xK=(e,n={})=>{const{headers:o,query:i={}}=ap.clone(e);for(const u of Object.keys(o)){const t=u.toLowerCase();(t.slice(0,6)==="x-amz-"&&!n.unhoistableHeaders?.has(t)||n.hoistableHeaders?.has(t))&&(i[u]=o[u],delete o[u])}return{...e,headers:o,query:i}},MT=e=>{e=ap.clone(e);for(const n of Object.keys(e.headers))yK.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e},PK=({query:e={}})=>{const n=[],o={};for(const i of Object.keys(e)){if(i.toLowerCase()===vK)continue;const u=Df(i);n.push(u);const t=e[i];typeof t=="string"?o[u]=`${u}=${Df(t)}`:Array.isArray(t)&&(o[u]=t.slice(0).reduce((r,a)=>r.concat([`${u}=${Df(a)}`]),[]).sort().join("&"))}return n.sort().map(i=>o[i]).filter(i=>i).join("&")},Gge=e=>Hge(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Hge=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class AK{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:n,credentials:o,region:i,service:u,sha256:t,uriEscapePath:r=!0}){this.service=u,this.sha256=t,this.uriEscapePath=r,this.applyChecksum=typeof n=="boolean"?n:!0,this.regionProvider=c2(i),this.credentialProvider=c2(o)}createCanonicalRequest(n,o,i){const u=Object.keys(o).sort();return`${n.method}
${this.getCanonicalPath(n)}
${PK(n)}
${u.map(t=>`${t}:${o[t]}`).join(`
`)}

${u.join(";")}
${i}`}async createStringToSign(n,o,i,u){const t=new this.sha256;t.update(Jm(i));const r=await t.digest();return`${u}
${n}
${o}
${If(r)}`}getCanonicalPath({path:n}){if(this.uriEscapePath){const o=[];for(const t of n.split("/"))t?.length!==0&&t!=="."&&(t===".."?o.pop():o.push(t));const i=`${n?.startsWith("/")?"/":""}${o.join("/")}${o.length>0&&n?.endsWith("/")?"/":""}`;return Df(i).replace(/%2F/g,"/")}return n}validateResolvedCredentials(n){if(typeof n!="object"||typeof n.accessKeyId!="string"||typeof n.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(n){const o=Gge(n).replace(/[\-:]/g,"");return{longDate:o,shortDate:o.slice(0,8)}}getCanonicalHeaderList(n){return Object.keys(n).sort().join(";")}}class Kge extends AK{headerFormatter=new Fge;constructor({applyChecksum:n,credentials:o,region:i,service:u,sha256:t,uriEscapePath:r=!0}){super({applyChecksum:n,credentials:o,region:i,service:u,sha256:t,uriEscapePath:r})}async presign(n,o={}){const{signingDate:i=new Date,expiresIn:u=3600,unsignableHeaders:t,unhoistableHeaders:r,signableHeaders:a,hoistableHeaders:s,signingRegion:l,signingService:f}=o,m=await this.credentialProvider();this.validateResolvedCredentials(m);const b=l??await this.regionProvider(),{longDate:_,shortDate:p}=this.formatDate(i);if(u>CK)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=Jv(p,b,f??this.service),v=xK(MT(n),{unhoistableHeaders:r,hoistableHeaders:s});m.sessionToken&&(v.query[IM]=m.sessionToken),v.query[hK]=Yv,v.query[pK]=`${m.accessKeyId}/${y}`,v.query[NM]=_,v.query[mK]=u.toString(10);const S=TT(v,t,a);return v.query[gK]=this.getCanonicalHeaderList(S),v.query[DM]=await this.getSignature(_,y,this.getSigningKey(m,b,p,f),this.createCanonicalRequest(v,S,await Zv(n,this.sha256))),v}async sign(n,o){return typeof n=="string"?this.signString(n,o):n.headers&&n.payload?this.signEvent(n,o):n.message?this.signMessage(n,o):this.signRequest(n,o)}async signEvent({headers:n,payload:o},{signingDate:i=new Date,priorSignature:u,signingRegion:t,signingService:r}){const a=t??await this.regionProvider(),{shortDate:s,longDate:l}=this.formatDate(i),f=Jv(s,a,r??this.service),m=await Zv({headers:{},body:o},this.sha256),b=new this.sha256;b.update(n);const _=If(await b.digest()),p=[EK,l,f,u,_,m].join(`
`);return this.signString(p,{signingDate:i,signingRegion:a,signingService:r})}async signMessage(n,{signingDate:o=new Date,signingRegion:i,signingService:u}){return this.signEvent({headers:this.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:o,signingRegion:i,signingService:u,priorSignature:n.priorSignature}).then(r=>({message:n.message,signature:r}))}async signString(n,{signingDate:o=new Date,signingRegion:i,signingService:u}={}){const t=await this.credentialProvider();this.validateResolvedCredentials(t);const r=i??await this.regionProvider(),{shortDate:a}=this.formatDate(o),s=new this.sha256(await this.getSigningKey(t,r,a,u));return s.update(Jm(n)),If(await s.digest())}async signRequest(n,{signingDate:o=new Date,signableHeaders:i,unsignableHeaders:u,signingRegion:t,signingService:r}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const s=t??await this.regionProvider(),l=MT(n),{longDate:f,shortDate:m}=this.formatDate(o),b=Jv(m,s,r??this.service);l.headers[qM]=f,a.sessionToken&&(l.headers[bK]=a.sessionToken);const _=await Zv(l,this.sha256);!MK(vb,l.headers)&&this.applyChecksum&&(l.headers[vb]=_);const p=TT(l,u,i),y=await this.getSignature(f,b,this.getSigningKey(a,s,m,r),this.createCanonicalRequest(l,p,_));return l.headers[zM]=`${Yv} Credential=${a.accessKeyId}/${b}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${y}`,l}async getSignature(n,o,i,u){const t=await this.createStringToSign(n,o,u,Yv),r=new this.sha256(await i);return r.update(Jm(t)),If(await r.digest())}getSigningKey(n,o,i,u){return TK(this.sha256,n,i,o,u||this.service)}}const kge={SignatureV4a:null},Yge=Object.freeze(Object.defineProperty({__proto__:null,ALGORITHM_IDENTIFIER:Yv,ALGORITHM_IDENTIFIER_V4A:Uge,ALGORITHM_QUERY_PARAM:hK,ALWAYS_UNSIGNABLE_HEADERS:wK,AMZ_DATE_HEADER:qM,AMZ_DATE_QUERY_PARAM:NM,AUTH_HEADER:zM,CREDENTIAL_QUERY_PARAM:pK,DATE_HEADER:_K,EVENT_ALGORITHM_IDENTIFIER:EK,EXPIRES_QUERY_PARAM:mK,GENERATED_HEADERS:yK,HOST_HEADER:qge,KEY_TYPE_IDENTIFIER:BM,MAX_CACHE_SIZE:jK,MAX_PRESIGNED_TTL:CK,PROXY_HEADER_PATTERN:OK,REGION_SET_PARAM:zge,SEC_HEADER_PATTERN:SK,SHA256_HEADER:vb,SIGNATURE_HEADER:vK,SIGNATURE_QUERY_PARAM:DM,SIGNED_HEADERS_QUERY_PARAM:gK,SignatureV4:Kge,SignatureV4Base:AK,TOKEN_HEADER:bK,TOKEN_QUERY_PARAM:IM,UNSIGNABLE_PATTERNS:Bge,UNSIGNED_PAYLOAD:RK,clearCredentialCache:Lge,createScope:Jv,getCanonicalHeaders:TT,getCanonicalQuery:PK,getPayloadHash:Zv,getSigningKey:TK,hasHeader:MK,moveHeadersToQuery:xK,prepareRequest:MT,signatureV4aContainer:kge},Symbol.toStringTag,{value:"Module"})),Wge=n_(Yge);var AC={exports:{}},NC={exports:{}},DC={},iv={};var y2;function Jge(){return y2||(y2=1,iv.read=function(e,n,o,i,u){var t,r,a=u*8-i-1,s=(1<<a)-1,l=s>>1,f=-7,m=o?u-1:0,b=o?-1:1,_=e[n+m];for(m+=b,t=_&(1<<-f)-1,_>>=-f,f+=a;f>0;t=t*256+e[n+m],m+=b,f-=8);for(r=t&(1<<-f)-1,t>>=-f,f+=i;f>0;r=r*256+e[n+m],m+=b,f-=8);if(t===0)t=1-l;else{if(t===s)return r?NaN:(_?-1:1)*(1/0);r=r+Math.pow(2,i),t=t-l}return(_?-1:1)*r*Math.pow(2,t-i)},iv.write=function(e,n,o,i,u,t){var r,a,s,l=t*8-u-1,f=(1<<l)-1,m=f>>1,b=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:t-1,p=i?1:-1,y=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,r=f):(r=Math.floor(Math.log(n)/Math.LN2),n*(s=Math.pow(2,-r))<1&&(r--,s*=2),r+m>=1?n+=b/s:n+=b*Math.pow(2,1-m),n*s>=2&&(r++,s/=2),r+m>=f?(a=0,r=f):r+m>=1?(a=(n*s-1)*Math.pow(2,u),r=r+m):(a=n*Math.pow(2,m-1)*Math.pow(2,u),r=0));u>=8;e[o+_]=a&255,_+=p,a/=256,u-=8);for(r=r<<u|a,l+=u;l>0;e[o+_]=r&255,_+=p,r/=256,l-=8);e[o+_-p]|=y*128}),iv}var v2;function ad(){return v2||(v2=1,(function(e){const n=UH(),o=Jge(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=R,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,a.TYPED_ARRAY_SUPPORT=t(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function t(){try{const F=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(F,A),F.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function r(F){if(F>u)throw new RangeError('The value "'+F+'" is invalid for option "size"');const A=new Uint8Array(F);return Object.setPrototypeOf(A,a.prototype),A}function a(F,A,I){if(typeof F=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(F)}return s(F,A,I)}a.poolSize=8192;function s(F,A,I){if(typeof F=="string")return b(F,A);if(ArrayBuffer.isView(F))return p(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(ge(F,ArrayBuffer)||F&&ge(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ge(F,SharedArrayBuffer)||F&&ge(F.buffer,SharedArrayBuffer)))return y(F,A,I);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const te=F.valueOf&&F.valueOf();if(te!=null&&te!==F)return a.from(te,A,I);const ce=v(F);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return a.from(F[Symbol.toPrimitive]("string"),A,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}a.from=function(F,A,I){return s(F,A,I)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function f(F,A,I){return l(F),F<=0?r(F):A!==void 0?typeof I=="string"?r(F).fill(A,I):r(F).fill(A):r(F)}a.alloc=function(F,A,I){return f(F,A,I)};function m(F){return l(F),r(F<0?0:S(F)|0)}a.allocUnsafe=function(F){return m(F)},a.allocUnsafeSlow=function(F){return m(F)};function b(F,A){if((typeof A!="string"||A==="")&&(A="utf8"),!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const I=j(F,A)|0;let te=r(I);const ce=te.write(F,A);return ce!==I&&(te=te.slice(0,ce)),te}function _(F){const A=F.length<0?0:S(F.length)|0,I=r(A);for(let te=0;te<A;te+=1)I[te]=F[te]&255;return I}function p(F){if(ge(F,Uint8Array)){const A=new Uint8Array(F);return y(A.buffer,A.byteOffset,A.byteLength)}return _(F)}function y(F,A,I){if(A<0||F.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<A+(I||0))throw new RangeError('"length" is outside of buffer bounds');let te;return A===void 0&&I===void 0?te=new Uint8Array(F):I===void 0?te=new Uint8Array(F,A):te=new Uint8Array(F,A,I),Object.setPrototypeOf(te,a.prototype),te}function v(F){if(a.isBuffer(F)){const A=S(F.length)|0,I=r(A);return I.length===0||F.copy(I,0,0,A),I}if(F.length!==void 0)return typeof F.length!="number"||Ie(F.length)?r(0):_(F);if(F.type==="Buffer"&&Array.isArray(F.data))return _(F.data)}function S(F){if(F>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return F|0}function R(F){return+F!=F&&(F=0),a.alloc(+F)}a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,I){if(ge(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),ge(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),!a.isBuffer(A)||!a.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===I)return 0;let te=A.length,ce=I.length;for(let Oe=0,Ce=Math.min(te,ce);Oe<Ce;++Oe)if(A[Oe]!==I[Oe]){te=A[Oe],ce=I[Oe];break}return te<ce?-1:ce<te?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,I){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);let te;if(I===void 0)for(I=0,te=0;te<A.length;++te)I+=A[te].length;const ce=a.allocUnsafe(I);let Oe=0;for(te=0;te<A.length;++te){let Ce=A[te];if(ge(Ce,Uint8Array))Oe+Ce.length>ce.length?(a.isBuffer(Ce)||(Ce=a.from(Ce)),Ce.copy(ce,Oe)):Uint8Array.prototype.set.call(ce,Ce,Oe);else if(a.isBuffer(Ce))Ce.copy(ce,Oe);else throw new TypeError('"list" argument must be an Array of Buffers');Oe+=Ce.length}return ce};function j(F,A){if(a.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||ge(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const I=F.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&I===0)return 0;let ce=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return Ae(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return he(F).length;default:if(ce)return te?-1:Ae(F).length;A=(""+A).toLowerCase(),ce=!0}}a.byteLength=j;function P(F,A,I){let te=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,A>>>=0,I<=A))return"";for(F||(F="utf8");;)switch(F){case"hex":return ee(this,A,I);case"utf8":case"utf-8":return k(this,A,I);case"ascii":return H(this,A,I);case"latin1":case"binary":return Z(this,A,I);case"base64":return V(this,A,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,A,I);default:if(te)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),te=!0}}a.prototype._isBuffer=!0;function T(F,A,I){const te=F[A];F[A]=F[I],F[I]=te}a.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<A;I+=2)T(this,I,I+1);return this},a.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<A;I+=4)T(this,I,I+3),T(this,I+1,I+2);return this},a.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<A;I+=8)T(this,I,I+7),T(this,I+1,I+6),T(this,I+2,I+5),T(this,I+3,I+4);return this},a.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?k(this,0,A):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:a.compare(this,A)===0},a.prototype.inspect=function(){let A="";const I=e.INSPECT_MAX_BYTES;return A=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(A+=" ... "),"<Buffer "+A+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(A,I,te,ce,Oe){if(ge(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(I===void 0&&(I=0),te===void 0&&(te=A?A.length:0),ce===void 0&&(ce=0),Oe===void 0&&(Oe=this.length),I<0||te>A.length||ce<0||Oe>this.length)throw new RangeError("out of range index");if(ce>=Oe&&I>=te)return 0;if(ce>=Oe)return-1;if(I>=te)return 1;if(I>>>=0,te>>>=0,ce>>>=0,Oe>>>=0,this===A)return 0;let Ce=Oe-ce,et=te-I;const mt=Math.min(Ce,et),ut=this.slice(ce,Oe),It=A.slice(I,te);for(let vt=0;vt<mt;++vt)if(ut[vt]!==It[vt]){Ce=ut[vt],et=It[vt];break}return Ce<et?-1:et<Ce?1:0};function C(F,A,I,te,ce){if(F.length===0)return-1;if(typeof I=="string"?(te=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,Ie(I)&&(I=ce?0:F.length-1),I<0&&(I=F.length+I),I>=F.length){if(ce)return-1;I=F.length-1}else if(I<0)if(ce)I=0;else return-1;if(typeof A=="string"&&(A=a.from(A,te)),a.isBuffer(A))return A.length===0?-1:D(F,A,I,te,ce);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(F,A,I):Uint8Array.prototype.lastIndexOf.call(F,A,I):D(F,[A],I,te,ce);throw new TypeError("val must be string, number or Buffer")}function D(F,A,I,te,ce){let Oe=1,Ce=F.length,et=A.length;if(te!==void 0&&(te=String(te).toLowerCase(),te==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(F.length<2||A.length<2)return-1;Oe=2,Ce/=2,et/=2,I/=2}function mt(It,vt){return Oe===1?It[vt]:It.readUInt16BE(vt*Oe)}let ut;if(ce){let It=-1;for(ut=I;ut<Ce;ut++)if(mt(F,ut)===mt(A,It===-1?0:ut-It)){if(It===-1&&(It=ut),ut-It+1===et)return It*Oe}else It!==-1&&(ut-=ut-It),It=-1}else for(I+et>Ce&&(I=Ce-et),ut=I;ut>=0;ut--){let It=!0;for(let vt=0;vt<et;vt++)if(mt(F,ut+vt)!==mt(A,vt)){It=!1;break}if(It)return ut}return-1}a.prototype.includes=function(A,I,te){return this.indexOf(A,I,te)!==-1},a.prototype.indexOf=function(A,I,te){return C(this,A,I,te,!0)},a.prototype.lastIndexOf=function(A,I,te){return C(this,A,I,te,!1)};function M(F,A,I,te){I=Number(I)||0;const ce=F.length-I;te?(te=Number(te),te>ce&&(te=ce)):te=ce;const Oe=A.length;te>Oe/2&&(te=Oe/2);let Ce;for(Ce=0;Ce<te;++Ce){const et=parseInt(A.substr(Ce*2,2),16);if(Ie(et))return Ce;F[I+Ce]=et}return Ce}function L(F,A,I,te){return Ne(Ae(A,F.length-I),F,I,te)}function q(F,A,I,te){return Ne(De(A),F,I,te)}function z(F,A,I,te){return Ne(he(A),F,I,te)}function w(F,A,I,te){return Ne(fe(A,F.length-I),F,I,te)}a.prototype.write=function(A,I,te,ce){if(I===void 0)ce="utf8",te=this.length,I=0;else if(te===void 0&&typeof I=="string")ce=I,te=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(te)?(te=te>>>0,ce===void 0&&(ce="utf8")):(ce=te,te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Oe=this.length-I;if((te===void 0||te>Oe)&&(te=Oe),A.length>0&&(te<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let Ce=!1;for(;;)switch(ce){case"hex":return M(this,A,I,te);case"utf8":case"utf-8":return L(this,A,I,te);case"ascii":case"latin1":case"binary":return q(this,A,I,te);case"base64":return z(this,A,I,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,A,I,te);default:if(Ce)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),Ce=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(F,A,I){return A===0&&I===F.length?n.fromByteArray(F):n.fromByteArray(F.slice(A,I))}function k(F,A,I){I=Math.min(F.length,I);const te=[];let ce=A;for(;ce<I;){const Oe=F[ce];let Ce=null,et=Oe>239?4:Oe>223?3:Oe>191?2:1;if(ce+et<=I){let mt,ut,It,vt;switch(et){case 1:Oe<128&&(Ce=Oe);break;case 2:mt=F[ce+1],(mt&192)===128&&(vt=(Oe&31)<<6|mt&63,vt>127&&(Ce=vt));break;case 3:mt=F[ce+1],ut=F[ce+2],(mt&192)===128&&(ut&192)===128&&(vt=(Oe&15)<<12|(mt&63)<<6|ut&63,vt>2047&&(vt<55296||vt>57343)&&(Ce=vt));break;case 4:mt=F[ce+1],ut=F[ce+2],It=F[ce+3],(mt&192)===128&&(ut&192)===128&&(It&192)===128&&(vt=(Oe&15)<<18|(mt&63)<<12|(ut&63)<<6|It&63,vt>65535&&vt<1114112&&(Ce=vt))}}Ce===null?(Ce=65533,et=1):Ce>65535&&(Ce-=65536,te.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),te.push(Ce),ce+=et}return U(te)}const Y=4096;function U(F){const A=F.length;if(A<=Y)return String.fromCharCode.apply(String,F);let I="",te=0;for(;te<A;)I+=String.fromCharCode.apply(String,F.slice(te,te+=Y));return I}function H(F,A,I){let te="";I=Math.min(F.length,I);for(let ce=A;ce<I;++ce)te+=String.fromCharCode(F[ce]&127);return te}function Z(F,A,I){let te="";I=Math.min(F.length,I);for(let ce=A;ce<I;++ce)te+=String.fromCharCode(F[ce]);return te}function ee(F,A,I){const te=F.length;(!A||A<0)&&(A=0),(!I||I<0||I>te)&&(I=te);let ce="";for(let Oe=A;Oe<I;++Oe)ce+=$e[F[Oe]];return ce}function N(F,A,I){const te=F.slice(A,I);let ce="";for(let Oe=0;Oe<te.length-1;Oe+=2)ce+=String.fromCharCode(te[Oe]+te[Oe+1]*256);return ce}a.prototype.slice=function(A,I){const te=this.length;A=~~A,I=I===void 0?te:~~I,A<0?(A+=te,A<0&&(A=0)):A>te&&(A=te),I<0?(I+=te,I<0&&(I=0)):I>te&&(I=te),I<A&&(I=A);const ce=this.subarray(A,I);return Object.setPrototypeOf(ce,a.prototype),ce};function G(F,A,I){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+A>I)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(A,I,te){A=A>>>0,I=I>>>0,te||G(A,I,this.length);let ce=this[A],Oe=1,Ce=0;for(;++Ce<I&&(Oe*=256);)ce+=this[A+Ce]*Oe;return ce},a.prototype.readUintBE=a.prototype.readUIntBE=function(A,I,te){A=A>>>0,I=I>>>0,te||G(A,I,this.length);let ce=this[A+--I],Oe=1;for(;I>0&&(Oe*=256);)ce+=this[A+--I]*Oe;return ce},a.prototype.readUint8=a.prototype.readUInt8=function(A,I){return A=A>>>0,I||G(A,1,this.length),this[A]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(A,I){return A=A>>>0,I||G(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(A,I){return A=A>>>0,I||G(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(A,I){return A=A>>>0,I||G(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(A,I){return A=A>>>0,I||G(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readBigUInt64LE=Pe(function(A){A=A>>>0,ae(A,"offset");const I=this[A],te=this[A+7];(I===void 0||te===void 0)&&le(A,this.length-8);const ce=I+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,Oe=this[++A]+this[++A]*2**8+this[++A]*2**16+te*2**24;return BigInt(ce)+(BigInt(Oe)<<BigInt(32))}),a.prototype.readBigUInt64BE=Pe(function(A){A=A>>>0,ae(A,"offset");const I=this[A],te=this[A+7];(I===void 0||te===void 0)&&le(A,this.length-8);const ce=I*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],Oe=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+te;return(BigInt(ce)<<BigInt(32))+BigInt(Oe)}),a.prototype.readIntLE=function(A,I,te){A=A>>>0,I=I>>>0,te||G(A,I,this.length);let ce=this[A],Oe=1,Ce=0;for(;++Ce<I&&(Oe*=256);)ce+=this[A+Ce]*Oe;return Oe*=128,ce>=Oe&&(ce-=Math.pow(2,8*I)),ce},a.prototype.readIntBE=function(A,I,te){A=A>>>0,I=I>>>0,te||G(A,I,this.length);let ce=I,Oe=1,Ce=this[A+--ce];for(;ce>0&&(Oe*=256);)Ce+=this[A+--ce]*Oe;return Oe*=128,Ce>=Oe&&(Ce-=Math.pow(2,8*I)),Ce},a.prototype.readInt8=function(A,I){return A=A>>>0,I||G(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},a.prototype.readInt16LE=function(A,I){A=A>>>0,I||G(A,2,this.length);const te=this[A]|this[A+1]<<8;return te&32768?te|4294901760:te},a.prototype.readInt16BE=function(A,I){A=A>>>0,I||G(A,2,this.length);const te=this[A+1]|this[A]<<8;return te&32768?te|4294901760:te},a.prototype.readInt32LE=function(A,I){return A=A>>>0,I||G(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,I){return A=A>>>0,I||G(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readBigInt64LE=Pe(function(A){A=A>>>0,ae(A,"offset");const I=this[A],te=this[A+7];(I===void 0||te===void 0)&&le(A,this.length-8);const ce=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(te<<24);return(BigInt(ce)<<BigInt(32))+BigInt(I+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),a.prototype.readBigInt64BE=Pe(function(A){A=A>>>0,ae(A,"offset");const I=this[A],te=this[A+7];(I===void 0||te===void 0)&&le(A,this.length-8);const ce=(I<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(ce)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+te)}),a.prototype.readFloatLE=function(A,I){return A=A>>>0,I||G(A,4,this.length),o.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,I){return A=A>>>0,I||G(A,4,this.length),o.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,I){return A=A>>>0,I||G(A,8,this.length),o.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,I){return A=A>>>0,I||G(A,8,this.length),o.read(this,A,!1,52,8)};function J(F,A,I,te,ce,Oe){if(!a.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>ce||A<Oe)throw new RangeError('"value" argument is out of bounds');if(I+te>F.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(A,I,te,ce){if(A=+A,I=I>>>0,te=te>>>0,!ce){const et=Math.pow(2,8*te)-1;J(this,A,I,te,et,0)}let Oe=1,Ce=0;for(this[I]=A&255;++Ce<te&&(Oe*=256);)this[I+Ce]=A/Oe&255;return I+te},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(A,I,te,ce){if(A=+A,I=I>>>0,te=te>>>0,!ce){const et=Math.pow(2,8*te)-1;J(this,A,I,te,et,0)}let Oe=te-1,Ce=1;for(this[I+Oe]=A&255;--Oe>=0&&(Ce*=256);)this[I+Oe]=A/Ce&255;return I+te},a.prototype.writeUint8=a.prototype.writeUInt8=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,1,255,0),this[I]=A&255,I+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,2,65535,0),this[I]=A&255,this[I+1]=A>>>8,I+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,2,65535,0),this[I]=A>>>8,this[I+1]=A&255,I+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,4,4294967295,0),this[I+3]=A>>>24,this[I+2]=A>>>16,this[I+1]=A>>>8,this[I]=A&255,I+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,4,4294967295,0),this[I]=A>>>24,this[I+1]=A>>>16,this[I+2]=A>>>8,this[I+3]=A&255,I+4};function oe(F,A,I,te,ce){Re(A,te,ce,F,I,7);let Oe=Number(A&BigInt(4294967295));F[I++]=Oe,Oe=Oe>>8,F[I++]=Oe,Oe=Oe>>8,F[I++]=Oe,Oe=Oe>>8,F[I++]=Oe;let Ce=Number(A>>BigInt(32)&BigInt(4294967295));return F[I++]=Ce,Ce=Ce>>8,F[I++]=Ce,Ce=Ce>>8,F[I++]=Ce,Ce=Ce>>8,F[I++]=Ce,I}function me(F,A,I,te,ce){Re(A,te,ce,F,I,7);let Oe=Number(A&BigInt(4294967295));F[I+7]=Oe,Oe=Oe>>8,F[I+6]=Oe,Oe=Oe>>8,F[I+5]=Oe,Oe=Oe>>8,F[I+4]=Oe;let Ce=Number(A>>BigInt(32)&BigInt(4294967295));return F[I+3]=Ce,Ce=Ce>>8,F[I+2]=Ce,Ce=Ce>>8,F[I+1]=Ce,Ce=Ce>>8,F[I]=Ce,I+8}a.prototype.writeBigUInt64LE=Pe(function(A,I=0){return oe(this,A,I,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Pe(function(A,I=0){return me(this,A,I,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(A,I,te,ce){if(A=+A,I=I>>>0,!ce){const mt=Math.pow(2,8*te-1);J(this,A,I,te,mt-1,-mt)}let Oe=0,Ce=1,et=0;for(this[I]=A&255;++Oe<te&&(Ce*=256);)A<0&&et===0&&this[I+Oe-1]!==0&&(et=1),this[I+Oe]=(A/Ce>>0)-et&255;return I+te},a.prototype.writeIntBE=function(A,I,te,ce){if(A=+A,I=I>>>0,!ce){const mt=Math.pow(2,8*te-1);J(this,A,I,te,mt-1,-mt)}let Oe=te-1,Ce=1,et=0;for(this[I+Oe]=A&255;--Oe>=0&&(Ce*=256);)A<0&&et===0&&this[I+Oe+1]!==0&&(et=1),this[I+Oe]=(A/Ce>>0)-et&255;return I+te},a.prototype.writeInt8=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,1,127,-128),A<0&&(A=255+A+1),this[I]=A&255,I+1},a.prototype.writeInt16LE=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,2,32767,-32768),this[I]=A&255,this[I+1]=A>>>8,I+2},a.prototype.writeInt16BE=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,2,32767,-32768),this[I]=A>>>8,this[I+1]=A&255,I+2},a.prototype.writeInt32LE=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,4,2147483647,-2147483648),this[I]=A&255,this[I+1]=A>>>8,this[I+2]=A>>>16,this[I+3]=A>>>24,I+4},a.prototype.writeInt32BE=function(A,I,te){return A=+A,I=I>>>0,te||J(this,A,I,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[I]=A>>>24,this[I+1]=A>>>16,this[I+2]=A>>>8,this[I+3]=A&255,I+4},a.prototype.writeBigInt64LE=Pe(function(A,I=0){return oe(this,A,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Pe(function(A,I=0){return me(this,A,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(F,A,I,te,ce,Oe){if(I+te>F.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function K(F,A,I,te,ce){return A=+A,I=I>>>0,ce||Ee(F,A,I,4),o.write(F,A,I,te,23,4),I+4}a.prototype.writeFloatLE=function(A,I,te){return K(this,A,I,!0,te)},a.prototype.writeFloatBE=function(A,I,te){return K(this,A,I,!1,te)};function $(F,A,I,te,ce){return A=+A,I=I>>>0,ce||Ee(F,A,I,8),o.write(F,A,I,te,52,8),I+8}a.prototype.writeDoubleLE=function(A,I,te){return $(this,A,I,!0,te)},a.prototype.writeDoubleBE=function(A,I,te){return $(this,A,I,!1,te)},a.prototype.copy=function(A,I,te,ce){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(te||(te=0),!ce&&ce!==0&&(ce=this.length),I>=A.length&&(I=A.length),I||(I=0),ce>0&&ce<te&&(ce=te),ce===te||A.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),A.length-I<ce-te&&(ce=A.length-I+te);const Oe=ce-te;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,te,ce):Uint8Array.prototype.set.call(A,this.subarray(te,ce),I),Oe},a.prototype.fill=function(A,I,te,ce){if(typeof A=="string"){if(typeof I=="string"?(ce=I,I=0,te=this.length):typeof te=="string"&&(ce=te,te=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!a.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(A.length===1){const Ce=A.charCodeAt(0);(ce==="utf8"&&Ce<128||ce==="latin1")&&(A=Ce)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(I<0||this.length<I||this.length<te)throw new RangeError("Out of range index");if(te<=I)return this;I=I>>>0,te=te===void 0?this.length:te>>>0,A||(A=0);let Oe;if(typeof A=="number")for(Oe=I;Oe<te;++Oe)this[Oe]=A;else{const Ce=a.isBuffer(A)?A:a.from(A,ce),et=Ce.length;if(et===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(Oe=0;Oe<te-I;++Oe)this[Oe+I]=Ce[Oe%et]}return this};const ne={};function Q(F,A,I){ne[F]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,this.stack,delete this.name}get code(){return F}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}Q("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(F,A){return`The "${F}" argument must be of type number. Received type ${typeof A}`},TypeError),Q("ERR_OUT_OF_RANGE",function(F,A,I){let te=`The value of "${F}" is out of range.`,ce=I;return Number.isInteger(I)&&Math.abs(I)>2**32?ce=ue(String(I)):typeof I=="bigint"&&(ce=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(ce=ue(ce)),ce+="n"),te+=` It must be ${A}. Received ${ce}`,te},RangeError);function ue(F){let A="",I=F.length;const te=F[0]==="-"?1:0;for(;I>=te+4;I-=3)A=`_${F.slice(I-3,I)}${A}`;return`${F.slice(0,I)}${A}`}function ye(F,A,I){ae(A,"offset"),(F[A]===void 0||F[A+I]===void 0)&&le(A,F.length-(I+1))}function Re(F,A,I,te,ce,Oe){if(F>I||F<A){const Ce=typeof A=="bigint"?"n":"";let et;throw A===0||A===BigInt(0)?et=`>= 0${Ce} and < 2${Ce} ** ${(Oe+1)*8}${Ce}`:et=`>= -(2${Ce} ** ${(Oe+1)*8-1}${Ce}) and < 2 ** ${(Oe+1)*8-1}${Ce}`,new ne.ERR_OUT_OF_RANGE("value",et,F)}ye(te,ce,Oe)}function ae(F,A){if(typeof F!="number")throw new ne.ERR_INVALID_ARG_TYPE(A,"number",F)}function le(F,A,I){throw Math.floor(F)!==F?(ae(F,I),new ne.ERR_OUT_OF_RANGE("offset","an integer",F)):A<0?new ne.ERR_BUFFER_OUT_OF_BOUNDS:new ne.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,F)}const be=/[^+/0-9A-Za-z-_]/g;function xe(F){if(F=F.split("=")[0],F=F.trim().replace(be,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function Ae(F,A){A=A||1/0;let I;const te=F.length;let ce=null;const Oe=[];for(let Ce=0;Ce<te;++Ce){if(I=F.charCodeAt(Ce),I>55295&&I<57344){if(!ce){if(I>56319){(A-=3)>-1&&Oe.push(239,191,189);continue}else if(Ce+1===te){(A-=3)>-1&&Oe.push(239,191,189);continue}ce=I;continue}if(I<56320){(A-=3)>-1&&Oe.push(239,191,189),ce=I;continue}I=(ce-55296<<10|I-56320)+65536}else ce&&(A-=3)>-1&&Oe.push(239,191,189);if(ce=null,I<128){if((A-=1)<0)break;Oe.push(I)}else if(I<2048){if((A-=2)<0)break;Oe.push(I>>6|192,I&63|128)}else if(I<65536){if((A-=3)<0)break;Oe.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((A-=4)<0)break;Oe.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return Oe}function De(F){const A=[];for(let I=0;I<F.length;++I)A.push(F.charCodeAt(I)&255);return A}function fe(F,A){let I,te,ce;const Oe=[];for(let Ce=0;Ce<F.length&&!((A-=2)<0);++Ce)I=F.charCodeAt(Ce),te=I>>8,ce=I%256,Oe.push(ce),Oe.push(te);return Oe}function he(F){return n.toByteArray(xe(F))}function Ne(F,A,I,te){let ce;for(ce=0;ce<te&&!(ce+I>=A.length||ce>=F.length);++ce)A[ce+I]=F[ce];return ce}function ge(F,A){return F instanceof A||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===A.name}function Ie(F){return F!==F}const $e=(function(){const F="0123456789abcdef",A=new Array(256);for(let I=0;I<16;++I){const te=I*16;for(let ce=0;ce<16;++ce)A[te+ce]=F[I]+F[ce]}return A})();function Pe(F){return typeof BigInt>"u"?ze:F}function ze(){throw new Error("BigInt not supported")}})(DC)),DC}var IC,b2;function Vt(){if(b2)return IC;b2=1;class e extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let i="";for(let u=0;u<o.length;u++)i+=`    ${o[u].stack}
`;super(i),this.name="AggregateError",this.errors=o}}return IC={AggregateError:e,ArrayIsArray(n){return Array.isArray(n)},ArrayPrototypeIncludes(n,o){return n.includes(o)},ArrayPrototypeIndexOf(n,o){return n.indexOf(o)},ArrayPrototypeJoin(n,o){return n.join(o)},ArrayPrototypeMap(n,o){return n.map(o)},ArrayPrototypePop(n,o){return n.pop(o)},ArrayPrototypePush(n,o){return n.push(o)},ArrayPrototypeSlice(n,o,i){return n.slice(o,i)},Error,FunctionPrototypeCall(n,o,...i){return n.call(o,...i)},FunctionPrototypeSymbolHasInstance(n,o){return Function.prototype[Symbol.hasInstance].call(n,o)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(n,o){return Object.defineProperties(n,o)},ObjectDefineProperty(n,o,i){return Object.defineProperty(n,o,i)},ObjectGetOwnPropertyDescriptor(n,o){return Object.getOwnPropertyDescriptor(n,o)},ObjectKeys(n){return Object.keys(n)},ObjectSetPrototypeOf(n,o){return Object.setPrototypeOf(n,o)},Promise,PromisePrototypeCatch(n,o){return n.catch(o)},PromisePrototypeThen(n,o,i){return n.then(o,i)},PromiseReject(n){return Promise.reject(n)},PromiseResolve(n){return Promise.resolve(n)},ReflectApply:Reflect.apply,RegExpPrototypeTest(n,o){return n.test(o)},SafeSet:Set,String,StringPrototypeSlice(n,o,i){return n.slice(o,i)},StringPrototypeToLowerCase(n){return n.toLowerCase()},StringPrototypeToUpperCase(n){return n.toUpperCase()},StringPrototypeTrim(n){return n.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(n,o,i){return n.set(o,i)},Boolean,Uint8Array},IC}var zC={exports:{}},qC,w2;function NK(){return w2||(w2=1,qC={format(e,...n){return e.replace(/%([sdifj])/g,function(...[o,i]){const u=n.shift();return i==="f"?u.toFixed(6):i==="j"?JSON.stringify(u):i==="s"&&typeof u=="object"?`${u.constructor!==Object?u.constructor.name:""} {}`.trim():u.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),qC}var BC,O2;function Nr(){if(O2)return BC;O2=1;const{format:e,inspect:n}=NK(),{AggregateError:o}=Vt(),i=globalThis.AggregateError||o,u=Symbol("kIsNodeError"),t=["string","function","number","object","Function","Object","boolean","bigint","symbol"],r=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",s={};function l(v,S){if(!v)throw new s.ERR_INTERNAL_ASSERTION(S)}function f(v){let S="",R=v.length;const j=v[0]==="-"?1:0;for(;R>=j+4;R-=3)S=`_${v.slice(R-3,R)}${S}`;return`${v.slice(0,R)}${S}`}function m(v,S,R){if(typeof S=="function")return l(S.length<=R.length,`Code: ${v}; The provided arguments length (${R.length}) does not match the required ones (${S.length}).`),S(...R);const j=(S.match(/%[dfijoOs]/g)||[]).length;return l(j===R.length,`Code: ${v}; The provided arguments length (${R.length}) does not match the required ones (${j}).`),R.length===0?S:e(S,...R)}function b(v,S,R){R||(R=Error);class j extends R{constructor(...T){super(m(v,S,T))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(j.prototype,{name:{value:R.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),j.prototype.code=v,j.prototype[u]=!0,s[v]=j}function _(v){const S=a+v.name;return Object.defineProperty(v,"name",{value:S}),v}function p(v,S){if(v&&S&&v!==S){if(Array.isArray(S.errors))return S.errors.push(v),S;const R=new i([S,v],S.message);return R.code=S.code,R}return v||S}class y extends Error{constructor(S="The operation was aborted",R=void 0){if(R!==void 0&&typeof R!="object")throw new s.ERR_INVALID_ARG_TYPE("options","Object",R);super(S,R),this.code="ABORT_ERR",this.name="AbortError"}}return b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(v,S,R)=>{l(typeof v=="string","'name' must be a string"),Array.isArray(S)||(S=[S]);let j="The ";v.endsWith(" argument")?j+=`${v} `:j+=`"${v}" ${v.includes(".")?"property":"argument"} `,j+="must be ";const P=[],T=[],C=[];for(const M of S)l(typeof M=="string","All expected entries have to be of type string"),t.includes(M)?P.push(M.toLowerCase()):r.test(M)?T.push(M):(l(M!=="object",'The value "object" should be written as "Object"'),C.push(M));if(T.length>0){const M=P.indexOf("object");M!==-1&&(P.splice(P,M,1),T.push("Object"))}if(P.length>0){switch(P.length){case 1:j+=`of type ${P[0]}`;break;case 2:j+=`one of type ${P[0]} or ${P[1]}`;break;default:{const M=P.pop();j+=`one of type ${P.join(", ")}, or ${M}`}}(T.length>0||C.length>0)&&(j+=" or ")}if(T.length>0){switch(T.length){case 1:j+=`an instance of ${T[0]}`;break;case 2:j+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const M=T.pop();j+=`an instance of ${T.join(", ")}, or ${M}`}}C.length>0&&(j+=" or ")}switch(C.length){case 0:break;case 1:C[0].toLowerCase()!==C[0]&&(j+="an "),j+=`${C[0]}`;break;case 2:j+=`one of ${C[0]} or ${C[1]}`;break;default:{const M=C.pop();j+=`one of ${C.join(", ")}, or ${M}`}}if(R==null)j+=`. Received ${R}`;else if(typeof R=="function"&&R.name)j+=`. Received function ${R.name}`;else if(typeof R=="object"){var D;if((D=R.constructor)!==null&&D!==void 0&&D.name)j+=`. Received an instance of ${R.constructor.name}`;else{const M=n(R,{depth:-1});j+=`. Received ${M}`}}else{let M=n(R,{colors:!1});M.length>25&&(M=`${M.slice(0,25)}...`),j+=`. Received type ${typeof R} (${M})`}return j},TypeError),b("ERR_INVALID_ARG_VALUE",(v,S,R="is invalid")=>{let j=n(S);return j.length>128&&(j=j.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${R}. Received ${j}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(v,S,R)=>{var j;const P=R!=null&&(j=R.constructor)!==null&&j!==void 0&&j.name?`instance of ${R.constructor.name}`:`type ${typeof R}`;return`Expected ${v} to be returned from the "${S}" function but got ${P}.`},TypeError),b("ERR_MISSING_ARGS",(...v)=>{l(v.length>0,"At least one arg needs to be specified");let S;const R=v.length;switch(v=(Array.isArray(v)?v:[v]).map(j=>`"${j}"`).join(" or "),R){case 1:S+=`The ${v[0]} argument`;break;case 2:S+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const j=v.pop();S+=`The ${v.join(", ")}, and ${j} arguments`}break}return`${S} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(v,S,R)=>{l(S,'Missing "range" argument');let j;if(Number.isInteger(R)&&Math.abs(R)>2**32)j=f(String(R));else if(typeof R=="bigint"){j=String(R);const P=BigInt(2)**BigInt(32);(R>P||R<-P)&&(j=f(j)),j+="n"}else j=n(R);return`The value of "${v}" is out of range. It must be ${S}. Received ${j}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),BC={AbortError:y,aggregateTwoErrors:_(p),hideStackFrames:_,codes:s},BC}var tm={exports:{}},S2;function Zm(){if(S2)return tm.exports;S2=1;const{AbortController:e,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;return tm.exports=e,tm.exports.AbortSignal=n,tm.exports.default=e,tm.exports}var ov={exports:{}},E2;function Yb(){if(E2)return ov.exports;E2=1;var e=typeof Reflect=="object"?Reflect:null,n=e&&typeof e.apply=="function"?e.apply:function(T,C,D){return Function.prototype.apply.call(T,C,D)},o;e&&typeof e.ownKeys=="function"?o=e.ownKeys:Object.getOwnPropertySymbols?o=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:o=function(T){return Object.getOwnPropertyNames(T)};function i(P){console&&console.warn&&console.warn(P)}var u=Number.isNaN||function(T){return T!==T};function t(){t.init.call(this)}ov.exports=t,ov.exports.once=S,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var r=10;function a(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(P){if(typeof P!="number"||P<0||u(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");r=P}}),t.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||u(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function s(P){return P._maxListeners===void 0?t.defaultMaxListeners:P._maxListeners}t.prototype.getMaxListeners=function(){return s(this)},t.prototype.emit=function(T){for(var C=[],D=1;D<arguments.length;D++)C.push(arguments[D]);var M=T==="error",L=this._events;if(L!==void 0)M=M&&L.error===void 0;else if(!M)return!1;if(M){var q;if(C.length>0&&(q=C[0]),q instanceof Error)throw q;var z=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw z.context=q,z}var w=L[T];if(w===void 0)return!1;if(typeof w=="function")n(w,this,C);else for(var V=w.length,k=p(w,V),D=0;D<V;++D)n(k[D],this,C);return!0};function l(P,T,C,D){var M,L,q;if(a(C),L=P._events,L===void 0?(L=P._events=Object.create(null),P._eventsCount=0):(L.newListener!==void 0&&(P.emit("newListener",T,C.listener?C.listener:C),L=P._events),q=L[T]),q===void 0)q=L[T]=C,++P._eventsCount;else if(typeof q=="function"?q=L[T]=D?[C,q]:[q,C]:D?q.unshift(C):q.push(C),M=s(P),M>0&&q.length>M&&!q.warned){q.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=P,z.type=T,z.count=q.length,i(z)}return P}t.prototype.addListener=function(T,C){return l(this,T,C,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(T,C){return l(this,T,C,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(P,T,C){var D={fired:!1,wrapFn:void 0,target:P,type:T,listener:C},M=f.bind(D);return M.listener=C,D.wrapFn=M,M}t.prototype.once=function(T,C){return a(C),this.on(T,m(this,T,C)),this},t.prototype.prependOnceListener=function(T,C){return a(C),this.prependListener(T,m(this,T,C)),this},t.prototype.removeListener=function(T,C){var D,M,L,q,z;if(a(C),M=this._events,M===void 0)return this;if(D=M[T],D===void 0)return this;if(D===C||D.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete M[T],M.removeListener&&this.emit("removeListener",T,D.listener||C));else if(typeof D!="function"){for(L=-1,q=D.length-1;q>=0;q--)if(D[q]===C||D[q].listener===C){z=D[q].listener,L=q;break}if(L<0)return this;L===0?D.shift():y(D,L),D.length===1&&(M[T]=D[0]),M.removeListener!==void 0&&this.emit("removeListener",T,z||C)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(T){var C,D,M;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[T]),this;if(arguments.length===0){var L=Object.keys(D),q;for(M=0;M<L.length;++M)q=L[M],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=D[T],typeof C=="function")this.removeListener(T,C);else if(C!==void 0)for(M=C.length-1;M>=0;M--)this.removeListener(T,C[M]);return this};function b(P,T,C){var D=P._events;if(D===void 0)return[];var M=D[T];return M===void 0?[]:typeof M=="function"?C?[M.listener||M]:[M]:C?v(M):p(M,M.length)}t.prototype.listeners=function(T){return b(this,T,!0)},t.prototype.rawListeners=function(T){return b(this,T,!1)},t.listenerCount=function(P,T){return typeof P.listenerCount=="function"?P.listenerCount(T):_.call(P,T)},t.prototype.listenerCount=_;function _(P){var T=this._events;if(T!==void 0){var C=T[P];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}t.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function p(P,T){for(var C=new Array(T),D=0;D<T;++D)C[D]=P[D];return C}function y(P,T){for(;T+1<P.length;T++)P[T]=P[T+1];P.pop()}function v(P){for(var T=new Array(P.length),C=0;C<T.length;++C)T[C]=P[C].listener||P[C];return T}function S(P,T){return new Promise(function(C,D){function M(q){P.removeListener(T,L),D(q)}function L(){typeof P.removeListener=="function"&&P.removeListener("error",M),C([].slice.call(arguments))}j(P,T,L,{once:!0}),T!=="error"&&R(P,M,{once:!0})})}function R(P,T,C){typeof P.on=="function"&&j(P,"error",T,C)}function j(P,T,C,D){if(typeof P.on=="function")D.once?P.once(T,C):P.on(T,C);else if(typeof P.addEventListener=="function")P.addEventListener(T,function M(L){D.once&&P.removeEventListener(T,M),C(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return ov.exports}var R2;function kr(){return R2||(R2=1,(function(e){const n=ad(),{format:o,inspect:i}=NK(),{codes:{ERR_INVALID_ARG_TYPE:u}}=Nr(),{kResistStopPropagation:t,AggregateError:r,SymbolDispose:a}=Vt(),s=globalThis.AbortSignal||Zm().AbortSignal,l=globalThis.AbortController||Zm().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,m=globalThis.Blob||n.Blob,b=typeof m<"u"?function(v){return v instanceof m}:function(v){return!1},_=(y,v)=>{if(y!==void 0&&(y===null||typeof y!="object"||!("aborted"in y)))throw new u(v,"AbortSignal",y)},p=(y,v)=>{if(typeof y!="function")throw new u(v,"Function",y)};e.exports={AggregateError:r,kEmptyObject:Object.freeze({}),once(y){let v=!1;return function(...S){v||(v=!0,y.apply(this,S))}},createDeferredPromise:function(){let y,v;return{promise:new Promise((R,j)=>{y=R,v=j}),resolve:y,reject:v}},promisify(y){return new Promise((v,S)=>{y((R,...j)=>R?S(R):v(...j))})},debuglog(){return function(){}},format:o,inspect:i,types:{isAsyncFunction(y){return y instanceof f},isArrayBufferView(y){return ArrayBuffer.isView(y)}},isBlob:b,deprecate(y,v){return y},addAbortListener:Yb().addAbortListener||function(v,S){if(v===void 0)throw new u("signal","AbortSignal",v);_(v,"signal"),p(S,"listener");let R;return v.aborted?queueMicrotask(()=>S()):(v.addEventListener("abort",S,{__proto__:null,once:!0,[t]:!0}),R=()=>{v.removeEventListener("abort",S)}),{__proto__:null,[a](){var j;(j=R)===null||j===void 0||j()}}},AbortSignalAny:s.any||function(v){if(v.length===1)return v[0];const S=new l,R=()=>S.abort();return v.forEach(j=>{_(j,"signals"),j.addEventListener("abort",R,{once:!0})}),S.signal.addEventListener("abort",()=>{v.forEach(j=>j.removeEventListener("abort",R))},{once:!0}),S.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(zC)),zC.exports}var sv={},UC,j2;function y_(){if(j2)return UC;j2=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:o,ArrayPrototypeMap:i,NumberIsInteger:u,NumberIsNaN:t,NumberMAX_SAFE_INTEGER:r,NumberMIN_SAFE_INTEGER:a,NumberParseInt:s,ObjectPrototypeHasOwnProperty:l,RegExpPrototypeExec:f,String:m,StringPrototypeToUpperCase:b,StringPrototypeTrim:_}=Vt(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:S,ERR_OUT_OF_RANGE:R,ERR_UNKNOWN_SIGNAL:j}}=Nr(),{normalizeEncoding:P}=kr(),{isAsyncFunction:T,isArrayBufferView:C}=kr().types,D={};function M(fe){return fe===(fe|0)}function L(fe){return fe===fe>>>0}const q=/^[0-7]+$/,z="must be a 32-bit unsigned integer or an octal string";function w(fe,he,Ne){if(typeof fe>"u"&&(fe=Ne),typeof fe=="string"){if(f(q,fe)===null)throw new S(he,fe,z);fe=s(fe,8)}return Y(fe,he),fe}const V=p((fe,he,Ne=a,ge=r)=>{if(typeof fe!="number")throw new v(he,"number",fe);if(!u(fe))throw new R(he,"an integer",fe);if(fe<Ne||fe>ge)throw new R(he,`>= ${Ne} && <= ${ge}`,fe)}),k=p((fe,he,Ne=-2147483648,ge=2147483647)=>{if(typeof fe!="number")throw new v(he,"number",fe);if(!u(fe))throw new R(he,"an integer",fe);if(fe<Ne||fe>ge)throw new R(he,`>= ${Ne} && <= ${ge}`,fe)}),Y=p((fe,he,Ne=!1)=>{if(typeof fe!="number")throw new v(he,"number",fe);if(!u(fe))throw new R(he,"an integer",fe);const ge=Ne?1:0,Ie=4294967295;if(fe<ge||fe>Ie)throw new R(he,`>= ${ge} && <= ${Ie}`,fe)});function U(fe,he){if(typeof fe!="string")throw new v(he,"string",fe)}function H(fe,he,Ne=void 0,ge){if(typeof fe!="number")throw new v(he,"number",fe);if(Ne!=null&&fe<Ne||ge!=null&&fe>ge||(Ne!=null||ge!=null)&&t(fe))throw new R(he,`${Ne!=null?`>= ${Ne}`:""}${Ne!=null&&ge!=null?" && ":""}${ge!=null?`<= ${ge}`:""}`,fe)}const Z=p((fe,he,Ne)=>{if(!n(Ne,fe)){const Ie="must be one of: "+o(i(Ne,$e=>typeof $e=="string"?`'${$e}'`:m($e)),", ");throw new S(he,fe,Ie)}});function ee(fe,he){if(typeof fe!="boolean")throw new v(he,"boolean",fe)}function N(fe,he,Ne){return fe==null||!l(fe,he)?Ne:fe[he]}const G=p((fe,he,Ne=null)=>{const ge=N(Ne,"allowArray",!1),Ie=N(Ne,"allowFunction",!1);if(!N(Ne,"nullable",!1)&&fe===null||!ge&&e(fe)||typeof fe!="object"&&(!Ie||typeof fe!="function"))throw new v(he,"Object",fe)}),J=p((fe,he)=>{if(fe!=null&&typeof fe!="object"&&typeof fe!="function")throw new v(he,"a dictionary",fe)}),oe=p((fe,he,Ne=0)=>{if(!e(fe))throw new v(he,"Array",fe);if(fe.length<Ne){const ge=`must be longer than ${Ne}`;throw new S(he,fe,ge)}});function me(fe,he){oe(fe,he);for(let Ne=0;Ne<fe.length;Ne++)U(fe[Ne],`${he}[${Ne}]`)}function Ee(fe,he){oe(fe,he);for(let Ne=0;Ne<fe.length;Ne++)ee(fe[Ne],`${he}[${Ne}]`)}function K(fe,he){oe(fe,he);for(let Ne=0;Ne<fe.length;Ne++){const ge=fe[Ne],Ie=`${he}[${Ne}]`;if(ge==null)throw new v(Ie,"AbortSignal",ge);ye(ge,Ie)}}function $(fe,he="signal"){if(U(fe,he),D[fe]===void 0)throw D[b(fe)]!==void 0?new j(fe+" (signals must use all capital letters)"):new j(fe)}const ne=p((fe,he="buffer")=>{if(!C(fe))throw new v(he,["Buffer","TypedArray","DataView"],fe)});function Q(fe,he){const Ne=P(he),ge=fe.length;if(Ne==="hex"&&ge%2!==0)throw new S("encoding",he,`is invalid for data of length ${ge}`)}function ue(fe,he="Port",Ne=!0){if(typeof fe!="number"&&typeof fe!="string"||typeof fe=="string"&&_(fe).length===0||+fe!==+fe>>>0||fe>65535||fe===0&&!Ne)throw new y(he,fe,Ne);return fe|0}const ye=p((fe,he)=>{if(fe!==void 0&&(fe===null||typeof fe!="object"||!("aborted"in fe)))throw new v(he,"AbortSignal",fe)}),Re=p((fe,he)=>{if(typeof fe!="function")throw new v(he,"Function",fe)}),ae=p((fe,he)=>{if(typeof fe!="function"||T(fe))throw new v(he,"Function",fe)}),le=p((fe,he)=>{if(fe!==void 0)throw new v(he,"undefined",fe)});function be(fe,he,Ne){if(!n(Ne,fe))throw new v(he,`('${o(Ne,"|")}')`,fe)}const xe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ae(fe,he){if(typeof fe>"u"||!f(xe,fe))throw new S(he,fe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function De(fe){if(typeof fe=="string")return Ae(fe,"hints"),fe;if(e(fe)){const he=fe.length;let Ne="";if(he===0)return Ne;for(let ge=0;ge<he;ge++){const Ie=fe[ge];Ae(Ie,"hints"),Ne+=Ie,ge!==he-1&&(Ne+=", ")}return Ne}throw new S("hints",fe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return UC={isInt32:M,isUint32:L,parseFileMode:w,validateArray:oe,validateStringArray:me,validateBooleanArray:Ee,validateAbortSignalArray:K,validateBoolean:ee,validateBuffer:ne,validateDictionary:J,validateEncoding:Q,validateFunction:Re,validateInt32:k,validateInteger:V,validateNumber:H,validateObject:G,validateOneOf:Z,validatePlainFunction:ae,validatePort:ue,validateSignalName:$,validateString:U,validateUint32:Y,validateUndefined:le,validateUnion:be,validateAbortSignal:ye,validateLinkHeaderValue:De},UC}var uv={exports:{}},LC={exports:{}},C2;function Vf(){if(C2)return LC.exports;C2=1;var e=LC.exports={},n,o;function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?o=clearTimeout:o=u}catch{o=u}})();function t(y){if(n===setTimeout)return setTimeout(y,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(y,0);try{return n(y,0)}catch{try{return n.call(null,y,0)}catch{return n.call(this,y,0)}}}function r(y){if(o===clearTimeout)return clearTimeout(y);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(y);try{return o(y)}catch{try{return o.call(null,y)}catch{return o.call(this,y)}}}var a=[],s=!1,l,f=-1;function m(){!s||!l||(s=!1,l.length?a=l.concat(a):f=-1,a.length&&b())}function b(){if(!s){var y=t(m);s=!0;for(var v=a.length;v;){for(l=a,a=[];++f<v;)l&&l[f].run();f=-1,v=a.length}l=null,s=!1,r(y)}}e.nextTick=function(y){var v=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)v[S-1]=arguments[S];a.push(new _(y,v)),a.length===1&&!s&&t(b)};function _(y,v){this.fun=y,this.array=v}_.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function p(){}return e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(y){return[]},e.binding=function(y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},LC.exports}var $C,T2;function ic(){if(T2)return $C;T2=1;const{SymbolAsyncIterator:e,SymbolIterator:n,SymbolFor:o}=Vt(),i=o("nodejs.stream.destroyed"),u=o("nodejs.stream.errored"),t=o("nodejs.stream.readable"),r=o("nodejs.stream.writable"),a=o("nodejs.stream.disturbed"),s=o("nodejs.webstream.isClosedPromise"),l=o("nodejs.webstream.controllerErrorFunction");function f(N,G=!1){var J;return!!(N&&typeof N.pipe=="function"&&typeof N.on=="function"&&(!G||typeof N.pause=="function"&&typeof N.resume=="function")&&(!N._writableState||((J=N._readableState)===null||J===void 0?void 0:J.readable)!==!1)&&(!N._writableState||N._readableState))}function m(N){var G;return!!(N&&typeof N.write=="function"&&typeof N.on=="function"&&(!N._readableState||((G=N._writableState)===null||G===void 0?void 0:G.writable)!==!1))}function b(N){return!!(N&&typeof N.pipe=="function"&&N._readableState&&typeof N.on=="function"&&typeof N.write=="function")}function _(N){return N&&(N._readableState||N._writableState||typeof N.write=="function"&&typeof N.on=="function"||typeof N.pipe=="function"&&typeof N.on=="function")}function p(N){return!!(N&&!_(N)&&typeof N.pipeThrough=="function"&&typeof N.getReader=="function"&&typeof N.cancel=="function")}function y(N){return!!(N&&!_(N)&&typeof N.getWriter=="function"&&typeof N.abort=="function")}function v(N){return!!(N&&!_(N)&&typeof N.readable=="object"&&typeof N.writable=="object")}function S(N){return p(N)||y(N)||v(N)}function R(N,G){return N==null?!1:G===!0?typeof N[e]=="function":G===!1?typeof N[n]=="function":typeof N[e]=="function"||typeof N[n]=="function"}function j(N){if(!_(N))return null;const G=N._writableState,J=N._readableState,oe=G||J;return!!(N.destroyed||N[i]||oe!=null&&oe.destroyed)}function P(N){if(!m(N))return null;if(N.writableEnded===!0)return!0;const G=N._writableState;return G!=null&&G.errored?!1:typeof G?.ended!="boolean"?null:G.ended}function T(N,G){if(!m(N))return null;if(N.writableFinished===!0)return!0;const J=N._writableState;return J!=null&&J.errored?!1:typeof J?.finished!="boolean"?null:!!(J.finished||G===!1&&J.ended===!0&&J.length===0)}function C(N){if(!f(N))return null;if(N.readableEnded===!0)return!0;const G=N._readableState;return!G||G.errored?!1:typeof G?.ended!="boolean"?null:G.ended}function D(N,G){if(!f(N))return null;const J=N._readableState;return J!=null&&J.errored?!1:typeof J?.endEmitted!="boolean"?null:!!(J.endEmitted||G===!1&&J.ended===!0&&J.length===0)}function M(N){return N&&N[t]!=null?N[t]:typeof N?.readable!="boolean"?null:j(N)?!1:f(N)&&N.readable&&!D(N)}function L(N){return N&&N[r]!=null?N[r]:typeof N?.writable!="boolean"?null:j(N)?!1:m(N)&&N.writable&&!P(N)}function q(N,G){return _(N)?j(N)?!0:!(G?.readable!==!1&&M(N)||G?.writable!==!1&&L(N)):null}function z(N){var G,J;return _(N)?N.writableErrored?N.writableErrored:(G=(J=N._writableState)===null||J===void 0?void 0:J.errored)!==null&&G!==void 0?G:null:null}function w(N){var G,J;return _(N)?N.readableErrored?N.readableErrored:(G=(J=N._readableState)===null||J===void 0?void 0:J.errored)!==null&&G!==void 0?G:null:null}function V(N){if(!_(N))return null;if(typeof N.closed=="boolean")return N.closed;const G=N._writableState,J=N._readableState;return typeof G?.closed=="boolean"||typeof J?.closed=="boolean"?G?.closed||J?.closed:typeof N._closed=="boolean"&&k(N)?N._closed:null}function k(N){return typeof N._closed=="boolean"&&typeof N._defaultKeepAlive=="boolean"&&typeof N._removedConnection=="boolean"&&typeof N._removedContLen=="boolean"}function Y(N){return typeof N._sent100=="boolean"&&k(N)}function U(N){var G;return typeof N._consuming=="boolean"&&typeof N._dumped=="boolean"&&((G=N.req)===null||G===void 0?void 0:G.upgradeOrConnect)===void 0}function H(N){if(!_(N))return null;const G=N._writableState,J=N._readableState,oe=G||J;return!oe&&Y(N)||!!(oe&&oe.autoDestroy&&oe.emitClose&&oe.closed===!1)}function Z(N){var G;return!!(N&&((G=N[a])!==null&&G!==void 0?G:N.readableDidRead||N.readableAborted))}function ee(N){var G,J,oe,me,Ee,K,$,ne,Q,ue;return!!(N&&((G=(J=(oe=(me=(Ee=(K=N[u])!==null&&K!==void 0?K:N.readableErrored)!==null&&Ee!==void 0?Ee:N.writableErrored)!==null&&me!==void 0?me:($=N._readableState)===null||$===void 0?void 0:$.errorEmitted)!==null&&oe!==void 0?oe:(ne=N._writableState)===null||ne===void 0?void 0:ne.errorEmitted)!==null&&J!==void 0?J:(Q=N._readableState)===null||Q===void 0?void 0:Q.errored)!==null&&G!==void 0?G:!((ue=N._writableState)===null||ue===void 0)&&ue.errored))}return $C={isDestroyed:j,kIsDestroyed:i,isDisturbed:Z,kIsDisturbed:a,isErrored:ee,kIsErrored:u,isReadable:M,kIsReadable:t,kIsClosedPromise:s,kControllerErrorFunction:l,kIsWritable:r,isClosed:V,isDuplexNodeStream:b,isFinished:q,isIterable:R,isReadableNodeStream:f,isReadableStream:p,isReadableEnded:C,isReadableFinished:D,isReadableErrored:w,isNodeStream:_,isWebStream:S,isWritable:L,isWritableNodeStream:m,isWritableStream:y,isWritableEnded:P,isWritableFinished:T,isWritableErrored:z,isServerRequest:U,isServerResponse:Y,willEmitClose:H,isTransformStream:v},$C}var M2;function id(){if(M2)return uv.exports;M2=1;const e=Vf(),{AbortError:n,codes:o}=Nr(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:u}=o,{kEmptyObject:t,once:r}=kr(),{validateAbortSignal:a,validateFunction:s,validateObject:l,validateBoolean:f}=y_(),{Promise:m,PromisePrototypeThen:b,SymbolDispose:_}=Vt(),{isClosed:p,isReadable:y,isReadableNodeStream:v,isReadableStream:S,isReadableFinished:R,isReadableErrored:j,isWritable:P,isWritableNodeStream:T,isWritableStream:C,isWritableFinished:D,isWritableErrored:M,isNodeStream:L,willEmitClose:q,kIsClosedPromise:z}=ic();let w;function V(Z){return Z.setHeader&&typeof Z.abort=="function"}const k=()=>{};function Y(Z,ee,N){var G,J;if(arguments.length===2?(N=ee,ee=t):ee==null?ee=t:l(ee,"options"),s(N,"callback"),a(ee.signal,"options.signal"),N=r(N),S(Z)||C(Z))return U(Z,ee,N);if(!L(Z))throw new i("stream",["ReadableStream","WritableStream","Stream"],Z);const oe=(G=ee.readable)!==null&&G!==void 0?G:v(Z),me=(J=ee.writable)!==null&&J!==void 0?J:T(Z),Ee=Z._writableState,K=Z._readableState,$=()=>{Z.writable||ue()};let ne=q(Z)&&v(Z)===oe&&T(Z)===me,Q=D(Z,!1);const ue=()=>{Q=!0,Z.destroyed&&(ne=!1),!(ne&&(!Z.readable||oe))&&(!oe||ye)&&N.call(Z)};let ye=R(Z,!1);const Re=()=>{ye=!0,Z.destroyed&&(ne=!1),!(ne&&(!Z.writable||me))&&(!me||Q)&&N.call(Z)},ae=fe=>{N.call(Z,fe)};let le=p(Z);const be=()=>{le=!0;const fe=M(Z)||j(Z);if(fe&&typeof fe!="boolean")return N.call(Z,fe);if(oe&&!ye&&v(Z,!0)&&!R(Z,!1))return N.call(Z,new u);if(me&&!Q&&!D(Z,!1))return N.call(Z,new u);N.call(Z)},xe=()=>{le=!0;const fe=M(Z)||j(Z);if(fe&&typeof fe!="boolean")return N.call(Z,fe);N.call(Z)},Ae=()=>{Z.req.on("finish",ue)};V(Z)?(Z.on("complete",ue),ne||Z.on("abort",be),Z.req?Ae():Z.on("request",Ae)):me&&!Ee&&(Z.on("end",$),Z.on("close",$)),!ne&&typeof Z.aborted=="boolean"&&Z.on("aborted",be),Z.on("end",Re),Z.on("finish",ue),ee.error!==!1&&Z.on("error",ae),Z.on("close",be),le?e.nextTick(be):Ee!=null&&Ee.errorEmitted||K!=null&&K.errorEmitted?ne||e.nextTick(xe):(!oe&&(!ne||y(Z))&&(Q||P(Z)===!1)||!me&&(!ne||P(Z))&&(ye||y(Z)===!1)||K&&Z.req&&Z.aborted)&&e.nextTick(xe);const De=()=>{N=k,Z.removeListener("aborted",be),Z.removeListener("complete",ue),Z.removeListener("abort",be),Z.removeListener("request",Ae),Z.req&&Z.req.removeListener("finish",ue),Z.removeListener("end",$),Z.removeListener("close",$),Z.removeListener("finish",ue),Z.removeListener("end",Re),Z.removeListener("error",ae),Z.removeListener("close",be)};if(ee.signal&&!le){const fe=()=>{const he=N;De(),he.call(Z,new n(void 0,{cause:ee.signal.reason}))};if(ee.signal.aborted)e.nextTick(fe);else{w=w||kr().addAbortListener;const he=w(ee.signal,fe),Ne=N;N=r((...ge)=>{he[_](),Ne.apply(Z,ge)})}}return De}function U(Z,ee,N){let G=!1,J=k;if(ee.signal)if(J=()=>{G=!0,N.call(Z,new n(void 0,{cause:ee.signal.reason}))},ee.signal.aborted)e.nextTick(J);else{w=w||kr().addAbortListener;const me=w(ee.signal,J),Ee=N;N=r((...K)=>{me[_](),Ee.apply(Z,K)})}const oe=(...me)=>{G||e.nextTick(()=>N.apply(Z,me))};return b(Z[z].promise,oe,oe),k}function H(Z,ee){var N;let G=!1;return ee===null&&(ee=t),(N=ee)!==null&&N!==void 0&&N.cleanup&&(f(ee.cleanup,"cleanup"),G=ee.cleanup),new m((J,oe)=>{const me=Y(Z,ee,Ee=>{G&&me(),Ee?oe(Ee):J()})})}return uv.exports=Y,uv.exports.finished=H,uv.exports}var FC,x2;function dp(){if(x2)return FC;x2=1;const e=Vf(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:i}=Nr(),{Symbol:u}=Vt(),{kIsDestroyed:t,isDestroyed:r,isFinished:a,isServerRequest:s}=ic(),l=u("kDestroy"),f=u("kConstruct");function m(q,z,w){q&&(q.stack,z&&!z.errored&&(z.errored=q),w&&!w.errored&&(w.errored=q))}function b(q,z){const w=this._readableState,V=this._writableState,k=V||w;return V!=null&&V.destroyed||w!=null&&w.destroyed?(typeof z=="function"&&z(),this):(m(q,V,w),V&&(V.destroyed=!0),w&&(w.destroyed=!0),k.constructed?_(this,q,z):this.once(l,function(Y){_(this,n(Y,q),z)}),this)}function _(q,z,w){let V=!1;function k(Y){if(V)return;V=!0;const U=q._readableState,H=q._writableState;m(Y,H,U),H&&(H.closed=!0),U&&(U.closed=!0),typeof w=="function"&&w(Y),Y?e.nextTick(p,q,Y):e.nextTick(y,q)}try{q._destroy(z||null,k)}catch(Y){k(Y)}}function p(q,z){v(q,z),y(q)}function y(q){const z=q._readableState,w=q._writableState;w&&(w.closeEmitted=!0),z&&(z.closeEmitted=!0),(w!=null&&w.emitClose||z!=null&&z.emitClose)&&q.emit("close")}function v(q,z){const w=q._readableState,V=q._writableState;V!=null&&V.errorEmitted||w!=null&&w.errorEmitted||(V&&(V.errorEmitted=!0),w&&(w.errorEmitted=!0),q.emit("error",z))}function S(){const q=this._readableState,z=this._writableState;q&&(q.constructed=!0,q.closed=!1,q.closeEmitted=!1,q.destroyed=!1,q.errored=null,q.errorEmitted=!1,q.reading=!1,q.ended=q.readable===!1,q.endEmitted=q.readable===!1),z&&(z.constructed=!0,z.destroyed=!1,z.closed=!1,z.closeEmitted=!1,z.errored=null,z.errorEmitted=!1,z.finalCalled=!1,z.prefinished=!1,z.ended=z.writable===!1,z.ending=z.writable===!1,z.finished=z.writable===!1)}function R(q,z,w){const V=q._readableState,k=q._writableState;if(k!=null&&k.destroyed||V!=null&&V.destroyed)return this;V!=null&&V.autoDestroy||k!=null&&k.autoDestroy?q.destroy(z):z&&(z.stack,k&&!k.errored&&(k.errored=z),V&&!V.errored&&(V.errored=z),w?e.nextTick(v,q,z):v(q,z))}function j(q,z){if(typeof q._construct!="function")return;const w=q._readableState,V=q._writableState;w&&(w.constructed=!1),V&&(V.constructed=!1),q.once(f,z),!(q.listenerCount(f)>1)&&e.nextTick(P,q)}function P(q){let z=!1;function w(V){if(z){R(q,V??new o);return}z=!0;const k=q._readableState,Y=q._writableState,U=Y||k;k&&(k.constructed=!0),Y&&(Y.constructed=!0),U.destroyed?q.emit(l,V):V?R(q,V,!0):e.nextTick(T,q)}try{q._construct(V=>{e.nextTick(w,V)})}catch(V){e.nextTick(w,V)}}function T(q){q.emit(f)}function C(q){return q?.setHeader&&typeof q.abort=="function"}function D(q){q.emit("close")}function M(q,z){q.emit("error",z),e.nextTick(D,q)}function L(q,z){!q||r(q)||(!z&&!a(q)&&(z=new i),s(q)?(q.socket=null,q.destroy(z)):C(q)?q.abort():C(q.req)?q.req.abort():typeof q.destroy=="function"?q.destroy(z):typeof q.close=="function"?q.close():z?e.nextTick(M,q,z):e.nextTick(D,q),q.destroyed||(q[t]=!0))}return FC={construct:j,destroyer:L,destroy:b,undestroy:S,errorOrDestroy:R},FC}var VC,P2;function LM(){if(P2)return VC;P2=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:n}=Vt(),{EventEmitter:o}=Yb();function i(t){o.call(this,t)}n(i.prototype,o.prototype),n(i,o),i.prototype.pipe=function(t,r){const a=this;function s(y){t.writable&&t.write(y)===!1&&a.pause&&a.pause()}a.on("data",s);function l(){a.readable&&a.resume&&a.resume()}t.on("drain",l),!t._isStdio&&(!r||r.end!==!1)&&(a.on("end",m),a.on("close",b));let f=!1;function m(){f||(f=!0,t.end())}function b(){f||(f=!0,typeof t.destroy=="function"&&t.destroy())}function _(y){p(),o.listenerCount(this,"error")===0&&this.emit("error",y)}u(a,"error",_),u(t,"error",_);function p(){a.removeListener("data",s),t.removeListener("drain",l),a.removeListener("end",m),a.removeListener("close",b),a.removeListener("error",_),t.removeListener("error",_),a.removeListener("end",p),a.removeListener("close",p),t.removeListener("close",p)}return a.on("end",p),a.on("close",p),t.on("close",p),t.emit("pipe",a),t};function u(t,r,a){if(typeof t.prependListener=="function")return t.prependListener(r,a);!t._events||!t._events[r]?t.on(r,a):e(t._events[r])?t._events[r].unshift(a):t._events[r]=[a,t._events[r]]}return VC={Stream:i,prependListener:u},VC}var GC={exports:{}},A2;function Wb(){return A2||(A2=1,(function(e){const{SymbolDispose:n}=Vt(),{AbortError:o,codes:i}=Nr(),{isNodeStream:u,isWebStream:t,kControllerErrorFunction:r}=ic(),a=id(),{ERR_INVALID_ARG_TYPE:s}=i;let l;const f=(m,b)=>{if(typeof m!="object"||!("aborted"in m))throw new s(b,"AbortSignal",m)};e.exports.addAbortSignal=function(b,_){if(f(b,"signal"),!u(_)&&!t(_))throw new s("stream",["ReadableStream","WritableStream","Stream"],_);return e.exports.addAbortSignalNoValidate(b,_)},e.exports.addAbortSignalNoValidate=function(m,b){if(typeof m!="object"||!("aborted"in m))return b;const _=u(b)?()=>{b.destroy(new o(void 0,{cause:m.reason}))}:()=>{b[r](new o(void 0,{cause:m.reason}))};if(m.aborted)_();else{l=l||kr().addAbortListener;const p=l(m,_);a(b,p[n])}return b}})(GC)),GC.exports}var HC,N2;function Zge(){if(N2)return HC;N2=1;const{StringPrototypeSlice:e,SymbolIterator:n,TypedArrayPrototypeSet:o,Uint8Array:i}=Vt(),{Buffer:u}=ad(),{inspect:t}=kr();return HC=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){const s={data:a,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length}unshift(a){const s={data:a,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length}shift(){if(this.length===0)return;const a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let s=this.head,l=""+s.data;for(;(s=s.next)!==null;)l+=a+s.data;return l}concat(a){if(this.length===0)return u.alloc(0);const s=u.allocUnsafe(a>>>0);let l=this.head,f=0;for(;l;)o(s,l.data,f),f+=l.data.length,l=l.next;return s}consume(a,s){const l=this.head.data;if(a<l.length){const f=l.slice(0,a);return this.head.data=l.slice(a),f}return a===l.length?this.shift():s?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[n](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let s="",l=this.head,f=0;do{const m=l.data;if(a>m.length)s+=m,a-=m.length;else{a===m.length?(s+=m,++f,l.next?this.head=l.next:this.head=this.tail=null):(s+=e(m,0,a),this.head=l,l.data=e(m,a));break}++f}while((l=l.next)!==null);return this.length-=f,s}_getBuffer(a){const s=u.allocUnsafe(a),l=a;let f=this.head,m=0;do{const b=f.data;if(a>b.length)o(s,b,l-a),a-=b.length;else{a===b.length?(o(s,b,l-a),++m,f.next?this.head=f.next:this.head=this.tail=null):(o(s,new i(b.buffer,b.byteOffset,a),l-a),this.head=f,f.data=b.slice(a));break}++m}while((f=f.next)!==null);return this.length-=m,s}[Symbol.for("nodejs.util.inspect.custom")](a,s){return t(this,{...s,depth:0,customInspect:!1})}},HC}var KC,D2;function Jb(){if(D2)return KC;D2=1;const{MathFloor:e,NumberIsInteger:n}=Vt(),{validateInteger:o}=y_(),{ERR_INVALID_ARG_VALUE:i}=Nr().codes;let u=16*1024,t=16;function r(f,m,b){return f.highWaterMark!=null?f.highWaterMark:m?f[b]:null}function a(f){return f?t:u}function s(f,m){o(m,"value",0),f?t=m:u=m}function l(f,m,b,_){const p=r(m,_,b);if(p!=null){if(!n(p)||p<0){const y=_?`options.${b}`:"options.highWaterMark";throw new i(y,p)}return e(p)}return a(f.objectMode)}return KC={getHighWaterMark:l,getDefaultHighWaterMark:a,setDefaultHighWaterMark:s},KC}var kC={},lv={exports:{}};var I2;function Qge(){return I2||(I2=1,(function(e,n){var o=ad(),i=o.Buffer;function u(r,a){for(var s in r)a[s]=r[s]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=o:(u(o,n),n.Buffer=t);function t(r,a,s){return i(r,a,s)}t.prototype=Object.create(i.prototype),u(i,t),t.from=function(r,a,s){if(typeof r=="number")throw new TypeError("Argument must not be a number");return i(r,a,s)},t.alloc=function(r,a,s){if(typeof r!="number")throw new TypeError("Argument must be a number");var l=i(r);return a!==void 0?typeof s=="string"?l.fill(a,s):l.fill(a):l.fill(0),l},t.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return i(r)},t.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(r)}})(lv,lv.exports)),lv.exports}var z2;function Xge(){if(z2)return kC;z2=1;var e=Qge().Buffer,n=e.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(S){if(!S)return"utf8";for(var R;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(R)return;S=(""+S).toLowerCase(),R=!0}}function i(S){var R=o(S);if(typeof R!="string"&&(e.isEncoding===n||!n(S)))throw new Error("Unknown encoding: "+S);return R||S}kC.StringDecoder=u;function u(S){this.encoding=i(S);var R;switch(this.encoding){case"utf16le":this.text=m,this.end=b,R=4;break;case"utf8":this.fillLast=s,R=4;break;case"base64":this.text=_,this.end=p,R=3;break;default:this.write=y,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(R)}u.prototype.write=function(S){if(S.length===0)return"";var R,j;if(this.lastNeed){if(R=this.fillLast(S),R===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<S.length?R?R+this.text(S,j):this.text(S,j):R||""},u.prototype.end=f,u.prototype.text=l,u.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function t(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function r(S,R,j){var P=R.length-1;if(P<j)return 0;var T=t(R[P]);return T>=0?(T>0&&(S.lastNeed=T-1),T):--P<j||T===-2?0:(T=t(R[P]),T>=0?(T>0&&(S.lastNeed=T-2),T):--P<j||T===-2?0:(T=t(R[P]),T>=0?(T>0&&(T===2?T=0:S.lastNeed=T-3),T):0))}function a(S,R,j){if((R[0]&192)!==128)return S.lastNeed=0,"";if(S.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return S.lastNeed=1,"";if(S.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return S.lastNeed=2,""}}function s(S){var R=this.lastTotal-this.lastNeed,j=a(this,S);if(j!==void 0)return j;if(this.lastNeed<=S.length)return S.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,R,0,S.length),this.lastNeed-=S.length}function l(S,R){var j=r(this,S,R);if(!this.lastNeed)return S.toString("utf8",R);this.lastTotal=j;var P=S.length-(j-this.lastNeed);return S.copy(this.lastChar,0,P),S.toString("utf8",R,P)}function f(S){var R=S&&S.length?this.write(S):"";return this.lastNeed?R+"":R}function m(S,R){if((S.length-R)%2===0){var j=S.toString("utf16le",R);if(j){var P=j.charCodeAt(j.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",R,S.length-1)}function b(S){var R=S&&S.length?this.write(S):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,j)}return R}function _(S,R){var j=(S.length-R)%3;return j===0?S.toString("base64",R):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",R,S.length-j))}function p(S){var R=S&&S.length?this.write(S):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function y(S){return S.toString(this.encoding)}function v(S){return S&&S.length?this.write(S):""}return kC}var YC,q2;function DK(){if(q2)return YC;q2=1;const e=Vf(),{PromisePrototypeThen:n,SymbolAsyncIterator:o,SymbolIterator:i}=Vt(),{Buffer:u}=ad(),{ERR_INVALID_ARG_TYPE:t,ERR_STREAM_NULL_VALUES:r}=Nr().codes;function a(s,l,f){let m;if(typeof l=="string"||l instanceof u)return new s({objectMode:!0,...f,read(){this.push(l),this.push(null)}});let b;if(l&&l[o])b=!0,m=l[o]();else if(l&&l[i])b=!1,m=l[i]();else throw new t("iterable",["Iterable"],l);const _=new s({objectMode:!0,highWaterMark:1,...f});let p=!1;_._read=function(){p||(p=!0,v())},_._destroy=function(S,R){n(y(S),()=>e.nextTick(R,S),j=>e.nextTick(R,j||S))};async function y(S){const R=S!=null,j=typeof m.throw=="function";if(R&&j){const{value:P,done:T}=await m.throw(S);if(await P,T)return}if(typeof m.return=="function"){const{value:P}=await m.return();await P}}async function v(){for(;;){try{const{value:S,done:R}=b?await m.next():m.next();if(R)_.push(null);else{const j=S&&typeof S.then=="function"?await S:S;if(j===null)throw p=!1,new r;if(_.push(j))continue;p=!1}}catch(S){_.destroy(S)}break}}return _}return YC=a,YC}var WC,B2;function Zb(){if(B2)return WC;B2=1;const e=Vf(),{ArrayPrototypeIndexOf:n,NumberIsInteger:o,NumberIsNaN:i,NumberParseInt:u,ObjectDefineProperties:t,ObjectKeys:r,ObjectSetPrototypeOf:a,Promise:s,SafeSet:l,SymbolAsyncDispose:f,SymbolAsyncIterator:m,Symbol:b}=Vt();WC=ge,ge.ReadableState=Ne;const{EventEmitter:_}=Yb(),{Stream:p,prependListener:y}=LM(),{Buffer:v}=ad(),{addAbortSignal:S}=Wb(),R=id();let j=kr().debuglog("stream",X=>{j=X});const P=Zge(),T=dp(),{getHighWaterMark:C,getDefaultHighWaterMark:D}=Jb(),{aggregateTwoErrors:M,codes:{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_OUT_OF_RANGE:z,ERR_STREAM_PUSH_AFTER_EOF:w,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:k}=Nr(),{validateObject:Y}=y_(),U=b("kPaused"),{StringDecoder:H}=Xge(),Z=DK();a(ge.prototype,p.prototype),a(ge,p);const ee=()=>{},{errorOrDestroy:N}=T,G=1,J=2,oe=4,me=8,Ee=16,K=32,$=64,ne=128,Q=256,ue=512,ye=1024,Re=2048,ae=4096,le=8192,be=16384,xe=32768,Ae=65536,De=1<<17,fe=1<<18;function he(X){return{enumerable:!1,get(){return(this.state&X)!==0},set(ie){ie?this.state|=X:this.state&=~X}}}t(Ne.prototype,{objectMode:he(G),ended:he(J),endEmitted:he(oe),reading:he(me),constructed:he(Ee),sync:he(K),needReadable:he($),emittedReadable:he(ne),readableListening:he(Q),resumeScheduled:he(ue),errorEmitted:he(ye),emitClose:he(Re),autoDestroy:he(ae),destroyed:he(le),closed:he(be),closeEmitted:he(xe),multiAwaitDrain:he(Ae),readingMore:he(De),dataEmitted:he(fe)});function Ne(X,ie,qe){typeof qe!="boolean"&&(qe=ie instanceof rc()),this.state=Re|ae|Ee|K,X&&X.objectMode&&(this.state|=G),qe&&X&&X.readableObjectMode&&(this.state|=G),this.highWaterMark=X?C(this,X,"readableHighWaterMark",qe):D(!1),this.buffer=new P,this.length=0,this.pipes=[],this.flowing=null,this[U]=null,X&&X.emitClose===!1&&(this.state&=~Re),X&&X.autoDestroy===!1&&(this.state&=~ae),this.errored=null,this.defaultEncoding=X&&X.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,X&&X.encoding&&(this.decoder=new H(X.encoding),this.encoding=X.encoding)}function ge(X){if(!(this instanceof ge))return new ge(X);const ie=this instanceof rc();this._readableState=new Ne(X,this,ie),X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.construct=="function"&&(this._construct=X.construct),X.signal&&!ie&&S(X.signal,this)),p.call(this,X),T.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}ge.prototype.destroy=T.destroy,ge.prototype._undestroy=T.undestroy,ge.prototype._destroy=function(X,ie){ie(X)},ge.prototype[_.captureRejectionSymbol]=function(X){this.destroy(X)},ge.prototype[f]=function(){let X;return this.destroyed||(X=this.readableEnded?null:new k,this.destroy(X)),new s((ie,qe)=>R(this,Le=>Le&&Le!==X?qe(Le):ie(null)))},ge.prototype.push=function(X,ie){return Ie(this,X,ie,!1)},ge.prototype.unshift=function(X,ie){return Ie(this,X,ie,!0)};function Ie(X,ie,qe,Le){j("readableAddChunk",ie);const Ke=X._readableState;let ar;if((Ke.state&G)===0&&(typeof ie=="string"?(qe=qe||Ke.defaultEncoding,Ke.encoding!==qe&&(Le&&Ke.encoding?ie=v.from(ie,qe).toString(Ke.encoding):(ie=v.from(ie,qe),qe=""))):ie instanceof v?qe="":p._isUint8Array(ie)?(ie=p._uint8ArrayToBuffer(ie),qe=""):ie!=null&&(ar=new L("chunk",["string","Buffer","Uint8Array"],ie))),ar)N(X,ar);else if(ie===null)Ke.state&=~me,A(X,Ke);else if((Ke.state&G)!==0||ie&&ie.length>0)if(Le)if((Ke.state&oe)!==0)N(X,new V);else{if(Ke.destroyed||Ke.errored)return!1;$e(X,Ke,ie,!0)}else if(Ke.ended)N(X,new w);else{if(Ke.destroyed||Ke.errored)return!1;Ke.state&=~me,Ke.decoder&&!qe?(ie=Ke.decoder.write(ie),Ke.objectMode||ie.length!==0?$e(X,Ke,ie,!1):ce(X,Ke)):$e(X,Ke,ie,!1)}else Le||(Ke.state&=~me,ce(X,Ke));return!Ke.ended&&(Ke.length<Ke.highWaterMark||Ke.length===0)}function $e(X,ie,qe,Le){ie.flowing&&ie.length===0&&!ie.sync&&X.listenerCount("data")>0?((ie.state&Ae)!==0?ie.awaitDrainWriters.clear():ie.awaitDrainWriters=null,ie.dataEmitted=!0,X.emit("data",qe)):(ie.length+=ie.objectMode?1:qe.length,Le?ie.buffer.unshift(qe):ie.buffer.push(qe),(ie.state&$)!==0&&I(X)),ce(X,ie)}ge.prototype.isPaused=function(){const X=this._readableState;return X[U]===!0||X.flowing===!1},ge.prototype.setEncoding=function(X){const ie=new H(X);this._readableState.decoder=ie,this._readableState.encoding=this._readableState.decoder.encoding;const qe=this._readableState.buffer;let Le="";for(const Ke of qe)Le+=ie.write(Ke);return qe.clear(),Le!==""&&qe.push(Le),this._readableState.length=Le.length,this};const Pe=1073741824;function ze(X){if(X>Pe)throw new z("size","<= 1GiB",X);return X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++,X}function F(X,ie){return X<=0||ie.length===0&&ie.ended?0:(ie.state&G)!==0?1:i(X)?ie.flowing&&ie.length?ie.buffer.first().length:ie.length:X<=ie.length?X:ie.ended?ie.length:0}ge.prototype.read=function(X){j("read",X),X===void 0?X=NaN:o(X)||(X=u(X,10));const ie=this._readableState,qe=X;if(X>ie.highWaterMark&&(ie.highWaterMark=ze(X)),X!==0&&(ie.state&=~ne),X===0&&ie.needReadable&&((ie.highWaterMark!==0?ie.length>=ie.highWaterMark:ie.length>0)||ie.ended))return j("read: emitReadable",ie.length,ie.ended),ie.length===0&&ie.ended?cc(this):I(this),null;if(X=F(X,ie),X===0&&ie.ended)return ie.length===0&&cc(this),null;let Le=(ie.state&$)!==0;if(j("need readable",Le),(ie.length===0||ie.length-X<ie.highWaterMark)&&(Le=!0,j("length less than watermark",Le)),ie.ended||ie.reading||ie.destroyed||ie.errored||!ie.constructed)Le=!1,j("reading, ended or constructing",Le);else if(Le){j("do read"),ie.state|=me|K,ie.length===0&&(ie.state|=$);try{this._read(ie.highWaterMark)}catch(ar){N(this,ar)}ie.state&=~K,ie.reading||(X=F(qe,ie))}let Ke;return X>0?Ke=sd(X,ie):Ke=null,Ke===null?(ie.needReadable=ie.length<=ie.highWaterMark,X=0):(ie.length-=X,ie.multiAwaitDrain?ie.awaitDrainWriters.clear():ie.awaitDrainWriters=null),ie.length===0&&(ie.ended||(ie.needReadable=!0),qe!==X&&ie.ended&&cc(this)),Ke!==null&&!ie.errorEmitted&&!ie.closeEmitted&&(ie.dataEmitted=!0,this.emit("data",Ke)),Ke};function A(X,ie){if(j("onEofChunk"),!ie.ended){if(ie.decoder){const qe=ie.decoder.end();qe&&qe.length&&(ie.buffer.push(qe),ie.length+=ie.objectMode?1:qe.length)}ie.ended=!0,ie.sync?I(X):(ie.needReadable=!1,ie.emittedReadable=!0,te(X))}}function I(X){const ie=X._readableState;j("emitReadable",ie.needReadable,ie.emittedReadable),ie.needReadable=!1,ie.emittedReadable||(j("emitReadable",ie.flowing),ie.emittedReadable=!0,e.nextTick(te,X))}function te(X){const ie=X._readableState;j("emitReadable_",ie.destroyed,ie.length,ie.ended),!ie.destroyed&&!ie.errored&&(ie.length||ie.ended)&&(X.emit("readable"),ie.emittedReadable=!1),ie.needReadable=!ie.flowing&&!ie.ended&&ie.length<=ie.highWaterMark,vt(X)}function ce(X,ie){!ie.readingMore&&ie.constructed&&(ie.readingMore=!0,e.nextTick(Oe,X,ie))}function Oe(X,ie){for(;!ie.reading&&!ie.ended&&(ie.length<ie.highWaterMark||ie.flowing&&ie.length===0);){const qe=ie.length;if(j("maybeReadMore read 0"),X.read(0),qe===ie.length)break}ie.readingMore=!1}ge.prototype._read=function(X){throw new q("_read()")},ge.prototype.pipe=function(X,ie){const qe=this,Le=this._readableState;Le.pipes.length===1&&(Le.multiAwaitDrain||(Le.multiAwaitDrain=!0,Le.awaitDrainWriters=new l(Le.awaitDrainWriters?[Le.awaitDrainWriters]:[]))),Le.pipes.push(X),j("pipe count=%d opts=%j",Le.pipes.length,ie);const ar=(!ie||ie.end!==!1)&&X!==e.stdout&&X!==e.stderr?Kf:ld;Le.endEmitted?e.nextTick(ar):qe.once("end",ar),X.on("unpipe",jr);function jr(jl,On){j("onunpipe"),jl===qe&&On&&On.hasUnpiped===!1&&(On.hasUnpiped=!0,x_())}function Kf(){j("onend"),X.end()}let Ln,pp=!1;function x_(){j("cleanup"),X.removeListener("close",ll),X.removeListener("finish",ud),Ln&&X.removeListener("drain",Ln),X.removeListener("error",cr),X.removeListener("unpipe",jr),qe.removeListener("end",Kf),qe.removeListener("end",ld),qe.removeListener("data",Zt),pp=!0,Ln&&Le.awaitDrainWriters&&(!X._writableState||X._writableState.needDrain)&&Ln()}function $n(){pp||(Le.pipes.length===1&&Le.pipes[0]===X?(j("false write response, pause",0),Le.awaitDrainWriters=X,Le.multiAwaitDrain=!1):Le.pipes.length>1&&Le.pipes.includes(X)&&(j("false write response, pause",Le.awaitDrainWriters.size),Le.awaitDrainWriters.add(X)),qe.pause()),Ln||(Ln=Ce(qe,X),X.on("drain",Ln))}qe.on("data",Zt);function Zt(jl){j("ondata");const On=X.write(jl);j("dest.write",On),On===!1&&$n()}function cr(jl){if(j("onerror",jl),ld(),X.removeListener("error",cr),X.listenerCount("error")===0){const On=X._writableState||X._readableState;On&&!On.errorEmitted?N(X,jl):X.emit("error",jl)}}y(X,"error",cr);function ll(){X.removeListener("finish",ud),ld()}X.once("close",ll);function ud(){j("onfinish"),X.removeListener("close",ll),ld()}X.once("finish",ud);function ld(){j("unpipe"),qe.unpipe(X)}return X.emit("pipe",qe),X.writableNeedDrain===!0?$n():Le.flowing||(j("pipe resume"),qe.resume()),X};function Ce(X,ie){return function(){const Le=X._readableState;Le.awaitDrainWriters===ie?(j("pipeOnDrain",1),Le.awaitDrainWriters=null):Le.multiAwaitDrain&&(j("pipeOnDrain",Le.awaitDrainWriters.size),Le.awaitDrainWriters.delete(ie)),(!Le.awaitDrainWriters||Le.awaitDrainWriters.size===0)&&X.listenerCount("data")&&X.resume()}}ge.prototype.unpipe=function(X){const ie=this._readableState,qe={hasUnpiped:!1};if(ie.pipes.length===0)return this;if(!X){const Ke=ie.pipes;ie.pipes=[],this.pause();for(let ar=0;ar<Ke.length;ar++)Ke[ar].emit("unpipe",this,{hasUnpiped:!1});return this}const Le=n(ie.pipes,X);return Le===-1?this:(ie.pipes.splice(Le,1),ie.pipes.length===0&&this.pause(),X.emit("unpipe",this,qe),this)},ge.prototype.on=function(X,ie){const qe=p.prototype.on.call(this,X,ie),Le=this._readableState;return X==="data"?(Le.readableListening=this.listenerCount("readable")>0,Le.flowing!==!1&&this.resume()):X==="readable"&&!Le.endEmitted&&!Le.readableListening&&(Le.readableListening=Le.needReadable=!0,Le.flowing=!1,Le.emittedReadable=!1,j("on readable",Le.length,Le.reading),Le.length?I(this):Le.reading||e.nextTick(mt,this)),qe},ge.prototype.addListener=ge.prototype.on,ge.prototype.removeListener=function(X,ie){const qe=p.prototype.removeListener.call(this,X,ie);return X==="readable"&&e.nextTick(et,this),qe},ge.prototype.off=ge.prototype.removeListener,ge.prototype.removeAllListeners=function(X){const ie=p.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&e.nextTick(et,this),ie};function et(X){const ie=X._readableState;ie.readableListening=X.listenerCount("readable")>0,ie.resumeScheduled&&ie[U]===!1?ie.flowing=!0:X.listenerCount("data")>0?X.resume():ie.readableListening||(ie.flowing=null)}function mt(X){j("readable nexttick read 0"),X.read(0)}ge.prototype.resume=function(){const X=this._readableState;return X.flowing||(j("resume"),X.flowing=!X.readableListening,ut(this,X)),X[U]=!1,this};function ut(X,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,e.nextTick(It,X,ie))}function It(X,ie){j("resume",ie.reading),ie.reading||X.read(0),ie.resumeScheduled=!1,X.emit("resume"),vt(X),ie.flowing&&!ie.reading&&X.read(0)}ge.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[U]=!0,this};function vt(X){const ie=X._readableState;for(j("flow",ie.flowing);ie.flowing&&X.read()!==null;);}ge.prototype.wrap=function(X){let ie=!1;X.on("data",Le=>{!this.push(Le)&&X.pause&&(ie=!0,X.pause())}),X.on("end",()=>{this.push(null)}),X.on("error",Le=>{N(this,Le)}),X.on("close",()=>{this.destroy()}),X.on("destroy",()=>{this.destroy()}),this._read=()=>{ie&&X.resume&&(ie=!1,X.resume())};const qe=r(X);for(let Le=1;Le<qe.length;Le++){const Ke=qe[Le];this[Ke]===void 0&&typeof X[Ke]=="function"&&(this[Ke]=X[Ke].bind(X))}return this},ge.prototype[m]=function(){return T_(this)},ge.prototype.iterator=function(X){return X!==void 0&&Y(X,"options"),T_(this,X)};function T_(X,ie){typeof X.read!="function"&&(X=ge.wrap(X,{objectMode:!0}));const qe=Gf(X,ie);return qe.stream=X,qe}async function*Gf(X,ie){let qe=ee;function Le(jr){this===X?(qe(),qe=ee):qe=jr}X.on("readable",Le);let Ke;const ar=R(X,{writable:!1},jr=>{Ke=jr?M(Ke,jr):null,qe(),qe=ee});try{for(;;){const jr=X.destroyed?null:X.read();if(jr!==null)yield jr;else{if(Ke)throw Ke;if(Ke===null)return;await new s(Le)}}}catch(jr){throw Ke=M(Ke,jr),Ke}finally{(Ke||ie?.destroyOnReturn!==!1)&&(Ke===void 0||X._readableState.autoDestroy)?T.destroyer(X,null):(X.off("readable",Le),ar())}}t(ge.prototype,{readable:{__proto__:null,get(){const X=this._readableState;return!!X&&X.readable!==!1&&!X.destroyed&&!X.errorEmitted&&!X.endEmitted},set(X){this._readableState&&(this._readableState.readable=!!X)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(X){this._readableState&&(this._readableState.destroyed=X)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),t(Ne.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[U]!==!1},set(X){this[U]=!!X}}}),ge._fromList=sd;function sd(X,ie){if(ie.length===0)return null;let qe;return ie.objectMode?qe=ie.buffer.shift():!X||X>=ie.length?(ie.decoder?qe=ie.buffer.join(""):ie.buffer.length===1?qe=ie.buffer.first():qe=ie.buffer.concat(ie.length),ie.buffer.clear()):qe=ie.buffer.consume(X,ie.decoder),qe}function cc(X){const ie=X._readableState;j("endReadable",ie.endEmitted),ie.endEmitted||(ie.ended=!0,e.nextTick(El,ie,X))}function El(X,ie){if(j("endReadableNT",X.endEmitted,X.length),!X.errored&&!X.closeEmitted&&!X.endEmitted&&X.length===0){if(X.endEmitted=!0,ie.emit("end"),ie.writable&&ie.allowHalfOpen===!1)e.nextTick(Hf,ie);else if(X.autoDestroy){const qe=ie._writableState;(!qe||qe.autoDestroy&&(qe.finished||qe.writable===!1))&&ie.destroy()}}}function Hf(X){X.writable&&!X.writableEnded&&!X.destroyed&&X.end()}ge.from=function(X,ie){return Z(ge,X,ie)};let Rl;function M_(){return Rl===void 0&&(Rl={}),Rl}return ge.fromWeb=function(X,ie){return M_().newStreamReadableFromReadableStream(X,ie)},ge.toWeb=function(X,ie){return M_().newReadableStreamFromStreamReadable(X,ie)},ge.wrap=function(X,ie){var qe,Le;return new ge({objectMode:(qe=(Le=X.readableObjectMode)!==null&&Le!==void 0?Le:X.objectMode)!==null&&qe!==void 0?qe:!0,...ie,destroy(Ke,ar){T.destroyer(X,Ke),ar(Ke)}}).wrap(X)},WC}var JC,U2;function $M(){if(U2)return JC;U2=1;const e=Vf(),{ArrayPrototypeSlice:n,Error:o,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:u,ObjectDefineProperties:t,ObjectSetPrototypeOf:r,StringPrototypeToLowerCase:a,Symbol:s,SymbolHasInstance:l}=Vt();JC=Y,Y.WritableState=V;const{EventEmitter:f}=Yb(),m=LM().Stream,{Buffer:b}=ad(),_=dp(),{addAbortSignal:p}=Wb(),{getHighWaterMark:y,getDefaultHighWaterMark:v}=Jb(),{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_MULTIPLE_CALLBACK:j,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:C,ERR_STREAM_NULL_VALUES:D,ERR_STREAM_WRITE_AFTER_END:M,ERR_UNKNOWN_ENCODING:L}=Nr().codes,{errorOrDestroy:q}=_;r(Y.prototype,m.prototype),r(Y,m);function z(){}const w=s("kOnFinished");function V(ae,le,be){typeof be!="boolean"&&(be=le instanceof rc()),this.objectMode=!!(ae&&ae.objectMode),be&&(this.objectMode=this.objectMode||!!(ae&&ae.writableObjectMode)),this.highWaterMark=ae?y(this,ae,"writableHighWaterMark",be):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const xe=!!(ae&&ae.decodeStrings===!1);this.decodeStrings=!xe,this.defaultEncoding=ae&&ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=N.bind(void 0,le),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,k(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ae||ae.emitClose!==!1,this.autoDestroy=!ae||ae.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[w]=[]}function k(ae){ae.buffered=[],ae.bufferedIndex=0,ae.allBuffers=!0,ae.allNoop=!0}V.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},u(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Y(ae){const le=this instanceof rc();if(!le&&!i(Y,this))return new Y(ae);this._writableState=new V(ae,this,le),ae&&(typeof ae.write=="function"&&(this._write=ae.write),typeof ae.writev=="function"&&(this._writev=ae.writev),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.final=="function"&&(this._final=ae.final),typeof ae.construct=="function"&&(this._construct=ae.construct),ae.signal&&p(ae.signal,this)),m.call(this,ae),_.construct(this,()=>{const be=this._writableState;be.writing||me(this,be),ne(this,be)})}u(Y,l,{__proto__:null,value:function(ae){return i(this,ae)?!0:this!==Y?!1:ae&&ae._writableState instanceof V}}),Y.prototype.pipe=function(){q(this,new P)};function U(ae,le,be,xe){const Ae=ae._writableState;if(typeof be=="function")xe=be,be=Ae.defaultEncoding;else{if(!be)be=Ae.defaultEncoding;else if(be!=="buffer"&&!b.isEncoding(be))throw new L(be);typeof xe!="function"&&(xe=z)}if(le===null)throw new D;if(!Ae.objectMode)if(typeof le=="string")Ae.decodeStrings!==!1&&(le=b.from(le,be),be="buffer");else if(le instanceof b)be="buffer";else if(m._isUint8Array(le))le=m._uint8ArrayToBuffer(le),be="buffer";else throw new S("chunk",["string","Buffer","Uint8Array"],le);let De;return Ae.ending?De=new M:Ae.destroyed&&(De=new T("write")),De?(e.nextTick(xe,De),q(ae,De,!0),De):(Ae.pendingcb++,H(ae,Ae,le,be,xe))}Y.prototype.write=function(ae,le,be){return U(this,ae,le,be)===!0},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){const ae=this._writableState;ae.corked&&(ae.corked--,ae.writing||me(this,ae))},Y.prototype.setDefaultEncoding=function(le){if(typeof le=="string"&&(le=a(le)),!b.isEncoding(le))throw new L(le);return this._writableState.defaultEncoding=le,this};function H(ae,le,be,xe,Ae){const De=le.objectMode?1:be.length;le.length+=De;const fe=le.length<le.highWaterMark;return fe||(le.needDrain=!0),le.writing||le.corked||le.errored||!le.constructed?(le.buffered.push({chunk:be,encoding:xe,callback:Ae}),le.allBuffers&&xe!=="buffer"&&(le.allBuffers=!1),le.allNoop&&Ae!==z&&(le.allNoop=!1)):(le.writelen=De,le.writecb=Ae,le.writing=!0,le.sync=!0,ae._write(be,xe,le.onwrite),le.sync=!1),fe&&!le.errored&&!le.destroyed}function Z(ae,le,be,xe,Ae,De,fe){le.writelen=xe,le.writecb=fe,le.writing=!0,le.sync=!0,le.destroyed?le.onwrite(new T("write")):be?ae._writev(Ae,le.onwrite):ae._write(Ae,De,le.onwrite),le.sync=!1}function ee(ae,le,be,xe){--le.pendingcb,xe(be),oe(le),q(ae,be)}function N(ae,le){const be=ae._writableState,xe=be.sync,Ae=be.writecb;if(typeof Ae!="function"){q(ae,new j);return}be.writing=!1,be.writecb=null,be.length-=be.writelen,be.writelen=0,le?(le.stack,be.errored||(be.errored=le),ae._readableState&&!ae._readableState.errored&&(ae._readableState.errored=le),xe?e.nextTick(ee,ae,be,le,Ae):ee(ae,be,le,Ae)):(be.buffered.length>be.bufferedIndex&&me(ae,be),xe?be.afterWriteTickInfo!==null&&be.afterWriteTickInfo.cb===Ae?be.afterWriteTickInfo.count++:(be.afterWriteTickInfo={count:1,cb:Ae,stream:ae,state:be},e.nextTick(G,be.afterWriteTickInfo)):J(ae,be,1,Ae))}function G({stream:ae,state:le,count:be,cb:xe}){return le.afterWriteTickInfo=null,J(ae,le,be,xe)}function J(ae,le,be,xe){for(!le.ending&&!ae.destroyed&&le.length===0&&le.needDrain&&(le.needDrain=!1,ae.emit("drain"));be-- >0;)le.pendingcb--,xe();le.destroyed&&oe(le),ne(ae,le)}function oe(ae){if(ae.writing)return;for(let Ae=ae.bufferedIndex;Ae<ae.buffered.length;++Ae){var le;const{chunk:De,callback:fe}=ae.buffered[Ae],he=ae.objectMode?1:De.length;ae.length-=he,fe((le=ae.errored)!==null&&le!==void 0?le:new T("write"))}const be=ae[w].splice(0);for(let Ae=0;Ae<be.length;Ae++){var xe;be[Ae]((xe=ae.errored)!==null&&xe!==void 0?xe:new T("end"))}k(ae)}function me(ae,le){if(le.corked||le.bufferProcessing||le.destroyed||!le.constructed)return;const{buffered:be,bufferedIndex:xe,objectMode:Ae}=le,De=be.length-xe;if(!De)return;let fe=xe;if(le.bufferProcessing=!0,De>1&&ae._writev){le.pendingcb-=De-1;const he=le.allNoop?z:ge=>{for(let Ie=fe;Ie<be.length;++Ie)be[Ie].callback(ge)},Ne=le.allNoop&&fe===0?be:n(be,fe);Ne.allBuffers=le.allBuffers,Z(ae,le,!0,le.length,Ne,"",he),k(le)}else{do{const{chunk:he,encoding:Ne,callback:ge}=be[fe];be[fe++]=null;const Ie=Ae?1:he.length;Z(ae,le,!1,Ie,he,Ne,ge)}while(fe<be.length&&!le.writing);fe===be.length?k(le):fe>256?(be.splice(0,fe),le.bufferedIndex=0):le.bufferedIndex=fe}le.bufferProcessing=!1}Y.prototype._write=function(ae,le,be){if(this._writev)this._writev([{chunk:ae,encoding:le}],be);else throw new R("_write()")},Y.prototype._writev=null,Y.prototype.end=function(ae,le,be){const xe=this._writableState;typeof ae=="function"?(be=ae,ae=null,le=null):typeof le=="function"&&(be=le,le=null);let Ae;if(ae!=null){const De=U(this,ae,le);De instanceof o&&(Ae=De)}return xe.corked&&(xe.corked=1,this.uncork()),Ae||(!xe.errored&&!xe.ending?(xe.ending=!0,ne(this,xe,!0),xe.ended=!0):xe.finished?Ae=new C("end"):xe.destroyed&&(Ae=new T("end"))),typeof be=="function"&&(Ae||xe.finished?e.nextTick(be,Ae):xe[w].push(be)),this};function Ee(ae){return ae.ending&&!ae.destroyed&&ae.constructed&&ae.length===0&&!ae.errored&&ae.buffered.length===0&&!ae.finished&&!ae.writing&&!ae.errorEmitted&&!ae.closeEmitted}function K(ae,le){let be=!1;function xe(Ae){if(be){q(ae,Ae??j());return}if(be=!0,le.pendingcb--,Ae){const De=le[w].splice(0);for(let fe=0;fe<De.length;fe++)De[fe](Ae);q(ae,Ae,le.sync)}else Ee(le)&&(le.prefinished=!0,ae.emit("prefinish"),le.pendingcb++,e.nextTick(Q,ae,le))}le.sync=!0,le.pendingcb++;try{ae._final(xe)}catch(Ae){xe(Ae)}le.sync=!1}function $(ae,le){!le.prefinished&&!le.finalCalled&&(typeof ae._final=="function"&&!le.destroyed?(le.finalCalled=!0,K(ae,le)):(le.prefinished=!0,ae.emit("prefinish")))}function ne(ae,le,be){Ee(le)&&($(ae,le),le.pendingcb===0&&(be?(le.pendingcb++,e.nextTick((xe,Ae)=>{Ee(Ae)?Q(xe,Ae):Ae.pendingcb--},ae,le)):Ee(le)&&(le.pendingcb++,Q(ae,le))))}function Q(ae,le){le.pendingcb--,le.finished=!0;const be=le[w].splice(0);for(let xe=0;xe<be.length;xe++)be[xe]();if(ae.emit("finish"),le.autoDestroy){const xe=ae._readableState;(!xe||xe.autoDestroy&&(xe.endEmitted||xe.readable===!1))&&ae.destroy()}}t(Y.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ae){this._writableState&&(this._writableState.destroyed=ae)}},writable:{__proto__:null,get(){const ae=this._writableState;return!!ae&&ae.writable!==!1&&!ae.destroyed&&!ae.errored&&!ae.ending&&!ae.ended},set(ae){this._writableState&&(this._writableState.writable=!!ae)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const ae=this._writableState;return ae?!ae.destroyed&&!ae.ending&&ae.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ue=_.destroy;Y.prototype.destroy=function(ae,le){const be=this._writableState;return!be.destroyed&&(be.bufferedIndex<be.buffered.length||be[w].length)&&e.nextTick(oe,be),ue.call(this,ae,le),this},Y.prototype._undestroy=_.undestroy,Y.prototype._destroy=function(ae,le){le(ae)},Y.prototype[f.captureRejectionSymbol]=function(ae){this.destroy(ae)};let ye;function Re(){return ye===void 0&&(ye={}),ye}return Y.fromWeb=function(ae,le){return Re().newStreamWritableFromWritableStream(ae,le)},Y.toWeb=function(ae){return Re().newWritableStreamFromStreamWritable(ae)},JC}var ZC,L2;function eme(){if(L2)return ZC;L2=1;const e=Vf(),n=ad(),{isReadable:o,isWritable:i,isIterable:u,isNodeStream:t,isReadableNodeStream:r,isWritableNodeStream:a,isDuplexNodeStream:s,isReadableStream:l,isWritableStream:f}=ic(),m=id(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:p}}=Nr(),{destroyer:y}=dp(),v=rc(),S=Zb(),R=$M(),{createDeferredPromise:j}=kr(),P=DK(),T=globalThis.Blob||n.Blob,C=typeof T<"u"?function(V){return V instanceof T}:function(V){return!1},D=globalThis.AbortController||Zm().AbortController,{FunctionPrototypeCall:M}=Vt();class L extends v{constructor(V){super(V),V?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),V?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}ZC=function w(V,k){if(s(V))return V;if(r(V))return z({readable:V});if(a(V))return z({writable:V});if(t(V))return z({writable:!1,readable:!1});if(l(V))return z({readable:S.fromWeb(V)});if(f(V))return z({writable:R.fromWeb(V)});if(typeof V=="function"){const{value:U,write:H,final:Z,destroy:ee}=q(V);if(u(U))return P(L,U,{objectMode:!0,write:H,final:Z,destroy:ee});const N=U?.then;if(typeof N=="function"){let G;const J=M(N,U,oe=>{if(oe!=null)throw new p("nully","body",oe)},oe=>{y(G,oe)});return G=new L({objectMode:!0,readable:!1,write:H,final(oe){Z(async()=>{try{await J,e.nextTick(oe,null)}catch(me){e.nextTick(oe,me)}})},destroy:ee})}throw new p("Iterable, AsyncIterable or AsyncFunction",k,U)}if(C(V))return w(V.arrayBuffer());if(u(V))return P(L,V,{objectMode:!0,writable:!1});if(l(V?.readable)&&f(V?.writable))return L.fromWeb(V);if(typeof V?.writable=="object"||typeof V?.readable=="object"){const U=V!=null&&V.readable?r(V?.readable)?V?.readable:w(V.readable):void 0,H=V!=null&&V.writable?a(V?.writable)?V?.writable:w(V.writable):void 0;return z({readable:U,writable:H})}const Y=V?.then;if(typeof Y=="function"){let U;return M(Y,V,H=>{H!=null&&U.push(H),U.push(null)},H=>{y(U,H)}),U=new L({objectMode:!0,writable:!1,read(){}})}throw new _(k,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function q(w){let{promise:V,resolve:k}=j();const Y=new D,U=Y.signal;return{value:w((async function*(){for(;;){const Z=V;V=null;const{chunk:ee,done:N,cb:G}=await Z;if(e.nextTick(G),N)return;if(U.aborted)throw new b(void 0,{cause:U.reason});({promise:V,resolve:k}=j()),yield ee}})(),{signal:U}),write(Z,ee,N){const G=k;k=null,G({chunk:Z,done:!1,cb:N})},final(Z){const ee=k;k=null,ee({done:!0,cb:Z})},destroy(Z,ee){Y.abort(),ee(Z)}}}function z(w){const V=w.readable&&typeof w.readable.read!="function"?S.wrap(w.readable):w.readable,k=w.writable;let Y=!!o(V),U=!!i(k),H,Z,ee,N,G;function J(oe){const me=N;N=null,me?me(oe):oe&&G.destroy(oe)}return G=new L({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!(k!=null&&k.writableObjectMode),readable:Y,writable:U}),U&&(m(k,oe=>{U=!1,oe&&y(V,oe),J(oe)}),G._write=function(oe,me,Ee){k.write(oe,me)?Ee():H=Ee},G._final=function(oe){k.end(),Z=oe},k.on("drain",function(){if(H){const oe=H;H=null,oe()}}),k.on("finish",function(){if(Z){const oe=Z;Z=null,oe()}})),Y&&(m(V,oe=>{Y=!1,oe&&y(V,oe),J(oe)}),V.on("readable",function(){if(ee){const oe=ee;ee=null,oe()}}),V.on("end",function(){G.push(null)}),G._read=function(){for(;;){const oe=V.read();if(oe===null){ee=G._read;return}if(!G.push(oe))return}}),G._destroy=function(oe,me){!oe&&N!==null&&(oe=new b),ee=null,H=null,Z=null,N===null?me(oe):(N=me,y(k,oe),y(V,oe))},G}return ZC}var QC,$2;function rc(){if($2)return QC;$2=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:o,ObjectSetPrototypeOf:i}=Vt();QC=r;const u=Zb(),t=$M();i(r.prototype,u.prototype),i(r,u);{const f=o(t.prototype);for(let m=0;m<f.length;m++){const b=f[m];r.prototype[b]||(r.prototype[b]=t.prototype[b])}}function r(f){if(!(this instanceof r))return new r(f);u.call(this,f),t.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(r.prototype,{writable:{__proto__:null,...n(t.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(t.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(t.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(t.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(t.prototype,"writableLength")},writableFinished:{__proto__:null,...n(t.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(t.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(t.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(t.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let a;function s(){return a===void 0&&(a={}),a}r.fromWeb=function(f,m){return s().newStreamDuplexFromReadableWritablePair(f,m)},r.toWeb=function(f){return s().newReadableWritablePairFromDuplex(f)};let l;return r.from=function(f){return l||(l=eme()),l(f,"body")},QC}var XC,F2;function IK(){if(F2)return XC;F2=1;const{ObjectSetPrototypeOf:e,Symbol:n}=Vt();XC=r;const{ERR_METHOD_NOT_IMPLEMENTED:o}=Nr().codes,i=rc(),{getHighWaterMark:u}=Jb();e(r.prototype,i.prototype),e(r,i);const t=n("kCallback");function r(l){if(!(this instanceof r))return new r(l);const f=l?u(this,l,"readableHighWaterMark",!0):null;f===0&&(l={...l,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:l.writableHighWaterMark||0}),i.call(this,l),this._readableState.sync=!1,this[t]=null,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",s)}function a(l){typeof this._flush=="function"&&!this.destroyed?this._flush((f,m)=>{if(f){l?l(f):this.destroy(f);return}m!=null&&this.push(m),this.push(null),l&&l()}):(this.push(null),l&&l())}function s(){this._final!==a&&a.call(this)}return r.prototype._final=a,r.prototype._transform=function(l,f,m){throw new o("_transform()")},r.prototype._write=function(l,f,m){const b=this._readableState,_=this._writableState,p=b.length;this._transform(l,f,(y,v)=>{if(y){m(y);return}v!=null&&this.push(v),_.ended||p===b.length||b.length<b.highWaterMark?m():this[t]=m})},r.prototype._read=function(){if(this[t]){const l=this[t];this[t]=null,l()}},XC}var e1,V2;function zK(){if(V2)return e1;V2=1;const{ObjectSetPrototypeOf:e}=Vt();e1=o;const n=IK();e(o.prototype,n.prototype),e(o,n);function o(i){if(!(this instanceof o))return new o(i);n.call(this,i)}return o.prototype._transform=function(i,u,t){t(null,i)},e1}var t1,G2;function FM(){if(G2)return t1;G2=1;const e=Vf(),{ArrayIsArray:n,Promise:o,SymbolAsyncIterator:i,SymbolDispose:u}=Vt(),t=id(),{once:r}=kr(),a=dp(),s=rc(),{aggregateTwoErrors:l,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:m,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:y}=Nr(),{validateFunction:v,validateAbortSignal:S}=y_(),{isIterable:R,isReadable:j,isReadableNodeStream:P,isNodeStream:T,isTransformStream:C,isWebStream:D,isReadableStream:M,isReadableFinished:L}=ic(),q=globalThis.AbortController||Zm().AbortController;let z,w,V;function k(oe,me,Ee){let K=!1;oe.on("close",()=>{K=!0});const $=t(oe,{readable:me,writable:Ee},ne=>{K=!ne});return{destroy:ne=>{K||(K=!0,a.destroyer(oe,ne||new _("pipe")))},cleanup:$}}function Y(oe){return v(oe[oe.length-1],"streams[stream.length - 1]"),oe.pop()}function U(oe){if(R(oe))return oe;if(P(oe))return H(oe);throw new f("val",["Readable","Iterable","AsyncIterable"],oe)}async function*H(oe){w||(w=Zb()),yield*w.prototype[i].call(oe)}async function Z(oe,me,Ee,{end:K}){let $,ne=null;const Q=Re=>{if(Re&&($=Re),ne){const ae=ne;ne=null,ae()}},ue=()=>new o((Re,ae)=>{$?ae($):ne=()=>{$?ae($):Re()}});me.on("drain",Q);const ye=t(me,{readable:!1},Q);try{me.writableNeedDrain&&await ue();for await(const Re of oe)me.write(Re)||await ue();K&&(me.end(),await ue()),Ee()}catch(Re){Ee($!==Re?l($,Re):Re)}finally{ye(),me.off("drain",Q)}}async function ee(oe,me,Ee,{end:K}){C(me)&&(me=me.writable);const $=me.getWriter();try{for await(const ne of oe)await $.ready,$.write(ne).catch(()=>{});await $.ready,K&&await $.close(),Ee()}catch(ne){try{await $.abort(ne),Ee(ne)}catch(Q){Ee(Q)}}}function N(...oe){return G(oe,r(Y(oe)))}function G(oe,me,Ee){if(oe.length===1&&n(oe[0])&&(oe=oe[0]),oe.length<2)throw new b("streams");const K=new q,$=K.signal,ne=Ee?.signal,Q=[];S(ne,"options.signal");function ue(){Ae(new y)}V=V||kr().addAbortListener;let ye;ne&&(ye=V(ne,ue));let Re,ae;const le=[];let be=0;function xe(Ne){Ae(Ne,--be===0)}function Ae(Ne,ge){var Ie;if(Ne&&(!Re||Re.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Re=Ne),!(!Re&&!ge)){for(;le.length;)le.shift()(Re);(Ie=ye)===null||Ie===void 0||Ie[u](),K.abort(),ge&&(Re||Q.forEach($e=>$e()),e.nextTick(me,Re,ae))}}let De;for(let Ne=0;Ne<oe.length;Ne++){const ge=oe[Ne],Ie=Ne<oe.length-1,$e=Ne>0,Pe=Ie||Ee?.end!==!1,ze=Ne===oe.length-1;if(T(ge)){let F=function(A){A&&A.name!=="AbortError"&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"&&xe(A)};if(Pe){const{destroy:A,cleanup:I}=k(ge,Ie,$e);le.push(A),j(ge)&&ze&&Q.push(I)}ge.on("error",F),j(ge)&&ze&&Q.push(()=>{ge.removeListener("error",F)})}if(Ne===0)if(typeof ge=="function"){if(De=ge({signal:$}),!R(De))throw new m("Iterable, AsyncIterable or Stream","source",De)}else R(ge)||P(ge)||C(ge)?De=ge:De=s.from(ge);else if(typeof ge=="function"){if(C(De)){var fe;De=U((fe=De)===null||fe===void 0?void 0:fe.readable)}else De=U(De);if(De=ge(De,{signal:$}),Ie){if(!R(De,!0))throw new m("AsyncIterable",`transform[${Ne-1}]`,De)}else{var he;z||(z=zK());const F=new z({objectMode:!0}),A=(he=De)===null||he===void 0?void 0:he.then;if(typeof A=="function")be++,A.call(De,ce=>{ae=ce,ce!=null&&F.write(ce),Pe&&F.end(),e.nextTick(xe)},ce=>{F.destroy(ce),e.nextTick(xe,ce)});else if(R(De,!0))be++,Z(De,F,xe,{end:Pe});else if(M(De)||C(De)){const ce=De.readable||De;be++,Z(ce,F,xe,{end:Pe})}else throw new m("AsyncIterable or Promise","destination",De);De=F;const{destroy:I,cleanup:te}=k(De,!1,!0);le.push(I),ze&&Q.push(te)}}else if(T(ge)){if(P(De)){be+=2;const F=J(De,ge,xe,{end:Pe});j(ge)&&ze&&Q.push(F)}else if(C(De)||M(De)){const F=De.readable||De;be++,Z(F,ge,xe,{end:Pe})}else if(R(De))be++,Z(De,ge,xe,{end:Pe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],De);De=ge}else if(D(ge)){if(P(De))be++,ee(U(De),ge,xe,{end:Pe});else if(M(De)||R(De))be++,ee(De,ge,xe,{end:Pe});else if(C(De))be++,ee(De.readable,ge,xe,{end:Pe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],De);De=ge}else De=s.from(ge)}return($!=null&&$.aborted||ne!=null&&ne.aborted)&&e.nextTick(ue),De}function J(oe,me,Ee,{end:K}){let $=!1;if(me.on("close",()=>{$||Ee(new p)}),oe.pipe(me,{end:!1}),K){let ne=function(){$=!0,me.end()};L(oe)?e.nextTick(ne):oe.once("end",ne)}else Ee();return t(oe,{readable:!0,writable:!1},ne=>{const Q=oe._readableState;ne&&ne.code==="ERR_STREAM_PREMATURE_CLOSE"&&Q&&Q.ended&&!Q.errored&&!Q.errorEmitted?oe.once("end",Ee).once("error",Ee):Ee(ne)}),t(me,{readable:!1,writable:!0},Ee)}return t1={pipelineImpl:G,pipeline:N},t1}var r1,H2;function qK(){if(H2)return r1;H2=1;const{pipeline:e}=FM(),n=rc(),{destroyer:o}=dp(),{isNodeStream:i,isReadable:u,isWritable:t,isWebStream:r,isTransformStream:a,isWritableStream:s,isReadableStream:l}=ic(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:b}}=Nr(),_=id();return r1=function(...y){if(y.length===0)throw new b("streams");if(y.length===1)return n.from(y[0]);const v=[...y];if(typeof y[0]=="function"&&(y[0]=n.from(y[0])),typeof y[y.length-1]=="function"){const z=y.length-1;y[z]=n.from(y[z])}for(let z=0;z<y.length;++z)if(!(!i(y[z])&&!r(y[z]))){if(z<y.length-1&&!(u(y[z])||l(y[z])||a(y[z])))throw new m(`streams[${z}]`,v[z],"must be readable");if(z>0&&!(t(y[z])||s(y[z])||a(y[z])))throw new m(`streams[${z}]`,v[z],"must be writable")}let S,R,j,P,T;function C(z){const w=P;P=null,w?w(z):z?T.destroy(z):!q&&!L&&T.destroy()}const D=y[0],M=e(y,C),L=!!(t(D)||s(D)||a(D)),q=!!(u(M)||l(M)||a(M));if(T=new n({writableObjectMode:!!(D!=null&&D.writableObjectMode),readableObjectMode:!!(M!=null&&M.readableObjectMode),writable:L,readable:q}),L){if(i(D))T._write=function(w,V,k){D.write(w,V)?k():S=k},T._final=function(w){D.end(),R=w},D.on("drain",function(){if(S){const w=S;S=null,w()}});else if(r(D)){const V=(a(D)?D.writable:D).getWriter();T._write=async function(k,Y,U){try{await V.ready,V.write(k).catch(()=>{}),U()}catch(H){U(H)}},T._final=async function(k){try{await V.ready,V.close().catch(()=>{}),R=k}catch(Y){k(Y)}}}const z=a(M)?M.readable:M;_(z,()=>{if(R){const w=R;R=null,w()}})}if(q){if(i(M))M.on("readable",function(){if(j){const z=j;j=null,z()}}),M.on("end",function(){T.push(null)}),T._read=function(){for(;;){const z=M.read();if(z===null){j=T._read;return}if(!T.push(z))return}};else if(r(M)){const w=(a(M)?M.readable:M).getReader();T._read=async function(){for(;;)try{const{value:V,done:k}=await w.read();if(!T.push(V))return;if(k){T.push(null);return}}catch{return}}}}return T._destroy=function(z,w){!z&&P!==null&&(z=new f),j=null,S=null,R=null,P===null?w(z):(P=w,i(M)&&o(M,z))},T},r1}var K2;function tme(){if(K2)return sv;K2=1;const e=globalThis.AbortController||Zm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:u},AbortError:t}=Nr(),{validateAbortSignal:r,validateInteger:a,validateObject:s}=y_(),l=Vt().Symbol("kWeak"),f=Vt().Symbol("kResistStopPropagation"),{finished:m}=id(),b=qK(),{addAbortSignalNoValidate:_}=Wb(),{isWritable:p,isNodeStream:y}=ic(),{deprecate:v}=kr(),{ArrayPrototypePush:S,Boolean:R,MathFloor:j,Number:P,NumberIsNaN:T,Promise:C,PromiseReject:D,PromiseResolve:M,PromisePrototypeThen:L,Symbol:q}=Vt(),z=q("kEmpty"),w=q("kEof");function V(ne,Q){if(Q!=null&&s(Q,"options"),Q?.signal!=null&&r(Q.signal,"options.signal"),y(ne)&&!p(ne))throw new n("stream",ne,"must be writable");const ue=b(this,ne);return Q!=null&&Q.signal&&_(Q.signal,ue),ue}function k(ne,Q){if(typeof ne!="function")throw new o("fn",["Function","AsyncFunction"],ne);Q!=null&&s(Q,"options"),Q?.signal!=null&&r(Q.signal,"options.signal");let ue=1;Q?.concurrency!=null&&(ue=j(Q.concurrency));let ye=ue-1;return Q?.highWaterMark!=null&&(ye=j(Q.highWaterMark)),a(ue,"options.concurrency",1),a(ye,"options.highWaterMark",0),ye+=ue,(async function*(){const ae=kr().AbortSignalAny([Q?.signal].filter(R)),le=this,be=[],xe={signal:ae};let Ae,De,fe=!1,he=0;function Ne(){fe=!0,ge()}function ge(){he-=1,Ie()}function Ie(){De&&!fe&&he<ue&&be.length<ye&&(De(),De=null)}async function $e(){try{for await(let Pe of le){if(fe)return;if(ae.aborted)throw new t;try{if(Pe=ne(Pe,xe),Pe===z)continue;Pe=M(Pe)}catch(ze){Pe=D(ze)}he+=1,L(Pe,ge,Ne),be.push(Pe),Ae&&(Ae(),Ae=null),!fe&&(be.length>=ye||he>=ue)&&await new C(ze=>{De=ze})}be.push(w)}catch(Pe){const ze=D(Pe);L(ze,ge,Ne),be.push(ze)}finally{fe=!0,Ae&&(Ae(),Ae=null)}}$e();try{for(;;){for(;be.length>0;){const Pe=await be[0];if(Pe===w)return;if(ae.aborted)throw new t;Pe!==z&&(yield Pe),be.shift(),Ie()}await new C(Pe=>{Ae=Pe})}}finally{fe=!0,De&&(De(),De=null)}}).call(this)}function Y(ne=void 0){return ne!=null&&s(ne,"options"),ne?.signal!=null&&r(ne.signal,"options.signal"),(async function*(){let ue=0;for await(const Re of this){var ye;if(ne!=null&&(ye=ne.signal)!==null&&ye!==void 0&&ye.aborted)throw new t({cause:ne.signal.reason});yield[ue++,Re]}}).call(this)}async function U(ne,Q=void 0){for await(const ue of N.call(this,ne,Q))return!0;return!1}async function H(ne,Q=void 0){if(typeof ne!="function")throw new o("fn",["Function","AsyncFunction"],ne);return!await U.call(this,async(...ue)=>!await ne(...ue),Q)}async function Z(ne,Q){for await(const ue of N.call(this,ne,Q))return ue}async function ee(ne,Q){if(typeof ne!="function")throw new o("fn",["Function","AsyncFunction"],ne);async function ue(ye,Re){return await ne(ye,Re),z}for await(const ye of k.call(this,ue,Q));}function N(ne,Q){if(typeof ne!="function")throw new o("fn",["Function","AsyncFunction"],ne);async function ue(ye,Re){return await ne(ye,Re)?ye:z}return k.call(this,ue,Q)}class G extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function J(ne,Q,ue){var ye;if(typeof ne!="function")throw new o("reducer",["Function","AsyncFunction"],ne);ue!=null&&s(ue,"options"),ue?.signal!=null&&r(ue.signal,"options.signal");let Re=arguments.length>1;if(ue!=null&&(ye=ue.signal)!==null&&ye!==void 0&&ye.aborted){const Ae=new t(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),await m(this.destroy(Ae)),Ae}const ae=new e,le=ae.signal;if(ue!=null&&ue.signal){const Ae={once:!0,[l]:this,[f]:!0};ue.signal.addEventListener("abort",()=>ae.abort(),Ae)}let be=!1;try{for await(const Ae of this){var xe;if(be=!0,ue!=null&&(xe=ue.signal)!==null&&xe!==void 0&&xe.aborted)throw new t;Re?Q=await ne(Q,Ae,{signal:le}):(Q=Ae,Re=!0)}if(!be&&!Re)throw new G}finally{ae.abort()}return Q}async function oe(ne){ne!=null&&s(ne,"options"),ne?.signal!=null&&r(ne.signal,"options.signal");const Q=[];for await(const ye of this){var ue;if(ne!=null&&(ue=ne.signal)!==null&&ue!==void 0&&ue.aborted)throw new t(void 0,{cause:ne.signal.reason});S(Q,ye)}return Q}function me(ne,Q){const ue=k.call(this,ne,Q);return(async function*(){for await(const Re of ue)yield*Re}).call(this)}function Ee(ne){if(ne=P(ne),T(ne))return 0;if(ne<0)throw new u("number",">= 0",ne);return ne}function K(ne,Q=void 0){return Q!=null&&s(Q,"options"),Q?.signal!=null&&r(Q.signal,"options.signal"),ne=Ee(ne),(async function*(){var ye;if(Q!=null&&(ye=Q.signal)!==null&&ye!==void 0&&ye.aborted)throw new t;for await(const ae of this){var Re;if(Q!=null&&(Re=Q.signal)!==null&&Re!==void 0&&Re.aborted)throw new t;ne--<=0&&(yield ae)}}).call(this)}function $(ne,Q=void 0){return Q!=null&&s(Q,"options"),Q?.signal!=null&&r(Q.signal,"options.signal"),ne=Ee(ne),(async function*(){var ye;if(Q!=null&&(ye=Q.signal)!==null&&ye!==void 0&&ye.aborted)throw new t;for await(const ae of this){var Re;if(Q!=null&&(Re=Q.signal)!==null&&Re!==void 0&&Re.aborted)throw new t;if(ne-- >0&&(yield ae),ne<=0)return}}).call(this)}return sv.streamReturningOperators={asIndexedPairs:v(Y,"readable.asIndexedPairs will be removed in a future version."),drop:K,filter:N,flatMap:me,map:k,take:$,compose:V},sv.promiseReturningOperators={every:H,forEach:ee,reduce:J,toArray:oe,some:U,find:Z},sv}var n1,k2;function BK(){if(k2)return n1;k2=1;const{ArrayPrototypePop:e,Promise:n}=Vt(),{isIterable:o,isNodeStream:i,isWebStream:u}=ic(),{pipelineImpl:t}=FM(),{finished:r}=id();UK();function a(...s){return new n((l,f)=>{let m,b;const _=s[s.length-1];if(_&&typeof _=="object"&&!i(_)&&!o(_)&&!u(_)){const p=e(s);m=p.signal,b=p.end}t(s,(p,y)=>{p?f(p):l(y)},{signal:m,end:b})})}return n1={finished:r,pipeline:a},n1}var Y2;function UK(){if(Y2)return NC.exports;Y2=1;const{Buffer:e}=ad(),{ObjectDefineProperty:n,ObjectKeys:o,ReflectApply:i}=Vt(),{promisify:{custom:u}}=kr(),{streamReturningOperators:t,promiseReturningOperators:r}=tme(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Nr(),s=qK(),{setDefaultHighWaterMark:l,getDefaultHighWaterMark:f}=Jb(),{pipeline:m}=FM(),{destroyer:b}=dp(),_=id(),p=BK(),y=ic(),v=NC.exports=LM().Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=Zb();for(const R of o(t)){let P=function(...T){if(new.target)throw a();return v.Readable.from(i(j,this,T))};const j=t[R];n(P,"name",{__proto__:null,value:j.name}),n(P,"length",{__proto__:null,value:j.length}),n(v.Readable.prototype,R,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}for(const R of o(r)){let P=function(...T){if(new.target)throw a();return i(j,this,T)};const j=r[R];n(P,"name",{__proto__:null,value:j.name}),n(P,"length",{__proto__:null,value:j.length}),n(v.Readable.prototype,R,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}v.Writable=$M(),v.Duplex=rc(),v.Transform=IK(),v.PassThrough=zK(),v.pipeline=m;const{addAbortSignal:S}=Wb();return v.addAbortSignal=S,v.finished=_,v.destroy=b,v.compose=s,v.setDefaultHighWaterMark=l,v.getDefaultHighWaterMark=f,n(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return p}}),n(m,u,{__proto__:null,enumerable:!0,get(){return p.pipeline}}),n(_,u,{__proto__:null,enumerable:!0,get(){return p.finished}}),v.Stream=v,v._isUint8Array=function(j){return j instanceof Uint8Array},v._uint8ArrayToBuffer=function(j){return e.from(j.buffer,j.byteOffset,j.byteLength)},NC.exports}var W2;function Qv(){return W2||(W2=1,(function(e){const n=UK(),o=BK(),i=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=i,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get(){return o}}),e.exports.Stream=n.Stream,e.exports.default=e.exports})(AC)),AC.exports}var la={},a1={},rm={},nm={},J2;function LK(){if(J2)return nm;J2=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.base64Encode=o,nm.base64Decode=i;function e(u){const t=atob(u);return Uint8Array.from(t,r=>r.codePointAt(0))}function n(u){const t=String.fromCodePoint(...u);return btoa(t)}function o(u){if(typeof Buffer<"u")return Buffer.from(u,"utf8").toString("base64");const t=new TextEncoder().encode(u);return n(t)}function i(u){if(typeof Buffer<"u")return Buffer.from(u,"base64").toString("utf8");const t=e(u);return new TextDecoder().decode(t)}return nm}var Z2;function rme(){if(Z2)return rm;Z2=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.BasicAuth=void 0;const e=LK(),n=/^Basic /i;return rm.BasicAuth={toAuthorizationHeader:o=>o==null?void 0:`Basic ${(0,e.base64Encode)(`${o.username}:${o.password}`)}`,fromAuthorizationHeader:o=>{const i=o.replace(n,""),u=(0,e.base64Decode)(i),[t,...r]=u.split(":"),a=r.length>0?r.join(":"):void 0;if(t==null||a==null)throw new Error("Invalid basic auth");return{username:t,password:a}}},rm}var am={},Q2;function nme(){if(Q2)return am;Q2=1,Object.defineProperty(am,"__esModule",{value:!0}),am.BearerToken=void 0;const e=/^Bearer /i;return am.BearerToken={toAuthorizationHeader:n=>{if(n!=null)return`Bearer ${n}`},fromAuthorizationHeader:n=>n.replace(e,"").trim()},am}var X2;function ame(){return X2||(X2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BearerToken=e.BasicAuth=void 0;var n=rme();Object.defineProperty(e,"BasicAuth",{enumerable:!0,get:function(){return n.BasicAuth}});var o=nme();Object.defineProperty(e,"BearerToken",{enumerable:!0,get:function(){return o.BearerToken}})})(a1)),a1}var i1={},Qd={},e3;function $K(){if(e3)return Qd;e3=1;var e=Qd&&Qd.__awaiter||function(n,o,i,u){function t(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function s(m){try{f(u.next(m))}catch(b){a(b)}}function l(m){try{f(u.throw(m))}catch(b){a(b)}}function f(m){m.done?r(m.value):t(m.value).then(s,l)}f((u=u.apply(n,o||[])).next())})};return Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.EndpointSupplier=void 0,Qd.EndpointSupplier={get:(n,o)=>e(void 0,void 0,void 0,function*(){return typeof n=="function"?n(o):n})},Qd}var zc={},o1={},t3;function FK(){return t3||(t3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.ConsoleLogger=e.LogLevel=void 0,e.createLogger=u,e.LogLevel={Debug:"debug",Info:"info",Warn:"warn",Error:"error"};const n={[e.LogLevel.Debug]:1,[e.LogLevel.Info]:2,[e.LogLevel.Warn]:3,[e.LogLevel.Error]:4};class o{debug(a,...s){console.debug(a,...s)}info(a,...s){console.info(a,...s)}warn(a,...s){console.warn(a,...s)}error(a,...s){console.error(a,...s)}}e.ConsoleLogger=o;class i{constructor(a){this.level=n[a.level],this.logger=a.logger,this.silent=a.silent}shouldLog(a){return!this.silent&&this.level<=n[a]}isDebug(){return this.shouldLog(e.LogLevel.Debug)}debug(a,...s){this.isDebug()&&this.logger.debug(a,...s)}isInfo(){return this.shouldLog(e.LogLevel.Info)}info(a,...s){this.isInfo()&&this.logger.info(a,...s)}isWarn(){return this.shouldLog(e.LogLevel.Warn)}warn(a,...s){this.isWarn()&&this.logger.warn(a,...s)}isError(){return this.shouldLog(e.LogLevel.Error)}error(a,...s){this.isError()&&this.logger.error(a,...s)}}e.Logger=i;function u(r){var a,s,l;return r==null?t:r instanceof i?r:(r=r??{},(a=r.level)!==null&&a!==void 0||(r.level=e.LogLevel.Info),(s=r.logger)!==null&&s!==void 0||(r.logger=new o),(l=r.silent)!==null&&l!==void 0||(r.silent=!0),new i(r))}const t=new i({level:e.LogLevel.Info,logger:new o,silent:!0})})(o1)),o1}var cv={},dv={},r3;function Qb(){if(r3)return dv;r3=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.toQueryString=i;const e={arrayFormat:"indices",encode:!0};function n(u,t){if(u===void 0||u===null)return"";const r=String(u);return t?encodeURIComponent(r):r}function o(u,t="",r){const a=[];for(const[s,l]of Object.entries(u)){const f=t?`${t}[${s}]`:s;if(l!==void 0)if(Array.isArray(l)){if(l.length===0)continue;for(let m=0;m<l.length;m++){const b=l[m];if(b!==void 0)if(typeof b=="object"&&!Array.isArray(b)&&b!==null){const _=r.arrayFormat==="indices"?`${f}[${m}]`:f;a.push(...o(b,_,r))}else{const _=r.arrayFormat==="indices"?`${f}[${m}]`:f,p=r.encode?encodeURIComponent(_):_;a.push(`${p}=${n(b,r.encode)}`)}}}else if(typeof l=="object"&&l!==null){if(Object.keys(l).length===0)continue;a.push(...o(l,f,r))}else{const m=r.encode?encodeURIComponent(f):f;a.push(`${m}=${n(l,r.encode)}`)}}return a}function i(u,t){return u==null||typeof u!="object"?"":o(u,"",Object.assign(Object.assign({},e),t)).join("&")}return dv}var n3;function ime(){if(n3)return cv;n3=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.createRequestUrl=n;const e=Qb();function n(o,i){const u=(0,e.toQueryString)(i,{arrayFormat:"repeat"});return u?`${o}?${u}`:o}return cv}var Ah={},Nh={},fv={},a3;function ome(){if(a3)return fv;a3=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.getBinaryResponse=e;function e(n){const o={get bodyUsed(){return n.bodyUsed},stream:()=>n.body,arrayBuffer:n.arrayBuffer.bind(n),blob:n.blob.bind(n)};return"bytes"in n&&typeof n.bytes=="function"&&(o.bytes=n.bytes.bind(n)),o}return fv}var hv={},i3;function sme(){if(i3)return hv;i3=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.isResponseWithBody=e;function e(n){return n.body!=null}return hv}var o3;function VK(){if(o3)return Nh;o3=1;var e=Nh&&Nh.__awaiter||function(t,r,a,s){function l(f){return f instanceof a?f:new a(function(m){m(f)})}return new(a||(a=Promise))(function(f,m){function b(y){try{p(s.next(y))}catch(v){m(v)}}function _(y){try{p(s.throw(y))}catch(v){m(v)}}function p(y){y.done?f(y.value):l(y.value).then(b,_)}p((s=s.apply(t,r||[])).next())})};Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.getResponseBody=u;const n=__(),o=ome(),i=sme();function u(t,r){return e(this,void 0,void 0,function*(){if(!(0,i.isResponseWithBody)(t))return;switch(r){case"binary-response":return(0,o.getBinaryResponse)(t);case"blob":return yield t.blob();case"arrayBuffer":return yield t.arrayBuffer();case"sse":return t.body;case"streaming":return t.body;case"text":return yield t.text()}const a=yield t.text();if(a.length>0)try{return(0,n.fromJson)(a)}catch{return{ok:!1,error:{reason:"non-json",statusCode:t.status,rawBody:a}}}})}return Nh}var s3;function ume(){if(s3)return Ah;s3=1;var e=Ah&&Ah.__awaiter||function(u,t,r,a){function s(l){return l instanceof r?l:new r(function(f){f(l)})}return new(r||(r=Promise))(function(l,f){function m(p){try{_(a.next(p))}catch(y){f(y)}}function b(p){try{_(a.throw(p))}catch(y){f(y)}}function _(p){p.done?l(p.value):s(p.value).then(m,b)}_((a=a.apply(u,t||[])).next())})};Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.getErrorResponseBody=i;const n=__(),o=VK();function i(u){return e(this,void 0,void 0,function*(){var t,r,a;let s=(t=u.headers.get("Content-Type"))===null||t===void 0?void 0:t.toLowerCase();if(s==null||s.length===0)return(0,o.getResponseBody)(u);switch(s.indexOf(";")!==-1&&(s=(a=(r=s.split(";")[0])===null||r===void 0?void 0:r.trim())!==null&&a!==void 0?a:""),s){case"application/hal+json":case"application/json":case"application/ld+json":case"application/problem+json":case"application/vnd.api+json":case"text/json":{const l=yield u.text();return l.length>0?(0,n.fromJson)(l):void 0}default:if(s.startsWith("application/vnd.")&&s.endsWith("+json")){const l=yield u.text();return l.length>0?(0,n.fromJson)(l):void 0}return yield u.text()}})}return Ah}var Dh={},u3;function lme(){if(u3)return Dh;u3=1;var e=Dh&&Dh.__awaiter||function(o,i,u,t){function r(a){return a instanceof u?a:new u(function(s){s(a)})}return new(u||(u=Promise))(function(a,s){function l(b){try{m(t.next(b))}catch(_){s(_)}}function f(b){try{m(t.throw(b))}catch(_){s(_)}}function m(b){b.done?a(b.value):r(b.value).then(l,f)}m((t=t.apply(o,i||[])).next())})};Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.getFetchFn=n;function n(){return e(this,void 0,void 0,function*(){return fetch})}return Dh}var Ih={},l3;function cme(){if(l3)return Ih;l3=1;var e=Ih&&Ih.__awaiter||function(u,t,r,a){function s(l){return l instanceof r?l:new r(function(f){f(l)})}return new(r||(r=Promise))(function(l,f){function m(p){try{_(a.next(p))}catch(y){f(y)}}function b(p){try{_(a.throw(p))}catch(y){f(y)}}function _(p){p.done?l(p.value):s(p.value).then(m,b)}_((a=a.apply(u,t||[])).next())})};Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.getRequestBody=i;const n=__(),o=Qb();function i(u){return e(this,arguments,void 0,function*({body:t,type:r}){return r==="form"?(0,o.toQueryString)(t,{arrayFormat:"repeat",encode:!0}):r.includes("json")?(0,n.toJson)(t):t})}return Ih}var Xd={},im={},c3;function dme(){if(c3)return im;c3=1,Object.defineProperty(im,"__esModule",{value:!0}),im.getTimeoutSignal=n,im.anySignal=o;const e="timeout";function n(i){const u=new AbortController,t=setTimeout(()=>u.abort(e),i);return{signal:u.signal,abortId:t}}function o(...i){const u=i.length===1&&Array.isArray(i[0])?i[0]:i,t=new AbortController;for(const r of u){if(r.aborted){t.abort(r?.reason);break}r.addEventListener("abort",()=>t.abort(r?.reason),{signal:t.signal})}return t.signal}return im}var d3;function fme(){if(d3)return Xd;d3=1;var e=Xd&&Xd.__awaiter||function(i,u,t,r){function a(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function f(_){try{b(r.next(_))}catch(p){l(p)}}function m(_){try{b(r.throw(_))}catch(p){l(p)}}function b(_){_.done?s(_.value):a(_.value).then(f,m)}b((r=r.apply(i,u||[])).next())})};Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.makeRequest=void 0;const n=dme(),o=(i,u,t,r,a,s,l,f,m)=>e(void 0,void 0,void 0,function*(){const b=[];let _;if(s!=null){const{signal:v,abortId:S}=(0,n.getTimeoutSignal)(s);_=S,b.push(v)}l!=null&&b.push(l);const p=(0,n.anySignal)(b),y=yield i(u,{method:t,headers:r,body:a,signal:p,credentials:f?"include":void 0,duplex:m});return _!=null&&clearTimeout(_),y});return Xd.makeRequest=o,Xd}var qc={},zh={},f3;function hme(){return f3||(f3=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.Headers=void 0,typeof globalThis.Headers<"u"?zh.Headers=globalThis.Headers:zh.Headers=class GK{constructor(n){if(this.headers=new Map,n)if(n instanceof GK)n.forEach((o,i)=>this.append(i,o));else if(Array.isArray(n))for(const[o,i]of n)if(typeof o=="string"&&typeof i=="string")this.append(o,i);else throw new TypeError("Each header entry must be a [string, string] tuple");else for(const[o,i]of Object.entries(n))if(typeof i=="string")this.append(o,i);else throw new TypeError("Header values must be strings")}append(n,o){const i=n.toLowerCase(),u=this.headers.get(i)||[];this.headers.set(i,[...u,o])}delete(n){const o=n.toLowerCase();this.headers.delete(o)}get(n){const o=n.toLowerCase(),i=this.headers.get(o);return i?i.join(", "):null}has(n){const o=n.toLowerCase();return this.headers.has(o)}set(n,o){const i=n.toLowerCase();this.headers.set(i,[o])}forEach(n,o){const i=o?n.bind(o):n;this.headers.forEach((u,t)=>i(u.join(", "),t,this))}getSetCookie(){return this.headers.get("set-cookie")||[]}*entries(){for(const[n,o]of this.headers.entries())yield[n,o.join(", ")]}*keys(){yield*this.headers.keys()}*values(){for(const n of this.headers.values())yield n.join(", ")}[Symbol.iterator](){return this.entries()}}),zh}var h3;function HK(){if(h3)return qc;h3=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.unknownRawResponse=qc.abortRawResponse=void 0,qc.toRawResponse=n;const e=hme();qc.abortRawResponse={headers:new e.Headers,redirected:!1,status:499,statusText:"Client Closed Request",type:"error",url:""},qc.unknownRawResponse={headers:new e.Headers,redirected:!1,status:0,statusText:"Unknown Error",type:"error",url:""};function n(o){return{headers:o.headers,redirected:o.redirected,status:o.status,statusText:o.statusText,type:o.type,url:o.url}}return qc}var qh={},p3;function pme(){if(p3)return qh;p3=1;var e=qh&&qh.__awaiter||function(l,f,m,b){function _(p){return p instanceof m?p:new m(function(y){y(p)})}return new(m||(m=Promise))(function(p,y){function v(j){try{R(b.next(j))}catch(P){y(P)}}function S(j){try{R(b.throw(j))}catch(P){y(P)}}function R(j){j.done?p(j.value):_(j.value).then(v,S)}R((b=b.apply(l,f||[])).next())})};Object.defineProperty(qh,"__esModule",{value:!0}),qh.requestWithRetries=s;const n=1e3,o=6e4,i=2,u=.2;function t(l){const f=1+Math.random()*u;return l*f}function r(l){const f=1+(Math.random()-.5)*u;return l*f}function a(l,f){const m=l.headers.get("Retry-After");if(m){const _=parseInt(m,10);if(!Number.isNaN(_)&&_>0)return Math.min(_*1e3,o);const p=new Date(m);if(!Number.isNaN(p.getTime())){const y=p.getTime()-Date.now();if(y>0)return Math.min(Math.max(y,0),o)}}const b=l.headers.get("X-RateLimit-Reset");if(b){const _=parseInt(b,10);if(!Number.isNaN(_)){const p=_*1e3-Date.now();if(p>0)return t(Math.min(p,o))}}return r(Math.min(n*Math.pow(2,f),o))}function s(l){return e(this,arguments,void 0,function*(f,m=i){let b=yield f();for(let _=0;_<m&&([408,429].includes(b.status)||b.status>=500);++_){const p=a(b,_);yield new Promise(y=>setTimeout(y,p)),b=yield f()}return b})}return qh}var g3;function gme(){if(g3)return zc;g3=1;var e=zc&&zc.__awaiter||function(j,P,T,C){function D(M){return M instanceof T?M:new T(function(L){L(M)})}return new(T||(T=Promise))(function(M,L){function q(V){try{w(C.next(V))}catch(k){L(k)}}function z(V){try{w(C.throw(V))}catch(k){L(k)}}function w(V){V.done?M(V.value):D(V.value).then(q,z)}w((C=C.apply(j,P||[])).next())})};Object.defineProperty(zc,"__esModule",{value:!0}),zc.fetcher=void 0,zc.fetcherImpl=R;const n=__(),o=FK(),i=ime(),u=$K(),t=ume(),r=lme(),a=cme(),s=VK(),l=fme(),f=HK(),m=pme(),b=new Set(["authorization","www-authenticate","x-api-key","api-key","apikey","x-api-token","x-auth-token","auth-token","cookie","set-cookie","proxy-authorization","proxy-authenticate","x-csrf-token","x-xsrf-token","x-session-token","x-access-token"]);function _(j){const P={};for(const[T,C]of Object.entries(j))b.has(T.toLowerCase())?P[T]="[REDACTED]":P[T]=C;return P}const p=new Set(["api_key","api-key","apikey","token","access_token","access-token","auth_token","auth-token","password","passwd","secret","api_secret","api-secret","apisecret","key","session","session_id","session-id"]);function y(j){if(j==null)return j;const P={};for(const[T,C]of Object.entries(j))p.has(T.toLowerCase())?P[T]="[REDACTED]":P[T]=C;return P}function v(j){const P=j.indexOf("://");if(P===-1)return j;const T=P+3,C=j.indexOf("/",T);let D=j.indexOf("?",T),M=j.indexOf("#",T);const L=Math.min(C===-1?j.length:C,D===-1?j.length:D,M===-1?j.length:M);let q=-1;for(let H=T;H<L;H++)j[H]==="@"&&(q=H);if(q!==-1&&(j=`${j.slice(0,T)}[REDACTED]@${j.slice(q+1)}`),D=j.indexOf("?"),D===-1)return j;M=j.indexOf("#",D);const z=M!==-1?M:j.length,w=j.slice(D+1,z);if(w.length===0)return j;const V=w.toLowerCase();if(!(V.includes("token")||V.includes("key")||V.includes("password")||V.includes("passwd")||V.includes("secret")||V.includes("session")||V.includes("auth")))return j;const Y=[],U=w.split("&");for(const H of U){const Z=H.indexOf("=");if(Z===-1){Y.push(H);continue}const ee=H.slice(0,Z);let N=p.has(ee.toLowerCase());if(!N&&ee.includes("%"))try{const G=decodeURIComponent(ee);N=p.has(G.toLowerCase())}catch{}Y.push(N?`${ee}=[REDACTED]`:H)}return j.slice(0,D+1)+Y.join("&")+j.slice(z)}function S(j){return e(this,void 0,void 0,function*(){var P;const T={};if(j.body!==void 0&&j.contentType!=null&&(T["Content-Type"]=j.contentType),j.headers==null)return T;for(const[C,D]of Object.entries(j.headers)){const M=yield u.EndpointSupplier.get(D,{endpointMetadata:(P=j.endpointMetadata)!==null&&P!==void 0?P:{}});if(typeof M=="string"){T[C]=M;continue}M!=null&&(T[C]=`${M}`)}return T})}function R(j){return e(this,void 0,void 0,function*(){var P,T,C;const D=(0,i.createRequestUrl)(j.url,j.queryParameters),M=yield(0,a.getRequestBody)({body:j.body,type:(P=j.requestType)!==null&&P!==void 0?P:"other"}),L=(T=j.fetchFn)!==null&&T!==void 0?T:yield(0,r.getFetchFn)(),q=yield S(j),z=(0,o.createLogger)(j.logging);if(z.isDebug()){const w={method:j.method,url:v(D),headers:_(q),queryParameters:y(j.queryParameters),hasBody:M!=null};z.debug("Making HTTP request",w)}try{const w=yield(0,m.requestWithRetries)(()=>e(this,void 0,void 0,function*(){return(0,l.makeRequest)(L,D,j.method,q,M,j.timeoutMs,j.abortSignal,j.withCredentials,j.duplex)}),j.maxRetries);if(w.status>=200&&w.status<400){if(z.isDebug()){const V={method:j.method,url:v(D),statusCode:w.status,responseHeaders:_(Object.fromEntries(w.headers.entries()))};z.debug("HTTP request succeeded",V)}return{ok:!0,body:yield(0,s.getResponseBody)(w,j.responseType),headers:w.headers,rawResponse:(0,f.toRawResponse)(w)}}else{if(z.isError()){const V={method:j.method,url:v(D),statusCode:w.status,responseHeaders:_(Object.fromEntries(w.headers.entries()))};z.error("HTTP request failed with error status",V)}return{ok:!1,error:{reason:"status-code",statusCode:w.status,body:yield(0,t.getErrorResponseBody)(w)},rawResponse:(0,f.toRawResponse)(w)}}}catch(w){if(!((C=j.abortSignal)===null||C===void 0)&&C.aborted){if(z.isError()){const V={method:j.method,url:v(D)};z.error("HTTP request was aborted",V)}return{ok:!1,error:{reason:"unknown",errorMessage:"The user aborted a request"},rawResponse:f.abortRawResponse}}else if(w instanceof Error&&w.name==="AbortError"){if(z.isError()){const V={method:j.method,url:v(D),timeoutMs:j.timeoutMs};z.error("HTTP request timed out",V)}return{ok:!1,error:{reason:"timeout"},rawResponse:f.abortRawResponse}}else if(w instanceof Error){if(z.isError()){const V={method:j.method,url:v(D),errorMessage:w.message};z.error("HTTP request failed with error",V)}return{ok:!1,error:{reason:"unknown",errorMessage:w.message},rawResponse:f.unknownRawResponse}}if(z.isError()){const V={method:j.method,url:v(D),error:(0,n.toJson)(w)};z.error("HTTP request failed with unknown error",V)}return{ok:!1,error:{reason:"unknown",errorMessage:(0,n.toJson)(w)},rawResponse:f.unknownRawResponse}}})}return zc.fetcher=R,zc}var pv={},m3;function mme(){if(m3)return pv;m3=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.getHeader=e;function e(n,o){for(const[i,u]of Object.entries(n))if(i.toLowerCase()===o.toLowerCase())return u}return pv}var ef={},_3;function _me(){if(_3)return ef;_3=1;var e=ef&&ef.__awaiter||function(o,i,u,t){function r(a){return a instanceof u?a:new u(function(s){s(a)})}return new(u||(u=Promise))(function(a,s){function l(b){try{m(t.next(b))}catch(_){s(_)}}function f(b){try{m(t.throw(b))}catch(_){s(_)}}function m(b){b.done?a(b.value):r(b.value).then(l,f)}m((t=t.apply(o,i||[])).next())})};Object.defineProperty(ef,"__esModule",{value:!0}),ef.HttpResponsePromise=void 0;let n=class Vh extends Promise{constructor(i){super(u=>{u(void 0)}),this.innerPromise=i}static fromFunction(i,...u){return new Vh(i(...u))}static interceptFunction(i){return(...u)=>Vh.fromPromise(i(...u))}static fromPromise(i){return new Vh(i)}static fromExecutor(i){const u=new Promise(i);return new Vh(u)}static fromResult(i){const u=Promise.resolve(i);return new Vh(u)}unwrap(){return this.unwrappedPromise||(this.unwrappedPromise=this.innerPromise.then(({data:i})=>i)),this.unwrappedPromise}then(i,u){return this.unwrap().then(i,u)}catch(i){return this.unwrap().catch(i)}finally(i){return this.unwrap().finally(i)}withRawResponse(){return e(this,void 0,void 0,function*(){return yield this.innerPromise})}};return ef.HttpResponsePromise=n,ef}var tf={},y3;function yme(){if(y3)return tf;y3=1;var e=tf&&tf.__awaiter||function(n,o,i,u){function t(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function s(m){try{f(u.next(m))}catch(b){a(b)}}function l(m){try{f(u.throw(m))}catch(b){a(b)}}function f(m){m.done?r(m.value):t(m.value).then(s,l)}f((u=u.apply(n,o||[])).next())})};return Object.defineProperty(tf,"__esModule",{value:!0}),tf.Supplier=void 0,tf.Supplier={get:n=>e(void 0,void 0,void 0,function*(){return typeof n=="function"?n():n})},tf}var v3;function vme(){return v3||(v3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Supplier=e.unknownRawResponse=e.toRawResponse=e.abortRawResponse=e.HttpResponsePromise=e.getHeader=e.fetcher=e.EndpointSupplier=void 0;var n=$K();Object.defineProperty(e,"EndpointSupplier",{enumerable:!0,get:function(){return n.EndpointSupplier}});var o=gme();Object.defineProperty(e,"fetcher",{enumerable:!0,get:function(){return o.fetcher}});var i=mme();Object.defineProperty(e,"getHeader",{enumerable:!0,get:function(){return i.getHeader}});var u=_me();Object.defineProperty(e,"HttpResponsePromise",{enumerable:!0,get:function(){return u.HttpResponsePromise}});var t=HK();Object.defineProperty(e,"abortRawResponse",{enumerable:!0,get:function(){return t.abortRawResponse}}),Object.defineProperty(e,"toRawResponse",{enumerable:!0,get:function(){return t.toRawResponse}}),Object.defineProperty(e,"unknownRawResponse",{enumerable:!0,get:function(){return t.unknownRawResponse}});var r=yme();Object.defineProperty(e,"Supplier",{enumerable:!0,get:function(){return r.Supplier}})})(i1)),i1}var rf={},an={};const b3=n_(wge);var w3;function bme(){if(w3)return an;w3=1;var e=an&&an.__createBinding||(Object.create?(function(D,M,L,q){q===void 0&&(q=L);var z=Object.getOwnPropertyDescriptor(M,L);(!z||("get"in z?!M.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return M[L]}}),Object.defineProperty(D,q,z)}):(function(D,M,L,q){q===void 0&&(q=L),D[q]=M[L]})),n=an&&an.__setModuleDefault||(Object.create?(function(D,M){Object.defineProperty(D,"default",{enumerable:!0,value:M})}):function(D,M){D.default=M}),o=an&&an.__importStar||(function(){var D=function(M){return D=Object.getOwnPropertyNames||function(L){var q=[];for(var z in L)Object.prototype.hasOwnProperty.call(L,z)&&(q[q.length]=z);return q},D(M)};return function(M){if(M&&M.__esModule)return M;var L={};if(M!=null)for(var q=D(M),z=0;z<q.length;z++)q[z]!=="default"&&e(L,M,q[z]);return n(L,M),L}})(),i=an&&an.__awaiter||function(D,M,L,q){function z(w){return w instanceof L?w:new L(function(V){V(w)})}return new(L||(L=Promise))(function(w,V){function k(H){try{U(q.next(H))}catch(Z){V(Z)}}function Y(H){try{U(q.throw(H))}catch(Z){V(Z)}}function U(H){H.done?w(H.value):z(H.value).then(k,Y)}U((q=q.apply(D,M||[])).next())})};Object.defineProperty(an,"__esModule",{value:!0}),an.toBinaryUploadRequest=u,an.toMultipartDataPart=t;function u(D){return i(this,void 0,void 0,function*(){const{data:M,filename:L,contentLength:q,contentType:z}=yield r(D),w={body:M,headers:{}};return L&&(w.headers["Content-Disposition"]=`attachment; filename="${L}"`),z&&(w.headers["Content-Type"]=z),q!=null&&(w.headers["Content-Length"]=q.toString()),w})}function t(D){return i(this,void 0,void 0,function*(){const{data:M,filename:L,contentType:q}=yield r(D,{noSniffFileSize:!0});return{data:M,filename:L,contentType:q}})}function r(D){return i(this,arguments,void 0,function*(M,{noSniffFileSize:L}={}){var q,z,w,V,k;if(a(M))return r({data:M},{noSniffFileSize:L});if("path"in M){const Y=yield Promise.resolve().then(()=>o(b3));if(!Y||!Y.createReadStream)throw new Error("File path uploads are not supported in this environment.");const U=Y.createReadStream(M.path),H=(q=M.contentLength)!==null&&q!==void 0?q:L===!0?void 0:yield s(M.path),Z=(z=M.filename)!==null&&z!==void 0?z:b(M.path);return{data:U,filename:Z,contentType:M.contentType,contentLength:H}}if("data"in M){const Y=M.data,U=(w=M.contentLength)!==null&&w!==void 0?w:yield f(Y,{noSniffFileSize:L}),H=(V=M.filename)!==null&&V!==void 0?V:l(Y);return{data:Y,filename:H,contentType:(k=M.contentType)!==null&&k!==void 0?k:m(Y),contentLength:U}}throw new Error(`Invalid FileUpload of type ${typeof M}: ${JSON.stringify(M)}`)})}function a(D){return S(D)||R(D)||j(D)||P(D)||T(D)||C(D)||y(D)||v(D)}function s(D){return i(this,void 0,void 0,function*(){try{const M=yield Promise.resolve().then(()=>o(b3));return!M||!M.promises||!M.promises.stat?void 0:(yield M.promises.stat(D)).size}catch{return}})}function l(D){if(_(D))return D.name;if(p(D))return b(D.path.toString())}function f(D){return i(this,arguments,void 0,function*(M,{noSniffFileSize:L}={}){if(S(M))return M.length;if(R(M)||j(M))return M.byteLength;if(T(M)||C(M))return M.size;if(L!==!0&&p(M))return yield s(M.path.toString())})}function m(D){if(T(D)||C(D))return D.type}function b(D){const M=D.lastIndexOf("/"),L=D.lastIndexOf("\\"),q=Math.max(M,L);return q>=0?D.substring(q+1):D}function _(D){return typeof D=="object"&&D!=null&&"name"in D}function p(D){return typeof D=="object"&&D!=null&&"path"in D}function y(D){return typeof D=="object"&&D!=null&&("read"in D||"pipe"in D)}function v(D){return typeof D=="object"&&D!=null&&"getReader"in D}function S(D){return typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(D)}function R(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(D)}function j(D){return typeof ArrayBuffer<"u"&&D instanceof ArrayBuffer}function P(D){return typeof Uint8Array<"u"&&D instanceof Uint8Array}function T(D){return typeof Blob<"u"&&D instanceof Blob}function C(D){return typeof File<"u"&&D instanceof File}return an}var s1={},O3;function wme(){return O3||(O3=1,Object.defineProperty(s1,"__esModule",{value:!0})),s1}var S3;function Ome(){return S3||(S3=1,(function(e){var n=rf&&rf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=rf&&rf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(bme(),e),o(wme(),e)})(rf)),rf}var nf={},gv={},E3;function Sme(){if(E3)return gv;E3=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.encodeAsFormParameter=n;const e=Qb();function n(o){const u=(0,e.toQueryString)(o,{encode:!1}).split("&").map(t=>{const[r,a]=t.split("=");return[r,a]});return Object.fromEntries(u)}return gv}var pr={},u1={},om={},R3;function Eme(){if(R3)return om;R3=1,Object.defineProperty(om,"__esModule",{value:!0}),om.RUNTIME=void 0,om.RUNTIME=e();function e(){var n,o,i,u,t;return typeof window<"u"&&typeof window.document<"u"?{type:"browser",version:window.navigator.userAgent}:typeof globalThis<"u"&&((n=globalThis?.navigator)===null||n===void 0?void 0:n.userAgent)==="Cloudflare-Workers"?{type:"workerd"}:typeof EdgeRuntime=="string"?{type:"edge-runtime"}:typeof self=="object"&&typeof self?.importScripts=="function"&&(((o=self.constructor)===null||o===void 0?void 0:o.name)==="DedicatedWorkerGlobalScope"||((i=self.constructor)===null||i===void 0?void 0:i.name)==="ServiceWorkerGlobalScope"||((u=self.constructor)===null||u===void 0?void 0:u.name)==="SharedWorkerGlobalScope")?{type:"web-worker"}:typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u"?{type:"deno",version:Deno.version.deno}:typeof Bun<"u"&&typeof Bun.version<"u"?{type:"bun",version:Bun.version}:typeof process<"u"&&"version"in process&&!!process.version&&"versions"in process&&!!(!((t=process.versions)===null||t===void 0)&&t.node)?{type:"node",version:process.versions.node,parsedVersion:Number(process.versions.node.split(".")[0])}:typeof navigator<"u"&&navigator?.product==="ReactNative"?{type:"react-native"}:{type:"unknown"}}return om}var j3;function VM(){return j3||(j3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RUNTIME=void 0;var n=Eme();Object.defineProperty(e,"RUNTIME",{enumerable:!0,get:function(){return n.RUNTIME}})})(u1)),u1}var l1,C3;function Rme(){if(C3)return l1;C3=1;var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,u=(b,_)=>{for(var p in _)e(b,p,{get:_[p],enumerable:!0})},t=(b,_,p,y)=>{if(_&&typeof _=="object"||typeof _=="function")for(let v of o(_))!i.call(b,v)&&v!==p&&e(b,v,{get:()=>_[v],enumerable:!(y=n(_,v))||y.enumerable});return b},r=b=>t(e({},"__esModule",{value:!0}),b),a={};u(a,{Blob:()=>f,File:()=>m,FormData:()=>l}),l1=r(a);var s=(function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:window})(),{FormData:l,Blob:f,File:m}=s;return l1}var c1,T3;function jme(){if(T3)return c1;T3=1;var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,u=ue=>{throw TypeError(ue)},t=(ue,ye)=>{for(var Re in ye)e(ue,Re,{get:ye[Re],enumerable:!0})},r=(ue,ye,Re,ae)=>{if(ye&&typeof ye=="object"||typeof ye=="function")for(let le of o(ye))!i.call(ue,le)&&le!==Re&&e(ue,le,{get:()=>ye[le],enumerable:!(ae=n(ye,le))||ae.enumerable});return ue},a=ue=>r(e({},"__esModule",{value:!0}),ue),s=(ue,ye,Re)=>ye.has(ue)||u("Cannot "+Re),l=(ue,ye,Re)=>(s(ue,ye,"read from private field"),Re?Re.call(ue):ye.get(ue)),f=(ue,ye,Re)=>ye.has(ue)?u("Cannot add the same private member more than once"):ye instanceof WeakSet?ye.add(ue):ye.set(ue,Re),m=(ue,ye,Re,ae)=>(s(ue,ye,"write to private field"),ye.set(ue,Re),Re),b=(ue,ye,Re)=>(s(ue,ye,"access private method"),Re),_={};t(_,{FormDataEncoder:()=>Q,isFile:()=>L,isFormData:()=>q}),c1=a(_);var p=65536;function*y(ue){if(ue.byteLength<=p){yield ue;return}let ye=0;for(;ye<ue.byteLength;){const Re=Math.min(ue.byteLength-ye,p),ae=ue.buffer.slice(ye,ye+Re);ye+=ae.byteLength,yield new Uint8Array(ae)}}var v="abcdefghijklmnopqrstuvwxyz0123456789";function S(){let ue=16,ye="";for(;ue--;)ye+=v[Math.random()*v.length<<0];return ye}var R=ue=>String(ue).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),j=ue=>typeof ue=="function",P=ue=>!!ue&&typeof ue=="object"&&!Array.isArray(ue)&&j(ue.getReader),T=ue=>j(ue[Symbol.asyncIterator]);async function*C(ue){const ye=ue.getReader();for(;;){const{done:Re,value:ae}=await ye.read();if(Re)break;yield ae}}async function*D(ue){for await(const ye of ue)yield*y(ye)}var M=ue=>{if(T(ue))return D(ue);if(P(ue))return D(C(ue));throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},L=ue=>!!(ue&&typeof ue=="object"&&j(ue.constructor)&&ue[Symbol.toStringTag]==="File"&&j(ue.stream)&&ue.name!=null),q=ue=>!!(ue&&j(ue.constructor)&&ue[Symbol.toStringTag]==="FormData"&&j(ue.append)&&j(ue.getAll)&&j(ue.entries)&&j(ue[Symbol.iterator])),z=ue=>Object.prototype.toString.call(ue).slice(8,-1).toLowerCase();function w(ue){if(z(ue)!=="object")return!1;const ye=Object.getPrototypeOf(ue);return ye==null?!0:ye.constructor?.toString?.()===Object.toString()}var V=ue=>String(ue).replace(/\r|\n/g,(ye,Re,ae)=>ye==="\r"&&ae[Re+1]!==`
`||ye===`
`&&ae[Re-1]!=="\r"?`\r
`:ye);function k(ue,ye){if(typeof ye=="string"){for(const[Re,ae]of Object.entries(ue))if(ye.toLowerCase()===Re.toLowerCase())return ae}}var Y=ue=>new Proxy(ue,{get:(ye,Re)=>k(ye,Re),has:(ye,Re)=>k(ye,Re)!==void 0}),U={enableAdditionalHeaders:!1},H={writable:!1,configurable:!1},Z,ee,N,G,J,oe,me,Ee,K,$,ne,Q=class{constructor(ue,ye,Re){if(f(this,K),f(this,Z,`\r
`),f(this,ee),f(this,N),f(this,G,"-".repeat(2)),f(this,J,new TextEncoder),f(this,oe),f(this,me),f(this,Ee),!q(ue))throw new TypeError("Expected first argument to be a FormData instance.");let ae;if(w(ye)?Re=ye:ae=ye,ae||(ae=`form-data-encoder-${S()}`),typeof ae!="string")throw new TypeError("Expected boundary argument to be a string.");if(Re&&!w(Re))throw new TypeError("Expected options argument to be an object.");m(this,me,Array.from(ue.entries())),m(this,Ee,{...U,...Re}),m(this,ee,l(this,J).encode(l(this,Z))),m(this,N,l(this,ee).byteLength),this.boundary=ae,this.contentType=`multipart/form-data; boundary=${this.boundary}`,m(this,oe,l(this,J).encode(`${l(this,G)}${this.boundary}${l(this,G)}${l(this,Z).repeat(2)}`));const le={"Content-Type":this.contentType},be=b(this,K,ne).call(this);be&&(this.contentLength=be,le["Content-Length"]=be),this.headers=Y(Object.freeze(le)),Object.defineProperties(this,{boundary:H,contentType:H,contentLength:H,headers:H})}*values(){for(const[ue,ye]of l(this,me)){const Re=L(ye)?ye:l(this,J).encode(V(ye));yield b(this,K,$).call(this,ue,Re),yield Re,yield l(this,ee)}yield l(this,oe)}async*encode(){for(const ue of this.values())L(ue)?yield*M(ue.stream()):yield*y(ue)}[Symbol.iterator](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};return Z=new WeakMap,ee=new WeakMap,N=new WeakMap,G=new WeakMap,J=new WeakMap,oe=new WeakMap,me=new WeakMap,Ee=new WeakMap,K=new WeakSet,$=function(ue,ye){let Re="";if(Re+=`${l(this,G)}${this.boundary}${l(this,Z)}`,Re+=`Content-Disposition: form-data; name="${R(ue)}"`,L(ye)&&(Re+=`; filename="${R(ye.name)}"${l(this,Z)}`,Re+=`Content-Type: ${ye.type||"application/octet-stream"}`),l(this,Ee).enableAdditionalHeaders===!0){const ae=L(ye)?ye.size:ye.byteLength;ae!=null&&!isNaN(ae)&&(Re+=`${l(this,Z)}Content-Length: ${ae}`)}return l(this,J).encode(`${Re}${l(this,Z).repeat(2)}`)},ne=function(){let ue=0;for(const[ye,Re]of l(this,me)){const ae=L(Re)?Re:l(this,J).encode(V(Re)),le=L(ae)?ae.size:ae.byteLength;if(le==null||isNaN(le))return;ue+=b(this,K,$).call(this,ye,ae).byteLength,ue+=le,ue+=l(this,N)}return String(ue+l(this,oe).byteLength)},c1}var d1,M3;function Cme(){return M3||(M3=1,d1=typeof self=="object"?self.FormData:window.FormData),d1}var x3;function Tme(){if(x3)return pr;x3=1;var e=pr&&pr.__createBinding||(Object.create?(function(f,m,b,_){_===void 0&&(_=b);var p=Object.getOwnPropertyDescriptor(m,b);(!p||("get"in p?!m.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(f,_,p)}):(function(f,m,b,_){_===void 0&&(_=b),f[_]=m[b]})),n=pr&&pr.__setModuleDefault||(Object.create?(function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}):function(f,m){f.default=m}),o=pr&&pr.__importStar||(function(){var f=function(m){return f=Object.getOwnPropertyNames||function(b){var _=[];for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(_[_.length]=p);return _},f(m)};return function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var _=f(m),p=0;p<_.length;p++)_[p]!=="default"&&e(b,m,_[p]);return n(b,m),b}})(),i=pr&&pr.__awaiter||function(f,m,b,_){function p(y){return y instanceof b?y:new b(function(v){v(y)})}return new(b||(b=Promise))(function(y,v){function S(P){try{j(_.next(P))}catch(T){v(T)}}function R(P){try{j(_.throw(P))}catch(T){v(T)}}function j(P){P.done?y(P.value):p(P.value).then(S,R)}j((_=_.apply(f,m||[])).next())})};Object.defineProperty(pr,"__esModule",{value:!0}),pr.WebFormData=pr.Node16FormData=pr.Node18FormData=void 0,pr.newFormData=r;const u=VM();function t(f){return typeof f=="object"&&f!=null&&"name"in f}function r(){return i(this,void 0,void 0,function*(){let f;return u.RUNTIME.type==="node"&&u.RUNTIME.parsedVersion!=null&&u.RUNTIME.parsedVersion>=18?f=new a:u.RUNTIME.type==="node"?f=new s:f=new l,yield f.setup(),f})}class a{setup(){return i(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>o(Rme()))).FormData})}append(m,b){var _;(_=this.fd)===null||_===void 0||_.append(m,b)}appendFile(m,b,_){return i(this,void 0,void 0,function*(){var p,y;_==null&&t(b)&&(_=b.name),b instanceof(yield Promise.resolve().then(()=>o(Qv()))).Readable?(p=this.fd)===null||p===void 0||p.append(m,{type:void 0,name:_,[Symbol.toStringTag]:"File",stream(){return b}}):(y=this.fd)===null||y===void 0||y.append(m,b,_)})}getRequest(){return i(this,void 0,void 0,function*(){const m=new(yield Promise.resolve().then(()=>o(jme()))).FormDataEncoder(this.fd);return{body:yield(yield Promise.resolve().then(()=>o(Qv()))).Readable.from(m),headers:m.headers,duplex:"half"}})}}pr.Node18FormData=a;class s{setup(){return i(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>o(Cme()))).default})}append(m,b){var _;(_=this.fd)===null||_===void 0||_.append(m,b)}appendFile(m,b,_){return i(this,void 0,void 0,function*(){var p,y;_==null&&t(b)&&(_=b.name);let v;b instanceof(yield Promise.resolve().then(()=>o(Qv()))).Readable?v=b:v=Buffer.from(yield b.arrayBuffer()),_==null?(p=this.fd)===null||p===void 0||p.append(m,v):(y=this.fd)===null||y===void 0||y.append(m,v,{filename:_})})}getRequest(){return{body:this.fd,headers:this.fd?this.fd.getHeaders():{}}}}pr.Node16FormData=s;class l{setup(){return i(this,void 0,void 0,function*(){this.fd=new FormData})}append(m,b){var _;(_=this.fd)===null||_===void 0||_.append(m,b)}appendFile(m,b,_){return i(this,void 0,void 0,function*(){var p;_==null&&t(b)&&(_=b.name),(p=this.fd)===null||p===void 0||p.append(m,new Blob([b]),_)})}getRequest(){return{body:this.fd,headers:{}}}}return pr.WebFormData=l,pr}var P3;function Mme(){return P3||(P3=1,(function(e){var n=nf&&nf.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),o=nf&&nf.__exportStar||function(u,t){for(var r in u)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&n(t,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.encodeAsFormParameter=void 0;var i=Sme();Object.defineProperty(e,"encodeAsFormParameter",{enumerable:!0,get:function(){return i.encodeAsFormParameter}}),o(Tme(),e)})(nf)),nf}var af={},A3;function xme(){return A3||(A3=1,(function(e){var n=af&&af.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=af&&af.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(FK(),e)})(af)),af}var of={},sf={},f1={},mv={},sm={},N3;function mr(){return N3||(N3=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.SchemaType=void 0,sm.SchemaType={BIGINT:"bigint",DATE:"date",ENUM:"enum",LIST:"list",STRING_LITERAL:"stringLiteral",BOOLEAN_LITERAL:"booleanLiteral",OBJECT:"object",ANY:"any",BOOLEAN:"boolean",NUMBER:"number",STRING:"string",UNKNOWN:"unknown",NEVER:"never",RECORD:"record",SET:"set",UNION:"union",UNDISCRIMINATED_UNION:"undiscriminatedUnion",NULLABLE:"nullable",OPTIONAL:"optional",OPTIONAL_NULLABLE:"optionalNullable"}),sm}var _v={},D3;function Wr(){if(D3)return _v;D3=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.getErrorMessageForIncorrectType=e;function e(o,i){return`Expected ${i}. Received ${n(o)}.`}function n(o){if(Array.isArray(o))return"list";if(o===null)return"null";if(o instanceof BigInt)return"BigInt";switch(typeof o){case"string":return`"${o}"`;case"bigint":case"number":case"boolean":case"undefined":return`${o}`}return typeof o}return _v}var yv={},I3;function oc(){if(I3)return yv;I3=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.maybeSkipValidation=e;function e(o){return Object.assign(Object.assign({},o),{json:n(o.json),parse:n(o.parse)})}function n(o){return(i,u)=>{const t=o(i,u),{skipValidation:r=!1}=u??{};return!t.ok&&r?(console.warn(["Failed to validate.",...t.errors.map(a=>"  - "+(a.path.length>0?`${a.path.join(".")}: ${a.message}`:a.message))].join(`
`)),{ok:!0,value:i}):t}}return yv}var h1={},Bc={},um={},vv={},z3;function KK(){if(z3)return vv;z3=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.stringifyValidationError=e;function e(n){return n.path.length===0?n.message:`${n.path.join(" -> ")}: ${n.message}`}return vv}var q3;function YK(){if(q3)return um;q3=1,Object.defineProperty(um,"__esModule",{value:!0}),um.JsonError=void 0;const e=KK();let n=class kK extends Error{constructor(i){super(i.map(e.stringifyValidationError).join("; ")),this.errors=i,Object.setPrototypeOf(this,kK.prototype)}};return um.JsonError=n,um}var lm={},B3;function JK(){if(B3)return lm;B3=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.ParseError=void 0;const e=KK();let n=class WK extends Error{constructor(i){super(i.map(e.stringifyValidationError).join("; ")),this.errors=i,Object.setPrototypeOf(this,WK.prototype)}};return lm.ParseError=n,lm}var U3;function Pme(){if(U3)return Bc;U3=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.getSchemaUtils=i,Bc.nullable=u,Bc.optional=t,Bc.optionalNullable=r,Bc.transform=a;const e=mr(),n=YK(),o=JK();function i(s){return{nullable:()=>u(s),optional:()=>t(s),optionalNullable:()=>r(s),transform:l=>a(s,l),parseOrThrow:(l,f)=>{const m=s.parse(l,f);if(m.ok)return m.value;throw new o.ParseError(m.errors)},jsonOrThrow:(l,f)=>{const m=s.json(l,f);if(m.ok)return m.value;throw new n.JsonError(m.errors)}}}function u(s){const l={parse:(f,m)=>f==null?{ok:!0,value:null}:s.parse(f,m),json:(f,m)=>f==null?{ok:!0,value:null}:s.json(f,m),getType:()=>e.SchemaType.NULLABLE};return Object.assign(Object.assign({},l),i(l))}function t(s){const l={parse:(f,m)=>f==null?{ok:!0,value:void 0}:s.parse(f,m),json:(f,m)=>m?.omitUndefined&&f===void 0?{ok:!0,value:void 0}:f==null?{ok:!0,value:null}:s.json(f,m),getType:()=>e.SchemaType.OPTIONAL};return Object.assign(Object.assign({},l),i(l))}function r(s){const l={parse:(f,m)=>f===void 0?{ok:!0,value:void 0}:f===null?{ok:!0,value:null}:s.parse(f,m),json:(f,m)=>f===void 0?{ok:!0,value:void 0}:f===null?{ok:!0,value:null}:s.json(f,m),getType:()=>e.SchemaType.OPTIONAL_NULLABLE};return Object.assign(Object.assign({},l),i(l))}function a(s,l){const f={parse:(m,b)=>{const _=s.parse(m,b);return _.ok?{ok:!0,value:l.transform(_.value)}:_},json:(m,b)=>{const _=l.untransform(m);return s.json(_,b)},getType:()=>s.getType()};return Object.assign(Object.assign({},f),i(f))}return Bc}var L3;function bn(){return L3||(L3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=e.JsonError=e.transform=e.optional=e.getSchemaUtils=void 0;var n=Pme();Object.defineProperty(e,"getSchemaUtils",{enumerable:!0,get:function(){return n.getSchemaUtils}}),Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return n.optional}}),Object.defineProperty(e,"transform",{enumerable:!0,get:function(){return n.transform}});var o=YK();Object.defineProperty(e,"JsonError",{enumerable:!0,get:function(){return o.JsonError}});var i=JK();Object.defineProperty(e,"ParseError",{enumerable:!0,get:function(){return i.ParseError}})})(h1)),h1}var $3;function Ame(){if($3)return mv;$3=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.bigint=u;const e=mr(),n=Wr(),o=oc(),i=bn();function u(){const t={parse:(r,{breadcrumbsPrefix:a=[]}={})=>typeof r=="bigint"?{ok:!0,value:r}:typeof r=="number"?{ok:!0,value:BigInt(r)}:{ok:!1,errors:[{path:a,message:(0,n.getErrorMessageForIncorrectType)(r,"bigint | number")}]},json:(r,{breadcrumbsPrefix:a=[]}={})=>typeof r!="bigint"?{ok:!1,errors:[{path:a,message:(0,n.getErrorMessageForIncorrectType)(r,"bigint")}]}:{ok:!0,value:r},getType:()=>e.SchemaType.BIGINT};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(t)),(0,i.getSchemaUtils)(t))}return mv}var F3;function Nme(){return F3||(F3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bigint=void 0;var n=Ame();Object.defineProperty(e,"bigint",{enumerable:!0,get:function(){return n.bigint}})})(f1)),f1}var p1={},bv={},V3;function Dme(){if(V3)return bv;V3=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.date=t;const e=mr(),n=Wr(),o=oc(),i=bn(),u=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function t(){const r={parse:(a,{breadcrumbsPrefix:s=[]}={})=>typeof a!="string"?{ok:!1,errors:[{path:s,message:(0,n.getErrorMessageForIncorrectType)(a,"string")}]}:u.test(a)?{ok:!0,value:new Date(a)}:{ok:!1,errors:[{path:s,message:(0,n.getErrorMessageForIncorrectType)(a,"ISO 8601 date string")}]},json:(a,{breadcrumbsPrefix:s=[]}={})=>a instanceof Date?{ok:!0,value:a.toISOString()}:{ok:!1,errors:[{path:s,message:(0,n.getErrorMessageForIncorrectType)(a,"Date object")}]},getType:()=>e.SchemaType.DATE};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(r)),(0,i.getSchemaUtils)(r))}return bv}var G3;function Ime(){return G3||(G3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.date=void 0;var n=Dme();Object.defineProperty(e,"date",{enumerable:!0,get:function(){return n.date}})})(p1)),p1}var g1={},wv={},Ov={},H3;function sc(){if(H3)return Ov;H3=1,Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.createIdentitySchemaCreator=o;const e=bn(),n=oc();function o(i,u){return()=>{const t={parse:u,json:u,getType:()=>i};return Object.assign(Object.assign({},(0,n.maybeSkipValidation)(t)),(0,e.getSchemaUtils)(t))}}return Ov}var K3;function zme(){if(K3)return wv;K3=1,Object.defineProperty(wv,"__esModule",{value:!0}),wv.enum_=i;const e=mr(),n=sc(),o=Wr();function i(u){const t=new Set(u);return(0,n.createIdentitySchemaCreator)(e.SchemaType.ENUM,(a,{allowUnrecognizedEnumValues:s,breadcrumbsPrefix:l=[]}={})=>typeof a!="string"?{ok:!1,errors:[{path:l,message:(0,o.getErrorMessageForIncorrectType)(a,"string")}]}:!t.has(a)&&!s?{ok:!1,errors:[{path:l,message:(0,o.getErrorMessageForIncorrectType)(a,"enum")}]}:{ok:!0,value:a})()}return wv}var k3;function ZK(){return k3||(k3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enum_=void 0;var n=zme();Object.defineProperty(e,"enum_",{enumerable:!0,get:function(){return n.enum_}})})(g1)),g1}var m1={},Bh={},Y3;function QK(){if(Y3)return Bh;Y3=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.lazy=n,Bh.constructLazyBaseSchema=o,Bh.getMemoizedSchema=i;const e=bn();function n(u){const t=o(u);return Object.assign(Object.assign({},t),(0,e.getSchemaUtils)(t))}function o(u){return{parse:(t,r)=>i(u).parse(t,r),json:(t,r)=>i(u).json(t,r),getType:()=>i(u).getType()}}function i(u){const t=u;return t.__zurg_memoized==null&&(t.__zurg_memoized=u()),t.__zurg_memoized}return Bh}var Sv={},_1={},cm={},Ev={},W3;function XK(){if(W3)return Ev;W3=1,Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.entries=e;function e(n){return Object.entries(n)}return Ev}var Rv={},J3;function ek(){if(J3)return Rv;J3=1,Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.filterObject=e;function e(n,o){const i=new Set(o);return Object.entries(n).reduce((u,[t,r])=>(i.has(t)&&(u[t]=r),u),{})}return Rv}var jv={},Z3;function Xb(){if(Z3)return jv;Z3=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.isPlainObject=e;function e(n){if(typeof n!="object"||n===null)return!1;if(Object.getPrototypeOf(n)===null)return!0;let o=n;for(;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(n)===o}return jv}var Cv={},Q3;function tk(){if(Q3)return Cv;Q3=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.keys=e;function e(n){return Object.keys(n)}return Cv}var Tv={},X3;function qme(){if(X3)return Tv;X3=1,Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.partition=e;function e(n,o){const i=[],u=[];for(const t of n)o(t)?i.push(t):u.push(t);return[i,u]}return Tv}var y1={},dm={},e$;function Bme(){if(e$)return dm;e$=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.getObjectLikeUtils=u,dm.withParsedProperties=t;const e=ek(),n=Wr(),o=Xb(),i=bn();function u(r){return{withParsedProperties:a=>t(r,a)}}function t(r,a){const s={parse:(l,f)=>{const m=r.parse(l,f);if(!m.ok)return m;const b=Object.entries(a).reduce((_,[p,y])=>Object.assign(Object.assign({},_),{[p]:typeof y=="function"?y(m.value):y}),{});return{ok:!0,value:Object.assign(Object.assign({},m.value),b)}},json:(l,f)=>{var m;if(!(0,o.isPlainObject)(l))return{ok:!1,errors:[{path:(m=f?.breadcrumbsPrefix)!==null&&m!==void 0?m:[],message:(0,n.getErrorMessageForIncorrectType)(l,"object")}]};const b=new Set(Object.keys(a)),_=(0,e.filterObject)(l,Object.keys(l).filter(p=>!b.has(p)));return r.json(_,f)},getType:()=>r.getType()};return Object.assign(Object.assign(Object.assign({},s),(0,i.getSchemaUtils)(s)),u(s))}return dm}var t$;function e0(){return t$||(t$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withParsedProperties=e.getObjectLikeUtils=void 0;var n=Bme();Object.defineProperty(e,"getObjectLikeUtils",{enumerable:!0,get:function(){return n.getObjectLikeUtils}}),Object.defineProperty(e,"withParsedProperties",{enumerable:!0,get:function(){return n.withParsedProperties}})})(y1)),y1}var fm={},r$;function rk(){if(r$)return fm;r$=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.property=e,fm.isProperty=n;function e(o,i){return{rawKey:o,valueSchema:i,isProperty:!0}}function n(o){return o.isProperty}return fm}var n$;function nk(){if(n$)return cm;n$=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.object=m,cm.getObjectUtils=_;const e=mr(),n=XK(),o=ek(),i=Wr(),u=Xb(),t=tk(),r=oc(),a=qme(),s=e0(),l=bn(),f=rk();function m(S){const R={_getRawProperties:()=>Object.entries(S).map(([j,P])=>(0,f.isProperty)(P)?P.rawKey:j),_getParsedProperties:()=>(0,t.keys)(S),parse:(j,P)=>{const T={},C=[];for(const[D,M]of(0,n.entries)(S)){const L=(0,f.isProperty)(M)?M.rawKey:D,q=(0,f.isProperty)(M)?M.valueSchema:M,z={rawKey:L,parsedKey:D,valueSchema:q};T[L]=z,y(q)&&C.push(L)}return b({value:j,requiredKeys:C,getProperty:D=>{const M=T[D];if(M!=null)return{transformedKey:M.parsedKey,transform:L=>{var q;return M.valueSchema.parse(L,Object.assign(Object.assign({},P),{breadcrumbsPrefix:[...(q=P?.breadcrumbsPrefix)!==null&&q!==void 0?q:[],D]}))}}},unrecognizedObjectKeys:P?.unrecognizedObjectKeys,skipValidation:P?.skipValidation,breadcrumbsPrefix:P?.breadcrumbsPrefix,omitUndefined:P?.omitUndefined})},json:(j,P)=>{const T=[];for(const[C,D]of(0,n.entries)(S)){const M=(0,f.isProperty)(D)?D.valueSchema:D;y(M)&&T.push(C)}return b({value:j,requiredKeys:T,getProperty:C=>{const D=S[C];if(D!=null)return(0,f.isProperty)(D)?{transformedKey:D.rawKey,transform:M=>{var L;return D.valueSchema.json(M,Object.assign(Object.assign({},P),{breadcrumbsPrefix:[...(L=P?.breadcrumbsPrefix)!==null&&L!==void 0?L:[],C]}))}}:{transformedKey:C,transform:M=>{var L;return D.json(M,Object.assign(Object.assign({},P),{breadcrumbsPrefix:[...(L=P?.breadcrumbsPrefix)!==null&&L!==void 0?L:[],C]}))}}},unrecognizedObjectKeys:P?.unrecognizedObjectKeys,skipValidation:P?.skipValidation,breadcrumbsPrefix:P?.breadcrumbsPrefix,omitUndefined:P?.omitUndefined})},getType:()=>e.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},(0,r.maybeSkipValidation)(R)),(0,l.getSchemaUtils)(R)),(0,s.getObjectLikeUtils)(R)),_(R))}function b({value:S,requiredKeys:R,getProperty:j,unrecognizedObjectKeys:P="fail",skipValidation:T=!1,breadcrumbsPrefix:C=[]}){if(!(0,u.isPlainObject)(S))return{ok:!1,errors:[{path:C,message:(0,i.getErrorMessageForIncorrectType)(S,"object")}]};const D=new Set(R),M=[],L={};for(const[q,z]of Object.entries(S)){const w=j(q);if(w!=null){D.delete(q);const V=w.transform(z);V.ok?L[w.transformedKey]=V.value:(L[q]=z,M.push(...V.errors))}else switch(P){case"fail":M.push({path:[...C,q],message:`Unexpected key "${q}"`});break;case"strip":break;case"passthrough":L[q]=z;break}}return M.push(...R.filter(q=>D.has(q)).map(q=>({path:C,message:`Missing required key "${q}"`}))),M.length===0||T?{ok:!0,value:L}:{ok:!1,errors:M}}function _(S){return{extend:R=>{const j={_getParsedProperties:()=>[...S._getParsedProperties(),...R._getParsedProperties()],_getRawProperties:()=>[...S._getRawProperties(),...R._getRawProperties()],parse:(P,T)=>p({extensionKeys:R._getRawProperties(),value:P,transformBase:C=>S.parse(C,T),transformExtension:C=>R.parse(C,T)}),json:(P,T)=>p({extensionKeys:R._getParsedProperties(),value:P,transformBase:C=>S.json(C,T),transformExtension:C=>R.json(C,T)}),getType:()=>e.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},j),(0,l.getSchemaUtils)(j)),(0,s.getObjectLikeUtils)(j)),_(j))},passthrough:()=>{const R={_getParsedProperties:()=>S._getParsedProperties(),_getRawProperties:()=>S._getRawProperties(),parse:(j,P)=>{const T=S.parse(j,Object.assign(Object.assign({},P),{unrecognizedObjectKeys:"passthrough"}));return T.ok?{ok:!0,value:Object.assign(Object.assign({},j),T.value)}:T},json:(j,P)=>{const T=S.json(j,Object.assign(Object.assign({},P),{unrecognizedObjectKeys:"passthrough"}));return T.ok?{ok:!0,value:Object.assign(Object.assign({},j),T.value)}:T},getType:()=>e.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},R),(0,l.getSchemaUtils)(R)),(0,s.getObjectLikeUtils)(R)),_(R))}}}function p({extensionKeys:S,value:R,transformBase:j,transformExtension:P}){const T=new Set(S),[C,D]=(0,a.partition)((0,t.keys)(R),q=>T.has(q)),M=j((0,o.filterObject)(R,D)),L=P((0,o.filterObject)(R,C));return M.ok&&L.ok?{ok:!0,value:Object.assign(Object.assign({},M.value),L.value)}:{ok:!1,errors:[...M.ok?[]:M.errors,...L.ok?[]:L.errors]}}function y(S){return!v(S)}function v(S){switch(S.getType()){case e.SchemaType.ANY:case e.SchemaType.UNKNOWN:case e.SchemaType.OPTIONAL:case e.SchemaType.OPTIONAL_NULLABLE:return!0;default:return!1}}return cm}var Mv={},a$;function Ume(){if(a$)return Mv;a$=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.objectWithoutOptionalProperties=n;const e=nk();function n(o){return(0,e.object)(o)}return Mv}var i$;function ak(){return i$||(i$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.property=e.isProperty=e.objectWithoutOptionalProperties=e.object=e.getObjectUtils=void 0;var n=nk();Object.defineProperty(e,"getObjectUtils",{enumerable:!0,get:function(){return n.getObjectUtils}}),Object.defineProperty(e,"object",{enumerable:!0,get:function(){return n.object}});var o=Ume();Object.defineProperty(e,"objectWithoutOptionalProperties",{enumerable:!0,get:function(){return o.objectWithoutOptionalProperties}});var i=rk();Object.defineProperty(e,"isProperty",{enumerable:!0,get:function(){return i.isProperty}}),Object.defineProperty(e,"property",{enumerable:!0,get:function(){return i.property}})})(_1)),_1}var o$;function Lme(){if(o$)return Sv;o$=1,Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.lazyObject=u;const e=ak(),n=e0(),o=bn(),i=QK();function u(t){const r=Object.assign(Object.assign({},(0,i.constructLazyBaseSchema)(t)),{_getRawProperties:()=>(0,i.getMemoizedSchema)(t)._getRawProperties(),_getParsedProperties:()=>(0,i.getMemoizedSchema)(t)._getParsedProperties()});return Object.assign(Object.assign(Object.assign(Object.assign({},r),(0,o.getSchemaUtils)(r)),(0,n.getObjectLikeUtils)(r)),(0,e.getObjectUtils)(r))}return Sv}var s$;function $me(){return s$||(s$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lazyObject=e.lazy=void 0;var n=QK();Object.defineProperty(e,"lazy",{enumerable:!0,get:function(){return n.lazy}});var o=Lme();Object.defineProperty(e,"lazyObject",{enumerable:!0,get:function(){return o.lazyObject}})})(m1)),m1}var v1={},xv={},u$;function Fme(){if(u$)return xv;u$=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.list=u;const e=mr(),n=Wr(),o=oc(),i=bn();function u(r){const a={parse:(s,l)=>t(s,(f,m)=>{var b;return r.parse(f,Object.assign(Object.assign({},l),{breadcrumbsPrefix:[...(b=l?.breadcrumbsPrefix)!==null&&b!==void 0?b:[],`[${m}]`]}))}),json:(s,l)=>t(s,(f,m)=>{var b;return r.json(f,Object.assign(Object.assign({},l),{breadcrumbsPrefix:[...(b=l?.breadcrumbsPrefix)!==null&&b!==void 0?b:[],`[${m}]`]}))}),getType:()=>e.SchemaType.LIST};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(a)),(0,i.getSchemaUtils)(a))}function t(r,a){return Array.isArray(r)?r.map((l,f)=>a(l,f)).reduce((l,f)=>{if(l.ok&&f.ok)return{ok:!0,value:[...l.value,f.value]};const m=[];return l.ok||m.push(...l.errors),f.ok||m.push(...f.errors),{ok:!1,errors:m}},{ok:!0,value:[]}):{ok:!1,errors:[{message:(0,n.getErrorMessageForIncorrectType)(r,"list"),path:[]}]}}return xv}var l$;function ik(){return l$||(l$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.list=void 0;var n=Fme();Object.defineProperty(e,"list",{enumerable:!0,get:function(){return n.list}})})(v1)),v1}var b1={},Pv={},c$;function Vme(){if(c$)return Pv;c$=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.booleanLiteral=i;const e=mr(),n=sc(),o=Wr();function i(u){return(0,n.createIdentitySchemaCreator)(e.SchemaType.BOOLEAN_LITERAL,(r,{breadcrumbsPrefix:a=[]}={})=>r===u?{ok:!0,value:u}:{ok:!1,errors:[{path:a,message:(0,o.getErrorMessageForIncorrectType)(r,`${u.toString()}`)}]})()}return Pv}var Av={},d$;function Gme(){if(d$)return Av;d$=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.stringLiteral=i;const e=mr(),n=sc(),o=Wr();function i(u){return(0,n.createIdentitySchemaCreator)(e.SchemaType.STRING_LITERAL,(r,{breadcrumbsPrefix:a=[]}={})=>r===u?{ok:!0,value:u}:{ok:!1,errors:[{path:a,message:(0,o.getErrorMessageForIncorrectType)(r,`"${u}"`)}]})()}return Av}var f$;function Hme(){return f$||(f$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringLiteral=e.booleanLiteral=void 0;var n=Vme();Object.defineProperty(e,"booleanLiteral",{enumerable:!0,get:function(){return n.booleanLiteral}});var o=Gme();Object.defineProperty(e,"stringLiteral",{enumerable:!0,get:function(){return o.stringLiteral}})})(b1)),b1}var w1={},hm={},h$;function Kme(){if(h$)return hm;h$=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.any=void 0;const e=mr(),n=sc();return hm.any=(0,n.createIdentitySchemaCreator)(e.SchemaType.ANY,o=>({ok:!0,value:o})),hm}var pm={},p$;function kme(){if(p$)return pm;p$=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.boolean=void 0;const e=mr(),n=sc(),o=Wr();return pm.boolean=(0,n.createIdentitySchemaCreator)(e.SchemaType.BOOLEAN,(i,{breadcrumbsPrefix:u=[]}={})=>typeof i=="boolean"?{ok:!0,value:i}:{ok:!1,errors:[{path:u,message:(0,o.getErrorMessageForIncorrectType)(i,"boolean")}]}),pm}var gm={},g$;function Yme(){if(g$)return gm;g$=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.never=void 0;const e=mr(),n=sc();return gm.never=(0,n.createIdentitySchemaCreator)(e.SchemaType.NEVER,(o,{breadcrumbsPrefix:i=[]}={})=>({ok:!1,errors:[{path:i,message:"Expected never"}]})),gm}var mm={},m$;function Wme(){if(m$)return mm;m$=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.number=void 0;const e=mr(),n=sc(),o=Wr();return mm.number=(0,n.createIdentitySchemaCreator)(e.SchemaType.NUMBER,(i,{breadcrumbsPrefix:u=[]}={})=>typeof i=="number"?{ok:!0,value:i}:{ok:!1,errors:[{path:u,message:(0,o.getErrorMessageForIncorrectType)(i,"number")}]}),mm}var _m={},_$;function Jme(){if(_$)return _m;_$=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.string=void 0;const e=mr(),n=sc(),o=Wr();return _m.string=(0,n.createIdentitySchemaCreator)(e.SchemaType.STRING,(i,{breadcrumbsPrefix:u=[]}={})=>typeof i=="string"?{ok:!0,value:i}:{ok:!1,errors:[{path:u,message:(0,o.getErrorMessageForIncorrectType)(i,"string")}]}),_m}var ym={},y$;function Zme(){if(y$)return ym;y$=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.unknown=void 0;const e=mr(),n=sc();return ym.unknown=(0,n.createIdentitySchemaCreator)(e.SchemaType.UNKNOWN,o=>({ok:!0,value:o})),ym}var v$;function Qme(){return v$||(v$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unknown=e.string=e.number=e.never=e.boolean=e.any=void 0;var n=Kme();Object.defineProperty(e,"any",{enumerable:!0,get:function(){return n.any}});var o=kme();Object.defineProperty(e,"boolean",{enumerable:!0,get:function(){return o.boolean}});var i=Yme();Object.defineProperty(e,"never",{enumerable:!0,get:function(){return i.never}});var u=Wme();Object.defineProperty(e,"number",{enumerable:!0,get:function(){return u.number}});var t=Jme();Object.defineProperty(e,"string",{enumerable:!0,get:function(){return t.string}});var r=Zme();Object.defineProperty(e,"unknown",{enumerable:!0,get:function(){return r.unknown}})})(w1)),w1}var O1={},Nv={},b$;function Xme(){if(b$)return Nv;b$=1,Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.record=r;const e=mr(),n=XK(),o=Wr(),i=Xb(),u=oc(),t=bn();function r(s,l){const f={parse:(m,b)=>a({value:m,isKeyNumeric:s.getType()===e.SchemaType.NUMBER,transformKey:_=>{var p;return s.parse(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(p=b?.breadcrumbsPrefix)!==null&&p!==void 0?p:[],`${_} (key)`]}))},transformValue:(_,p)=>{var y;return l.parse(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(y=b?.breadcrumbsPrefix)!==null&&y!==void 0?y:[],`${p}`]}))},breadcrumbsPrefix:b?.breadcrumbsPrefix}),json:(m,b)=>a({value:m,isKeyNumeric:s.getType()===e.SchemaType.NUMBER,transformKey:_=>{var p;return s.json(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(p=b?.breadcrumbsPrefix)!==null&&p!==void 0?p:[],`${_} (key)`]}))},transformValue:(_,p)=>{var y;return l.json(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(y=b?.breadcrumbsPrefix)!==null&&y!==void 0?y:[],`${p}`]}))},breadcrumbsPrefix:b?.breadcrumbsPrefix}),getType:()=>e.SchemaType.RECORD};return Object.assign(Object.assign({},(0,u.maybeSkipValidation)(f)),(0,t.getSchemaUtils)(f))}function a({value:s,isKeyNumeric:l,transformKey:f,transformValue:m,breadcrumbsPrefix:b=[]}){return(0,i.isPlainObject)(s)?(0,n.entries)(s).reduce((_,[p,y])=>{if(y===void 0)return _;const v=_;let S=p;if(l){const T=p.length>0?Number(p):NaN;Number.isNaN(T)||(S=T)}const R=f(S),j=m(y,S);if(v.ok&&R.ok&&j.ok)return{ok:!0,value:Object.assign(Object.assign({},v.value),{[R.value]:j.value})};const P=[];return v.ok||P.push(...v.errors),R.ok||P.push(...R.errors),j.ok||P.push(...j.errors),{ok:!1,errors:P}},{ok:!0,value:{}}):{ok:!1,errors:[{path:b,message:(0,o.getErrorMessageForIncorrectType)(s,"object")}]}}return Nv}var w$;function e_e(){return w$||(w$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.record=void 0;var n=Xme();Object.defineProperty(e,"record",{enumerable:!0,get:function(){return n.record}})})(O1)),O1}var S1={},Dv={},O$;function t_e(){if(O$)return Dv;O$=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.set=t;const e=mr(),n=Wr(),o=oc(),i=ik(),u=bn();function t(r){const a=(0,i.list)(r),s={parse:(l,f)=>{const m=a.parse(l,f);return m.ok?{ok:!0,value:new Set(m.value)}:m},json:(l,f)=>{var m;return l instanceof Set?a.json([...l],f):{ok:!1,errors:[{path:(m=f?.breadcrumbsPrefix)!==null&&m!==void 0?m:[],message:(0,n.getErrorMessageForIncorrectType)(l,"Set")}]}},getType:()=>e.SchemaType.SET};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(s)),(0,u.getSchemaUtils)(s))}return Dv}var S$;function r_e(){return S$||(S$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.set=void 0;var n=t_e();Object.defineProperty(e,"set",{enumerable:!0,get:function(){return n.set}})})(S1)),S1}var E1={},Iv={},E$;function n_e(){if(E$)return Iv;E$=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.undiscriminatedUnion=i;const e=mr(),n=oc(),o=bn();function i(t){const r={parse:(a,s)=>u((l,f)=>l.parse(a,f),t,s),json:(a,s)=>u((l,f)=>l.json(a,f),t,s),getType:()=>e.SchemaType.UNDISCRIMINATED_UNION};return Object.assign(Object.assign({},(0,n.maybeSkipValidation)(r)),(0,o.getSchemaUtils)(r))}function u(t,r,a){const s=[];for(const[l,f]of r.entries()){const m=t(f,Object.assign(Object.assign({},a),{skipValidation:!1}));if(m.ok)return m;for(const b of m.errors)s.push({path:b.path,message:`[Variant ${l}] ${b.message}`})}return{ok:!1,errors:s}}return Iv}var R$;function a_e(){return R$||(R$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.undiscriminatedUnion=void 0;var n=n_e();Object.defineProperty(e,"undiscriminatedUnion",{enumerable:!0,get:function(){return n.undiscriminatedUnion}})})(E1)),E1}var R1={},zv={},j$;function i_e(){if(j$)return zv;j$=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.discriminant=e;function e(n,o){return{parsedDiscriminant:n,rawDiscriminant:o}}return zv}var Uh={},C$;function o_e(){if(C$)return Uh;C$=1;var e=Uh&&Uh.__rest||function(m,b){var _={};for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&b.indexOf(p)<0&&(_[p]=m[p]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,p=Object.getOwnPropertySymbols(m);y<p.length;y++)b.indexOf(p[y])<0&&Object.prototype.propertyIsEnumerable.call(m,p[y])&&(_[p[y]]=m[p[y]]);return _};Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.union=l;const n=mr(),o=Wr(),i=Xb(),u=tk(),t=oc(),r=ZK(),a=e0(),s=bn();function l(m,b){const _=typeof m=="string"?m:m.rawDiscriminant,p=typeof m=="string"?m:m.parsedDiscriminant,y=(0,r.enum_)((0,u.keys)(b)),v={parse:(S,R)=>f({value:S,discriminant:_,transformedDiscriminant:p,transformDiscriminantValue:j=>{var P;return y.parse(j,{allowUnrecognizedEnumValues:R?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(P=R?.breadcrumbsPrefix)!==null&&P!==void 0?P:[],_]})},getAdditionalPropertiesSchema:j=>b[j],allowUnrecognizedUnionMembers:R?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(j,P)=>P.parse(j,R),breadcrumbsPrefix:R?.breadcrumbsPrefix}),json:(S,R)=>f({value:S,discriminant:p,transformedDiscriminant:_,transformDiscriminantValue:j=>{var P;return y.json(j,{allowUnrecognizedEnumValues:R?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(P=R?.breadcrumbsPrefix)!==null&&P!==void 0?P:[],p]})},getAdditionalPropertiesSchema:j=>b[j],allowUnrecognizedUnionMembers:R?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(j,P)=>P.json(j,R),breadcrumbsPrefix:R?.breadcrumbsPrefix}),getType:()=>n.SchemaType.UNION};return Object.assign(Object.assign(Object.assign({},(0,t.maybeSkipValidation)(v)),(0,s.getSchemaUtils)(v)),(0,a.getObjectLikeUtils)(v))}function f({value:m,discriminant:b,transformedDiscriminant:_,transformDiscriminantValue:p,getAdditionalPropertiesSchema:y,allowUnrecognizedUnionMembers:v=!1,transformAdditionalProperties:S,breadcrumbsPrefix:R=[]}){if(!(0,i.isPlainObject)(m))return{ok:!1,errors:[{path:R,message:(0,o.getErrorMessageForIncorrectType)(m,"object")}]};const j=m,P=b,T=j[P],C=e(j,[typeof P=="symbol"?P:P+""]);if(T==null)return{ok:!1,errors:[{path:R,message:`Missing discriminant ("${b}")`}]};const D=p(T);if(!D.ok)return{ok:!1,errors:D.errors};const M=y(D.value);if(M==null)return v?{ok:!0,value:Object.assign({[_]:D.value},C)}:{ok:!1,errors:[{path:[...R,b],message:"Unexpected discriminant value"}]};const L=S(C,M);return L.ok?{ok:!0,value:Object.assign({[_]:T},L.value)}:L}return Uh}var T$;function s_e(){return T$||(T$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.union=e.discriminant=void 0;var n=i_e();Object.defineProperty(e,"discriminant",{enumerable:!0,get:function(){return n.discriminant}});var o=o_e();Object.defineProperty(e,"union",{enumerable:!0,get:function(){return o.union}})})(R1)),R1}var M$;function u_e(){return M$||(M$=1,(function(e){var n=sf&&sf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=sf&&sf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Nme(),e),o(Ime(),e),o(ZK(),e),o($me(),e),o(ik(),e),o(Hme(),e),o(ak(),e),o(e0(),e),o(Qme(),e),o(e_e(),e),o(bn(),e),o(r_e(),e),o(a_e(),e),o(s_e(),e)})(sf)),sf}var x$;function l_e(){return x$||(x$=1,(function(e){var n=of&&of.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=of&&of.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(u_e(),e)})(of)),of}var j1={},Fr={},P$;function ok(){if(P$)return Fr;P$=1;var e=Fr&&Fr.__awaiter||function(s,l,f,m){function b(_){return _ instanceof f?_:new f(function(p){p(_)})}return new(f||(f=Promise))(function(_,p){function y(R){try{S(m.next(R))}catch(j){p(j)}}function v(R){try{S(m.throw(R))}catch(j){p(j)}}function S(R){R.done?_(R.value):b(R.value).then(y,v)}S((m=m.apply(s,l||[])).next())})},n=Fr&&Fr.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s[Symbol.asyncIterator],f;return l?l.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),f={},m("next"),m("throw"),m("return"),f[Symbol.asyncIterator]=function(){return this},f);function m(_){f[_]=s[_]&&function(p){return new Promise(function(y,v){p=s[_](p),b(y,v,p.done,p.value)})}}function b(_,p,y,v){Promise.resolve(v).then(function(S){_({value:S,done:y})},p)}},o=Fr&&Fr.__await||function(s){return this instanceof o?(this.v=s,this):new o(s)},i=Fr&&Fr.__asyncGenerator||function(s,l,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=f.apply(s,l||[]),b,_=[];return b=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",p),b[Symbol.asyncIterator]=function(){return this},b;function p(T){return function(C){return Promise.resolve(C).then(T,j)}}function y(T,C){m[T]&&(b[T]=function(D){return new Promise(function(M,L){_.push([T,D,M,L])>1||v(T,D)})},C&&(b[T]=C(b[T])))}function v(T,C){try{S(m[T](C))}catch(D){P(_[0][3],D)}}function S(T){T.value instanceof o?Promise.resolve(T.value.v).then(R,j):P(_[0][2],T)}function R(T){v("next",T)}function j(T){v("throw",T)}function P(T,C){T(C),_.shift(),_.length&&v(_[0][0],_[0][1])}};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Stream=void 0,Fr.readableStreamAsyncIterable=a;const u=VM(),t="data:";let r=class{constructor({stream:l,parse:f,eventShape:m,signal:b}){this.controller=new AbortController,this.stream=l,this.parse=f,m.type==="sse"?(this.prefix=t,this.messageTerminator=`
`,this.streamTerminator=m.streamTerminator):this.messageTerminator=m.messageTerminator,b?.addEventListener("abort",()=>this.controller.abort()),typeof TextDecoder<"u"&&(this.decoder=new TextDecoder("utf-8"))}iterMessages(){return i(this,arguments,function*(){var f,m,b,_;this.controller.signal;const p=a(this.stream);let y="",v=!1;try{for(var S=!0,R=n(p),j;j=yield o(R.next()),f=j.done,!f;S=!0){_=j.value,S=!1;const P=_;y+=this.decodeChunk(P);let T;for(;(T=y.indexOf(this.messageTerminator))>=0;){let C=y.slice(0,T);if(y=y.slice(T+this.messageTerminator.length),!C.trim())continue;if(!v&&this.prefix!=null){const M=C.indexOf(this.prefix);if(M===-1)continue;v=!0,C=C.slice(M+this.prefix.length)}if(this.streamTerminator!=null&&C.includes(this.streamTerminator))return yield o(void 0);const D=yield o(this.parse(JSON.parse(C)));yield yield o(D),v=!1}}}catch(P){m={error:P}}finally{try{!S&&!f&&(b=R.return)&&(yield o(b.call(R)))}finally{if(m)throw m.error}}})}[Symbol.asyncIterator](){return i(this,arguments,function*(){var f,m,b,_;try{for(var p=!0,y=n(this.iterMessages()),v;v=yield o(y.next()),f=v.done,!f;p=!0)_=v.value,p=!1,yield yield o(_)}catch(S){m={error:S}}finally{try{!p&&!f&&(b=y.return)&&(yield o(b.call(y)))}finally{if(m)throw m.error}}})}decodeChunk(l){let f="";return this.decoder!=null?f+=this.decoder.decode(l,{stream:!0}):u.RUNTIME.type==="node"&&typeof l<"u"&&(f+=Buffer.isBuffer(l)?l:Buffer.from(l)),f}};Fr.Stream=r;function a(s){if(s[Symbol.asyncIterator])return s;const l=s.getReader();return{next(){return e(this,void 0,void 0,function*(){try{const f=yield l.read();return f?.done&&l.releaseLock(),f}catch(f){throw l.releaseLock(),f}})},return(){return e(this,void 0,void 0,function*(){const f=l.cancel();return l.releaseLock(),yield f,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}return Fr}var A$;function c_e(){return A$||(A$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stream=void 0;var n=ok();Object.defineProperty(e,"Stream",{enumerable:!0,get:function(){return n.Stream}})})(j1)),j1}var C1={},qv={},N$;function d_e(){if(N$)return qv;N$=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.encodePathParam=e;function e(n){if(n===null)return"null";switch(typeof n){case"undefined":return"undefined";case"string":case"number":case"boolean":break;default:n=String(n);break}return encodeURIComponent(n)}return qv}var Bv={},D$;function f_e(){if(D$)return Bv;D$=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.join=e;function e(u,...t){if(!u)return"";if(t.length===0)return u;if(u.includes("://")){let r;try{r=new URL(u)}catch{return n(u,...t)}const a=t[t.length-1],s=a?.endsWith("/");for(const l of t){const f=i(l);f&&(r.pathname=o(r.pathname,f))}return s&&!r.pathname.endsWith("/")&&(r.pathname+="/"),r.toString()}return n(u,...t)}function n(u,...t){if(t.length===0)return u;let r=u;const a=t[t.length-1],s=a?.endsWith("/");for(const l of t){const f=i(l);f&&(r=o(r,f))}return s&&!r.endsWith("/")&&(r+="/"),r}function o(u,t){return u.endsWith("/")?u+t:`${u}/${t}`}function i(u){if(!u)return u;let t=0,r=u.length;return u.startsWith("/")&&(t=1),u.endsWith("/")&&(r=u.length-1),t===0&&r===u.length?u:u.slice(t,r)}return Bv}var I$;function h_e(){return I$||(I$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toQueryString=e.join=e.encodePathParam=void 0;var n=d_e();Object.defineProperty(e,"encodePathParam",{enumerable:!0,get:function(){return n.encodePathParam}});var o=f_e();Object.defineProperty(e,"join",{enumerable:!0,get:function(){return o.join}});var i=Qb();Object.defineProperty(e,"toQueryString",{enumerable:!0,get:function(){return i.toQueryString}})})(C1)),C1}var z$;function re(){return z$||(z$=1,(function(e){var n=la&&la.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=la&&la.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=la&&la.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)},u=la&&la.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})();Object.defineProperty(e,"__esModule",{value:!0}),e.url=e.serialization=e.logging=e.file=void 0,i(ame(),e),i(LK(),e),i(vme(),e),e.file=u(Ome()),i(Mme(),e),e.logging=u(xme()),i(VM(),e),e.serialization=u(l_e()),i(c_e(),e),e.url=u(h_e())})(la)),la}var gr={},q$;function p_e(){if(q$)return gr;q$=1;var e=gr&&gr.__awaiter||function(p,y,v,S){function R(j){return j instanceof v?j:new v(function(P){P(j)})}return new(v||(v=Promise))(function(j,P){function T(M){try{D(S.next(M))}catch(L){P(L)}}function C(M){try{D(S.throw(M))}catch(L){P(L)}}function D(M){M.done?j(M.value):R(M.value).then(T,C)}D((S=S.apply(p,y||[])).next())})},n=gr&&gr.__asyncValues||function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=p[Symbol.asyncIterator],v;return y?y.call(p):(p=typeof __values=="function"?__values(p):p[Symbol.iterator](),v={},S("next"),S("throw"),S("return"),v[Symbol.asyncIterator]=function(){return this},v);function S(j){v[j]=p[j]&&function(P){return new Promise(function(T,C){P=p[j](P),R(T,C,P.done,P.value)})}}function R(j,P,T,C){Promise.resolve(C).then(function(D){j({value:D,done:T})},P)}},o=gr&&gr.__await||function(p){return this instanceof o?(this.v=p,this):new o(p)},i=gr&&gr.__asyncGenerator||function(p,y,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S=v.apply(p,y||[]),R,j=[];return R=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),T("next"),T("throw"),T("return",P),R[Symbol.asyncIterator]=function(){return this},R;function P(z){return function(w){return Promise.resolve(w).then(z,L)}}function T(z,w){S[z]&&(R[z]=function(V){return new Promise(function(k,Y){j.push([z,V,k,Y])>1||C(z,V)})},w&&(R[z]=w(R[z])))}function C(z,w){try{D(S[z](w))}catch(V){q(j[0][3],V)}}function D(z){z.value instanceof o?Promise.resolve(z.value.v).then(M,L):q(j[0][2],z)}function M(z){C("next",z)}function L(z){C("throw",z)}function q(z,w){z(w),j.shift(),j.length&&C(j[0][0],j[0][1])}};Object.defineProperty(gr,"__esModule",{value:!0}),gr.LineDecoder=gr.StreamUtils=void 0,gr._iterSSEMessages=r,gr._decodeChunks=m,gr.readableStreamAsyncIterable=_;const u=Yt();class t{constructor(y,v){this.iterator=y,this.controller=v}static fromSSEResponse(y,v){let S=!1;function R(){return i(this,arguments,function*(){var P,T,C,D;if(S)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");S=!0;let M=!1;try{try{for(var L=!0,q=n(r(y,v)),z;z=yield o(q.next()),P=z.done,!P;L=!0){D=z.value,L=!1;const w=D;if(!M){if(w.data.startsWith("[DONE]")){M=!0;continue}if(w.event===null){let V;try{V=JSON.parse(w.data)}catch(k){throw console.error("Could not parse message into JSON:",w.data),console.error("From chunk:",w.raw),k}if(V&&V.error)throw new u.CohereError({message:`Error: ${V.error}`});yield yield o(V)}else{let V;try{V=JSON.parse(w.data)}catch(k){throw console.error("Could not parse message into JSON:",w.data),console.error("From chunk:",w.raw),k}if(w.event=="error")throw new u.CohereError({message:`Error: ${V.message}, ${V.error}`});yield yield o({event:w.event,data:V})}}}}catch(w){T={error:w}}finally{try{!L&&!P&&(C=q.return)&&(yield o(C.call(q)))}finally{if(T)throw T.error}}M=!0}catch(w){if(w instanceof Error&&w.name==="AbortError")return yield o(void 0);throw w}finally{M||v?.abort()}})}return new t(R,v)}static fromReadableStream(y,v){let S=!1;function R(){return i(this,arguments,function*(){var T,C,D,M;const L=new f,q=_(y);try{for(var z=!0,w=n(q),V;V=yield o(w.next()),T=V.done,!T;z=!0){M=V.value,z=!1;const k=M;for(const Y of L.decode(k))yield yield o(Y)}}catch(k){C={error:k}}finally{try{!z&&!T&&(D=w.return)&&(yield o(D.call(w)))}finally{if(C)throw C.error}}for(const k of L.flush())yield yield o(k)})}function j(){return i(this,arguments,function*(){var T,C,D,M;if(S)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");S=!0;let L=!1;try{try{for(var q=!0,z=n(R()),w;w=yield o(z.next()),T=w.done,!T;q=!0){M=w.value,q=!1;const V=M;L||V&&(yield yield o(JSON.parse(V)))}}catch(V){C={error:V}}finally{try{!q&&!T&&(D=z.return)&&(yield o(D.call(z)))}finally{if(C)throw C.error}}L=!0}catch(V){if(V instanceof Error&&V.name==="AbortError")return yield o(void 0);throw V}finally{L||v?.abort()}})}return new t(j,v)}[Symbol.asyncIterator](){return this.iterator()}tee(){const y=[],v=[],S=this.iterator(),R=j=>({next:()=>{if(j.length===0){const P=S.next();y.push(P),v.push(P)}return j.shift()}});return[new t(()=>R(y),this.controller),new t(()=>R(v),this.controller)]}toReadableStream(){const y=this;let v;const S=new TextEncoder;return new ReadableStream({start(){return e(this,void 0,void 0,function*(){v=y[Symbol.asyncIterator]()})},pull(R){return e(this,void 0,void 0,function*(){try{const{value:j,done:P}=yield v.next();if(P)return R.close();const T=S.encode(JSON.stringify(j)+`
`);R.enqueue(T)}catch(j){R.error(j)}})},cancel(){return e(this,void 0,void 0,function*(){var R;yield(R=v.return)===null||R===void 0?void 0:R.call(v)})}})}}gr.StreamUtils=t;function r(p,y){return i(this,arguments,function*(){var S,R,j,P;if(!p.body)throw y?.abort(),new u.CohereError({message:"Attempted to iterate over a response with no body"});const T=new l,C=new f,D=_(p.body);try{for(var M=!0,L=n(a(D)),q;q=yield o(L.next()),S=q.done,!S;M=!0){P=q.value,M=!1;const z=P;for(const w of C.decode(z)){const V=T.decode(w);V&&(yield yield o(V))}}}catch(z){R={error:z}}finally{try{!M&&!S&&(j=L.return)&&(yield o(j.call(L)))}finally{if(R)throw R.error}}for(const z of C.flush()){const w=T.decode(z);w&&(yield yield o(w))}})}function a(p){return i(this,arguments,function*(){var v,S,R,j;let P=new Uint8Array;try{for(var T=!0,C=n(p),D;D=yield o(C.next()),v=D.done,!v;T=!0){j=D.value,T=!1;const M=j;if(M==null)continue;const L=M instanceof ArrayBuffer?new Uint8Array(M):typeof M=="string"?new TextEncoder().encode(M):M;let q=new Uint8Array(P.length+L.length);q.set(P),q.set(L,P.length),P=q;let z;for(;(z=s(P))!==-1;)yield yield o(P.slice(0,z)),P=P.slice(z)}}catch(M){S={error:M}}finally{try{!T&&!v&&(R=C.return)&&(yield o(R.call(C)))}finally{if(S)throw S.error}}P.length>0&&(yield yield o(P))})}function s(p){for(let S=0;S<p.length-2;S++){if(p[S]===10&&p[S+1]===10||p[S]===13&&p[S+1]===13)return S+2;if(p[S]===13&&p[S+1]===10&&S+3<p.length&&p[S+2]===13&&p[S+3]===10)return S+4}return-1}class l{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(y){if(y.endsWith("\r")&&(y=y.substring(0,y.length-1)),!y){if(!this.event&&!this.data.length)return null;const j={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],j}if(this.chunks.push(y),y.startsWith(":"))return null;let[v,S,R]=b(y,":");return R.startsWith(" ")&&(R=R.substring(1)),v==="event"?this.event=R:v==="data"&&this.data.push(R),null}}class f{constructor(){this.buffer=[],this.trailingCR=!1}decode(y){let v=this.decodeText(y);if(this.trailingCR&&(v="\r"+v,this.trailingCR=!1),v.endsWith("\r")&&(this.trailingCR=!0,v=v.slice(0,-1)),!v)return[];const S=f.NEWLINE_CHARS.has(v[v.length-1]||"");let R=v.split(f.NEWLINE_REGEXP);return S&&R.pop(),R.length===1&&!S?(this.buffer.push(R[0]),[]):(this.buffer.length>0&&(R=[this.buffer.join("")+R[0],...R.slice(1)],this.buffer=[]),S||(this.buffer=[R.pop()||""]),R)}decodeText(y){var v;if(y==null)return"";if(typeof y=="string")return y;if(typeof Buffer<"u"){if(y instanceof Buffer)return y.toString();if(y instanceof Uint8Array)return Buffer.from(y).toString();throw new u.CohereError({message:`Unexpected: received non-Uint8Array (${y.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`})}if(typeof TextDecoder<"u"){if(y instanceof Uint8Array||y instanceof ArrayBuffer)return(v=this.textDecoder)!==null&&v!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(y);throw new u.CohereError({message:`Unexpected: received non-Uint8Array/ArrayBuffer (${y.constructor.name}) in a web platform. Please report this error.`})}throw new u.CohereError({message:"Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error."})}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const y=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,y}}gr.LineDecoder=f,f.NEWLINE_CHARS=new Set([`
`,"\r"]),f.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function m(p){const y=new f,v=[];for(const S of p)v.push(...y.decode(S));return v}function b(p,y){const v=p.indexOf(y);return v!==-1?[p.substring(0,v),y,p.substring(v+y.length)]:[p,"",""]}function _(p){if(p[Symbol.asyncIterator])return p;const y=p.getReader();return{next(){return e(this,void 0,void 0,function*(){try{const v=yield y.read();return v?.done&&y.releaseLock(),v}catch(v){throw y.releaseLock(),v}})},return(){return e(this,void 0,void 0,function*(){const v=y.cancel();return y.releaseLock(),yield v,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}return gr}var uf={},lf={},T1={},ca={},da={},B$;function GM(){if(B$)return da;B$=1;var e=da&&da.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=da&&da.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=da&&da.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(da,"__esModule",{value:!0}),da.ChatConnector=void 0;const i=o(re());return da.ChatConnector=i.serialization.object({id:i.serialization.string(),userAccessToken:i.serialization.property("user_access_token",i.serialization.string().optional()),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional()),options:i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional()}),da}var fa={},U$;function v_(){if(U$)return fa;U$=1;var e=fa&&fa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=fa&&fa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=fa&&fa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fa,"__esModule",{value:!0}),fa.ChatDocument=void 0;const i=o(re());return fa.ChatDocument=i.serialization.record(i.serialization.string(),i.serialization.string()),fa}var ha={},L$;function sk(){if(L$)return ha;L$=1;var e=ha&&ha.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ha&&ha.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ha&&ha.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ha,"__esModule",{value:!0}),ha.ChatRequestCitationQuality=void 0;const i=o(re());return ha.ChatRequestCitationQuality=i.serialization.enum_(["ENABLED","DISABLED","FAST","ACCURATE","OFF"]),ha}var pa={},$$;function uk(){if($$)return pa;$$=1;var e=pa&&pa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=pa&&pa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=pa&&pa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(pa,"__esModule",{value:!0}),pa.ChatRequestPromptTruncation=void 0;const i=o(re());return pa.ChatRequestPromptTruncation=i.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"]),pa}var ga={},F$;function lk(){if(F$)return ga;F$=1;var e=ga&&ga.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ga&&ga.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ga&&ga.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ga,"__esModule",{value:!0}),ga.ChatRequestSafetyMode=void 0;const i=o(re());return ga.ChatRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","NONE"]),ga}var ma={},_a={},ya={},V$;function b_(){if(V$)return ya;V$=1;var e=ya&&ya.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ya&&ya.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ya&&ya.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ya,"__esModule",{value:!0}),ya.ToolCall=void 0;const i=o(re());return ya.ToolCall=i.serialization.object({name:i.serialization.string(),parameters:i.serialization.record(i.serialization.string(),i.serialization.unknown())}),ya}var G$;function ck(){if(G$)return _a;G$=1;var e=_a&&_a.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=_a&&_a.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=_a&&_a.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(_a,"__esModule",{value:!0}),_a.ChatMessage=void 0;const i=o(re()),u=b_();return _a.ChatMessage=i.serialization.object({message:i.serialization.string(),toolCalls:i.serialization.property("tool_calls",i.serialization.list(u.ToolCall).optional())}),_a}var va={},ba={},H$;function t0(){if(H$)return ba;H$=1;var e=ba&&ba.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ba&&ba.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ba&&ba.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ba,"__esModule",{value:!0}),ba.ToolResult=void 0;const i=o(re()),u=b_();return ba.ToolResult=i.serialization.object({call:u.ToolCall,outputs:i.serialization.list(i.serialization.record(i.serialization.string(),i.serialization.unknown()))}),ba}var K$;function dk(){if(K$)return va;K$=1;var e=va&&va.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=va&&va.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=va&&va.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(va,"__esModule",{value:!0}),va.ChatToolMessage=void 0;const i=o(re()),u=t0();return va.ChatToolMessage=i.serialization.object({toolResults:i.serialization.property("tool_results",i.serialization.list(u.ToolResult).optional())}),va}var k$;function r0(){if(k$)return ma;k$=1;var e=ma&&ma.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ma&&ma.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ma&&ma.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ma,"__esModule",{value:!0}),ma.Message=void 0;const i=o(re()),u=ck(),t=dk();return ma.Message=i.serialization.union("role",{CHATBOT:u.ChatMessage,SYSTEM:u.ChatMessage,USER:u.ChatMessage,TOOL:t.ChatToolMessage}).transform({transform:r=>r,untransform:r=>r}),ma}var wa={},Oa={},Y$;function fk(){if(Y$)return Oa;Y$=1;var e=Oa&&Oa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Oa&&Oa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Oa&&Oa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.ChatTextResponseFormat=void 0;const i=o(re());return Oa.ChatTextResponseFormat=i.serialization.object({}),Oa}var Sa={},W$;function hk(){if(W$)return Sa;W$=1;var e=Sa&&Sa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Sa&&Sa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Sa&&Sa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.JsonResponseFormat=void 0;const i=o(re());return Sa.JsonResponseFormat=i.serialization.object({schema:i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional()}),Sa}var J$;function HM(){if(J$)return wa;J$=1;var e=wa&&wa.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=wa&&wa.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=wa&&wa.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(wa,"__esModule",{value:!0}),wa.ResponseFormat=void 0;const i=o(re()),u=fk(),t=hk();return wa.ResponseFormat=i.serialization.union("type",{text:u.ChatTextResponseFormat,json_object:t.JsonResponseFormat}).transform({transform:r=>r,untransform:r=>r}),wa}var Ea={},Ra={},Z$;function pk(){if(Z$)return Ra;Z$=1;var e=Ra&&Ra.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ra&&Ra.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ra&&Ra.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.ToolParameterDefinitionsValue=void 0;const i=o(re());return Ra.ToolParameterDefinitionsValue=i.serialization.object({description:i.serialization.string().optional(),type:i.serialization.string(),required:i.serialization.boolean().optional()}),Ra}var Q$;function KM(){if(Q$)return Ea;Q$=1;var e=Ea&&Ea.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ea&&Ea.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ea&&Ea.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.Tool=void 0;const i=o(re()),u=pk();return Ea.Tool=i.serialization.object({name:i.serialization.string(),description:i.serialization.string(),parameterDefinitions:i.serialization.property("parameter_definitions",i.serialization.record(i.serialization.string(),u.ToolParameterDefinitionsValue).optional())}),Ea}var X$;function g_e(){if(X$)return ca;X$=1;var e=ca&&ca.__createBinding||(Object.create?(function(_,p,y,v){v===void 0&&(v=y);var S=Object.getOwnPropertyDescriptor(p,y);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(_,v,S)}):(function(_,p,y,v){v===void 0&&(v=y),_[v]=p[y]})),n=ca&&ca.__setModuleDefault||(Object.create?(function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}):function(_,p){_.default=p}),o=ca&&ca.__importStar||(function(){var _=function(p){return _=Object.getOwnPropertyNames||function(y){var v=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[v.length]=S);return v},_(p)};return function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var v=_(p),S=0;S<v.length;S++)v[S]!=="default"&&e(y,p,v[S]);return n(y,p),y}})();Object.defineProperty(ca,"__esModule",{value:!0}),ca.ChatRequest=void 0;const i=o(re()),u=GM(),t=v_(),r=sk(),a=uk(),s=lk(),l=r0(),f=HM(),m=KM(),b=t0();return ca.ChatRequest=i.serialization.object({message:i.serialization.string(),model:i.serialization.string().optional(),preamble:i.serialization.string().optional(),chatHistory:i.serialization.property("chat_history",i.serialization.list(l.Message).optional()),conversationId:i.serialization.property("conversation_id",i.serialization.string().optional()),promptTruncation:i.serialization.property("prompt_truncation",a.ChatRequestPromptTruncation.optional()),connectors:i.serialization.list(u.ChatConnector).optional(),searchQueriesOnly:i.serialization.property("search_queries_only",i.serialization.boolean().optional()),documents:i.serialization.list(t.ChatDocument).optional(),citationQuality:i.serialization.property("citation_quality",r.ChatRequestCitationQuality.optional()),temperature:i.serialization.number().optional(),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),maxInputTokens:i.serialization.property("max_input_tokens",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),seed:i.serialization.number().optional(),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional()),tools:i.serialization.list(m.Tool).optional(),toolResults:i.serialization.property("tool_results",i.serialization.list(b.ToolResult).optional()),forceSingleStep:i.serialization.property("force_single_step",i.serialization.boolean().optional()),responseFormat:i.serialization.property("response_format",f.ResponseFormat.optional()),safetyMode:i.serialization.property("safety_mode",s.ChatRequestSafetyMode.optional())}),ca}var ja={},Ca={},e5;function gk(){if(e5)return Ca;e5=1;var e=Ca&&Ca.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ca&&Ca.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ca&&Ca.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.ChatStreamRequestCitationQuality=void 0;const i=o(re());return Ca.ChatStreamRequestCitationQuality=i.serialization.enum_(["ENABLED","DISABLED","FAST","ACCURATE","OFF"]),Ca}var Ta={},t5;function mk(){if(t5)return Ta;t5=1;var e=Ta&&Ta.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ta&&Ta.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ta&&Ta.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.ChatStreamRequestPromptTruncation=void 0;const i=o(re());return Ta.ChatStreamRequestPromptTruncation=i.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"]),Ta}var Ma={},r5;function _k(){if(r5)return Ma;r5=1;var e=Ma&&Ma.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ma&&Ma.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ma&&Ma.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.ChatStreamRequestSafetyMode=void 0;const i=o(re());return Ma.ChatStreamRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","NONE"]),Ma}var n5;function m_e(){if(n5)return ja;n5=1;var e=ja&&ja.__createBinding||(Object.create?(function(_,p,y,v){v===void 0&&(v=y);var S=Object.getOwnPropertyDescriptor(p,y);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(_,v,S)}):(function(_,p,y,v){v===void 0&&(v=y),_[v]=p[y]})),n=ja&&ja.__setModuleDefault||(Object.create?(function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}):function(_,p){_.default=p}),o=ja&&ja.__importStar||(function(){var _=function(p){return _=Object.getOwnPropertyNames||function(y){var v=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[v.length]=S);return v},_(p)};return function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var v=_(p),S=0;S<v.length;S++)v[S]!=="default"&&e(y,p,v[S]);return n(y,p),y}})();Object.defineProperty(ja,"__esModule",{value:!0}),ja.ChatStreamRequest=void 0;const i=o(re()),u=GM(),t=v_(),r=gk(),a=mk(),s=_k(),l=r0(),f=HM(),m=KM(),b=t0();return ja.ChatStreamRequest=i.serialization.object({message:i.serialization.string(),model:i.serialization.string().optional(),preamble:i.serialization.string().optional(),chatHistory:i.serialization.property("chat_history",i.serialization.list(l.Message).optional()),conversationId:i.serialization.property("conversation_id",i.serialization.string().optional()),promptTruncation:i.serialization.property("prompt_truncation",a.ChatStreamRequestPromptTruncation.optional()),connectors:i.serialization.list(u.ChatConnector).optional(),searchQueriesOnly:i.serialization.property("search_queries_only",i.serialization.boolean().optional()),documents:i.serialization.list(t.ChatDocument).optional(),citationQuality:i.serialization.property("citation_quality",r.ChatStreamRequestCitationQuality.optional()),temperature:i.serialization.number().optional(),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),maxInputTokens:i.serialization.property("max_input_tokens",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),seed:i.serialization.number().optional(),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional()),tools:i.serialization.list(m.Tool).optional(),toolResults:i.serialization.property("tool_results",i.serialization.list(b.ToolResult).optional()),forceSingleStep:i.serialization.property("force_single_step",i.serialization.boolean().optional()),responseFormat:i.serialization.property("response_format",f.ResponseFormat.optional()),safetyMode:i.serialization.property("safety_mode",s.ChatStreamRequestSafetyMode.optional())}),ja}var xa={},Pa={},a5;function yk(){if(a5)return Pa;a5=1;var e=Pa&&Pa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Pa&&Pa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Pa&&Pa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.ClassifyExample=void 0;const i=o(re());return Pa.ClassifyExample=i.serialization.object({text:i.serialization.string().optional(),label:i.serialization.string().optional()}),Pa}var Aa={},i5;function vk(){if(i5)return Aa;i5=1;var e=Aa&&Aa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Aa&&Aa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Aa&&Aa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.ClassifyRequestTruncate=void 0;const i=o(re());return Aa.ClassifyRequestTruncate=i.serialization.enum_(["NONE","START","END"]),Aa}var o5;function __e(){if(o5)return xa;o5=1;var e=xa&&xa.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=xa&&xa.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=xa&&xa.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(xa,"__esModule",{value:!0}),xa.ClassifyRequest=void 0;const i=o(re()),u=yk(),t=vk();return xa.ClassifyRequest=i.serialization.object({inputs:i.serialization.list(i.serialization.string()),examples:i.serialization.list(u.ClassifyExample).optional(),model:i.serialization.string().optional(),preset:i.serialization.string().optional(),truncate:t.ClassifyRequestTruncate.optional()}),xa}var Na={},s5;function y_e(){if(s5)return Na;s5=1;var e=Na&&Na.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Na&&Na.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Na&&Na.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Na,"__esModule",{value:!0}),Na.DetokenizeRequest=void 0;const i=o(re());return Na.DetokenizeRequest=i.serialization.object({tokens:i.serialization.list(i.serialization.number()),model:i.serialization.string()}),Na}var Da={},Ia={},u5;function n0(){if(u5)return Ia;u5=1;var e=Ia&&Ia.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ia&&Ia.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ia&&Ia.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.EmbeddingType=void 0;const i=o(re());return Ia.EmbeddingType=i.serialization.enum_(["float","int8","uint8","binary","ubinary","base64"]),Ia}var za={},l5;function a0(){if(l5)return za;l5=1;var e=za&&za.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=za&&za.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=za&&za.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(za,"__esModule",{value:!0}),za.EmbedInputType=void 0;const i=o(re());return za.EmbedInputType=i.serialization.enum_(["search_document","search_query","classification","clustering","image"]),za}var qa={},c5;function bk(){if(c5)return qa;c5=1;var e=qa&&qa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=qa&&qa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=qa&&qa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(qa,"__esModule",{value:!0}),qa.EmbedRequestTruncate=void 0;const i=o(re());return qa.EmbedRequestTruncate=i.serialization.enum_(["NONE","START","END"]),qa}var d5;function v_e(){if(d5)return Da;d5=1;var e=Da&&Da.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Da&&Da.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Da&&Da.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Da,"__esModule",{value:!0}),Da.EmbedRequest=void 0;const i=o(re()),u=n0(),t=a0(),r=bk();return Da.EmbedRequest=i.serialization.object({texts:i.serialization.list(i.serialization.string()).optional(),images:i.serialization.list(i.serialization.string()).optional(),model:i.serialization.string().optional(),inputType:i.serialization.property("input_type",t.EmbedInputType.optional()),embeddingTypes:i.serialization.property("embedding_types",i.serialization.list(u.EmbeddingType).optional()),truncate:r.EmbedRequestTruncate.optional()}),Da}var Ba={},Ua={},f5;function wk(){if(f5)return Ua;f5=1;var e=Ua&&Ua.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ua&&Ua.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ua&&Ua.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.GenerateRequestReturnLikelihoods=void 0;const i=o(re());return Ua.GenerateRequestReturnLikelihoods=i.serialization.enum_(["GENERATION","ALL","NONE"]),Ua}var La={},h5;function Ok(){if(h5)return La;h5=1;var e=La&&La.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=La&&La.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=La&&La.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(La,"__esModule",{value:!0}),La.GenerateRequestTruncate=void 0;const i=o(re());return La.GenerateRequestTruncate=i.serialization.enum_(["NONE","START","END"]),La}var p5;function b_e(){if(p5)return Ba;p5=1;var e=Ba&&Ba.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Ba&&Ba.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ba&&Ba.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.GenerateRequest=void 0;const i=o(re()),u=wk(),t=Ok();return Ba.GenerateRequest=i.serialization.object({prompt:i.serialization.string(),model:i.serialization.string().optional(),numGenerations:i.serialization.property("num_generations",i.serialization.number().optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),truncate:t.GenerateRequestTruncate.optional(),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),preset:i.serialization.string().optional(),endSequences:i.serialization.property("end_sequences",i.serialization.list(i.serialization.string()).optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),returnLikelihoods:i.serialization.property("return_likelihoods",u.GenerateRequestReturnLikelihoods.optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional())}),Ba}var $a={},Fa={},g5;function Sk(){if(g5)return Fa;g5=1;var e=Fa&&Fa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Fa&&Fa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Fa&&Fa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.GenerateStreamRequestReturnLikelihoods=void 0;const i=o(re());return Fa.GenerateStreamRequestReturnLikelihoods=i.serialization.enum_(["GENERATION","ALL","NONE"]),Fa}var Va={},m5;function Ek(){if(m5)return Va;m5=1;var e=Va&&Va.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Va&&Va.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Va&&Va.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Va,"__esModule",{value:!0}),Va.GenerateStreamRequestTruncate=void 0;const i=o(re());return Va.GenerateStreamRequestTruncate=i.serialization.enum_(["NONE","START","END"]),Va}var _5;function w_e(){if(_5)return $a;_5=1;var e=$a&&$a.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=$a&&$a.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=$a&&$a.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty($a,"__esModule",{value:!0}),$a.GenerateStreamRequest=void 0;const i=o(re()),u=Sk(),t=Ek();return $a.GenerateStreamRequest=i.serialization.object({prompt:i.serialization.string(),model:i.serialization.string().optional(),numGenerations:i.serialization.property("num_generations",i.serialization.number().optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),truncate:t.GenerateStreamRequestTruncate.optional(),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),preset:i.serialization.string().optional(),endSequences:i.serialization.property("end_sequences",i.serialization.list(i.serialization.string()).optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),returnLikelihoods:i.serialization.property("return_likelihoods",u.GenerateStreamRequestReturnLikelihoods.optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional())}),$a}var Ga={},Ha={},Ka={},y5;function Rk(){if(y5)return Ka;y5=1;var e=Ka&&Ka.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ka&&Ka.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ka&&Ka.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.RerankDocument=void 0;const i=o(re());return Ka.RerankDocument=i.serialization.record(i.serialization.string(),i.serialization.string()),Ka}var v5;function jk(){if(v5)return Ha;v5=1;var e=Ha&&Ha.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ha&&Ha.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ha&&Ha.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.RerankRequestDocumentsItem=void 0;const i=o(re()),u=Rk();return Ha.RerankRequestDocumentsItem=i.serialization.undiscriminatedUnion([i.serialization.string(),u.RerankDocument]),Ha}var b5;function O_e(){if(b5)return Ga;b5=1;var e=Ga&&Ga.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ga&&Ga.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ga&&Ga.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.RerankRequest=void 0;const i=o(re()),u=jk();return Ga.RerankRequest=i.serialization.object({model:i.serialization.string().optional(),query:i.serialization.string(),documents:i.serialization.list(u.RerankRequestDocumentsItem),topN:i.serialization.property("top_n",i.serialization.number().optional()),rankFields:i.serialization.property("rank_fields",i.serialization.list(i.serialization.string()).optional()),returnDocuments:i.serialization.property("return_documents",i.serialization.boolean().optional()),maxChunksPerDoc:i.serialization.property("max_chunks_per_doc",i.serialization.number().optional())}),Ga}var ka={},Ya={},w5;function Ck(){if(w5)return Ya;w5=1;var e=Ya&&Ya.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ya&&Ya.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ya&&Ya.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.SummarizeRequestExtractiveness=void 0;const i=o(re());return Ya.SummarizeRequestExtractiveness=i.serialization.enum_(["low","medium","high"]),Ya}var Wa={},O5;function Tk(){if(O5)return Wa;O5=1;var e=Wa&&Wa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Wa&&Wa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Wa&&Wa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.SummarizeRequestFormat=void 0;const i=o(re());return Wa.SummarizeRequestFormat=i.serialization.enum_(["paragraph","bullets"]),Wa}var Ja={},S5;function Mk(){if(S5)return Ja;S5=1;var e=Ja&&Ja.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ja&&Ja.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ja&&Ja.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.SummarizeRequestLength=void 0;const i=o(re());return Ja.SummarizeRequestLength=i.serialization.enum_(["short","medium","long"]),Ja}var E5;function S_e(){if(E5)return ka;E5=1;var e=ka&&ka.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=ka&&ka.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=ka&&ka.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(ka,"__esModule",{value:!0}),ka.SummarizeRequest=void 0;const i=o(re()),u=Ck(),t=Tk(),r=Mk();return ka.SummarizeRequest=i.serialization.object({text:i.serialization.string(),length:r.SummarizeRequestLength.optional(),format:t.SummarizeRequestFormat.optional(),model:i.serialization.string().optional(),extractiveness:u.SummarizeRequestExtractiveness.optional(),temperature:i.serialization.number().optional(),additionalCommand:i.serialization.property("additional_command",i.serialization.string().optional())}),ka}var Za={},R5;function E_e(){if(R5)return Za;R5=1;var e=Za&&Za.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Za&&Za.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Za&&Za.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Za,"__esModule",{value:!0}),Za.TokenizeRequest=void 0;const i=o(re());return Za.TokenizeRequest=i.serialization.object({text:i.serialization.string(),model:i.serialization.string()}),Za}var j5;function R_e(){return j5||(j5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizeRequest=e.SummarizeRequest=e.RerankRequest=e.GenerateStreamRequest=e.GenerateRequest=e.EmbedRequest=e.DetokenizeRequest=e.ClassifyRequest=e.ChatStreamRequest=e.ChatRequest=void 0;var n=g_e();Object.defineProperty(e,"ChatRequest",{enumerable:!0,get:function(){return n.ChatRequest}});var o=m_e();Object.defineProperty(e,"ChatStreamRequest",{enumerable:!0,get:function(){return o.ChatStreamRequest}});var i=__e();Object.defineProperty(e,"ClassifyRequest",{enumerable:!0,get:function(){return i.ClassifyRequest}});var u=y_e();Object.defineProperty(e,"DetokenizeRequest",{enumerable:!0,get:function(){return u.DetokenizeRequest}});var t=v_e();Object.defineProperty(e,"EmbedRequest",{enumerable:!0,get:function(){return t.EmbedRequest}});var r=b_e();Object.defineProperty(e,"GenerateRequest",{enumerable:!0,get:function(){return r.GenerateRequest}});var a=w_e();Object.defineProperty(e,"GenerateStreamRequest",{enumerable:!0,get:function(){return a.GenerateStreamRequest}});var s=O_e();Object.defineProperty(e,"RerankRequest",{enumerable:!0,get:function(){return s.RerankRequest}});var l=S_e();Object.defineProperty(e,"SummarizeRequest",{enumerable:!0,get:function(){return l.SummarizeRequest}});var f=E_e();Object.defineProperty(e,"TokenizeRequest",{enumerable:!0,get:function(){return f.TokenizeRequest}})})(T1)),T1}var C5;function j_e(){return C5||(C5=1,(function(e){var n=lf&&lf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=lf&&lf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(R_e(),e)})(lf)),lf}var Qa={},cf={},df={},Xa={},ei={},T5;function xk(){if(T5)return ei;T5=1;var e=ei&&ei.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ei&&ei.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ei&&ei.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ei,"__esModule",{value:!0}),ei.BatchStatus=void 0;const i=o(re());return ei.BatchStatus=i.serialization.enum_(["BATCH_STATUS_UNSPECIFIED","BATCH_STATUS_QUEUED","BATCH_STATUS_IN_PROGRESS","BATCH_STATUS_CANCELING","BATCH_STATUS_COMPLETED","BATCH_STATUS_FAILED","BATCH_STATUS_CANCELED"]),ei}var M5;function i0(){if(M5)return Xa;M5=1;var e=Xa&&Xa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Xa&&Xa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Xa&&Xa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.Batch=void 0;const i=o(re()),u=xk();return Xa.Batch=i.serialization.object({id:i.serialization.string().optional(),name:i.serialization.string(),creatorId:i.serialization.property("creator_id",i.serialization.string().optional()),orgId:i.serialization.property("org_id",i.serialization.string().optional()),status:u.BatchStatus.optional(),createdAt:i.serialization.property("created_at",i.serialization.date().optional()),updatedAt:i.serialization.property("updated_at",i.serialization.date().optional()),inputDatasetId:i.serialization.property("input_dataset_id",i.serialization.string()),outputDatasetId:i.serialization.property("output_dataset_id",i.serialization.string().optional()),inputTokens:i.serialization.property("input_tokens",i.serialization.string().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.string().optional()),model:i.serialization.string(),numRecords:i.serialization.property("num_records",i.serialization.number().optional()),numSuccessfulRecords:i.serialization.property("num_successful_records",i.serialization.number().optional()),numFailedRecords:i.serialization.property("num_failed_records",i.serialization.number().optional()),statusReason:i.serialization.property("status_reason",i.serialization.string().optional())}),Xa}var ti={},x5;function C_e(){if(x5)return ti;x5=1;var e=ti&&ti.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ti&&ti.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ti&&ti.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ti,"__esModule",{value:!0}),ti.CancelBatchResponse=void 0;const i=o(re());return ti.CancelBatchResponse=i.serialization.record(i.serialization.string(),i.serialization.unknown()),ti}var ri={},P5;function T_e(){if(P5)return ri;P5=1;var e=ri&&ri.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ri&&ri.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ri&&ri.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ri,"__esModule",{value:!0}),ri.CreateBatchResponse=void 0;const i=o(re()),u=i0();return ri.CreateBatchResponse=i.serialization.object({batch:u.Batch}),ri}var ni={},A5;function M_e(){if(A5)return ni;A5=1;var e=ni&&ni.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ni&&ni.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ni&&ni.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ni,"__esModule",{value:!0}),ni.GetBatchResponse=void 0;const i=o(re()),u=i0();return ni.GetBatchResponse=i.serialization.object({batch:u.Batch}),ni}var ai={},N5;function x_e(){if(N5)return ai;N5=1;var e=ai&&ai.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ai&&ai.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ai&&ai.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ai,"__esModule",{value:!0}),ai.ListBatchesResponse=void 0;const i=o(re()),u=i0();return ai.ListBatchesResponse=i.serialization.object({batches:i.serialization.list(u.Batch).optional(),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional())}),ai}var D5;function Pk(){return D5||(D5=1,(function(e){var n=df&&df.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=df&&df.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(i0(),e),o(xk(),e),o(C_e(),e),o(T_e(),e),o(M_e(),e),o(x_e(),e)})(df)),df}var I5;function P_e(){return I5||(I5=1,(function(e){var n=cf&&cf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=cf&&cf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Pk(),e)})(cf)),cf}var ff={},hf={},M1={},ii={},oi={},z5;function kM(){if(z5)return oi;z5=1;var e=oi&&oi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=oi&&oi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=oi&&oi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(oi,"__esModule",{value:!0}),oi.CreateConnectorOAuth=void 0;const i=o(re());return oi.CreateConnectorOAuth=i.serialization.object({clientId:i.serialization.property("client_id",i.serialization.string().optional()),clientSecret:i.serialization.property("client_secret",i.serialization.string().optional()),authorizeUrl:i.serialization.property("authorize_url",i.serialization.string().optional()),tokenUrl:i.serialization.property("token_url",i.serialization.string().optional()),scope:i.serialization.string().optional()}),oi}var si={},ui={},q5;function Ak(){if(q5)return ui;q5=1;var e=ui&&ui.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ui&&ui.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ui&&ui.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ui,"__esModule",{value:!0}),ui.AuthTokenType=void 0;const i=o(re());return ui.AuthTokenType=i.serialization.enum_(["bearer","basic","noscheme"]),ui}var B5;function YM(){if(B5)return si;B5=1;var e=si&&si.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=si&&si.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=si&&si.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(si,"__esModule",{value:!0}),si.CreateConnectorServiceAuth=void 0;const i=o(re()),u=Ak();return si.CreateConnectorServiceAuth=i.serialization.object({type:u.AuthTokenType,token:i.serialization.string()}),si}var U5;function A_e(){if(U5)return ii;U5=1;var e=ii&&ii.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ii&&ii.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ii&&ii.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ii,"__esModule",{value:!0}),ii.CreateConnectorRequest=void 0;const i=o(re()),u=kM(),t=YM();return ii.CreateConnectorRequest=i.serialization.object({name:i.serialization.string(),description:i.serialization.string().optional(),url:i.serialization.string(),excludes:i.serialization.list(i.serialization.string()).optional(),oauth:u.CreateConnectorOAuth.optional(),active:i.serialization.boolean().optional(),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional()),serviceAuth:i.serialization.property("service_auth",t.CreateConnectorServiceAuth.optional())}),ii}var li={},L5;function N_e(){if(L5)return li;L5=1;var e=li&&li.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=li&&li.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=li&&li.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(li,"__esModule",{value:!0}),li.UpdateConnectorRequest=void 0;const i=o(re()),u=kM(),t=YM();return li.UpdateConnectorRequest=i.serialization.object({name:i.serialization.string().optional(),url:i.serialization.string().optional(),excludes:i.serialization.list(i.serialization.string()).optional(),oauth:u.CreateConnectorOAuth.optional(),active:i.serialization.boolean().optional(),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional()),serviceAuth:i.serialization.property("service_auth",t.CreateConnectorServiceAuth.optional())}),li}var $5;function Nk(){return $5||($5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateConnectorRequest=e.CreateConnectorRequest=void 0;var n=A_e();Object.defineProperty(e,"CreateConnectorRequest",{enumerable:!0,get:function(){return n.CreateConnectorRequest}});var o=N_e();Object.defineProperty(e,"UpdateConnectorRequest",{enumerable:!0,get:function(){return o.UpdateConnectorRequest}})})(M1)),M1}var F5;function D_e(){return F5||(F5=1,(function(e){var n=hf&&hf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=hf&&hf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Nk(),e)})(hf)),hf}var V5;function I_e(){return V5||(V5=1,(function(e){var n=ff&&ff.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=ff&&ff.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(D_e(),e)})(ff)),ff}var pf={},ci={},di={},G5;function z_e(){if(G5)return di;G5=1;var e=di&&di.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=di&&di.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=di&&di.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(di,"__esModule",{value:!0}),di.Response=void 0;const i=o(re());return di.Response=i.serialization.record(i.serialization.string(),i.serialization.unknown()),di}var H5;function q_e(){if(H5)return ci;H5=1;var e=ci&&ci.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),n=ci&&ci.__setModuleDefault||(Object.create?(function(i,u){Object.defineProperty(i,"default",{enumerable:!0,value:u})}):function(i,u){i.default=u}),o=ci&&ci.__importStar||(function(){var i=function(u){return i=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},i(u)};return function(u){if(u&&u.__esModule)return u;var t={};if(u!=null)for(var r=i(u),a=0;a<r.length;a++)r[a]!=="default"&&e(t,u,r[a]);return n(t,u),t}})();return Object.defineProperty(ci,"__esModule",{value:!0}),ci.delete=void 0,ci.delete=o(z_e()),ci}var gf={},fi={},K5;function B_e(){if(K5)return fi;K5=1;var e=fi&&fi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=fi&&fi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=fi&&fi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fi,"__esModule",{value:!0}),fi.DatasetsCreateResponse=void 0;const i=o(re());return fi.DatasetsCreateResponse=i.serialization.object({id:i.serialization.string().optional()}),fi}var hi={},pi={},gi={},k5;function Dk(){if(k5)return gi;k5=1;var e=gi&&gi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=gi&&gi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=gi&&gi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(gi,"__esModule",{value:!0}),gi.DatasetPart=void 0;const i=o(re());return gi.DatasetPart=i.serialization.object({id:i.serialization.string(),name:i.serialization.string(),url:i.serialization.string().optional(),index:i.serialization.number().optional(),sizeBytes:i.serialization.property("size_bytes",i.serialization.number().optional()),numRows:i.serialization.property("num_rows",i.serialization.number().optional()),originalUrl:i.serialization.property("original_url",i.serialization.string().optional()),samples:i.serialization.list(i.serialization.string()).optional()}),gi}var mi={},Y5;function Ik(){if(Y5)return mi;Y5=1;var e=mi&&mi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=mi&&mi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=mi&&mi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(mi,"__esModule",{value:!0}),mi.DatasetType=void 0;const i=o(re());return mi.DatasetType=i.serialization.enum_(["embed-input","embed-result","cluster-result","cluster-outliers","reranker-finetune-input","single-label-classification-finetune-input","chat-finetune-input","multi-label-classification-finetune-input","batch-chat-input","batch-openai-chat-input","batch-embed-v2-input","batch-chat-v2-input"]),mi}var _i={},W5;function zk(){if(W5)return _i;W5=1;var e=_i&&_i.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=_i&&_i.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=_i&&_i.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(_i,"__esModule",{value:!0}),_i.DatasetValidationStatus=void 0;const i=o(re());return _i.DatasetValidationStatus=i.serialization.enum_(["unknown","queued","processing","failed","validated","skipped"]),_i}var J5;function WM(){if(J5)return pi;J5=1;var e=pi&&pi.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=pi&&pi.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=pi&&pi.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(pi,"__esModule",{value:!0}),pi.Dataset=void 0;const i=o(re()),u=Dk(),t=Ik(),r=zk();return pi.Dataset=i.serialization.object({id:i.serialization.string(),name:i.serialization.string(),createdAt:i.serialization.property("created_at",i.serialization.date()),updatedAt:i.serialization.property("updated_at",i.serialization.date()),datasetType:i.serialization.property("dataset_type",t.DatasetType),validationStatus:i.serialization.property("validation_status",r.DatasetValidationStatus),validationError:i.serialization.property("validation_error",i.serialization.string().optional()),schema:i.serialization.string().optional(),requiredFields:i.serialization.property("required_fields",i.serialization.list(i.serialization.string()).optional()),preserveFields:i.serialization.property("preserve_fields",i.serialization.list(i.serialization.string()).optional()),datasetParts:i.serialization.property("dataset_parts",i.serialization.list(u.DatasetPart).optional()),validationWarnings:i.serialization.property("validation_warnings",i.serialization.list(i.serialization.string()).optional())}),pi}var Z5;function U_e(){if(Z5)return hi;Z5=1;var e=hi&&hi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=hi&&hi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=hi&&hi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(hi,"__esModule",{value:!0}),hi.DatasetsGetResponse=void 0;const i=o(re()),u=WM();return hi.DatasetsGetResponse=i.serialization.object({dataset:u.Dataset}),hi}var yi={},Q5;function L_e(){if(Q5)return yi;Q5=1;var e=yi&&yi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=yi&&yi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=yi&&yi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(yi,"__esModule",{value:!0}),yi.DatasetsGetUsageResponse=void 0;const i=o(re());return yi.DatasetsGetUsageResponse=i.serialization.object({organizationUsage:i.serialization.property("organization_usage",i.serialization.number().optional())}),yi}var vi={},X5;function $_e(){if(X5)return vi;X5=1;var e=vi&&vi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=vi&&vi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=vi&&vi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(vi,"__esModule",{value:!0}),vi.DatasetsListResponse=void 0;const i=o(re()),u=WM();return vi.DatasetsListResponse=i.serialization.object({datasets:i.serialization.list(u.Dataset).optional()}),vi}var eF;function qk(){return eF||(eF=1,(function(e){var n=gf&&gf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=gf&&gf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(B_e(),e),o(U_e(),e),o(L_e(),e),o($_e(),e)})(gf)),gf}var tF;function F_e(){return tF||(tF=1,(function(e){var n=pf&&pf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=pf&&pf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(q_e(),e),o(qk(),e)})(pf)),pf}var mf={},_f={},x1={},bi={},wi={},rF;function Bk(){if(rF)return wi;rF=1;var e=wi&&wi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=wi&&wi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=wi&&wi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(wi,"__esModule",{value:!0}),wi.CreateEmbedJobRequestTruncate=void 0;const i=o(re());return wi.CreateEmbedJobRequestTruncate=i.serialization.enum_(["START","END"]),wi}var nF;function V_e(){if(nF)return bi;nF=1;var e=bi&&bi.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=bi&&bi.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=bi&&bi.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(bi,"__esModule",{value:!0}),bi.CreateEmbedJobRequest=void 0;const i=o(re()),u=n0(),t=a0(),r=Bk();return bi.CreateEmbedJobRequest=i.serialization.object({model:i.serialization.string(),datasetId:i.serialization.property("dataset_id",i.serialization.string()),inputType:i.serialization.property("input_type",t.EmbedInputType),name:i.serialization.string().optional(),embeddingTypes:i.serialization.property("embedding_types",i.serialization.list(u.EmbeddingType).optional()),truncate:r.CreateEmbedJobRequestTruncate.optional()}),bi}var aF;function Uk(){return aF||(aF=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CreateEmbedJobRequest=void 0;var n=V_e();Object.defineProperty(e,"CreateEmbedJobRequest",{enumerable:!0,get:function(){return n.CreateEmbedJobRequest}})})(x1)),x1}var iF;function G_e(){return iF||(iF=1,(function(e){var n=_f&&_f.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=_f&&_f.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Uk(),e)})(_f)),_f}var yf={},oF;function Lk(){return oF||(oF=1,(function(e){var n=yf&&yf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=yf&&yf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Bk(),e)})(yf)),yf}var sF;function H_e(){return sF||(sF=1,(function(e){var n=mf&&mf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=mf&&mf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(G_e(),e),o(Lk(),e)})(mf)),mf}var vf={},bf={},P1={},Oi={},Si={},Ei={},Ri={},uF;function $k(){if(uF)return Ri;uF=1;var e=Ri&&Ri.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ri&&Ri.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ri&&Ri.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.BaseType=void 0;const i=o(re());return Ri.BaseType=i.serialization.enum_(["BASE_TYPE_UNSPECIFIED","BASE_TYPE_GENERATIVE","BASE_TYPE_CLASSIFICATION","BASE_TYPE_RERANK","BASE_TYPE_CHAT"]),Ri}var ji={},lF;function Fk(){if(lF)return ji;lF=1;var e=ji&&ji.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ji&&ji.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ji&&ji.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ji,"__esModule",{value:!0}),ji.Strategy=void 0;const i=o(re());return ji.Strategy=i.serialization.enum_(["STRATEGY_UNSPECIFIED","STRATEGY_VANILLA","STRATEGY_TFEW"]),ji}var cF;function Vk(){if(cF)return Ei;cF=1;var e=Ei&&Ei.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Ei&&Ei.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ei&&Ei.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.BaseModel=void 0;const i=o(re()),u=$k(),t=Fk();return Ei.BaseModel=i.serialization.object({name:i.serialization.string().optional(),version:i.serialization.string().optional(),baseType:i.serialization.property("base_type",u.BaseType),strategy:t.Strategy.optional()}),Ei}var Ci={},Ti={},dF;function Gk(){if(dF)return Ti;dF=1;var e=Ti&&Ti.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ti&&Ti.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ti&&Ti.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.LoraTargetModules=void 0;const i=o(re());return Ti.LoraTargetModules=i.serialization.enum_(["LORA_TARGET_MODULES_UNSPECIFIED","LORA_TARGET_MODULES_QV","LORA_TARGET_MODULES_QKVO","LORA_TARGET_MODULES_QKVO_FFN"]),Ti}var fF;function Hk(){if(fF)return Ci;fF=1;var e=Ci&&Ci.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ci&&Ci.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ci&&Ci.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.Hyperparameters=void 0;const i=o(re()),u=Gk();return Ci.Hyperparameters=i.serialization.object({earlyStoppingPatience:i.serialization.property("early_stopping_patience",i.serialization.number().optional()),earlyStoppingThreshold:i.serialization.property("early_stopping_threshold",i.serialization.number().optional()),trainBatchSize:i.serialization.property("train_batch_size",i.serialization.number().optional()),trainEpochs:i.serialization.property("train_epochs",i.serialization.number().optional()),learningRate:i.serialization.property("learning_rate",i.serialization.number().optional()),loraAlpha:i.serialization.property("lora_alpha",i.serialization.number().optional()),loraRank:i.serialization.property("lora_rank",i.serialization.number().optional()),loraTargetModules:i.serialization.property("lora_target_modules",u.LoraTargetModules.optional())}),Ci}var Mi={},hF;function Kk(){if(hF)return Mi;hF=1;var e=Mi&&Mi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Mi&&Mi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Mi&&Mi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.WandbConfig=void 0;const i=o(re());return Mi.WandbConfig=i.serialization.object({project:i.serialization.string(),apiKey:i.serialization.property("api_key",i.serialization.string()),entity:i.serialization.string().optional()}),Mi}var pF;function JM(){if(pF)return Si;pF=1;var e=Si&&Si.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Si&&Si.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Si&&Si.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Si,"__esModule",{value:!0}),Si.Settings=void 0;const i=o(re()),u=Vk(),t=Hk(),r=Kk();return Si.Settings=i.serialization.object({baseModel:i.serialization.property("base_model",u.BaseModel),datasetId:i.serialization.property("dataset_id",i.serialization.string()),hyperparameters:t.Hyperparameters.optional(),multiLabel:i.serialization.property("multi_label",i.serialization.boolean().optional()),wandb:r.WandbConfig.optional()}),Si}var xi={},gF;function o0(){if(gF)return xi;gF=1;var e=xi&&xi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=xi&&xi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=xi&&xi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(xi,"__esModule",{value:!0}),xi.Status=void 0;const i=o(re());return xi.Status=i.serialization.enum_(["STATUS_UNSPECIFIED","STATUS_FINETUNING","STATUS_DEPLOYING_API","STATUS_READY","STATUS_FAILED","STATUS_DELETED","STATUS_TEMPORARILY_OFFLINE","STATUS_PAUSED","STATUS_QUEUED"]),xi}var mF;function K_e(){if(mF)return Oi;mF=1;var e=Oi&&Oi.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Oi&&Oi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Oi&&Oi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.FinetuningUpdateFinetunedModelRequest=void 0;const i=o(re()),u=JM(),t=o0();return Oi.FinetuningUpdateFinetunedModelRequest=i.serialization.object({name:i.serialization.string(),settings:u.Settings,status:t.Status.optional()}),Oi}var _F;function kk(){return _F||(_F=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinetuningUpdateFinetunedModelRequest=void 0;var n=K_e();Object.defineProperty(e,"FinetuningUpdateFinetunedModelRequest",{enumerable:!0,get:function(){return n.FinetuningUpdateFinetunedModelRequest}})})(P1)),P1}var yF;function k_e(){return yF||(yF=1,(function(e){var n=bf&&bf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=bf&&bf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(kk(),e)})(bf)),bf}var Pi={},wf={},Of={},Ai={},Ni={},vF;function w_(){if(vF)return Ni;vF=1;var e=Ni&&Ni.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Ni&&Ni.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ni&&Ni.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.FinetunedModel=void 0;const i=o(re()),u=JM(),t=o0();return Ni.FinetunedModel=i.serialization.object({id:i.serialization.string().optional(),name:i.serialization.string(),creatorId:i.serialization.property("creator_id",i.serialization.string().optional()),organizationId:i.serialization.property("organization_id",i.serialization.string().optional()),settings:u.Settings,status:t.Status.optional(),createdAt:i.serialization.property("created_at",i.serialization.date().optional()),updatedAt:i.serialization.property("updated_at",i.serialization.date().optional()),completedAt:i.serialization.property("completed_at",i.serialization.date().optional()),lastUsed:i.serialization.property("last_used",i.serialization.date().optional())}),Ni}var bF;function Y_e(){if(bF)return Ai;bF=1;var e=Ai&&Ai.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ai&&Ai.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ai&&Ai.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.CreateFinetunedModelResponse=void 0;const i=o(re()),u=w_();return Ai.CreateFinetunedModelResponse=i.serialization.object({finetunedModel:i.serialization.property("finetuned_model",u.FinetunedModel.optional())}),Ai}var Di={},wF;function W_e(){if(wF)return Di;wF=1;var e=Di&&Di.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Di&&Di.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Di&&Di.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Di,"__esModule",{value:!0}),Di.DeleteFinetunedModelResponse=void 0;const i=o(re());return Di.DeleteFinetunedModelResponse=i.serialization.record(i.serialization.string(),i.serialization.unknown()),Di}var Ii={},OF;function Yk(){if(OF)return Ii;OF=1;var e=Ii&&Ii.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ii&&Ii.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ii&&Ii.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.Event=void 0;const i=o(re()),u=o0();return Ii.Event=i.serialization.object({userId:i.serialization.property("user_id",i.serialization.string().optional()),status:u.Status.optional(),createdAt:i.serialization.property("created_at",i.serialization.date().optional())}),Ii}var zi={},SF;function J_e(){if(SF)return zi;SF=1;var e=zi&&zi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=zi&&zi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=zi&&zi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(zi,"__esModule",{value:!0}),zi.GetFinetunedModelResponse=void 0;const i=o(re()),u=w_();return zi.GetFinetunedModelResponse=i.serialization.object({finetunedModel:i.serialization.property("finetuned_model",u.FinetunedModel.optional())}),zi}var qi={},EF;function Z_e(){if(EF)return qi;EF=1;var e=qi&&qi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=qi&&qi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=qi&&qi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(qi,"__esModule",{value:!0}),qi.ListEventsResponse=void 0;const i=o(re()),u=Yk();return qi.ListEventsResponse=i.serialization.object({events:i.serialization.list(u.Event).optional(),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional()),totalSize:i.serialization.property("total_size",i.serialization.number().optional())}),qi}var Bi={},RF;function Q_e(){if(RF)return Bi;RF=1;var e=Bi&&Bi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Bi&&Bi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Bi&&Bi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.ListFinetunedModelsResponse=void 0;const i=o(re()),u=w_();return Bi.ListFinetunedModelsResponse=i.serialization.object({finetunedModels:i.serialization.property("finetuned_models",i.serialization.list(u.FinetunedModel).optional()),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional()),totalSize:i.serialization.property("total_size",i.serialization.number().optional())}),Bi}var Ui={},Li={},jF;function Wk(){if(jF)return Li;jF=1;var e=Li&&Li.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Li&&Li.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Li&&Li.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Li,"__esModule",{value:!0}),Li.TrainingStepMetrics=void 0;const i=o(re());return Li.TrainingStepMetrics=i.serialization.object({createdAt:i.serialization.property("created_at",i.serialization.date().optional()),stepNumber:i.serialization.property("step_number",i.serialization.number().optional()),metrics:i.serialization.record(i.serialization.string(),i.serialization.number()).optional()}),Li}var CF;function X_e(){if(CF)return Ui;CF=1;var e=Ui&&Ui.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ui&&Ui.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ui&&Ui.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.ListTrainingStepMetricsResponse=void 0;const i=o(re()),u=Wk();return Ui.ListTrainingStepMetricsResponse=i.serialization.object({stepMetrics:i.serialization.property("step_metrics",i.serialization.list(u.TrainingStepMetrics).optional()),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional())}),Ui}var $i={},TF;function eye(){if(TF)return $i;TF=1;var e=$i&&$i.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=$i&&$i.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=$i&&$i.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty($i,"__esModule",{value:!0}),$i.UpdateFinetunedModelResponse=void 0;const i=o(re()),u=w_();return $i.UpdateFinetunedModelResponse=i.serialization.object({finetunedModel:i.serialization.property("finetuned_model",u.FinetunedModel.optional())}),$i}var MF;function Jk(){return MF||(MF=1,(function(e){var n=Of&&Of.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Of&&Of.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Vk(),e),o($k(),e),o(Y_e(),e),o(W_e(),e),o(Yk(),e),o(w_(),e),o(J_e(),e),o(Hk(),e),o(Z_e(),e),o(Q_e(),e),o(X_e(),e),o(Gk(),e),o(JM(),e),o(o0(),e),o(Fk(),e),o(Wk(),e),o(eye(),e),o(Kk(),e)})(Of)),Of}var xF;function tye(){return xF||(xF=1,(function(e){var n=wf&&wf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=wf&&wf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Jk(),e)})(wf)),wf}var PF;function rye(){return PF||(PF=1,(function(e){var n=Pi&&Pi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=Pi&&Pi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=Pi&&Pi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})(),u=Pi&&Pi.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.finetuning=void 0,e.finetuning=i(tye()),u(Jk(),e)})(Pi)),Pi}var AF;function nye(){return AF||(AF=1,(function(e){var n=vf&&vf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=vf&&vf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(k_e(),e),o(rye(),e)})(vf)),vf}var Sf={},Ef={},A1={},Fi={},Vi={},Gi={},Hi={},Ki={},ki={},Yi={},NF;function fp(){if(NF)return Yi;NF=1;var e=Yi&&Yi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Yi&&Yi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Yi&&Yi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.ChatTextContent=void 0;const i=o(re());return Yi.ChatTextContent=i.serialization.object({text:i.serialization.string()}),Yi}var Wi={},DF;function ZM(){if(DF)return Wi;DF=1;var e=Wi&&Wi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Wi&&Wi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Wi&&Wi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.ChatThinkingContent=void 0;const i=o(re());return Wi.ChatThinkingContent=i.serialization.object({thinking:i.serialization.string()}),Wi}var IF;function Zk(){if(IF)return ki;IF=1;var e=ki&&ki.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ki&&ki.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ki&&ki.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ki,"__esModule",{value:!0}),ki.AssistantMessageV2ContentItem=void 0;const i=o(re()),u=fp(),t=ZM();return ki.AssistantMessageV2ContentItem=i.serialization.union("type",{text:u.ChatTextContent,thinking:t.ChatThinkingContent}).transform({transform:r=>r,untransform:r=>r}),ki}var zF;function Qk(){if(zF)return Ki;zF=1;var e=Ki&&Ki.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ki&&Ki.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ki&&Ki.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.AssistantMessageV2Content=void 0;const i=o(re()),u=Zk();return Ki.AssistantMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(u.AssistantMessageV2ContentItem)]),Ki}var Ji={},Zi={},qF;function Xk(){if(qF)return Zi;qF=1;var e=Zi&&Zi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Zi&&Zi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Zi&&Zi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.CitationType=void 0;const i=o(re());return Zi.CitationType=i.serialization.enum_(["TEXT_CONTENT","THINKING_CONTENT","PLAN"]),Zi}var Qi={},Xi={},BF;function eY(){if(BF)return Xi;BF=1;var e=Xi&&Xi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Xi&&Xi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Xi&&Xi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.ChatDocumentSource=void 0;const i=o(re());return Xi.ChatDocumentSource=i.serialization.object({id:i.serialization.string().optional(),document:i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional()}),Xi}var eo={},UF;function tY(){if(UF)return eo;UF=1;var e=eo&&eo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=eo&&eo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=eo&&eo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(eo,"__esModule",{value:!0}),eo.ChatToolSource=void 0;const i=o(re());return eo.ChatToolSource=i.serialization.object({id:i.serialization.string().optional(),toolOutput:i.serialization.property("tool_output",i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional())}),eo}var LF;function rY(){if(LF)return Qi;LF=1;var e=Qi&&Qi.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Qi&&Qi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Qi&&Qi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.Source=void 0;const i=o(re()),u=eY(),t=tY();return Qi.Source=i.serialization.union("type",{tool:t.ChatToolSource,document:u.ChatDocumentSource}).transform({transform:r=>r,untransform:r=>r}),Qi}var $F;function s0(){if($F)return Ji;$F=1;var e=Ji&&Ji.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Ji&&Ji.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ji&&Ji.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.Citation=void 0;const i=o(re()),u=Xk(),t=rY();return Ji.Citation=i.serialization.object({start:i.serialization.number().optional(),end:i.serialization.number().optional(),text:i.serialization.string().optional(),sources:i.serialization.list(t.Source).optional(),contentIndex:i.serialization.property("content_index",i.serialization.number().optional()),type:u.CitationType.optional()}),Ji}var to={},ro={},FF;function nY(){if(FF)return ro;FF=1;var e=ro&&ro.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ro&&ro.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ro&&ro.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ro,"__esModule",{value:!0}),ro.ToolCallV2Function=void 0;const i=o(re());return ro.ToolCallV2Function=i.serialization.object({name:i.serialization.string().optional(),arguments:i.serialization.string().optional()}),ro}var VF;function u0(){if(VF)return to;VF=1;var e=to&&to.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=to&&to.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=to&&to.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(to,"__esModule",{value:!0}),to.ToolCallV2=void 0;const i=o(re()),u=nY();return to.ToolCallV2=i.serialization.object({id:i.serialization.string(),type:i.serialization.stringLiteral("function"),function:u.ToolCallV2Function.optional()}),to}var GF;function aY(){if(GF)return Hi;GF=1;var e=Hi&&Hi.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Hi&&Hi.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Hi&&Hi.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.AssistantMessage=void 0;const i=o(re()),u=Qk(),t=s0(),r=u0();return Hi.AssistantMessage=i.serialization.object({toolCalls:i.serialization.property("tool_calls",i.serialization.list(r.ToolCallV2).optional()),toolPlan:i.serialization.property("tool_plan",i.serialization.string().optional()),content:u.AssistantMessageV2Content.optional(),citations:i.serialization.list(t.Citation).optional()}),Hi}var no={},ao={},io={},HF;function iY(){if(HF)return io;HF=1;var e=io&&io.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=io&&io.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=io&&io.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(io,"__esModule",{value:!0}),io.SystemMessageV2ContentItem=void 0;const i=o(re()),u=fp();return io.SystemMessageV2ContentItem=i.serialization.union("type",{text:u.ChatTextContent}).transform({transform:t=>t,untransform:t=>t}),io}var KF;function oY(){if(KF)return ao;KF=1;var e=ao&&ao.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ao&&ao.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ao&&ao.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ao,"__esModule",{value:!0}),ao.SystemMessageV2Content=void 0;const i=o(re()),u=iY();return ao.SystemMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(u.SystemMessageV2ContentItem)]),ao}var kF;function sY(){if(kF)return no;kF=1;var e=no&&no.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=no&&no.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=no&&no.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(no,"__esModule",{value:!0}),no.SystemMessageV2=void 0;const i=o(re()),u=oY();return no.SystemMessageV2=i.serialization.object({content:u.SystemMessageV2Content}),no}var oo={},so={},uo={},lo={},co={},YF;function l0(){if(YF)return co;YF=1;var e=co&&co.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=co&&co.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=co&&co.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(co,"__esModule",{value:!0}),co.Document=void 0;const i=o(re());return co.Document=i.serialization.object({data:i.serialization.record(i.serialization.string(),i.serialization.unknown()),id:i.serialization.string().optional()}),co}var WF;function uY(){if(WF)return lo;WF=1;var e=lo&&lo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=lo&&lo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=lo&&lo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(lo,"__esModule",{value:!0}),lo.DocumentContent=void 0;const i=o(re()),u=l0();return lo.DocumentContent=i.serialization.object({document:u.Document}),lo}var JF;function lY(){if(JF)return uo;JF=1;var e=uo&&uo.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=uo&&uo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=uo&&uo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(uo,"__esModule",{value:!0}),uo.ToolContent=void 0;const i=o(re()),u=fp(),t=uY();return uo.ToolContent=i.serialization.union("type",{text:u.ChatTextContent,document:t.DocumentContent}).transform({transform:r=>r,untransform:r=>r}),uo}var ZF;function cY(){if(ZF)return so;ZF=1;var e=so&&so.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=so&&so.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=so&&so.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(so,"__esModule",{value:!0}),so.ToolMessageV2Content=void 0;const i=o(re()),u=lY();return so.ToolMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(u.ToolContent)]),so}var QF;function dY(){if(QF)return oo;QF=1;var e=oo&&oo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=oo&&oo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=oo&&oo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(oo,"__esModule",{value:!0}),oo.ToolMessageV2=void 0;const i=o(re()),u=cY();return oo.ToolMessageV2=i.serialization.object({toolCallId:i.serialization.property("tool_call_id",i.serialization.string()),content:u.ToolMessageV2Content}),oo}var fo={},ho={},po={},go={},mo={},_o={},XF;function fY(){if(XF)return _o;XF=1;var e=_o&&_o.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=_o&&_o.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=_o&&_o.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(_o,"__esModule",{value:!0}),_o.ImageUrlDetail=void 0;const i=o(re());return _o.ImageUrlDetail=i.serialization.enum_(["auto","low","high"]),_o}var e6;function hY(){if(e6)return mo;e6=1;var e=mo&&mo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=mo&&mo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=mo&&mo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(mo,"__esModule",{value:!0}),mo.ImageUrl=void 0;const i=o(re()),u=fY();return mo.ImageUrl=i.serialization.object({url:i.serialization.string(),detail:u.ImageUrlDetail.optional()}),mo}var t6;function pY(){if(t6)return go;t6=1;var e=go&&go.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=go&&go.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=go&&go.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(go,"__esModule",{value:!0}),go.ImageContent=void 0;const i=o(re()),u=hY();return go.ImageContent=i.serialization.object({imageUrl:i.serialization.property("image_url",u.ImageUrl)}),go}var r6;function gY(){if(r6)return po;r6=1;var e=po&&po.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=po&&po.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=po&&po.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(po,"__esModule",{value:!0}),po.Content=void 0;const i=o(re()),u=fp(),t=pY();return po.Content=i.serialization.union("type",{text:u.ChatTextContent,image_url:t.ImageContent}).transform({transform:r=>r,untransform:r=>r}),po}var n6;function mY(){if(n6)return ho;n6=1;var e=ho&&ho.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ho&&ho.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ho&&ho.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ho,"__esModule",{value:!0}),ho.UserMessageV2Content=void 0;const i=o(re()),u=gY();return ho.UserMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(u.Content)]),ho}var a6;function _Y(){if(a6)return fo;a6=1;var e=fo&&fo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=fo&&fo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=fo&&fo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(fo,"__esModule",{value:!0}),fo.UserMessageV2=void 0;const i=o(re()),u=mY();return fo.UserMessageV2=i.serialization.object({content:u.UserMessageV2Content}),fo}var i6;function yY(){if(i6)return Gi;i6=1;var e=Gi&&Gi.__createBinding||(Object.create?(function(s,l,f,m){m===void 0&&(m=f);var b=Object.getOwnPropertyDescriptor(l,f);(!b||("get"in b?!l.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(s,m,b)}):(function(s,l,f,m){m===void 0&&(m=f),s[m]=l[f]})),n=Gi&&Gi.__setModuleDefault||(Object.create?(function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}):function(s,l){s.default=l}),o=Gi&&Gi.__importStar||(function(){var s=function(l){return s=Object.getOwnPropertyNames||function(f){var m=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(m[m.length]=b);return m},s(l)};return function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var m=s(l),b=0;b<m.length;b++)m[b]!=="default"&&e(f,l,m[b]);return n(f,l),f}})();Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.ChatMessageV2=void 0;const i=o(re()),u=aY(),t=sY(),r=dY(),a=_Y();return Gi.ChatMessageV2=i.serialization.union("role",{user:a.UserMessageV2,assistant:u.AssistantMessage,system:t.SystemMessageV2,tool:r.ToolMessageV2}).transform({transform:s=>s,untransform:s=>s}),Gi}var o6;function QM(){if(o6)return Vi;o6=1;var e=Vi&&Vi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Vi&&Vi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Vi&&Vi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.ChatMessages=void 0;const i=o(re()),u=yY();return Vi.ChatMessages=i.serialization.list(u.ChatMessageV2),Vi}var yo={},vo={},s6;function vY(){if(s6)return vo;s6=1;var e=vo&&vo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=vo&&vo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=vo&&vo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(vo,"__esModule",{value:!0}),vo.CitationOptionsMode=void 0;const i=o(re());return vo.CitationOptionsMode=i.serialization.enum_(["ENABLED","DISABLED","FAST","ACCURATE","OFF"]),vo}var u6;function XM(){if(u6)return yo;u6=1;var e=yo&&yo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=yo&&yo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=yo&&yo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(yo,"__esModule",{value:!0}),yo.CitationOptions=void 0;const i=o(re()),u=vY();return yo.CitationOptions=i.serialization.object({mode:u.CitationOptionsMode.optional()}),yo}var bo={},wo={},l6;function bY(){if(l6)return wo;l6=1;var e=wo&&wo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=wo&&wo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=wo&&wo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(wo,"__esModule",{value:!0}),wo.ChatTextResponseFormatV2=void 0;const i=o(re());return wo.ChatTextResponseFormatV2=i.serialization.object({}),wo}var Oo={},c6;function wY(){if(c6)return Oo;c6=1;var e=Oo&&Oo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Oo&&Oo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Oo&&Oo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.JsonResponseFormatV2=void 0;const i=o(re());return Oo.JsonResponseFormatV2=i.serialization.object({jsonSchema:i.serialization.property("json_schema",i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional())}),Oo}var d6;function ex(){if(d6)return bo;d6=1;var e=bo&&bo.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=bo&&bo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=bo&&bo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(bo,"__esModule",{value:!0}),bo.ResponseFormatV2=void 0;const i=o(re()),u=bY(),t=wY();return bo.ResponseFormatV2=i.serialization.union("type",{text:u.ChatTextResponseFormatV2,json_object:t.JsonResponseFormatV2}).transform({transform:r=>r,untransform:r=>r}),bo}var So={},Eo={},f6;function OY(){if(f6)return Eo;f6=1;var e=Eo&&Eo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Eo&&Eo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Eo&&Eo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.ThinkingType=void 0;const i=o(re());return Eo.ThinkingType=i.serialization.enum_(["enabled","disabled"]),Eo}var h6;function tx(){if(h6)return So;h6=1;var e=So&&So.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=So&&So.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=So&&So.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(So,"__esModule",{value:!0}),So.Thinking=void 0;const i=o(re()),u=OY();return So.Thinking=i.serialization.object({type:u.ThinkingType,tokenBudget:i.serialization.property("token_budget",i.serialization.number().optional())}),So}var Ro={},jo={},p6;function SY(){if(p6)return jo;p6=1;var e=jo&&jo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=jo&&jo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=jo&&jo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(jo,"__esModule",{value:!0}),jo.ToolV2Function=void 0;const i=o(re());return jo.ToolV2Function=i.serialization.object({name:i.serialization.string(),description:i.serialization.string().optional(),parameters:i.serialization.record(i.serialization.string(),i.serialization.unknown())}),jo}var g6;function rx(){if(g6)return Ro;g6=1;var e=Ro&&Ro.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ro&&Ro.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ro&&Ro.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.ToolV2=void 0;const i=o(re()),u=SY();return Ro.ToolV2=i.serialization.object({type:i.serialization.stringLiteral("function"),function:u.ToolV2Function.optional()}),Ro}var Co={},m6;function EY(){if(m6)return Co;m6=1;var e=Co&&Co.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Co&&Co.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Co&&Co.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Co,"__esModule",{value:!0}),Co.V2ChatRequestDocumentsItem=void 0;const i=o(re()),u=l0();return Co.V2ChatRequestDocumentsItem=i.serialization.undiscriminatedUnion([i.serialization.string(),u.Document]),Co}var To={},_6;function RY(){if(_6)return To;_6=1;var e=To&&To.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=To&&To.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=To&&To.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(To,"__esModule",{value:!0}),To.V2ChatRequestSafetyMode=void 0;const i=o(re());return To.V2ChatRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","OFF"]),To}var Mo={},y6;function jY(){if(y6)return Mo;y6=1;var e=Mo&&Mo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Mo&&Mo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Mo&&Mo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.V2ChatRequestToolChoice=void 0;const i=o(re());return Mo.V2ChatRequestToolChoice=i.serialization.enum_(["REQUIRED","NONE"]),Mo}var v6;function aye(){if(v6)return Fi;v6=1;var e=Fi&&Fi.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),n=Fi&&Fi.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),o=Fi&&Fi.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&e(p,_,y[v]);return n(p,_),p}})();Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.V2ChatRequest=void 0;const i=o(re()),u=QM(),t=XM(),r=ex(),a=tx(),s=rx(),l=EY(),f=RY(),m=jY();return Fi.V2ChatRequest=i.serialization.object({model:i.serialization.string(),messages:u.ChatMessages,tools:i.serialization.list(s.ToolV2).optional(),strictTools:i.serialization.property("strict_tools",i.serialization.boolean().optional()),documents:i.serialization.list(l.V2ChatRequestDocumentsItem).optional(),citationOptions:i.serialization.property("citation_options",t.CitationOptions.optional()),responseFormat:i.serialization.property("response_format",r.ResponseFormatV2.optional()),safetyMode:i.serialization.property("safety_mode",f.V2ChatRequestSafetyMode.optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),logprobs:i.serialization.boolean().optional(),toolChoice:i.serialization.property("tool_choice",m.V2ChatRequestToolChoice.optional()),thinking:a.Thinking.optional(),priority:i.serialization.number().optional()}),Fi}var xo={},Po={},b6;function CY(){if(b6)return Po;b6=1;var e=Po&&Po.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Po&&Po.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Po&&Po.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Po,"__esModule",{value:!0}),Po.V2ChatStreamRequestDocumentsItem=void 0;const i=o(re()),u=l0();return Po.V2ChatStreamRequestDocumentsItem=i.serialization.undiscriminatedUnion([i.serialization.string(),u.Document]),Po}var Ao={},w6;function TY(){if(w6)return Ao;w6=1;var e=Ao&&Ao.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ao&&Ao.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ao&&Ao.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.V2ChatStreamRequestSafetyMode=void 0;const i=o(re());return Ao.V2ChatStreamRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","OFF"]),Ao}var No={},O6;function MY(){if(O6)return No;O6=1;var e=No&&No.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=No&&No.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=No&&No.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(No,"__esModule",{value:!0}),No.V2ChatStreamRequestToolChoice=void 0;const i=o(re());return No.V2ChatStreamRequestToolChoice=i.serialization.enum_(["REQUIRED","NONE"]),No}var S6;function iye(){if(S6)return xo;S6=1;var e=xo&&xo.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),n=xo&&xo.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),o=xo&&xo.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&e(p,_,y[v]);return n(p,_),p}})();Object.defineProperty(xo,"__esModule",{value:!0}),xo.V2ChatStreamRequest=void 0;const i=o(re()),u=QM(),t=XM(),r=ex(),a=tx(),s=rx(),l=CY(),f=TY(),m=MY();return xo.V2ChatStreamRequest=i.serialization.object({model:i.serialization.string(),messages:u.ChatMessages,tools:i.serialization.list(s.ToolV2).optional(),strictTools:i.serialization.property("strict_tools",i.serialization.boolean().optional()),documents:i.serialization.list(l.V2ChatStreamRequestDocumentsItem).optional(),citationOptions:i.serialization.property("citation_options",t.CitationOptions.optional()),responseFormat:i.serialization.property("response_format",r.ResponseFormatV2.optional()),safetyMode:i.serialization.property("safety_mode",f.V2ChatStreamRequestSafetyMode.optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),logprobs:i.serialization.boolean().optional(),toolChoice:i.serialization.property("tool_choice",m.V2ChatStreamRequestToolChoice.optional()),thinking:a.Thinking.optional(),priority:i.serialization.number().optional()}),xo}var Do={},Io={},zo={},qo={},Bo={},E6;function xY(){if(E6)return Bo;E6=1;var e=Bo&&Bo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Bo&&Bo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Bo&&Bo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.EmbedImageUrl=void 0;const i=o(re());return Bo.EmbedImageUrl=i.serialization.object({url:i.serialization.string()}),Bo}var R6;function PY(){if(R6)return qo;R6=1;var e=qo&&qo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=qo&&qo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=qo&&qo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(qo,"__esModule",{value:!0}),qo.EmbedImage=void 0;const i=o(re()),u=xY();return qo.EmbedImage=i.serialization.object({imageUrl:i.serialization.property("image_url",u.EmbedImageUrl.optional())}),qo}var Uo={},j6;function AY(){if(j6)return Uo;j6=1;var e=Uo&&Uo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Uo&&Uo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Uo&&Uo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.EmbedText=void 0;const i=o(re());return Uo.EmbedText=i.serialization.object({text:i.serialization.string().optional()}),Uo}var C6;function NY(){if(C6)return zo;C6=1;var e=zo&&zo.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=zo&&zo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=zo&&zo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(zo,"__esModule",{value:!0}),zo.EmbedContent=void 0;const i=o(re()),u=PY(),t=AY();return zo.EmbedContent=i.serialization.union("type",{image_url:u.EmbedImage,text:t.EmbedText}).transform({transform:r=>r,untransform:r=>r}),zo}var T6;function DY(){if(T6)return Io;T6=1;var e=Io&&Io.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Io&&Io.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Io&&Io.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Io,"__esModule",{value:!0}),Io.EmbedInput=void 0;const i=o(re()),u=NY();return Io.EmbedInput=i.serialization.object({content:i.serialization.list(u.EmbedContent)}),Io}var Lo={},M6;function IY(){if(M6)return Lo;M6=1;var e=Lo&&Lo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Lo&&Lo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Lo&&Lo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.V2EmbedRequestTruncate=void 0;const i=o(re());return Lo.V2EmbedRequestTruncate=i.serialization.enum_(["NONE","START","END"]),Lo}var x6;function oye(){if(x6)return Do;x6=1;var e=Do&&Do.__createBinding||(Object.create?(function(s,l,f,m){m===void 0&&(m=f);var b=Object.getOwnPropertyDescriptor(l,f);(!b||("get"in b?!l.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(s,m,b)}):(function(s,l,f,m){m===void 0&&(m=f),s[m]=l[f]})),n=Do&&Do.__setModuleDefault||(Object.create?(function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}):function(s,l){s.default=l}),o=Do&&Do.__importStar||(function(){var s=function(l){return s=Object.getOwnPropertyNames||function(f){var m=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(m[m.length]=b);return m},s(l)};return function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var m=s(l),b=0;b<m.length;b++)m[b]!=="default"&&e(f,l,m[b]);return n(f,l),f}})();Object.defineProperty(Do,"__esModule",{value:!0}),Do.V2EmbedRequest=void 0;const i=o(re()),u=n0(),t=DY(),r=a0(),a=IY();return Do.V2EmbedRequest=i.serialization.object({texts:i.serialization.list(i.serialization.string()).optional(),images:i.serialization.list(i.serialization.string()).optional(),model:i.serialization.string(),inputType:i.serialization.property("input_type",r.EmbedInputType),inputs:i.serialization.list(t.EmbedInput).optional(),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),outputDimension:i.serialization.property("output_dimension",i.serialization.number().optional()),embeddingTypes:i.serialization.property("embedding_types",i.serialization.list(u.EmbeddingType).optional()),truncate:a.V2EmbedRequestTruncate.optional(),priority:i.serialization.number().optional()}),Do}var $o={},P6;function sye(){if(P6)return $o;P6=1;var e=$o&&$o.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=$o&&$o.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=$o&&$o.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($o,"__esModule",{value:!0}),$o.V2RerankRequest=void 0;const i=o(re());return $o.V2RerankRequest=i.serialization.object({model:i.serialization.string(),query:i.serialization.string(),documents:i.serialization.list(i.serialization.string()),topN:i.serialization.property("top_n",i.serialization.number().optional()),maxTokensPerDoc:i.serialization.property("max_tokens_per_doc",i.serialization.number().optional()),priority:i.serialization.number().optional()}),$o}var A6;function zY(){return A6||(A6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.V2RerankRequest=e.V2EmbedRequest=e.V2ChatStreamRequest=e.V2ChatRequest=void 0;var n=aye();Object.defineProperty(e,"V2ChatRequest",{enumerable:!0,get:function(){return n.V2ChatRequest}});var o=iye();Object.defineProperty(e,"V2ChatStreamRequest",{enumerable:!0,get:function(){return o.V2ChatStreamRequest}});var i=oye();Object.defineProperty(e,"V2EmbedRequest",{enumerable:!0,get:function(){return i.V2EmbedRequest}});var u=sye();Object.defineProperty(e,"V2RerankRequest",{enumerable:!0,get:function(){return u.V2RerankRequest}})})(A1)),A1}var N6;function uye(){return N6||(N6=1,(function(e){var n=Ef&&Ef.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Ef&&Ef.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(zY(),e)})(Ef)),Ef}var Rf={},Fo={},Vo={},Go={},D6;function qY(){if(D6)return Go;D6=1;var e=Go&&Go.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Go&&Go.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Go&&Go.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Go,"__esModule",{value:!0}),Go.AssistantMessageResponseContentItem=void 0;const i=o(re()),u=fp(),t=ZM();return Go.AssistantMessageResponseContentItem=i.serialization.union("type",{text:u.ChatTextContent,thinking:t.ChatThinkingContent}).transform({transform:r=>r,untransform:r=>r}),Go}var I6;function BY(){if(I6)return Vo;I6=1;var e=Vo&&Vo.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Vo&&Vo.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Vo&&Vo.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.AssistantMessageResponse=void 0;const i=o(re()),u=qY(),t=s0(),r=u0();return Vo.AssistantMessageResponse=i.serialization.object({role:i.serialization.stringLiteral("assistant"),toolCalls:i.serialization.property("tool_calls",i.serialization.list(r.ToolCallV2).optional()),toolPlan:i.serialization.property("tool_plan",i.serialization.string().optional()),content:i.serialization.list(u.AssistantMessageResponseContentItem).optional(),citations:i.serialization.list(t.Citation).optional()}),Vo}var Ho={},z6;function nx(){if(z6)return Ho;z6=1;var e=Ho&&Ho.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ho&&Ho.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ho&&Ho.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.ChatFinishReason=void 0;const i=o(re());return Ho.ChatFinishReason=i.serialization.enum_(["COMPLETE","STOP_SEQUENCE","MAX_TOKENS","TOOL_CALL","ERROR","TIMEOUT"]),Ho}var Ko={},q6;function ax(){if(q6)return Ko;q6=1;var e=Ko&&Ko.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ko&&Ko.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ko&&Ko.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.LogprobItem=void 0;const i=o(re());return Ko.LogprobItem=i.serialization.object({text:i.serialization.string().optional(),tokenIds:i.serialization.property("token_ids",i.serialization.list(i.serialization.number())),logprobs:i.serialization.list(i.serialization.number()).optional()}),Ko}var ko={},Yo={},B6;function UY(){if(B6)return Yo;B6=1;var e=Yo&&Yo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Yo&&Yo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Yo&&Yo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.UsageBilledUnits=void 0;const i=o(re());return Yo.UsageBilledUnits=i.serialization.object({inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional()),searchUnits:i.serialization.property("search_units",i.serialization.number().optional()),classifications:i.serialization.number().optional()}),Yo}var Wo={},U6;function LY(){if(U6)return Wo;U6=1;var e=Wo&&Wo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Wo&&Wo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Wo&&Wo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.UsageTokens=void 0;const i=o(re());return Wo.UsageTokens=i.serialization.object({inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional())}),Wo}var L6;function ix(){if(L6)return ko;L6=1;var e=ko&&ko.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ko&&ko.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ko&&ko.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ko,"__esModule",{value:!0}),ko.Usage=void 0;const i=o(re()),u=UY(),t=LY();return ko.Usage=i.serialization.object({billedUnits:i.serialization.property("billed_units",u.UsageBilledUnits.optional()),tokens:t.UsageTokens.optional(),cachedTokens:i.serialization.property("cached_tokens",i.serialization.number().optional())}),ko}var $6;function lye(){if($6)return Fo;$6=1;var e=Fo&&Fo.__createBinding||(Object.create?(function(s,l,f,m){m===void 0&&(m=f);var b=Object.getOwnPropertyDescriptor(l,f);(!b||("get"in b?!l.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(s,m,b)}):(function(s,l,f,m){m===void 0&&(m=f),s[m]=l[f]})),n=Fo&&Fo.__setModuleDefault||(Object.create?(function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}):function(s,l){s.default=l}),o=Fo&&Fo.__importStar||(function(){var s=function(l){return s=Object.getOwnPropertyNames||function(f){var m=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(m[m.length]=b);return m},s(l)};return function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var m=s(l),b=0;b<m.length;b++)m[b]!=="default"&&e(f,l,m[b]);return n(f,l),f}})();Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.V2ChatResponse=void 0;const i=o(re()),u=BY(),t=nx(),r=ax(),a=ix();return Fo.V2ChatResponse=i.serialization.object({id:i.serialization.string(),finishReason:i.serialization.property("finish_reason",t.ChatFinishReason),message:u.AssistantMessageResponse,usage:a.Usage.optional(),logprobs:i.serialization.list(r.LogprobItem).optional()}),Fo}var Jo={},Zo={},Qo={},Xo={},es={},F6;function $Y(){if(F6)return es;F6=1;var e=es&&es.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=es&&es.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=es&&es.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(es,"__esModule",{value:!0}),es.ChatContentDeltaEventDeltaMessageContent=void 0;const i=o(re());return es.ChatContentDeltaEventDeltaMessageContent=i.serialization.object({thinking:i.serialization.string().optional(),text:i.serialization.string().optional()}),es}var V6;function FY(){if(V6)return Xo;V6=1;var e=Xo&&Xo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Xo&&Xo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Xo&&Xo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.ChatContentDeltaEventDeltaMessage=void 0;const i=o(re()),u=$Y();return Xo.ChatContentDeltaEventDeltaMessage=i.serialization.object({content:u.ChatContentDeltaEventDeltaMessageContent.optional()}),Xo}var G6;function VY(){if(G6)return Qo;G6=1;var e=Qo&&Qo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Qo&&Qo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Qo&&Qo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.ChatContentDeltaEventDelta=void 0;const i=o(re()),u=FY();return Qo.ChatContentDeltaEventDelta=i.serialization.object({message:u.ChatContentDeltaEventDeltaMessage.optional()}),Qo}var ts={},H6;function Un(){if(H6)return ts;H6=1;var e=ts&&ts.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ts&&ts.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ts&&ts.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ts,"__esModule",{value:!0}),ts.ChatStreamEventType=void 0;const i=o(re());return ts.ChatStreamEventType=i.serialization.object({}),ts}var K6;function GY(){if(K6)return Zo;K6=1;var e=Zo&&Zo.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Zo&&Zo.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Zo&&Zo.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.ChatContentDeltaEvent=void 0;const i=o(re()),u=VY(),t=Un(),r=ax();return Zo.ChatContentDeltaEvent=i.serialization.object({index:i.serialization.number().optional(),delta:u.ChatContentDeltaEventDelta.optional(),logprobs:r.LogprobItem.optional()}).extend(t.ChatStreamEventType),Zo}var rs={},k6;function HY(){if(k6)return rs;k6=1;var e=rs&&rs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=rs&&rs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=rs&&rs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(rs,"__esModule",{value:!0}),rs.ChatContentEndEvent=void 0;const i=o(re()),u=Un();return rs.ChatContentEndEvent=i.serialization.object({index:i.serialization.number().optional()}).extend(u.ChatStreamEventType),rs}var ns={},as={},is={},os={},ss={},Y6;function KY(){if(Y6)return ss;Y6=1;var e=ss&&ss.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ss&&ss.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ss&&ss.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ss,"__esModule",{value:!0}),ss.ChatContentStartEventDeltaMessageContentType=void 0;const i=o(re());return ss.ChatContentStartEventDeltaMessageContentType=i.serialization.enum_(["text","thinking"]),ss}var W6;function kY(){if(W6)return os;W6=1;var e=os&&os.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=os&&os.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=os&&os.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(os,"__esModule",{value:!0}),os.ChatContentStartEventDeltaMessageContent=void 0;const i=o(re()),u=KY();return os.ChatContentStartEventDeltaMessageContent=i.serialization.object({thinking:i.serialization.string().optional(),text:i.serialization.string().optional(),type:u.ChatContentStartEventDeltaMessageContentType.optional()}),os}var J6;function YY(){if(J6)return is;J6=1;var e=is&&is.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=is&&is.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=is&&is.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(is,"__esModule",{value:!0}),is.ChatContentStartEventDeltaMessage=void 0;const i=o(re()),u=kY();return is.ChatContentStartEventDeltaMessage=i.serialization.object({content:u.ChatContentStartEventDeltaMessageContent.optional()}),is}var Z6;function WY(){if(Z6)return as;Z6=1;var e=as&&as.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=as&&as.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=as&&as.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(as,"__esModule",{value:!0}),as.ChatContentStartEventDelta=void 0;const i=o(re()),u=YY();return as.ChatContentStartEventDelta=i.serialization.object({message:u.ChatContentStartEventDeltaMessage.optional()}),as}var Q6;function JY(){if(Q6)return ns;Q6=1;var e=ns&&ns.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ns&&ns.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ns&&ns.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ns,"__esModule",{value:!0}),ns.ChatContentStartEvent=void 0;const i=o(re()),u=WY(),t=Un();return ns.ChatContentStartEvent=i.serialization.object({index:i.serialization.number().optional(),delta:u.ChatContentStartEventDelta.optional()}).extend(t.ChatStreamEventType),ns}var us={},ls={},X6;function Sl(){if(X6)return ls;X6=1;var e=ls&&ls.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ls&&ls.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ls&&ls.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ls,"__esModule",{value:!0}),ls.ChatStreamEvent=void 0;const i=o(re());return ls.ChatStreamEvent=i.serialization.object({}),ls}var e9;function ox(){if(e9)return us;e9=1;var e=us&&us.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=us&&us.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=us&&us.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(us,"__esModule",{value:!0}),us.ChatDebugEvent=void 0;const i=o(re()),u=Sl();return us.ChatDebugEvent=i.serialization.object({prompt:i.serialization.string().optional()}).extend(u.ChatStreamEvent),us}var cs={},ds={},t9;function ZY(){if(t9)return ds;t9=1;var e=ds&&ds.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ds&&ds.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ds&&ds.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ds,"__esModule",{value:!0}),ds.ChatMessageEndEventDelta=void 0;const i=o(re()),u=nx(),t=ix();return ds.ChatMessageEndEventDelta=i.serialization.object({error:i.serialization.string().optional(),finishReason:i.serialization.property("finish_reason",u.ChatFinishReason.optional()),usage:t.Usage.optional()}),ds}var r9;function QY(){if(r9)return cs;r9=1;var e=cs&&cs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=cs&&cs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=cs&&cs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(cs,"__esModule",{value:!0}),cs.ChatMessageEndEvent=void 0;const i=o(re()),u=ZY(),t=Un();return cs.ChatMessageEndEvent=i.serialization.object({id:i.serialization.string().optional(),delta:u.ChatMessageEndEventDelta.optional()}).extend(t.ChatStreamEventType),cs}var fs={},hs={},ps={},n9;function XY(){if(n9)return ps;n9=1;var e=ps&&ps.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ps&&ps.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ps&&ps.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ps,"__esModule",{value:!0}),ps.ChatMessageStartEventDeltaMessage=void 0;const i=o(re());return ps.ChatMessageStartEventDeltaMessage=i.serialization.object({role:i.serialization.stringLiteral("assistant").optional()}),ps}var a9;function eW(){if(a9)return hs;a9=1;var e=hs&&hs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=hs&&hs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=hs&&hs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(hs,"__esModule",{value:!0}),hs.ChatMessageStartEventDelta=void 0;const i=o(re()),u=XY();return hs.ChatMessageStartEventDelta=i.serialization.object({message:u.ChatMessageStartEventDeltaMessage.optional()}),hs}var i9;function tW(){if(i9)return fs;i9=1;var e=fs&&fs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=fs&&fs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=fs&&fs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(fs,"__esModule",{value:!0}),fs.ChatMessageStartEvent=void 0;const i=o(re()),u=eW(),t=Un();return fs.ChatMessageStartEvent=i.serialization.object({id:i.serialization.string().optional(),delta:u.ChatMessageStartEventDelta.optional()}).extend(t.ChatStreamEventType),fs}var gs={},ms={},_s={},ys={},vs={},o9;function rW(){if(o9)return vs;o9=1;var e=vs&&vs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=vs&&vs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=vs&&vs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(vs,"__esModule",{value:!0}),vs.ChatToolCallDeltaEventDeltaMessageToolCallsFunction=void 0;const i=o(re());return vs.ChatToolCallDeltaEventDeltaMessageToolCallsFunction=i.serialization.object({arguments:i.serialization.string().optional()}),vs}var s9;function nW(){if(s9)return ys;s9=1;var e=ys&&ys.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ys&&ys.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ys&&ys.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ys,"__esModule",{value:!0}),ys.ChatToolCallDeltaEventDeltaMessageToolCalls=void 0;const i=o(re()),u=rW();return ys.ChatToolCallDeltaEventDeltaMessageToolCalls=i.serialization.object({function:u.ChatToolCallDeltaEventDeltaMessageToolCallsFunction.optional()}),ys}var u9;function aW(){if(u9)return _s;u9=1;var e=_s&&_s.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=_s&&_s.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=_s&&_s.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(_s,"__esModule",{value:!0}),_s.ChatToolCallDeltaEventDeltaMessage=void 0;const i=o(re()),u=nW();return _s.ChatToolCallDeltaEventDeltaMessage=i.serialization.object({toolCalls:i.serialization.property("tool_calls",u.ChatToolCallDeltaEventDeltaMessageToolCalls.optional())}),_s}var l9;function iW(){if(l9)return ms;l9=1;var e=ms&&ms.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ms&&ms.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ms&&ms.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ms,"__esModule",{value:!0}),ms.ChatToolCallDeltaEventDelta=void 0;const i=o(re()),u=aW();return ms.ChatToolCallDeltaEventDelta=i.serialization.object({message:u.ChatToolCallDeltaEventDeltaMessage.optional()}),ms}var c9;function oW(){if(c9)return gs;c9=1;var e=gs&&gs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=gs&&gs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=gs&&gs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(gs,"__esModule",{value:!0}),gs.ChatToolCallDeltaEvent=void 0;const i=o(re()),u=Un(),t=iW();return gs.ChatToolCallDeltaEvent=i.serialization.object({index:i.serialization.number().optional(),delta:t.ChatToolCallDeltaEventDelta.optional()}).extend(u.ChatStreamEventType),gs}var bs={},d9;function sW(){if(d9)return bs;d9=1;var e=bs&&bs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=bs&&bs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=bs&&bs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(bs,"__esModule",{value:!0}),bs.ChatToolCallEndEvent=void 0;const i=o(re()),u=Un();return bs.ChatToolCallEndEvent=i.serialization.object({index:i.serialization.number().optional()}).extend(u.ChatStreamEventType),bs}var ws={},Os={},Ss={},f9;function uW(){if(f9)return Ss;f9=1;var e=Ss&&Ss.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ss&&Ss.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ss&&Ss.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.ChatToolCallStartEventDeltaMessage=void 0;const i=o(re()),u=u0();return Ss.ChatToolCallStartEventDeltaMessage=i.serialization.object({toolCalls:i.serialization.property("tool_calls",u.ToolCallV2.optional())}),Ss}var h9;function lW(){if(h9)return Os;h9=1;var e=Os&&Os.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Os&&Os.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Os&&Os.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Os,"__esModule",{value:!0}),Os.ChatToolCallStartEventDelta=void 0;const i=o(re()),u=uW();return Os.ChatToolCallStartEventDelta=i.serialization.object({message:u.ChatToolCallStartEventDeltaMessage.optional()}),Os}var p9;function cW(){if(p9)return ws;p9=1;var e=ws&&ws.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ws&&ws.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ws&&ws.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ws,"__esModule",{value:!0}),ws.ChatToolCallStartEvent=void 0;const i=o(re()),u=Un(),t=lW();return ws.ChatToolCallStartEvent=i.serialization.object({index:i.serialization.number().optional(),delta:t.ChatToolCallStartEventDelta.optional()}).extend(u.ChatStreamEventType),ws}var Es={},Rs={},js={},g9;function dW(){if(g9)return js;g9=1;var e=js&&js.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=js&&js.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=js&&js.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(js,"__esModule",{value:!0}),js.ChatToolPlanDeltaEventDeltaMessage=void 0;const i=o(re());return js.ChatToolPlanDeltaEventDeltaMessage=i.serialization.object({toolPlan:i.serialization.property("tool_plan",i.serialization.string().optional())}),js}var m9;function fW(){if(m9)return Rs;m9=1;var e=Rs&&Rs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Rs&&Rs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Rs&&Rs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.ChatToolPlanDeltaEventDelta=void 0;const i=o(re()),u=dW();return Rs.ChatToolPlanDeltaEventDelta=i.serialization.object({message:u.ChatToolPlanDeltaEventDeltaMessage.optional()}),Rs}var _9;function hW(){if(_9)return Es;_9=1;var e=Es&&Es.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Es&&Es.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Es&&Es.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Es,"__esModule",{value:!0}),Es.ChatToolPlanDeltaEvent=void 0;const i=o(re()),u=Un(),t=fW();return Es.ChatToolPlanDeltaEvent=i.serialization.object({delta:t.ChatToolPlanDeltaEventDelta.optional()}).extend(u.ChatStreamEventType),Es}var Cs={},y9;function pW(){if(y9)return Cs;y9=1;var e=Cs&&Cs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Cs&&Cs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Cs&&Cs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.CitationEndEvent=void 0;const i=o(re()),u=Un();return Cs.CitationEndEvent=i.serialization.object({index:i.serialization.number().optional()}).extend(u.ChatStreamEventType),Cs}var Ts={},Ms={},xs={},v9;function gW(){if(v9)return xs;v9=1;var e=xs&&xs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=xs&&xs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=xs&&xs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(xs,"__esModule",{value:!0}),xs.CitationStartEventDeltaMessage=void 0;const i=o(re()),u=s0();return xs.CitationStartEventDeltaMessage=i.serialization.object({citations:u.Citation.optional()}),xs}var b9;function mW(){if(b9)return Ms;b9=1;var e=Ms&&Ms.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ms&&Ms.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ms&&Ms.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.CitationStartEventDelta=void 0;const i=o(re()),u=gW();return Ms.CitationStartEventDelta=i.serialization.object({message:u.CitationStartEventDeltaMessage.optional()}),Ms}var w9;function _W(){if(w9)return Ts;w9=1;var e=Ts&&Ts.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Ts&&Ts.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ts&&Ts.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.CitationStartEvent=void 0;const i=o(re()),u=Un(),t=mW();return Ts.CitationStartEvent=i.serialization.object({index:i.serialization.number().optional(),delta:t.CitationStartEventDelta.optional()}).extend(u.ChatStreamEventType),Ts}var O9;function cye(){if(O9)return Jo;O9=1;var e=Jo&&Jo.__createBinding||(Object.create?(function(v,S,R,j){j===void 0&&(j=R);var P=Object.getOwnPropertyDescriptor(S,R);(!P||("get"in P?!S.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return S[R]}}),Object.defineProperty(v,j,P)}):(function(v,S,R,j){j===void 0&&(j=R),v[j]=S[R]})),n=Jo&&Jo.__setModuleDefault||(Object.create?(function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}):function(v,S){v.default=S}),o=Jo&&Jo.__importStar||(function(){var v=function(S){return v=Object.getOwnPropertyNames||function(R){var j=[];for(var P in R)Object.prototype.hasOwnProperty.call(R,P)&&(j[j.length]=P);return j},v(S)};return function(S){if(S&&S.__esModule)return S;var R={};if(S!=null)for(var j=v(S),P=0;P<j.length;P++)j[P]!=="default"&&e(R,S,j[P]);return n(R,S),R}})();Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.V2ChatStreamResponse=void 0;const i=o(re()),u=GY(),t=HY(),r=JY(),a=ox(),s=QY(),l=tW(),f=oW(),m=sW(),b=cW(),_=hW(),p=pW(),y=_W();return Jo.V2ChatStreamResponse=i.serialization.union("type",{"message-start":l.ChatMessageStartEvent,"content-start":r.ChatContentStartEvent,"content-delta":u.ChatContentDeltaEvent,"content-end":t.ChatContentEndEvent,"tool-plan-delta":_.ChatToolPlanDeltaEvent,"tool-call-start":b.ChatToolCallStartEvent,"tool-call-delta":f.ChatToolCallDeltaEvent,"tool-call-end":m.ChatToolCallEndEvent,"citation-start":y.CitationStartEvent,"citation-end":p.CitationEndEvent,"message-end":s.ChatMessageEndEvent,debug:a.ChatDebugEvent}).transform({transform:v=>v,untransform:v=>v}),Jo}var Ps={},As={},Ns={},S9;function yW(){if(S9)return Ns;S9=1;var e=Ns&&Ns.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ns&&Ns.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ns&&Ns.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.ApiMetaApiVersion=void 0;const i=o(re());return Ns.ApiMetaApiVersion=i.serialization.object({version:i.serialization.string(),isDeprecated:i.serialization.property("is_deprecated",i.serialization.boolean().optional()),isExperimental:i.serialization.property("is_experimental",i.serialization.boolean().optional())}),Ns}var Ds={},E9;function vW(){if(E9)return Ds;E9=1;var e=Ds&&Ds.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ds&&Ds.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ds&&Ds.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.ApiMetaBilledUnits=void 0;const i=o(re());return Ds.ApiMetaBilledUnits=i.serialization.object({images:i.serialization.number().optional(),inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional()),searchUnits:i.serialization.property("search_units",i.serialization.number().optional()),classifications:i.serialization.number().optional()}),Ds}var Is={},R9;function bW(){if(R9)return Is;R9=1;var e=Is&&Is.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Is&&Is.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Is&&Is.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Is,"__esModule",{value:!0}),Is.ApiMetaTokens=void 0;const i=o(re());return Is.ApiMetaTokens=i.serialization.object({inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional())}),Is}var j9;function wn(){if(j9)return As;j9=1;var e=As&&As.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=As&&As.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=As&&As.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(As,"__esModule",{value:!0}),As.ApiMeta=void 0;const i=o(re()),u=yW(),t=vW(),r=bW();return As.ApiMeta=i.serialization.object({apiVersion:i.serialization.property("api_version",u.ApiMetaApiVersion.optional()),billedUnits:i.serialization.property("billed_units",t.ApiMetaBilledUnits.optional()),tokens:r.ApiMetaTokens.optional(),cachedTokens:i.serialization.property("cached_tokens",i.serialization.number().optional()),warnings:i.serialization.list(i.serialization.string()).optional()}),As}var zs={},C9;function wW(){if(C9)return zs;C9=1;var e=zs&&zs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=zs&&zs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=zs&&zs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(zs,"__esModule",{value:!0}),zs.V2RerankResponseResultsItem=void 0;const i=o(re());return zs.V2RerankResponseResultsItem=i.serialization.object({index:i.serialization.number(),relevanceScore:i.serialization.property("relevance_score",i.serialization.number())}),zs}var T9;function dye(){if(T9)return Ps;T9=1;var e=Ps&&Ps.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Ps&&Ps.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ps&&Ps.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.V2RerankResponse=void 0;const i=o(re()),u=wn(),t=wW();return Ps.V2RerankResponse=i.serialization.object({id:i.serialization.string().optional(),results:i.serialization.list(t.V2RerankResponseResultsItem),meta:u.ApiMeta.optional()}),Ps}var M9;function OW(){return M9||(M9=1,(function(e){var n=Rf&&Rf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Rf&&Rf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(EY(),e),o(RY(),e),o(jY(),e),o(lye(),e),o(CY(),e),o(TY(),e),o(MY(),e),o(cye(),e),o(IY(),e),o(dye(),e),o(wW(),e)})(Rf)),Rf}var x9;function fye(){return x9||(x9=1,(function(e){var n=Sf&&Sf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Sf&&Sf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(uye(),e),o(OW(),e)})(Sf)),Sf}var P9;function hye(){return P9||(P9=1,(function(e){var n=Qa&&Qa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=Qa&&Qa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=Qa&&Qa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})(),u=Qa&&Qa.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.v2=e.finetuning=e.embedJobs=e.datasets=e.connectors=e.batches=void 0,e.batches=i(P_e()),u(Pk(),e),e.connectors=i(I_e()),u(Nk(),e),e.datasets=i(F_e()),u(qk(),e),e.embedJobs=i(H_e()),u(Uk(),e),u(Lk(),e),e.finetuning=i(nye()),u(kk(),e),e.v2=i(fye()),u(zY(),e),u(OW(),e)})(Qa)),Qa}var jf={},qs={},Bs={},A9;function SW(){if(A9)return Bs;A9=1;var e=Bs&&Bs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Bs&&Bs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Bs&&Bs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.ChatCitationType=void 0;const i=o(re());return Bs.ChatCitationType=i.serialization.enum_(["TEXT_CONTENT","PLAN"]),Bs}var N9;function sx(){if(N9)return qs;N9=1;var e=qs&&qs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=qs&&qs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=qs&&qs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(qs,"__esModule",{value:!0}),qs.ChatCitation=void 0;const i=o(re()),u=SW();return qs.ChatCitation=i.serialization.object({start:i.serialization.number(),end:i.serialization.number(),text:i.serialization.string(),documentIds:i.serialization.property("document_ids",i.serialization.list(i.serialization.string())),type:u.ChatCitationType.optional()}),qs}var Us={},D9;function EW(){if(D9)return Us;D9=1;var e=Us&&Us.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Us&&Us.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Us&&Us.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Us,"__esModule",{value:!0}),Us.ChatCitationGenerationEvent=void 0;const i=o(re()),u=sx(),t=Sl();return Us.ChatCitationGenerationEvent=i.serialization.object({citations:i.serialization.list(u.ChatCitation)}).extend(t.ChatStreamEvent),Us}var Ls={},I9;function pye(){if(I9)return Ls;I9=1;var e=Ls&&Ls.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ls&&Ls.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ls&&Ls.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.ChatDataMetrics=void 0;const i=o(re());return Ls.ChatDataMetrics=i.serialization.object({numTrainTurns:i.serialization.property("num_train_turns",i.serialization.number().optional()),numEvalTurns:i.serialization.property("num_eval_turns",i.serialization.number().optional()),preamble:i.serialization.string().optional()}),Ls}var $s={},Fs={},z9;function c0(){if(z9)return Fs;z9=1;var e=Fs&&Fs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Fs&&Fs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Fs&&Fs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.ChatSearchQuery=void 0;const i=o(re());return Fs.ChatSearchQuery=i.serialization.object({text:i.serialization.string(),generationId:i.serialization.property("generation_id",i.serialization.string())}),Fs}var q9;function RW(){if(q9)return $s;q9=1;var e=$s&&$s.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=$s&&$s.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=$s&&$s.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty($s,"__esModule",{value:!0}),$s.ChatSearchQueriesGenerationEvent=void 0;const i=o(re()),u=c0(),t=Sl();return $s.ChatSearchQueriesGenerationEvent=i.serialization.object({searchQueries:i.serialization.property("search_queries",i.serialization.list(u.ChatSearchQuery))}).extend(t.ChatStreamEvent),$s}var Vs={},Gs={},B9;function jW(){if(B9)return Gs;B9=1;var e=Gs&&Gs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Gs&&Gs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Gs&&Gs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.ChatSearchResultConnector=void 0;const i=o(re());return Gs.ChatSearchResultConnector=i.serialization.object({id:i.serialization.string()}),Gs}var U9;function ux(){if(U9)return Vs;U9=1;var e=Vs&&Vs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Vs&&Vs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Vs&&Vs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.ChatSearchResult=void 0;const i=o(re()),u=c0(),t=jW();return Vs.ChatSearchResult=i.serialization.object({searchQuery:i.serialization.property("search_query",u.ChatSearchQuery.optional()),connector:t.ChatSearchResultConnector,documentIds:i.serialization.property("document_ids",i.serialization.list(i.serialization.string())),errorMessage:i.serialization.property("error_message",i.serialization.string().optional()),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional())}),Vs}var Hs={},L9;function CW(){if(L9)return Hs;L9=1;var e=Hs&&Hs.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Hs&&Hs.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Hs&&Hs.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.ChatSearchResultsEvent=void 0;const i=o(re()),u=v_(),t=ux(),r=Sl();return Hs.ChatSearchResultsEvent=i.serialization.object({searchResults:i.serialization.property("search_results",i.serialization.list(t.ChatSearchResult).optional()),documents:i.serialization.list(u.ChatDocument).optional()}).extend(r.ChatStreamEvent),Hs}var Ks={},ks={},$9;function TW(){if($9)return ks;$9=1;var e=ks&&ks.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ks&&ks.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ks&&ks.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ks,"__esModule",{value:!0}),ks.ChatStreamEndEventFinishReason=void 0;const i=o(re());return ks.ChatStreamEndEventFinishReason=i.serialization.enum_(["COMPLETE","ERROR_LIMIT","MAX_TOKENS","ERROR","ERROR_TOXIC"]),ks}var Ys={},Ws={},F9;function O_(){if(F9)return Ws;F9=1;var e=Ws&&Ws.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ws&&Ws.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ws&&Ws.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.FinishReason=void 0;const i=o(re());return Ws.FinishReason=i.serialization.enum_(["COMPLETE","STOP_SEQUENCE","ERROR","ERROR_TOXIC","ERROR_LIMIT","USER_CANCEL","MAX_TOKENS","TIMEOUT"]),Ws}var V9;function MW(){if(V9)return Ys;V9=1;var e=Ys&&Ys.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),n=Ys&&Ys.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),o=Ys&&Ys.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&e(p,_,y[v]);return n(p,_),p}})();Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.NonStreamedChatResponse=void 0;const i=o(re()),u=wn(),t=sx(),r=v_(),a=c0(),s=ux(),l=O_(),f=r0(),m=b_();return Ys.NonStreamedChatResponse=i.serialization.object({text:i.serialization.string(),generationId:i.serialization.property("generation_id",i.serialization.string().optional()),responseId:i.serialization.property("response_id",i.serialization.string().optional()),citations:i.serialization.list(t.ChatCitation).optional(),documents:i.serialization.list(r.ChatDocument).optional(),isSearchRequired:i.serialization.property("is_search_required",i.serialization.boolean().optional()),searchQueries:i.serialization.property("search_queries",i.serialization.list(a.ChatSearchQuery).optional()),searchResults:i.serialization.property("search_results",i.serialization.list(s.ChatSearchResult).optional()),finishReason:i.serialization.property("finish_reason",l.FinishReason.optional()),toolCalls:i.serialization.property("tool_calls",i.serialization.list(m.ToolCall).optional()),chatHistory:i.serialization.property("chat_history",i.serialization.list(f.Message).optional()),meta:u.ApiMeta.optional()}),Ys}var G9;function xW(){if(G9)return Ks;G9=1;var e=Ks&&Ks.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Ks&&Ks.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ks&&Ks.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.ChatStreamEndEvent=void 0;const i=o(re()),u=TW(),t=Sl(),r=MW();return Ks.ChatStreamEndEvent=i.serialization.object({finishReason:i.serialization.property("finish_reason",u.ChatStreamEndEventFinishReason),response:r.NonStreamedChatResponse}).extend(t.ChatStreamEvent),Ks}var Js={},H9;function PW(){if(H9)return Js;H9=1;var e=Js&&Js.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Js&&Js.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Js&&Js.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Js,"__esModule",{value:!0}),Js.ChatStreamStartEvent=void 0;const i=o(re()),u=Sl();return Js.ChatStreamStartEvent=i.serialization.object({generationId:i.serialization.property("generation_id",i.serialization.string())}).extend(u.ChatStreamEvent),Js}var Zs={},K9;function AW(){if(K9)return Zs;K9=1;var e=Zs&&Zs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Zs&&Zs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Zs&&Zs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.ChatTextGenerationEvent=void 0;const i=o(re()),u=Sl();return Zs.ChatTextGenerationEvent=i.serialization.object({text:i.serialization.string()}).extend(u.ChatStreamEvent),Zs}var Qs={},Xs={},k9;function NW(){if(k9)return Xs;k9=1;var e=Xs&&Xs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Xs&&Xs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Xs&&Xs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.ToolCallDelta=void 0;const i=o(re());return Xs.ToolCallDelta=i.serialization.object({name:i.serialization.string().optional(),index:i.serialization.number().optional(),parameters:i.serialization.string().optional(),text:i.serialization.string().optional()}),Xs}var Y9;function DW(){if(Y9)return Qs;Y9=1;var e=Qs&&Qs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Qs&&Qs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Qs&&Qs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.ChatToolCallsChunkEvent=void 0;const i=o(re()),u=Sl(),t=NW();return Qs.ChatToolCallsChunkEvent=i.serialization.object({toolCallDelta:i.serialization.property("tool_call_delta",t.ToolCallDelta),text:i.serialization.string().optional()}).extend(u.ChatStreamEvent),Qs}var eu={},W9;function IW(){if(W9)return eu;W9=1;var e=eu&&eu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=eu&&eu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=eu&&eu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(eu,"__esModule",{value:!0}),eu.ChatToolCallsGenerationEvent=void 0;const i=o(re()),u=Sl(),t=b_();return eu.ChatToolCallsGenerationEvent=i.serialization.object({text:i.serialization.string().optional(),toolCalls:i.serialization.property("tool_calls",i.serialization.list(t.ToolCall))}).extend(u.ChatStreamEvent),eu}var tu={},J9;function gye(){if(J9)return tu;J9=1;var e=tu&&tu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=tu&&tu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=tu&&tu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(tu,"__esModule",{value:!0}),tu.CheckApiKeyResponse=void 0;const i=o(re());return tu.CheckApiKeyResponse=i.serialization.object({valid:i.serialization.boolean(),organizationId:i.serialization.property("organization_id",i.serialization.string().optional()),ownerId:i.serialization.property("owner_id",i.serialization.string().optional())}),tu}var ru={},nu={},Z9;function zW(){if(Z9)return nu;Z9=1;var e=nu&&nu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=nu&&nu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=nu&&nu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(nu,"__esModule",{value:!0}),nu.LabelMetric=void 0;const i=o(re());return nu.LabelMetric=i.serialization.object({totalExamples:i.serialization.property("total_examples",i.serialization.number().optional()),label:i.serialization.string().optional(),samples:i.serialization.list(i.serialization.string()).optional()}),nu}var Q9;function mye(){if(Q9)return ru;Q9=1;var e=ru&&ru.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ru&&ru.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ru&&ru.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ru,"__esModule",{value:!0}),ru.ClassifyDataMetrics=void 0;const i=o(re()),u=zW();return ru.ClassifyDataMetrics=i.serialization.object({labelMetrics:i.serialization.property("label_metrics",i.serialization.list(u.LabelMetric).optional())}),ru}var au={},iu={},ou={},X9;function qW(){if(X9)return ou;X9=1;var e=ou&&ou.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ou&&ou.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ou&&ou.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ou,"__esModule",{value:!0}),ou.ClassifyResponseClassificationsItemClassificationType=void 0;const i=o(re());return ou.ClassifyResponseClassificationsItemClassificationType=i.serialization.enum_(["single-label","multi-label"]),ou}var su={},e8;function BW(){if(e8)return su;e8=1;var e=su&&su.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=su&&su.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=su&&su.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(su,"__esModule",{value:!0}),su.ClassifyResponseClassificationsItemLabelsValue=void 0;const i=o(re());return su.ClassifyResponseClassificationsItemLabelsValue=i.serialization.object({confidence:i.serialization.number().optional()}),su}var t8;function UW(){if(t8)return iu;t8=1;var e=iu&&iu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=iu&&iu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=iu&&iu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(iu,"__esModule",{value:!0}),iu.ClassifyResponseClassificationsItem=void 0;const i=o(re()),u=qW(),t=BW();return iu.ClassifyResponseClassificationsItem=i.serialization.object({id:i.serialization.string(),input:i.serialization.string().optional(),prediction:i.serialization.string().optional(),predictions:i.serialization.list(i.serialization.string()),confidence:i.serialization.number().optional(),confidences:i.serialization.list(i.serialization.number()),labels:i.serialization.record(i.serialization.string(),t.ClassifyResponseClassificationsItemLabelsValue),classificationType:i.serialization.property("classification_type",u.ClassifyResponseClassificationsItemClassificationType)}),iu}var r8;function _ye(){if(r8)return au;r8=1;var e=au&&au.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=au&&au.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=au&&au.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(au,"__esModule",{value:!0}),au.ClassifyResponse=void 0;const i=o(re()),u=wn(),t=UW();return au.ClassifyResponse=i.serialization.object({id:i.serialization.string(),classifications:i.serialization.list(t.ClassifyResponseClassificationsItem),meta:u.ApiMeta.optional()}),au}var uu={},n8;function LW(){if(n8)return uu;n8=1;var e=uu&&uu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=uu&&uu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=uu&&uu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(uu,"__esModule",{value:!0}),uu.CompatibleEndpoint=void 0;const i=o(re());return uu.CompatibleEndpoint=i.serialization.enum_(["chat","embed","classify","summarize","rerank","rate","generate"]),uu}var lu={},cu={},a8;function $W(){if(a8)return cu;a8=1;var e=cu&&cu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=cu&&cu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=cu&&cu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(cu,"__esModule",{value:!0}),cu.ConnectorAuthStatus=void 0;const i=o(re());return cu.ConnectorAuthStatus=i.serialization.enum_(["valid","expired"]),cu}var du={},i8;function FW(){if(i8)return du;i8=1;var e=du&&du.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=du&&du.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=du&&du.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(du,"__esModule",{value:!0}),du.ConnectorOAuth=void 0;const i=o(re());return du.ConnectorOAuth=i.serialization.object({clientId:i.serialization.property("client_id",i.serialization.string().optional()),clientSecret:i.serialization.property("client_secret",i.serialization.string().optional()),authorizeUrl:i.serialization.property("authorize_url",i.serialization.string()),tokenUrl:i.serialization.property("token_url",i.serialization.string()),scope:i.serialization.string().optional()}),du}var o8;function S_(){if(o8)return lu;o8=1;var e=lu&&lu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=lu&&lu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=lu&&lu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(lu,"__esModule",{value:!0}),lu.Connector=void 0;const i=o(re()),u=$W(),t=FW();return lu.Connector=i.serialization.object({id:i.serialization.string(),organizationId:i.serialization.property("organization_id",i.serialization.string().optional()),name:i.serialization.string(),description:i.serialization.string().optional(),url:i.serialization.string().optional(),createdAt:i.serialization.property("created_at",i.serialization.date()),updatedAt:i.serialization.property("updated_at",i.serialization.date()),excludes:i.serialization.list(i.serialization.string()).optional(),authType:i.serialization.property("auth_type",i.serialization.string().optional()),oauth:t.ConnectorOAuth.optional(),authStatus:i.serialization.property("auth_status",u.ConnectorAuthStatus.optional()),active:i.serialization.boolean().optional(),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional())}),lu}var fu={},s8;function yye(){if(s8)return fu;s8=1;var e=fu&&fu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=fu&&fu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=fu&&fu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(fu,"__esModule",{value:!0}),fu.CreateConnectorResponse=void 0;const i=o(re()),u=S_();return fu.CreateConnectorResponse=i.serialization.object({connector:u.Connector}),fu}var hu={},u8;function vye(){if(u8)return hu;u8=1;var e=hu&&hu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=hu&&hu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=hu&&hu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(hu,"__esModule",{value:!0}),hu.CreateEmbedJobResponse=void 0;const i=o(re()),u=wn();return hu.CreateEmbedJobResponse=i.serialization.object({jobId:i.serialization.property("job_id",i.serialization.string()),meta:u.ApiMeta.optional()}),hu}var pu={},l8;function bye(){if(l8)return pu;l8=1;var e=pu&&pu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=pu&&pu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=pu&&pu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(pu,"__esModule",{value:!0}),pu.DeleteConnectorResponse=void 0;const i=o(re());return pu.DeleteConnectorResponse=i.serialization.record(i.serialization.string(),i.serialization.unknown()),pu}var gu={},c8;function wye(){if(c8)return gu;c8=1;var e=gu&&gu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=gu&&gu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=gu&&gu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(gu,"__esModule",{value:!0}),gu.DetokenizeResponse=void 0;const i=o(re()),u=wn();return gu.DetokenizeResponse=i.serialization.object({text:i.serialization.string(),meta:u.ApiMeta.optional()}),gu}var mu={},_u={},d8;function VW(){if(d8)return _u;d8=1;var e=_u&&_u.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=_u&&_u.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=_u&&_u.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(_u,"__esModule",{value:!0}),_u.EmbedByTypeResponseEmbeddings=void 0;const i=o(re());return _u.EmbedByTypeResponseEmbeddings=i.serialization.object({float:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),int8:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),uint8:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),binary:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),ubinary:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),base64:i.serialization.list(i.serialization.string()).optional()}),_u}var yu={},f8;function lx(){if(f8)return yu;f8=1;var e=yu&&yu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=yu&&yu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=yu&&yu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(yu,"__esModule",{value:!0}),yu.Image=void 0;const i=o(re());return yu.Image=i.serialization.object({width:i.serialization.number(),height:i.serialization.number(),format:i.serialization.string(),bitDepth:i.serialization.property("bit_depth",i.serialization.number())}),yu}var h8;function GW(){if(h8)return mu;h8=1;var e=mu&&mu.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=mu&&mu.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=mu&&mu.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(mu,"__esModule",{value:!0}),mu.EmbedByTypeResponse=void 0;const i=o(re()),u=wn(),t=VW(),r=lx();return mu.EmbedByTypeResponse=i.serialization.object({id:i.serialization.string(),embeddings:t.EmbedByTypeResponseEmbeddings,texts:i.serialization.list(i.serialization.string()).optional(),images:i.serialization.list(r.Image).optional(),meta:u.ApiMeta.optional()}),mu}var vu={},p8;function HW(){if(p8)return vu;p8=1;var e=vu&&vu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=vu&&vu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=vu&&vu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(vu,"__esModule",{value:!0}),vu.EmbedFloatsResponse=void 0;const i=o(re()),u=wn(),t=lx();return vu.EmbedFloatsResponse=i.serialization.object({id:i.serialization.string(),embeddings:i.serialization.list(i.serialization.list(i.serialization.number())),texts:i.serialization.list(i.serialization.string()),images:i.serialization.list(t.Image).optional(),meta:u.ApiMeta.optional()}),vu}var bu={},wu={},g8;function KW(){if(g8)return wu;g8=1;var e=wu&&wu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=wu&&wu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=wu&&wu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(wu,"__esModule",{value:!0}),wu.EmbedJobStatus=void 0;const i=o(re());return wu.EmbedJobStatus=i.serialization.enum_(["processing","complete","cancelling","cancelled","failed"]),wu}var Ou={},m8;function kW(){if(m8)return Ou;m8=1;var e=Ou&&Ou.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ou&&Ou.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ou&&Ou.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.EmbedJobTruncate=void 0;const i=o(re());return Ou.EmbedJobTruncate=i.serialization.enum_(["START","END"]),Ou}var _8;function YW(){if(_8)return bu;_8=1;var e=bu&&bu.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=bu&&bu.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=bu&&bu.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(bu,"__esModule",{value:!0}),bu.EmbedJob=void 0;const i=o(re()),u=wn(),t=KW(),r=kW();return bu.EmbedJob=i.serialization.object({jobId:i.serialization.property("job_id",i.serialization.string()),name:i.serialization.string().optional(),status:t.EmbedJobStatus,createdAt:i.serialization.property("created_at",i.serialization.date()),inputDatasetId:i.serialization.property("input_dataset_id",i.serialization.string()),outputDatasetId:i.serialization.property("output_dataset_id",i.serialization.string().optional()),model:i.serialization.string(),truncate:r.EmbedJobTruncate,meta:u.ApiMeta.optional()}),bu}var Su={},y8;function Oye(){if(y8)return Su;y8=1;var e=Su&&Su.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Su&&Su.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Su&&Su.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Su,"__esModule",{value:!0}),Su.EmbedResponse=void 0;const i=o(re()),u=GW(),t=HW();return Su.EmbedResponse=i.serialization.union(i.serialization.discriminant("responseType","response_type"),{embeddings_floats:t.EmbedFloatsResponse,embeddings_by_type:u.EmbedByTypeResponse}).transform({transform:r=>r,untransform:r=>r}),Su}var Eu={},v8;function WW(){if(v8)return Eu;v8=1;var e=Eu&&Eu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Eu&&Eu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Eu&&Eu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.FinetuneDatasetMetrics=void 0;const i=o(re());return Eu.FinetuneDatasetMetrics=i.serialization.object({trainableTokenCount:i.serialization.property("trainable_token_count",i.serialization.number().optional()),totalExamples:i.serialization.property("total_examples",i.serialization.number().optional()),trainExamples:i.serialization.property("train_examples",i.serialization.number().optional()),trainSizeBytes:i.serialization.property("train_size_bytes",i.serialization.number().optional()),evalExamples:i.serialization.property("eval_examples",i.serialization.number().optional()),evalSizeBytes:i.serialization.property("eval_size_bytes",i.serialization.number().optional())}),Eu}var Ru={},ju={},Cu={},b8;function JW(){if(b8)return Cu;b8=1;var e=Cu&&Cu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Cu&&Cu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Cu&&Cu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.SingleGenerationInStream=void 0;const i=o(re()),u=O_();return Cu.SingleGenerationInStream=i.serialization.object({id:i.serialization.string(),text:i.serialization.string(),index:i.serialization.number().optional(),finishReason:i.serialization.property("finish_reason",u.FinishReason)}),Cu}var w8;function ZW(){if(w8)return ju;w8=1;var e=ju&&ju.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ju&&ju.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ju&&ju.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ju,"__esModule",{value:!0}),ju.GenerateStreamEndResponse=void 0;const i=o(re()),u=JW();return ju.GenerateStreamEndResponse=i.serialization.object({id:i.serialization.string(),prompt:i.serialization.string().optional(),generations:i.serialization.list(u.SingleGenerationInStream).optional()}),ju}var Tu={},O8;function d0(){if(O8)return Tu;O8=1;var e=Tu&&Tu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Tu&&Tu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Tu&&Tu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.GenerateStreamEvent=void 0;const i=o(re());return Tu.GenerateStreamEvent=i.serialization.object({}),Tu}var S8;function QW(){if(S8)return Ru;S8=1;var e=Ru&&Ru.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Ru&&Ru.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ru&&Ru.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.GenerateStreamEnd=void 0;const i=o(re()),u=O_(),t=ZW(),r=d0();return Ru.GenerateStreamEnd=i.serialization.object({isFinished:i.serialization.property("is_finished",i.serialization.boolean()),finishReason:i.serialization.property("finish_reason",u.FinishReason.optional()),response:t.GenerateStreamEndResponse}).extend(r.GenerateStreamEvent),Ru}var Mu={},E8;function XW(){if(E8)return Mu;E8=1;var e=Mu&&Mu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Mu&&Mu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Mu&&Mu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.GenerateStreamError=void 0;const i=o(re()),u=O_(),t=d0();return Mu.GenerateStreamError=i.serialization.object({index:i.serialization.number().optional(),isFinished:i.serialization.property("is_finished",i.serialization.boolean()),finishReason:i.serialization.property("finish_reason",u.FinishReason),err:i.serialization.string()}).extend(t.GenerateStreamEvent),Mu}var xu={},Pu={},R8;function eJ(){if(R8)return Pu;R8=1;var e=Pu&&Pu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Pu&&Pu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Pu&&Pu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.GenerateStreamText=void 0;const i=o(re()),u=d0();return Pu.GenerateStreamText=i.serialization.object({text:i.serialization.string(),index:i.serialization.number().optional(),isFinished:i.serialization.property("is_finished",i.serialization.boolean())}).extend(u.GenerateStreamEvent),Pu}var j8;function Sye(){if(j8)return xu;j8=1;var e=xu&&xu.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=xu&&xu.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=xu&&xu.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(xu,"__esModule",{value:!0}),xu.GenerateStreamedResponse=void 0;const i=o(re()),u=QW(),t=XW(),r=eJ();return xu.GenerateStreamedResponse=i.serialization.union(i.serialization.discriminant("eventType","event_type"),{"text-generation":r.GenerateStreamText,"stream-end":u.GenerateStreamEnd,"stream-error":t.GenerateStreamError}).transform({transform:a=>a,untransform:a=>a}),xu}var Au={},Nu={},Du={},C8;function tJ(){if(C8)return Du;C8=1;var e=Du&&Du.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Du&&Du.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Du&&Du.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Du,"__esModule",{value:!0}),Du.SingleGenerationTokenLikelihoodsItem=void 0;const i=o(re());return Du.SingleGenerationTokenLikelihoodsItem=i.serialization.object({token:i.serialization.string(),likelihood:i.serialization.number()}),Du}var T8;function rJ(){if(T8)return Nu;T8=1;var e=Nu&&Nu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Nu&&Nu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Nu&&Nu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.SingleGeneration=void 0;const i=o(re()),u=tJ();return Nu.SingleGeneration=i.serialization.object({id:i.serialization.string(),text:i.serialization.string(),index:i.serialization.number().optional(),likelihood:i.serialization.number().optional(),tokenLikelihoods:i.serialization.property("token_likelihoods",i.serialization.list(u.SingleGenerationTokenLikelihoodsItem).optional())}),Nu}var M8;function Eye(){if(M8)return Au;M8=1;var e=Au&&Au.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Au&&Au.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Au&&Au.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Au,"__esModule",{value:!0}),Au.Generation=void 0;const i=o(re()),u=wn(),t=rJ();return Au.Generation=i.serialization.object({id:i.serialization.string(),prompt:i.serialization.string().optional(),generations:i.serialization.list(t.SingleGeneration),meta:u.ApiMeta.optional()}),Au}var Iu={},x8;function Rye(){if(x8)return Iu;x8=1;var e=Iu&&Iu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Iu&&Iu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Iu&&Iu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.GetConnectorResponse=void 0;const i=o(re()),u=S_();return Iu.GetConnectorResponse=i.serialization.object({connector:u.Connector}),Iu}var zu={},P8;function nJ(){if(P8)return zu;P8=1;var e=zu&&zu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=zu&&zu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=zu&&zu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(zu,"__esModule",{value:!0}),zu.GetModelResponse=void 0;const i=o(re()),u=LW();return zu.GetModelResponse=i.serialization.object({name:i.serialization.string().optional(),isDeprecated:i.serialization.property("is_deprecated",i.serialization.boolean().optional()),endpoints:i.serialization.list(u.CompatibleEndpoint).optional(),finetuned:i.serialization.boolean().optional(),contextLength:i.serialization.property("context_length",i.serialization.number().optional()),tokenizerUrl:i.serialization.property("tokenizer_url",i.serialization.string().optional()),defaultEndpoints:i.serialization.property("default_endpoints",i.serialization.list(u.CompatibleEndpoint).optional()),features:i.serialization.list(i.serialization.string()).optional()}),zu}var qu={},A8;function jye(){if(A8)return qu;A8=1;var e=qu&&qu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=qu&&qu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=qu&&qu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(qu,"__esModule",{value:!0}),qu.ListConnectorsResponse=void 0;const i=o(re()),u=S_();return qu.ListConnectorsResponse=i.serialization.object({connectors:i.serialization.list(u.Connector),totalCount:i.serialization.property("total_count",i.serialization.number().optional())}),qu}var Bu={},N8;function Cye(){if(N8)return Bu;N8=1;var e=Bu&&Bu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Bu&&Bu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Bu&&Bu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.ListEmbedJobResponse=void 0;const i=o(re()),u=YW();return Bu.ListEmbedJobResponse=i.serialization.object({embedJobs:i.serialization.property("embed_jobs",i.serialization.list(u.EmbedJob).optional())}),Bu}var Uu={},D8;function Tye(){if(D8)return Uu;D8=1;var e=Uu&&Uu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Uu&&Uu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Uu&&Uu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.ListModelsResponse=void 0;const i=o(re()),u=nJ();return Uu.ListModelsResponse=i.serialization.object({models:i.serialization.list(u.GetModelResponse),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional())}),Uu}var Lu={},I8;function Mye(){if(I8)return Lu;I8=1;var e=Lu&&Lu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Lu&&Lu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Lu&&Lu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.Metrics=void 0;const i=o(re()),u=WW();return Lu.Metrics=i.serialization.object({finetuneDatasetMetrics:i.serialization.property("finetune_dataset_metrics",u.FinetuneDatasetMetrics.optional())}),Lu}var $u={},z8;function xye(){if(z8)return $u;z8=1;var e=$u&&$u.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=$u&&$u.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=$u&&$u.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($u,"__esModule",{value:!0}),$u.OAuthAuthorizeResponse=void 0;const i=o(re());return $u.OAuthAuthorizeResponse=i.serialization.object({redirectUrl:i.serialization.property("redirect_url",i.serialization.string().optional())}),$u}var Fu={},q8;function Pye(){if(q8)return Fu;q8=1;var e=Fu&&Fu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Fu&&Fu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Fu&&Fu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.ParseInfo=void 0;const i=o(re());return Fu.ParseInfo=i.serialization.object({separator:i.serialization.string().optional(),delimiter:i.serialization.string().optional()}),Fu}var Vu={},B8;function Aye(){if(B8)return Vu;B8=1;var e=Vu&&Vu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Vu&&Vu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Vu&&Vu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.RerankerDataMetrics=void 0;const i=o(re());return Vu.RerankerDataMetrics=i.serialization.object({numTrainQueries:i.serialization.property("num_train_queries",i.serialization.number().optional()),numTrainRelevantPassages:i.serialization.property("num_train_relevant_passages",i.serialization.number().optional()),numTrainHardNegatives:i.serialization.property("num_train_hard_negatives",i.serialization.number().optional()),numEvalQueries:i.serialization.property("num_eval_queries",i.serialization.number().optional()),numEvalRelevantPassages:i.serialization.property("num_eval_relevant_passages",i.serialization.number().optional()),numEvalHardNegatives:i.serialization.property("num_eval_hard_negatives",i.serialization.number().optional())}),Vu}var Gu={},Hu={},Ku={},U8;function aJ(){if(U8)return Ku;U8=1;var e=Ku&&Ku.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ku&&Ku.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ku&&Ku.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.RerankResponseResultsItemDocument=void 0;const i=o(re());return Ku.RerankResponseResultsItemDocument=i.serialization.object({text:i.serialization.string()}),Ku}var L8;function iJ(){if(L8)return Hu;L8=1;var e=Hu&&Hu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Hu&&Hu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Hu&&Hu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.RerankResponseResultsItem=void 0;const i=o(re()),u=aJ();return Hu.RerankResponseResultsItem=i.serialization.object({document:u.RerankResponseResultsItemDocument.optional(),index:i.serialization.number(),relevanceScore:i.serialization.property("relevance_score",i.serialization.number())}),Hu}var $8;function Nye(){if($8)return Gu;$8=1;var e=Gu&&Gu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Gu&&Gu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Gu&&Gu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.RerankResponse=void 0;const i=o(re()),u=wn(),t=iJ();return Gu.RerankResponse=i.serialization.object({id:i.serialization.string().optional(),results:i.serialization.list(t.RerankResponseResultsItem),meta:u.ApiMeta.optional()}),Gu}var ku={},F8;function Dye(){if(F8)return ku;F8=1;var e=ku&&ku.__createBinding||(Object.create?(function(_,p,y,v){v===void 0&&(v=y);var S=Object.getOwnPropertyDescriptor(p,y);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(_,v,S)}):(function(_,p,y,v){v===void 0&&(v=y),_[v]=p[y]})),n=ku&&ku.__setModuleDefault||(Object.create?(function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}):function(_,p){_.default=p}),o=ku&&ku.__importStar||(function(){var _=function(p){return _=Object.getOwnPropertyNames||function(y){var v=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[v.length]=S);return v},_(p)};return function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var v=_(p),S=0;S<v.length;S++)v[S]!=="default"&&e(y,p,v[S]);return n(y,p),y}})();Object.defineProperty(ku,"__esModule",{value:!0}),ku.StreamedChatResponse=void 0;const i=o(re()),u=EW(),t=ox(),r=RW(),a=CW(),s=xW(),l=PW(),f=AW(),m=DW(),b=IW();return ku.StreamedChatResponse=i.serialization.union(i.serialization.discriminant("eventType","event_type"),{"stream-start":l.ChatStreamStartEvent,"search-queries-generation":r.ChatSearchQueriesGenerationEvent,"search-results":a.ChatSearchResultsEvent,"text-generation":f.ChatTextGenerationEvent,"citation-generation":u.ChatCitationGenerationEvent,"tool-calls-generation":b.ChatToolCallsGenerationEvent,"stream-end":s.ChatStreamEndEvent,"tool-calls-chunk":m.ChatToolCallsChunkEvent,debug:t.ChatDebugEvent}).transform({transform:_=>_,untransform:_=>_}),ku}var Yu={},V8;function Iye(){if(V8)return Yu;V8=1;var e=Yu&&Yu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Yu&&Yu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Yu&&Yu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.SummarizeResponse=void 0;const i=o(re()),u=wn();return Yu.SummarizeResponse=i.serialization.object({id:i.serialization.string().optional(),summary:i.serialization.string().optional(),meta:u.ApiMeta.optional()}),Yu}var Wu={},G8;function zye(){if(G8)return Wu;G8=1;var e=Wu&&Wu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Wu&&Wu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Wu&&Wu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.TokenizeResponse=void 0;const i=o(re()),u=wn();return Wu.TokenizeResponse=i.serialization.object({tokens:i.serialization.list(i.serialization.number()),tokenStrings:i.serialization.property("token_strings",i.serialization.list(i.serialization.string())),meta:u.ApiMeta.optional()}),Wu}var Ju={},H8;function qye(){if(H8)return Ju;H8=1;var e=Ju&&Ju.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ju&&Ju.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ju&&Ju.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.UpdateConnectorResponse=void 0;const i=o(re()),u=S_();return Ju.UpdateConnectorResponse=i.serialization.object({connector:u.Connector}),Ju}var K8;function Bye(){return K8||(K8=1,(function(e){var n=jf&&jf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=jf&&jf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(wn(),e),o(yW(),e),o(vW(),e),o(bW(),e),o(aY(),e),o(BY(),e),o(qY(),e),o(Qk(),e),o(Zk(),e),o(Ak(),e),o(sx(),e),o(EW(),e),o(SW(),e),o(GM(),e),o(GY(),e),o(VY(),e),o(FY(),e),o($Y(),e),o(HY(),e),o(JY(),e),o(WY(),e),o(YY(),e),o(kY(),e),o(KY(),e),o(pye(),e),o(ox(),e),o(v_(),e),o(eY(),e),o(nx(),e),o(ck(),e),o(QY(),e),o(ZY(),e),o(tW(),e),o(eW(),e),o(XY(),e),o(QM(),e),o(yY(),e),o(sk(),e),o(uk(),e),o(lk(),e),o(RW(),e),o(c0(),e),o(ux(),e),o(jW(),e),o(CW(),e),o(xW(),e),o(TW(),e),o(Sl(),e),o(Un(),e),o(gk(),e),o(mk(),e),o(_k(),e),o(PW(),e),o(fp(),e),o(AW(),e),o(fk(),e),o(bY(),e),o(ZM(),e),o(oW(),e),o(iW(),e),o(aW(),e),o(nW(),e),o(rW(),e),o(sW(),e),o(cW(),e),o(lW(),e),o(uW(),e),o(DW(),e),o(IW(),e),o(dk(),e),o(hW(),e),o(fW(),e),o(dW(),e),o(tY(),e),o(gye(),e),o(s0(),e),o(pW(),e),o(XM(),e),o(vY(),e),o(_W(),e),o(mW(),e),o(gW(),e),o(Xk(),e),o(mye(),e),o(yk(),e),o(vk(),e),o(_ye(),e),o(UW(),e),o(qW(),e),o(BW(),e),o(LW(),e),o(S_(),e),o($W(),e),o(FW(),e),o(gY(),e),o(kM(),e),o(yye(),e),o(YM(),e),o(vye(),e),o(WM(),e),o(Dk(),e),o(Ik(),e),o(zk(),e),o(bye(),e),o(wye(),e),o(l0(),e),o(uY(),e),o(GW(),e),o(VW(),e),o(NY(),e),o(n0(),e),o(HW(),e),o(PY(),e),o(xY(),e),o(DY(),e),o(a0(),e),o(YW(),e),o(KW(),e),o(kW(),e),o(bk(),e),o(Oye(),e),o(AY(),e),o(WW(),e),o(O_(),e),o(wk(),e),o(Ok(),e),o(QW(),e),o(ZW(),e),o(XW(),e),o(d0(),e),o(Sye(),e),o(Sk(),e),o(Ek(),e),o(eJ(),e),o(Eye(),e),o(Rye(),e),o(nJ(),e),o(lx(),e),o(pY(),e),o(hY(),e),o(fY(),e),o(hk(),e),o(wY(),e),o(zW(),e),o(jye(),e),o(Cye(),e),o(Tye(),e),o(ax(),e),o(r0(),e),o(Mye(),e),o(MW(),e),o(xye(),e),o(Pye(),e),o(Rk(),e),o(Aye(),e),o(jk(),e),o(Nye(),e),o(iJ(),e),o(aJ(),e),o(HM(),e),o(ex(),e),o(rJ(),e),o(JW(),e),o(tJ(),e),o(rY(),e),o(Dye(),e),o(Ck(),e),o(Tk(),e),o(Mk(),e),o(Iye(),e),o(sY(),e),o(oY(),e),o(iY(),e),o(tx(),e),o(OY(),e),o(zye(),e),o(KM(),e),o(b_(),e),o(NW(),e),o(u0(),e),o(nY(),e),o(lY(),e),o(dY(),e),o(cY(),e),o(pk(),e),o(t0(),e),o(rx(),e),o(SY(),e),o(qye(),e),o(ix(),e),o(UY(),e),o(LY(),e),o(_Y(),e),o(mY(),e)})(jf)),jf}var k8;function uc(){return k8||(k8=1,(function(e){var n=uf&&uf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=uf&&uf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(j_e(),e),o(hye(),e),o(Bye(),e)})(uf)),uf}var Y8;function oJ(){return Y8||(Y8=1,(function(e){var n={},o=nn&&nn.__createBinding||(Object.create?(function(L,q,z,w){w===void 0&&(w=z);var V=Object.getOwnPropertyDescriptor(q,z);(!V||("get"in V?!q.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return q[z]}}),Object.defineProperty(L,w,V)}):(function(L,q,z,w){w===void 0&&(w=z),L[w]=q[z]})),i=nn&&nn.__setModuleDefault||(Object.create?(function(L,q){Object.defineProperty(L,"default",{enumerable:!0,value:q})}):function(L,q){L.default=q}),u=nn&&nn.__importStar||(function(){var L=function(q){return L=Object.getOwnPropertyNames||function(z){var w=[];for(var V in z)Object.prototype.hasOwnProperty.call(z,V)&&(w[w.length]=V);return w},L(q)};return function(q){if(q&&q.__esModule)return q;var z={};if(q!=null)for(var w=L(q),V=0;V<w.length;V++)w[V]!=="default"&&o(z,q,w[V]);return i(z,q),z}})(),t=nn&&nn.__awaiter||function(L,q,z,w){function V(k){return k instanceof z?k:new z(function(Y){Y(k)})}return new(z||(z=Promise))(function(k,Y){function U(ee){try{Z(w.next(ee))}catch(N){Y(N)}}function H(ee){try{Z(w.throw(ee))}catch(N){Y(N)}}function Z(ee){ee.done?k(ee.value):V(ee.value).then(U,H)}Z((w=w.apply(L,q||[])).next())})},r=nn&&nn.__asyncValues||function(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=L[Symbol.asyncIterator],z;return q?q.call(L):(L=typeof __values=="function"?__values(L):L[Symbol.iterator](),z={},w("next"),w("throw"),w("return"),z[Symbol.asyncIterator]=function(){return this},z);function w(k){z[k]=L[k]&&function(Y){return new Promise(function(U,H){Y=L[k](Y),V(U,H,Y.done,Y.value)})}}function V(k,Y,U,H){Promise.resolve(H).then(function(Z){k({value:Z,done:U})},Y)}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchOverride=e.parseAWSEvent=e.getAuthHeaders=e.getUrl=e.mapResponseFromBedrock=void 0;const a=upe,s=Rge,l=Dge,f=Wge,m=Qv(),b=re(),_=ok(),p=p_e(),y=u(uc()),v=(L,q)=>t(void 0,void 0,void 0,function*(){const z=Object.assign({},n);try{return L(),yield q()}finally{n=z}}),S={1:{chat:y.StreamedChatResponse,generate:y.GenerateStreamedResponse},2:{chat:y.V2ChatStreamResponse,generate:y.GenerateStreamedResponse}},R={1:{chat:y.NonStreamedChatResponse,embed:y.EmbedResponse,generate:y.Generation,rerank:y.RerankResponse},2:{chat:y.V2ChatResponse,embed:y.EmbedByTypeResponse,generate:y.Generation,rerank:y.V2RerankResponse}},j=(L,q,z,w)=>t(void 0,void 0,void 0,function*(){const V=L?S[z][q]:R[z][q],k={unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]},Y=yield V.parseOrThrow(w,k);return V.jsonOrThrow(Y,k)});e.mapResponseFromBedrock=j;const P=(L,q,z,w)=>{const V={bedrock:w?"invoke-with-response-stream":"invoke",sagemaker:w?"invocations-response-stream":"invocations"}[L];return{bedrock:`https://${L}-runtime.${q}.amazonaws.com/model/${z}/${V}`,sagemaker:`https://runtime.sagemaker.${q}.amazonaws.com/endpoints/${z}/${V}`}[L]};e.getUrl=P;const T=(L,q,z,w,V,k)=>t(void 0,void 0,void 0,function*(){const Y=(0,s.fromNodeProviderChain)(),U=yield v(()=>{k.awsAccessKey&&(n.AWS_ACCESS_KEY_ID=k.awsAccessKey),k.awsSecretKey&&(n.AWS_SECRET_ACCESS_KEY=k.awsSecretKey),k.awsSessionToken&&(n.AWS_SESSION_TOKEN=k.awsSessionToken)},()=>Y()),H=new f.SignatureV4({service:V,region:k.awsRegion,credentials:U,sha256:a.Sha256});delete z.connection,z.host=L.hostname;const Z=new l.HttpRequest({method:q.toUpperCase(),protocol:L.protocol,path:L.pathname,headers:z,body:w});return(yield H.sign(Z)).headers});e.getAuthHeaders=T;const C=L=>{const q=/{[^\}]*}/,z=L.match(q);if(z?.[0]){const w=JSON.parse(z[0]);if(w.bytes){const V=Buffer.from(w.bytes,"base64").toString("utf-8"),k=JSON.parse(V);if(k.event_type)return k}}};e.parseAWSEvent=C;const D=L=>({v1:1,v2:2})[L]||1,M=(L,{awsRegion:q,awsAccessKey:z,awsSecretKey:w,awsSessionToken:V})=>k=>t(void 0,void 0,void 0,function*(){var Y,U,H,Z;const ee=k.url.split("/"),N=ee.pop(),G=D(ee.pop()),J=k.body;console.assert(J.model,"model is required");const oe=!!J.stream,me=(0,e.getUrl)(L,q,J.model,oe);N==="rerank"&&(J.api_version=G),delete J.stream,delete J.model,delete k.headers.Authorization,k.headers.Host=new URL(me).hostname;const Ee=yield(0,e.getAuthHeaders)(new URL(me),k.method,k.headers,JSON.stringify(J),L,{awsRegion:q,awsAccessKey:z,awsSecretKey:w,awsSessionToken:V});k.url=me,k.headers=Ee;const K=yield(0,b.fetcher)(k);if(!K.ok)return K;try{if(oe){const ue=(0,_.readableStreamAsyncIterable)(K.body),ye=new p.LineDecoder,Re=new m.PassThrough;try{for(var $=!0,ne=r(ue),Q;Q=yield ne.next(),Y=Q.done,!Y;$=!0){Z=Q.value,$=!1;const ae=Z;for(const le of ye.decode(ae)){const be=(0,e.parseAWSEvent)(le);if(be){const xe=yield(0,e.mapResponseFromBedrock)(oe,N,G,be);Re.push(JSON.stringify(xe)+`
`)}}}}catch(ae){U={error:ae}}finally{try{!$&&!Y&&(H=ne.return)&&(yield H.call(ne))}finally{if(U)throw U.error}}for(const ae of ye.flush()){const le=(0,e.parseAWSEvent)(ae);if(le){const be=yield(0,e.mapResponseFromBedrock)(oe,N,G,le);Re.push(JSON.stringify(be)+`
`)}}return Re.end(),{ok:!0,body:Re,rawResponse:K.rawResponse}}else{const ue=yield K.body;return{ok:!0,body:yield(0,e.mapResponseFromBedrock)(oe,N,G,ue),rawResponse:K.rawResponse}}}catch(ue){throw ue}});e.fetchOverride=M})(nn)),nn}var Cf={},xr={},on={},vm={},W8;function od(){if(W8)return vm;W8=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.mergeHeaders=e,vm.mergeOnlyDefinedHeaders=n;function e(...o){const i={};for(const[u,t]of o.filter(r=>r!=null).flatMap(r=>Object.entries(r))){const r=u.toLowerCase();t!=null?i[r]=t:r in i&&delete i[r]}return i}function n(...o){const i={};for(const[u,t]of o.filter(r=>r!=null).flatMap(r=>Object.entries(r))){const r=u.toLowerCase();t!=null&&(i[r]=t)}return i}return vm}var bm={},J8;function lc(){return J8||(J8=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.CohereEnvironment=void 0,bm.CohereEnvironment={Production:"https://api.cohere.com"}),bm}var Z8;function Uye(){if(Z8)return on;Z8=1;var e={},n=on&&on.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=on&&on.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=on&&on.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=on&&on.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(C){try{T(y.next(C))}catch(D){R(D)}}function P(C){try{T(y.throw(C))}catch(D){R(D)}}function T(C){C.done?S(C.value):v(C.value).then(j,P)}T((y=y.apply(b,_||[])).next())})};Object.defineProperty(on,"__esModule",{value:!0}),on.Batches=void 0;const t=i(re()),r=od(),a=i(lc()),s=i(Yt()),l=i(uc()),f=i(ac());class m{constructor(_={}){this._options=_}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,P,T,C,D,M,L,q;const{pageSize:z,pageToken:w,orderBy:V}=_,k={};z!=null&&(k.page_size=z.toString()),w!=null&&(k.page_token=w),V!=null&&(k.order_by=V);const Y=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),U=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v2/batches"),method:"GET",headers:Y,queryParameters:Object.assign(Object.assign({},k),p?.queryParams),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(U.ok)return{data:l.ListBatchesResponse.parseOrThrow(U.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:U.rawResponse};if(U.error.reason==="status-code")switch(U.error.statusCode){case 400:throw new f.BadRequestError(U.error.body,U.rawResponse);case 401:throw new f.UnauthorizedError(U.error.body,U.rawResponse);case 403:throw new f.ForbiddenError(U.error.body,U.rawResponse);case 404:throw new f.NotFoundError(U.error.body,U.rawResponse);case 500:throw new f.InternalServerError(U.error.body,U.rawResponse);case 503:throw new f.ServiceUnavailableError(U.error.body,U.rawResponse);default:throw new s.CohereError({statusCode:U.error.statusCode,body:U.error.body,rawResponse:U.rawResponse})}switch(U.error.reason){case"non-json":throw new s.CohereError({statusCode:U.error.statusCode,body:U.error.rawBody,rawResponse:U.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v2/batches.");case"unknown":throw new s.CohereError({message:U.error.errorMessage,rawResponse:U.rawResponse})}})}create(_,p){return t.HttpResponsePromise.fromPromise(this.__create(_,p))}__create(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v2/batches"),method:"POST",headers:z,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.Batch.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.CreateBatchResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/batches.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}retrieve(_,p){return t.HttpResponsePromise.fromPromise(this.__retrieve(_,p))}__retrieve(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v2/batches/${t.url.encodePathParam(_)}`),method:"GET",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.GetBatchResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v2/batches/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}cancel(_,p){return t.HttpResponsePromise.fromPromise(this.__cancel(_,p))}__cancel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v2/batches/${t.url.encodePathParam(_)}:cancel`),method:"POST",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.CancelBatchResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/batches/{id}/:cancel.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return on.Batches=m,on}var sn={},Q8;function Lye(){if(Q8)return sn;Q8=1;var e={},n=sn&&sn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=sn&&sn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=sn&&sn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=sn&&sn.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(C){try{T(y.next(C))}catch(D){R(D)}}function P(C){try{T(y.throw(C))}catch(D){R(D)}}function T(C){C.done?S(C.value):v(C.value).then(j,P)}T((y=y.apply(b,_||[])).next())})};Object.defineProperty(sn,"__esModule",{value:!0}),sn.Connectors=void 0;const t=i(re()),r=od(),a=i(lc()),s=i(Yt()),l=i(uc()),f=i(ac());class m{constructor(_={}){this._options=_}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,P,T,C,D,M,L,q;const{limit:z,offset:w}=_,V={};z!=null&&(V.limit=z.toString()),w!=null&&(V.offset=w.toString());const k=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),Y=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v1/connectors"),method:"GET",headers:k,queryParameters:Object.assign(Object.assign({},V),p?.queryParams),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(Y.ok)return{data:l.ListConnectorsResponse.parseOrThrow(Y.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:Y.rawResponse};if(Y.error.reason==="status-code")switch(Y.error.statusCode){case 400:throw new f.BadRequestError(Y.error.body,Y.rawResponse);case 401:throw new f.UnauthorizedError(Y.error.body,Y.rawResponse);case 403:throw new f.ForbiddenError(Y.error.body,Y.rawResponse);case 404:throw new f.NotFoundError(Y.error.body,Y.rawResponse);case 422:throw new f.UnprocessableEntityError(Y.error.body,Y.rawResponse);case 429:throw new f.TooManyRequestsError(Y.error.body,Y.rawResponse);case 498:throw new f.InvalidTokenError(Y.error.body,Y.rawResponse);case 499:throw new f.ClientClosedRequestError(Y.error.body,Y.rawResponse);case 500:throw new f.InternalServerError(Y.error.body,Y.rawResponse);case 501:throw new f.NotImplementedError(Y.error.body,Y.rawResponse);case 503:throw new f.ServiceUnavailableError(Y.error.body,Y.rawResponse);case 504:throw new f.GatewayTimeoutError(Y.error.body,Y.rawResponse);default:throw new s.CohereError({statusCode:Y.error.statusCode,body:Y.error.body,rawResponse:Y.rawResponse})}switch(Y.error.reason){case"non-json":throw new s.CohereError({statusCode:Y.error.statusCode,body:Y.error.rawBody,rawResponse:Y.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/connectors.");case"unknown":throw new s.CohereError({message:Y.error.errorMessage,rawResponse:Y.rawResponse})}})}create(_,p){return t.HttpResponsePromise.fromPromise(this.__create(_,p))}__create(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v1/connectors"),method:"POST",headers:z,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.CreateConnectorRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.CreateConnectorResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/connectors.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(_)}`),method:"GET",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.GetConnectorResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/connectors/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}delete(_,p){return t.HttpResponsePromise.fromPromise(this.__delete(_,p))}__delete(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(_)}`),method:"DELETE",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.DeleteConnectorResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling DELETE /v1/connectors/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}update(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__update(_,p,y))}__update(_){return u(this,arguments,void 0,function*(p,y={},v){var S,R,j,P,T,C,D,M,L,q,z,w;const V=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName}),v?.headers),k=yield((P=this._options.fetcher)!==null&&P!==void 0?P:t.fetcher)({url:t.url.join((C=(T=yield t.Supplier.get(this._options.baseUrl))!==null&&T!==void 0?T:yield t.Supplier.get(this._options.environment))!==null&&C!==void 0?C:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(p)}`),method:"PATCH",headers:V,contentType:"application/json",queryParameters:v?.queryParams,requestType:"json",body:l.UpdateConnectorRequest.jsonOrThrow(y,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((L=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&L!==void 0?L:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(z=this._options)===null||z===void 0?void 0:z.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if(k.ok)return{data:l.UpdateConnectorResponse.parseOrThrow(k.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:k.rawResponse};if(k.error.reason==="status-code")switch(k.error.statusCode){case 400:throw new f.BadRequestError(k.error.body,k.rawResponse);case 401:throw new f.UnauthorizedError(k.error.body,k.rawResponse);case 403:throw new f.ForbiddenError(k.error.body,k.rawResponse);case 404:throw new f.NotFoundError(k.error.body,k.rawResponse);case 422:throw new f.UnprocessableEntityError(k.error.body,k.rawResponse);case 429:throw new f.TooManyRequestsError(k.error.body,k.rawResponse);case 498:throw new f.InvalidTokenError(k.error.body,k.rawResponse);case 499:throw new f.ClientClosedRequestError(k.error.body,k.rawResponse);case 500:throw new f.InternalServerError(k.error.body,k.rawResponse);case 501:throw new f.NotImplementedError(k.error.body,k.rawResponse);case 503:throw new f.ServiceUnavailableError(k.error.body,k.rawResponse);case 504:throw new f.GatewayTimeoutError(k.error.body,k.rawResponse);default:throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.body,rawResponse:k.rawResponse})}switch(k.error.reason){case"non-json":throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.rawBody,rawResponse:k.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling PATCH /v1/connectors/{id}.");case"unknown":throw new s.CohereError({message:k.error.errorMessage,rawResponse:k.rawResponse})}})}oAuthAuthorize(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__oAuthAuthorize(_,p,y))}__oAuthAuthorize(_){return u(this,arguments,void 0,function*(p,y={},v){var S,R,j,P,T,C,D,M,L,q,z,w;const{afterTokenRedirect:V}=y,k={};V!=null&&(k.after_token_redirect=V);const Y=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName}),v?.headers),U=yield((P=this._options.fetcher)!==null&&P!==void 0?P:t.fetcher)({url:t.url.join((C=(T=yield t.Supplier.get(this._options.baseUrl))!==null&&T!==void 0?T:yield t.Supplier.get(this._options.environment))!==null&&C!==void 0?C:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(p)}/oauth/authorize`),method:"POST",headers:Y,queryParameters:Object.assign(Object.assign({},k),v?.queryParams),timeoutMs:((L=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&L!==void 0?L:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(z=this._options)===null||z===void 0?void 0:z.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if(U.ok)return{data:l.OAuthAuthorizeResponse.parseOrThrow(U.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:U.rawResponse};if(U.error.reason==="status-code")switch(U.error.statusCode){case 400:throw new f.BadRequestError(U.error.body,U.rawResponse);case 401:throw new f.UnauthorizedError(U.error.body,U.rawResponse);case 403:throw new f.ForbiddenError(U.error.body,U.rawResponse);case 404:throw new f.NotFoundError(U.error.body,U.rawResponse);case 422:throw new f.UnprocessableEntityError(U.error.body,U.rawResponse);case 429:throw new f.TooManyRequestsError(U.error.body,U.rawResponse);case 498:throw new f.InvalidTokenError(U.error.body,U.rawResponse);case 499:throw new f.ClientClosedRequestError(U.error.body,U.rawResponse);case 500:throw new f.InternalServerError(U.error.body,U.rawResponse);case 501:throw new f.NotImplementedError(U.error.body,U.rawResponse);case 503:throw new f.ServiceUnavailableError(U.error.body,U.rawResponse);case 504:throw new f.GatewayTimeoutError(U.error.body,U.rawResponse);default:throw new s.CohereError({statusCode:U.error.statusCode,body:U.error.body,rawResponse:U.rawResponse})}switch(U.error.reason){case"non-json":throw new s.CohereError({statusCode:U.error.statusCode,body:U.error.rawBody,rawResponse:U.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/connectors/{id}/oauth/authorize.");case"unknown":throw new s.CohereError({message:U.error.errorMessage,rawResponse:U.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return sn.Connectors=m,sn}var un={},X8;function $ye(){if(X8)return un;X8=1;var e={},n=un&&un.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=un&&un.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=un&&un.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=un&&un.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(C){try{T(y.next(C))}catch(D){R(D)}}function P(C){try{T(y.throw(C))}catch(D){R(D)}}function T(C){C.done?S(C.value):v(C.value).then(j,P)}T((y=y.apply(b,_||[])).next())})};Object.defineProperty(un,"__esModule",{value:!0}),un.Datasets=void 0;const t=i(re()),r=od(),a=i(lc()),s=i(Yt()),l=i(uc()),f=i(ac());class m{constructor(_={}){this._options=_}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,P,T,C,D,M,L,q;const{datasetType:z,before:w,after:V,limit:k,offset:Y,validationStatus:U}=_,H={};z!=null&&(H.datasetType=z),w!=null&&(H.before=w.toISOString()),V!=null&&(H.after=V.toISOString()),k!=null&&(H.limit=k.toString()),Y!=null&&(H.offset=Y.toString()),U!=null&&(H.validationStatus=l.DatasetValidationStatus.jsonOrThrow(U,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}));const Z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),ee=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v1/datasets"),method:"GET",headers:Z,queryParameters:Object.assign(Object.assign({},H),p?.queryParams),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(ee.ok)return{data:l.DatasetsListResponse.parseOrThrow(ee.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:ee.rawResponse};if(ee.error.reason==="status-code")switch(ee.error.statusCode){case 400:throw new f.BadRequestError(ee.error.body,ee.rawResponse);case 401:throw new f.UnauthorizedError(ee.error.body,ee.rawResponse);case 403:throw new f.ForbiddenError(ee.error.body,ee.rawResponse);case 404:throw new f.NotFoundError(ee.error.body,ee.rawResponse);case 422:throw new f.UnprocessableEntityError(ee.error.body,ee.rawResponse);case 429:throw new f.TooManyRequestsError(ee.error.body,ee.rawResponse);case 498:throw new f.InvalidTokenError(ee.error.body,ee.rawResponse);case 499:throw new f.ClientClosedRequestError(ee.error.body,ee.rawResponse);case 500:throw new f.InternalServerError(ee.error.body,ee.rawResponse);case 501:throw new f.NotImplementedError(ee.error.body,ee.rawResponse);case 503:throw new f.ServiceUnavailableError(ee.error.body,ee.rawResponse);case 504:throw new f.GatewayTimeoutError(ee.error.body,ee.rawResponse);default:throw new s.CohereError({statusCode:ee.error.statusCode,body:ee.error.body,rawResponse:ee.rawResponse})}switch(ee.error.reason){case"non-json":throw new s.CohereError({statusCode:ee.error.statusCode,body:ee.error.rawBody,rawResponse:ee.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/datasets.");case"unknown":throw new s.CohereError({message:ee.error.errorMessage,rawResponse:ee.rawResponse})}})}create(_,p,y,v){return t.HttpResponsePromise.fromPromise(this.__create(_,p,y,v))}__create(_,p,y,v){return u(this,void 0,void 0,function*(){var S,R,j,P,T,C,D,M,L,q,z,w;const V={};V.name=y.name,V.type=l.DatasetType.jsonOrThrow(y.type,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),y.keepOriginalFile!=null&&(V.keep_original_file=y.keepOriginalFile.toString()),y.skipMalformedInput!=null&&(V.skip_malformed_input=y.skipMalformedInput.toString()),y.keepFields!=null&&(Array.isArray(y.keepFields)?V.keep_fields=y.keepFields.map(Z=>Z):V.keep_fields=y.keepFields),y.optionalFields!=null&&(Array.isArray(y.optionalFields)?V.optional_fields=y.optionalFields.map(Z=>Z):V.optional_fields=y.optionalFields),y.textSeparator!=null&&(V.text_separator=y.textSeparator),y.csvDelimiter!=null&&(V.csv_delimiter=y.csvDelimiter);const k=yield t.newFormData();yield k.appendFile("data",_),p!=null&&(yield k.appendFile("eval_data",p));const Y=yield k.getRequest(),U=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)(Object.assign({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName},Y.headers)),v?.headers),H=yield((P=this._options.fetcher)!==null&&P!==void 0?P:t.fetcher)({url:t.url.join((C=(T=yield t.Supplier.get(this._options.baseUrl))!==null&&T!==void 0?T:yield t.Supplier.get(this._options.environment))!==null&&C!==void 0?C:a.CohereEnvironment.Production,"v1/datasets"),method:"POST",headers:U,queryParameters:Object.assign(Object.assign({},V),v?.queryParams),requestType:"file",duplex:Y.duplex,body:Y.body,timeoutMs:((L=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&L!==void 0?L:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(z=this._options)===null||z===void 0?void 0:z.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if(H.ok)return{data:l.DatasetsCreateResponse.parseOrThrow(H.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:H.rawResponse};if(H.error.reason==="status-code")switch(H.error.statusCode){case 400:throw new f.BadRequestError(H.error.body,H.rawResponse);case 401:throw new f.UnauthorizedError(H.error.body,H.rawResponse);case 403:throw new f.ForbiddenError(H.error.body,H.rawResponse);case 404:throw new f.NotFoundError(H.error.body,H.rawResponse);case 422:throw new f.UnprocessableEntityError(H.error.body,H.rawResponse);case 429:throw new f.TooManyRequestsError(H.error.body,H.rawResponse);case 498:throw new f.InvalidTokenError(H.error.body,H.rawResponse);case 499:throw new f.ClientClosedRequestError(H.error.body,H.rawResponse);case 500:throw new f.InternalServerError(H.error.body,H.rawResponse);case 501:throw new f.NotImplementedError(H.error.body,H.rawResponse);case 503:throw new f.ServiceUnavailableError(H.error.body,H.rawResponse);case 504:throw new f.GatewayTimeoutError(H.error.body,H.rawResponse);default:throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.body,rawResponse:H.rawResponse})}switch(H.error.reason){case"non-json":throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.rawBody,rawResponse:H.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/datasets.");case"unknown":throw new s.CohereError({message:H.error.errorMessage,rawResponse:H.rawResponse})}})}getUsage(_){return t.HttpResponsePromise.fromPromise(this.__getUsage(_))}__getUsage(_){return u(this,void 0,void 0,function*(){var p,y,v,S,R,j,P,T,C,D,M,L;const q=(0,r.mergeHeaders)((p=this._options)===null||p===void 0?void 0:p.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(y=_?.clientName)!==null&&y!==void 0?y:(v=this._options)===null||v===void 0?void 0:v.clientName}),_?.headers),z=yield((S=this._options.fetcher)!==null&&S!==void 0?S:t.fetcher)({url:t.url.join((j=(R=yield t.Supplier.get(this._options.baseUrl))!==null&&R!==void 0?R:yield t.Supplier.get(this._options.environment))!==null&&j!==void 0?j:a.CohereEnvironment.Production,"v1/datasets/usage"),method:"GET",headers:q,queryParameters:_?.queryParams,timeoutMs:((C=(P=_?.timeoutInSeconds)!==null&&P!==void 0?P:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&C!==void 0?C:300)*1e3,maxRetries:(D=_?.maxRetries)!==null&&D!==void 0?D:(M=this._options)===null||M===void 0?void 0:M.maxRetries,abortSignal:_?.abortSignal,fetchFn:(L=this._options)===null||L===void 0?void 0:L.fetch,logging:this._options.logging});if(z.ok)return{data:l.DatasetsGetUsageResponse.parseOrThrow(z.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:z.rawResponse};if(z.error.reason==="status-code")switch(z.error.statusCode){case 400:throw new f.BadRequestError(z.error.body,z.rawResponse);case 401:throw new f.UnauthorizedError(z.error.body,z.rawResponse);case 403:throw new f.ForbiddenError(z.error.body,z.rawResponse);case 404:throw new f.NotFoundError(z.error.body,z.rawResponse);case 422:throw new f.UnprocessableEntityError(z.error.body,z.rawResponse);case 429:throw new f.TooManyRequestsError(z.error.body,z.rawResponse);case 498:throw new f.InvalidTokenError(z.error.body,z.rawResponse);case 499:throw new f.ClientClosedRequestError(z.error.body,z.rawResponse);case 500:throw new f.InternalServerError(z.error.body,z.rawResponse);case 501:throw new f.NotImplementedError(z.error.body,z.rawResponse);case 503:throw new f.ServiceUnavailableError(z.error.body,z.rawResponse);case 504:throw new f.GatewayTimeoutError(z.error.body,z.rawResponse);default:throw new s.CohereError({statusCode:z.error.statusCode,body:z.error.body,rawResponse:z.rawResponse})}switch(z.error.reason){case"non-json":throw new s.CohereError({statusCode:z.error.statusCode,body:z.error.rawBody,rawResponse:z.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/datasets/usage.");case"unknown":throw new s.CohereError({message:z.error.errorMessage,rawResponse:z.rawResponse})}})}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v1/datasets/${t.url.encodePathParam(_)}`),method:"GET",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.DatasetsGetResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/datasets/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}delete(_,p){return t.HttpResponsePromise.fromPromise(this.__delete(_,p))}__delete(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v1/datasets/${t.url.encodePathParam(_)}`),method:"DELETE",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.datasets.delete.Response.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling DELETE /v1/datasets/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return un.Datasets=m,un}var ln={},eV;function Fye(){if(eV)return ln;eV=1;var e={},n=ln&&ln.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=ln&&ln.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=ln&&ln.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=ln&&ln.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(C){try{T(y.next(C))}catch(D){R(D)}}function P(C){try{T(y.throw(C))}catch(D){R(D)}}function T(C){C.done?S(C.value):v(C.value).then(j,P)}T((y=y.apply(b,_||[])).next())})};Object.defineProperty(ln,"__esModule",{value:!0}),ln.EmbedJobs=void 0;const t=i(re()),r=od(),a=i(lc()),s=i(Yt()),l=i(uc()),f=i(ac());class m{constructor(_={}){this._options=_}list(_){return t.HttpResponsePromise.fromPromise(this.__list(_))}__list(_){return u(this,void 0,void 0,function*(){var p,y,v,S,R,j,P,T,C,D,M,L;const q=(0,r.mergeHeaders)((p=this._options)===null||p===void 0?void 0:p.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(y=_?.clientName)!==null&&y!==void 0?y:(v=this._options)===null||v===void 0?void 0:v.clientName}),_?.headers),z=yield((S=this._options.fetcher)!==null&&S!==void 0?S:t.fetcher)({url:t.url.join((j=(R=yield t.Supplier.get(this._options.baseUrl))!==null&&R!==void 0?R:yield t.Supplier.get(this._options.environment))!==null&&j!==void 0?j:a.CohereEnvironment.Production,"v1/embed-jobs"),method:"GET",headers:q,queryParameters:_?.queryParams,timeoutMs:((C=(P=_?.timeoutInSeconds)!==null&&P!==void 0?P:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&C!==void 0?C:300)*1e3,maxRetries:(D=_?.maxRetries)!==null&&D!==void 0?D:(M=this._options)===null||M===void 0?void 0:M.maxRetries,abortSignal:_?.abortSignal,fetchFn:(L=this._options)===null||L===void 0?void 0:L.fetch,logging:this._options.logging});if(z.ok)return{data:l.ListEmbedJobResponse.parseOrThrow(z.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:z.rawResponse};if(z.error.reason==="status-code")switch(z.error.statusCode){case 400:throw new f.BadRequestError(z.error.body,z.rawResponse);case 401:throw new f.UnauthorizedError(z.error.body,z.rawResponse);case 403:throw new f.ForbiddenError(z.error.body,z.rawResponse);case 404:throw new f.NotFoundError(z.error.body,z.rawResponse);case 422:throw new f.UnprocessableEntityError(z.error.body,z.rawResponse);case 429:throw new f.TooManyRequestsError(z.error.body,z.rawResponse);case 498:throw new f.InvalidTokenError(z.error.body,z.rawResponse);case 499:throw new f.ClientClosedRequestError(z.error.body,z.rawResponse);case 500:throw new f.InternalServerError(z.error.body,z.rawResponse);case 501:throw new f.NotImplementedError(z.error.body,z.rawResponse);case 503:throw new f.ServiceUnavailableError(z.error.body,z.rawResponse);case 504:throw new f.GatewayTimeoutError(z.error.body,z.rawResponse);default:throw new s.CohereError({statusCode:z.error.statusCode,body:z.error.body,rawResponse:z.rawResponse})}switch(z.error.reason){case"non-json":throw new s.CohereError({statusCode:z.error.statusCode,body:z.error.rawBody,rawResponse:z.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/embed-jobs.");case"unknown":throw new s.CohereError({message:z.error.errorMessage,rawResponse:z.rawResponse})}})}create(_,p){return t.HttpResponsePromise.fromPromise(this.__create(_,p))}__create(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v1/embed-jobs"),method:"POST",headers:z,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.CreateEmbedJobRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.CreateEmbedJobResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/embed-jobs.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v1/embed-jobs/${t.url.encodePathParam(_)}`),method:"GET",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.EmbedJob.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/embed-jobs/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}cancel(_,p){return t.HttpResponsePromise.fromPromise(this.__cancel(_,p))}__cancel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v1/embed-jobs/${t.url.encodePathParam(_)}/cancel`),method:"POST",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:void 0,rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/embed-jobs/{id}/cancel.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return ln.EmbedJobs=m,ln}var cn={},tV;function Vye(){if(tV)return cn;tV=1;var e={},n=cn&&cn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=cn&&cn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=cn&&cn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=cn&&cn.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(C){try{T(y.next(C))}catch(D){R(D)}}function P(C){try{T(y.throw(C))}catch(D){R(D)}}function T(C){C.done?S(C.value):v(C.value).then(j,P)}T((y=y.apply(b,_||[])).next())})};Object.defineProperty(cn,"__esModule",{value:!0}),cn.Finetuning=void 0;const t=i(re()),r=od(),a=i(lc()),s=i(Yt()),l=i(uc()),f=i(ac());class m{constructor(_={}){this._options=_}listFinetunedModels(_={},p){return t.HttpResponsePromise.fromPromise(this.__listFinetunedModels(_,p))}__listFinetunedModels(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,P,T,C,D,M,L,q;const{pageSize:z,pageToken:w,orderBy:V}=_,k={};z!=null&&(k.page_size=z.toString()),w!=null&&(k.page_token=w),V!=null&&(k.order_by=V);const Y=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),U=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"GET",headers:Y,queryParameters:Object.assign(Object.assign({},k),p?.queryParams),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(U.ok)return{data:l.finetuning.ListFinetunedModelsResponse.parseOrThrow(U.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:U.rawResponse};if(U.error.reason==="status-code")switch(U.error.statusCode){case 400:throw new f.BadRequestError(U.error.body,U.rawResponse);case 401:throw new f.UnauthorizedError(U.error.body,U.rawResponse);case 403:throw new f.ForbiddenError(U.error.body,U.rawResponse);case 404:throw new f.NotFoundError(U.error.body,U.rawResponse);case 500:throw new f.InternalServerError(U.error.body,U.rawResponse);case 503:throw new f.ServiceUnavailableError(U.error.body,U.rawResponse);default:throw new s.CohereError({statusCode:U.error.statusCode,body:U.error.body,rawResponse:U.rawResponse})}switch(U.error.reason){case"non-json":throw new s.CohereError({statusCode:U.error.statusCode,body:U.error.rawBody,rawResponse:U.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models.");case"unknown":throw new s.CohereError({message:U.error.errorMessage,rawResponse:U.rawResponse})}})}createFinetunedModel(_,p){return t.HttpResponsePromise.fromPromise(this.__createFinetunedModel(_,p))}__createFinetunedModel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"POST",headers:z,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.finetuning.FinetunedModel.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.finetuning.CreateFinetunedModelResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/finetuning/finetuned-models.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}getFinetunedModel(_,p){return t.HttpResponsePromise.fromPromise(this.__getFinetunedModel(_,p))}__getFinetunedModel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(_)}`),method:"GET",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.finetuning.GetFinetunedModelResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}deleteFinetunedModel(_,p){return t.HttpResponsePromise.fromPromise(this.__deleteFinetunedModel(_,p))}__deleteFinetunedModel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(_)}`),method:"DELETE",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.finetuning.DeleteFinetunedModelResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling DELETE /v1/finetuning/finetuned-models/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}updateFinetunedModel(_,p,y){return t.HttpResponsePromise.fromPromise(this.__updateFinetunedModel(_,p,y))}__updateFinetunedModel(_,p,y){return u(this,void 0,void 0,function*(){var v,S,R,j,P,T,C,D,M,L,q,z;const w=(0,r.mergeHeaders)((v=this._options)===null||v===void 0?void 0:v.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(S=y?.clientName)!==null&&S!==void 0?S:(R=this._options)===null||R===void 0?void 0:R.clientName}),y?.headers),V=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((T=(P=yield t.Supplier.get(this._options.baseUrl))!==null&&P!==void 0?P:yield t.Supplier.get(this._options.environment))!==null&&T!==void 0?T:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(_)}`),method:"PATCH",headers:w,contentType:"application/json",queryParameters:y?.queryParams,requestType:"json",body:l.FinetuningUpdateFinetunedModelRequest.jsonOrThrow(p,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((M=(C=y?.timeoutInSeconds)!==null&&C!==void 0?C:(D=this._options)===null||D===void 0?void 0:D.timeoutInSeconds)!==null&&M!==void 0?M:300)*1e3,maxRetries:(L=y?.maxRetries)!==null&&L!==void 0?L:(q=this._options)===null||q===void 0?void 0:q.maxRetries,abortSignal:y?.abortSignal,fetchFn:(z=this._options)===null||z===void 0?void 0:z.fetch,logging:this._options.logging});if(V.ok)return{data:l.finetuning.UpdateFinetunedModelResponse.parseOrThrow(V.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:V.rawResponse};if(V.error.reason==="status-code")switch(V.error.statusCode){case 400:throw new f.BadRequestError(V.error.body,V.rawResponse);case 401:throw new f.UnauthorizedError(V.error.body,V.rawResponse);case 403:throw new f.ForbiddenError(V.error.body,V.rawResponse);case 404:throw new f.NotFoundError(V.error.body,V.rawResponse);case 500:throw new f.InternalServerError(V.error.body,V.rawResponse);case 503:throw new f.ServiceUnavailableError(V.error.body,V.rawResponse);default:throw new s.CohereError({statusCode:V.error.statusCode,body:V.error.body,rawResponse:V.rawResponse})}switch(V.error.reason){case"non-json":throw new s.CohereError({statusCode:V.error.statusCode,body:V.error.rawBody,rawResponse:V.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling PATCH /v1/finetuning/finetuned-models/{id}.");case"unknown":throw new s.CohereError({message:V.error.errorMessage,rawResponse:V.rawResponse})}})}listEvents(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__listEvents(_,p,y))}__listEvents(_){return u(this,arguments,void 0,function*(p,y={},v){var S,R,j,P,T,C,D,M,L,q,z,w;const{pageSize:V,pageToken:k,orderBy:Y}=y,U={};V!=null&&(U.page_size=V.toString()),k!=null&&(U.page_token=k),Y!=null&&(U.order_by=Y);const H=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName}),v?.headers),Z=yield((P=this._options.fetcher)!==null&&P!==void 0?P:t.fetcher)({url:t.url.join((C=(T=yield t.Supplier.get(this._options.baseUrl))!==null&&T!==void 0?T:yield t.Supplier.get(this._options.environment))!==null&&C!==void 0?C:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(p)}/events`),method:"GET",headers:H,queryParameters:Object.assign(Object.assign({},U),v?.queryParams),timeoutMs:((L=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&L!==void 0?L:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(z=this._options)===null||z===void 0?void 0:z.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if(Z.ok)return{data:l.finetuning.ListEventsResponse.parseOrThrow(Z.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:Z.rawResponse};if(Z.error.reason==="status-code")switch(Z.error.statusCode){case 400:throw new f.BadRequestError(Z.error.body,Z.rawResponse);case 401:throw new f.UnauthorizedError(Z.error.body,Z.rawResponse);case 403:throw new f.ForbiddenError(Z.error.body,Z.rawResponse);case 404:throw new f.NotFoundError(Z.error.body,Z.rawResponse);case 500:throw new f.InternalServerError(Z.error.body,Z.rawResponse);case 503:throw new f.ServiceUnavailableError(Z.error.body,Z.rawResponse);default:throw new s.CohereError({statusCode:Z.error.statusCode,body:Z.error.body,rawResponse:Z.rawResponse})}switch(Z.error.reason){case"non-json":throw new s.CohereError({statusCode:Z.error.statusCode,body:Z.error.rawBody,rawResponse:Z.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models/{finetuned_model_id}/events.");case"unknown":throw new s.CohereError({message:Z.error.errorMessage,rawResponse:Z.rawResponse})}})}listTrainingStepMetrics(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__listTrainingStepMetrics(_,p,y))}__listTrainingStepMetrics(_){return u(this,arguments,void 0,function*(p,y={},v){var S,R,j,P,T,C,D,M,L,q,z,w;const{pageSize:V,pageToken:k}=y,Y={};V!=null&&(Y.page_size=V.toString()),k!=null&&(Y.page_token=k);const U=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName}),v?.headers),H=yield((P=this._options.fetcher)!==null&&P!==void 0?P:t.fetcher)({url:t.url.join((C=(T=yield t.Supplier.get(this._options.baseUrl))!==null&&T!==void 0?T:yield t.Supplier.get(this._options.environment))!==null&&C!==void 0?C:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(p)}/training-step-metrics`),method:"GET",headers:U,queryParameters:Object.assign(Object.assign({},Y),v?.queryParams),timeoutMs:((L=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&L!==void 0?L:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(z=this._options)===null||z===void 0?void 0:z.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if(H.ok)return{data:l.finetuning.ListTrainingStepMetricsResponse.parseOrThrow(H.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:H.rawResponse};if(H.error.reason==="status-code")switch(H.error.statusCode){case 400:throw new f.BadRequestError(H.error.body,H.rawResponse);case 401:throw new f.UnauthorizedError(H.error.body,H.rawResponse);case 403:throw new f.ForbiddenError(H.error.body,H.rawResponse);case 404:throw new f.NotFoundError(H.error.body,H.rawResponse);case 500:throw new f.InternalServerError(H.error.body,H.rawResponse);case 503:throw new f.ServiceUnavailableError(H.error.body,H.rawResponse);default:throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.body,rawResponse:H.rawResponse})}switch(H.error.reason){case"non-json":throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.rawBody,rawResponse:H.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models/{finetuned_model_id}/training-step-metrics.");case"unknown":throw new s.CohereError({message:H.error.errorMessage,rawResponse:H.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return cn.Finetuning=m,cn}var dn={},rV;function Gye(){if(rV)return dn;rV=1;var e={},n=dn&&dn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=dn&&dn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=dn&&dn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=dn&&dn.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(C){try{T(y.next(C))}catch(D){R(D)}}function P(C){try{T(y.throw(C))}catch(D){R(D)}}function T(C){C.done?S(C.value):v(C.value).then(j,P)}T((y=y.apply(b,_||[])).next())})};Object.defineProperty(dn,"__esModule",{value:!0}),dn.Models=void 0;const t=i(re()),r=od(),a=i(lc()),s=i(Yt()),l=i(uc()),f=i(ac());class m{constructor(_={}){this._options=_}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,`v1/models/${t.url.encodePathParam(_)}`),method:"GET",headers:z,queryParameters:p?.queryParams,timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.GetModelResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/models/{model}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,P,T,C,D,M,L,q;const{pageSize:z,pageToken:w,endpoint:V,defaultOnly:k}=_,Y={};z!=null&&(Y.page_size=z.toString()),w!=null&&(Y.page_token=w),V!=null&&(Y.endpoint=l.CompatibleEndpoint.jsonOrThrow(V,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),k!=null&&(Y.default_only=k.toString());const U=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),H=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v1/models"),method:"GET",headers:U,queryParameters:Object.assign(Object.assign({},Y),p?.queryParams),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(H.ok)return{data:l.ListModelsResponse.parseOrThrow(H.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:H.rawResponse};if(H.error.reason==="status-code")switch(H.error.statusCode){case 400:throw new f.BadRequestError(H.error.body,H.rawResponse);case 401:throw new f.UnauthorizedError(H.error.body,H.rawResponse);case 403:throw new f.ForbiddenError(H.error.body,H.rawResponse);case 404:throw new f.NotFoundError(H.error.body,H.rawResponse);case 422:throw new f.UnprocessableEntityError(H.error.body,H.rawResponse);case 429:throw new f.TooManyRequestsError(H.error.body,H.rawResponse);case 498:throw new f.InvalidTokenError(H.error.body,H.rawResponse);case 499:throw new f.ClientClosedRequestError(H.error.body,H.rawResponse);case 500:throw new f.InternalServerError(H.error.body,H.rawResponse);case 501:throw new f.NotImplementedError(H.error.body,H.rawResponse);case 503:throw new f.ServiceUnavailableError(H.error.body,H.rawResponse);case 504:throw new f.GatewayTimeoutError(H.error.body,H.rawResponse);default:throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.body,rawResponse:H.rawResponse})}switch(H.error.reason){case"non-json":throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.rawBody,rawResponse:H.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/models.");case"unknown":throw new s.CohereError({message:H.error.errorMessage,rawResponse:H.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return dn.Models=m,dn}var fn={},nV;function sJ(){if(nV)return fn;nV=1;var e={},n=fn&&fn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=fn&&fn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=fn&&fn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=fn&&fn.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(C){try{T(y.next(C))}catch(D){R(D)}}function P(C){try{T(y.throw(C))}catch(D){R(D)}}function T(C){C.done?S(C.value):v(C.value).then(j,P)}T((y=y.apply(b,_||[])).next())})};Object.defineProperty(fn,"__esModule",{value:!0}),fn.V2=void 0;const t=i(re()),r=od(),a=i(lc()),s=i(Yt()),l=i(uc()),f=i(ac());class m{constructor(_={}){this._options=_}chatStream(_,p){return t.HttpResponsePromise.fromPromise(this.__chatStream(_,p))}__chatStream(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:z,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:Object.assign(Object.assign({},l.V2ChatStreamRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:new t.Stream({stream:w.body,parse:V=>u(this,void 0,void 0,function*(){return l.V2ChatStreamResponse.parseOrThrow(V,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:p?.abortSignal,eventShape:{type:"sse",streamTerminator:"[DONE]"}}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/chat.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}chat(_,p){return t.HttpResponsePromise.fromPromise(this.__chat(_,p))}__chat(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:z,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:Object.assign(Object.assign({},l.V2ChatRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.V2ChatResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/chat.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}embed(_,p){return t.HttpResponsePromise.fromPromise(this.__embed(_,p))}__embed(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v2/embed"),method:"POST",headers:z,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.V2EmbedRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.EmbedByTypeResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/embed.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}rerank(_,p){return t.HttpResponsePromise.fromPromise(this.__rerank(_,p))}__rerank(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,P,T,C,D,M,L,q;const z=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((P=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&P!==void 0?P:a.CohereEnvironment.Production,"v2/rerank"),method:"POST",headers:z,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.V2RerankRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(T=p?.timeoutInSeconds)!==null&&T!==void 0?T:(C=this._options)===null||C===void 0?void 0:C.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(M=p?.maxRetries)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(w.ok)return{data:l.V2RerankResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/rerank.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return fn.V2=m,fn}var aV;function cx(){if(aV)return xr;aV=1;var e={},n=xr&&xr.__createBinding||(Object.create?(function(P,T,C,D){D===void 0&&(D=C);var M=Object.getOwnPropertyDescriptor(T,C);(!M||("get"in M?!T.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return T[C]}}),Object.defineProperty(P,D,M)}):(function(P,T,C,D){D===void 0&&(D=C),P[D]=T[C]})),o=xr&&xr.__setModuleDefault||(Object.create?(function(P,T){Object.defineProperty(P,"default",{enumerable:!0,value:T})}):function(P,T){P.default=T}),i=xr&&xr.__importStar||(function(){var P=function(T){return P=Object.getOwnPropertyNames||function(C){var D=[];for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&(D[D.length]=M);return D},P(T)};return function(T){if(T&&T.__esModule)return T;var C={};if(T!=null)for(var D=P(T),M=0;M<D.length;M++)D[M]!=="default"&&n(C,T,D[M]);return o(C,T),C}})(),u=xr&&xr.__awaiter||function(P,T,C,D){function M(L){return L instanceof C?L:new C(function(q){q(L)})}return new(C||(C=Promise))(function(L,q){function z(k){try{V(D.next(k))}catch(Y){q(Y)}}function w(k){try{V(D.throw(k))}catch(Y){q(Y)}}function V(k){k.done?L(k.value):M(k.value).then(z,w)}V((D=D.apply(P,T||[])).next())})},t=xr&&xr.__rest||function(P,T){var C={};for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&T.indexOf(D)<0&&(C[D]=P[D]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,D=Object.getOwnPropertySymbols(P);M<D.length;M++)T.indexOf(D[M])<0&&Object.prototype.propertyIsEnumerable.call(P,D[M])&&(C[D[M]]=P[D[M]]);return C};Object.defineProperty(xr,"__esModule",{value:!0}),xr.CohereClient=void 0;const r=i(ac()),a=Uye(),s=Lye(),l=$ye(),f=Fye(),m=Vye(),b=Gye(),_=sJ(),p=i(re()),y=od(),v=i(lc()),S=i(Yt()),R=i(uc());class j{constructor(T={}){this._options=Object.assign(Object.assign({},T),{logging:p.logging.createLogger(T?.logging),headers:(0,y.mergeHeaders)({"X-Client-Name":T?.clientName,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.20.0","User-Agent":"cohere-ai/7.20.0","X-Fern-Runtime":p.RUNTIME.type,"X-Fern-Runtime-Version":p.RUNTIME.version},T?.headers)})}get v2(){var T;return(T=this._v2)!==null&&T!==void 0?T:this._v2=new _.V2(this._options)}get batches(){var T;return(T=this._batches)!==null&&T!==void 0?T:this._batches=new a.Batches(this._options)}get embedJobs(){var T;return(T=this._embedJobs)!==null&&T!==void 0?T:this._embedJobs=new f.EmbedJobs(this._options)}get datasets(){var T;return(T=this._datasets)!==null&&T!==void 0?T:this._datasets=new l.Datasets(this._options)}get connectors(){var T;return(T=this._connectors)!==null&&T!==void 0?T:this._connectors=new s.Connectors(this._options)}get models(){var T;return(T=this._models)!==null&&T!==void 0?T:this._models=new b.Models(this._options)}get finetuning(){var T;return(T=this._finetuning)!==null&&T!==void 0?T:this._finetuning=new m.Finetuning(this._options)}chatStream(T,C){return p.HttpResponsePromise.fromPromise(this.__chatStream(T,C))}__chatStream(T,C){return u(this,void 0,void 0,function*(){var D,M,L,q,z,w,V,k,Y,U,H,Z;const{accepts:ee}=T,N=t(T,["accepts"]),G=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),Accepts:ee??void 0,"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),J=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:G,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:Object.assign(Object.assign({},R.ChatStreamRequest.jsonOrThrow(N,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(J.ok)return{data:new p.Stream({stream:J.body,parse:oe=>u(this,void 0,void 0,function*(){return R.StreamedChatResponse.parseOrThrow(oe,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:C?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}}),rawResponse:J.rawResponse};if(J.error.reason==="status-code")switch(J.error.statusCode){case 400:throw new r.BadRequestError(J.error.body,J.rawResponse);case 401:throw new r.UnauthorizedError(J.error.body,J.rawResponse);case 403:throw new r.ForbiddenError(J.error.body,J.rawResponse);case 404:throw new r.NotFoundError(J.error.body,J.rawResponse);case 422:throw new r.UnprocessableEntityError(J.error.body,J.rawResponse);case 429:throw new r.TooManyRequestsError(J.error.body,J.rawResponse);case 498:throw new r.InvalidTokenError(J.error.body,J.rawResponse);case 499:throw new r.ClientClosedRequestError(J.error.body,J.rawResponse);case 500:throw new r.InternalServerError(J.error.body,J.rawResponse);case 501:throw new r.NotImplementedError(J.error.body,J.rawResponse);case 503:throw new r.ServiceUnavailableError(J.error.body,J.rawResponse);case 504:throw new r.GatewayTimeoutError(J.error.body,J.rawResponse);default:throw new S.CohereError({statusCode:J.error.statusCode,body:J.error.body,rawResponse:J.rawResponse})}switch(J.error.reason){case"non-json":throw new S.CohereError({statusCode:J.error.statusCode,body:J.error.rawBody,rawResponse:J.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/chat.");case"unknown":throw new S.CohereError({message:J.error.errorMessage,rawResponse:J.rawResponse})}})}chat(T,C){return p.HttpResponsePromise.fromPromise(this.__chat(T,C))}__chat(T,C){return u(this,void 0,void 0,function*(){var D,M,L,q,z,w,V,k,Y,U,H,Z;const{accepts:ee}=T,N=t(T,["accepts"]),G=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),Accepts:ee??void 0,"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),J=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:G,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:Object.assign(Object.assign({},R.ChatRequest.jsonOrThrow(N,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(J.ok)return{data:R.NonStreamedChatResponse.parseOrThrow(J.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:J.rawResponse};if(J.error.reason==="status-code")switch(J.error.statusCode){case 400:throw new r.BadRequestError(J.error.body,J.rawResponse);case 401:throw new r.UnauthorizedError(J.error.body,J.rawResponse);case 403:throw new r.ForbiddenError(J.error.body,J.rawResponse);case 404:throw new r.NotFoundError(J.error.body,J.rawResponse);case 422:throw new r.UnprocessableEntityError(J.error.body,J.rawResponse);case 429:throw new r.TooManyRequestsError(J.error.body,J.rawResponse);case 498:throw new r.InvalidTokenError(J.error.body,J.rawResponse);case 499:throw new r.ClientClosedRequestError(J.error.body,J.rawResponse);case 500:throw new r.InternalServerError(J.error.body,J.rawResponse);case 501:throw new r.NotImplementedError(J.error.body,J.rawResponse);case 503:throw new r.ServiceUnavailableError(J.error.body,J.rawResponse);case 504:throw new r.GatewayTimeoutError(J.error.body,J.rawResponse);default:throw new S.CohereError({statusCode:J.error.statusCode,body:J.error.body,rawResponse:J.rawResponse})}switch(J.error.reason){case"non-json":throw new S.CohereError({statusCode:J.error.statusCode,body:J.error.rawBody,rawResponse:J.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/chat.");case"unknown":throw new S.CohereError({message:J.error.errorMessage,rawResponse:J.rawResponse})}})}generateStream(T,C){return p.HttpResponsePromise.fromPromise(this.__generateStream(T,C))}__generateStream(T,C){return u(this,void 0,void 0,function*(){var D,M,L,q,z,w,V,k,Y,U,H,Z;const ee=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),N=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:ee,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:Object.assign(Object.assign({},R.GenerateStreamRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(N.ok)return{data:new p.Stream({stream:N.body,parse:G=>u(this,void 0,void 0,function*(){return R.GenerateStreamedResponse.parseOrThrow(G,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:C?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}}),rawResponse:N.rawResponse};if(N.error.reason==="status-code")switch(N.error.statusCode){case 400:throw new r.BadRequestError(N.error.body,N.rawResponse);case 401:throw new r.UnauthorizedError(N.error.body,N.rawResponse);case 403:throw new r.ForbiddenError(N.error.body,N.rawResponse);case 404:throw new r.NotFoundError(N.error.body,N.rawResponse);case 422:throw new r.UnprocessableEntityError(N.error.body,N.rawResponse);case 429:throw new r.TooManyRequestsError(N.error.body,N.rawResponse);case 498:throw new r.InvalidTokenError(N.error.body,N.rawResponse);case 499:throw new r.ClientClosedRequestError(N.error.body,N.rawResponse);case 500:throw new r.InternalServerError(N.error.body,N.rawResponse);case 501:throw new r.NotImplementedError(N.error.body,N.rawResponse);case 503:throw new r.ServiceUnavailableError(N.error.body,N.rawResponse);case 504:throw new r.GatewayTimeoutError(N.error.body,N.rawResponse);default:throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.body,rawResponse:N.rawResponse})}switch(N.error.reason){case"non-json":throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.rawBody,rawResponse:N.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/generate.");case"unknown":throw new S.CohereError({message:N.error.errorMessage,rawResponse:N.rawResponse})}})}generate(T,C){return p.HttpResponsePromise.fromPromise(this.__generate(T,C))}__generate(T,C){return u(this,void 0,void 0,function*(){var D,M,L,q,z,w,V,k,Y,U,H,Z;const ee=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),N=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:ee,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:Object.assign(Object.assign({},R.GenerateRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(N.ok)return{data:R.Generation.parseOrThrow(N.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:N.rawResponse};if(N.error.reason==="status-code")switch(N.error.statusCode){case 400:throw new r.BadRequestError(N.error.body,N.rawResponse);case 401:throw new r.UnauthorizedError(N.error.body,N.rawResponse);case 403:throw new r.ForbiddenError(N.error.body,N.rawResponse);case 404:throw new r.NotFoundError(N.error.body,N.rawResponse);case 422:throw new r.UnprocessableEntityError(N.error.body,N.rawResponse);case 429:throw new r.TooManyRequestsError(N.error.body,N.rawResponse);case 498:throw new r.InvalidTokenError(N.error.body,N.rawResponse);case 499:throw new r.ClientClosedRequestError(N.error.body,N.rawResponse);case 500:throw new r.InternalServerError(N.error.body,N.rawResponse);case 501:throw new r.NotImplementedError(N.error.body,N.rawResponse);case 503:throw new r.ServiceUnavailableError(N.error.body,N.rawResponse);case 504:throw new r.GatewayTimeoutError(N.error.body,N.rawResponse);default:throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.body,rawResponse:N.rawResponse})}switch(N.error.reason){case"non-json":throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.rawBody,rawResponse:N.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/generate.");case"unknown":throw new S.CohereError({message:N.error.errorMessage,rawResponse:N.rawResponse})}})}embed(T={},C){return p.HttpResponsePromise.fromPromise(this.__embed(T,C))}__embed(){return u(this,arguments,void 0,function*(T={},C){var D,M,L,q,z,w,V,k,Y,U,H,Z;const ee=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),N=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/embed"),method:"POST",headers:ee,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:R.EmbedRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(N.ok)return{data:R.EmbedResponse.parseOrThrow(N.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:N.rawResponse};if(N.error.reason==="status-code")switch(N.error.statusCode){case 400:throw new r.BadRequestError(N.error.body,N.rawResponse);case 401:throw new r.UnauthorizedError(N.error.body,N.rawResponse);case 403:throw new r.ForbiddenError(N.error.body,N.rawResponse);case 404:throw new r.NotFoundError(N.error.body,N.rawResponse);case 422:throw new r.UnprocessableEntityError(N.error.body,N.rawResponse);case 429:throw new r.TooManyRequestsError(N.error.body,N.rawResponse);case 498:throw new r.InvalidTokenError(N.error.body,N.rawResponse);case 499:throw new r.ClientClosedRequestError(N.error.body,N.rawResponse);case 500:throw new r.InternalServerError(N.error.body,N.rawResponse);case 501:throw new r.NotImplementedError(N.error.body,N.rawResponse);case 503:throw new r.ServiceUnavailableError(N.error.body,N.rawResponse);case 504:throw new r.GatewayTimeoutError(N.error.body,N.rawResponse);default:throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.body,rawResponse:N.rawResponse})}switch(N.error.reason){case"non-json":throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.rawBody,rawResponse:N.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/embed.");case"unknown":throw new S.CohereError({message:N.error.errorMessage,rawResponse:N.rawResponse})}})}rerank(T,C){return p.HttpResponsePromise.fromPromise(this.__rerank(T,C))}__rerank(T,C){return u(this,void 0,void 0,function*(){var D,M,L,q,z,w,V,k,Y,U,H,Z;const ee=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),N=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/rerank"),method:"POST",headers:ee,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:R.RerankRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(N.ok)return{data:R.RerankResponse.parseOrThrow(N.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:N.rawResponse};if(N.error.reason==="status-code")switch(N.error.statusCode){case 400:throw new r.BadRequestError(N.error.body,N.rawResponse);case 401:throw new r.UnauthorizedError(N.error.body,N.rawResponse);case 403:throw new r.ForbiddenError(N.error.body,N.rawResponse);case 404:throw new r.NotFoundError(N.error.body,N.rawResponse);case 422:throw new r.UnprocessableEntityError(N.error.body,N.rawResponse);case 429:throw new r.TooManyRequestsError(N.error.body,N.rawResponse);case 498:throw new r.InvalidTokenError(N.error.body,N.rawResponse);case 499:throw new r.ClientClosedRequestError(N.error.body,N.rawResponse);case 500:throw new r.InternalServerError(N.error.body,N.rawResponse);case 501:throw new r.NotImplementedError(N.error.body,N.rawResponse);case 503:throw new r.ServiceUnavailableError(N.error.body,N.rawResponse);case 504:throw new r.GatewayTimeoutError(N.error.body,N.rawResponse);default:throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.body,rawResponse:N.rawResponse})}switch(N.error.reason){case"non-json":throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.rawBody,rawResponse:N.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/rerank.");case"unknown":throw new S.CohereError({message:N.error.errorMessage,rawResponse:N.rawResponse})}})}classify(T,C){return p.HttpResponsePromise.fromPromise(this.__classify(T,C))}__classify(T,C){return u(this,void 0,void 0,function*(){var D,M,L,q,z,w,V,k,Y,U,H,Z;const ee=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),N=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/classify"),method:"POST",headers:ee,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:R.ClassifyRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(N.ok)return{data:R.ClassifyResponse.parseOrThrow(N.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:N.rawResponse};if(N.error.reason==="status-code")switch(N.error.statusCode){case 400:throw new r.BadRequestError(N.error.body,N.rawResponse);case 401:throw new r.UnauthorizedError(N.error.body,N.rawResponse);case 403:throw new r.ForbiddenError(N.error.body,N.rawResponse);case 404:throw new r.NotFoundError(N.error.body,N.rawResponse);case 422:throw new r.UnprocessableEntityError(N.error.body,N.rawResponse);case 429:throw new r.TooManyRequestsError(N.error.body,N.rawResponse);case 498:throw new r.InvalidTokenError(N.error.body,N.rawResponse);case 499:throw new r.ClientClosedRequestError(N.error.body,N.rawResponse);case 500:throw new r.InternalServerError(N.error.body,N.rawResponse);case 501:throw new r.NotImplementedError(N.error.body,N.rawResponse);case 503:throw new r.ServiceUnavailableError(N.error.body,N.rawResponse);case 504:throw new r.GatewayTimeoutError(N.error.body,N.rawResponse);default:throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.body,rawResponse:N.rawResponse})}switch(N.error.reason){case"non-json":throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.rawBody,rawResponse:N.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/classify.");case"unknown":throw new S.CohereError({message:N.error.errorMessage,rawResponse:N.rawResponse})}})}summarize(T,C){return p.HttpResponsePromise.fromPromise(this.__summarize(T,C))}__summarize(T,C){return u(this,void 0,void 0,function*(){var D,M,L,q,z,w,V,k,Y,U,H,Z;const ee=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),N=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/summarize"),method:"POST",headers:ee,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:R.SummarizeRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(N.ok)return{data:R.SummarizeResponse.parseOrThrow(N.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:N.rawResponse};if(N.error.reason==="status-code")switch(N.error.statusCode){case 400:throw new r.BadRequestError(N.error.body,N.rawResponse);case 401:throw new r.UnauthorizedError(N.error.body,N.rawResponse);case 403:throw new r.ForbiddenError(N.error.body,N.rawResponse);case 404:throw new r.NotFoundError(N.error.body,N.rawResponse);case 422:throw new r.UnprocessableEntityError(N.error.body,N.rawResponse);case 429:throw new r.TooManyRequestsError(N.error.body,N.rawResponse);case 498:throw new r.InvalidTokenError(N.error.body,N.rawResponse);case 499:throw new r.ClientClosedRequestError(N.error.body,N.rawResponse);case 500:throw new r.InternalServerError(N.error.body,N.rawResponse);case 501:throw new r.NotImplementedError(N.error.body,N.rawResponse);case 503:throw new r.ServiceUnavailableError(N.error.body,N.rawResponse);case 504:throw new r.GatewayTimeoutError(N.error.body,N.rawResponse);default:throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.body,rawResponse:N.rawResponse})}switch(N.error.reason){case"non-json":throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.rawBody,rawResponse:N.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/summarize.");case"unknown":throw new S.CohereError({message:N.error.errorMessage,rawResponse:N.rawResponse})}})}tokenize(T,C){return p.HttpResponsePromise.fromPromise(this.__tokenize(T,C))}__tokenize(T,C){return u(this,void 0,void 0,function*(){var D,M,L,q,z,w,V,k,Y,U,H,Z;const ee=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),N=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/tokenize"),method:"POST",headers:ee,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:R.TokenizeRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(N.ok)return{data:R.TokenizeResponse.parseOrThrow(N.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:N.rawResponse};if(N.error.reason==="status-code")switch(N.error.statusCode){case 400:throw new r.BadRequestError(N.error.body,N.rawResponse);case 401:throw new r.UnauthorizedError(N.error.body,N.rawResponse);case 403:throw new r.ForbiddenError(N.error.body,N.rawResponse);case 404:throw new r.NotFoundError(N.error.body,N.rawResponse);case 422:throw new r.UnprocessableEntityError(N.error.body,N.rawResponse);case 429:throw new r.TooManyRequestsError(N.error.body,N.rawResponse);case 498:throw new r.InvalidTokenError(N.error.body,N.rawResponse);case 499:throw new r.ClientClosedRequestError(N.error.body,N.rawResponse);case 500:throw new r.InternalServerError(N.error.body,N.rawResponse);case 501:throw new r.NotImplementedError(N.error.body,N.rawResponse);case 503:throw new r.ServiceUnavailableError(N.error.body,N.rawResponse);case 504:throw new r.GatewayTimeoutError(N.error.body,N.rawResponse);default:throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.body,rawResponse:N.rawResponse})}switch(N.error.reason){case"non-json":throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.rawBody,rawResponse:N.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/tokenize.");case"unknown":throw new S.CohereError({message:N.error.errorMessage,rawResponse:N.rawResponse})}})}detokenize(T,C){return p.HttpResponsePromise.fromPromise(this.__detokenize(T,C))}__detokenize(T,C){return u(this,void 0,void 0,function*(){var D,M,L,q,z,w,V,k,Y,U,H,Z;const ee=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(M=C?.clientName)!==null&&M!==void 0?M:(L=this._options)===null||L===void 0?void 0:L.clientName}),C?.headers),N=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((w=(z=yield p.Supplier.get(this._options.baseUrl))!==null&&z!==void 0?z:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/detokenize"),method:"POST",headers:ee,contentType:"application/json",queryParameters:C?.queryParams,requestType:"json",body:R.DetokenizeRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((Y=(V=C?.timeoutInSeconds)!==null&&V!==void 0?V:(k=this._options)===null||k===void 0?void 0:k.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(U=C?.maxRetries)!==null&&U!==void 0?U:(H=this._options)===null||H===void 0?void 0:H.maxRetries,abortSignal:C?.abortSignal,fetchFn:(Z=this._options)===null||Z===void 0?void 0:Z.fetch,logging:this._options.logging});if(N.ok)return{data:R.DetokenizeResponse.parseOrThrow(N.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:N.rawResponse};if(N.error.reason==="status-code")switch(N.error.statusCode){case 400:throw new r.BadRequestError(N.error.body,N.rawResponse);case 401:throw new r.UnauthorizedError(N.error.body,N.rawResponse);case 403:throw new r.ForbiddenError(N.error.body,N.rawResponse);case 404:throw new r.NotFoundError(N.error.body,N.rawResponse);case 422:throw new r.UnprocessableEntityError(N.error.body,N.rawResponse);case 429:throw new r.TooManyRequestsError(N.error.body,N.rawResponse);case 498:throw new r.InvalidTokenError(N.error.body,N.rawResponse);case 499:throw new r.ClientClosedRequestError(N.error.body,N.rawResponse);case 500:throw new r.InternalServerError(N.error.body,N.rawResponse);case 501:throw new r.NotImplementedError(N.error.body,N.rawResponse);case 503:throw new r.ServiceUnavailableError(N.error.body,N.rawResponse);case 504:throw new r.GatewayTimeoutError(N.error.body,N.rawResponse);default:throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.body,rawResponse:N.rawResponse})}switch(N.error.reason){case"non-json":throw new S.CohereError({statusCode:N.error.statusCode,body:N.error.rawBody,rawResponse:N.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/detokenize.");case"unknown":throw new S.CohereError({message:N.error.errorMessage,rawResponse:N.rawResponse})}})}checkApiKey(T){return p.HttpResponsePromise.fromPromise(this.__checkApiKey(T))}__checkApiKey(T){return u(this,void 0,void 0,function*(){var C,D,M,L,q,z,w,V,k,Y,U,H;const Z=(0,y.mergeHeaders)((C=this._options)===null||C===void 0?void 0:C.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(D=T?.clientName)!==null&&D!==void 0?D:(M=this._options)===null||M===void 0?void 0:M.clientName}),T?.headers),ee=yield((L=this._options.fetcher)!==null&&L!==void 0?L:p.fetcher)({url:p.url.join((z=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&z!==void 0?z:v.CohereEnvironment.Production,"v1/check-api-key"),method:"POST",headers:Z,queryParameters:T?.queryParams,timeoutMs:((k=(w=T?.timeoutInSeconds)!==null&&w!==void 0?w:(V=this._options)===null||V===void 0?void 0:V.timeoutInSeconds)!==null&&k!==void 0?k:300)*1e3,maxRetries:(Y=T?.maxRetries)!==null&&Y!==void 0?Y:(U=this._options)===null||U===void 0?void 0:U.maxRetries,abortSignal:T?.abortSignal,fetchFn:(H=this._options)===null||H===void 0?void 0:H.fetch,logging:this._options.logging});if(ee.ok)return{data:R.CheckApiKeyResponse.parseOrThrow(ee.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:ee.rawResponse};if(ee.error.reason==="status-code")switch(ee.error.statusCode){case 400:throw new r.BadRequestError(ee.error.body,ee.rawResponse);case 401:throw new r.UnauthorizedError(ee.error.body,ee.rawResponse);case 403:throw new r.ForbiddenError(ee.error.body,ee.rawResponse);case 404:throw new r.NotFoundError(ee.error.body,ee.rawResponse);case 422:throw new r.UnprocessableEntityError(ee.error.body,ee.rawResponse);case 429:throw new r.TooManyRequestsError(ee.error.body,ee.rawResponse);case 498:throw new r.InvalidTokenError(ee.error.body,ee.rawResponse);case 499:throw new r.ClientClosedRequestError(ee.error.body,ee.rawResponse);case 500:throw new r.InternalServerError(ee.error.body,ee.rawResponse);case 501:throw new r.NotImplementedError(ee.error.body,ee.rawResponse);case 503:throw new r.ServiceUnavailableError(ee.error.body,ee.rawResponse);case 504:throw new r.GatewayTimeoutError(ee.error.body,ee.rawResponse);default:throw new S.CohereError({statusCode:ee.error.statusCode,body:ee.error.body,rawResponse:ee.rawResponse})}switch(ee.error.reason){case"non-json":throw new S.CohereError({statusCode:ee.error.statusCode,body:ee.error.rawBody,rawResponse:ee.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/check-api-key.");case"unknown":throw new S.CohereError({message:ee.error.errorMessage,rawResponse:ee.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var T;const C=(T=yield p.Supplier.get(this._options.token))!==null&&T!==void 0?T:process==null?void 0:e.CO_API_KEY;if(C!=null)return`Bearer ${C}`})}}return xr.CohereClient=j,xr}var wm={},iV;function uJ(){if(iV)return wm;iV=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.CohereClientV2=void 0;const e=sJ(),n=cx();class o{constructor(u){this._options=u,this.client=new n.CohereClient(this._options),this.clientV2=new e.V2(this._options),this.chat=this.clientV2.chat.bind(this.clientV2),this.chatStream=this.clientV2.chatStream.bind(this.clientV2),this.embed=this.clientV2.embed.bind(this.clientV2),this.rerank=this.clientV2.rerank.bind(this.clientV2),this.generateStream=this.client.generateStream.bind(this.clientV2),this.generate=this.client.generate.bind(this.clientV2),this.classify=this.client.classify.bind(this.clientV2),this.summarize=this.client.summarize.bind(this.clientV2),this.tokenize=this.client.tokenize.bind(this.clientV2),this.detokenize=this.client.detokenize.bind(this.clientV2),this.checkApiKey=this.client.checkApiKey.bind(this.clientV2),this.embedJobs=this.client.embedJobs,this.datasets=this.client.datasets,this.connectors=this.client.connectors,this.models=this.client.models,this.finetuning=this.client.finetuning,this.batches=this.client.batches}}return wm.CohereClientV2=o,wm}var oV;function lJ(){if(oV)return Cf;oV=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.AwsClientV2=Cf.AwsClient=void 0;const e=cx(),n=uJ();let o=class extends e.CohereClient{constructor(t){t.token="n/a",super(t)}};Cf.AwsClient=o;class i extends n.CohereClientV2{constructor(t){t.token="n/a",super(t)}}return Cf.AwsClientV2=i,Cf}var sV;function Hye(){if(sV)return Zd;sV=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.BedrockClientV2=Zd.BedrockClient=void 0;const e=oJ(),n=lJ();let o=class extends n.AwsClient{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,e.fetchOverride)("bedrock",t)}))}};Zd.BedrockClient=o;class i extends n.AwsClientV2{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,e.fetchOverride)("bedrock",t)}))}}return Zd.BedrockClientV2=i,Zd}var Om={},uV;function Kye(){if(uV)return Om;uV=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.CustomClient=void 0;const e=cx();let n=class extends e.CohereClient{constructor(i={}){var u,t;try{const r=/\/v1\/?$/,a=(u=i.environment)===null||u===void 0?void 0:u.toString().replace(r,"");a!==((t=i.environment)===null||t===void 0?void 0:t.toString())&&(i.environment=a)}catch{}super(i),this._options=i}};return Om.CustomClient=n,Om}var Tf={},lV;function kye(){if(lV)return Tf;lV=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.SagemakerClientV2=Tf.SagemakerClient=void 0;const e=lJ(),n=oJ();let o=class extends e.AwsClient{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,n.fetchOverride)("sagemaker",t)}))}};Tf.SagemakerClient=o;class i extends e.AwsClientV2{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,n.fetchOverride)("sagemaker",t)}))}}return Tf.SagemakerClientV2=i,Tf}var cV;function Yye(){return cV||(cV=1,(function(e){var n=Hl&&Hl.__createBinding||(Object.create?(function(f,m,b,_){_===void 0&&(_=b);var p=Object.getOwnPropertyDescriptor(m,b);(!p||("get"in p?!m.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(f,_,p)}):(function(f,m,b,_){_===void 0&&(_=b),f[_]=m[b]})),o=Hl&&Hl.__setModuleDefault||(Object.create?(function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}):function(f,m){f.default=m}),i=Hl&&Hl.__importStar||(function(){var f=function(m){return f=Object.getOwnPropertyNames||function(b){var _=[];for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(_[_.length]=p);return _},f(m)};return function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var _=f(m),p=0;p<_.length;p++)_[p]!=="default"&&n(b,m,_[p]);return o(b,m),b}})();Object.defineProperty(e,"__esModule",{value:!0}),e.SagemakerClientV2=e.SagemakerClient=e.CohereTimeoutError=e.CohereError=e.CohereEnvironment=e.CohereClient=e.CohereClientV2=e.BedrockClientV2=e.BedrockClient=e.Cohere=void 0,e.Cohere=i(ac());var u=Hye();Object.defineProperty(e,"BedrockClient",{enumerable:!0,get:function(){return u.BedrockClient}}),Object.defineProperty(e,"BedrockClientV2",{enumerable:!0,get:function(){return u.BedrockClientV2}});var t=uJ();Object.defineProperty(e,"CohereClientV2",{enumerable:!0,get:function(){return t.CohereClientV2}});var r=Kye();Object.defineProperty(e,"CohereClient",{enumerable:!0,get:function(){return r.CustomClient}});var a=lc();Object.defineProperty(e,"CohereEnvironment",{enumerable:!0,get:function(){return a.CohereEnvironment}});var s=Yt();Object.defineProperty(e,"CohereError",{enumerable:!0,get:function(){return s.CohereError}}),Object.defineProperty(e,"CohereTimeoutError",{enumerable:!0,get:function(){return s.CohereTimeoutError}});var l=kye();Object.defineProperty(e,"SagemakerClient",{enumerable:!0,get:function(){return l.SagemakerClient}}),Object.defineProperty(e,"SagemakerClientV2",{enumerable:!0,get:function(){return l.SagemakerClientV2}})})(Hl)),Hl}var Wye=Yye();function dx(e){if(e?.client)return e.client;const n=e?.apiKey??bl("COHERE_API_KEY");if(!n)throw new Error("COHERE_API_KEY must be set");return new Wye.CohereClient({token:n})}function dV(e){const n=[];let o=[];typeof e=="string"?o=[{output:e}]:e instanceof Map||typeof e=="object"&&e!==null&&!Array.isArray(e)?o=[e]:Array.isArray(e)||(o=[{output:e}]);for(let i of o)!(i instanceof Map)&&(typeof i!="object"||i===null)&&(i={output:i}),n.push(i);return n}function Uv(e,n){const o=t=>{switch(t){case"system":return"SYSTEM";case"human":return"USER";case"ai":return"CHATBOT";case"tool":return"TOOL";default:throw new Error(`Unknown message type: '${t}'. Accepted types: 'human', 'ai', 'system', 'tool'`)}},i=t=>{if(typeof t=="string")return t;throw new Error(`ChatCohere does not support non text message content. Received: ${JSON.stringify(t,null,2)}`)},u=t=>Hc(t)&&t.tool_calls?t.tool_calls.map(r=>({name:r.name,parameters:r.args})):[];if(e._getType().toLowerCase()==="ai")return{role:o(e._getType()),message:i(e.content),toolCalls:u(e)};if(e._getType().toLowerCase()==="tool")return{role:o(e._getType()),message:i(e.content),toolResults:n};if(e._getType().toLowerCase()==="human"||e._getType().toLowerCase()==="system")return{role:o(e._getType()),message:i(e.content)};throw new Error("Got unknown message type. Supported types are AIMessage, ToolMessage, HumanMessage, and SystemMessage")}function Jye(e){return"name"in e&&"description"in e&&"parameterDefinitions"in e}function fV(e){return e._getType()==="tool"}function hV(e){const n="properties"in e?e.properties:{};let o="required"in e?e.required:[];const i={};return Object.keys(n).forEach(u=>{i[u]=n[u],o===void 0&&(o=[]),i[u].required=o.includes(u)}),i}function Zye(e){if(e){if(e.every(Jye))return e;if(e.every(VH))return e.map(n=>({name:n.function.name,description:n.function.description??"",parameterDefinitions:hV(n.function.parameters)}));if(e.every(MM))return e.map(n=>{const o=Jc(n.schema)?Ql(n.schema):n.schema;return{name:n.name,description:n.description??"",parameterDefinitions:hV(o)}});throw new Error("Can not pass in a mix of tool schema types to ChatCohere.")}else return}var Qye=class extends Lb{static lc_name(){return"ChatCohere"}lc_serializable=!0;client;model="command-r-plus";temperature=.3;streaming=!1;streamUsage=!0;constructor(e){super(e??{}),this.client=dx(e),this.model=e?.model??this.model,this.temperature=e?.temperature??this.temperature,this.streaming=e?.streaming??this.streaming,this.streamUsage=e?.streamUsage??this.streamUsage}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"cohere",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.temperature??void 0,ls_max_tokens:typeof n.maxTokens=="number"?n.maxTokens:void 0,ls_stop:Array.isArray(n.stopSequences)?n.stopSequences:void 0}}_llmType(){return"cohere"}invocationParams(e){if(e.tool_choice)throw new Error("'tool_choice' call option is not supported by ChatCohere.");const n={model:this.model,preamble:e.preamble,conversationId:e.conversationId,promptTruncation:e.promptTruncation,connectors:e.connectors,searchQueriesOnly:e.searchQueriesOnly,documents:e.documents,temperature:e.temperature??this.temperature,forceSingleStep:e.forceSingleStep,tools:e.tools};return Object.fromEntries(Object.entries(n).filter(([,o])=>o!==void 0))}bindTools(e,n){return this.withConfig({tools:Zye(e),...n})}_getChatRequest(e,n){const o=this.invocationParams(n),i=this._messagesToCohereToolResultsCurrChatTurn(e),u=[];let t="",r=[];if(o.forceSingleStep){t="";for(let s=0;s<e.length-1;s+=1){const l=e[s];if(!(Hc(l)&&l.tool_calls))if(l._getType().toLowerCase()==="tool"){if(r=r.concat(this._messageToCohereToolResults(e,s)),s===e.length-1||e[s+1]._getType().toLowerCase()!=="tool"){const f=Uv(l,r);u.push(f),r=[]}}else u.push(Uv(l,[]))}for(let s=e.length-1;s>=0;s-=1){const l=e[s];if(l._getType().toLowerCase()==="human"&&l.content){t=l.content.toString();break}}}else{for(let s=0;s<e.length-1;s+=1){const l=e[s];if(l._getType().toLowerCase()==="tool"){if(r=r.concat(this._messageToCohereToolResults(e,s)),s===e.length-1||e[s+1]._getType().toLowerCase()!=="tool"){const f=Uv(l,r);u.push(f),r=[]}}else u.push(Uv(l,[]))}t=i.length>0?"":e[e.length-1].content.toString()}return{message:t,chatHistory:u,toolResults:i.length>0?i:void 0,...o}}_getCurrChatTurnMessages(e){const n=[];for(let o=e.length-1;o>=0;o-=1){const i=e[o];if(n.push(i),i._getType().toLowerCase()==="human")break}return n.reverse()}_messagesToCohereToolResultsCurrChatTurn(e){const n=[],o=this._getCurrChatTurnMessages(e);for(const i of o)if(fV(i)){const u=i,t=o.filter(r=>Hc(r)&&r.tool_calls!==void 0);if(t.length>0){const r=t[t.length-1];r.tool_calls&&n.push(...r.tool_calls.filter(a=>a.id===u.tool_call_id).map(a=>({call:{name:a.name,parameters:a.args},outputs:dV(u.content)})))}}return n}_messageToCohereToolResults(e,n){const o=[],i=e[n];if(!fV(i))throw new Error("The message index does not correspond to an instance of ToolMessage");const t=e.slice(0,n).filter(r=>Hc(r)&&r.tool_calls).slice(-1)[0];return t.tool_calls&&o.push(...t.tool_calls.filter(r=>r.id===i.tool_call_id).map(r=>({call:{name:r.name,parameters:r.args},outputs:dV(i.content)}))),o}_formatCohereToolCalls(e=null){if(!e)return[];const n=[];for(const o of e)n.push({id:$c().substring(0,32),function:{name:o.name,arguments:o.parameters},type:"function"});return n}_convertCohereToolCallToLangchain(e){return e.map(n=>({name:n.function.name,args:n.function.arguments,id:n.id,type:"tool_call"}))}async _generate(e,n,o){const i={},u=this._getChatRequest(e,n);if(this.streaming){const l=this._streamResponseChunks(e,n,o),f={};for await(const b of l){const _=b.generationInfo?.completion??0;f[_]===void 0?f[_]=b:f[_]=f[_].concat(b)}return{generations:Object.entries(f).sort(([b],[_])=>parseInt(b,10)-parseInt(_,10)).map(([b,_])=>_),llmOutput:{estimatedTokenUsage:i}}}const t=await this.caller.callWithOptions({signal:n.signal},async()=>{let l;try{l=await this.client.chat(u)}catch(f){throw f.status=f.status??f.statusCode,f}return l});if(t.meta?.tokens){const{inputTokens:l,outputTokens:f}=t.meta.tokens;f&&(i.completionTokens=(i.completionTokens??0)+f),l&&(i.promptTokens=(i.promptTokens??0)+l),i.totalTokens=(i.totalTokens??0)+(i.promptTokens??0)+(i.completionTokens??0)}const r={...t};delete r.text,t.toolCalls&&t.toolCalls.length>0&&(r.toolCalls=this._formatCohereToolCalls(t.toolCalls));let a=[];return"toolCalls"in r&&(a=this._convertCohereToolCallToLangchain(r.toolCalls)),{generations:[{text:t.text,message:new Or({content:t.text,additional_kwargs:r,tool_calls:a,usage_metadata:{input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens??0}}),generationInfo:r}],llmOutput:{estimatedTokenUsage:i}}}async*_streamResponseChunks(e,n,o){const i=this._getChatRequest(e,n),u=await this.caller.call(async()=>{let t;try{t=await this.client.chatStream(i)}catch(r){throw r.status=r.status??r.statusCode,r}return t});for await(const t of u)if(t.eventType==="text-generation")yield new Yc({text:t.text,message:new zn({content:t.text})}),await o?.handleLLMNewToken(t.text);else if(t.eventType!=="stream-end")yield new Yc({text:"",message:new zn({content:"",additional_kwargs:{...t}}),generationInfo:{...t}});else if(t.eventType==="stream-end"&&(this.streamUsage||n.streamUsage)){const r=t.response.meta?.tokens?.inputTokens??0,a=t.response.meta?.tokens?.outputTokens??0,s={...t.response};t.response.toolCalls&&t.response.toolCalls.length>0&&(s.toolCalls=this._formatCohereToolCalls(t.response.toolCalls));let l=[];const f=s.toolCalls??[];f.length>0&&(l=f.map(m=>({name:m.function.name,args:m.function.arguments,id:m.id,index:m.index,type:"tool_call_chunk"}))),yield new Yc({text:"",message:new zn({content:"",additional_kwargs:{eventType:"stream-end"},tool_call_chunks:l,usage_metadata:{input_tokens:r,output_tokens:a,total_tokens:r+a}}),generationInfo:{eventType:"stream-end",...s}})}}_combineLLMOutput(...e){return e.reduce((n,o)=>{if(o&&o.estimatedTokenUsage){let i=n.estimatedTokenUsage?.completionTokens??0,u=n.estimatedTokenUsage?.promptTokens??0,t=n.estimatedTokenUsage?.totalTokens??0;i+=o.estimatedTokenUsage.completionTokens??0,u+=o.estimatedTokenUsage.promptTokens??0,t+=o.estimatedTokenUsage.totalTokens??0,n.estimatedTokenUsage={completionTokens:i,promptTokens:u,totalTokens:t}}return n},{estimatedTokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}},Xye={};lt(Xye,{BaseLLM:()=>cJ,LLM:()=>eve});var cJ=class xm extends EM{lc_namespace=["langchain","llms",this._llmType()];async invoke(n,o){const i=xm._convertInputToPromptValue(n);return(await this.generatePrompt([i],o,o?.callbacks)).generations[0][0].text}async*_streamResponseChunks(n,o,i){throw new Error("Not implemented.")}_separateRunnableConfigFromCallOptionsCompat(n){const[o,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=o.signal,[o,i]}async*_streamIterator(n,o){if(this._streamResponseChunks===xm.prototype._streamResponseChunks)yield this.invoke(n,o);else{const i=xm._convertInputToPromptValue(n),[u,t]=this._separateRunnableConfigFromCallOptionsCompat(o),r=await Kr.configure(u.callbacks,this.callbacks,u.tags,this.tags,u.metadata,this.metadata,{verbose:this.verbose}),a={options:t,invocation_params:this?.invocationParams(t),batch_size:1},s=await r?.handleLLMStart(this.toJSON(),[i.toString()],u.runId,void 0,a,void 0,void 0,u.runName);let l=new ep({text:""});try{for await(const f of this._streamResponseChunks(i.toString(),t,s?.[0]))l?l=l.concat(f):l=f,typeof f.text=="string"&&(yield f.text)}catch(f){throw await Promise.all((s??[]).map(m=>m?.handleLLMError(f))),f}await Promise.all((s??[]).map(f=>f?.handleLLMEnd({generations:[[l]]})))}}async generatePrompt(n,o,i){const u=n.map(t=>t.toString());return this.generate(u,o,i)}invocationParams(n){return{}}_flattenLLMResult(n){const o=[];for(let i=0;i<n.generations.length;i+=1){const u=n.generations[i];if(i===0)o.push({generations:[u],llmOutput:n.llmOutput});else{const t=n.llmOutput?{...n.llmOutput,tokenUsage:{}}:void 0;o.push({generations:[u],llmOutput:t})}}return o}async _generateUncached(n,o,i,u){let t;if(u!==void 0&&u.length===n.length)t=u;else{const l=await Kr.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),f={options:o,invocation_params:this?.invocationParams(o),batch_size:n.length};t=await l?.handleLLMStart(this.toJSON(),n,i.runId,void 0,f,void 0,void 0,i?.runName)}const r=!!t?.[0].handlers.find(aM);let a;if(r&&n.length===1&&this._streamResponseChunks!==xm.prototype._streamResponseChunks)try{const l=await this._streamResponseChunks(n[0],o,t?.[0]);let f;for await(const m of l)f===void 0?f=m:f=td(f,m);if(f===void 0)throw new Error("Received empty response from chat model call.");a={generations:[[f]],llmOutput:{}},await t?.[0].handleLLMEnd(a)}catch(l){throw await t?.[0].handleLLMError(l),l}else{try{a=await this._generate(n,o,t?.[0])}catch(f){throw await Promise.all((t??[]).map(m=>m?.handleLLMError(f))),f}const l=this._flattenLLMResult(a);await Promise.all((t??[]).map((f,m)=>f?.handleLLMEnd(l[m])))}const s=t?.map(l=>l.runId)||void 0;return Object.defineProperty(a,km,{value:s?{runIds:s}:void 0,configurable:!0}),a}async _generateCached({prompts:n,cache:o,llmStringKey:i,parsedOptions:u,handledOptions:t,runId:r}){const a=await Kr.configure(t.callbacks,this.callbacks,t.tags,this.tags,t.metadata,this.metadata,{verbose:this.verbose}),s={options:u,invocation_params:this?.invocationParams(u),batch_size:n.length},l=await a?.handleLLMStart(this.toJSON(),n,r,void 0,s,void 0,void 0,t?.runName),f=[],b=(await Promise.allSettled(n.map(async(y,v)=>{const S=await o.lookup(y,i);return S==null&&f.push(v),S}))).map((y,v)=>({result:y,runManager:l?.[v]})).filter(({result:y})=>y.status==="fulfilled"&&y.value!=null||y.status==="rejected"),_=[];await Promise.all(b.map(async({result:y,runManager:v},S)=>{if(y.status==="fulfilled"){const R=y.value;return _[S]=R.map(j=>(j.generationInfo={...j.generationInfo,tokenUsage:{}},j)),R.length&&await v?.handleLLMNewToken(R[0].text),v?.handleLLMEnd({generations:[R]},void 0,void 0,void 0,{cached:!0})}else return await v?.handleLLMError(y.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(y.reason)}));const p={generations:_,missingPromptIndices:f,startedRunManagers:l};return Object.defineProperty(p,km,{value:l?{runIds:l?.map(y=>y.runId)}:void 0,configurable:!0}),p}async generate(n,o,i){if(!Array.isArray(n))throw new Error("Argument 'prompts' is expected to be a string[]");let u;Array.isArray(o)?u={stop:o}:u=o;const[t,r]=this._separateRunnableConfigFromCallOptionsCompat(u);if(t.callbacks=t.callbacks??i,!this.cache)return this._generateUncached(n,r,t);const{cache:a}=this,s=this._getSerializedCacheKeyParametersForCall(r),{generations:l,missingPromptIndices:f,startedRunManagers:m}=await this._generateCached({prompts:n,cache:a,llmStringKey:s,parsedOptions:r,handledOptions:t,runId:t.runId});let b={};if(f.length>0){const _=await this._generateUncached(f.map(p=>n[p]),r,t,m!==void 0?f.map(p=>m?.[p]):void 0);await Promise.all(_.generations.map(async(p,y)=>{const v=f[y];return l[v]=p,a.update(n[v],s,p)})),b=_.llmOutput??{}}return{generations:l,llmOutput:b}}_identifyingParams(){return{}}_modelType(){return"base_llm"}},eve=class extends cJ{async _generate(e,n,o){return{generations:await Promise.all(e.map((u,t)=>this._call(u,{...n,promptIndex:t},o).then(r=>[{text:r}])))}}},tve={};lt(tve,{Embeddings:()=>dJ});var dJ=class{caller;constructor(e){this.caller=new f_(e??{})}},rve={};lt(rve,{chunkArray:()=>fJ});const fJ=(e,n)=>e.reduce((o,i,u)=>{const t=Math.floor(u/n),r=o[t]||[];return o[t]=r.concat([i]),o},[]);var Sm=class extends dJ{model;batchSize=48;embeddingTypes=["float"];client;constructor(e){const n={maxConcurrency:2,...e};if(super(n),this.client=dx(n),this.model=n?.model??this.model,!this.model)throw new Error("Model not specified for CohereEmbeddings instance. Please provide a model name from the options here: https://docs.cohere.com/reference/embed");this.batchSize=n?.batchSize??this.batchSize,this.embeddingTypes=n?.embeddingTypes??this.embeddingTypes}async embedDocuments(e){const n=fJ(e,this.batchSize),o=n.map(t=>this.embeddingWithRetry({model:this.model,texts:t,inputType:"search_document",embeddingTypes:this.embeddingTypes})),i=await Promise.all(o),u=[];for(let t=0;t<i.length;t+=1){const r=n[t],{embeddings:a}=i[t];for(let s=0;s<r.length;s+=1)"float"in a&&a.float?u.push(a.float[s]):Array.isArray(a)&&u.push(a[s])}return u}async embedQuery(e){const{embeddings:n}=await this.embeddingWithRetry({model:this.model,texts:[e],inputType:"search_query",embeddingTypes:this.embeddingTypes});if("float"in n&&n.float)return n.float[0];if(Array.isArray(n))return n[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(n,null,2)}`)}async embed(e){const{embeddings:n}=await this.embeddingWithRetry(e);if("float"in n&&n.float)return n.float[0];if(Array.isArray(n))return n[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(n,null,2)}`)}async embeddingWithRetry(e){return this.caller.call(async()=>{let n;try{n=await this.client.embed(e)}catch(o){throw o.status=o.status??o.statusCode,o}return n})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}},nve={};lt(nve,{BaseDocumentCompressor:()=>hJ});var hJ=class{static isBaseDocumentCompressor(e){return e?.compressDocuments!==void 0}},pV=class extends hJ{model;topN=3;client;maxChunksPerDoc;constructor(e){if(super(),this.client=dx(e),this.model=e?.model??this.model,!this.model)throw new Error("Model not specified for CohereRerank instance. Please provide a model name from the options here: https://docs.cohere.com/reference/rerank");this.topN=e?.topN??this.topN,this.maxChunksPerDoc=e?.maxChunksPerDoc}async compressDocuments(e,n){if(e==null||e.length===0)return[];const o=e.map(t=>t.pageContent),{results:i}=await this.client.rerank({model:this.model,query:n,documents:o,topN:this.topN,maxChunksPerDoc:this.maxChunksPerDoc}),u=[];for(let t=0;t<i.length;t+=1){const r=i[t],a=e[r.index];a.metadata.relevanceScore=r.relevanceScore,u.push(a)}return u}async rerank(e,n,o){const i=e.map(l=>typeof l=="string"?l:l.pageContent),u=o?.model??this.model,t=o?.topN??this.topN,r=o?.maxChunksPerDoc??this.maxChunksPerDoc,{results:a}=await this.client.rerank({model:u,query:n,documents:i,topN:t,maxChunksPerDoc:r});return a.map(l=>({index:l.index,relevanceScore:l.relevanceScore}))}};function Pr(e,n,o){return n==="groq"?new Wue({apiKey:e,model:o}):new Qye({apiKey:e,model:o})}function gV({isOpen:e,onClose:n}){const{apiKey:o,provider:i,setApiKey:u,setAvailableModels:t}=qn(),[r,a]=Ze.useState(i),[s,l]=Ze.useState(o||""),[f,m]=Ze.useState(!1),[b,_]=Ze.useState(o?"success":"idle"),[p,y]=Ze.useState(o?" API key loaded from storage":"");if(!e)return null;const v=async()=>{if(s.trim()){m(!0),_("idle"),y("");try{const j=r==="groq"?"llama-3.1-8b-instant":"command-a-03-2025";await Pr(s.trim(),r,j).invoke("Hi");let T=[];r==="groq"?T=["llama-3.1-8b-instant","llama-3.1-70b-versatile","llama-3.2-1b-preview","llama-3.2-3b-preview","mixtral-8x7b-32768","gemma2-9b-it"]:r==="cohere"&&(T=["command-a-03-2025","command-r-plus-08-2024","command-r-08-2024","command-r7b-12-2024"]),t(T),_("success"),y(` API key validated! Found ${T.length} available models`)}catch(j){_("error"),y(j instanceof Error?` Validation failed: ${j.message}`:" Invalid API key or network error")}finally{m(!1)}}},S=()=>{s.trim()&&b==="success"&&((s.trim()!==o||r!==i)&&u(s.trim(),r),n())},R={groq:{name:"Groq",url:"https://console.groq.com/keys",description:"Fastest inference, great for real-time demos"},cohere:{name:"Cohere",url:"https://dashboard.cohere.com/api-keys",description:"Excellent for RAG and embeddings"}};return x.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"relative max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl pointer-events-none",children:[...Array(10)].map((j,P)=>x.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${8+Math.random()*4}s`}},P))}),x.jsxs("div",{className:"relative holo-border rounded-2xl bg-gradient-to-br from-slate-900/95 via-blue-900/40 to-purple-900/40 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/30",children:[x.jsxs("div",{className:"sticky top-0 backdrop-blur-md bg-gradient-to-r from-cyan-500/10 to-purple-500/10 border-b border-cyan-500/30 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg shadow-lg",style:{boxShadow:"0 0 20px rgba(0, 212, 255, 0.5)"},children:x.jsx(MX,{className:"w-6 h-6 text-white"})}),x.jsx("h2",{className:"text-2xl font-bold heading-font neon-cyan tracking-wider",children:"API CONFIGURATION"})]}),x.jsx("button",{onClick:n,className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10",children:x.jsx(BV,{className:"w-5 h-5 text-white"})})]}),x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsx("div",{className:"border border-cyan-500/30 rounded-xl p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 backdrop-blur-sm",children:x.jsx("p",{className:"text-sm text-cyan-100",children:o?' Your API key is securely stored in your browser. You can update it below or click "Save & Continue" to keep using the current key.':"Your API key is stored locally in your browser and never sent to any server except the LLM provider you choose."})}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-cyan-400 mb-3 uppercase tracking-wide",children:"Select Provider"}),x.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.keys(R).map(j=>x.jsx("button",{onClick:()=>{a(j),(j!==i||!o)&&(_("idle"),y(""))},className:`text-left p-4 rounded-xl border-2 transition-all hover-lift ${r===j?"border-cyan-400 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 shadow-neural":"border-white/20 glass hover:glass-strong hover:border-cyan-500/50"}`,children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-bold text-white text-lg",children:R[j].name}),x.jsx("div",{className:"text-sm text-white/70 mt-1",children:R[j].description})]}),x.jsx("a",{href:R[j].url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",onClick:P=>P.stopPropagation(),children:x.jsx(SX,{className:"w-5 h-5"})})]})},j))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-cyan-400 mb-2 uppercase tracking-wide",children:"API Key"}),x.jsx("input",{type:"password",value:s,onChange:j=>{l(j.target.value),_("idle"),y("")},placeholder:"Enter your API key",className:"w-full px-4 py-3 glass border border-cyan-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white placeholder-white/40 transition-all"}),x.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Get your API key from"," ",x.jsx("a",{href:R[r].url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 hover:underline",children:R[r].name})]})]}),p&&x.jsx("div",{className:`p-4 rounded-xl border-2 ${b==="success"?"bg-gradient-to-r from-green-500/20 to-cyan-500/20 border-green-400/50 text-green-100":"bg-gradient-to-r from-red-500/20 to-orange-500/20 border-red-400/50 text-red-100"}`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[b==="success"?x.jsx(TV,{className:"w-5 h-5"}):x.jsx(CV,{className:"w-5 h-5"}),x.jsx("span",{className:"text-sm font-medium",children:p})]})}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{onClick:v,disabled:!s.trim()||f,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 disabled:from-slate-600 disabled:to-slate-700 text-white rounded-xl font-bold transition-all hover-lift disabled:cursor-not-allowed inline-flex items-center justify-center gap-2 shadow-lg",children:f?x.jsxs(x.Fragment,{children:[x.jsx(NV,{className:"w-4 h-4 animate-spin"}),"VALIDATING..."]}):"VALIDATE API KEY"}),x.jsx("button",{onClick:S,disabled:!s.trim()||b!=="success",className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-slate-600 disabled:to-slate-700 text-white rounded-xl font-bold transition-all hover-lift disabled:cursor-not-allowed shadow-lg",children:"SAVE & CONTINUE"})]}),x.jsx("button",{onClick:n,className:"w-full px-6 py-3 glass hover:glass-strong border border-white/20 hover:border-white/40 text-white rounded-xl font-semibold transition-all hover-lift",children:"Cancel"})]})]})]})})}function ave(){const{selectedModel:e,availableModels:n,setSelectedModel:o,provider:i}=qn();if(n.length===0)return null;const t={groq:"from-orange-500 to-red-600",cohere:"from-blue-500 to-cyan-600"}[i]||"from-purple-500 to-blue-600";return x.jsxs("div",{className:"flex items-center gap-2 glass rounded-lg px-3 py-2 border border-white/10 hover:border-white/20 transition-all",children:[x.jsx("div",{className:`p-1.5 bg-gradient-to-br ${t} rounded-lg`,children:x.jsx(Eb,{className:"w-3 h-3 text-white"})}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-xs text-white/50 uppercase tracking-wide",children:i||"Model"}),x.jsx("select",{value:e,onChange:r=>o(r.target.value),className:"text-sm bg-transparent text-white font-medium focus:outline-none cursor-pointer hover:text-gradient-neural transition-colors",children:n.map(r=>x.jsx("option",{value:r,className:"bg-slate-900 text-white",children:r},r))})]})]})}function ive({onGetStarted:e,onSkip:n}){const o=[{id:1,title:"Agent Components",description:"Learn how about diffe lest agents components.",icon:IV,color:"cyan",bgClass:"bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 border-cyan-400/40"},{id:2,title:"Simple Prompt/Response",description:"Simple prompt's & prompt consepence.",icon:yD,color:"purple",bgClass:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 border-purple-400/40"},{id:3,title:"Conversation Memory",description:"Aconersationwall memory, briliet conversation controme.",icon:jV,color:"orange",bgClass:"bg-gradient-to-br from-orange-500/20 to-orange-600/20 border-orange-400/40"},{id:4,title:"Custom System Prompts",description:"Custom system prompts for specialized agent behavior.",icon:yD,color:"pink",bgClass:"bg-gradient-to-br from-pink-500/20 to-pink-600/20 border-pink-400/40"},{id:5,title:"Knowledge Base",description:"A penivise lan vation of our knowledge AI agents.",icon:qT,color:"blue",bgClass:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 border-blue-400/40"},{id:6,title:"RAG with Wikipedia",description:"RAG with with wikipedia and Wikipedia with Wikipedia.",icon:jX,color:"green",bgClass:"bg-gradient-to-br from-green-500/20 to-green-600/20 border-green-400/40"},{id:7,title:"Multi-Agent Collaboration",description:"Multi-constituent wims the ontraces in multi-agent collaboration.",icon:qV,color:"red",bgClass:"bg-gradient-to-br from-red-500/20 to-red-600/20 border-red-400/40"},{id:8,title:"Orchestrator Agent",description:"Orchestrator accelbut multi-agent varialese erecuitves.",icon:DV,color:"yellow",bgClass:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 border-yellow-400/40"}];return x.jsxs("div",{className:"min-h-screen relative overflow-hidden tech-grid",children:[[...Array(20)].map((i,u)=>x.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},u)),x.jsx("header",{className:"relative z-20 border-b border-cyan-500/20 backdrop-blur-md bg-black/20",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[x.jsx("div",{className:"flex items-center gap-3",children:x.jsx("img",{src:"/logo.png",alt:"YUV.AI Logo",className:"h-12 w-auto"})}),x.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-sm font-medium",children:[x.jsx("button",{className:"text-white hover:text-cyan-400 transition-colors",children:"Home"}),x.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:["Features ",x.jsx(Dm,{className:"w-4 h-4"})]}),x.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:["Agents ",x.jsx(Dm,{className:"w-4 h-4"})]}),x.jsx("button",{className:"text-white/70 hover:text-white transition-colors",children:"Blog"}),x.jsx("button",{className:"text-white/70 hover:text-white transition-colors",children:"Support"}),x.jsx("button",{className:"text-white/70 hover:text-white transition-colors",children:"Contact"})]})]})}),x.jsx("section",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"relative",children:x.jsx("img",{src:"/hero.jpg",alt:"AI Agents 101",className:"w-full max-w-5xl h-auto object-contain mx-auto hero-glow rounded-3xl"})}),x.jsx("h2",{className:"text-center text-3xl font-semibold text-white/90 mt-8",children:"Master the art of building AI agents"})]})}),x.jsx("section",{className:"relative z-10 max-w-4xl mx-auto px-6 mb-12",children:x.jsx("div",{className:"holo-border rounded-2xl p-8 bg-gradient-to-br from-purple-900/40 to-blue-900/40 backdrop-blur-xl",children:x.jsxs("div",{className:"flex items-center gap-8",children:[x.jsx("div",{className:"relative flex-shrink-0",children:x.jsx("img",{src:"/yuvai.png",alt:"Yuval Avidani",className:"w-48 h-48 object-contain"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"text-2xl heading-font neon-cyan mb-3 tracking-wider",children:"WELCOME TO YOUR AI AGENTS TRAINING"}),x.jsx("p",{className:"text-3xl font-bold text-white mb-3",children:"Yuval Avidani"}),x.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[x.jsx("a",{href:"https://yuv.ai",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:x.jsx(PV,{className:"w-5 h-5"})}),x.jsx("a",{href:"https://github.com/hoodini",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:x.jsx(MV,{className:"w-5 h-5"})}),x.jsx("a",{href:"https://linkedin.com/in/yuval-avidani-87081474",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:x.jsx(AV,{className:"w-5 h-5"})}),x.jsx("a",{href:"https://x.com/yuvalav",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:x.jsx(zV,{className:"w-5 h-5"})}),x.jsx("a",{href:"https://instagram.com/yuval_770",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:x.jsx(xV,{className:"w-5 h-5"})}),x.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:x.jsx(UV,{className:"w-5 h-5"})})]}),x.jsx("p",{className:"text-xl text-white/90 font-medium",children:"AI Builder, Speaker & Educator"})]})]})})}),x.jsxs("section",{className:"relative z-10 max-w-6xl mx-auto px-6 mb-12",children:[x.jsx("h2",{className:"text-4xl font-bold heading-font text-white text-center mb-12",children:"What You'll Learn"}),x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsx("div",{className:"flex justify-center gap-4",children:o.slice(0,3).map((i,u)=>{const t=i.icon,r={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return x.jsx("div",{className:"hexagon relative group cursor-pointer",style:{animationDelay:`${u*.1}s`,color:r[i.color]},children:x.jsxs("div",{className:`hexagon-content ${i.bgClass} relative overflow-visible transition-all duration-300 group-hover:scale-105`,children:[x.jsx("div",{className:"absolute top-8 left-8 w-14 h-14 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-2xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${r[i.color]}60`},children:i.id}),x.jsx(t,{className:`w-24 h-24 mb-3 neon-${i.color}`,style:{filter:`drop-shadow(0 0 12px ${r[i.color]})`}}),x.jsx("h3",{className:"text-lg font-bold text-white mb-2 text-center px-4 leading-tight",children:i.title}),x.jsx("p",{className:"text-xs text-white/70 text-center px-4 leading-snug",children:i.description})]})},i.id)})}),x.jsx("div",{className:"flex justify-center gap-4",children:o.slice(3,5).map((i,u)=>{const t=i.icon,r={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return x.jsx("div",{className:"hexagon relative group cursor-pointer",style:{animationDelay:`${(u+3)*.1}s`,color:r[i.color]},children:x.jsxs("div",{className:`hexagon-content ${i.bgClass} relative overflow-visible transition-all duration-300 group-hover:scale-105`,children:[x.jsx("div",{className:"absolute top-8 left-8 w-14 h-14 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-2xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${r[i.color]}60`},children:i.id}),x.jsx(t,{className:`w-24 h-24 mb-3 neon-${i.color}`,style:{filter:`drop-shadow(0 0 12px ${r[i.color]})`}}),x.jsx("h3",{className:"text-lg font-bold text-white mb-2 text-center px-4 leading-tight",children:i.title}),x.jsx("p",{className:"text-xs text-white/70 text-center px-4 leading-snug",children:i.description})]})},i.id)})}),x.jsx("div",{className:"flex justify-center gap-4",children:o.slice(5).map((i,u)=>{const t=i.icon,r={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return x.jsx("div",{className:"hexagon relative group cursor-pointer",style:{animationDelay:`${(u+4)*.1}s`,color:r[i.color]},children:x.jsxs("div",{className:`hexagon-content ${i.bgClass} relative overflow-visible transition-all duration-300 group-hover:scale-105`,children:[x.jsx("div",{className:"absolute top-8 left-8 w-14 h-14 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-2xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${r[i.color]}60`},children:i.id}),x.jsx(t,{className:`w-24 h-24 mb-3 neon-${i.color}`,style:{filter:`drop-shadow(0 0 12px ${r[i.color]})`}}),x.jsx("h3",{className:"text-lg font-bold text-white mb-2 text-center px-4 leading-tight",children:i.title}),x.jsx("p",{className:"text-xs text-white/70 text-center px-4 leading-snug",children:i.description})]})},i.id)})})]})]}),x.jsx("section",{className:"relative z-10 max-w-3xl mx-auto px-6 mb-12",children:x.jsxs("div",{className:"border-2 border-cyan-500/30 rounded-2xl p-8 bg-gradient-to-br from-blue-900/30 to-purple-900/30 backdrop-blur-xl",children:[x.jsx("div",{className:"text-xs text-cyan-400 font-mono mb-2",children:"INFO"}),x.jsx("p",{className:"text-white/80 mb-6 leading-relaxed",children:"Lisiltae seli proerese bast and with your API keys. This can nada as more usen usto cente on your size end, local storage will find API keys and local storage."}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("button",{onClick:e,className:"w-full px-6 py-4 rounded-xl bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold text-lg transition-all duration-300 hover-lift shadow-lg shadow-blue-500/30",children:"CONFIGURE API KEY & START LEARNING"}),x.jsx("button",{onClick:n,className:"w-full px-6 py-4 rounded-xl bg-white/10 hover:bg-white/20 text-white/80 hover:text-white font-semibold transition-all duration-300 border border-white/20",children:"SKIP FOR NOW"})]})]})}),x.jsxs("footer",{className:"relative z-10 border-t border-cyan-500/20 py-8 text-center",children:[x.jsx("p",{className:"text-white/60 text-sm mb-2",children:" 2025 Yuval Avidani. All rights reserved"}),x.jsx("p",{className:"text-white/50 text-sm",children:"Founder of YUV.AI - Making AI practical, personal, and powerful"})]})]})}function pJ(){const{markLabComplete:e}=qn();return x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("div",{className:"mb-8 pb-6 border-b border-cyan-500/30",children:[x.jsx("h1",{className:"text-5xl font-bold heading-font neon-cyan mb-4 tracking-wider",children:"LAB 1: UNDERSTANDING AI AGENT COMPONENTS"}),x.jsx("p",{className:"text-xl text-white/80 font-medium",children:"Learn the three core components that make up an AI agent"})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-br from-purple-900/40 to-blue-900/40 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/30",children:[x.jsx("h2",{className:"text-3xl font-semibold text-gradient-neural mb-4",children:"What is an AI Agent?"}),x.jsx("p",{className:"text-white/80 text-lg leading-relaxed",children:"An AI agent is a system that can perceive its environment, make decisions, and take actions to achieve specific goals. Unlike simple chatbots, agents can use tools, remember context, and work autonomously."})]}),x.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-br from-slate-900/90 to-cyan-900/30 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/30",children:[x.jsxs("h2",{className:"text-3xl font-semibold text-white mb-4 flex items-center gap-3",children:[x.jsx("span",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 text-white rounded-xl text-lg font-black shadow-lg",style:{boxShadow:"0 0 20px rgba(0, 212, 255, 0.5)"},children:"1"}),"Large Language Model (LLM)"]}),x.jsx("p",{className:"text-white/80 text-lg mb-4 leading-relaxed",children:'The "brain" of the agent. The LLM processes input, reasons about what to do, and generates responses. Examples include GPT-4, Claude, Llama, Mistral, and others.'}),x.jsx("div",{className:"glass border border-cyan-500/30 rounded-xl p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10",children:x.jsxs("p",{className:"text-sm text-cyan-100 font-mono leading-relaxed",children:[x.jsx("strong",{className:"text-cyan-400",children:"Key capabilities:"}),x.jsx("br",{})," Natural language understanding",x.jsx("br",{})," Reasoning and decision-making",x.jsx("br",{})," Context interpretation",x.jsx("br",{})," Response generation"]})})]}),x.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-br from-slate-900/90 to-purple-900/30 backdrop-blur-xl shadow-2xl border-2 border-purple-500/30",children:[x.jsxs("h2",{className:"text-3xl font-semibold text-white mb-4 flex items-center gap-3",children:[x.jsx("span",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-xl text-lg font-black shadow-lg",style:{boxShadow:"0 0 20px rgba(168, 85, 247, 0.5)"},children:"2"}),"Tools"]}),x.jsx("p",{className:"text-white/80 text-lg mb-4 leading-relaxed",children:"Tools extend the agent's capabilities beyond text generation. They allow agents to interact with external systems, APIs, databases, calculators, search engines, and more."}),x.jsx("div",{className:"glass border border-purple-500/30 rounded-xl p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10",children:x.jsxs("p",{className:"text-sm text-purple-100 font-mono leading-relaxed",children:[x.jsx("strong",{className:"text-purple-400",children:"Example tools:"}),x.jsx("br",{})," Web search (Google, Bing)",x.jsx("br",{})," Calculator for math operations",x.jsx("br",{})," Database queries",x.jsx("br",{})," API calls (weather, stock prices, etc.)",x.jsx("br",{})," File system operations",x.jsx("br",{})," Code execution"]})})]}),x.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-br from-slate-900/90 to-green-900/30 backdrop-blur-xl shadow-2xl border-2 border-green-500/30",children:[x.jsxs("h2",{className:"text-3xl font-semibold text-white mb-4 flex items-center gap-3",children:[x.jsx("span",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-green-500 to-cyan-600 text-white rounded-xl text-lg font-black shadow-lg",style:{boxShadow:"0 0 20px rgba(34, 197, 94, 0.5)"},children:"3"}),"Memory"]}),x.jsx("p",{className:"text-white/80 text-lg mb-4 leading-relaxed",children:"Memory allows agents to remember previous interactions, maintain context across conversations, and learn from past experiences. This makes agents feel more intelligent and personalized."}),x.jsx("div",{className:"glass border border-green-500/30 rounded-xl p-4 bg-gradient-to-r from-green-500/10 to-cyan-500/10",children:x.jsxs("p",{className:"text-sm text-green-100 font-mono leading-relaxed",children:[x.jsx("strong",{className:"text-green-400",children:"Types of memory:"}),x.jsx("br",{})," Short-term: Recent conversation history",x.jsx("br",{})," Long-term: Persistent knowledge across sessions",x.jsx("br",{})," Working memory: Context window for current task",x.jsx("br",{})," Vector/Semantic memory: Knowledge base with embeddings"]})})]}),x.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-r from-cyan-900/40 to-purple-900/40 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/40",children:[x.jsx("h2",{className:"text-3xl font-semibold text-gradient-neural mb-6",children:"How They Work Together"}),x.jsxs("div",{className:"space-y-3 text-white/90 text-lg",children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),x.jsx("p",{children:"User sends a query to the agent"})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),x.jsxs("p",{children:["Agent checks ",x.jsx("strong",{children:"memory"})," for relevant context"]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),x.jsxs("p",{children:[x.jsx("strong",{children:"LLM"})," processes the query and decides if tools are needed"]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),x.jsxs("p",{children:["Agent calls appropriate ",x.jsx("strong",{children:"tools"})," to gather information"]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"5"}),x.jsxs("p",{children:[x.jsx("strong",{children:"LLM"})," synthesizes tool results with context from memory"]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"6"}),x.jsx("p",{children:"Agent responds to user and updates memory"})]})]})]}),x.jsx("div",{className:"flex justify-end",children:x.jsxs("button",{onClick:()=>e(1),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-500 hover:to-cyan-500 text-white rounded-xl font-bold text-lg transition-all hover-lift shadow-2xl uppercase tracking-wide",style:{boxShadow:"0 0 30px rgba(34, 197, 94, 0.4)"},children:[x.jsx(yX,{className:"w-6 h-6"}),"Mark Lab Complete"]})})]})]})}function mV(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,i=Array(n);o<n;o++)i[o]=e[o];return i}function ove(e){if(Array.isArray(e))return e}function sve(e,n,o){return(n=pve(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function uve(e,n){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,u,t,r,a=[],s=!0,l=!1;try{if(t=(o=o.call(e)).next,n!==0)for(;!(s=(i=t.call(o)).done)&&(a.push(i.value),a.length!==n);s=!0);}catch(f){l=!0,u=f}finally{try{if(!s&&o.return!=null&&(r=o.return(),Object(r)!==r))return}finally{if(l)throw u}}return a}}function lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _V(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),o.push.apply(o,i)}return o}function yV(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?_V(Object(o),!0).forEach(function(i){sve(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):_V(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function cve(e,n){if(e==null)return{};var o,i,u=dve(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(i=0;i<t.length;i++)o=t[i],n.indexOf(o)===-1&&{}.propertyIsEnumerable.call(e,o)&&(u[o]=e[o])}return u}function dve(e,n){if(e==null)return{};var o={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.indexOf(i)!==-1)continue;o[i]=e[i]}return o}function fve(e,n){return ove(e)||uve(e,n)||gve(e,n)||lve()}function hve(e,n){if(typeof e!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function pve(e){var n=hve(e,"string");return typeof n=="symbol"?n:n+""}function gve(e,n){if(e){if(typeof e=="string")return mV(e,n);var o={}.toString.call(e).slice(8,-1);return o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set"?Array.from(e):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?mV(e,n):void 0}}function mve(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function vV(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),o.push.apply(o,i)}return o}function bV(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?vV(Object(o),!0).forEach(function(i){mve(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):vV(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function _ve(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(i){return n.reduceRight(function(u,t){return t(u)},i)}}function Pm(e){return function n(){for(var o=this,i=arguments.length,u=new Array(i),t=0;t<i;t++)u[t]=arguments[t];return u.length>=e.length?e.apply(this,u):function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n.apply(o,[].concat(u,a))}}}function bb(e){return{}.toString.call(e).includes("Object")}function yve(e){return!Object.keys(e).length}function Qm(e){return typeof e=="function"}function vve(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function bve(e,n){return bb(n)||Wc("changeType"),Object.keys(n).some(function(o){return!vve(e,o)})&&Wc("changeField"),n}function wve(e){Qm(e)||Wc("selectorType")}function Ove(e){Qm(e)||bb(e)||Wc("handlerType"),bb(e)&&Object.values(e).some(function(n){return!Qm(n)})&&Wc("handlersType")}function Sve(e){e||Wc("initialIsRequired"),bb(e)||Wc("initialType"),yve(e)&&Wc("initialContent")}function Eve(e,n){throw new Error(e[n]||e.default)}var Rve={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Wc=Pm(Eve)(Rve),Lv={changes:bve,selector:wve,handler:Ove,initial:Sve};function jve(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Lv.initial(e),Lv.handler(n);var o={current:e},i=Pm(Mve)(o,n),u=Pm(Tve)(o),t=Pm(Lv.changes)(e),r=Pm(Cve)(o);function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Lv.selector(l),l(o.current)}function s(l){_ve(i,u,t,r)(l)}return[a,s]}function Cve(e,n){return Qm(n)?n(e.current):n}function Tve(e,n){return e.current=bV(bV({},e.current),n),n}function Mve(e,n,o){return Qm(n)?n(e.current):Object.keys(o).forEach(function(i){var u;return(u=n[i])===null||u===void 0?void 0:u.call(n,e.current[i])}),o}var xve={create:jve},Pve={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Ave(e){return function n(){for(var o=this,i=arguments.length,u=new Array(i),t=0;t<i;t++)u[t]=arguments[t];return u.length>=e.length?e.apply(this,u):function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n.apply(o,[].concat(u,a))}}}function Nve(e){return{}.toString.call(e).includes("Object")}function Dve(e){return e||wV("configIsRequired"),Nve(e)||wV("configType"),e.urls?(Ive(),{paths:{vs:e.urls.monacoBase}}):e}function Ive(){console.warn(gJ.deprecation)}function zve(e,n){throw new Error(e[n]||e.default)}var gJ={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},wV=Ave(zve)(gJ),qve={config:Dve},Bve=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(u){return o.reduceRight(function(t,r){return r(t)},u)}};function mJ(e,n){return Object.keys(n).forEach(function(o){n[o]instanceof Object&&e[o]&&Object.assign(n[o],mJ(e[o],n[o]))}),yV(yV({},e),n)}var Uve={type:"cancelation",msg:"operation is manually canceled"};function N1(e){var n=!1,o=new Promise(function(i,u){e.then(function(t){return n?u(Uve):i(t)}),e.catch(u)});return o.cancel=function(){return n=!0},o}var Lve=["monaco"],$ve=xve.create({config:Pve,isInitialized:!1,resolve:null,reject:null,monaco:null}),_J=fve($ve,2),E_=_J[0],f0=_J[1];function Fve(e){var n=qve.config(e),o=n.monaco,i=cve(n,Lve);f0(function(u){return{config:mJ(u.config,i),monaco:o}})}function Vve(){var e=E_(function(n){var o=n.monaco,i=n.isInitialized,u=n.resolve;return{monaco:o,isInitialized:i,resolve:u}});if(!e.isInitialized){if(f0({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),N1(D1);if(window.monaco&&window.monaco.editor)return yJ(window.monaco),e.resolve(window.monaco),N1(D1);Bve(Gve,Kve)(kve)}return N1(D1)}function Gve(e){return document.body.appendChild(e)}function Hve(e){var n=document.createElement("script");return e&&(n.src=e),n}function Kve(e){var n=E_(function(i){var u=i.config,t=i.reject;return{config:u,reject:t}}),o=Hve("".concat(n.config.paths.vs,"/loader.js"));return o.onload=function(){return e()},o.onerror=n.reject,o}function kve(){var e=E_(function(o){var i=o.config,u=o.resolve,t=o.reject;return{config:i,resolve:u,reject:t}}),n=window.require;n.config(e.config),n(["vs/editor/editor.main"],function(o){var i=o.m||o;yJ(i),e.resolve(i)},function(o){e.reject(o)})}function yJ(e){E_().monaco||f0({monaco:e})}function Yve(){return E_(function(e){var n=e.monaco;return n})}var D1=new Promise(function(e,n){return f0({resolve:e,reject:n})}),vJ={config:Fve,init:Vve,__getMonacoInstance:Yve},Wve={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},I1=Wve,Jve={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Zve=Jve;function Qve({children:e}){return ml.createElement("div",{style:Zve.container},e)}var Xve=Qve,ebe=Xve;function tbe({width:e,height:n,isEditorReady:o,loading:i,_ref:u,className:t,wrapperProps:r}){return ml.createElement("section",{style:{...I1.wrapper,width:e,height:n},...r},!o&&ml.createElement(ebe,null,i),ml.createElement("div",{ref:u,style:{...I1.fullWidth,...!o&&I1.hide},className:t}))}var rbe=tbe,bJ=Ze.memo(rbe);function nbe(e){Ze.useEffect(e,[])}var wJ=nbe;function abe(e,n,o=!0){let i=Ze.useRef(!0);Ze.useEffect(i.current||!o?()=>{i.current=!1}:e,n)}var pn=abe;function Lm(){}function kh(e,n,o,i){return ibe(e,i)||obe(e,n,o,i)}function ibe(e,n){return e.editor.getModel(OJ(e,n))}function obe(e,n,o,i){return e.editor.createModel(n,o,i?OJ(e,i):void 0)}function OJ(e,n){return e.Uri.parse(n)}function sbe({original:e,modified:n,language:o,originalLanguage:i,modifiedLanguage:u,originalModelPath:t,modifiedModelPath:r,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:s=!1,theme:l="light",loading:f="Loading...",options:m={},height:b="100%",width:_="100%",className:p,wrapperProps:y={},beforeMount:v=Lm,onMount:S=Lm}){let[R,j]=Ze.useState(!1),[P,T]=Ze.useState(!0),C=Ze.useRef(null),D=Ze.useRef(null),M=Ze.useRef(null),L=Ze.useRef(S),q=Ze.useRef(v),z=Ze.useRef(!1);wJ(()=>{let Y=vJ.init();return Y.then(U=>(D.current=U)&&T(!1)).catch(U=>U?.type!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>C.current?k():Y.cancel()}),pn(()=>{if(C.current&&D.current){let Y=C.current.getOriginalEditor(),U=kh(D.current,e||"",i||o||"text",t||"");U!==Y.getModel()&&Y.setModel(U)}},[t],R),pn(()=>{if(C.current&&D.current){let Y=C.current.getModifiedEditor(),U=kh(D.current,n||"",u||o||"text",r||"");U!==Y.getModel()&&Y.setModel(U)}},[r],R),pn(()=>{let Y=C.current.getModifiedEditor();Y.getOption(D.current.editor.EditorOption.readOnly)?Y.setValue(n||""):n!==Y.getValue()&&(Y.executeEdits("",[{range:Y.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),Y.pushUndoStop())},[n],R),pn(()=>{C.current?.getModel()?.original.setValue(e||"")},[e],R),pn(()=>{let{original:Y,modified:U}=C.current.getModel();D.current.editor.setModelLanguage(Y,i||o||"text"),D.current.editor.setModelLanguage(U,u||o||"text")},[o,i,u],R),pn(()=>{D.current?.editor.setTheme(l)},[l],R),pn(()=>{C.current?.updateOptions(m)},[m],R);let w=Ze.useCallback(()=>{if(!D.current)return;q.current(D.current);let Y=kh(D.current,e||"",i||o||"text",t||""),U=kh(D.current,n||"",u||o||"text",r||"");C.current?.setModel({original:Y,modified:U})},[o,n,u,e,i,t,r]),V=Ze.useCallback(()=>{!z.current&&M.current&&(C.current=D.current.editor.createDiffEditor(M.current,{automaticLayout:!0,...m}),w(),D.current?.editor.setTheme(l),j(!0),z.current=!0)},[m,l,w]);Ze.useEffect(()=>{R&&L.current(C.current,D.current)},[R]),Ze.useEffect(()=>{!P&&!R&&V()},[P,R,V]);function k(){let Y=C.current?.getModel();a||Y?.original?.dispose(),s||Y?.modified?.dispose(),C.current?.dispose()}return ml.createElement(bJ,{width:_,height:b,isEditorReady:R,loading:f,_ref:M,className:p,wrapperProps:y})}var ube=sbe;Ze.memo(ube);function lbe(e){let n=Ze.useRef();return Ze.useEffect(()=>{n.current=e},[e]),n.current}var cbe=lbe,$v=new Map;function dbe({defaultValue:e,defaultLanguage:n,defaultPath:o,value:i,language:u,path:t,theme:r="light",line:a,loading:s="Loading...",options:l={},overrideServices:f={},saveViewState:m=!0,keepCurrentModel:b=!1,width:_="100%",height:p="100%",className:y,wrapperProps:v={},beforeMount:S=Lm,onMount:R=Lm,onChange:j,onValidate:P=Lm}){let[T,C]=Ze.useState(!1),[D,M]=Ze.useState(!0),L=Ze.useRef(null),q=Ze.useRef(null),z=Ze.useRef(null),w=Ze.useRef(R),V=Ze.useRef(S),k=Ze.useRef(),Y=Ze.useRef(i),U=cbe(t),H=Ze.useRef(!1),Z=Ze.useRef(!1);wJ(()=>{let G=vJ.init();return G.then(J=>(L.current=J)&&M(!1)).catch(J=>J?.type!=="cancelation"&&console.error("Monaco initialization: error:",J)),()=>q.current?N():G.cancel()}),pn(()=>{let G=kh(L.current,e||i||"",n||u||"",t||o||"");G!==q.current?.getModel()&&(m&&$v.set(U,q.current?.saveViewState()),q.current?.setModel(G),m&&q.current?.restoreViewState($v.get(t)))},[t],T),pn(()=>{q.current?.updateOptions(l)},[l],T),pn(()=>{!q.current||i===void 0||(q.current.getOption(L.current.editor.EditorOption.readOnly)?q.current.setValue(i):i!==q.current.getValue()&&(Z.current=!0,q.current.executeEdits("",[{range:q.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),q.current.pushUndoStop(),Z.current=!1))},[i],T),pn(()=>{let G=q.current?.getModel();G&&u&&L.current?.editor.setModelLanguage(G,u)},[u],T),pn(()=>{a!==void 0&&q.current?.revealLine(a)},[a],T),pn(()=>{L.current?.editor.setTheme(r)},[r],T);let ee=Ze.useCallback(()=>{if(!(!z.current||!L.current)&&!H.current){V.current(L.current);let G=t||o,J=kh(L.current,i||e||"",n||u||"",G||"");q.current=L.current?.editor.create(z.current,{model:J,automaticLayout:!0,...l},f),m&&q.current.restoreViewState($v.get(G)),L.current.editor.setTheme(r),a!==void 0&&q.current.revealLine(a),C(!0),H.current=!0}},[e,n,o,i,u,t,l,f,m,r,a]);Ze.useEffect(()=>{T&&w.current(q.current,L.current)},[T]),Ze.useEffect(()=>{!D&&!T&&ee()},[D,T,ee]),Y.current=i,Ze.useEffect(()=>{T&&j&&(k.current?.dispose(),k.current=q.current?.onDidChangeModelContent(G=>{Z.current||j(q.current.getValue(),G)}))},[T,j]),Ze.useEffect(()=>{if(T){let G=L.current.editor.onDidChangeMarkers(J=>{let oe=q.current.getModel()?.uri;if(oe&&J.find(me=>me.path===oe.path)){let me=L.current.editor.getModelMarkers({resource:oe});P?.(me)}});return()=>{G?.dispose()}}return()=>{}},[T,P]);function N(){k.current?.dispose(),b?m&&$v.set(t,q.current.saveViewState()):q.current.getModel()?.dispose(),q.current.dispose()}return ml.createElement(bJ,{width:_,height:p,isEditorReady:T,loading:s,_ref:z,className:y,wrapperProps:v})}var fbe=dbe,hbe=Ze.memo(fbe),pbe=hbe;function _t({title:e,initialCode:n,language:o="typescript",editable:i=!0,description:u,onExecute:t,autoRun:r=!1}){const[a,s]=Ze.useState(n),[l,f]=Ze.useState(!1),[m,b]=Ze.useState(null),[_,p]=Ze.useState([]),[y,v]=Ze.useState(!1);Ze.useEffect(()=>{r&&t&&!m&&S()},[r]);const S=async()=>{if(t){f(!0),b(null),p([]);try{const R=await t(a);b(R),R.error?p([R.error]):p([R.output])}catch(R){const j=R instanceof Error?R.message:"Unknown error";b({output:"",error:j,timestamp:Date.now()}),p([j])}finally{f(!1),v(!0)}}};return x.jsx("div",{className:"group relative animate-fade-in",children:x.jsxs("div",{className:"relative rounded-2xl overflow-hidden glass-strong shadow-neural border-2 border-white/10 transition-all duration-300 hover:border-white/20 hover-lift",children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 glass border-b border-white/10 backdrop-blur-xl",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-red-500 to-red-600 hover:shadow-lg hover:shadow-red-500/50 transition-all cursor-pointer"}),x.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-500 hover:shadow-lg hover:shadow-yellow-500/50 transition-all cursor-pointer"}),x.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-green-400 to-green-500 hover:shadow-lg hover:shadow-green-500/50 transition-all cursor-pointer"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-white/60",children:[x.jsx(HX,{className:"w-4 h-4 text-gradient-neural"}),x.jsx("span",{className:"text-sm font-mono text-white/80",children:e||"code-editor"})]})]}),x.jsxs("button",{onClick:S,disabled:l||!t,className:"inline-flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-emerald-500 via-green-500 to-teal-600 hover:from-emerald-600 hover:via-green-600 hover:to-teal-700 disabled:from-slate-700 disabled:to-slate-800 text-white text-sm font-bold rounded-lg transition-all duration-200 shadow-luxury disabled:cursor-not-allowed hover-lift disabled:opacity-50 relative overflow-hidden group/btn",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-600 to-emerald-600 opacity-0 group-hover/btn:opacity-100 transition-opacity"}),l?x.jsxs(x.Fragment,{children:[x.jsx(NV,{className:"w-4 h-4 animate-spin relative z-10"}),x.jsx("span",{className:"font-mono relative z-10",children:"Running..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(LX,{className:"w-4 h-4 relative z-10"}),x.jsx("span",{className:"font-mono relative z-10",children:"Run Code"})]})]})]}),u&&x.jsx("div",{className:"px-4 py-3 glass border-b border-white/10",children:x.jsxs("p",{className:"text-sm text-cyan-300 font-mono",children:["// ",u]})}),x.jsx("div",{className:"relative",children:x.jsx(pbe,{height:"350px",language:o,value:a,onChange:R=>i&&s(R||""),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:15,fontFamily:"'Fira Code', 'Consolas', 'Monaco', monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:!i,tabSize:2,padding:{top:16,bottom:16},smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",wordWrap:"on",wrappingIndent:"indent"}})}),m&&x.jsxs("div",{className:`border-t border-white/10 glass backdrop-blur-xl transition-all duration-300 ${y?"max-h-[600px]":"max-h-0"} overflow-hidden`,children:[x.jsxs("div",{className:"p-5 overflow-y-auto max-h-[550px]",children:[x.jsx("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-white/10",children:m.error?x.jsxs(x.Fragment,{children:[x.jsx(CV,{className:"w-5 h-5 text-red-400"}),x.jsx("span",{className:"text-base font-mono font-bold text-red-400",children:"Error"})]}):x.jsxs(x.Fragment,{children:[x.jsx(hX,{className:"w-5 h-5 text-green-400"}),x.jsx("span",{className:"text-base font-mono font-bold text-gradient-neural",children:"Success"})]})}),x.jsx("div",{className:"font-mono text-base space-y-2 leading-relaxed",children:_.map((R,j)=>x.jsx("div",{className:`animate-fade-in ${m?.error?"text-red-300":"text-emerald-300"}`,style:{animationDelay:`${j*30}ms`},children:R||""},j))})]}),x.jsx("button",{onClick:()=>v(!y),className:"w-full py-2.5 text-sm text-white/60 hover:text-white/90 glass border-t border-white/10 transition-all font-mono font-semibold",children:y?" Collapse Output":" Expand Output"})]})]})})}function gbe(){const{apiKey:e,provider:n,selectedModel:o,markLabComplete:i}=qn(),u=()=>n==="groq"?"ChatGroq":"ChatCohere",t=()=>n==="groq"?"import { ChatGroq } from '@langchain/groq';":"import { ChatCohere } from '@langchain/cohere';",r=`// Step 1: Import the LangChain ${u()} class
${t()}

console.log(' LangChain imported successfully!');`,a=`// Step 2: Create an LLM instance with your API key
const llm = new ${u()}({
  apiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  model: '${o}',
});

console.log(' LLM instance created with model: ${o}');`,s=`// Step 3: Define your prompt
const prompt = "What are the three main components of an AI agent?";

console.log(' Prompt ready:', prompt);`,l=`// Step 4: Get a response from the LLM
const llm = new ${u()}({
  apiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  model: '${o}',
});

const prompt = "What are the three main components of an AI agent?";
const response = await llm.invoke(prompt);

console.log('Response:', response.content);`,f=`// Complete Example: Simple Prompt/Response Agent
${t()}

// Initialize the LLM
const llm = new ${u()}({
  apiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  model: '${o}',
});

// Send a prompt and get response
const prompt = "Explain what an AI agent is in one sentence.";
const response = await llm.invoke(prompt);

console.log('Agent Response:', response.content);`,m=async()=>{try{return{output:" LangChain imported successfully!",timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");return{output:` LLM instance created with model: ${o}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{return{output:" Prompt ready: What are the three main components of an AI agent?",timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");return{output:`Response: ${(await Pr(e,n,o).invoke("What are the three main components of an AI agent?")).content}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const R=await Pr(e,n,o).invoke("Explain what an AI agent is in one sentence.");return i(2),{output:`Agent Response: ${R.content}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:x.jsx(ZX,{className:"w-8 h-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 2: Simple Prompt/Response Agent"}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Learn the basics of interacting with an LLM"})]})]}),x.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[x.jsx($f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),x.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[x.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),x.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[x.jsx("li",{children:"How to import and initialize a LangChain LLM"}),x.jsx("li",{children:"Sending a simple prompt to the AI"}),x.jsx("li",{children:"Receiving and displaying the response"}),x.jsx("li",{children:"Understanding the basic request/response cycle"})]})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Import LangChain"})]}),x.jsx(_t,{title:"step-1-import",initialCode:r,description:`First, we import the ${u()} class from LangChain`,onExecute:m})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create LLM Instance"})]}),x.jsx(_t,{title:"step-2-create-llm",initialCode:a,description:"Initialize the LLM with your API key and selected model",onExecute:b})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Define Your Prompt"})]}),x.jsx(_t,{title:"step-3-prompt",initialCode:s,description:"Create a simple question to ask the AI",onExecute:_})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Get AI Response"})]}),x.jsx(_t,{title:"step-4-response",initialCode:l,description:"Send the prompt and receive the AI's response",onExecute:p})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"5"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Example"})]}),x.jsx(_t,{title:"complete-agent",initialCode:f,description:"Put it all together - your first working AI agent!",onExecute:y})]}),x.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[x.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Congratulations!"}),x.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've created your first AI agent! This simple prompt/response pattern is the foundation for all AI agents. In the next labs, we'll add memory, tools, and more complex behaviors."})]})]})}function mbe(){const{apiKey:e,provider:n,selectedModel:o,markLabComplete:i}=qn(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Import required message types
import { ChatOpenAI } from '@langchain/openai';
import { SystemMessage, HumanMessage } from '@langchain/core/messages';

console.log(' Message types imported successfully!');`,r=`// Step 2: Create a system prompt to define agent personality
const systemPrompt = new SystemMessage(\`You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies. Always be encouraging and patient.\`);

console.log(' System prompt created!');
console.log('Role:', 'AI Tutor');`,a=`// Step 3: Create the user's question
const userPrompt = new HumanMessage("What is machine learning?");

console.log(' User prompt ready!');
console.log('Question:', userPrompt.content);`,s=`// Step 4: Combine system and user messages
const systemPrompt = new SystemMessage(\`You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies.\`);
const userPrompt = new HumanMessage("What is machine learning?");

const messages = [systemPrompt, userPrompt];

console.log(' Messages array created!');
console.log('Total messages:', messages.length);`,l=`// Step 5: Send to LLM and get response
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const systemPrompt = new SystemMessage(\`You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies.\`);
const userPrompt = new HumanMessage("What is machine learning?");
const messages = [systemPrompt, userPrompt];

const response = await llm.invoke(messages);

console.log('Agent Response:', response.content);`,f=`// Complete Example: Try a different personality!
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

// Try this pirate personality!
const systemPrompt = new SystemMessage(\`You are a pirate AI assistant. You speak like a pirate and use nautical terms. You're helpful but always stay in character. End responses with "Arrr!"\`);
const userPrompt = new HumanMessage("How do I learn programming?");

const messages = [systemPrompt, userPrompt];
const response = await llm.invoke(messages);

console.log('Pirate Agent Response:', response.content);`,m=async()=>{try{return{output:" Message types imported successfully!",timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{return{output:` System prompt created!
Role: AI Tutor`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{return{output:` User prompt ready!
Question: ${new Dt("What is machine learning?").content}`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{const S=new ur("You are an expert AI tutor."),R=new Dt("What is machine learning?");return{output:` Messages array created!
Total messages: ${[S,R].length}`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const S=Pr(e,n,o),R=new ur("You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies."),j=new Dt("What is machine learning?"),P=[R,j];return{output:`Agent Response: ${(await S.invoke(P)).content}`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},v=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const S=Pr(e,n,o),R=new ur(`You are a pirate AI assistant. You speak like a pirate and use nautical terms. You're helpful but always stay in character. End responses with "Arrr!"`),j=new Dt("How do I learn programming?"),P=[R,j],T=await S.invoke(P);return i(3),{output:`Pirate Agent Response: ${T.content}`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:x.jsx(Eb,{className:"w-8 h-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 3: Custom System Prompts"}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Shape your agent's personality and behavior"})]})]}),x.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[x.jsx($f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),x.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[x.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),x.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[x.jsx("li",{children:"How to use SystemMessage to define agent personality"}),x.jsx("li",{children:"Combining system prompts with user messages"}),x.jsx("li",{children:"Creating different agent behaviors (tutor, pirate, expert)"}),x.jsx("li",{children:"Understanding how system prompts guide responses"})]})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Import Message Types"})]}),x.jsx(_t,{title:"step-1-imports",initialCode:t,description:"Import SystemMessage and HumanMessage from LangChain",onExecute:m})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create System Prompt"})]}),x.jsx(_t,{title:"step-2-system-prompt",initialCode:r,description:"Define the agent's role, personality, and expertise",onExecute:b})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create User Message"})]}),x.jsx(_t,{title:"step-3-user-prompt",initialCode:a,description:"Create the user's question or request",onExecute:_})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Combine Messages"})]}),x.jsx(_t,{title:"step-4-combine",initialCode:s,description:"Put system and user messages into an array",onExecute:p})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"5"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Get Agent Response"})]}),x.jsx(_t,{title:"step-5-response",initialCode:l,description:"Send messages to the LLM and see how system prompt shapes the response",onExecute:y})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"6"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Try a Different Personality"})]}),x.jsx(_t,{title:"complete-pirate-agent",initialCode:f,description:"Experiment with a pirate personality - see how system prompts change behavior!",onExecute:v})]}),x.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 rounded-xl p-6 border border-yellow-200 dark:border-yellow-800",children:[x.jsx("h3",{className:"font-semibold text-yellow-900 dark:text-yellow-100 mb-3",children:" Pro Tips for System Prompts"}),x.jsxs("ul",{className:"space-y-2 text-yellow-800 dark:text-yellow-200 text-sm",children:[x.jsx("li",{children:" Be specific about the role and expertise level"}),x.jsx("li",{children:" Include output format requirements (JSON, bullet points, etc.)"}),x.jsx("li",{children:" Add constraints (word limits, language style, tone)"}),x.jsx("li",{children:" Test different system prompts to find what works best"}),x.jsx("li",{children:" Keep system prompts concise but informative"})]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[x.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Great Work!"}),x.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've learned how to shape your agent's personality! System prompts are powerful tools for controlling agent behavior. Next, you'll learn how to add memory to make conversations more natural."})]})]})}function _be(){const{apiKey:e,provider:n,selectedModel:o,markLabComplete:i}=qn(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Import message types for memory
import { HumanMessage, AIMessage } from '@langchain/core/messages';

console.log(' Message types imported!');
console.log('We will use arrays to store conversation history');`,r=`// Step 2: Create a messages array to store history
const messages = [];

console.log(' Messages array created!');
console.log('This array will act as our memory');`,a=`// Step 3: Add first user message and get response
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const messages = [];
messages.push(new HumanMessage("My name is Yuval and I teach AI agents"));

const response1 = await llm.invoke(messages);
messages.push(new AIMessage(response1.content.toString()));

console.log('Turn 1:');
console.log('User: My name is Yuval and I teach AI agents');
console.log('Agent:', response1.content);
console.log('');
console.log('Messages in memory:', messages.length);`,s=`// Step 4: Second turn - agent remembers!
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const messages = [];
messages.push(new HumanMessage("My name is Yuval and I teach AI agents"));
const response1 = await llm.invoke(messages);
messages.push(new AIMessage(response1.content.toString()));

// Ask about name - should remember!
messages.push(new HumanMessage("What's my name?"));
const response2 = await llm.invoke(messages);
messages.push(new AIMessage(response2.content.toString()));

console.log('Turn 2:');
console.log('User: What\\'s my name?');
console.log('Agent:', response2.content);
console.log('');
console.log('Messages in memory:', messages.length);`,l=`// Complete Example: Full conversation with memory
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

// Initialize conversation memory
const messages = [];

// Turn 1: Introduce yourself
messages.push(new HumanMessage("My name is Yuval and I teach AI agents"));
const response1 = await llm.invoke(messages);
messages.push(new AIMessage(response1.content.toString()));

// Turn 2: Ask about name
messages.push(new HumanMessage("What's my name?"));
const response2 = await llm.invoke(messages);
messages.push(new AIMessage(response2.content.toString()));

// Turn 3: Ask about profession
messages.push(new HumanMessage("What do I teach?"));
const response3 = await llm.invoke(messages);

console.log('Turn 1:');
console.log('User: My name is Yuval and I teach AI agents');
console.log('Agent:', response1.content);
console.log('');
console.log('Turn 2:');
console.log('User: What\\'s my name?');
console.log('Agent:', response2.content);
console.log('');
console.log('Turn 3:');
console.log('User: What do I teach?');
console.log('Agent:', response3.content);
console.log('');
console.log(' Agent remembered context across all turns!');`,f=async()=>{try{return{output:` Message types imported!
We will use arrays to store conversation history`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},m=async()=>{try{return{output:` Messages array created!
This array will act as our memory`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const y=Pr(e,n,o),v=[];v.push(new Dt("My name is Yuval and I teach AI agents"));const S=await y.invoke(v);return v.push(new Or(S.content.toString())),{output:`Turn 1:
User: My name is Yuval and I teach AI agents
Agent: ${S.content}

Messages in memory: ${v.length}`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const y=Pr(e,n,o),v=[];v.push(new Dt("My name is Yuval and I teach AI agents"));const S=await y.invoke(v);v.push(new Or(S.content.toString())),v.push(new Dt("What's my name?"));const R=await y.invoke(v);return v.push(new Or(R.content.toString())),{output:`Turn 2:
User: What's my name?
Agent: ${R.content}

Messages in memory: ${v.length}`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const y=Pr(e,n,o),v=[];v.push(new Dt("My name is Yuval and I teach AI agents"));const S=await y.invoke(v);v.push(new Or(S.content.toString())),v.push(new Dt("What's my name?"));const R=await y.invoke(v);v.push(new Or(R.content.toString())),v.push(new Dt("What do I teach?"));const j=await y.invoke(v);return i(4),{output:`Turn 1:
User: My name is Yuval and I teach AI agents
Agent: ${S.content}

Turn 2:
User: What's my name?
Agent: ${R.content}

Turn 3:
User: What do I teach?
Agent: ${j.content}

 Agent remembered context across all turns!`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl shadow-lg",children:x.jsx(jV,{className:"w-8 h-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 4: Conversation Memory"}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Make your agent remember previous messages"})]})]}),x.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[x.jsx($f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),x.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[x.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),x.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[x.jsx("li",{children:"How to store conversation history in message arrays"}),x.jsx("li",{children:"Adding HumanMessage and AIMessage to memory"}),x.jsx("li",{children:"Building multi-turn conversations"}),x.jsx("li",{children:"How agents use past context to answer new questions"})]})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Import Message Types"})]}),x.jsx(_t,{title:"step-1-imports",initialCode:t,description:"Import HumanMessage and AIMessage for conversation memory",onExecute:f})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create Memory Array"})]}),x.jsx(_t,{title:"step-2-memory",initialCode:r,description:"Initialize an array to store conversation history",onExecute:m})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"First Turn - Store Message"})]}),x.jsx(_t,{title:"step-3-turn1",initialCode:a,description:"Send first message and store both user and AI responses",onExecute:b})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Second Turn - Agent Remembers!"})]}),x.jsx(_t,{title:"step-4-turn2",initialCode:s,description:"Ask a question that requires memory - watch the magic!",onExecute:_})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"5"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Multi-Turn Conversation"})]}),x.jsx(_t,{title:"complete-memory-agent",initialCode:l,description:"Full conversation with memory - the agent remembers everything!",onExecute:p})]}),x.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[x.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-100 mb-3",children:" How Memory Works"}),x.jsxs("ul",{className:"space-y-2 text-purple-800 dark:text-purple-200 text-sm",children:[x.jsx("li",{children:" Each message (user and AI) is stored in an array"}),x.jsx("li",{children:" The entire array is sent to the LLM with each new message"}),x.jsx("li",{children:" The LLM can reference previous messages to maintain context"}),x.jsx("li",{children:" This allows for natural, coherent conversations"}),x.jsx("li",{children:" More messages = more tokens = higher cost (manage carefully!)"})]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[x.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Excellent Progress!"}),x.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've learned how to give your agent memory! This is crucial for building conversational AI systems. Next, you'll learn how to give your agent access to external knowledge bases."})]})]})}var R_=class extends zt{lc_serializable=!0;lc_namespace=["langchain_core","prompts",this._getPromptType()];get lc_attributes(){return{partialVariables:void 0}}inputVariables;outputParser;partialVariables;metadata;tags;constructor(e){super(e);const{inputVariables:n}=e;if(n.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const n=this.partialVariables??{},o={};for(const[u,t]of Object.entries(n))typeof t=="string"?o[u]=t:o[u]=await t();return{...o,...e}}async invoke(e,n){const o={...this.metadata,...n?.metadata},i=[...this.tags??[],...n?.tags??[]];return this._callWithConfig(u=>this.formatPromptValue(u),e,{...n,tags:i,metadata:o,runType:"prompt"})}},Xm=class extends R_{async formatPromptValue(e){const n=await this.format(e);return new wM(n)}};var ybe=Object.prototype.toString,hp=Array.isArray||function(n){return ybe.call(n)==="[object Array]"};function fx(e){return typeof e=="function"}function vbe(e){return hp(e)?"array":typeof e}function z1(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function OV(e,n){return e!=null&&typeof e=="object"&&n in e}function bbe(e,n){return e!=null&&typeof e!="object"&&e.hasOwnProperty&&e.hasOwnProperty(n)}var wbe=RegExp.prototype.test;function Obe(e,n){return wbe.call(e,n)}var Sbe=/\S/;function Ebe(e){return!Obe(Sbe,e)}var Rbe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function jbe(e){return String(e).replace(/[&<>"'`=\/]/g,function(o){return Rbe[o]})}var Cbe=/\s*/,Tbe=/\s+/,SV=/\s*=/,Mbe=/\s*\}/,xbe=/#|\^|\/|>|\{|&|=|!/;function Pbe(e,n){if(!e)return[];var o=!1,i=[],u=[],t=[],r=!1,a=!1,s="",l=0;function f(){if(r&&!a)for(;t.length;)delete u[t.pop()];else t=[];r=!1,a=!1}var m,b,_;function p(M){if(typeof M=="string"&&(M=M.split(Tbe,2)),!hp(M)||M.length!==2)throw new Error("Invalid tags: "+M);m=new RegExp(z1(M[0])+"\\s*"),b=new RegExp("\\s*"+z1(M[1])),_=new RegExp("\\s*"+z1("}"+M[1]))}p(n||Yr.tags);for(var y=new j_(e),v,S,R,j,P,T;!y.eos();){if(v=y.pos,R=y.scanUntil(m),R)for(var C=0,D=R.length;C<D;++C)j=R.charAt(C),Ebe(j)?(t.push(u.length),s+=j):(a=!0,o=!0,s+=" "),u.push(["text",j,v,v+1]),v+=1,j===`
`&&(f(),s="",l=0,o=!1);if(!y.scan(m))break;if(r=!0,S=y.scan(xbe)||"name",y.scan(Cbe),S==="="?(R=y.scanUntil(SV),y.scan(SV),y.scanUntil(b)):S==="{"?(R=y.scanUntil(_),y.scan(Mbe),y.scanUntil(b),S="&"):R=y.scanUntil(b),!y.scan(b))throw new Error("Unclosed tag at "+y.pos);if(S==">"?P=[S,R,v,y.pos,s,l,o]:P=[S,R,v,y.pos],l++,u.push(P),S==="#"||S==="^")i.push(P);else if(S==="/"){if(T=i.pop(),!T)throw new Error('Unopened section "'+R+'" at '+v);if(T[1]!==R)throw new Error('Unclosed section "'+T[1]+'" at '+v)}else S==="name"||S==="{"||S==="&"?a=!0:S==="="&&p(R)}if(f(),T=i.pop(),T)throw new Error('Unclosed section "'+T[1]+'" at '+y.pos);return Nbe(Abe(u))}function Abe(e){for(var n=[],o,i,u=0,t=e.length;u<t;++u)o=e[u],o&&(o[0]==="text"&&i&&i[0]==="text"?(i[1]+=o[1],i[3]=o[3]):(n.push(o),i=o));return n}function Nbe(e){for(var n=[],o=n,i=[],u,t,r=0,a=e.length;r<a;++r)switch(u=e[r],u[0]){case"#":case"^":o.push(u),i.push(u),o=u[4]=[];break;case"/":t=i.pop(),t[5]=u[2],o=i.length>0?i[i.length-1][4]:n;break;default:o.push(u)}return n}function j_(e){this.string=e,this.tail=e,this.pos=0}j_.prototype.eos=function(){return this.tail===""};j_.prototype.scan=function(n){var o=this.tail.match(n);if(!o||o.index!==0)return"";var i=o[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i};j_.prototype.scanUntil=function(n){var o=this.tail.search(n),i;switch(o){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,o),this.tail=this.tail.substring(o)}return this.pos+=i.length,i};function ip(e,n){this.view=e,this.cache={".":this.view},this.parent=n}ip.prototype.push=function(n){return new ip(n,this)};ip.prototype.lookup=function(n){var o=this.cache,i;if(o.hasOwnProperty(n))i=o[n];else{for(var u=this,t,r,a,s=!1;u;){if(n.indexOf(".")>0)for(t=u.view,r=n.split("."),a=0;t!=null&&a<r.length;)a===r.length-1&&(s=OV(t,r[a])||bbe(t,r[a])),t=t[r[a++]];else t=u.view[n],s=OV(u.view,n);if(s){i=t;break}u=u.parent}o[n]=i}return fx(i)&&(i=i.call(this.view)),i};function Dr(){this.templateCache={_cache:{},set:function(n,o){this._cache[n]=o},get:function(n){return this._cache[n]},clear:function(){this._cache={}}}}Dr.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Dr.prototype.parse=function(n,o){var i=this.templateCache,u=n+":"+(o||Yr.tags).join(":"),t=typeof i<"u",r=t?i.get(u):void 0;return r==null&&(r=Pbe(n,o),t&&i.set(u,r)),r};Dr.prototype.render=function(n,o,i,u){var t=this.getConfigTags(u),r=this.parse(n,t),a=o instanceof ip?o:new ip(o,void 0);return this.renderTokens(r,a,i,n,u)};Dr.prototype.renderTokens=function(n,o,i,u,t){for(var r="",a,s,l,f=0,m=n.length;f<m;++f)l=void 0,a=n[f],s=a[0],s==="#"?l=this.renderSection(a,o,i,u,t):s==="^"?l=this.renderInverted(a,o,i,u,t):s===">"?l=this.renderPartial(a,o,i,t):s==="&"?l=this.unescapedValue(a,o):s==="name"?l=this.escapedValue(a,o,t):s==="text"&&(l=this.rawValue(a)),l!==void 0&&(r+=l);return r};Dr.prototype.renderSection=function(n,o,i,u,t){var r=this,a="",s=o.lookup(n[1]);function l(b){return r.render(b,o,i,t)}if(s){if(hp(s))for(var f=0,m=s.length;f<m;++f)a+=this.renderTokens(n[4],o.push(s[f]),i,u,t);else if(typeof s=="object"||typeof s=="string"||typeof s=="number")a+=this.renderTokens(n[4],o.push(s),i,u,t);else if(fx(s)){if(typeof u!="string")throw new Error("Cannot use higher-order sections without the original template");s=s.call(o.view,u.slice(n[3],n[5]),l),s!=null&&(a+=s)}else a+=this.renderTokens(n[4],o,i,u,t);return a}};Dr.prototype.renderInverted=function(n,o,i,u,t){var r=o.lookup(n[1]);if(!r||hp(r)&&r.length===0)return this.renderTokens(n[4],o,i,u,t)};Dr.prototype.indentPartial=function(n,o,i){for(var u=o.replace(/[^ \t]/g,""),t=n.split(`
`),r=0;r<t.length;r++)t[r].length&&(r>0||!i)&&(t[r]=u+t[r]);return t.join(`
`)};Dr.prototype.renderPartial=function(n,o,i,u){if(i){var t=this.getConfigTags(u),r=fx(i)?i(n[1]):i[n[1]];if(r!=null){var a=n[6],s=n[5],l=n[4],f=r;s==0&&l&&(f=this.indentPartial(r,l,a));var m=this.parse(f,t);return this.renderTokens(m,o,i,f,u)}}};Dr.prototype.unescapedValue=function(n,o){var i=o.lookup(n[1]);if(i!=null)return i};Dr.prototype.escapedValue=function(n,o,i){var u=this.getConfigEscape(i)||Yr.escape,t=o.lookup(n[1]);if(t!=null)return typeof t=="number"&&u===Yr.escape?String(t):u(t)};Dr.prototype.rawValue=function(n){return n[1]};Dr.prototype.getConfigTags=function(n){return hp(n)?n:n&&typeof n=="object"?n.tags:void 0};Dr.prototype.getConfigEscape=function(n){if(n&&typeof n=="object"&&!hp(n))return n.escape};var Yr={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){e_.templateCache=e},get templateCache(){return e_.templateCache}},e_=new Dr;Yr.clearCache=function(){return e_.clearCache()};Yr.parse=function(n,o){return e_.parse(n,o)};Yr.render=function(n,o,i,u){if(typeof n!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+vbe(n)+'" was given as the first argument for mustache#render(template, view, partials)');return e_.render(n,o,i,u)};Yr.escape=jbe;Yr.Scanner=j_;Yr.Context=ip;Yr.Writer=Dr;function SJ(){Yr.escape=e=>e}const t_=e=>{const n=e.split(""),o=[],i=(t,r)=>{for(let a=r;a<n.length;a+=1)if(t.includes(n[a]))return a;return-1};let u=0;for(;u<n.length;)if(n[u]==="{"&&u+1<n.length&&n[u+1]==="{")o.push({type:"literal",text:"{"}),u+=2;else if(n[u]==="}"&&u+1<n.length&&n[u+1]==="}")o.push({type:"literal",text:"}"}),u+=2;else if(n[u]==="{"){const t=i("}",u);if(t<0)throw new Error("Unclosed '{' in template.");o.push({type:"variable",name:n.slice(u+1,t).join("")}),u=t+1}else{if(n[u]==="}")throw new Error("Single '}' in template.");{const t=i("{}",u),r=(t<0?n.slice(u):n.slice(u,t)).join("");o.push({type:"literal",text:r}),u=t<0?n.length:t}}return o},EJ=(e,n=[])=>{const o=[];for(const i of e)if(i[0]==="name"){const u=i[1].includes(".")?i[1].split(".")[0]:i[1];o.push({type:"variable",name:u})}else if(["#","&","^",">"].includes(i[0])){if(o.push({type:"variable",name:i[1]}),i[0]==="#"&&i.length>4&&Array.isArray(i[4])){const u=[...n,i[1]],t=EJ(i[4],u);o.push(...t)}}else o.push({type:"literal",text:i[1]});return o},wb=e=>{SJ();const n=Yr.parse(e);return EJ(n)},RJ=(e,n)=>t_(e).reduce((o,i)=>{if(i.type==="variable"){if(i.name in n){const u=typeof n[i.name]=="string"?n[i.name]:JSON.stringify(n[i.name]);return o+u}throw new Error(`(f-string) Missing value for input ${i.name}`)}return o+i.text},""),jJ=(e,n)=>(SJ(),Yr.render(e,n)),Ob={"f-string":RJ,mustache:jJ},CJ={"f-string":t_,mustache:wb},rl=(e,n,o)=>{try{return Ob[n](e,o)}catch(i){throw Mb(i,"INVALID_PROMPT_INPUT")}},Sb=(e,n)=>CJ[n](e),C_=(e,n,o)=>{if(!(n in Ob)){const i=Object.keys(Ob);throw new Error(`Invalid template format. Got \`${n}\`;
                         should be one of ${i}`)}try{const i=o.reduce((u,t)=>(u[t]="foo",u),{});Array.isArray(e)?e.forEach(u=>{if(u.type==="text"&&"text"in u&&typeof u.text=="string")rl(u.text,n,i);else if(u.type==="image_url"){if(typeof u.image_url=="string")rl(u.image_url,n,i);else if(typeof u.image_url=="object"&&u.image_url!==null&&"url"in u.image_url&&typeof u.image_url.url=="string"){const t=u.image_url.url;rl(t,n,i)}}else throw new Error(`Invalid message template received. ${JSON.stringify(u,null,2)}`)}):rl(e,n,i)}catch(i){throw new Error(`Invalid prompt schema: ${i.message}`)}};var gn=class Am extends Xm{static lc_name(){return"PromptTemplate"}template;templateFormat="f-string";validateTemplate=!0;additionalContentFields;constructor(n){if(super(n),n.templateFormat==="mustache"&&n.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,n),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),C_(this.template,this.templateFormat,o)}}_getPromptType(){return"prompt"}async format(n){const o=await this.mergePartialAndUserVariables(n);return rl(this.template,this.templateFormat,o)}static fromExamples(n,o,i,u=`

`,t=""){const r=[t,...n,o].join(u);return new Am({inputVariables:i,template:r})}static fromTemplate(n,o){const{templateFormat:i="f-string",...u}=o??{},t=new Set;return Sb(n,i).forEach(r=>{r.type==="variable"&&t.add(r.name)}),new Am({inputVariables:[...t],templateFormat:i,template:n,...u})}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new Am(u)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(n){if(!n.template)throw new Error("Prompt template must have a template");return new Am({inputVariables:n.input_variables,template:n.template,templateFormat:n.template_format})}},Xv=class TJ extends R_{static lc_name(){return"ImagePromptTemplate"}lc_namespace=["langchain_core","prompts","image"];template;templateFormat="f-string";validateTemplate=!0;additionalContentFields;constructor(n){if(super(n),this.template=n.template,this.templateFormat=n.templateFormat??this.templateFormat,this.validateTemplate=n.validateTemplate??this.validateTemplate,this.additionalContentFields=n.additionalContentFields,this.validateTemplate){let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),C_([{type:"image_url",image_url:this.template}],this.templateFormat,o)}}_getPromptType(){return"prompt"}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new TJ(u)}async format(n){const o={};for(const[r,a]of Object.entries(this.template))typeof a=="string"?o[r]=rl(a,this.templateFormat,n):o[r]=a;const i=n.url||o.url,u=n.detail||o.detail;if(!i)throw new Error("Must provide either an image URL.");if(typeof i!="string")throw new Error("url must be a string.");const t={url:i};return u&&(t.detail=u),t}async formatPromptValue(n){const o=await this.format(n);return new NH(o)}},xT=class extends zt{lc_namespace=["langchain_core","prompts","dict"];lc_serializable=!0;template;templateFormat;inputVariables;static lc_name(){return"DictPromptTemplate"}constructor(e){const n=e.templateFormat??"f-string",o=PT(e.template,n);super({inputVariables:o,...e}),this.template=e.template,this.templateFormat=n,this.inputVariables=o}async format(e){return AT(this.template,e,this.templateFormat)}async invoke(e){return await this._callWithConfig(this.format.bind(this),e,{runType:"prompt"})}};function PT(e,n){const o=[];for(const i of Object.values(e))if(typeof i=="string")Sb(i,n).forEach(u=>{u.type==="variable"&&o.push(u.name)});else if(Array.isArray(i))for(const u of i)typeof u=="string"?Sb(u,n).forEach(t=>{t.type==="variable"&&o.push(t.name)}):typeof u=="object"&&o.push(...PT(u,n));else typeof i=="object"&&i!==null&&o.push(...PT(i,n));return Array.from(new Set(o))}function AT(e,n,o){const i={};for(const[u,t]of Object.entries(e))if(typeof t=="string")i[u]=rl(t,o,n);else if(Array.isArray(t)){const r=[];for(const a of t)typeof a=="string"?r.push(rl(a,o,n)):typeof a=="object"&&r.push(AT(a,n,o));i[u]=r}else typeof t=="object"&&t!==null?i[u]=AT(t,n,o):i[u]=t;return i}var h0=class extends zt{lc_namespace=["langchain_core","prompts","chat"];lc_serializable=!0;async invoke(e,n){return this._callWithConfig(o=>this.formatMessages(o),e,{...n,runType:"prompt"})}},NT=class extends h0{static lc_name(){return"MessagesPlaceholder"}variableName;optional;constructor(e){typeof e=="string"&&(e={variableName:e}),super(e),this.variableName=e.variableName,this.optional=e.optional??!1}get inputVariables(){return[this.variableName]}async formatMessages(e){const n=e[this.variableName];if(this.optional&&!n)return[];if(!n){const i=new Error(`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);throw i.name="InputFormatError",i}let o;try{Array.isArray(n)?o=n.map(Kc):o=[Kc(n)]}catch(i){const u=typeof n=="string"?n:JSON.stringify(n,null,2),t=new Error([`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,`Received value: ${u}`,`Additional message: ${i.message}`].join(`

`));throw t.name="InputFormatError",t.lc_error_code=i.lc_error_code,t}return o}},MJ=class extends h0{prompt;constructor(e){"prompt"in e||(e={prompt:e}),super(e),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}},hx=class extends R_{constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){const n=await this.formatMessages(e);return new OM(n)}},xJ=class extends MJ{static lc_name(){return"ChatMessagePromptTemplate"}role;constructor(e,n){"prompt"in e||(e={prompt:e,role:n}),super(e),this.role=e.role}async format(e){return new nc(await this.prompt.format(e),this.role)}static fromTemplate(e,n,o){return new this(gn.fromTemplate(e,{templateFormat:o?.templateFormat}),n)}};function Dbe(e){return e===null||typeof e!="object"||Array.isArray(e)?!1:Object.keys(e).length===1&&"text"in e&&typeof e.text=="string"}function Ibe(e){return e===null||typeof e!="object"||Array.isArray(e)?!1:"image_url"in e&&(typeof e.image_url=="string"||typeof e.image_url=="object"&&e.image_url!==null&&"url"in e.image_url&&typeof e.image_url.url=="string")}var px=class extends h0{lc_namespace=["langchain_core","prompts","chat"];lc_serializable=!0;inputVariables=[];additionalOptions={};prompt;messageClass;static _messageClass(){throw new Error("Can not invoke _messageClass from inside _StringImageMessagePromptTemplate")}chatMessageClass;constructor(e,n){if("prompt"in e||(e={prompt:e}),super(e),this.prompt=e.prompt,Array.isArray(this.prompt)){let o=[];this.prompt.forEach(i=>{"inputVariables"in i&&(o=o.concat(i.inputVariables))}),this.inputVariables=o}else this.inputVariables=this.prompt.inputVariables;this.additionalOptions=n??this.additionalOptions}createMessage(e){const n=this.constructor;if(n._messageClass()){const o=n._messageClass();return new o({content:e})}else if(n.chatMessageClass){const o=n.chatMessageClass();return new o({content:e,role:this.getRoleFromMessageClass(o.lc_name())})}else throw new Error("No message class defined")}getRoleFromMessageClass(e){switch(e){case"HumanMessage":return"human";case"AIMessage":return"ai";case"SystemMessage":return"system";case"ChatMessage":return"chat";default:throw new Error("Invalid message class name")}}static fromTemplate(e,n){if(typeof e=="string")return new this(gn.fromTemplate(e,n));const o=[];for(const i of e)if(typeof i=="string")o.push(gn.fromTemplate(i,n));else if(i!==null)if(Dbe(i)){let u="";typeof i.text=="string"&&(u=i.text??"");const t={...n,additionalContentFields:i};o.push(gn.fromTemplate(u,t))}else if(Ibe(i)){let u=i.image_url??"",t,r=[];if(typeof u=="string"){let a;n?.templateFormat==="mustache"?a=wb(u):a=t_(u);const s=a.flatMap(l=>l.type==="variable"?[l.name]:[]);if((s?.length??0)>0){if(s.length>1)throw new Error(`Only one format variable allowed per image template.
Got: ${s}
From: ${u}`);r=[s[0]]}else r=[];u={url:u},t=new Xv({template:u,inputVariables:r,templateFormat:n?.templateFormat,additionalContentFields:i})}else if(typeof u=="object"){if("url"in u){let a;n?.templateFormat==="mustache"?a=wb(u.url):a=t_(u.url),r=a.flatMap(s=>s.type==="variable"?[s.name]:[])}else r=[];t=new Xv({template:u,inputVariables:r,templateFormat:n?.templateFormat,additionalContentFields:i})}else throw new Error("Invalid image template");o.push(t)}else typeof i=="object"&&o.push(new xT({template:i,templateFormat:n?.templateFormat}));return new this({prompt:o,additionalOptions:n})}async format(e){if(this.prompt instanceof Xm){const n=await this.prompt.format(e);return this.createMessage(n)}else{const n=[];for(const o of this.prompt){let i={};if(!("inputVariables"in o))throw new Error(`Prompt ${o} does not have inputVariables defined.`);for(const u of o.inputVariables)i||(i={[u]:e[u]}),i={...i,[u]:e[u]};if(o instanceof Xm){const u=await o.format(i);let t;"additionalContentFields"in o&&(t=o.additionalContentFields),u!==""&&n.push({...t,type:"text",text:u})}else if(o instanceof Xv){const u=await o.format(i);let t;"additionalContentFields"in o&&(t=o.additionalContentFields),n.push({...t,type:"image_url",image_url:u})}else if(o instanceof xT){const u=await o.format(i);let t;"additionalContentFields"in o&&(t=o.additionalContentFields),n.push({...t,...u})}}return this.createMessage(n)}}async formatMessages(e){return[await this.format(e)]}},gx=class extends px{static _messageClass(){return Dt}static lc_name(){return"HumanMessagePromptTemplate"}},PJ=class extends px{static _messageClass(){return Or}static lc_name(){return"AIMessagePromptTemplate"}},AJ=class extends px{static _messageClass(){return ur}static lc_name(){return"SystemMessagePromptTemplate"}};function zbe(e){return typeof e.formatMessages=="function"}function qbe(e,n){if(zbe(e)||kl(e))return e;if(Array.isArray(e)&&e[0]==="placeholder"){const u=e[1];if(n?.templateFormat==="mustache"&&typeof u=="string"&&u.slice(0,2)==="{{"&&u.slice(-2)==="}}"){const t=u.slice(2,-2);return new NT({variableName:t,optional:!0})}else if(typeof u=="string"&&u[0]==="{"&&u[u.length-1]==="}"){const t=u.slice(1,-1);return new NT({variableName:t,optional:!0})}throw new Error(`Invalid placeholder template for format ${n?.templateFormat??'"f-string"'}: "${e[1]}". Expected a variable name surrounded by ${n?.templateFormat==="mustache"?"double":"single"} curly braces.`)}const o=Kc(e);let i;if(typeof o.content=="string"?i=o.content:i=o.content.map(u=>"text"in u?{...u,text:u.text}:"image_url"in u?{...u,image_url:u.image_url}:u),o._getType()==="human")return gx.fromTemplate(i,n);if(o._getType()==="ai")return PJ.fromTemplate(i,n);if(o._getType()==="system")return AJ.fromTemplate(i,n);if(nc.isInstance(o))return xJ.fromTemplate(o.content,o.role,n);throw new Error(`Could not coerce message prompt template from input. Received message type: "${o._getType()}".`)}function Bbe(e){return e.constructor.lc_name()==="MessagesPlaceholder"}var mx=class eb extends hx{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}promptMessages;validateTemplate=!0;templateFormat="f-string";constructor(n){if(super(n),n.templateFormat==="mustache"&&n.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,n),this.validateTemplate){const o=new Set;for(const a of this.promptMessages)if(!(a instanceof In))for(const s of a.inputVariables)o.add(s);const i=this.inputVariables,u=new Set(this.partialVariables?i.concat(Object.keys(this.partialVariables)):i),t=new Set([...u].filter(a=>!o.has(a)));if(t.size>0)throw new Error(`Input variables \`${[...t]}\` are not used in any of the prompt messages.`);const r=new Set([...o].filter(a=>!u.has(a)));if(r.size>0)throw new Error(`Input variables \`${[...r]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async _parseImagePrompts(n,o){if(typeof n.content=="string")return n;const i=await Promise.all(n.content.map(async u=>{if(u.type!=="image_url")return u;let t="";typeof u.image_url=="string"?t=u.image_url:typeof u.image_url=="object"&&u.image_url!==null&&"url"in u.image_url&&typeof u.image_url.url=="string"&&(t=u.image_url.url);const a=await gn.fromTemplate(t,{templateFormat:this.templateFormat}).format(o);return typeof u.image_url=="object"&&u.image_url!==null&&"url"in u.image_url?u.image_url.url=a:u.image_url=a,u}));return n.content=i,n}async formatMessages(n){const o=await this.mergePartialAndUserVariables(n);let i=[];for(const u of this.promptMessages)if(u instanceof In)i.push(await this._parseImagePrompts(u,o));else{let t;this.templateFormat==="mustache"?t={...o}:t=u.inputVariables.reduce((a,s)=>{if(!(s in o)&&!(Bbe(u)&&u.optional))throw Mb(new Error(`Missing value for input variable \`${s.toString()}\``),"INVALID_PROMPT_INPUT");return a[s]=o[s],a},{});const r=await u.formatMessages(t);i=i.concat(r)}return i}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new eb(u)}static fromTemplate(n,o){const i=gn.fromTemplate(n,o),u=new gx({prompt:i});return this.fromMessages([u])}static fromMessages(n,o){const i=n.reduce((r,a)=>r.concat(a instanceof eb?a.promptMessages:[qbe(a,o)]),[]),u=n.reduce((r,a)=>a instanceof eb?Object.assign(r,a.partialVariables):r,Object.create(null)),t=new Set;for(const r of i)if(!(r instanceof In))for(const a of r.inputVariables)a in u||t.add(a);return new this({...o,inputVariables:[...t],promptMessages:i,partialVariables:u,templateFormat:o?.templateFormat})}},Ube=class DT extends Xm{lc_serializable=!1;examples;exampleSelector;examplePrompt;suffix="";exampleSeparator=`

`;prefix="";templateFormat="f-string";validateTemplate=!0;constructor(n){if(super(n),Object.assign(this,n),this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),C_(this.prefix+this.suffix,this.templateFormat,o)}}_getPromptType(){return"few_shot"}static lc_name(){return"FewShotPromptTemplate"}async getExamples(n){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(n);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new DT(u)}async format(n){const o=await this.mergePartialAndUserVariables(n),i=await this.getExamples(o),u=await Promise.all(i.map(r=>this.examplePrompt.format(r))),t=[this.prefix,...u,this.suffix].join(this.exampleSeparator);return rl(t,this.templateFormat,o)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(this.outputParser!==void 0)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(n){const{example_prompt:o}=n;if(!o)throw new Error("Missing example prompt");const i=await gn.deserialize(o);let u;if(Array.isArray(n.examples))u=n.examples;else throw new Error("Invalid examples format. Only list or string are supported.");return new DT({inputVariables:n.input_variables,examplePrompt:i,examples:u,exampleSeparator:n.example_separator,prefix:n.prefix,suffix:n.suffix,templateFormat:n.template_format})}},Lbe=class NJ extends hx{lc_serializable=!0;examples;exampleSelector;examplePrompt;suffix="";exampleSeparator=`

`;prefix="";templateFormat="f-string";validateTemplate=!0;_getPromptType(){return"few_shot_chat"}static lc_name(){return"FewShotChatMessagePromptTemplate"}constructor(n){if(super(n),this.examples=n.examples,this.examplePrompt=n.examplePrompt,this.exampleSeparator=n.exampleSeparator??`

`,this.exampleSelector=n.exampleSelector,this.prefix=n.prefix??"",this.suffix=n.suffix??"",this.templateFormat=n.templateFormat??"f-string",this.validateTemplate=n.validateTemplate??!0,this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),C_(this.prefix+this.suffix,this.templateFormat,o)}}async getExamples(n){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(n);throw new Error("One of 'examples' and 'example_selector' should be provided")}async formatMessages(n){const o=await this.mergePartialAndUserVariables(n);let i=await this.getExamples(o);i=i.map(t=>{const r={};return this.examplePrompt.inputVariables.forEach(a=>{r[a]=t[a]}),r});const u=[];for(const t of i){const r=await this.examplePrompt.formatMessages(t);u.push(...r)}return u}async format(n){const o=await this.mergePartialAndUserVariables(n),i=await this.getExamples(o),t=(await Promise.all(i.map(a=>this.examplePrompt.formatMessages(a)))).flat().map(a=>a.content),r=[this.prefix,...t,this.suffix].join(this.exampleSeparator);return rl(r,this.templateFormat,o)}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new NJ(u)}},$be=class tb extends R_{static lc_name(){return"PipelinePromptTemplate"}pipelinePrompts;finalPrompt;constructor(n){super({...n,inputVariables:[]}),this.pipelinePrompts=n.pipelinePrompts,this.finalPrompt=n.finalPrompt,this.inputVariables=this.computeInputValues()}computeInputValues(){const n=this.pipelinePrompts.map(i=>i.name),o=this.pipelinePrompts.map(i=>i.prompt.inputVariables.filter(u=>!n.includes(u))).flat();return[...new Set(o)]}static extractRequiredInputValues(n,o){return o.reduce((i,u)=>(i[u]=n[u],i),{})}async formatPipelinePrompts(n){const o=await this.mergePartialAndUserVariables(n);for(const{name:i,prompt:u}of this.pipelinePrompts){const t=tb.extractRequiredInputValues(o,u.inputVariables);u instanceof mx?o[i]=await u.formatMessages(t):o[i]=await u.format(t)}return tb.extractRequiredInputValues(o,this.finalPrompt.inputVariables)}async formatPromptValue(n){return this.finalPrompt.formatPromptValue(await this.formatPipelinePrompts(n))}async format(n){return this.finalPrompt.format(await this.formatPipelinePrompts(n))}async partial(n){const o={...this};return o.inputVariables=this.inputVariables.filter(i=>!(i in n)),o.partialVariables={...this.partialVariables??{},...n},new tb(o)}serialize(){throw new Error("Not implemented.")}_getPromptType(){return"pipeline"}};function EV(e){return typeof e=="object"&&e!=null&&"withStructuredOutput"in e&&typeof e.withStructuredOutput=="function"}function Fbe(e){return typeof e=="object"&&e!=null&&"lc_id"in e&&Array.isArray(e.lc_id)&&e.lc_id.join("/")==="langchain_core/runnables/RunnableBinding"}var Vbe=class DJ extends mx{schema;method;lc_namespace=["langchain_core","prompts","structured"];get lc_aliases(){return{...super.lc_aliases,schema:"schema_"}}constructor(n){super(n),this.schema=n.schema,this.method=n.method}pipe(n){if(EV(n))return super.pipe(n.withStructuredOutput(this.schema));if(Fbe(n)&&EV(n.bound))return super.pipe(new Uf({bound:n.bound.withStructuredOutput(this.schema,...this.method?[{method:this.method}]:[]),kwargs:n.kwargs??{},config:n.config,configFactories:n.configFactories}));throw new Error('Structured prompts need to be piped to a language model that supports the "withStructuredOutput()" method.')}static fromMessagesAndSchema(n,o,i){return DJ.fromMessages(n,{schema:o,method:i})}},Gbe={};lt(Gbe,{AIMessagePromptTemplate:()=>PJ,BaseChatPromptTemplate:()=>hx,BaseMessagePromptTemplate:()=>h0,BaseMessageStringPromptTemplate:()=>MJ,BasePromptTemplate:()=>R_,BaseStringPromptTemplate:()=>Xm,ChatMessagePromptTemplate:()=>xJ,ChatPromptTemplate:()=>mx,DEFAULT_FORMATTER_MAPPING:()=>Ob,DEFAULT_PARSER_MAPPING:()=>CJ,DictPromptTemplate:()=>xT,FewShotChatMessagePromptTemplate:()=>Lbe,FewShotPromptTemplate:()=>Ube,HumanMessagePromptTemplate:()=>gx,ImagePromptTemplate:()=>Xv,MessagesPlaceholder:()=>NT,PipelinePromptTemplate:()=>$be,PromptTemplate:()=>gn,StructuredPrompt:()=>Vbe,SystemMessagePromptTemplate:()=>AJ,checkValidTemplate:()=>C_,interpolateFString:()=>RJ,interpolateMustache:()=>jJ,parseFString:()=>t_,parseMustache:()=>wb,parseTemplate:()=>Sb,renderTemplate:()=>rl});function Hbe(){const{apiKey:e,provider:n,selectedModel:o,markLabComplete:i}=qn(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`YUV.AI Knowledge Base:
- Founded by Yuval Avidani, an AI Builder and Speaker
- Specializes in AI agents, LLMs, and generative AI training
- Offers workshops for companies in UK, EU, and Israel
- Created Logan AI - an orchestration layer for multi-agent systems
- 17 years of experience in tech, development, research, and cyber security
- Based in Israel
- Active on LinkedIn, X (@yuvalav), and Instagram (@yuval_770)
- Website: https://yuv.ai
- GitHub: @hoodini
- Part of GitHub Stars program`,r=`// Step 1: Define your knowledge base
const knowledgeBase = \`${t}\`;

console.log(' Knowledge base loaded!');
console.log('Total length:', knowledgeBase.length, 'characters');`,a=`// Step 2: Import PromptTemplate for structured prompts
import { PromptTemplate } from '@langchain/core/prompts';

const template = \`You are a helpful assistant with access to the following knowledge base.
Answer the user's question using ONLY information from the knowledge base.
If the answer is not in the knowledge base, say "I don't have that information."

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);

console.log(' Prompt template created!');
console.log('Template variables:', prompt.inputVariables);`,s=`// Step 3: Format the prompt with knowledge and question
import { PromptTemplate } from '@langchain/core/prompts';

const knowledgeBase = \`${t}\`;

const template = \`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);
const formattedPrompt = await prompt.format({
  knowledge: knowledgeBase,
  question: "Who founded YUV.AI?"
});

console.log(' Prompt formatted!');
console.log('Question: Who founded YUV.AI?');`,l=`// Step 4: Query the knowledge base
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const knowledgeBase = \`${t}\`;

const template = \`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);
const formattedPrompt = await prompt.format({
  knowledge: knowledgeBase,
  question: "Who founded YUV.AI?"
});

const response = await llm.invoke(formattedPrompt);

console.log('Question: Who founded YUV.AI?');
console.log('Answer:', response.content);`,f=`// Complete Example: Knowledge Base Agent
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const knowledgeBase = \`${t}\`;

const template = \`You are a helpful assistant. Answer using ONLY the knowledge base.
If the answer is not in the knowledge base, say "I don't have that information."

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);

// Ask multiple questions
const questions = [
  "What is Logan AI?",
  "Where is YUV.AI based?",
  "What is Yuval's favorite color?" // Not in knowledge base
];

for (const question of questions) {
  const formattedPrompt = await prompt.format({
    knowledge: knowledgeBase,
    question
  });
  const response = await llm.invoke(formattedPrompt);
  console.log('Q:', question);
  console.log('A:', response.content);
  console.log('');
}`,m=async()=>{try{return{output:` Knowledge base loaded!
Total length: ${t.length} characters`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{return{output:` Prompt template created!
Template variables: ${gn.fromTemplate(`You are a helpful assistant with access to the following knowledge base.
Answer the user's question using ONLY information from the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`).inputVariables.join(", ")}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{return await gn.fromTemplate(`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`).format({knowledge:t,question:"Who founded YUV.AI?"}),{output:` Prompt formatted!
Question: Who founded YUV.AI?`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const v=Pr(e,n,o),j=await gn.fromTemplate(`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`).format({knowledge:t,question:"Who founded YUV.AI?"});return{output:`Question: Who founded YUV.AI?
Answer: ${(await v.invoke(j)).content}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const v=Pr(e,n,o),R=gn.fromTemplate(`You are a helpful assistant. Answer using ONLY the knowledge base.
If the answer is not in the knowledge base, say "I don't have that information."

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`),j=["What is Logan AI?","Where is YUV.AI based?","What is Yuval's favorite color?"];let P="";for(const T of j){const C=await R.format({knowledge:t,question:T}),D=await v.invoke(C);P+=`Q: ${T}
A: ${D.content}

`}return i(5),{output:P,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl shadow-lg",children:x.jsx(qT,{className:"w-8 h-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 5: Knowledge Base Integration"}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Give your agent access to specific knowledge"})]})]}),x.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[x.jsx($f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),x.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[x.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),x.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[x.jsx("li",{children:"Creating a simple knowledge base with text"}),x.jsx("li",{children:"Using PromptTemplate to inject knowledge"}),x.jsx("li",{children:"Constraining agents to answer only from provided knowledge"}),x.jsx("li",{children:"Handling questions outside the knowledge base"})]})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Define Knowledge Base"})]}),x.jsx(_t,{title:"step-1-knowledge",initialCode:r,description:"Create a text-based knowledge base with relevant information",onExecute:m})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create Prompt Template"})]}),x.jsx(_t,{title:"step-2-template",initialCode:a,description:"Use PromptTemplate to structure your prompts with variables",onExecute:b})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Format Prompt with Data"})]}),x.jsx(_t,{title:"step-3-format",initialCode:s,description:"Inject knowledge and question into the template",onExecute:_})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Query the Knowledge Base"})]}),x.jsx(_t,{title:"step-4-query",initialCode:l,description:"Send formatted prompt to LLM and get knowledge-based answer",onExecute:p})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"5"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Knowledge Base Agent"})]}),x.jsx(_t,{title:"complete-kb-agent",initialCode:f,description:"Test with multiple questions - see how it handles unknown info!",onExecute:y})]}),x.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-emerald-50 dark:from-teal-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-teal-200 dark:border-teal-800",children:[x.jsx("h3",{className:"font-semibold text-teal-900 dark:text-teal-100 mb-3",children:" Knowledge Base Tips"}),x.jsxs("ul",{className:"space-y-2 text-teal-800 dark:text-teal-200 text-sm",children:[x.jsx("li",{children:" Keep knowledge organized and structured"}),x.jsx("li",{children:" Instruct the agent to admit when it doesn't know"}),x.jsx("li",{children:" For large knowledge bases, use vector databases (next lab!)"}),x.jsx("li",{children:" Update knowledge base regularly for accuracy"}),x.jsx("li",{children:" Test with questions both inside and outside the knowledge"})]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[x.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Knowledge Unlocked!"}),x.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've learned how to give your agent access to specific knowledge! Next, you'll learn about RAG (Retrieval Augmented Generation) with vector search for handling large knowledge bases."})]})]})}var Kbe=Object.defineProperty,kbe=(e,n)=>{for(var o in n)Kbe(e,o,{get:n[o],enumerable:!0})};function Ybe(e,n){let o=0,i=0,u=0;for(let t=0;t<e.length;t++)o+=e[t]*n[t],i+=e[t]*e[t],u+=n[t]*n[t];return o/(Math.sqrt(i)*Math.sqrt(u))}var Yl=class{pageContent;metadata;id;constructor(e){this.pageContent=e.pageContent!==void 0?e.pageContent.toString():"",this.metadata=e.metadata??{},this.id=e.id}},IJ=class extends zt{lc_namespace=["langchain_core","documents","transformers"];invoke(e,n){return this.transformDocuments(e)}},Wbe=class extends IJ{async transformDocuments(e){const n=[];for(const o of e){const i=await this._transformDocument(o);n.push(i)}return n}},Jbe={};lt(Jbe,{BaseDocumentTransformer:()=>IJ,Document:()=>Yl,MappingDocumentTransformer:()=>Wbe});var Zbe={};lt(Zbe,{BaseRetriever:()=>zJ});var zJ=class extends zt{callbacks;tags;metadata;verbose;constructor(e){super(e),this.callbacks=e?.callbacks,this.tags=e?.tags??[],this.metadata=e?.metadata??{},this.verbose=e?.verbose??!1}_getRelevantDocuments(e,n){throw new Error("Not implemented!")}async invoke(e,n){const o=Ot(lH(n)),u=await(await Kr.configure(o.callbacks,this.callbacks,o.tags,this.tags,o.metadata,this.metadata,{verbose:this.verbose}))?.handleRetrieverStart(this.toJSON(),e,o.runId,void 0,void 0,void 0,o.runName);try{const t=await this._getRelevantDocuments(e,u);return await u?.handleRetrieverEnd(t),t}catch(t){throw await u?.handleRetrieverError(t),t}}},Qbe={};lt(Qbe,{SaveableVectorStore:()=>Xbe,VectorStore:()=>_x,VectorStoreRetriever:()=>rb});var rb=class extends zJ{static lc_name(){return"VectorStoreRetriever"}get lc_namespace(){return["langchain_core","vectorstores"]}vectorStore;k=4;searchType="similarity";searchKwargs;filter;_vectorstoreType(){return this.vectorStore._vectorstoreType()}constructor(e){super(e),this.vectorStore=e.vectorStore,this.k=e.k??this.k,this.searchType=e.searchType??this.searchType,this.filter=e.filter,e.searchType==="mmr"&&(this.searchKwargs=e.searchKwargs)}async _getRelevantDocuments(e,n){if(this.searchType==="mmr"){if(typeof this.vectorStore.maxMarginalRelevanceSearch!="function")throw new Error(`The vector store backing this retriever, ${this._vectorstoreType()} does not support max marginal relevance search.`);return this.vectorStore.maxMarginalRelevanceSearch(e,{k:this.k,filter:this.filter,...this.searchKwargs},n?.getChild("vectorstore"))}return this.vectorStore.similaritySearch(e,this.k,this.filter,n?.getChild("vectorstore"))}async addDocuments(e,n){return this.vectorStore.addDocuments(e,n)}},_x=class extends qf{lc_namespace=["langchain","vectorstores",this._vectorstoreType()];embeddings;constructor(e,n){super(n),this.embeddings=e}async delete(e){throw new Error("Not implemented.")}async similaritySearch(e,n=4,o=void 0,i=void 0){return(await this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),n,o)).map(t=>t[0])}async similaritySearchWithScore(e,n=4,o=void 0,i=void 0){return this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),n,o)}static fromTexts(e,n,o,i){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}static fromDocuments(e,n,o){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}asRetriever(e,n,o,i,u,t){if(typeof e=="number")return new rb({vectorStore:this,k:e,filter:n,tags:[...i??[],this._vectorstoreType()],metadata:u,verbose:t,callbacks:o});{const r={vectorStore:this,k:e?.k,filter:e?.filter,tags:[...e?.tags??[],this._vectorstoreType()],metadata:e?.metadata,verbose:e?.verbose,callbacks:e?.callbacks,searchType:e?.searchType};return e?.searchType==="mmr"?new rb({...r,searchKwargs:e.searchKwargs}):new rb({...r})}}},Xbe=class extends _x{static load(e,n){throw new Error("Not implemented")}};function e0e(e,n){let o=0,i=0,u=0;for(let t=0;t<e.length;t++)o+=e[t]*n[t],i+=e[t]*e[t],u+=n[t]*n[t];return o/(Math.sqrt(i)*Math.sqrt(u))}function t0e(e,n){let o=0;for(let i=0;i<e.length;i++)o+=e[i]*n[i];return o}function r0e(e,n){let o=0;for(let i=0;i<e.length;i++)o+=(e[i]-n[i])*(e[i]-n[i]);return o}function n0e(e,n){return Math.sqrt(r0e(e,n))}var a0e={};lt(a0e,{cosineSimilarity:()=>IT,euclideanDistance:()=>s0e,innerProduct:()=>o0e,matrixFunc:()=>p0,maximalMarginalRelevance:()=>qJ,normalize:()=>i0e});function p0(e,n,o){if(e.length===0||e[0].length===0||n.length===0||n[0].length===0)return[[]];if(e[0].length!==n[0].length)throw new Error(`Number of columns in X and Y must be the same. X has shape ${[e.length,e[0].length]} and Y has shape ${[n.length,n[0].length]}.`);return e.map(i=>n.map(u=>o(i,u)).map(u=>Number.isNaN(u)?0:u))}function i0e(e,n=!1){const o=u0e(e);return e.map(i=>i.map(u=>n?1-u/o:u/o))}function IT(e,n){return p0(e,n,e0e)}function o0e(e,n){return p0(e,n,t0e)}function s0e(e,n){return p0(e,n,n0e)}function qJ(e,n,o=.5,i=4){if(Math.min(i,n.length)<=0)return[];const u=Array.isArray(e[0])?e:[e],t=IT(u,n)[0],r=BJ(t).maxIndex,a=[n[r]],s=[r];for(;s.length<Math.min(i,n.length);){let l=-1/0,f=-1;const m=IT(n,a);t.forEach((b,_)=>{if(s.includes(_))return;const p=Math.max(...m[_]),y=o*b-(1-o)*p;y>l&&(l=y,f=_)}),a.push(n[f]),s.push(f)}return s}function BJ(e){if(e.length===0)return{maxIndex:-1,maxValue:NaN};let n=e[0],o=0;for(let i=1;i<e.length;i+=1)e[i]>n&&(o=i,n=e[i]);return{maxIndex:o,maxValue:n}}function u0e(e){return e.reduce((n,o)=>Math.max(n,BJ(o).maxValue),0)}var l0e={};kbe(l0e,{MemoryVectorStore:()=>Nm});var Nm=class UJ extends _x{memoryVectors=[];similarity;_vectorstoreType(){return"memory"}constructor(n,{similarity:o,...i}={}){super(n,i),this.similarity=o??Ybe}async addDocuments(n){const o=n.map(({pageContent:i})=>i);return this.addVectors(await this.embeddings.embedDocuments(o),n)}async addVectors(n,o){const i=n.map((u,t)=>({content:o[t].pageContent,embedding:u,metadata:o[t].metadata,id:o[t].id}));this.memoryVectors=this.memoryVectors.concat(i)}async _queryVectors(n,o,i){const u=r=>{if(!i)return!0;const a=new Yl({metadata:r.metadata,pageContent:r.content,id:r.id});return i(a)};return this.memoryVectors.filter(u).map((r,a)=>({similarity:this.similarity(n,r.embedding),index:a,metadata:r.metadata,content:r.content,embedding:r.embedding,id:r.id})).sort((r,a)=>r.similarity>a.similarity?-1:0).slice(0,o)}async similaritySearchVectorWithScore(n,o,i){return(await this._queryVectors(n,o,i)).map(r=>[new Yl({metadata:r.metadata,pageContent:r.content,id:r.id}),r.similarity])}async maxMarginalRelevanceSearch(n,o){const i=await this.embeddings.embedQuery(n),u=await this._queryVectors(i,o.fetchK??20,o.filter),t=u.map(a=>a.embedding);return qJ(i,t,o.lambda,o.k).map(a=>new Yl({metadata:u[a].metadata,pageContent:u[a].content,id:u[a].id}))}static async fromTexts(n,o,i,u){const t=[];for(let r=0;r<n.length;r+=1){const a=Array.isArray(o)?o[r]:o,s=new Yl({pageContent:n[r],metadata:a});t.push(s)}return UJ.fromDocuments(t,i,u)}static async fromDocuments(n,o,i){const u=new this(o,i);return await u.addDocuments(n),u}static async fromExistingIndex(n,o){return new this(n,o)}};function c0e(){const{apiKey:e,provider:n,selectedModel:o,markLabComplete:i}=qn(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=["Large Language Models (LLMs) are neural networks trained on massive amounts of text data. They can understand and generate human-like text. Popular examples include GPT-4, Claude, and Llama.","Vector embeddings are numerical representations of text that capture semantic meaning. Similar texts have similar embedding vectors, which enables semantic search.","RAG (Retrieval-Augmented Generation) combines information retrieval with text generation. It retrieves relevant documents from a knowledge base and uses them as context for the LLM.","Cohere provides enterprise-grade AI models including embeddings, reranking, and generation. Their embed-english-v3.0 model creates high-quality semantic embeddings.","Reranking improves search results by re-scoring retrieved documents based on relevance to the query. Cohere's rerank model achieves state-of-the-art performance.","Semantic similarity is measured using cosine similarity between embedding vectors. Scores range from -1 (opposite) to 1 (identical), with higher scores indicating greater similarity.","Chunking is the process of splitting long documents into smaller pieces. Good chunk size balances context (larger chunks) with precision (smaller chunks). Common sizes: 256-1024 tokens.","Vector databases like Pinecone, Weaviate, and Chroma store embeddings efficiently and enable fast similarity search at scale. They're essential for production RAG systems."],r=`// Step 1: Document Chunking - See How Documents are Split
const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data. They can understand and generate human-like text. Popular examples include GPT-4, Claude, and Llama.",
  "Vector embeddings are numerical representations of text that capture semantic meaning. Similar texts have similar embedding vectors, which enables semantic search.",
  "RAG (Retrieval-Augmented Generation) combines information retrieval with text generation. It retrieves relevant documents from a knowledge base and uses them as context for the LLM.",
  "Cohere provides enterprise-grade AI models including embeddings, reranking, and generation. Their embed-english-v3.0 model creates high-quality semantic embeddings.",
];

console.log(' Total Documents:', documents.length);
console.log('\\n--- Document Chunks ---');
documents.forEach((doc, i) => {
  console.log(\`\\nChunk \${i + 1}:\`);
  console.log(\`Length: \${doc.length} characters\`);
  console.log(\`Preview: \${doc.substring(0, 80)}...\`);
});

console.log('\\n Documents chunked and ready for embedding!');`,a=`// Step 2: Create Embeddings - See the Magic of Vector Representation!
import { CohereEmbeddings } from '@langchain/cohere';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

// Embed a single query to see what embeddings look like
const query = "What are embeddings?";
const queryEmbedding = await embeddings.embedQuery(query);

console.log(' EMBEDDING VISUALIZATION');
console.log('Query:', query);
console.log('\\nEmbedding Details:');
console.log('- Dimensions:', queryEmbedding.length);
console.log('- Type: Float32 vector');
console.log('\\nFirst 10 dimensions:', queryEmbedding.slice(0, 10).map(n => n.toFixed(4)));
console.log('Last 10 dimensions:', queryEmbedding.slice(-10).map(n => n.toFixed(4)));
console.log('\\n This vector captures the MEANING of your query!');
console.log(' Similar texts will have similar vectors!');`,s=`// Step 3: Build Vector Store - Create Searchable Knowledge Base
import { CohereEmbeddings } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
];

// Convert to LangChain Document objects
const docs = documents.map(text => new Document({ pageContent: text }));

// Create vector store - this embeds ALL documents!
console.log(' Embedding all documents...');
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

console.log(\`\\n Created vector store with \${documents.length} documents\`);
console.log(' Each document is now a vector in semantic space');
console.log(' Ready for similarity search!');`,l=`// Step 4: Similarity Search - Find Relevant Documents
import { CohereEmbeddings } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
  "Semantic similarity is measured using cosine similarity between vectors.",
  "Chunking splits long documents into smaller pieces for better retrieval.",
];

const docs = documents.map(text => new Document({ pageContent: text }));
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

// Perform similarity search with scores!
const query = "How do you measure if two texts are similar?";
const results = await vectorStore.similaritySearchWithScore(query, 3);

console.log(' SIMILARITY SEARCH RESULTS');
console.log('Query:', query);
console.log('\\nTop 3 Most Relevant Documents:\\n');

results.forEach(([doc, score], i) => {
  console.log(\`Rank \${i + 1}: (Similarity: \${score.toFixed(4)})\`);
  console.log(\`"\${doc.pageContent}"\`);
  console.log('');
});

console.log(' Higher scores = more relevant!');`,f=`// Step 5: Cohere Reranking - Boost Accuracy with Advanced Reranking!
import { CohereEmbeddings, CohereRerank } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
  "Semantic similarity is measured using cosine similarity between vectors.",
  "Chunking splits long documents into smaller pieces for better retrieval.",
  "Reranking improves search results by re-scoring based on true relevance.",
  "Vector databases enable fast similarity search at production scale.",
];

const docs = documents.map(text => new Document({ pageContent: text }));
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

const query = "How can I improve search accuracy?";

// Step 1: Get initial results from vector search
const initialResults = await vectorStore.similaritySearchWithScore(query, 5);

console.log(' BEFORE RERANKING (Vector Search Only):\\n');
initialResults.forEach(([doc, score], i) => {
  console.log(\`\${i + 1}. Score: \${score.toFixed(4)} | \${doc.pageContent.substring(0, 60)}...\`);
});

// Step 2: Rerank with Cohere for better relevance
const reranker = new CohereRerank({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'rerank-english-v3.0',
  topN: 3,
});

const rerankedDocs = await reranker.compressDocuments(
  initialResults.map(([doc]) => doc),
  query
);

console.log('\\n AFTER RERANKING (Cohere Rerank):\\n');
rerankedDocs.forEach((doc, i) => {
  const relevanceScore = doc.metadata.relevanceScore || 0;
  console.log(\`\${i + 1}. Relevance: \${relevanceScore.toFixed(4)} | \${doc.pageContent.substring(0, 60)}...\`);
});

console.log('\\n Reranking found the MOST relevant results!');
console.log(' Notice how "Reranking improves search" moved to the top!');`,m=`// Step 6: Complete RAG System - Question Answering with Retrieved Context
import { CohereEmbeddings, CohereRerank } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';
import { PromptTemplate } from '@langchain/core/prompts';

const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
  "Semantic similarity is measured using cosine similarity between vectors.",
  "Chunking splits long documents into smaller pieces for better retrieval.",
  "Reranking improves search results by re-scoring based on true relevance.",
  "Vector databases enable fast similarity search at production scale.",
];

const docs = documents.map(text => new Document({ pageContent: text }));
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

const query = "What is RAG and how does it work?";

// Retrieve and rerank
const initialResults = await vectorStore.similaritySearchWithScore(query, 5);
const reranker = new CohereRerank({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'rerank-english-v3.0',
  topN: 3,
});
const relevantDocs = await reranker.compressDocuments(
  initialResults.map(([doc]) => doc),
  query
);

// Generate answer using retrieved context
const context = relevantDocs.map(doc => doc.pageContent).join('\\n');
const template = \`Answer the question using ONLY the context below.

CONTEXT:
{context}

QUESTION: {question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);
const formattedPrompt = await prompt.format({ context, question: query });
const answer = await llm.invoke(formattedPrompt);

console.log(' Question:', query);
console.log('\\n Retrieved Context (Top 3 after reranking):\\n');
relevantDocs.forEach((doc, i) => {
  console.log(\`\${i + 1}. \${doc.pageContent}\`);
});
console.log('\\n Generated Answer:\\n');
console.log(answer.content);
console.log('\\n Complete RAG pipeline: Retrieve  Rerank  Generate!');`,b=async()=>{try{let R=` Total Documents: ${t.length}

--- Document Chunks ---`;return t.slice(0,4).forEach((j,P)=>{R+=`

Chunk ${P+1}:`,R+=`
Length: ${j.length} characters`,R+=`
Preview: ${j.substring(0,80)}...`}),R+=`

 Documents chunked and ready for embedding!`,{output:R,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const R=new Sm({apiKey:e,model:"embed-english-v3.0"}),j="What are embeddings?",P=await R.embedQuery(j);return{output:` EMBEDDING VISUALIZATION
Query: ${j}

Embedding Details:
- Dimensions: ${P.length}
- Type: Float32 vector

First 10 dimensions: ${P.slice(0,10).map(C=>C.toFixed(4)).join(", ")}
Last 10 dimensions: ${P.slice(-10).map(C=>C.toFixed(4)).join(", ")}

 This vector captures the MEANING of your query!
 Similar texts will have similar vectors!`,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const R=new Sm({apiKey:e,model:"embed-english-v3.0"}),j=t.slice(0,4).map(T=>new Yl({pageContent:T})),P=` Embedding all documents...
`;return await Nm.fromDocuments(j,R),{output:P+`
 Created vector store with ${j.length} documents
 Each document is now a vector in semantic space
 Ready for similarity search!`,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const R=new Sm({apiKey:e,model:"embed-english-v3.0"}),j=t.slice(0,6).map(M=>new Yl({pageContent:M})),P=await Nm.fromDocuments(j,R),T="How do you measure if two texts are similar?",C=await P.similaritySearchWithScore(T,3);let D=` SIMILARITY SEARCH RESULTS
`;return D+=`Query: ${T}

Top 3 Most Relevant Documents:

`,C.forEach(([M,L],q)=>{D+=`Rank ${q+1}: (Similarity: ${L.toFixed(4)})
`,D+=`"${M.pageContent}"

`}),D+=" Higher scores = more relevant!",{output:D,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},v=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const R=new Sm({apiKey:e,model:"embed-english-v3.0"}),j=t.map(q=>new Yl({pageContent:q})),P=await Nm.fromDocuments(j,R),T="How can I improve search accuracy?",C=await P.similaritySearchWithScore(T,5);let D=` BEFORE RERANKING (Vector Search Only):

`;C.forEach(([q,z],w)=>{D+=`${w+1}. Score: ${z.toFixed(4)} | ${q.pageContent.substring(0,60)}...
`});const L=await new pV({apiKey:e,model:"rerank-english-v3.0",topN:3}).compressDocuments(C.map(([q])=>q),T);return D+=`
 AFTER RERANKING (Cohere Rerank):

`,L.forEach((q,z)=>{const w=q.metadata.relevanceScore||0;D+=`${z+1}. Relevance: ${w.toFixed(4)} | ${q.pageContent.substring(0,60)}...
`}),D+=`
 Reranking found the MOST relevant results!`,D+=`
 Notice how "Reranking improves search" moved to the top!`,{output:D,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},S=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const R=Pr(e,n,o),j=new Sm({apiKey:e,model:"embed-english-v3.0"}),P=t.map(U=>new Yl({pageContent:U})),T=await Nm.fromDocuments(P,j),C="What is RAG and how does it work?",D=await T.similaritySearchWithScore(C,5),L=await new pV({apiKey:e,model:"rerank-english-v3.0",topN:3}).compressDocuments(D.map(([U])=>U),C),q=L.map(U=>U.pageContent).join(`
`),V=await gn.fromTemplate(`Answer the question using ONLY the context below.

CONTEXT:
{context}

QUESTION: {question}

ANSWER:`).format({context:q,question:C}),k=await R.invoke(V);let Y=` Question: ${C}

 Retrieved Context (Top 3 after reranking):

`;return L.forEach((U,H)=>{Y+=`${H+1}. ${U.pageContent}
`}),Y+=`
 Generated Answer:

`,Y+=k.content,Y+=`

 Complete RAG pipeline: Retrieve  Rerank  Generate!`,i(6),{output:Y,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl shadow-lg",children:x.jsx(vD,{className:"w-8 h-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 6: RAG Deep Dive"}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Master embeddings, vector search, and reranking"})]})]}),x.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[x.jsx($f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),x.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[x.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn in depth:"}),x.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[x.jsx("li",{children:"How document chunking works and why it matters"}),x.jsx("li",{children:"What embeddings look like under the hood (actual vectors!)"}),x.jsx("li",{children:"Similarity search with cosine similarity scores"}),x.jsx("li",{children:"Cohere reranking for improved accuracy"}),x.jsx("li",{children:"Complete RAG pipeline with real code"})]})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),x.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[x.jsx(PX,{className:"w-5 h-5"}),"Document Chunking"]})]}),x.jsx(_t,{title:"step-1-chunking",initialCode:r,description:"See how documents are split into chunks for processing",onExecute:b})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),x.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[x.jsx(Eb,{className:"w-5 h-5"}),"Vector Embeddings Revealed"]})]}),x.jsx(_t,{title:"step-2-embeddings",initialCode:a,description:"See actual embedding vectors - the magic behind semantic search!",onExecute:_})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),x.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[x.jsx(qT,{className:"w-5 h-5"}),"Build Vector Store"]})]}),x.jsx(_t,{title:"step-3-vectorstore",initialCode:s,description:"Create a searchable vector database from documents",onExecute:p})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),x.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[x.jsx(vD,{className:"w-5 h-5"}),"Similarity Search"]})]}),x.jsx(_t,{title:"step-4-similarity",initialCode:l,description:"Find relevant documents using vector similarity with scores!",onExecute:y})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"5"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Cohere Reranking"})]}),x.jsx(_t,{title:"step-5-reranking",initialCode:f,description:"Boost accuracy with Cohere's state-of-the-art reranking!",onExecute:v})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"6"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete RAG System"})]}),x.jsx(_t,{title:"complete-rag-system",initialCode:m,description:"Full RAG pipeline: Chunk  Embed  Search  Rerank  Generate!",onExecute:S})]}),x.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/20 dark:to-purple-900/20 rounded-xl p-6 border border-violet-200 dark:border-violet-800",children:[x.jsx("h3",{className:"font-semibold text-violet-900 dark:text-violet-100 mb-3",children:" What You Just Learned"}),x.jsxs("ul",{className:"space-y-2 text-violet-800 dark:text-violet-200 text-sm",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Chunking:"})," How to split documents into processable pieces"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Embeddings:"})," Saw actual vector representations (1024 dimensions!)"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Vector Search:"})," Understanding cosine similarity scores"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Reranking:"})," Cohere's advanced relevance scoring"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"RAG Pipeline:"})," End-to-end retrieval and generation"]})]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[x.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:" Production RAG Tips"}),x.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-200 text-sm",children:[x.jsx("li",{children:" Use production vector databases: Pinecone, Weaviate, Chroma, or Qdrant"}),x.jsx("li",{children:" Optimal chunk size: 256-512 tokens with 50-100 token overlap"}),x.jsx("li",{children:" Always rerank your top results for best accuracy"}),x.jsx("li",{children:" Cache embeddings to reduce API costs"}),x.jsx("li",{children:" Monitor retrieval quality with metrics"})]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[x.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" RAG Mastered!"}),x.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You now understand RAG deeply - from raw text to semantic vectors to intelligent retrieval! This powers ChatGPT plugins, documentation bots, and enterprise AI systems. Next: multi-agent collaboration!"})]})]})}function d0e(){const{apiKey:e,provider:n,selectedModel:o,markLabComplete:i}=qn(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Create specialized agents with different roles
const researcherPrompt = "You are a research specialist. Gather and summarize facts.";
const writerPrompt = "You are a creative writer. Write engaging content.";

console.log(' Researcher agent: Gathers facts');
console.log(' Writer agent: Creates content');
console.log(' Each agent has unique expertise');`,r=`// Step 2: Researcher agent gathers information
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const researcherMessages = [
  new SystemMessage("You are a research specialist. Provide 3 key facts about the topic."),
  new HumanMessage("Research: AI Agents")
];

const research = await llm.invoke(researcherMessages);

console.log('Researcher Output:');
console.log(research.content);`,a=`// Step 3: Writer agent creates content from research
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

// First: Researcher gathers facts
const researcherMessages = [
  new SystemMessage("You are a research specialist. Provide 3 key facts about the topic."),
  new HumanMessage("Research: AI Agents")
];
const research = await llm.invoke(researcherMessages);

// Then: Writer creates article from facts
const writerMessages = [
  new SystemMessage("You are a creative writer. Write a short engaging paragraph using these facts."),
  new HumanMessage(\`Facts: \${research.content}\`)
];
const article = await llm.invoke(writerMessages);

console.log('Research Phase:');
console.log(research.content);
console.log('');
console.log('Writing Phase:');
console.log(article.content);`,s=async()=>{try{return{output:` Researcher agent: Gathers facts
 Writer agent: Creates content
 Each agent has unique expertise`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}},l=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const m=Pr(e,n,o),b=[new ur("You are a research specialist. Provide 3 key facts about the topic."),new Dt("Research: AI Agents")];return{output:`Researcher Output:
${(await m.invoke(b)).content}`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}},f=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const m=Pr(e,n,o),b=[new ur("You are a research specialist. Provide 3 key facts about the topic."),new Dt("Research: AI Agents")],_=await m.invoke(b),p=[new ur("You are a creative writer. Write a short engaging paragraph using these facts."),new Dt(`Facts: ${_.content}`)],y=await m.invoke(p);return i(7),{output:`Research Phase:
${_.content}

Writing Phase:
${y.content}`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg",children:x.jsx(qV,{className:"w-8 h-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 7: Multi-Agent Collaboration"}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Multiple AI agents working together"})]})]}),x.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[x.jsx($f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),x.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[x.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),x.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[x.jsx("li",{children:"Creating multiple agents with different roles"}),x.jsx("li",{children:"Coordinating agent workflows"}),x.jsx("li",{children:"Passing outputs between agents"}),x.jsx("li",{children:"Building complex multi-agent systems"})]})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Define Agent Roles"})]}),x.jsx(_t,{title:"step-1-roles",initialCode:t,description:"Create specialized agents with unique system prompts",onExecute:s})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Researcher Agent"})]}),x.jsx(_t,{title:"step-2-researcher",initialCode:r,description:"First agent gathers facts and information",onExecute:l})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"3"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Multi-Agent Workflow"})]}),x.jsx(_t,{title:"complete-collaboration",initialCode:a,description:"Researcher  Writer pipeline - agents collaborating!",onExecute:f})]}),x.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[x.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:" Multi-Agent Patterns"}),x.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-200 text-sm",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Pipeline:"})," Sequential processing (Agent A  Agent B  Agent C)"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Parallel:"})," Multiple agents work simultaneously"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Hierarchical:"})," Manager agent coordinates worker agents"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Collaborative:"})," Agents debate and refine outputs together"]})]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[x.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Collaboration Unlocked!"}),x.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've built a multi-agent system! Combining specialized agents creates powerful workflows. Next, you'll learn about orchestrator agents that intelligently route requests!"})]})]})}function f0e(){const{apiKey:e,provider:n,selectedModel:o,markLabComplete:i}=qn(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Understand orchestrator concept
// An orchestrator agent:
// 1. Receives user request
// 2. Analyzes the request type
// 3. Routes to the appropriate specialist agent
// 4. Returns the specialist's response

console.log(' Orchestrator = Smart Router');
console.log(' Routes requests to right specialist');
console.log(' Like a manager delegating tasks');`,r=`// Step 2: Create routing logic
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const userQuery = "What are the benefits of AI agents?";

// Router analyzes query and decides which agent to use
const routerMessages = [
  new SystemMessage(\`You are a router. Analyze the query and respond with ONLY one word:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions
- "GENERAL" for general information\`),
  new HumanMessage(userQuery)
];

const routing = await llm.invoke(routerMessages);

console.log('Query:', userQuery);
console.log('Route to:', routing.content, 'agent');`,a=`// Step 3: Complete orchestrator with routing
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const userQuery = "How do I implement an AI agent with memory?";

// Step 1: Router decides which specialist
const routerMessages = [
  new SystemMessage(\`You are a router. Respond with ONLY:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions\`),
  new HumanMessage(userQuery)
];
const routing = await llm.invoke(routerMessages);

// Step 2: Route to appropriate specialist
let specialistMessages;
if (routing.content.includes('TECHNICAL')) {
  specialistMessages = [
    new SystemMessage("You are a technical AI expert. Provide code examples and implementation details."),
    new HumanMessage(userQuery)
  ];
} else {
  specialistMessages = [
    new SystemMessage("You are a business AI strategist. Focus on ROI and business value."),
    new HumanMessage(userQuery)
  ];
}

const response = await llm.invoke(specialistMessages);

console.log('Query:', userQuery);
console.log('Routed to:', routing.content);
console.log('');
console.log('Specialist Response:');
console.log(response.content);`,s=async()=>{try{return{output:` Orchestrator = Smart Router
 Routes requests to right specialist
 Like a manager delegating tasks`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}},l=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const m=Pr(e,n,o),b="What are the benefits of AI agents?",_=[new ur(`You are a router. Analyze the query and respond with ONLY one word:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions
- "GENERAL" for general information`),new Dt(b)],p=await m.invoke(_);return{output:`Query: ${b}
Route to: ${p.content} agent`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}},f=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const m=Pr(e,n,o),b="How do I implement an AI agent with memory?",_=[new ur(`You are a router. Respond with ONLY:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions`),new Dt(b)],p=await m.invoke(_);let y;p.content.toString().includes("TECHNICAL")?y=[new ur("You are a technical AI expert. Provide code examples and implementation details."),new Dt(b)]:y=[new ur("You are a business AI strategist. Focus on ROI and business value."),new Dt(b)];const v=await m.invoke(y);return i(8),{output:`Query: ${b}
Routed to: ${p.content}

Specialist Response:
${v.content}`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl shadow-lg",children:x.jsx(DV,{className:"w-8 h-8 text-white"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 8: Orchestrator Agent"}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Intelligent routing to specialist agents"})]})]}),x.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[x.jsx($f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),x.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[x.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),x.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[x.jsx("li",{children:"Creating an orchestrator/router agent"}),x.jsx("li",{children:"Analyzing user intent to route requests"}),x.jsx("li",{children:"Connecting multiple specialist agents"}),x.jsx("li",{children:"Building intelligent agent architectures"})]})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Orchestrator Concept"})]}),x.jsx(_t,{title:"step-1-concept",initialCode:t,description:"Understanding the orchestrator pattern",onExecute:s})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Router Logic"})]}),x.jsx(_t,{title:"step-2-router",initialCode:r,description:"Analyze queries and route to the right specialist",onExecute:l})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"3"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Orchestrator"})]}),x.jsx(_t,{title:"complete-orchestrator",initialCode:a,description:"Full orchestrator system with routing and specialists!",onExecute:f})]}),x.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-6 border border-amber-200 dark:border-amber-800",children:[x.jsx("h3",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-3",children:" Orchestrator Use Cases"}),x.jsxs("ul",{className:"space-y-2 text-amber-800 dark:text-amber-200 text-sm",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Customer Support:"})," Route to billing, technical, or sales specialists"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Content Creation:"})," Route to research, writing, or editing agents"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Data Analysis:"})," Route to SQL, visualization, or reporting agents"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Complex Workflows:"})," Coordinate multi-step processes efficiently"]})]})]}),x.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[x.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Congratulations - You're an AI Agent Expert!"}),x.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm mb-3",children:"You've completed all 8 labs! You now understand:"}),x.jsxs("ul",{className:"space-y-1 text-green-800 dark:text-green-200 text-sm list-disc list-inside",children:[x.jsx("li",{children:"AI Agent components (LLM, Tools, Memory)"}),x.jsx("li",{children:"Prompt/Response patterns"}),x.jsx("li",{children:"System prompts and personality"}),x.jsx("li",{children:"Conversation memory"}),x.jsx("li",{children:"Knowledge base integration"}),x.jsx("li",{children:"RAG (Retrieval-Augmented Generation)"}),x.jsx("li",{children:"Multi-agent collaboration"}),x.jsx("li",{children:"Orchestrator patterns"})]}),x.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm mt-3",children:"You're ready to build production AI agent systems! "})]})]})}const Fv=[{id:1,title:"Agent Components",component:pJ},{id:2,title:"Simple Prompt/Response",component:gbe},{id:3,title:"Custom System Prompts",component:mbe},{id:4,title:"Conversation Memory",component:_be},{id:5,title:"Knowledge Base",component:Hbe},{id:6,title:"RAG with Wikipedia",component:c0e},{id:7,title:"Multi-Agent Collaboration",component:d0e},{id:8,title:"Orchestrator Agent",component:f0e}];function h0e(){const{currentLab:e,apiKey:n,labProgress:o}=qn(),[i,u]=Ze.useState(!1),[t,r]=Ze.useState(!0),[a,s]=Ze.useState(!n),l=Fv.find(b=>b.id===e)?.component||pJ,f=Object.values(o).filter(Boolean).length,m=f/Fv.length*100;return a?x.jsxs(x.Fragment,{children:[x.jsx(ive,{onGetStarted:()=>{u(!0),s(!1)},onSkip:()=>s(!1)}),x.jsx(gV,{isOpen:i,onClose:()=>u(!1)})]}):x.jsxs("div",{className:"h-screen flex flex-col tech-grid",children:[x.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[...Array(15)].map((b,_)=>x.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},_))}),x.jsx("header",{className:"relative z-20 border-b border-cyan-500/20 backdrop-blur-md bg-black/20 sticky top-0",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:()=>r(!t),className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift lg:hidden border border-white/10",children:t?x.jsx(BV,{className:"w-5 h-5 text-white"}):x.jsx(zX,{className:"w-5 h-5 text-white"})}),x.jsx("button",{onClick:()=>s(!0),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:x.jsx("img",{src:"/logo.png",alt:"YUV.AI Logo",className:"h-10 w-auto"})})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm font-medium",children:[x.jsx("button",{onClick:()=>s(!0),className:"text-white hover:text-cyan-400 transition-colors",children:"Home"}),x.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:["Features ",x.jsx(Dm,{className:"w-4 h-4"})]}),x.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:["Agents ",x.jsx(Dm,{className:"w-4 h-4"})]}),x.jsxs("div",{className:"relative group",children:[x.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:["Contact ",x.jsx(Dm,{className:"w-4 h-4"})]}),x.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[x.jsxs("a",{href:"https://yuv.ai",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-2 text-cyan-400 hover:bg-cyan-500/10 transition-colors",children:[x.jsx(PV,{className:"w-4 h-4"}),x.jsx("span",{children:"Website"})]}),x.jsxs("a",{href:"https://github.com/hoodini",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-2 text-cyan-400 hover:bg-cyan-500/10 transition-colors",children:[x.jsx(MV,{className:"w-4 h-4"}),x.jsx("span",{children:"GitHub"})]}),x.jsxs("a",{href:"https://linkedin.com/in/yuval-avidani-87081474",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-2 text-cyan-400 hover:bg-cyan-500/10 transition-colors",children:[x.jsx(AV,{className:"w-4 h-4"}),x.jsx("span",{children:"LinkedIn"})]}),x.jsxs("a",{href:"https://x.com/yuvalav",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-2 text-cyan-400 hover:bg-cyan-500/10 transition-colors",children:[x.jsx(zV,{className:"w-4 h-4"}),x.jsx("span",{children:"Twitter"})]}),x.jsxs("a",{href:"https://instagram.com/yuval_770",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-2 text-cyan-400 hover:bg-cyan-500/10 transition-colors",children:[x.jsx(xV,{className:"w-4 h-4"}),x.jsx("span",{children:"Instagram"})]}),x.jsxs("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-2 text-cyan-400 hover:bg-cyan-500/10 transition-colors",children:[x.jsx(UV,{className:"w-4 h-4"}),x.jsx("span",{children:"YouTube"})]})]})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(ave,{}),x.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[x.jsx("span",{className:"text-sm text-white/60",children:"Progress:"}),x.jsx("div",{className:"w-32 h-2 glass rounded-full overflow-hidden border border-white/20",children:x.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 via-blue-500 to-cyan-500 transition-all duration-300 shadow-neural",style:{width:`${m}%`}})}),x.jsxs("span",{className:"text-sm font-bold text-gradient-neural",children:[f,"/",Fv.length]})]}),x.jsx("button",{onClick:()=>u(!0),className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10",title:"API Settings",children:x.jsx(IV,{className:"w-5 h-5 text-white"})})]})]})}),x.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[x.jsx("aside",{className:`${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 w-72 transition-transform duration-300 lg:block`,children:x.jsx(oee,{labs:Fv})}),t&&x.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>r(!1)}),x.jsx("main",{className:"relative flex-1 overflow-y-auto p-6 lg:p-8 z-10",children:x.jsx(l,{})})]}),x.jsx(gV,{isOpen:i,onClose:()=>u(!1)})]})}aX.createRoot(document.getElementById("root")).render(x.jsx(Ze.StrictMode,{children:x.jsx(h0e,{})}));export{PM as F,ipe as S,Kb as _,P0e as a,x0e as b,Lpe as c,M0e as d,_ge as e,Cpe as f,Df as g,oK as h,ape as i,c2 as n,A0e as p,xpe as s,Mpe as t};
