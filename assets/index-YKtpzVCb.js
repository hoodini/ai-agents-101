const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/loadCognitoIdentity-BuOGw_Vs.js","assets/index-DQukYP6-.js","assets/loadSts-B-mRbgsE.js","assets/toUtf8.browser-CyauOOnS.js","assets/index-DKvlMTvf.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const t of u)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(u){const t={};return u.integrity&&(t.integrity=u.integrity),u.referrerPolicy&&(t.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?t.credentials="include":u.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(u){if(u.ep)return;u.ep=!0;const t=o(u);fetch(u.href,t)}})();function a_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i_(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var o=function i(){var u=!1;try{u=this instanceof i}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var u=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,u.get?u:{enumerable:!0,get:function(){return e[i]}})}),o}var RO={exports:{}},sg={};var pD;function ZQ(){if(pD)return sg;pD=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(i,u,t){var r=null;if(t!==void 0&&(r=""+t),u.key!==void 0&&(r=""+u.key),"key"in u){t={};for(var a in u)a!=="key"&&(t[a]=u[a])}else t=u;return u=t.ref,{$$typeof:e,type:i,key:r,ref:u!==void 0?u:null,props:t}}return sg.Fragment=n,sg.jsx=o,sg.jsxs=o,sg}var gD;function QQ(){return gD||(gD=1,RO.exports=ZQ()),RO.exports}var C=QQ(),jO={exports:{}},nt={};var mD;function XQ(){if(mD)return nt;mD=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),t=Symbol.for("react.consumer"),r=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function _(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function S(I,K,ee){this.props=I,this.context=K,this.refs=v,this.updater=ee||p}S.prototype.isReactComponent={},S.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},S.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function R(){}R.prototype=S.prototype;function j(I,K,ee){this.props=I,this.context=K,this.refs=v,this.updater=ee||p}var A=j.prototype=new R;A.constructor=j,y(A,S.prototype),A.isPureReactComponent=!0;var x=Array.isArray;function M(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function F(I,K,ee){var fe=ee.ref;return{$$typeof:e,type:I,key:K,ref:fe!==void 0?fe:null,props:ee}}function B(I,K){return F(I.type,K,I.props)}function q(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function w(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ee){return K[ee]})}var H=/\/+/g;function Y(I,K){return typeof I=="object"&&I!==null&&I.key!=null?w(""+I.key):K.toString(36)}function W(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(M,M):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function $(I,K,ee,fe,_e){var V=typeof I;(V==="undefined"||V==="boolean")&&(I=null);var U=!1;if(I===null)U=!0;else switch(V){case"bigint":case"string":case"number":U=!0;break;case"object":switch(I.$$typeof){case e:case n:U=!0;break;case f:return U=I._init,$(U(I._payload),K,ee,fe,_e)}}if(U)return _e=_e(I),U=fe===""?"."+Y(I,0):fe,x(_e)?(ee="",U!=null&&(ee=U.replace(H,"$&/")+"/"),$(_e,K,ee,"",function(ue){return ue})):_e!=null&&(q(_e)&&(_e=B(_e,ee+(_e.key==null||I&&I.key===_e.key?"":(""+_e.key).replace(H,"$&/")+"/")+U)),K.push(_e)),1;U=0;var X=fe===""?".":fe+":";if(x(I))for(var Z=0;Z<I.length;Z++)fe=I[Z],V=X+Y(fe,Z),U+=$(fe,K,ee,V,_e);else if(Z=_(I),typeof Z=="function")for(I=Z.call(I),Z=0;!(fe=I.next()).done;)fe=fe.value,V=X+Y(fe,Z++),U+=$(fe,K,ee,V,_e);else if(V==="object"){if(typeof I.then=="function")return $(W(I),K,ee,fe,_e);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return U}function k(I,K,ee){if(I==null)return I;var fe=[],_e=0;return $(I,fe,"","",function(V){return K.call(ee,V,_e++)}),fe}function Q(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(ee){(I._status===0||I._status===-1)&&(I._status=1,I._result=ee)},function(ee){(I._status===0||I._status===-1)&&(I._status=2,I._result=ee)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var re=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},T={map:k,forEach:function(I,K,ee){k(I,function(){K.apply(this,arguments)},ee)},count:function(I){var K=0;return k(I,function(){K++}),K},toArray:function(I){return k(I,function(K){return K})||[]},only:function(I){if(!q(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return nt.Activity=m,nt.Children=T,nt.Component=S,nt.Fragment=o,nt.Profiler=u,nt.PureComponent=j,nt.StrictMode=i,nt.Suspense=s,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,nt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},nt.cache=function(I){return function(){return I.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(I,K,ee){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var fe=y({},I.props),_e=I.key;if(K!=null)for(V in K.key!==void 0&&(_e=""+K.key),K)!P.call(K,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&K.ref===void 0||(fe[V]=K[V]);var V=arguments.length-2;if(V===1)fe.children=ee;else if(1<V){for(var U=Array(V),X=0;X<V;X++)U[X]=arguments[X+2];fe.children=U}return F(I.type,_e,fe)},nt.createContext=function(I){return I={$$typeof:r,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:t,_context:I},I},nt.createElement=function(I,K,ee){var fe,_e={},V=null;if(K!=null)for(fe in K.key!==void 0&&(V=""+K.key),K)P.call(K,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(_e[fe]=K[fe]);var U=arguments.length-2;if(U===1)_e.children=ee;else if(1<U){for(var X=Array(U),Z=0;Z<U;Z++)X[Z]=arguments[Z+2];_e.children=X}if(I&&I.defaultProps)for(fe in U=I.defaultProps,U)_e[fe]===void 0&&(_e[fe]=U[fe]);return F(I,V,_e)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(I){return{$$typeof:a,render:I}},nt.isValidElement=q,nt.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:Q}},nt.memo=function(I,K){return{$$typeof:l,type:I,compare:K===void 0?null:K}},nt.startTransition=function(I){var K=D.T,ee={};D.T=ee;try{var fe=I(),_e=D.S;_e!==null&&_e(ee,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(M,re)}catch(V){re(V)}finally{K!==null&&ee.types!==null&&(K.types=ee.types),D.T=K}},nt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},nt.use=function(I){return D.H.use(I)},nt.useActionState=function(I,K,ee){return D.H.useActionState(I,K,ee)},nt.useCallback=function(I,K){return D.H.useCallback(I,K)},nt.useContext=function(I){return D.H.useContext(I)},nt.useDebugValue=function(){},nt.useDeferredValue=function(I,K){return D.H.useDeferredValue(I,K)},nt.useEffect=function(I,K){return D.H.useEffect(I,K)},nt.useEffectEvent=function(I){return D.H.useEffectEvent(I)},nt.useId=function(){return D.H.useId()},nt.useImperativeHandle=function(I,K,ee){return D.H.useImperativeHandle(I,K,ee)},nt.useInsertionEffect=function(I,K){return D.H.useInsertionEffect(I,K)},nt.useLayoutEffect=function(I,K){return D.H.useLayoutEffect(I,K)},nt.useMemo=function(I,K){return D.H.useMemo(I,K)},nt.useOptimistic=function(I,K){return D.H.useOptimistic(I,K)},nt.useReducer=function(I,K,ee){return D.H.useReducer(I,K,ee)},nt.useRef=function(I){return D.H.useRef(I)},nt.useState=function(I){return D.H.useState(I)},nt.useSyncExternalStore=function(I,K,ee){return D.H.useSyncExternalStore(I,K,ee)},nt.useTransition=function(){return D.H.useTransition()},nt.version="19.2.3",nt}var _D;function $T(){return _D||(_D=1,jO.exports=XQ()),jO.exports}var Ze=$T();const _l=a_(Ze);var CO={exports:{}},ug={},TO={exports:{}},MO={};var yD;function eX(){return yD||(yD=1,(function(e){function n($,k){var Q=$.length;$.push(k);e:for(;0<Q;){var re=Q-1>>>1,T=$[re];if(0<u(T,k))$[re]=k,$[Q]=T,Q=re;else break e}}function o($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var k=$[0],Q=$.pop();if(Q!==k){$[0]=Q;e:for(var re=0,T=$.length,I=T>>>1;re<I;){var K=2*(re+1)-1,ee=$[K],fe=K+1,_e=$[fe];if(0>u(ee,Q))fe<T&&0>u(_e,ee)?($[re]=_e,$[fe]=Q,re=fe):($[re]=ee,$[K]=Q,re=K);else if(fe<T&&0>u(_e,Q))$[re]=_e,$[fe]=Q,re=fe;else break e}}return k}function u($,k){var Q=$.sortIndex-k.sortIndex;return Q!==0?Q:$.id-k.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var t=performance;e.unstable_now=function(){return t.now()}}else{var r=Date,a=r.now();e.unstable_now=function(){return r.now()-a}}var s=[],l=[],f=1,m=null,b=3,_=!1,p=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function A($){for(var k=o(l);k!==null;){if(k.callback===null)i(l);else if(k.startTime<=$)i(l),k.sortIndex=k.expirationTime,n(s,k);else break;k=o(l)}}function x($){if(y=!1,A($),!p)if(o(s)!==null)p=!0,M||(M=!0,w());else{var k=o(l);k!==null&&W(x,k.startTime-$)}}var M=!1,D=-1,P=5,F=-1;function B(){return v?!0:!(e.unstable_now()-F<P)}function q(){if(v=!1,M){var $=e.unstable_now();F=$;var k=!0;try{e:{p=!1,y&&(y=!1,R(D),D=-1),_=!0;var Q=b;try{t:{for(A($),m=o(s);m!==null&&!(m.expirationTime>$&&B());){var re=m.callback;if(typeof re=="function"){m.callback=null,b=m.priorityLevel;var T=re(m.expirationTime<=$);if($=e.unstable_now(),typeof T=="function"){m.callback=T,A($),k=!0;break t}m===o(s)&&i(s),A($)}else i(s);m=o(s)}if(m!==null)k=!0;else{var I=o(l);I!==null&&W(x,I.startTime-$),k=!1}}break e}finally{m=null,b=Q,_=!1}k=void 0}}finally{k?w():M=!1}}}var w;if(typeof j=="function")w=function(){j(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=q,w=function(){Y.postMessage(null)}}else w=function(){S(q,0)};function W($,k){D=S(function(){$(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var k=3;break;default:k=b}var Q=b;b=k;try{return $()}finally{b=Q}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function($,k){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=b;b=$;try{return k()}finally{b=Q}},e.unstable_scheduleCallback=function($,k,Q){var re=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,$){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Q+T,$={id:f++,callback:k,priorityLevel:$,startTime:Q,expirationTime:T,sortIndex:-1},Q>re?($.sortIndex=Q,n(l,$),o(s)===null&&$===o(l)&&(y?(R(D),D=-1):y=!0,W(x,Q-re))):($.sortIndex=T,n(s,$),p||_||(p=!0,M||(M=!0,w()))),$},e.unstable_shouldYield=B,e.unstable_wrapCallback=function($){var k=b;return function(){var Q=b;b=k;try{return $.apply(this,arguments)}finally{b=Q}}}})(MO)),MO}var vD;function tX(){return vD||(vD=1,TO.exports=eX()),TO.exports}var xO={exports:{}},Er={};var bD;function rX(){if(bD)return Er;bD=1;var e=$T();function n(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function t(s,l,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:m==null?null:""+m,children:s,containerInfo:l,implementation:f}}var r=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(s,l){if(s==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return Er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Er.createPortal=function(s,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(n(299));return t(s,l,null,f)},Er.flushSync=function(s){var l=r.T,f=i.p;try{if(r.T=null,i.p=2,s)return s()}finally{r.T=l,i.p=f,i.d.f()}},Er.preconnect=function(s,l){typeof s=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,i.d.C(s,l))},Er.prefetchDNS=function(s){typeof s=="string"&&i.d.D(s)},Er.preinit=function(s,l){if(typeof s=="string"&&l&&typeof l.as=="string"){var f=l.as,m=a(f,l.crossOrigin),b=typeof l.integrity=="string"?l.integrity:void 0,_=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;f==="style"?i.d.S(s,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:_}):f==="script"&&i.d.X(s,{crossOrigin:m,integrity:b,fetchPriority:_,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},Er.preinitModule=function(s,l){if(typeof s=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var f=a(l.as,l.crossOrigin);i.d.M(s,{crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&i.d.M(s)},Er.preload=function(s,l){if(typeof s=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var f=l.as,m=a(f,l.crossOrigin);i.d.L(s,f,{crossOrigin:m,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},Er.preloadModule=function(s,l){if(typeof s=="string")if(l){var f=a(l.as,l.crossOrigin);i.d.m(s,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else i.d.m(s)},Er.requestFormReset=function(s){i.d.r(s)},Er.unstable_batchedUpdates=function(s,l){return s(l)},Er.useFormState=function(s,l,f){return r.H.useFormState(s,l,f)},Er.useFormStatus=function(){return r.H.useHostTransitionStatus()},Er.version="19.2.3",Er}var wD;function nX(){if(wD)return xO.exports;wD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),xO.exports=rX(),xO.exports}var OD;function aX(){if(OD)return ug;OD=1;var e=tX(),n=$T(),o=nX();function i(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function t(c){var d=c,h=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(h=d.return),c=d.return;while(c)}return d.tag===3?h:null}function r(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function s(c){if(t(c)!==c)throw Error(i(188))}function l(c){var d=c.alternate;if(!d){if(d=t(c),d===null)throw Error(i(188));return d!==c?null:c}for(var h=c,g=d;;){var O=h.return;if(O===null)break;var E=O.alternate;if(E===null){if(g=O.return,g!==null){h=g;continue}break}if(O.child===E.child){for(E=O.child;E;){if(E===h)return s(O),c;if(E===g)return s(O),d;E=E.sibling}throw Error(i(188))}if(h.return!==g.return)h=O,g=E;else{for(var L=!1,J=O.child;J;){if(J===h){L=!0,h=O,g=E;break}if(J===g){L=!0,g=O,h=E;break}J=J.sibling}if(!L){for(J=E.child;J;){if(J===h){L=!0,h=E,g=O;break}if(J===g){L=!0,g=E,h=O;break}J=J.sibling}if(!L)throw Error(i(189))}}if(h.alternate!==g)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?c:d}function f(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=f(c),d!==null)return d;c=c.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),j=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function w(c){return c===null||typeof c!="object"?null:(c=q&&c[q]||c["@@iterator"],typeof c=="function"?c:null)}var H=Symbol.for("react.client.reference");function Y(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===H?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case S:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case M:return"SuspenseList";case F:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case p:return"Portal";case j:return c.displayName||"Context";case R:return(c._context.displayName||"Context")+".Consumer";case A:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case D:return d=c.displayName||null,d!==null?d:Y(c.type)||"Memo";case P:d=c._payload,c=c._init;try{return Y(c(d))}catch{}}return null}var W=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},re=[],T=-1;function I(c){return{current:c}}function K(c){0>T||(c.current=re[T],re[T]=null,T--)}function ee(c,d){T++,re[T]=c.current,c.current=d}var fe=I(null),_e=I(null),V=I(null),U=I(null);function X(c,d){switch(ee(V,d),ee(_e,c),ee(fe,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?qN(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=qN(d),c=BN(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}K(fe),ee(fe,c)}function Z(){K(fe),K(_e),K(V)}function ue(c){c.memoizedState!==null&&ee(U,c);var d=fe.current,h=BN(d,c.type);d!==h&&(ee(_e,c),ee(fe,h))}function ge(c){_e.current===c&&(K(fe),K(_e)),U.current===c&&(K(U),ng._currentValue=Q)}var be,ae;function oe(c){if(be===void 0)try{throw Error()}catch(h){var d=h.stack.trim().match(/\n( *(at )?)/);be=d&&d[1]||"",ae=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+c+ae}var ve=!1;function Ce(c,d){if(!c||ve)return"";ve=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(d){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(Re){var Se=Re}Reflect.construct(c,[],xe)}else{try{xe.call()}catch(Re){Se=Re}c.call(xe.prototype)}}else{try{throw Error()}catch(Re){Se=Re}(xe=c())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(Re){if(Re&&Se&&typeof Re.stack=="string")return[Re.stack,Se.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),L=E[0],J=E[1];if(L&&J){var le=L.split(`
`),Oe=J.split(`
`);for(O=g=0;g<le.length&&!le[g].includes("DetermineComponentFrameRoot");)g++;for(;O<Oe.length&&!Oe[O].includes("DetermineComponentFrameRoot");)O++;if(g===le.length||O===Oe.length)for(g=le.length-1,O=Oe.length-1;1<=g&&0<=O&&le[g]!==Oe[O];)O--;for(;1<=g&&0<=O;g--,O--)if(le[g]!==Oe[O]){if(g!==1||O!==1)do if(g--,O--,0>O||le[g]!==Oe[O]){var je=`
`+le[g].replace(" at new "," at ");return c.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",c.displayName)),je}while(1<=g&&0<=O);break}}}finally{ve=!1,Error.prepareStackTrace=h}return(h=c?c.displayName||c.name:"")?oe(h):""}function Pe(c,d){switch(c.tag){case 26:case 27:case 5:return oe(c.type);case 16:return oe("Lazy");case 13:return c.child!==d&&d!==null?oe("Suspense Fallback"):oe("Suspense");case 19:return oe("SuspenseList");case 0:case 15:return Ce(c.type,!1);case 11:return Ce(c.type.render,!1);case 1:return Ce(c.type,!0);case 31:return oe("Activity");default:return""}}function Ae(c){try{var d="",h=null;do d+=Pe(c,h),h=c,c=c.return;while(c);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var de=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,De=e.unstable_cancelCallback,ye=e.unstable_shouldYield,Ie=e.unstable_requestPaint,$e=e.unstable_now,Ne=e.unstable_getCurrentPriorityLevel,ze=e.unstable_ImmediatePriority,G=e.unstable_UserBlockingPriority,N=e.unstable_NormalPriority,z=e.unstable_LowPriority,ne=e.unstable_IdlePriority,ce=e.log,Ee=e.unstable_setDisableYieldValue,Te=null,tt=null;function yt(c){if(typeof ce=="function"&&Ee(c),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Te,c)}catch{}}var lt=Math.clz32?Math.clz32:x_,zt=Math.log,wt=Math.LN2;function x_(c){return c>>>=0,c===0?32:31-(zt(c)/wt|0)|0}var kf=256,cd=262144,dc=4194304;function Rl(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Yf(c,d,h){var g=c.pendingLanes;if(g===0)return 0;var O=0,E=c.suspendedLanes,L=c.pingedLanes;c=c.warmLanes;var J=g&134217727;return J!==0?(g=J&~E,g!==0?O=Rl(g):(L&=J,L!==0?O=Rl(L):h||(h=J&~c,h!==0&&(O=Rl(h))))):(J=g&~E,J!==0?O=Rl(J):L!==0?O=Rl(L):h||(h=g&~c,h!==0&&(O=Rl(h)))),O===0?0:d!==0&&d!==O&&(d&E)===0&&(E=O&-O,h=d&-d,E>=h||E===32&&(h&4194048)!==0)?d:O}function jl(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function P_(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function te(){var c=dc;return dc<<=1,(dc&62914560)===0&&(dc=4194304),c}function se(c){for(var d=[],h=0;31>h;h++)d.push(c);return d}function qe(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ue(c,d,h,g,O,E){var L=c.pendingLanes;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=h,c.entangledLanes&=h,c.errorRecoveryDisabledLanes&=h,c.shellSuspendCounter=0;var J=c.entanglements,le=c.expirationTimes,Oe=c.hiddenUpdates;for(h=L&~h;0<h;){var je=31-lt(h),xe=1<<je;J[je]=0,le[je]=-1;var Se=Oe[je];if(Se!==null)for(Oe[je]=null,je=0;je<Se.length;je++){var Re=Se[je];Re!==null&&(Re.lane&=-536870913)}h&=~xe}g!==0&&ke(c,g,0),E!==0&&O===0&&c.tag!==0&&(c.suspendedLanes|=E&~(L&~d))}function ke(c,d,h){c.pendingLanes|=d,c.suspendedLanes&=~d;var g=31-lt(d);c.entangledLanes|=d,c.entanglements[g]=c.entanglements[g]|1073741824|h&261930}function ir(c,d){var h=c.entangledLanes|=d;for(c=c.entanglements;h;){var g=31-lt(h),O=1<<g;O&d|c[g]&d&&(c[g]|=d),h&=~O}}function Cr(c,d){var h=d&-d;return h=(h&42)!==0?1:Wf(h),(h&(c.suspendedLanes|d))!==0?0:h}function Wf(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function $n(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function _p(){var c=k.p;return c!==0?c:(c=window.event,c===void 0?32:sD(c.type))}function A_(c,d){var h=k.p;try{return k.p=c,d()}finally{k.p=h}}var Fn=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Fn,dr="__reactProps$"+Fn,cl="__reactContainer$"+Fn,dd="__reactEvents$"+Fn,fd="__reactListeners$"+Fn,Cl="__reactHandles$"+Fn,En="__reactResources$"+Fn,yp="__reactMarker$"+Fn;function _0(c){delete c[Qt],delete c[dr],delete c[dd],delete c[fd],delete c[Cl]}function Jf(c){var d=c[Qt];if(d)return d;for(var h=c.parentNode;h;){if(d=h[cl]||h[Qt]){if(h=d.alternate,d.child!==null||h!==null&&h.child!==null)for(c=HN(c);c!==null;){if(h=c[Qt])return h;c=HN(c)}return d}c=h,h=c.parentNode}return null}function Zf(c){if(c=c[Qt]||c[cl]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function vp(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(i(33))}function Qf(c){var d=c[En];return d||(d=c[En]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function fr(c){c[yp]=!0}var Rx=new Set,jx={};function hd(c,d){Xf(c,d),Xf(c+"Capture",d)}function Xf(c,d){for(jx[c]=d,c=0;c<d.length;c++)Rx.add(d[c])}var FJ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cx={},Tx={};function VJ(c){return de.call(Tx,c)?!0:de.call(Cx,c)?!1:FJ.test(c)?Tx[c]=!0:(Cx[c]=!0,!1)}function N_(c,d,h){if(VJ(d))if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var g=d.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+h)}}function D_(c,d,h){if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+h)}}function Tl(c,d,h,g){if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttributeNS(d,h,""+g)}}function Rn(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Mx(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function GJ(c,d,h){var g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,E=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return O.call(this)},set:function(L){h=""+L,E.call(this,L)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function y0(c){if(!c._valueTracker){var d=Mx(c)?"checked":"value";c._valueTracker=GJ(c,d,""+c[d])}}function xx(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var h=d.getValue(),g="";return c&&(g=Mx(c)?c.checked?"true":"false":c.value),c=g,c!==h?(d.setValue(c),!0):!1}function I_(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var HJ=/[\n"\\]/g;function jn(c){return c.replace(HJ,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function v0(c,d,h,g,O,E,L,J){c.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?c.type=L:c.removeAttribute("type"),d!=null?L==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Rn(d)):c.value!==""+Rn(d)&&(c.value=""+Rn(d)):L!=="submit"&&L!=="reset"||c.removeAttribute("value"),d!=null?b0(c,L,Rn(d)):h!=null?b0(c,L,Rn(h)):g!=null&&c.removeAttribute("value"),O==null&&E!=null&&(c.defaultChecked=!!E),O!=null&&(c.checked=O&&typeof O!="function"&&typeof O!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?c.name=""+Rn(J):c.removeAttribute("name")}function Px(c,d,h,g,O,E,L,J){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(c.type=E),d!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||d!=null)){y0(c);return}h=h!=null?""+Rn(h):"",d=d!=null?""+Rn(d):h,J||d===c.value||(c.value=d),c.defaultValue=d}g=g??O,g=typeof g!="function"&&typeof g!="symbol"&&!!g,c.checked=J?c.checked:!!g,c.defaultChecked=!!g,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(c.name=L),y0(c)}function b0(c,d,h){d==="number"&&I_(c.ownerDocument)===c||c.defaultValue===""+h||(c.defaultValue=""+h)}function eh(c,d,h,g){if(c=c.options,d){d={};for(var O=0;O<h.length;O++)d["$"+h[O]]=!0;for(h=0;h<c.length;h++)O=d.hasOwnProperty("$"+c[h].value),c[h].selected!==O&&(c[h].selected=O),O&&g&&(c[h].defaultSelected=!0)}else{for(h=""+Rn(h),d=null,O=0;O<c.length;O++){if(c[O].value===h){c[O].selected=!0,g&&(c[O].defaultSelected=!0);return}d!==null||c[O].disabled||(d=c[O])}d!==null&&(d.selected=!0)}}function Ax(c,d,h){if(d!=null&&(d=""+Rn(d),d!==c.value&&(c.value=d),h==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=h!=null?""+Rn(h):""}function Nx(c,d,h,g){if(d==null){if(g!=null){if(h!=null)throw Error(i(92));if(W(g)){if(1<g.length)throw Error(i(93));g=g[0]}h=g}h==null&&(h=""),d=h}h=Rn(d),c.defaultValue=h,g=c.textContent,g===h&&g!==""&&g!==null&&(c.value=g),y0(c)}function th(c,d){if(d){var h=c.firstChild;if(h&&h===c.lastChild&&h.nodeType===3){h.nodeValue=d;return}}c.textContent=d}var KJ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dx(c,d,h){var g=d.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":g?c.setProperty(d,h):typeof h!="number"||h===0||KJ.has(d)?d==="float"?c.cssFloat=h:c[d]=(""+h).trim():c[d]=h+"px"}function Ix(c,d,h){if(d!=null&&typeof d!="object")throw Error(i(62));if(c=c.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||d!=null&&d.hasOwnProperty(g)||(g.indexOf("--")===0?c.setProperty(g,""):g==="float"?c.cssFloat="":c[g]="");for(var O in d)g=d[O],d.hasOwnProperty(O)&&h[O]!==g&&Dx(c,O,g)}else for(var E in d)d.hasOwnProperty(E)&&Dx(c,E,d[E])}function w0(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function z_(c){return YJ.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Ml(){}var O0=null;function S0(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var rh=null,nh=null;function zx(c){var d=Zf(c);if(d&&(c=d.stateNode)){var h=c[dr]||null;e:switch(c=d.stateNode,d.type){case"input":if(v0(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),d=h.name,h.type==="radio"&&d!=null){for(h=c;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+jn(""+d)+'"][type="radio"]'),d=0;d<h.length;d++){var g=h[d];if(g!==c&&g.form===c.form){var O=g[dr]||null;if(!O)throw Error(i(90));v0(g,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<h.length;d++)g=h[d],g.form===c.form&&xx(g)}break e;case"textarea":Ax(c,h.value,h.defaultValue);break e;case"select":d=h.value,d!=null&&eh(c,!!h.multiple,d,!1)}}}var E0=!1;function qx(c,d,h){if(E0)return c(d,h);E0=!0;try{var g=c(d);return g}finally{if(E0=!1,(rh!==null||nh!==null)&&(Sy(),rh&&(d=rh,c=nh,nh=rh=null,zx(d),c)))for(d=0;d<c.length;d++)zx(c[d])}}function bp(c,d){var h=c.stateNode;if(h===null)return null;var g=h[dr]||null;if(g===null)return null;h=g[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(c=c.type,g=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!g;break e;default:c=!1}if(c)return null;if(h&&typeof h!="function")throw Error(i(231,d,typeof h));return h}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R0=!1;if(xl)try{var wp={};Object.defineProperty(wp,"passive",{get:function(){R0=!0}}),window.addEventListener("test",wp,wp),window.removeEventListener("test",wp,wp)}catch{R0=!1}var fc=null,j0=null,q_=null;function Bx(){if(q_)return q_;var c,d=j0,h=d.length,g,O="value"in fc?fc.value:fc.textContent,E=O.length;for(c=0;c<h&&d[c]===O[c];c++);var L=h-c;for(g=1;g<=L&&d[h-g]===O[E-g];g++);return q_=O.slice(c,1<g?1-g:void 0)}function B_(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function L_(){return!0}function Lx(){return!1}function qr(c){function d(h,g,O,E,L){this._reactName=h,this._targetInst=O,this.type=g,this.nativeEvent=E,this.target=L,this.currentTarget=null;for(var J in c)c.hasOwnProperty(J)&&(h=c[J],this[J]=h?h(E):E[J]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?L_:Lx,this.isPropagationStopped=Lx,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=L_)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=L_)},persist:function(){},isPersistent:L_}),d}var pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U_=qr(pd),Op=m({},pd,{view:0,detail:0}),WJ=qr(Op),C0,T0,Sp,$_=m({},Op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x0,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Sp&&(Sp&&c.type==="mousemove"?(C0=c.screenX-Sp.screenX,T0=c.screenY-Sp.screenY):T0=C0=0,Sp=c),C0)},movementY:function(c){return"movementY"in c?c.movementY:T0}}),Ux=qr($_),JJ=m({},$_,{dataTransfer:0}),ZJ=qr(JJ),QJ=m({},Op,{relatedTarget:0}),M0=qr(QJ),XJ=m({},pd,{animationName:0,elapsedTime:0,pseudoElement:0}),eZ=qr(XJ),tZ=m({},pd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),rZ=qr(tZ),nZ=m({},pd,{data:0}),$x=qr(nZ),aZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sZ(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=oZ[c])?!!d[c]:!1}function x0(){return sZ}var uZ=m({},Op,{key:function(c){if(c.key){var d=aZ[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=B_(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?iZ[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x0,charCode:function(c){return c.type==="keypress"?B_(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?B_(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),lZ=qr(uZ),cZ=m({},$_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fx=qr(cZ),dZ=m({},Op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x0}),fZ=qr(dZ),hZ=m({},pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),pZ=qr(hZ),gZ=m({},$_,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),mZ=qr(gZ),_Z=m({},pd,{newState:0,oldState:0}),yZ=qr(_Z),vZ=[9,13,27,32],P0=xl&&"CompositionEvent"in window,Ep=null;xl&&"documentMode"in document&&(Ep=document.documentMode);var bZ=xl&&"TextEvent"in window&&!Ep,Vx=xl&&(!P0||Ep&&8<Ep&&11>=Ep),Gx=" ",Hx=!1;function Kx(c,d){switch(c){case"keyup":return vZ.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kx(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ah=!1;function wZ(c,d){switch(c){case"compositionend":return kx(d);case"keypress":return d.which!==32?null:(Hx=!0,Gx);case"textInput":return c=d.data,c===Gx&&Hx?null:c;default:return null}}function OZ(c,d){if(ah)return c==="compositionend"||!P0&&Kx(c,d)?(c=Bx(),q_=j0=fc=null,ah=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Vx&&d.locale!=="ko"?null:d.data;default:return null}}var SZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yx(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!SZ[c.type]:d==="textarea"}function Wx(c,d,h,g){rh?nh?nh.push(g):nh=[g]:rh=g,d=xy(d,"onChange"),0<d.length&&(h=new U_("onChange","change",null,h,g),c.push({event:h,listeners:d}))}var Rp=null,jp=null;function EZ(c){PN(c,0)}function F_(c){var d=vp(c);if(xx(d))return c}function Jx(c,d){if(c==="change")return d}var Zx=!1;if(xl){var A0;if(xl){var N0="oninput"in document;if(!N0){var Qx=document.createElement("div");Qx.setAttribute("oninput","return;"),N0=typeof Qx.oninput=="function"}A0=N0}else A0=!1;Zx=A0&&(!document.documentMode||9<document.documentMode)}function Xx(){Rp&&(Rp.detachEvent("onpropertychange",eP),jp=Rp=null)}function eP(c){if(c.propertyName==="value"&&F_(jp)){var d=[];Wx(d,jp,c,S0(c)),qx(EZ,d)}}function RZ(c,d,h){c==="focusin"?(Xx(),Rp=d,jp=h,Rp.attachEvent("onpropertychange",eP)):c==="focusout"&&Xx()}function jZ(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return F_(jp)}function CZ(c,d){if(c==="click")return F_(d)}function TZ(c,d){if(c==="input"||c==="change")return F_(d)}function MZ(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Qr=typeof Object.is=="function"?Object.is:MZ;function Cp(c,d){if(Qr(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var h=Object.keys(c),g=Object.keys(d);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var O=h[g];if(!de.call(d,O)||!Qr(c[O],d[O]))return!1}return!0}function tP(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function rP(c,d){var h=tP(c);c=0;for(var g;h;){if(h.nodeType===3){if(g=c+h.textContent.length,c<=d&&g>=d)return{node:h,offset:d-c};c=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=tP(h)}}function nP(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?nP(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function aP(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=I_(c.document);d instanceof c.HTMLIFrameElement;){try{var h=typeof d.contentWindow.location.href=="string"}catch{h=!1}if(h)c=d.contentWindow;else break;d=I_(c.document)}return d}function D0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var xZ=xl&&"documentMode"in document&&11>=document.documentMode,ih=null,I0=null,Tp=null,z0=!1;function iP(c,d,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;z0||ih==null||ih!==I_(g)||(g=ih,"selectionStart"in g&&D0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Tp&&Cp(Tp,g)||(Tp=g,g=xy(I0,"onSelect"),0<g.length&&(d=new U_("onSelect","select",null,d,h),c.push({event:d,listeners:g}),d.target=ih)))}function gd(c,d){var h={};return h[c.toLowerCase()]=d.toLowerCase(),h["Webkit"+c]="webkit"+d,h["Moz"+c]="moz"+d,h}var oh={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionrun:gd("Transition","TransitionRun"),transitionstart:gd("Transition","TransitionStart"),transitioncancel:gd("Transition","TransitionCancel"),transitionend:gd("Transition","TransitionEnd")},q0={},oP={};xl&&(oP=document.createElement("div").style,"AnimationEvent"in window||(delete oh.animationend.animation,delete oh.animationiteration.animation,delete oh.animationstart.animation),"TransitionEvent"in window||delete oh.transitionend.transition);function md(c){if(q0[c])return q0[c];if(!oh[c])return c;var d=oh[c],h;for(h in d)if(d.hasOwnProperty(h)&&h in oP)return q0[c]=d[h];return c}var sP=md("animationend"),uP=md("animationiteration"),lP=md("animationstart"),PZ=md("transitionrun"),AZ=md("transitionstart"),NZ=md("transitioncancel"),cP=md("transitionend"),dP=new Map,B0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");B0.push("scrollEnd");function Vn(c,d){dP.set(c,d),hd(d,[c])}var V_=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Cn=[],sh=0,L0=0;function G_(){for(var c=sh,d=L0=sh=0;d<c;){var h=Cn[d];Cn[d++]=null;var g=Cn[d];Cn[d++]=null;var O=Cn[d];Cn[d++]=null;var E=Cn[d];if(Cn[d++]=null,g!==null&&O!==null){var L=g.pending;L===null?O.next=O:(O.next=L.next,L.next=O),g.pending=O}E!==0&&fP(h,O,E)}}function H_(c,d,h,g){Cn[sh++]=c,Cn[sh++]=d,Cn[sh++]=h,Cn[sh++]=g,L0|=g,c.lanes|=g,c=c.alternate,c!==null&&(c.lanes|=g)}function U0(c,d,h,g){return H_(c,d,h,g),K_(c)}function _d(c,d){return H_(c,null,null,d),K_(c)}function fP(c,d,h){c.lanes|=h;var g=c.alternate;g!==null&&(g.lanes|=h);for(var O=!1,E=c.return;E!==null;)E.childLanes|=h,g=E.alternate,g!==null&&(g.childLanes|=h),E.tag===22&&(c=E.stateNode,c===null||c._visibility&1||(O=!0)),c=E,E=E.return;return c.tag===3?(E=c.stateNode,O&&d!==null&&(O=31-lt(h),c=E.hiddenUpdates,g=c[O],g===null?c[O]=[d]:g.push(d),d.lane=h|536870912),E):null}function K_(c){if(50<Jp)throw Jp=0,Ww=null,Error(i(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var uh={};function DZ(c,d,h,g){this.tag=c,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(c,d,h,g){return new DZ(c,d,h,g)}function $0(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Pl(c,d){var h=c.alternate;return h===null?(h=Xr(c.tag,d,c.key,c.mode),h.elementType=c.elementType,h.type=c.type,h.stateNode=c.stateNode,h.alternate=c,c.alternate=h):(h.pendingProps=d,h.type=c.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=c.flags&65011712,h.childLanes=c.childLanes,h.lanes=c.lanes,h.child=c.child,h.memoizedProps=c.memoizedProps,h.memoizedState=c.memoizedState,h.updateQueue=c.updateQueue,d=c.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},h.sibling=c.sibling,h.index=c.index,h.ref=c.ref,h.refCleanup=c.refCleanup,h}function hP(c,d){c.flags&=65011714;var h=c.alternate;return h===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,d=h.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function k_(c,d,h,g,O,E){var L=0;if(g=c,typeof c=="function")$0(c)&&(L=1);else if(typeof c=="string")L=LQ(c,h,fe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case F:return c=Xr(31,h,d,O),c.elementType=F,c.lanes=E,c;case y:return yd(h.children,O,E,d);case v:L=8,O|=24;break;case S:return c=Xr(12,h,d,O|2),c.elementType=S,c.lanes=E,c;case x:return c=Xr(13,h,d,O),c.elementType=x,c.lanes=E,c;case M:return c=Xr(19,h,d,O),c.elementType=M,c.lanes=E,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:L=10;break e;case R:L=9;break e;case A:L=11;break e;case D:L=14;break e;case P:L=16,g=null;break e}L=29,h=Error(i(130,c===null?"null":typeof c,"")),g=null}return d=Xr(L,h,d,O),d.elementType=c,d.type=g,d.lanes=E,d}function yd(c,d,h,g){return c=Xr(7,c,g,d),c.lanes=h,c}function F0(c,d,h){return c=Xr(6,c,null,d),c.lanes=h,c}function pP(c){var d=Xr(18,null,null,0);return d.stateNode=c,d}function V0(c,d,h){return d=Xr(4,c.children!==null?c.children:[],c.key,d),d.lanes=h,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var gP=new WeakMap;function Tn(c,d){if(typeof c=="object"&&c!==null){var h=gP.get(c);return h!==void 0?h:(d={value:c,source:d,stack:Ae(d)},gP.set(c,d),d)}return{value:c,source:d,stack:Ae(d)}}var lh=[],ch=0,Y_=null,Mp=0,Mn=[],xn=0,hc=null,dl=1,fl="";function Al(c,d){lh[ch++]=Mp,lh[ch++]=Y_,Y_=c,Mp=d}function mP(c,d,h){Mn[xn++]=dl,Mn[xn++]=fl,Mn[xn++]=hc,hc=c;var g=dl;c=fl;var O=32-lt(g)-1;g&=~(1<<O),h+=1;var E=32-lt(d)+O;if(30<E){var L=O-O%5;E=(g&(1<<L)-1).toString(32),g>>=L,O-=L,dl=1<<32-lt(d)+O|h<<O|g,fl=E+c}else dl=1<<E|h<<O|g,fl=c}function G0(c){c.return!==null&&(Al(c,1),mP(c,1,0))}function H0(c){for(;c===Y_;)Y_=lh[--ch],lh[ch]=null,Mp=lh[--ch],lh[ch]=null;for(;c===hc;)hc=Mn[--xn],Mn[xn]=null,fl=Mn[--xn],Mn[xn]=null,dl=Mn[--xn],Mn[xn]=null}function _P(c,d){Mn[xn++]=dl,Mn[xn++]=fl,Mn[xn++]=hc,dl=d.id,fl=d.overflow,hc=c}var yr=null,Lt=null,mt=!1,pc=null,Pn=!1,K0=Error(i(519));function gc(c){var d=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xp(Tn(d,c)),K0}function yP(c){var d=c.stateNode,h=c.type,g=c.memoizedProps;switch(d[Qt]=c,d[dr]=g,h){case"dialog":ht("cancel",d),ht("close",d);break;case"iframe":case"object":case"embed":ht("load",d);break;case"video":case"audio":for(h=0;h<Qp.length;h++)ht(Qp[h],d);break;case"source":ht("error",d);break;case"img":case"image":case"link":ht("error",d),ht("load",d);break;case"details":ht("toggle",d);break;case"input":ht("invalid",d),Px(d,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ht("invalid",d);break;case"textarea":ht("invalid",d),Nx(d,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||d.textContent===""+h||g.suppressHydrationWarning===!0||IN(d.textContent,h)?(g.popover!=null&&(ht("beforetoggle",d),ht("toggle",d)),g.onScroll!=null&&ht("scroll",d),g.onScrollEnd!=null&&ht("scrollend",d),g.onClick!=null&&(d.onclick=Ml),d=!0):d=!1,d||gc(c,!0)}function vP(c){for(yr=c.return;yr;)switch(yr.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:yr=yr.return}}function dh(c){if(c!==yr)return!1;if(!mt)return vP(c),mt=!0,!1;var d=c.tag,h;if((h=d!==3&&d!==27)&&((h=d===5)&&(h=c.type,h=!(h!=="form"&&h!=="button")||cO(c.type,c.memoizedProps)),h=!h),h&&Lt&&gc(c),vP(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Lt=GN(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Lt=GN(c)}else d===27?(d=Lt,Mc(c.type)?(c=gO,gO=null,Lt=c):Lt=d):Lt=yr?Nn(c.stateNode.nextSibling):null;return!0}function vd(){Lt=yr=null,mt=!1}function k0(){var c=pc;return c!==null&&($r===null?$r=c:$r.push.apply($r,c),pc=null),c}function xp(c){pc===null?pc=[c]:pc.push(c)}var Y0=I(null),bd=null,Nl=null;function mc(c,d,h){ee(Y0,d._currentValue),d._currentValue=h}function Dl(c){c._currentValue=Y0.current,K(Y0)}function W0(c,d,h){for(;c!==null;){var g=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,g!==null&&(g.childLanes|=d)):g!==null&&(g.childLanes&d)!==d&&(g.childLanes|=d),c===h)break;c=c.return}}function J0(c,d,h,g){var O=c.child;for(O!==null&&(O.return=c);O!==null;){var E=O.dependencies;if(E!==null){var L=O.child;E=E.firstContext;e:for(;E!==null;){var J=E;E=O;for(var le=0;le<d.length;le++)if(J.context===d[le]){E.lanes|=h,J=E.alternate,J!==null&&(J.lanes|=h),W0(E.return,h,c),g||(L=null);break e}E=J.next}}else if(O.tag===18){if(L=O.return,L===null)throw Error(i(341));L.lanes|=h,E=L.alternate,E!==null&&(E.lanes|=h),W0(L,h,c),L=null}else L=O.child;if(L!==null)L.return=O;else for(L=O;L!==null;){if(L===c){L=null;break}if(O=L.sibling,O!==null){O.return=L.return,L=O;break}L=L.return}O=L}}function fh(c,d,h,g){c=null;for(var O=d,E=!1;O!==null;){if(!E){if((O.flags&524288)!==0)E=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var L=O.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var J=O.type;Qr(O.pendingProps.value,L.value)||(c!==null?c.push(J):c=[J])}}else if(O===U.current){if(L=O.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(c!==null?c.push(ng):c=[ng])}O=O.return}c!==null&&J0(d,c,h,g),d.flags|=262144}function W_(c){for(c=c.firstContext;c!==null;){if(!Qr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function wd(c){bd=c,Nl=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function vr(c){return bP(bd,c)}function J_(c,d){return bd===null&&wd(c),bP(c,d)}function bP(c,d){var h=d._currentValue;if(d={context:d,memoizedValue:h,next:null},Nl===null){if(c===null)throw Error(i(308));Nl=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Nl=Nl.next=d;return h}var IZ=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(h,g){c.push(g)}};this.abort=function(){d.aborted=!0,c.forEach(function(h){return h()})}},zZ=e.unstable_scheduleCallback,qZ=e.unstable_NormalPriority,Xt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Z0(){return{controller:new IZ,data:new Map,refCount:0}}function Pp(c){c.refCount--,c.refCount===0&&zZ(qZ,function(){c.controller.abort()})}var Ap=null,Q0=0,hh=0,ph=null;function BZ(c,d){if(Ap===null){var h=Ap=[];Q0=0,hh=tO(),ph={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Q0++,d.then(wP,wP),d}function wP(){if(--Q0===0&&Ap!==null){ph!==null&&(ph.status="fulfilled");var c=Ap;Ap=null,hh=0,ph=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function LZ(c,d){var h=[],g={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return c.then(function(){g.status="fulfilled",g.value=d;for(var O=0;O<h.length;O++)(0,h[O])(d)},function(O){for(g.status="rejected",g.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),g}var OP=$.S;$.S=function(c,d){iN=$e(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&BZ(c,d),OP!==null&&OP(c,d)};var Od=I(null);function X0(){var c=Od.current;return c!==null?c:Dt.pooledCache}function Z_(c,d){d===null?ee(Od,Od.current):ee(Od,d.pool)}function SP(){var c=X0();return c===null?null:{parent:Xt._currentValue,pool:c}}var gh=Error(i(460)),ew=Error(i(474)),Q_=Error(i(542)),X_={then:function(){}};function EP(c){return c=c.status,c==="fulfilled"||c==="rejected"}function RP(c,d,h){switch(h=c[h],h===void 0?c.push(d):h!==d&&(d.then(Ml,Ml),d=h),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,CP(c),c;default:if(typeof d.status=="string")d.then(Ml,Ml);else{if(c=Dt,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=d,c.status="pending",c.then(function(g){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=g}},function(g){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=g}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,CP(c),c}throw Ed=d,gh}}function Sd(c){try{var d=c._init;return d(c._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Ed=h,gh):h}}var Ed=null;function jP(){if(Ed===null)throw Error(i(459));var c=Ed;return Ed=null,c}function CP(c){if(c===gh||c===Q_)throw Error(i(483))}var mh=null,Np=0;function ey(c){var d=Np;return Np+=1,mh===null&&(mh=[]),RP(mh,c,d)}function Dp(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function ty(c,d){throw d.$$typeof===b?Error(i(525)):(c=Object.prototype.toString.call(d),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function TP(c){function d(me,he){if(c){var we=me.deletions;we===null?(me.deletions=[he],me.flags|=16):we.push(he)}}function h(me,he){if(!c)return null;for(;he!==null;)d(me,he),he=he.sibling;return null}function g(me){for(var he=new Map;me!==null;)me.key!==null?he.set(me.key,me):he.set(me.index,me),me=me.sibling;return he}function O(me,he){return me=Pl(me,he),me.index=0,me.sibling=null,me}function E(me,he,we){return me.index=we,c?(we=me.alternate,we!==null?(we=we.index,we<he?(me.flags|=67108866,he):we):(me.flags|=67108866,he)):(me.flags|=1048576,he)}function L(me){return c&&me.alternate===null&&(me.flags|=67108866),me}function J(me,he,we,Me){return he===null||he.tag!==6?(he=F0(we,me.mode,Me),he.return=me,he):(he=O(he,we),he.return=me,he)}function le(me,he,we,Me){var Xe=we.type;return Xe===y?je(me,he,we.props.children,Me,we.key):he!==null&&(he.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&Sd(Xe)===he.type)?(he=O(he,we.props),Dp(he,we),he.return=me,he):(he=k_(we.type,we.key,we.props,null,me.mode,Me),Dp(he,we),he.return=me,he)}function Oe(me,he,we,Me){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=V0(we,me.mode,Me),he.return=me,he):(he=O(he,we.children||[]),he.return=me,he)}function je(me,he,we,Me,Xe){return he===null||he.tag!==7?(he=yd(we,me.mode,Me,Xe),he.return=me,he):(he=O(he,we),he.return=me,he)}function xe(me,he,we){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=F0(""+he,me.mode,we),he.return=me,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return we=k_(he.type,he.key,he.props,null,me.mode,we),Dp(we,he),we.return=me,we;case p:return he=V0(he,me.mode,we),he.return=me,he;case P:return he=Sd(he),xe(me,he,we)}if(W(he)||w(he))return he=yd(he,me.mode,we,null),he.return=me,he;if(typeof he.then=="function")return xe(me,ey(he),we);if(he.$$typeof===j)return xe(me,J_(me,he),we);ty(me,he)}return null}function Se(me,he,we,Me){var Xe=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Xe!==null?null:J(me,he,""+we,Me);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case _:return we.key===Xe?le(me,he,we,Me):null;case p:return we.key===Xe?Oe(me,he,we,Me):null;case P:return we=Sd(we),Se(me,he,we,Me)}if(W(we)||w(we))return Xe!==null?null:je(me,he,we,Me,null);if(typeof we.then=="function")return Se(me,he,ey(we),Me);if(we.$$typeof===j)return Se(me,he,J_(me,we),Me);ty(me,we)}return null}function Re(me,he,we,Me,Xe){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return me=me.get(we)||null,J(he,me,""+Me,Xe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:return me=me.get(Me.key===null?we:Me.key)||null,le(he,me,Me,Xe);case p:return me=me.get(Me.key===null?we:Me.key)||null,Oe(he,me,Me,Xe);case P:return Me=Sd(Me),Re(me,he,we,Me,Xe)}if(W(Me)||w(Me))return me=me.get(we)||null,je(he,me,Me,Xe,null);if(typeof Me.then=="function")return Re(me,he,we,ey(Me),Xe);if(Me.$$typeof===j)return Re(me,he,we,J_(he,Me),Xe);ty(he,Me)}return null}function Ge(me,he,we,Me){for(var Xe=null,Ot=null,We=he,ut=he=0,gt=null;We!==null&&ut<we.length;ut++){We.index>ut?(gt=We,We=null):gt=We.sibling;var St=Se(me,We,we[ut],Me);if(St===null){We===null&&(We=gt);break}c&&We&&St.alternate===null&&d(me,We),he=E(St,he,ut),Ot===null?Xe=St:Ot.sibling=St,Ot=St,We=gt}if(ut===we.length)return h(me,We),mt&&Al(me,ut),Xe;if(We===null){for(;ut<we.length;ut++)We=xe(me,we[ut],Me),We!==null&&(he=E(We,he,ut),Ot===null?Xe=We:Ot.sibling=We,Ot=We);return mt&&Al(me,ut),Xe}for(We=g(We);ut<we.length;ut++)gt=Re(We,me,ut,we[ut],Me),gt!==null&&(c&&gt.alternate!==null&&We.delete(gt.key===null?ut:gt.key),he=E(gt,he,ut),Ot===null?Xe=gt:Ot.sibling=gt,Ot=gt);return c&&We.forEach(function(Dc){return d(me,Dc)}),mt&&Al(me,ut),Xe}function rt(me,he,we,Me){if(we==null)throw Error(i(151));for(var Xe=null,Ot=null,We=he,ut=he=0,gt=null,St=we.next();We!==null&&!St.done;ut++,St=we.next()){We.index>ut?(gt=We,We=null):gt=We.sibling;var Dc=Se(me,We,St.value,Me);if(Dc===null){We===null&&(We=gt);break}c&&We&&Dc.alternate===null&&d(me,We),he=E(Dc,he,ut),Ot===null?Xe=Dc:Ot.sibling=Dc,Ot=Dc,We=gt}if(St.done)return h(me,We),mt&&Al(me,ut),Xe;if(We===null){for(;!St.done;ut++,St=we.next())St=xe(me,St.value,Me),St!==null&&(he=E(St,he,ut),Ot===null?Xe=St:Ot.sibling=St,Ot=St);return mt&&Al(me,ut),Xe}for(We=g(We);!St.done;ut++,St=we.next())St=Re(We,me,ut,St.value,Me),St!==null&&(c&&St.alternate!==null&&We.delete(St.key===null?ut:St.key),he=E(St,he,ut),Ot===null?Xe=St:Ot.sibling=St,Ot=St);return c&&We.forEach(function(JQ){return d(me,JQ)}),mt&&Al(me,ut),Xe}function Nt(me,he,we,Me){if(typeof we=="object"&&we!==null&&we.type===y&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case _:e:{for(var Xe=we.key;he!==null;){if(he.key===Xe){if(Xe=we.type,Xe===y){if(he.tag===7){h(me,he.sibling),Me=O(he,we.props.children),Me.return=me,me=Me;break e}}else if(he.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&Sd(Xe)===he.type){h(me,he.sibling),Me=O(he,we.props),Dp(Me,we),Me.return=me,me=Me;break e}h(me,he);break}else d(me,he);he=he.sibling}we.type===y?(Me=yd(we.props.children,me.mode,Me,we.key),Me.return=me,me=Me):(Me=k_(we.type,we.key,we.props,null,me.mode,Me),Dp(Me,we),Me.return=me,me=Me)}return L(me);case p:e:{for(Xe=we.key;he!==null;){if(he.key===Xe)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){h(me,he.sibling),Me=O(he,we.children||[]),Me.return=me,me=Me;break e}else{h(me,he);break}else d(me,he);he=he.sibling}Me=V0(we,me.mode,Me),Me.return=me,me=Me}return L(me);case P:return we=Sd(we),Nt(me,he,we,Me)}if(W(we))return Ge(me,he,we,Me);if(w(we)){if(Xe=w(we),typeof Xe!="function")throw Error(i(150));return we=Xe.call(we),rt(me,he,we,Me)}if(typeof we.then=="function")return Nt(me,he,ey(we),Me);if(we.$$typeof===j)return Nt(me,he,J_(me,we),Me);ty(me,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,he!==null&&he.tag===6?(h(me,he.sibling),Me=O(he,we),Me.return=me,me=Me):(h(me,he),Me=F0(we,me.mode,Me),Me.return=me,me=Me),L(me)):h(me,he)}return function(me,he,we,Me){try{Np=0;var Xe=Nt(me,he,we,Me);return mh=null,Xe}catch(We){if(We===gh||We===Q_)throw We;var Ot=Xr(29,We,null,me.mode);return Ot.lanes=Me,Ot.return=me,Ot}}}var Rd=TP(!0),MP=TP(!1),_c=!1;function tw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rw(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function yc(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function vc(c,d,h){var g=c.updateQueue;if(g===null)return null;if(g=g.shared,(jt&2)!==0){var O=g.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),g.pending=d,d=K_(c),fP(c,null,h),d}return H_(c,g,d,h),K_(c)}function Ip(c,d,h){if(d=d.updateQueue,d!==null&&(d=d.shared,(h&4194048)!==0)){var g=d.lanes;g&=c.pendingLanes,h|=g,d.lanes=h,ir(c,h)}}function nw(c,d){var h=c.updateQueue,g=c.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var O=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var L={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?O=E=L:E=E.next=L,h=h.next}while(h!==null);E===null?O=E=d:E=E.next=d}else O=E=d;h={baseState:g.baseState,firstBaseUpdate:O,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},c.updateQueue=h;return}c=h.lastBaseUpdate,c===null?h.firstBaseUpdate=d:c.next=d,h.lastBaseUpdate=d}var aw=!1;function zp(){if(aw){var c=ph;if(c!==null)throw c}}function qp(c,d,h,g){aw=!1;var O=c.updateQueue;_c=!1;var E=O.firstBaseUpdate,L=O.lastBaseUpdate,J=O.shared.pending;if(J!==null){O.shared.pending=null;var le=J,Oe=le.next;le.next=null,L===null?E=Oe:L.next=Oe,L=le;var je=c.alternate;je!==null&&(je=je.updateQueue,J=je.lastBaseUpdate,J!==L&&(J===null?je.firstBaseUpdate=Oe:J.next=Oe,je.lastBaseUpdate=le))}if(E!==null){var xe=O.baseState;L=0,je=Oe=le=null,J=E;do{var Se=J.lane&-536870913,Re=Se!==J.lane;if(Re?(pt&Se)===Se:(g&Se)===Se){Se!==0&&Se===hh&&(aw=!0),je!==null&&(je=je.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Ge=c,rt=J;Se=d;var Nt=h;switch(rt.tag){case 1:if(Ge=rt.payload,typeof Ge=="function"){xe=Ge.call(Nt,xe,Se);break e}xe=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=rt.payload,Se=typeof Ge=="function"?Ge.call(Nt,xe,Se):Ge,Se==null)break e;xe=m({},xe,Se);break e;case 2:_c=!0}}Se=J.callback,Se!==null&&(c.flags|=64,Re&&(c.flags|=8192),Re=O.callbacks,Re===null?O.callbacks=[Se]:Re.push(Se))}else Re={lane:Se,tag:J.tag,payload:J.payload,callback:J.callback,next:null},je===null?(Oe=je=Re,le=xe):je=je.next=Re,L|=Se;if(J=J.next,J===null){if(J=O.shared.pending,J===null)break;Re=J,J=Re.next,Re.next=null,O.lastBaseUpdate=Re,O.shared.pending=null}}while(!0);je===null&&(le=xe),O.baseState=le,O.firstBaseUpdate=Oe,O.lastBaseUpdate=je,E===null&&(O.shared.lanes=0),Ec|=L,c.lanes=L,c.memoizedState=xe}}function xP(c,d){if(typeof c!="function")throw Error(i(191,c));c.call(d)}function PP(c,d){var h=c.callbacks;if(h!==null)for(c.callbacks=null,c=0;c<h.length;c++)xP(h[c],d)}var _h=I(null),ry=I(0);function AP(c,d){c=Vl,ee(ry,c),ee(_h,d),Vl=c|d.baseLanes}function iw(){ee(ry,Vl),ee(_h,_h.current)}function ow(){Vl=ry.current,K(_h),K(ry)}var en=I(null),An=null;function bc(c){var d=c.alternate;ee(Jt,Jt.current&1),ee(en,c),An===null&&(d===null||_h.current!==null||d.memoizedState!==null)&&(An=c)}function sw(c){ee(Jt,Jt.current),ee(en,c),An===null&&(An=c)}function NP(c){c.tag===22?(ee(Jt,Jt.current),ee(en,c),An===null&&(An=c)):wc()}function wc(){ee(Jt,Jt.current),ee(en,en.current)}function tn(c){K(en),An===c&&(An=null),K(Jt)}var Jt=I(0);function ny(c){for(var d=c;d!==null;){if(d.tag===13){var h=d.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||hO(h)||pO(h)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Il=0,st=null,Pt=null,er=null,ay=!1,yh=!1,jd=!1,iy=0,Bp=0,vh=null,UZ=0;function Kt(){throw Error(i(321))}function uw(c,d){if(d===null)return!1;for(var h=0;h<d.length&&h<c.length;h++)if(!Qr(c[h],d[h]))return!1;return!0}function lw(c,d,h,g,O,E){return Il=E,st=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,$.H=c===null||c.memoizedState===null?mA:Ew,jd=!1,E=h(g,O),jd=!1,yh&&(E=IP(d,h,g,O)),DP(c),E}function DP(c){$.H=$p;var d=Pt!==null&&Pt.next!==null;if(Il=0,er=Pt=st=null,ay=!1,Bp=0,vh=null,d)throw Error(i(300));c===null||tr||(c=c.dependencies,c!==null&&W_(c)&&(tr=!0))}function IP(c,d,h,g){st=c;var O=0;do{if(yh&&(vh=null),Bp=0,yh=!1,25<=O)throw Error(i(301));if(O+=1,er=Pt=null,c.updateQueue!=null){var E=c.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}$.H=_A,E=d(h,g)}while(yh);return E}function $Z(){var c=$.H,d=c.useState()[0];return d=typeof d.then=="function"?Lp(d):d,c=c.useState()[0],(Pt!==null?Pt.memoizedState:null)!==c&&(st.flags|=1024),d}function cw(){var c=iy!==0;return iy=0,c}function dw(c,d,h){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~h}function fw(c){if(ay){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}ay=!1}Il=0,er=Pt=st=null,yh=!1,Bp=iy=0,vh=null}function Tr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?st.memoizedState=er=c:er=er.next=c,er}function Zt(){if(Pt===null){var c=st.alternate;c=c!==null?c.memoizedState:null}else c=Pt.next;var d=er===null?st.memoizedState:er.next;if(d!==null)er=d,Pt=c;else{if(c===null)throw st.alternate===null?Error(i(467)):Error(i(310));Pt=c,c={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},er===null?st.memoizedState=er=c:er=er.next=c}return er}function oy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lp(c){var d=Bp;return Bp+=1,vh===null&&(vh=[]),c=RP(vh,c,d),d=st,(er===null?d.memoizedState:er.next)===null&&(d=d.alternate,$.H=d===null||d.memoizedState===null?mA:Ew),c}function sy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Lp(c);if(c.$$typeof===j)return vr(c)}throw Error(i(438,String(c)))}function hw(c){var d=null,h=st.updateQueue;if(h!==null&&(d=h.memoCache),d==null){var g=st.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(d={data:g.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),h===null&&(h=oy(),st.updateQueue=h),h.memoCache=d,h=d.data[d.index],h===void 0)for(h=d.data[d.index]=Array(c),g=0;g<c;g++)h[g]=B;return d.index++,h}function zl(c,d){return typeof d=="function"?d(c):d}function uy(c){var d=Zt();return pw(d,Pt,c)}function pw(c,d,h){var g=c.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=h;var O=c.baseQueue,E=g.pending;if(E!==null){if(O!==null){var L=O.next;O.next=E.next,E.next=L}d.baseQueue=O=E,g.pending=null}if(E=c.baseState,O===null)c.memoizedState=E;else{d=O.next;var J=L=null,le=null,Oe=d,je=!1;do{var xe=Oe.lane&-536870913;if(xe!==Oe.lane?(pt&xe)===xe:(Il&xe)===xe){var Se=Oe.revertLane;if(Se===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),xe===hh&&(je=!0);else if((Il&Se)===Se){Oe=Oe.next,Se===hh&&(je=!0);continue}else xe={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},le===null?(J=le=xe,L=E):le=le.next=xe,st.lanes|=Se,Ec|=Se;xe=Oe.action,jd&&h(E,xe),E=Oe.hasEagerState?Oe.eagerState:h(E,xe)}else Se={lane:xe,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},le===null?(J=le=Se,L=E):le=le.next=Se,st.lanes|=xe,Ec|=xe;Oe=Oe.next}while(Oe!==null&&Oe!==d);if(le===null?L=E:le.next=J,!Qr(E,c.memoizedState)&&(tr=!0,je&&(h=ph,h!==null)))throw h;c.memoizedState=E,c.baseState=L,c.baseQueue=le,g.lastRenderedState=E}return O===null&&(g.lanes=0),[c.memoizedState,g.dispatch]}function gw(c){var d=Zt(),h=d.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=h.dispatch,O=h.pending,E=d.memoizedState;if(O!==null){h.pending=null;var L=O=O.next;do E=c(E,L.action),L=L.next;while(L!==O);Qr(E,d.memoizedState)||(tr=!0),d.memoizedState=E,d.baseQueue===null&&(d.baseState=E),h.lastRenderedState=E}return[E,g]}function zP(c,d,h){var g=st,O=Zt(),E=mt;if(E){if(h===void 0)throw Error(i(407));h=h()}else h=d();var L=!Qr((Pt||O).memoizedState,h);if(L&&(O.memoizedState=h,tr=!0),O=O.queue,yw(LP.bind(null,g,O,c),[c]),O.getSnapshot!==d||L||er!==null&&er.memoizedState.tag&1){if(g.flags|=2048,bh(9,{destroy:void 0},BP.bind(null,g,O,h,d),null),Dt===null)throw Error(i(349));E||(Il&127)!==0||qP(g,d,h)}return h}function qP(c,d,h){c.flags|=16384,c={getSnapshot:d,value:h},d=st.updateQueue,d===null?(d=oy(),st.updateQueue=d,d.stores=[c]):(h=d.stores,h===null?d.stores=[c]:h.push(c))}function BP(c,d,h,g){d.value=h,d.getSnapshot=g,UP(d)&&$P(c)}function LP(c,d,h){return h(function(){UP(d)&&$P(c)})}function UP(c){var d=c.getSnapshot;c=c.value;try{var h=d();return!Qr(c,h)}catch{return!0}}function $P(c){var d=_d(c,2);d!==null&&Fr(d,c,2)}function mw(c){var d=Tr();if(typeof c=="function"){var h=c;if(c=h(),jd){yt(!0);try{h()}finally{yt(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:c},d}function FP(c,d,h,g){return c.baseState=h,pw(c,Pt,typeof g=="function"?g:zl)}function FZ(c,d,h,g,O){if(dy(c))throw Error(i(485));if(c=d.action,c!==null){var E={payload:O,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){E.listeners.push(L)}};$.T!==null?h(!0):E.isTransition=!1,g(E),h=d.pending,h===null?(E.next=d.pending=E,VP(d,E)):(E.next=h.next,d.pending=h.next=E)}}function VP(c,d){var h=d.action,g=d.payload,O=c.state;if(d.isTransition){var E=$.T,L={};$.T=L;try{var J=h(O,g),le=$.S;le!==null&&le(L,J),GP(c,d,J)}catch(Oe){_w(c,d,Oe)}finally{E!==null&&L.types!==null&&(E.types=L.types),$.T=E}}else try{E=h(O,g),GP(c,d,E)}catch(Oe){_w(c,d,Oe)}}function GP(c,d,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){HP(c,d,g)},function(g){return _w(c,d,g)}):HP(c,d,h)}function HP(c,d,h){d.status="fulfilled",d.value=h,KP(d),c.state=h,d=c.pending,d!==null&&(h=d.next,h===d?c.pending=null:(h=h.next,d.next=h,VP(c,h)))}function _w(c,d,h){var g=c.pending;if(c.pending=null,g!==null){g=g.next;do d.status="rejected",d.reason=h,KP(d),d=d.next;while(d!==g)}c.action=null}function KP(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function kP(c,d){return d}function YP(c,d){if(mt){var h=Dt.formState;if(h!==null){e:{var g=st;if(mt){if(Lt){t:{for(var O=Lt,E=Pn;O.nodeType!==8;){if(!E){O=null;break t}if(O=Nn(O.nextSibling),O===null){O=null;break t}}E=O.data,O=E==="F!"||E==="F"?O:null}if(O){Lt=Nn(O.nextSibling),g=O.data==="F!";break e}}gc(g)}g=!1}g&&(d=h[0])}}return h=Tr(),h.memoizedState=h.baseState=d,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kP,lastRenderedState:d},h.queue=g,h=hA.bind(null,st,g),g.dispatch=h,g=mw(!1),E=Sw.bind(null,st,!1,g.queue),g=Tr(),O={state:d,dispatch:null,action:c,pending:null},g.queue=O,h=FZ.bind(null,st,O,E,h),O.dispatch=h,g.memoizedState=c,[d,h,!1]}function WP(c){var d=Zt();return JP(d,Pt,c)}function JP(c,d,h){if(d=pw(c,d,kP)[0],c=uy(zl)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var g=Lp(d)}catch(L){throw L===gh?Q_:L}else g=d;d=Zt();var O=d.queue,E=O.dispatch;return h!==d.memoizedState&&(st.flags|=2048,bh(9,{destroy:void 0},VZ.bind(null,O,h),null)),[g,E,c]}function VZ(c,d){c.action=d}function ZP(c){var d=Zt(),h=Pt;if(h!==null)return JP(d,h,c);Zt(),d=d.memoizedState,h=Zt();var g=h.queue.dispatch;return h.memoizedState=c,[d,g,!1]}function bh(c,d,h,g){return c={tag:c,create:h,deps:g,inst:d,next:null},d=st.updateQueue,d===null&&(d=oy(),st.updateQueue=d),h=d.lastEffect,h===null?d.lastEffect=c.next=c:(g=h.next,h.next=c,c.next=g,d.lastEffect=c),c}function QP(){return Zt().memoizedState}function ly(c,d,h,g){var O=Tr();st.flags|=c,O.memoizedState=bh(1|d,{destroy:void 0},h,g===void 0?null:g)}function cy(c,d,h,g){var O=Zt();g=g===void 0?null:g;var E=O.memoizedState.inst;Pt!==null&&g!==null&&uw(g,Pt.memoizedState.deps)?O.memoizedState=bh(d,E,h,g):(st.flags|=c,O.memoizedState=bh(1|d,E,h,g))}function XP(c,d){ly(8390656,8,c,d)}function yw(c,d){cy(2048,8,c,d)}function GZ(c){st.flags|=4;var d=st.updateQueue;if(d===null)d=oy(),st.updateQueue=d,d.events=[c];else{var h=d.events;h===null?d.events=[c]:h.push(c)}}function eA(c){var d=Zt().memoizedState;return GZ({ref:d,nextImpl:c}),function(){if((jt&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}function tA(c,d){return cy(4,2,c,d)}function rA(c,d){return cy(4,4,c,d)}function nA(c,d){if(typeof d=="function"){c=c();var h=d(c);return function(){typeof h=="function"?h():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function aA(c,d,h){h=h!=null?h.concat([c]):null,cy(4,4,nA.bind(null,d,c),h)}function vw(){}function iA(c,d){var h=Zt();d=d===void 0?null:d;var g=h.memoizedState;return d!==null&&uw(d,g[1])?g[0]:(h.memoizedState=[c,d],c)}function oA(c,d){var h=Zt();d=d===void 0?null:d;var g=h.memoizedState;if(d!==null&&uw(d,g[1]))return g[0];if(g=c(),jd){yt(!0);try{c()}finally{yt(!1)}}return h.memoizedState=[g,d],g}function bw(c,d,h){return h===void 0||(Il&1073741824)!==0&&(pt&261930)===0?c.memoizedState=d:(c.memoizedState=h,c=sN(),st.lanes|=c,Ec|=c,h)}function sA(c,d,h,g){return Qr(h,d)?h:_h.current!==null?(c=bw(c,h,g),Qr(c,d)||(tr=!0),c):(Il&42)===0||(Il&1073741824)!==0&&(pt&261930)===0?(tr=!0,c.memoizedState=h):(c=sN(),st.lanes|=c,Ec|=c,d)}function uA(c,d,h,g,O){var E=k.p;k.p=E!==0&&8>E?E:8;var L=$.T,J={};$.T=J,Sw(c,!1,d,h);try{var le=O(),Oe=$.S;if(Oe!==null&&Oe(J,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var je=LZ(le,g);Up(c,d,je,an(c))}else Up(c,d,g,an(c))}catch(xe){Up(c,d,{then:function(){},status:"rejected",reason:xe},an())}finally{k.p=E,L!==null&&J.types!==null&&(L.types=J.types),$.T=L}}function HZ(){}function ww(c,d,h,g){if(c.tag!==5)throw Error(i(476));var O=lA(c).queue;uA(c,O,d,Q,h===null?HZ:function(){return cA(c),h(g)})}function lA(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:Q},next:null};var h={};return d.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:h},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function cA(c){var d=lA(c);d.next===null&&(d=c.alternate.memoizedState),Up(c,d.next.queue,{},an())}function Ow(){return vr(ng)}function dA(){return Zt().memoizedState}function fA(){return Zt().memoizedState}function KZ(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var h=an();c=yc(h);var g=vc(d,c,h);g!==null&&(Fr(g,d,h),Ip(g,d,h)),d={cache:Z0()},c.payload=d;return}d=d.return}}function kZ(c,d,h){var g=an();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},dy(c)?pA(d,h):(h=U0(c,d,h,g),h!==null&&(Fr(h,c,g),gA(h,d,g)))}function hA(c,d,h){var g=an();Up(c,d,h,g)}function Up(c,d,h,g){var O={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(dy(c))pA(d,O);else{var E=c.alternate;if(c.lanes===0&&(E===null||E.lanes===0)&&(E=d.lastRenderedReducer,E!==null))try{var L=d.lastRenderedState,J=E(L,h);if(O.hasEagerState=!0,O.eagerState=J,Qr(J,L))return H_(c,d,O,0),Dt===null&&G_(),!1}catch{}if(h=U0(c,d,O,g),h!==null)return Fr(h,c,g),gA(h,d,g),!0}return!1}function Sw(c,d,h,g){if(g={lane:2,revertLane:tO(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},dy(c)){if(d)throw Error(i(479))}else d=U0(c,h,g,2),d!==null&&Fr(d,c,2)}function dy(c){var d=c.alternate;return c===st||d!==null&&d===st}function pA(c,d){yh=ay=!0;var h=c.pending;h===null?d.next=d:(d.next=h.next,h.next=d),c.pending=d}function gA(c,d,h){if((h&4194048)!==0){var g=d.lanes;g&=c.pendingLanes,h|=g,d.lanes=h,ir(c,h)}}var $p={readContext:vr,use:sy,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};$p.useEffectEvent=Kt;var mA={readContext:vr,use:sy,useCallback:function(c,d){return Tr().memoizedState=[c,d===void 0?null:d],c},useContext:vr,useEffect:XP,useImperativeHandle:function(c,d,h){h=h!=null?h.concat([c]):null,ly(4194308,4,nA.bind(null,d,c),h)},useLayoutEffect:function(c,d){return ly(4194308,4,c,d)},useInsertionEffect:function(c,d){ly(4,2,c,d)},useMemo:function(c,d){var h=Tr();d=d===void 0?null:d;var g=c();if(jd){yt(!0);try{c()}finally{yt(!1)}}return h.memoizedState=[g,d],g},useReducer:function(c,d,h){var g=Tr();if(h!==void 0){var O=h(d);if(jd){yt(!0);try{h(d)}finally{yt(!1)}}}else O=d;return g.memoizedState=g.baseState=O,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:O},g.queue=c,c=c.dispatch=kZ.bind(null,st,c),[g.memoizedState,c]},useRef:function(c){var d=Tr();return c={current:c},d.memoizedState=c},useState:function(c){c=mw(c);var d=c.queue,h=hA.bind(null,st,d);return d.dispatch=h,[c.memoizedState,h]},useDebugValue:vw,useDeferredValue:function(c,d){var h=Tr();return bw(h,c,d)},useTransition:function(){var c=mw(!1);return c=uA.bind(null,st,c.queue,!0,!1),Tr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,h){var g=st,O=Tr();if(mt){if(h===void 0)throw Error(i(407));h=h()}else{if(h=d(),Dt===null)throw Error(i(349));(pt&127)!==0||qP(g,d,h)}O.memoizedState=h;var E={value:h,getSnapshot:d};return O.queue=E,XP(LP.bind(null,g,E,c),[c]),g.flags|=2048,bh(9,{destroy:void 0},BP.bind(null,g,E,h,d),null),h},useId:function(){var c=Tr(),d=Dt.identifierPrefix;if(mt){var h=fl,g=dl;h=(g&~(1<<32-lt(g)-1)).toString(32)+h,d="_"+d+"R_"+h,h=iy++,0<h&&(d+="H"+h.toString(32)),d+="_"}else h=UZ++,d="_"+d+"r_"+h.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:Ow,useFormState:YP,useActionState:YP,useOptimistic:function(c){var d=Tr();d.memoizedState=d.baseState=c;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=h,d=Sw.bind(null,st,!0,h),h.dispatch=d,[c,d]},useMemoCache:hw,useCacheRefresh:function(){return Tr().memoizedState=KZ.bind(null,st)},useEffectEvent:function(c){var d=Tr(),h={impl:c};return d.memoizedState=h,function(){if((jt&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},Ew={readContext:vr,use:sy,useCallback:iA,useContext:vr,useEffect:yw,useImperativeHandle:aA,useInsertionEffect:tA,useLayoutEffect:rA,useMemo:oA,useReducer:uy,useRef:QP,useState:function(){return uy(zl)},useDebugValue:vw,useDeferredValue:function(c,d){var h=Zt();return sA(h,Pt.memoizedState,c,d)},useTransition:function(){var c=uy(zl)[0],d=Zt().memoizedState;return[typeof c=="boolean"?c:Lp(c),d]},useSyncExternalStore:zP,useId:dA,useHostTransitionStatus:Ow,useFormState:WP,useActionState:WP,useOptimistic:function(c,d){var h=Zt();return FP(h,Pt,c,d)},useMemoCache:hw,useCacheRefresh:fA};Ew.useEffectEvent=eA;var _A={readContext:vr,use:sy,useCallback:iA,useContext:vr,useEffect:yw,useImperativeHandle:aA,useInsertionEffect:tA,useLayoutEffect:rA,useMemo:oA,useReducer:gw,useRef:QP,useState:function(){return gw(zl)},useDebugValue:vw,useDeferredValue:function(c,d){var h=Zt();return Pt===null?bw(h,c,d):sA(h,Pt.memoizedState,c,d)},useTransition:function(){var c=gw(zl)[0],d=Zt().memoizedState;return[typeof c=="boolean"?c:Lp(c),d]},useSyncExternalStore:zP,useId:dA,useHostTransitionStatus:Ow,useFormState:ZP,useActionState:ZP,useOptimistic:function(c,d){var h=Zt();return Pt!==null?FP(h,Pt,c,d):(h.baseState=c,[c,h.queue.dispatch])},useMemoCache:hw,useCacheRefresh:fA};_A.useEffectEvent=eA;function Rw(c,d,h,g){d=c.memoizedState,h=h(g,d),h=h==null?d:m({},d,h),c.memoizedState=h,c.lanes===0&&(c.updateQueue.baseState=h)}var jw={enqueueSetState:function(c,d,h){c=c._reactInternals;var g=an(),O=yc(g);O.payload=d,h!=null&&(O.callback=h),d=vc(c,O,g),d!==null&&(Fr(d,c,g),Ip(d,c,g))},enqueueReplaceState:function(c,d,h){c=c._reactInternals;var g=an(),O=yc(g);O.tag=1,O.payload=d,h!=null&&(O.callback=h),d=vc(c,O,g),d!==null&&(Fr(d,c,g),Ip(d,c,g))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var h=an(),g=yc(h);g.tag=2,d!=null&&(g.callback=d),d=vc(c,g,h),d!==null&&(Fr(d,c,h),Ip(d,c,h))}};function yA(c,d,h,g,O,E,L){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(g,E,L):d.prototype&&d.prototype.isPureReactComponent?!Cp(h,g)||!Cp(O,E):!0}function vA(c,d,h,g){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(h,g),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(h,g),d.state!==c&&jw.enqueueReplaceState(d,d.state,null)}function Cd(c,d){var h=d;if("ref"in d){h={};for(var g in d)g!=="ref"&&(h[g]=d[g])}if(c=c.defaultProps){h===d&&(h=m({},h));for(var O in c)h[O]===void 0&&(h[O]=c[O])}return h}function bA(c){V_(c)}function wA(c){console.error(c)}function OA(c){V_(c)}function fy(c,d){try{var h=c.onUncaughtError;h(d.value,{componentStack:d.stack})}catch(g){setTimeout(function(){throw g})}}function SA(c,d,h){try{var g=c.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Cw(c,d,h){return h=yc(h),h.tag=3,h.payload={element:null},h.callback=function(){fy(c,d)},h}function EA(c){return c=yc(c),c.tag=3,c}function RA(c,d,h,g){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var E=g.value;c.payload=function(){return O(E)},c.callback=function(){SA(d,h,g)}}var L=h.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(c.callback=function(){SA(d,h,g),typeof O!="function"&&(Rc===null?Rc=new Set([this]):Rc.add(this));var J=g.stack;this.componentDidCatch(g.value,{componentStack:J!==null?J:""})})}function YZ(c,d,h,g,O){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(d=h.alternate,d!==null&&fh(d,h,O,!0),h=en.current,h!==null){switch(h.tag){case 31:case 13:return An===null?Ey():h.alternate===null&&kt===0&&(kt=3),h.flags&=-257,h.flags|=65536,h.lanes=O,g===X_?h.flags|=16384:(d=h.updateQueue,d===null?h.updateQueue=new Set([g]):d.add(g),Qw(c,g,O)),!1;case 22:return h.flags|=65536,g===X_?h.flags|=16384:(d=h.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=d):(h=d.retryQueue,h===null?d.retryQueue=new Set([g]):h.add(g)),Qw(c,g,O)),!1}throw Error(i(435,h.tag))}return Qw(c,g,O),Ey(),!1}if(mt)return d=en.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,g!==K0&&(c=Error(i(422),{cause:g}),xp(Tn(c,h)))):(g!==K0&&(d=Error(i(423),{cause:g}),xp(Tn(d,h))),c=c.current.alternate,c.flags|=65536,O&=-O,c.lanes|=O,g=Tn(g,h),O=Cw(c.stateNode,g,O),nw(c,O),kt!==4&&(kt=2)),!1;var E=Error(i(520),{cause:g});if(E=Tn(E,h),Wp===null?Wp=[E]:Wp.push(E),kt!==4&&(kt=2),d===null)return!0;g=Tn(g,h),h=d;do{switch(h.tag){case 3:return h.flags|=65536,c=O&-O,h.lanes|=c,c=Cw(h.stateNode,g,c),nw(h,c),!1;case 1:if(d=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Rc===null||!Rc.has(E))))return h.flags|=65536,O&=-O,h.lanes|=O,O=EA(O),RA(O,c,h,g),nw(h,O),!1}h=h.return}while(h!==null);return!1}var Tw=Error(i(461)),tr=!1;function br(c,d,h,g){d.child=c===null?MP(d,null,h,g):Rd(d,c.child,h,g)}function jA(c,d,h,g,O){h=h.render;var E=d.ref;if("ref"in g){var L={};for(var J in g)J!=="ref"&&(L[J]=g[J])}else L=g;return wd(d),g=lw(c,d,h,L,E,O),J=cw(),c!==null&&!tr?(dw(c,d,O),ql(c,d,O)):(mt&&J&&G0(d),d.flags|=1,br(c,d,g,O),d.child)}function CA(c,d,h,g,O){if(c===null){var E=h.type;return typeof E=="function"&&!$0(E)&&E.defaultProps===void 0&&h.compare===null?(d.tag=15,d.type=E,TA(c,d,E,g,O)):(c=k_(h.type,null,g,d,d.mode,O),c.ref=d.ref,c.return=d,d.child=c)}if(E=c.child,!zw(c,O)){var L=E.memoizedProps;if(h=h.compare,h=h!==null?h:Cp,h(L,g)&&c.ref===d.ref)return ql(c,d,O)}return d.flags|=1,c=Pl(E,g),c.ref=d.ref,c.return=d,d.child=c}function TA(c,d,h,g,O){if(c!==null){var E=c.memoizedProps;if(Cp(E,g)&&c.ref===d.ref)if(tr=!1,d.pendingProps=g=E,zw(c,O))(c.flags&131072)!==0&&(tr=!0);else return d.lanes=c.lanes,ql(c,d,O)}return Mw(c,d,h,g,O)}function MA(c,d,h,g){var O=g.children,E=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((d.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,c!==null){for(g=d.child=c.child,O=0;g!==null;)O=O|g.lanes|g.childLanes,g=g.sibling;g=O&~E}else g=0,d.child=null;return xA(c,d,E,h,g)}if((h&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Z_(d,E!==null?E.cachePool:null),E!==null?AP(d,E):iw(),NP(d);else return g=d.lanes=536870912,xA(c,d,E!==null?E.baseLanes|h:h,h,g)}else E!==null?(Z_(d,E.cachePool),AP(d,E),wc(),d.memoizedState=null):(c!==null&&Z_(d,null),iw(),wc());return br(c,d,O,h),d.child}function Fp(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function xA(c,d,h,g,O){var E=X0();return E=E===null?null:{parent:Xt._currentValue,pool:E},d.memoizedState={baseLanes:h,cachePool:E},c!==null&&Z_(d,null),iw(),NP(d),c!==null&&fh(c,d,g,!0),d.childLanes=O,null}function hy(c,d){return d=gy({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function PA(c,d,h){return Rd(d,c.child,null,h),c=hy(d,d.pendingProps),c.flags|=2,tn(d),d.memoizedState=null,c}function WZ(c,d,h){var g=d.pendingProps,O=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(mt){if(g.mode==="hidden")return c=hy(d,g),d.lanes=536870912,Fp(null,c);if(sw(d),(c=Lt)?(c=VN(c,Pn),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:hc!==null?{id:dl,overflow:fl}:null,retryLane:536870912,hydrationErrors:null},h=pP(c),h.return=d,d.child=h,yr=d,Lt=null)):c=null,c===null)throw gc(d);return d.lanes=536870912,null}return hy(d,g)}var E=c.memoizedState;if(E!==null){var L=E.dehydrated;if(sw(d),O)if(d.flags&256)d.flags&=-257,d=PA(c,d,h);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(i(558));else if(tr||fh(c,d,h,!1),O=(h&c.childLanes)!==0,tr||O){if(g=Dt,g!==null&&(L=Cr(g,h),L!==0&&L!==E.retryLane))throw E.retryLane=L,_d(c,L),Fr(g,c,L),Tw;Ey(),d=PA(c,d,h)}else c=E.treeContext,Lt=Nn(L.nextSibling),yr=d,mt=!0,pc=null,Pn=!1,c!==null&&_P(d,c),d=hy(d,g),d.flags|=4096;return d}return c=Pl(c.child,{mode:g.mode,children:g.children}),c.ref=d.ref,d.child=c,c.return=d,c}function py(c,d){var h=d.ref;if(h===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(c===null||c.ref!==h)&&(d.flags|=4194816)}}function Mw(c,d,h,g,O){return wd(d),h=lw(c,d,h,g,void 0,O),g=cw(),c!==null&&!tr?(dw(c,d,O),ql(c,d,O)):(mt&&g&&G0(d),d.flags|=1,br(c,d,h,O),d.child)}function AA(c,d,h,g,O,E){return wd(d),d.updateQueue=null,h=IP(d,g,h,O),DP(c),g=cw(),c!==null&&!tr?(dw(c,d,E),ql(c,d,E)):(mt&&g&&G0(d),d.flags|=1,br(c,d,h,E),d.child)}function NA(c,d,h,g,O){if(wd(d),d.stateNode===null){var E=uh,L=h.contextType;typeof L=="object"&&L!==null&&(E=vr(L)),E=new h(g,E),d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=jw,d.stateNode=E,E._reactInternals=d,E=d.stateNode,E.props=g,E.state=d.memoizedState,E.refs={},tw(d),L=h.contextType,E.context=typeof L=="object"&&L!==null?vr(L):uh,E.state=d.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(Rw(d,h,L,g),E.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(L=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),L!==E.state&&jw.enqueueReplaceState(E,E.state,null),qp(d,g,E,O),zp(),E.state=d.memoizedState),typeof E.componentDidMount=="function"&&(d.flags|=4194308),g=!0}else if(c===null){E=d.stateNode;var J=d.memoizedProps,le=Cd(h,J);E.props=le;var Oe=E.context,je=h.contextType;L=uh,typeof je=="object"&&je!==null&&(L=vr(je));var xe=h.getDerivedStateFromProps;je=typeof xe=="function"||typeof E.getSnapshotBeforeUpdate=="function",J=d.pendingProps!==J,je||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(J||Oe!==L)&&vA(d,E,g,L),_c=!1;var Se=d.memoizedState;E.state=Se,qp(d,g,E,O),zp(),Oe=d.memoizedState,J||Se!==Oe||_c?(typeof xe=="function"&&(Rw(d,h,xe,g),Oe=d.memoizedState),(le=_c||yA(d,h,le,g,Se,Oe,L))?(je||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(d.flags|=4194308)):(typeof E.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=g,d.memoizedState=Oe),E.props=g,E.state=Oe,E.context=L,g=le):(typeof E.componentDidMount=="function"&&(d.flags|=4194308),g=!1)}else{E=d.stateNode,rw(c,d),L=d.memoizedProps,je=Cd(h,L),E.props=je,xe=d.pendingProps,Se=E.context,Oe=h.contextType,le=uh,typeof Oe=="object"&&Oe!==null&&(le=vr(Oe)),J=h.getDerivedStateFromProps,(Oe=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==xe||Se!==le)&&vA(d,E,g,le),_c=!1,Se=d.memoizedState,E.state=Se,qp(d,g,E,O),zp();var Re=d.memoizedState;L!==xe||Se!==Re||_c||c!==null&&c.dependencies!==null&&W_(c.dependencies)?(typeof J=="function"&&(Rw(d,h,J,g),Re=d.memoizedState),(je=_c||yA(d,h,je,g,Se,Re,le)||c!==null&&c.dependencies!==null&&W_(c.dependencies))?(Oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,Re,le),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,Re,le)),typeof E.componentDidUpdate=="function"&&(d.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===c.memoizedProps&&Se===c.memoizedState||(d.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&Se===c.memoizedState||(d.flags|=1024),d.memoizedProps=g,d.memoizedState=Re),E.props=g,E.state=Re,E.context=le,g=je):(typeof E.componentDidUpdate!="function"||L===c.memoizedProps&&Se===c.memoizedState||(d.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&Se===c.memoizedState||(d.flags|=1024),g=!1)}return E=g,py(c,d),g=(d.flags&128)!==0,E||g?(E=d.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:E.render(),d.flags|=1,c!==null&&g?(d.child=Rd(d,c.child,null,O),d.child=Rd(d,null,h,O)):br(c,d,h,O),d.memoizedState=E.state,c=d.child):c=ql(c,d,O),c}function DA(c,d,h,g){return vd(),d.flags|=256,br(c,d,h,g),d.child}var xw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pw(c){return{baseLanes:c,cachePool:SP()}}function Aw(c,d,h){return c=c!==null?c.childLanes&~h:0,d&&(c|=nn),c}function IA(c,d,h){var g=d.pendingProps,O=!1,E=(d.flags&128)!==0,L;if((L=E)||(L=c!==null&&c.memoizedState===null?!1:(Jt.current&2)!==0),L&&(O=!0,d.flags&=-129),L=(d.flags&32)!==0,d.flags&=-33,c===null){if(mt){if(O?bc(d):wc(),(c=Lt)?(c=VN(c,Pn),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:hc!==null?{id:dl,overflow:fl}:null,retryLane:536870912,hydrationErrors:null},h=pP(c),h.return=d,d.child=h,yr=d,Lt=null)):c=null,c===null)throw gc(d);return pO(c)?d.lanes=32:d.lanes=536870912,null}var J=g.children;return g=g.fallback,O?(wc(),O=d.mode,J=gy({mode:"hidden",children:J},O),g=yd(g,O,h,null),J.return=d,g.return=d,J.sibling=g,d.child=J,g=d.child,g.memoizedState=Pw(h),g.childLanes=Aw(c,L,h),d.memoizedState=xw,Fp(null,g)):(bc(d),Nw(d,J))}var le=c.memoizedState;if(le!==null&&(J=le.dehydrated,J!==null)){if(E)d.flags&256?(bc(d),d.flags&=-257,d=Dw(c,d,h)):d.memoizedState!==null?(wc(),d.child=c.child,d.flags|=128,d=null):(wc(),J=g.fallback,O=d.mode,g=gy({mode:"visible",children:g.children},O),J=yd(J,O,h,null),J.flags|=2,g.return=d,J.return=d,g.sibling=J,d.child=g,Rd(d,c.child,null,h),g=d.child,g.memoizedState=Pw(h),g.childLanes=Aw(c,L,h),d.memoizedState=xw,d=Fp(null,g));else if(bc(d),pO(J)){if(L=J.nextSibling&&J.nextSibling.dataset,L)var Oe=L.dgst;L=Oe,g=Error(i(419)),g.stack="",g.digest=L,xp({value:g,source:null,stack:null}),d=Dw(c,d,h)}else if(tr||fh(c,d,h,!1),L=(h&c.childLanes)!==0,tr||L){if(L=Dt,L!==null&&(g=Cr(L,h),g!==0&&g!==le.retryLane))throw le.retryLane=g,_d(c,g),Fr(L,c,g),Tw;hO(J)||Ey(),d=Dw(c,d,h)}else hO(J)?(d.flags|=192,d.child=c.child,d=null):(c=le.treeContext,Lt=Nn(J.nextSibling),yr=d,mt=!0,pc=null,Pn=!1,c!==null&&_P(d,c),d=Nw(d,g.children),d.flags|=4096);return d}return O?(wc(),J=g.fallback,O=d.mode,le=c.child,Oe=le.sibling,g=Pl(le,{mode:"hidden",children:g.children}),g.subtreeFlags=le.subtreeFlags&65011712,Oe!==null?J=Pl(Oe,J):(J=yd(J,O,h,null),J.flags|=2),J.return=d,g.return=d,g.sibling=J,d.child=g,Fp(null,g),g=d.child,J=c.child.memoizedState,J===null?J=Pw(h):(O=J.cachePool,O!==null?(le=Xt._currentValue,O=O.parent!==le?{parent:le,pool:le}:O):O=SP(),J={baseLanes:J.baseLanes|h,cachePool:O}),g.memoizedState=J,g.childLanes=Aw(c,L,h),d.memoizedState=xw,Fp(c.child,g)):(bc(d),h=c.child,c=h.sibling,h=Pl(h,{mode:"visible",children:g.children}),h.return=d,h.sibling=null,c!==null&&(L=d.deletions,L===null?(d.deletions=[c],d.flags|=16):L.push(c)),d.child=h,d.memoizedState=null,h)}function Nw(c,d){return d=gy({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function gy(c,d){return c=Xr(22,c,null,d),c.lanes=0,c}function Dw(c,d,h){return Rd(d,c.child,null,h),c=Nw(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function zA(c,d,h){c.lanes|=d;var g=c.alternate;g!==null&&(g.lanes|=d),W0(c.return,d,h)}function Iw(c,d,h,g,O,E){var L=c.memoizedState;L===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:O,treeForkCount:E}:(L.isBackwards=d,L.rendering=null,L.renderingStartTime=0,L.last=g,L.tail=h,L.tailMode=O,L.treeForkCount=E)}function qA(c,d,h){var g=d.pendingProps,O=g.revealOrder,E=g.tail;g=g.children;var L=Jt.current,J=(L&2)!==0;if(J?(L=L&1|2,d.flags|=128):L&=1,ee(Jt,L),br(c,d,g,h),g=mt?Mp:0,!J&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&zA(c,h,d);else if(c.tag===19)zA(c,h,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(O){case"forwards":for(h=d.child,O=null;h!==null;)c=h.alternate,c!==null&&ny(c)===null&&(O=h),h=h.sibling;h=O,h===null?(O=d.child,d.child=null):(O=h.sibling,h.sibling=null),Iw(d,!1,O,h,E,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=d.child,d.child=null;O!==null;){if(c=O.alternate,c!==null&&ny(c)===null){d.child=O;break}c=O.sibling,O.sibling=h,h=O,O=c}Iw(d,!0,h,null,E,g);break;case"together":Iw(d,!1,null,null,void 0,g);break;default:d.memoizedState=null}return d.child}function ql(c,d,h){if(c!==null&&(d.dependencies=c.dependencies),Ec|=d.lanes,(h&d.childLanes)===0)if(c!==null){if(fh(c,d,h,!1),(h&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(i(153));if(d.child!==null){for(c=d.child,h=Pl(c,c.pendingProps),d.child=h,h.return=d;c.sibling!==null;)c=c.sibling,h=h.sibling=Pl(c,c.pendingProps),h.return=d;h.sibling=null}return d.child}function zw(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&W_(c)))}function JZ(c,d,h){switch(d.tag){case 3:X(d,d.stateNode.containerInfo),mc(d,Xt,c.memoizedState.cache),vd();break;case 27:case 5:ue(d);break;case 4:X(d,d.stateNode.containerInfo);break;case 10:mc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,sw(d),null;break;case 13:var g=d.memoizedState;if(g!==null)return g.dehydrated!==null?(bc(d),d.flags|=128,null):(h&d.child.childLanes)!==0?IA(c,d,h):(bc(d),c=ql(c,d,h),c!==null?c.sibling:null);bc(d);break;case 19:var O=(c.flags&128)!==0;if(g=(h&d.childLanes)!==0,g||(fh(c,d,h,!1),g=(h&d.childLanes)!==0),O){if(g)return qA(c,d,h);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),ee(Jt,Jt.current),g)break;return null;case 22:return d.lanes=0,MA(c,d,h,d.pendingProps);case 24:mc(d,Xt,c.memoizedState.cache)}return ql(c,d,h)}function BA(c,d,h){if(c!==null)if(c.memoizedProps!==d.pendingProps)tr=!0;else{if(!zw(c,h)&&(d.flags&128)===0)return tr=!1,JZ(c,d,h);tr=(c.flags&131072)!==0}else tr=!1,mt&&(d.flags&1048576)!==0&&mP(d,Mp,d.index);switch(d.lanes=0,d.tag){case 16:e:{var g=d.pendingProps;if(c=Sd(d.elementType),d.type=c,typeof c=="function")$0(c)?(g=Cd(c,g),d.tag=1,d=NA(null,d,c,g,h)):(d.tag=0,d=Mw(null,d,c,g,h));else{if(c!=null){var O=c.$$typeof;if(O===A){d.tag=11,d=jA(null,d,c,g,h);break e}else if(O===D){d.tag=14,d=CA(null,d,c,g,h);break e}}throw d=Y(c)||c,Error(i(306,d,""))}}return d;case 0:return Mw(c,d,d.type,d.pendingProps,h);case 1:return g=d.type,O=Cd(g,d.pendingProps),NA(c,d,g,O,h);case 3:e:{if(X(d,d.stateNode.containerInfo),c===null)throw Error(i(387));g=d.pendingProps;var E=d.memoizedState;O=E.element,rw(c,d),qp(d,g,null,h);var L=d.memoizedState;if(g=L.cache,mc(d,Xt,g),g!==E.cache&&J0(d,[Xt],h,!0),zp(),g=L.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:L.cache},d.updateQueue.baseState=E,d.memoizedState=E,d.flags&256){d=DA(c,d,g,h);break e}else if(g!==O){O=Tn(Error(i(424)),d),xp(O),d=DA(c,d,g,h);break e}else for(c=d.stateNode.containerInfo,c.nodeType===9?c=c.body:c=c.nodeName==="HTML"?c.ownerDocument.body:c,Lt=Nn(c.firstChild),yr=d,mt=!0,pc=null,Pn=!0,h=MP(d,null,g,h),d.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(vd(),g===O){d=ql(c,d,h);break e}br(c,d,g,h)}d=d.child}return d;case 26:return py(c,d),c===null?(h=WN(d.type,null,d.pendingProps,null))?d.memoizedState=h:mt||(h=d.type,c=d.pendingProps,g=Py(V.current).createElement(h),g[Qt]=d,g[dr]=c,wr(g,h,c),fr(g),d.stateNode=g):d.memoizedState=WN(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return ue(d),c===null&&mt&&(g=d.stateNode=KN(d.type,d.pendingProps,V.current),yr=d,Pn=!0,O=Lt,Mc(d.type)?(gO=O,Lt=Nn(g.firstChild)):Lt=O),br(c,d,d.pendingProps.children,h),py(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&mt&&((O=g=Lt)&&(g=jQ(g,d.type,d.pendingProps,Pn),g!==null?(d.stateNode=g,yr=d,Lt=Nn(g.firstChild),Pn=!1,O=!0):O=!1),O||gc(d)),ue(d),O=d.type,E=d.pendingProps,L=c!==null?c.memoizedProps:null,g=E.children,cO(O,E)?g=null:L!==null&&cO(O,L)&&(d.flags|=32),d.memoizedState!==null&&(O=lw(c,d,$Z,null,null,h),ng._currentValue=O),py(c,d),br(c,d,g,h),d.child;case 6:return c===null&&mt&&((c=h=Lt)&&(h=CQ(h,d.pendingProps,Pn),h!==null?(d.stateNode=h,yr=d,Lt=null,c=!0):c=!1),c||gc(d)),null;case 13:return IA(c,d,h);case 4:return X(d,d.stateNode.containerInfo),g=d.pendingProps,c===null?d.child=Rd(d,null,g,h):br(c,d,g,h),d.child;case 11:return jA(c,d,d.type,d.pendingProps,h);case 7:return br(c,d,d.pendingProps,h),d.child;case 8:return br(c,d,d.pendingProps.children,h),d.child;case 12:return br(c,d,d.pendingProps.children,h),d.child;case 10:return g=d.pendingProps,mc(d,d.type,g.value),br(c,d,g.children,h),d.child;case 9:return O=d.type._context,g=d.pendingProps.children,wd(d),O=vr(O),g=g(O),d.flags|=1,br(c,d,g,h),d.child;case 14:return CA(c,d,d.type,d.pendingProps,h);case 15:return TA(c,d,d.type,d.pendingProps,h);case 19:return qA(c,d,h);case 31:return WZ(c,d,h);case 22:return MA(c,d,h,d.pendingProps);case 24:return wd(d),g=vr(Xt),c===null?(O=X0(),O===null&&(O=Dt,E=Z0(),O.pooledCache=E,E.refCount++,E!==null&&(O.pooledCacheLanes|=h),O=E),d.memoizedState={parent:g,cache:O},tw(d),mc(d,Xt,O)):((c.lanes&h)!==0&&(rw(c,d),qp(d,null,null,h),zp()),O=c.memoizedState,E=d.memoizedState,O.parent!==g?(O={parent:g,cache:g},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),mc(d,Xt,g)):(g=E.cache,mc(d,Xt,g),g!==O.cache&&J0(d,[Xt],h,!0))),br(c,d,d.pendingProps.children,h),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function Bl(c){c.flags|=4}function qw(c,d,h,g,O){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(O&335544128)===O)if(c.stateNode.complete)c.flags|=8192;else if(dN())c.flags|=8192;else throw Ed=X_,ew}else c.flags&=-16777217}function LA(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!eD(d))if(dN())c.flags|=8192;else throw Ed=X_,ew}function my(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?te():536870912,c.lanes|=d,Eh|=d)}function Vp(c,d){if(!mt)switch(c.tailMode){case"hidden":d=c.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?c.tail=null:h.sibling=null;break;case"collapsed":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:g.sibling=null}}function Ut(c){var d=c.alternate!==null&&c.alternate.child===c.child,h=0,g=0;if(d)for(var O=c.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags&65011712,g|=O.flags&65011712,O.return=c,O=O.sibling;else for(O=c.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags,g|=O.flags,O.return=c,O=O.sibling;return c.subtreeFlags|=g,c.childLanes=h,d}function ZZ(c,d,h){var g=d.pendingProps;switch(H0(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(d),null;case 1:return Ut(d),null;case 3:return h=d.stateNode,g=null,c!==null&&(g=c.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),Dl(Xt),Z(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(c===null||c.child===null)&&(dh(d)?Bl(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,k0())),Ut(d),null;case 26:var O=d.type,E=d.memoizedState;return c===null?(Bl(d),E!==null?(Ut(d),LA(d,E)):(Ut(d),qw(d,O,null,g,h))):E?E!==c.memoizedState?(Bl(d),Ut(d),LA(d,E)):(Ut(d),d.flags&=-16777217):(c=c.memoizedProps,c!==g&&Bl(d),Ut(d),qw(d,O,c,g,h)),null;case 27:if(ge(d),h=V.current,O=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==g&&Bl(d);else{if(!g){if(d.stateNode===null)throw Error(i(166));return Ut(d),null}c=fe.current,dh(d)?yP(d):(c=KN(O,g,h),d.stateNode=c,Bl(d))}return Ut(d),null;case 5:if(ge(d),O=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==g&&Bl(d);else{if(!g){if(d.stateNode===null)throw Error(i(166));return Ut(d),null}if(E=fe.current,dh(d))yP(d);else{var L=Py(V.current);switch(E){case 1:E=L.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:E=L.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":E=L.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":E=L.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":E=L.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?L.createElement("select",{is:g.is}):L.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?L.createElement(O,{is:g.is}):L.createElement(O)}}E[Qt]=d,E[dr]=g;e:for(L=d.child;L!==null;){if(L.tag===5||L.tag===6)E.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===d)break e;for(;L.sibling===null;){if(L.return===null||L.return===d)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}d.stateNode=E;e:switch(wr(E,O,g),O){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Bl(d)}}return Ut(d),qw(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,h),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==g&&Bl(d);else{if(typeof g!="string"&&d.stateNode===null)throw Error(i(166));if(c=V.current,dh(d)){if(c=d.stateNode,h=d.memoizedProps,g=null,O=yr,O!==null)switch(O.tag){case 27:case 5:g=O.memoizedProps}c[Qt]=d,c=!!(c.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||IN(c.nodeValue,h)),c||gc(d,!0)}else c=Py(c).createTextNode(g),c[Qt]=d,d.stateNode=c}return Ut(d),null;case 31:if(h=d.memoizedState,c===null||c.memoizedState!==null){if(g=dh(d),h!==null){if(c===null){if(!g)throw Error(i(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(557));c[Qt]=d}else vd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ut(d),c=!1}else h=k0(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=h),c=!0;if(!c)return d.flags&256?(tn(d),d):(tn(d),null);if((d.flags&128)!==0)throw Error(i(558))}return Ut(d),null;case 13:if(g=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(O=dh(d),g!==null&&g.dehydrated!==null){if(c===null){if(!O)throw Error(i(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(i(317));O[Qt]=d}else vd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ut(d),O=!1}else O=k0(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(tn(d),d):(tn(d),null)}return tn(d),(d.flags&128)!==0?(d.lanes=h,d):(h=g!==null,c=c!==null&&c.memoizedState!==null,h&&(g=d.child,O=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(O=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==O&&(g.flags|=2048)),h!==c&&h&&(d.child.flags|=8192),my(d,d.updateQueue),Ut(d),null);case 4:return Z(),c===null&&iO(d.stateNode.containerInfo),Ut(d),null;case 10:return Dl(d.type),Ut(d),null;case 19:if(K(Jt),g=d.memoizedState,g===null)return Ut(d),null;if(O=(d.flags&128)!==0,E=g.rendering,E===null)if(O)Vp(g,!1);else{if(kt!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(E=ny(c),E!==null){for(d.flags|=128,Vp(g,!1),c=E.updateQueue,d.updateQueue=c,my(d,c),d.subtreeFlags=0,c=h,h=d.child;h!==null;)hP(h,c),h=h.sibling;return ee(Jt,Jt.current&1|2),mt&&Al(d,g.treeForkCount),d.child}c=c.sibling}g.tail!==null&&$e()>wy&&(d.flags|=128,O=!0,Vp(g,!1),d.lanes=4194304)}else{if(!O)if(c=ny(E),c!==null){if(d.flags|=128,O=!0,c=c.updateQueue,d.updateQueue=c,my(d,c),Vp(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!mt)return Ut(d),null}else 2*$e()-g.renderingStartTime>wy&&h!==536870912&&(d.flags|=128,O=!0,Vp(g,!1),d.lanes=4194304);g.isBackwards?(E.sibling=d.child,d.child=E):(c=g.last,c!==null?c.sibling=E:d.child=E,g.last=E)}return g.tail!==null?(c=g.tail,g.rendering=c,g.tail=c.sibling,g.renderingStartTime=$e(),c.sibling=null,h=Jt.current,ee(Jt,O?h&1|2:h&1),mt&&Al(d,g.treeForkCount),c):(Ut(d),null);case 22:case 23:return tn(d),ow(),g=d.memoizedState!==null,c!==null?c.memoizedState!==null!==g&&(d.flags|=8192):g&&(d.flags|=8192),g?(h&536870912)!==0&&(d.flags&128)===0&&(Ut(d),d.subtreeFlags&6&&(d.flags|=8192)):Ut(d),h=d.updateQueue,h!==null&&my(d,h.retryQueue),h=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),g=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==h&&(d.flags|=2048),c!==null&&K(Od),null;case 24:return h=null,c!==null&&(h=c.memoizedState.cache),d.memoizedState.cache!==h&&(d.flags|=2048),Dl(Xt),Ut(d),null;case 25:return null;case 30:return null}throw Error(i(156,d.tag))}function QZ(c,d){switch(H0(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Dl(Xt),Z(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return ge(d),null;case 31:if(d.memoizedState!==null){if(tn(d),d.alternate===null)throw Error(i(340));vd()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(tn(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(i(340));vd()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return K(Jt),null;case 4:return Z(),null;case 10:return Dl(d.type),null;case 22:case 23:return tn(d),ow(),c!==null&&K(Od),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Dl(Xt),null;case 25:return null;default:return null}}function UA(c,d){switch(H0(d),d.tag){case 3:Dl(Xt),Z();break;case 26:case 27:case 5:ge(d);break;case 4:Z();break;case 31:d.memoizedState!==null&&tn(d);break;case 13:tn(d);break;case 19:K(Jt);break;case 10:Dl(d.type);break;case 22:case 23:tn(d),ow(),c!==null&&K(Od);break;case 24:Dl(Xt)}}function Gp(c,d){try{var h=d.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var O=g.next;h=O;do{if((h.tag&c)===c){g=void 0;var E=h.create,L=h.inst;g=E(),L.destroy=g}h=h.next}while(h!==O)}}catch(J){Mt(d,d.return,J)}}function Oc(c,d,h){try{var g=d.updateQueue,O=g!==null?g.lastEffect:null;if(O!==null){var E=O.next;g=E;do{if((g.tag&c)===c){var L=g.inst,J=L.destroy;if(J!==void 0){L.destroy=void 0,O=d;var le=h,Oe=J;try{Oe()}catch(je){Mt(O,le,je)}}}g=g.next}while(g!==E)}}catch(je){Mt(d,d.return,je)}}function $A(c){var d=c.updateQueue;if(d!==null){var h=c.stateNode;try{PP(d,h)}catch(g){Mt(c,c.return,g)}}}function FA(c,d,h){h.props=Cd(c.type,c.memoizedProps),h.state=c.memoizedState;try{h.componentWillUnmount()}catch(g){Mt(c,d,g)}}function Hp(c,d){try{var h=c.ref;if(h!==null){switch(c.tag){case 26:case 27:case 5:var g=c.stateNode;break;case 30:g=c.stateNode;break;default:g=c.stateNode}typeof h=="function"?c.refCleanup=h(g):h.current=g}}catch(O){Mt(c,d,O)}}function hl(c,d){var h=c.ref,g=c.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(O){Mt(c,d,O)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){Mt(c,d,O)}else h.current=null}function VA(c){var d=c.type,h=c.memoizedProps,g=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(O){Mt(c,c.return,O)}}function Bw(c,d,h){try{var g=c.stateNode;bQ(g,c.type,h,d),g[dr]=d}catch(O){Mt(c,c.return,O)}}function GA(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Mc(c.type)||c.tag===4}function Lw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||GA(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Mc(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Uw(c,d,h){var g=c.tag;if(g===5||g===6)c=c.stateNode,d?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(c,d):(d=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,d.appendChild(c),h=h._reactRootContainer,h!=null||d.onclick!==null||(d.onclick=Ml));else if(g!==4&&(g===27&&Mc(c.type)&&(h=c.stateNode,d=null),c=c.child,c!==null))for(Uw(c,d,h),c=c.sibling;c!==null;)Uw(c,d,h),c=c.sibling}function _y(c,d,h){var g=c.tag;if(g===5||g===6)c=c.stateNode,d?h.insertBefore(c,d):h.appendChild(c);else if(g!==4&&(g===27&&Mc(c.type)&&(h=c.stateNode),c=c.child,c!==null))for(_y(c,d,h),c=c.sibling;c!==null;)_y(c,d,h),c=c.sibling}function HA(c){var d=c.stateNode,h=c.memoizedProps;try{for(var g=c.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);wr(d,g,h),d[Qt]=c,d[dr]=h}catch(E){Mt(c,c.return,E)}}var Ll=!1,rr=!1,$w=!1,KA=typeof WeakSet=="function"?WeakSet:Set,hr=null;function XZ(c,d){if(c=c.containerInfo,uO=By,c=aP(c),D0(c)){if("selectionStart"in c)var h={start:c.selectionStart,end:c.selectionEnd};else e:{h=(h=c.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var O=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var L=0,J=-1,le=-1,Oe=0,je=0,xe=c,Se=null;t:for(;;){for(var Re;xe!==h||O!==0&&xe.nodeType!==3||(J=L+O),xe!==E||g!==0&&xe.nodeType!==3||(le=L+g),xe.nodeType===3&&(L+=xe.nodeValue.length),(Re=xe.firstChild)!==null;)Se=xe,xe=Re;for(;;){if(xe===c)break t;if(Se===h&&++Oe===O&&(J=L),Se===E&&++je===g&&(le=L),(Re=xe.nextSibling)!==null)break;xe=Se,Se=xe.parentNode}xe=Re}h=J===-1||le===-1?null:{start:J,end:le}}else h=null}h=h||{start:0,end:0}}else h=null;for(lO={focusedElem:c,selectionRange:h},By=!1,hr=d;hr!==null;)if(d=hr,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,hr=c;else for(;hr!==null;){switch(d=hr,E=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(h=0;h<c.length;h++)O=c[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&E!==null){c=void 0,h=d,O=E.memoizedProps,E=E.memoizedState,g=h.stateNode;try{var Ge=Cd(h.type,O);c=g.getSnapshotBeforeUpdate(Ge,E),g.__reactInternalSnapshotBeforeUpdate=c}catch(rt){Mt(h,h.return,rt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,h=c.nodeType,h===9)fO(c);else if(h===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":fO(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=d.sibling,c!==null){c.return=d.return,hr=c;break}hr=d.return}}function kA(c,d,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:$l(c,h),g&4&&Gp(5,h);break;case 1:if($l(c,h),g&4)if(c=h.stateNode,d===null)try{c.componentDidMount()}catch(L){Mt(h,h.return,L)}else{var O=Cd(h.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(O,d,c.__reactInternalSnapshotBeforeUpdate)}catch(L){Mt(h,h.return,L)}}g&64&&$A(h),g&512&&Hp(h,h.return);break;case 3:if($l(c,h),g&64&&(c=h.updateQueue,c!==null)){if(d=null,h.child!==null)switch(h.child.tag){case 27:case 5:d=h.child.stateNode;break;case 1:d=h.child.stateNode}try{PP(c,d)}catch(L){Mt(h,h.return,L)}}break;case 27:d===null&&g&4&&HA(h);case 26:case 5:$l(c,h),d===null&&g&4&&VA(h),g&512&&Hp(h,h.return);break;case 12:$l(c,h);break;case 31:$l(c,h),g&4&&JA(c,h);break;case 13:$l(c,h),g&4&&ZA(c,h),g&64&&(c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(h=uQ.bind(null,h),TQ(c,h))));break;case 22:if(g=h.memoizedState!==null||Ll,!g){d=d!==null&&d.memoizedState!==null||rr,O=Ll;var E=rr;Ll=g,(rr=d)&&!E?Fl(c,h,(h.subtreeFlags&8772)!==0):$l(c,h),Ll=O,rr=E}break;case 30:break;default:$l(c,h)}}function YA(c){var d=c.alternate;d!==null&&(c.alternate=null,YA(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&_0(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var $t=null,Br=!1;function Ul(c,d,h){for(h=h.child;h!==null;)WA(c,d,h),h=h.sibling}function WA(c,d,h){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Te,h)}catch{}switch(h.tag){case 26:rr||hl(h,d),Ul(c,d,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:rr||hl(h,d);var g=$t,O=Br;Mc(h.type)&&($t=h.stateNode,Br=!1),Ul(c,d,h),eg(h.stateNode),$t=g,Br=O;break;case 5:rr||hl(h,d);case 6:if(g=$t,O=Br,$t=null,Ul(c,d,h),$t=g,Br=O,$t!==null)if(Br)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(h.stateNode)}catch(E){Mt(h,d,E)}else try{$t.removeChild(h.stateNode)}catch(E){Mt(h,d,E)}break;case 18:$t!==null&&(Br?(c=$t,$N(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,h.stateNode),Ah(c)):$N($t,h.stateNode));break;case 4:g=$t,O=Br,$t=h.stateNode.containerInfo,Br=!0,Ul(c,d,h),$t=g,Br=O;break;case 0:case 11:case 14:case 15:Oc(2,h,d),rr||Oc(4,h,d),Ul(c,d,h);break;case 1:rr||(hl(h,d),g=h.stateNode,typeof g.componentWillUnmount=="function"&&FA(h,d,g)),Ul(c,d,h);break;case 21:Ul(c,d,h);break;case 22:rr=(g=rr)||h.memoizedState!==null,Ul(c,d,h),rr=g;break;default:Ul(c,d,h)}}function JA(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Ah(c)}catch(h){Mt(d,d.return,h)}}}function ZA(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Ah(c)}catch(h){Mt(d,d.return,h)}}function eQ(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new KA),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new KA),d;default:throw Error(i(435,c.tag))}}function yy(c,d){var h=eQ(c);d.forEach(function(g){if(!h.has(g)){h.add(g);var O=lQ.bind(null,c,g);g.then(O,O)}})}function Lr(c,d){var h=d.deletions;if(h!==null)for(var g=0;g<h.length;g++){var O=h[g],E=c,L=d,J=L;e:for(;J!==null;){switch(J.tag){case 27:if(Mc(J.type)){$t=J.stateNode,Br=!1;break e}break;case 5:$t=J.stateNode,Br=!1;break e;case 3:case 4:$t=J.stateNode.containerInfo,Br=!0;break e}J=J.return}if($t===null)throw Error(i(160));WA(E,L,O),$t=null,Br=!1,E=O.alternate,E!==null&&(E.return=null),O.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)QA(d,c),d=d.sibling}var Gn=null;function QA(c,d){var h=c.alternate,g=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Lr(d,c),Ur(c),g&4&&(Oc(3,c,c.return),Gp(3,c),Oc(5,c,c.return));break;case 1:Lr(d,c),Ur(c),g&512&&(rr||h===null||hl(h,h.return)),g&64&&Ll&&(c=c.updateQueue,c!==null&&(g=c.callbacks,g!==null&&(h=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var O=Gn;if(Lr(d,c),Ur(c),g&512&&(rr||h===null||hl(h,h.return)),g&4){var E=h!==null?h.memoizedState:null;if(g=c.memoizedState,h===null)if(g===null)if(c.stateNode===null){e:{g=c.type,h=c.memoizedProps,O=O.ownerDocument||O;t:switch(g){case"title":E=O.getElementsByTagName("title")[0],(!E||E[yp]||E[Qt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=O.createElement(g),O.head.insertBefore(E,O.querySelector("head > title"))),wr(E,g,h),E[Qt]=c,fr(E),g=E;break e;case"link":var L=QN("link","href",O).get(g+(h.href||""));if(L){for(var J=0;J<L.length;J++)if(E=L[J],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){L.splice(J,1);break t}}E=O.createElement(g),wr(E,g,h),O.head.appendChild(E);break;case"meta":if(L=QN("meta","content",O).get(g+(h.content||""))){for(J=0;J<L.length;J++)if(E=L[J],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){L.splice(J,1);break t}}E=O.createElement(g),wr(E,g,h),O.head.appendChild(E);break;default:throw Error(i(468,g))}E[Qt]=c,fr(E),g=E}c.stateNode=g}else XN(O,c.type,c.stateNode);else c.stateNode=ZN(O,g,c.memoizedProps);else E!==g?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,g===null?XN(O,c.type,c.stateNode):ZN(O,g,c.memoizedProps)):g===null&&c.stateNode!==null&&Bw(c,c.memoizedProps,h.memoizedProps)}break;case 27:Lr(d,c),Ur(c),g&512&&(rr||h===null||hl(h,h.return)),h!==null&&g&4&&Bw(c,c.memoizedProps,h.memoizedProps);break;case 5:if(Lr(d,c),Ur(c),g&512&&(rr||h===null||hl(h,h.return)),c.flags&32){O=c.stateNode;try{th(O,"")}catch(Ge){Mt(c,c.return,Ge)}}g&4&&c.stateNode!=null&&(O=c.memoizedProps,Bw(c,O,h!==null?h.memoizedProps:O)),g&1024&&($w=!0);break;case 6:if(Lr(d,c),Ur(c),g&4){if(c.stateNode===null)throw Error(i(162));g=c.memoizedProps,h=c.stateNode;try{h.nodeValue=g}catch(Ge){Mt(c,c.return,Ge)}}break;case 3:if(Dy=null,O=Gn,Gn=Ay(d.containerInfo),Lr(d,c),Gn=O,Ur(c),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Ah(d.containerInfo)}catch(Ge){Mt(c,c.return,Ge)}$w&&($w=!1,XA(c));break;case 4:g=Gn,Gn=Ay(c.stateNode.containerInfo),Lr(d,c),Ur(c),Gn=g;break;case 12:Lr(d,c),Ur(c);break;case 31:Lr(d,c),Ur(c),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,yy(c,g)));break;case 13:Lr(d,c),Ur(c),c.child.flags&8192&&c.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(by=$e()),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,yy(c,g)));break;case 22:O=c.memoizedState!==null;var le=h!==null&&h.memoizedState!==null,Oe=Ll,je=rr;if(Ll=Oe||O,rr=je||le,Lr(d,c),rr=je,Ll=Oe,Ur(c),g&8192)e:for(d=c.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(h===null||le||Ll||rr||Td(c)),h=null,d=c;;){if(d.tag===5||d.tag===26){if(h===null){le=h=d;try{if(E=le.stateNode,O)L=E.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{J=le.stateNode;var xe=le.memoizedProps.style,Se=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;J.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(Ge){Mt(le,le.return,Ge)}}}else if(d.tag===6){if(h===null){le=d;try{le.stateNode.nodeValue=O?"":le.memoizedProps}catch(Ge){Mt(le,le.return,Ge)}}}else if(d.tag===18){if(h===null){le=d;try{var Re=le.stateNode;O?FN(Re,!0):FN(le.stateNode,!1)}catch(Ge){Mt(le,le.return,Ge)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}g&4&&(g=c.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,yy(c,h))));break;case 19:Lr(d,c),Ur(c),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,yy(c,g)));break;case 30:break;case 21:break;default:Lr(d,c),Ur(c)}}function Ur(c){var d=c.flags;if(d&2){try{for(var h,g=c.return;g!==null;){if(GA(g)){h=g;break}g=g.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var O=h.stateNode,E=Lw(c);_y(c,E,O);break;case 5:var L=h.stateNode;h.flags&32&&(th(L,""),h.flags&=-33);var J=Lw(c);_y(c,J,L);break;case 3:case 4:var le=h.stateNode.containerInfo,Oe=Lw(c);Uw(c,Oe,le);break;default:throw Error(i(161))}}catch(je){Mt(c,c.return,je)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function XA(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;XA(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function $l(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)kA(c,d.alternate,d),d=d.sibling}function Td(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Oc(4,d,d.return),Td(d);break;case 1:hl(d,d.return);var h=d.stateNode;typeof h.componentWillUnmount=="function"&&FA(d,d.return,h),Td(d);break;case 27:eg(d.stateNode);case 26:case 5:hl(d,d.return),Td(d);break;case 22:d.memoizedState===null&&Td(d);break;case 30:Td(d);break;default:Td(d)}c=c.sibling}}function Fl(c,d,h){for(h=h&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var g=d.alternate,O=c,E=d,L=E.flags;switch(E.tag){case 0:case 11:case 15:Fl(O,E,h),Gp(4,E);break;case 1:if(Fl(O,E,h),g=E,O=g.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Oe){Mt(g,g.return,Oe)}if(g=E,O=g.updateQueue,O!==null){var J=g.stateNode;try{var le=O.shared.hiddenCallbacks;if(le!==null)for(O.shared.hiddenCallbacks=null,O=0;O<le.length;O++)xP(le[O],J)}catch(Oe){Mt(g,g.return,Oe)}}h&&L&64&&$A(E),Hp(E,E.return);break;case 27:HA(E);case 26:case 5:Fl(O,E,h),h&&g===null&&L&4&&VA(E),Hp(E,E.return);break;case 12:Fl(O,E,h);break;case 31:Fl(O,E,h),h&&L&4&&JA(O,E);break;case 13:Fl(O,E,h),h&&L&4&&ZA(O,E);break;case 22:E.memoizedState===null&&Fl(O,E,h),Hp(E,E.return);break;case 30:break;default:Fl(O,E,h)}d=d.sibling}}function Fw(c,d){var h=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==h&&(c!=null&&c.refCount++,h!=null&&Pp(h))}function Vw(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Pp(c))}function Hn(c,d,h,g){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)eN(c,d,h,g),d=d.sibling}function eN(c,d,h,g){var O=d.flags;switch(d.tag){case 0:case 11:case 15:Hn(c,d,h,g),O&2048&&Gp(9,d);break;case 1:Hn(c,d,h,g);break;case 3:Hn(c,d,h,g),O&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Pp(c)));break;case 12:if(O&2048){Hn(c,d,h,g),c=d.stateNode;try{var E=d.memoizedProps,L=E.id,J=E.onPostCommit;typeof J=="function"&&J(L,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(le){Mt(d,d.return,le)}}else Hn(c,d,h,g);break;case 31:Hn(c,d,h,g);break;case 13:Hn(c,d,h,g);break;case 23:break;case 22:E=d.stateNode,L=d.alternate,d.memoizedState!==null?E._visibility&2?Hn(c,d,h,g):Kp(c,d):E._visibility&2?Hn(c,d,h,g):(E._visibility|=2,wh(c,d,h,g,(d.subtreeFlags&10256)!==0||!1)),O&2048&&Fw(L,d);break;case 24:Hn(c,d,h,g),O&2048&&Vw(d.alternate,d);break;default:Hn(c,d,h,g)}}function wh(c,d,h,g,O){for(O=O&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var E=c,L=d,J=h,le=g,Oe=L.flags;switch(L.tag){case 0:case 11:case 15:wh(E,L,J,le,O),Gp(8,L);break;case 23:break;case 22:var je=L.stateNode;L.memoizedState!==null?je._visibility&2?wh(E,L,J,le,O):Kp(E,L):(je._visibility|=2,wh(E,L,J,le,O)),O&&Oe&2048&&Fw(L.alternate,L);break;case 24:wh(E,L,J,le,O),O&&Oe&2048&&Vw(L.alternate,L);break;default:wh(E,L,J,le,O)}d=d.sibling}}function Kp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var h=c,g=d,O=g.flags;switch(g.tag){case 22:Kp(h,g),O&2048&&Fw(g.alternate,g);break;case 24:Kp(h,g),O&2048&&Vw(g.alternate,g);break;default:Kp(h,g)}d=d.sibling}}var kp=8192;function Oh(c,d,h){if(c.subtreeFlags&kp)for(c=c.child;c!==null;)tN(c,d,h),c=c.sibling}function tN(c,d,h){switch(c.tag){case 26:Oh(c,d,h),c.flags&kp&&c.memoizedState!==null&&UQ(h,Gn,c.memoizedState,c.memoizedProps);break;case 5:Oh(c,d,h);break;case 3:case 4:var g=Gn;Gn=Ay(c.stateNode.containerInfo),Oh(c,d,h),Gn=g;break;case 22:c.memoizedState===null&&(g=c.alternate,g!==null&&g.memoizedState!==null?(g=kp,kp=16777216,Oh(c,d,h),kp=g):Oh(c,d,h));break;default:Oh(c,d,h)}}function rN(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Yp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var g=d[h];hr=g,aN(g,c)}rN(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)nN(c),c=c.sibling}function nN(c){switch(c.tag){case 0:case 11:case 15:Yp(c),c.flags&2048&&Oc(9,c,c.return);break;case 3:Yp(c);break;case 12:Yp(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,vy(c)):Yp(c);break;default:Yp(c)}}function vy(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var g=d[h];hr=g,aN(g,c)}rN(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Oc(8,d,d.return),vy(d);break;case 22:h=d.stateNode,h._visibility&2&&(h._visibility&=-3,vy(d));break;default:vy(d)}c=c.sibling}}function aN(c,d){for(;hr!==null;){var h=hr;switch(h.tag){case 0:case 11:case 15:Oc(8,h,d);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Pp(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,hr=g;else e:for(h=c;hr!==null;){g=hr;var O=g.sibling,E=g.return;if(YA(g),g===h){hr=null;break e}if(O!==null){O.return=E,hr=O;break e}hr=E}}}var tQ={getCacheForType:function(c){var d=vr(Xt),h=d.data.get(c);return h===void 0&&(h=c(),d.data.set(c,h)),h},cacheSignal:function(){return vr(Xt).controller.signal}},rQ=typeof WeakMap=="function"?WeakMap:Map,jt=0,Dt=null,ft=null,pt=0,Tt=0,rn=null,Sc=!1,Sh=!1,Gw=!1,Vl=0,kt=0,Ec=0,Md=0,Hw=0,nn=0,Eh=0,Wp=null,$r=null,Kw=!1,by=0,iN=0,wy=1/0,Oy=null,Rc=null,or=0,jc=null,Rh=null,Gl=0,kw=0,Yw=null,oN=null,Jp=0,Ww=null;function an(){return(jt&2)!==0&&pt!==0?pt&-pt:$.T!==null?tO():_p()}function sN(){if(nn===0)if((pt&536870912)===0||mt){var c=cd;cd<<=1,(cd&3932160)===0&&(cd=262144),nn=c}else nn=536870912;return c=en.current,c!==null&&(c.flags|=32),nn}function Fr(c,d,h){(c===Dt&&(Tt===2||Tt===9)||c.cancelPendingCommit!==null)&&(jh(c,0),Cc(c,pt,nn,!1)),qe(c,h),((jt&2)===0||c!==Dt)&&(c===Dt&&((jt&2)===0&&(Md|=h),kt===4&&Cc(c,pt,nn,!1)),pl(c))}function uN(c,d,h){if((jt&6)!==0)throw Error(i(327));var g=!h&&(d&127)===0&&(d&c.expiredLanes)===0||jl(c,d),O=g?iQ(c,d):Zw(c,d,!0),E=g;do{if(O===0){Sh&&!g&&Cc(c,d,0,!1);break}else{if(h=c.current.alternate,E&&!nQ(h)){O=Zw(c,d,!1),E=!1;continue}if(O===2){if(E=d,c.errorRecoveryDisabledLanes&E)var L=0;else L=c.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){d=L;e:{var J=c;O=Wp;var le=J.current.memoizedState.isDehydrated;if(le&&(jh(J,L).flags|=256),L=Zw(J,L,!1),L!==2){if(Gw&&!le){J.errorRecoveryDisabledLanes|=E,Md|=E,O=4;break e}E=$r,$r=O,E!==null&&($r===null?$r=E:$r.push.apply($r,E))}O=L}if(E=!1,O!==2)continue}}if(O===1){jh(c,0),Cc(c,d,0,!0);break}e:{switch(g=c,E=O,E){case 0:case 1:throw Error(i(345));case 4:if((d&4194048)!==d)break;case 6:Cc(g,d,nn,!Sc);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(i(329))}if((d&62914560)===d&&(O=by+300-$e(),10<O)){if(Cc(g,d,nn,!Sc),Yf(g,0,!0)!==0)break e;Gl=d,g.timeoutHandle=LN(lN.bind(null,g,h,$r,Oy,Kw,d,nn,Md,Eh,Sc,E,"Throttled",-0,0),O);break e}lN(g,h,$r,Oy,Kw,d,nn,Md,Eh,Sc,E,null,-0,0)}}break}while(!0);pl(c)}function lN(c,d,h,g,O,E,L,J,le,Oe,je,xe,Se,Re){if(c.timeoutHandle=-1,xe=d.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ml},tN(d,E,xe);var Ge=(E&62914560)===E?by-$e():(E&4194048)===E?iN-$e():0;if(Ge=$Q(xe,Ge),Ge!==null){Gl=E,c.cancelPendingCommit=Ge(_N.bind(null,c,d,E,h,g,O,L,J,le,je,xe,null,Se,Re)),Cc(c,E,L,!Oe);return}}_N(c,d,E,h,g,O,L,J,le)}function nQ(c){for(var d=c;;){var h=d.tag;if((h===0||h===11||h===15)&&d.flags&16384&&(h=d.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var O=h[g],E=O.getSnapshot;O=O.value;try{if(!Qr(E(),O))return!1}catch{return!1}}if(h=d.child,d.subtreeFlags&16384&&h!==null)h.return=d,d=h;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Cc(c,d,h,g){d&=~Hw,d&=~Md,c.suspendedLanes|=d,c.pingedLanes&=~d,g&&(c.warmLanes|=d),g=c.expirationTimes;for(var O=d;0<O;){var E=31-lt(O),L=1<<E;g[E]=-1,O&=~L}h!==0&&ke(c,h,d)}function Sy(){return(jt&6)===0?(Zp(0),!1):!0}function Jw(){if(ft!==null){if(Tt===0)var c=ft.return;else c=ft,Nl=bd=null,fw(c),mh=null,Np=0,c=ft;for(;c!==null;)UA(c.alternate,c),c=c.return;ft=null}}function jh(c,d){var h=c.timeoutHandle;h!==-1&&(c.timeoutHandle=-1,SQ(h)),h=c.cancelPendingCommit,h!==null&&(c.cancelPendingCommit=null,h()),Gl=0,Jw(),Dt=c,ft=h=Pl(c.current,null),pt=d,Tt=0,rn=null,Sc=!1,Sh=jl(c,d),Gw=!1,Eh=nn=Hw=Md=Ec=kt=0,$r=Wp=null,Kw=!1,(d&8)!==0&&(d|=d&32);var g=c.entangledLanes;if(g!==0)for(c=c.entanglements,g&=d;0<g;){var O=31-lt(g),E=1<<O;d|=c[O],g&=~E}return Vl=d,G_(),h}function cN(c,d){st=null,$.H=$p,d===gh||d===Q_?(d=jP(),Tt=3):d===ew?(d=jP(),Tt=4):Tt=d===Tw?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,rn=d,ft===null&&(kt=1,fy(c,Tn(d,c.current)))}function dN(){var c=en.current;return c===null?!0:(pt&4194048)===pt?An===null:(pt&62914560)===pt||(pt&536870912)!==0?c===An:!1}function fN(){var c=$.H;return $.H=$p,c===null?$p:c}function hN(){var c=$.A;return $.A=tQ,c}function Ey(){kt=4,Sc||(pt&4194048)!==pt&&en.current!==null||(Sh=!0),(Ec&134217727)===0&&(Md&134217727)===0||Dt===null||Cc(Dt,pt,nn,!1)}function Zw(c,d,h){var g=jt;jt|=2;var O=fN(),E=hN();(Dt!==c||pt!==d)&&(Oy=null,jh(c,d)),d=!1;var L=kt;e:do try{if(Tt!==0&&ft!==null){var J=ft,le=rn;switch(Tt){case 8:Jw(),L=6;break e;case 3:case 2:case 9:case 6:en.current===null&&(d=!0);var Oe=Tt;if(Tt=0,rn=null,Ch(c,J,le,Oe),h&&Sh){L=0;break e}break;default:Oe=Tt,Tt=0,rn=null,Ch(c,J,le,Oe)}}aQ(),L=kt;break}catch(je){cN(c,je)}while(!0);return d&&c.shellSuspendCounter++,Nl=bd=null,jt=g,$.H=O,$.A=E,ft===null&&(Dt=null,pt=0,G_()),L}function aQ(){for(;ft!==null;)pN(ft)}function iQ(c,d){var h=jt;jt|=2;var g=fN(),O=hN();Dt!==c||pt!==d?(Oy=null,wy=$e()+500,jh(c,d)):Sh=jl(c,d);e:do try{if(Tt!==0&&ft!==null){d=ft;var E=rn;t:switch(Tt){case 1:Tt=0,rn=null,Ch(c,d,E,1);break;case 2:case 9:if(EP(E)){Tt=0,rn=null,gN(d);break}d=function(){Tt!==2&&Tt!==9||Dt!==c||(Tt=7),pl(c)},E.then(d,d);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:EP(E)?(Tt=0,rn=null,gN(d)):(Tt=0,rn=null,Ch(c,d,E,7));break;case 5:var L=null;switch(ft.tag){case 26:L=ft.memoizedState;case 5:case 27:var J=ft;if(L?eD(L):J.stateNode.complete){Tt=0,rn=null;var le=J.sibling;if(le!==null)ft=le;else{var Oe=J.return;Oe!==null?(ft=Oe,Ry(Oe)):ft=null}break t}}Tt=0,rn=null,Ch(c,d,E,5);break;case 6:Tt=0,rn=null,Ch(c,d,E,6);break;case 8:Jw(),kt=6;break e;default:throw Error(i(462))}}oQ();break}catch(je){cN(c,je)}while(!0);return Nl=bd=null,$.H=g,$.A=O,jt=h,ft!==null?0:(Dt=null,pt=0,G_(),kt)}function oQ(){for(;ft!==null&&!ye();)pN(ft)}function pN(c){var d=BA(c.alternate,c,Vl);c.memoizedProps=c.pendingProps,d===null?Ry(c):ft=d}function gN(c){var d=c,h=d.alternate;switch(d.tag){case 15:case 0:d=AA(h,d,d.pendingProps,d.type,void 0,pt);break;case 11:d=AA(h,d,d.pendingProps,d.type.render,d.ref,pt);break;case 5:fw(d);default:UA(h,d),d=ft=hP(d,Vl),d=BA(h,d,Vl)}c.memoizedProps=c.pendingProps,d===null?Ry(c):ft=d}function Ch(c,d,h,g){Nl=bd=null,fw(d),mh=null,Np=0;var O=d.return;try{if(YZ(c,O,d,h,pt)){kt=1,fy(c,Tn(h,c.current)),ft=null;return}}catch(E){if(O!==null)throw ft=O,E;kt=1,fy(c,Tn(h,c.current)),ft=null;return}d.flags&32768?(mt||g===1?c=!0:Sh||(pt&536870912)!==0?c=!1:(Sc=c=!0,(g===2||g===9||g===3||g===6)&&(g=en.current,g!==null&&g.tag===13&&(g.flags|=16384))),mN(d,c)):Ry(d)}function Ry(c){var d=c;do{if((d.flags&32768)!==0){mN(d,Sc);return}c=d.return;var h=ZZ(d.alternate,d,Vl);if(h!==null){ft=h;return}if(d=d.sibling,d!==null){ft=d;return}ft=d=c}while(d!==null);kt===0&&(kt=5)}function mN(c,d){do{var h=QZ(c.alternate,c);if(h!==null){h.flags&=32767,ft=h;return}if(h=c.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!d&&(c=c.sibling,c!==null)){ft=c;return}ft=c=h}while(c!==null);kt=6,ft=null}function _N(c,d,h,g,O,E,L,J,le){c.cancelPendingCommit=null;do jy();while(or!==0);if((jt&6)!==0)throw Error(i(327));if(d!==null){if(d===c.current)throw Error(i(177));if(E=d.lanes|d.childLanes,E|=L0,Ue(c,h,E,L,J,le),c===Dt&&(ft=Dt=null,pt=0),Rh=d,jc=c,Gl=h,kw=E,Yw=O,oN=g,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,cQ(N,function(){return ON(),null})):(c.callbackNode=null,c.callbackPriority=0),g=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||g){g=$.T,$.T=null,O=k.p,k.p=2,L=jt,jt|=4;try{XZ(c,d,h)}finally{jt=L,k.p=O,$.T=g}}or=1,yN(),vN(),bN()}}function yN(){if(or===1){or=0;var c=jc,d=Rh,h=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||h){h=$.T,$.T=null;var g=k.p;k.p=2;var O=jt;jt|=4;try{QA(d,c);var E=lO,L=aP(c.containerInfo),J=E.focusedElem,le=E.selectionRange;if(L!==J&&J&&J.ownerDocument&&nP(J.ownerDocument.documentElement,J)){if(le!==null&&D0(J)){var Oe=le.start,je=le.end;if(je===void 0&&(je=Oe),"selectionStart"in J)J.selectionStart=Oe,J.selectionEnd=Math.min(je,J.value.length);else{var xe=J.ownerDocument||document,Se=xe&&xe.defaultView||window;if(Se.getSelection){var Re=Se.getSelection(),Ge=J.textContent.length,rt=Math.min(le.start,Ge),Nt=le.end===void 0?rt:Math.min(le.end,Ge);!Re.extend&&rt>Nt&&(L=Nt,Nt=rt,rt=L);var me=rP(J,rt),he=rP(J,Nt);if(me&&he&&(Re.rangeCount!==1||Re.anchorNode!==me.node||Re.anchorOffset!==me.offset||Re.focusNode!==he.node||Re.focusOffset!==he.offset)){var we=xe.createRange();we.setStart(me.node,me.offset),Re.removeAllRanges(),rt>Nt?(Re.addRange(we),Re.extend(he.node,he.offset)):(we.setEnd(he.node,he.offset),Re.addRange(we))}}}}for(xe=[],Re=J;Re=Re.parentNode;)Re.nodeType===1&&xe.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<xe.length;J++){var Me=xe[J];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}By=!!uO,lO=uO=null}finally{jt=O,k.p=g,$.T=h}}c.current=d,or=2}}function vN(){if(or===2){or=0;var c=jc,d=Rh,h=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||h){h=$.T,$.T=null;var g=k.p;k.p=2;var O=jt;jt|=4;try{kA(c,d.alternate,d)}finally{jt=O,k.p=g,$.T=h}}or=3}}function bN(){if(or===4||or===3){or=0,Ie();var c=jc,d=Rh,h=Gl,g=oN;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?or=5:(or=0,Rh=jc=null,wN(c,c.pendingLanes));var O=c.pendingLanes;if(O===0&&(Rc=null),$n(h),d=d.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Te,d,void 0,(d.current.flags&128)===128)}catch{}if(g!==null){d=$.T,O=k.p,k.p=2,$.T=null;try{for(var E=c.onRecoverableError,L=0;L<g.length;L++){var J=g[L];E(J.value,{componentStack:J.stack})}}finally{$.T=d,k.p=O}}(Gl&3)!==0&&jy(),pl(c),O=c.pendingLanes,(h&261930)!==0&&(O&42)!==0?c===Ww?Jp++:(Jp=0,Ww=c):Jp=0,Zp(0)}}function wN(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Pp(d)))}function jy(){return yN(),vN(),bN(),ON()}function ON(){if(or!==5)return!1;var c=jc,d=kw;kw=0;var h=$n(Gl),g=$.T,O=k.p;try{k.p=32>h?32:h,$.T=null,h=Yw,Yw=null;var E=jc,L=Gl;if(or=0,Rh=jc=null,Gl=0,(jt&6)!==0)throw Error(i(331));var J=jt;if(jt|=4,nN(E.current),eN(E,E.current,L,h),jt=J,Zp(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Te,E)}catch{}return!0}finally{k.p=O,$.T=g,wN(c,d)}}function SN(c,d,h){d=Tn(h,d),d=Cw(c.stateNode,d,2),c=vc(c,d,2),c!==null&&(qe(c,2),pl(c))}function Mt(c,d,h){if(c.tag===3)SN(c,c,h);else for(;d!==null;){if(d.tag===3){SN(d,c,h);break}else if(d.tag===1){var g=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Rc===null||!Rc.has(g))){c=Tn(h,c),h=EA(2),g=vc(d,h,2),g!==null&&(RA(h,g,d,c),qe(g,2),pl(g));break}}d=d.return}}function Qw(c,d,h){var g=c.pingCache;if(g===null){g=c.pingCache=new rQ;var O=new Set;g.set(d,O)}else O=g.get(d),O===void 0&&(O=new Set,g.set(d,O));O.has(h)||(Gw=!0,O.add(h),c=sQ.bind(null,c,d,h),d.then(c,c))}function sQ(c,d,h){var g=c.pingCache;g!==null&&g.delete(d),c.pingedLanes|=c.suspendedLanes&h,c.warmLanes&=~h,Dt===c&&(pt&h)===h&&(kt===4||kt===3&&(pt&62914560)===pt&&300>$e()-by?(jt&2)===0&&jh(c,0):Hw|=h,Eh===pt&&(Eh=0)),pl(c)}function EN(c,d){d===0&&(d=te()),c=_d(c,d),c!==null&&(qe(c,d),pl(c))}function uQ(c){var d=c.memoizedState,h=0;d!==null&&(h=d.retryLane),EN(c,h)}function lQ(c,d){var h=0;switch(c.tag){case 31:case 13:var g=c.stateNode,O=c.memoizedState;O!==null&&(h=O.retryLane);break;case 19:g=c.stateNode;break;case 22:g=c.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(d),EN(c,h)}function cQ(c,d){return pe(c,d)}var Cy=null,Th=null,Xw=!1,Ty=!1,eO=!1,Tc=0;function pl(c){c!==Th&&c.next===null&&(Th===null?Cy=Th=c:Th=Th.next=c),Ty=!0,Xw||(Xw=!0,fQ())}function Zp(c,d){if(!eO&&Ty){eO=!0;do for(var h=!1,g=Cy;g!==null;){if(c!==0){var O=g.pendingLanes;if(O===0)var E=0;else{var L=g.suspendedLanes,J=g.pingedLanes;E=(1<<31-lt(42|c)+1)-1,E&=O&~(L&~J),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,TN(g,E))}else E=pt,E=Yf(g,g===Dt?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||jl(g,E)||(h=!0,TN(g,E));g=g.next}while(h);eO=!1}}function dQ(){RN()}function RN(){Ty=Xw=!1;var c=0;Tc!==0&&OQ()&&(c=Tc);for(var d=$e(),h=null,g=Cy;g!==null;){var O=g.next,E=jN(g,d);E===0?(g.next=null,h===null?Cy=O:h.next=O,O===null&&(Th=h)):(h=g,(c!==0||(E&3)!==0)&&(Ty=!0)),g=O}or!==0&&or!==5||Zp(c),Tc!==0&&(Tc=0)}function jN(c,d){for(var h=c.suspendedLanes,g=c.pingedLanes,O=c.expirationTimes,E=c.pendingLanes&-62914561;0<E;){var L=31-lt(E),J=1<<L,le=O[L];le===-1?((J&h)===0||(J&g)!==0)&&(O[L]=P_(J,d)):le<=d&&(c.expiredLanes|=J),E&=~J}if(d=Dt,h=pt,h=Yf(c,c===d?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),g=c.callbackNode,h===0||c===d&&(Tt===2||Tt===9)||c.cancelPendingCommit!==null)return g!==null&&g!==null&&De(g),c.callbackNode=null,c.callbackPriority=0;if((h&3)===0||jl(c,h)){if(d=h&-h,d===c.callbackPriority)return d;switch(g!==null&&De(g),$n(h)){case 2:case 8:h=G;break;case 32:h=N;break;case 268435456:h=ne;break;default:h=N}return g=CN.bind(null,c),h=pe(h,g),c.callbackPriority=d,c.callbackNode=h,d}return g!==null&&g!==null&&De(g),c.callbackPriority=2,c.callbackNode=null,2}function CN(c,d){if(or!==0&&or!==5)return c.callbackNode=null,c.callbackPriority=0,null;var h=c.callbackNode;if(jy()&&c.callbackNode!==h)return null;var g=pt;return g=Yf(c,c===Dt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),g===0?null:(uN(c,g,d),jN(c,$e()),c.callbackNode!=null&&c.callbackNode===h?CN.bind(null,c):null)}function TN(c,d){if(jy())return null;uN(c,d,!0)}function fQ(){EQ(function(){(jt&6)!==0?pe(ze,dQ):RN()})}function tO(){if(Tc===0){var c=hh;c===0&&(c=kf,kf<<=1,(kf&261888)===0&&(kf=256)),Tc=c}return Tc}function MN(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:z_(""+c)}function xN(c,d){var h=d.ownerDocument.createElement("input");return h.name=d.name,h.value=d.value,c.id&&h.setAttribute("form",c.id),d.parentNode.insertBefore(h,d),c=new FormData(c),h.parentNode.removeChild(h),c}function hQ(c,d,h,g,O){if(d==="submit"&&h&&h.stateNode===O){var E=MN((O[dr]||null).action),L=g.submitter;L&&(d=(d=L[dr]||null)?MN(d.formAction):L.getAttribute("formAction"),d!==null&&(E=d,L=null));var J=new U_("action","action",null,g,O);c.push({event:J,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Tc!==0){var le=L?xN(O,L):new FormData(O);ww(h,{pending:!0,data:le,method:O.method,action:E},null,le)}}else typeof E=="function"&&(J.preventDefault(),le=L?xN(O,L):new FormData(O),ww(h,{pending:!0,data:le,method:O.method,action:E},E,le))},currentTarget:O}]})}}for(var rO=0;rO<B0.length;rO++){var nO=B0[rO],pQ=nO.toLowerCase(),gQ=nO[0].toUpperCase()+nO.slice(1);Vn(pQ,"on"+gQ)}Vn(sP,"onAnimationEnd"),Vn(uP,"onAnimationIteration"),Vn(lP,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(PZ,"onTransitionRun"),Vn(AZ,"onTransitionStart"),Vn(NZ,"onTransitionCancel"),Vn(cP,"onTransitionEnd"),Xf("onMouseEnter",["mouseout","mouseover"]),Xf("onMouseLeave",["mouseout","mouseover"]),Xf("onPointerEnter",["pointerout","pointerover"]),Xf("onPointerLeave",["pointerout","pointerover"]),hd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hd("onBeforeInput",["compositionend","keypress","textInput","paste"]),hd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qp));function PN(c,d){d=(d&4)!==0;for(var h=0;h<c.length;h++){var g=c[h],O=g.event;g=g.listeners;e:{var E=void 0;if(d)for(var L=g.length-1;0<=L;L--){var J=g[L],le=J.instance,Oe=J.currentTarget;if(J=J.listener,le!==E&&O.isPropagationStopped())break e;E=J,O.currentTarget=Oe;try{E(O)}catch(je){V_(je)}O.currentTarget=null,E=le}else for(L=0;L<g.length;L++){if(J=g[L],le=J.instance,Oe=J.currentTarget,J=J.listener,le!==E&&O.isPropagationStopped())break e;E=J,O.currentTarget=Oe;try{E(O)}catch(je){V_(je)}O.currentTarget=null,E=le}}}}function ht(c,d){var h=d[dd];h===void 0&&(h=d[dd]=new Set);var g=c+"__bubble";h.has(g)||(AN(d,c,2,!1),h.add(g))}function aO(c,d,h){var g=0;d&&(g|=4),AN(h,c,g,d)}var My="_reactListening"+Math.random().toString(36).slice(2);function iO(c){if(!c[My]){c[My]=!0,Rx.forEach(function(h){h!=="selectionchange"&&(mQ.has(h)||aO(h,!1,c),aO(h,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[My]||(d[My]=!0,aO("selectionchange",!1,d))}}function AN(c,d,h,g){switch(sD(d)){case 2:var O=GQ;break;case 8:O=HQ;break;default:O=bO}h=O.bind(null,d,h,c),O=void 0,!R0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),g?O!==void 0?c.addEventListener(d,h,{capture:!0,passive:O}):c.addEventListener(d,h,!0):O!==void 0?c.addEventListener(d,h,{passive:O}):c.addEventListener(d,h,!1)}function oO(c,d,h,g,O){var E=g;if((d&1)===0&&(d&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var J=g.stateNode.containerInfo;if(J===O)break;if(L===4)for(L=g.return;L!==null;){var le=L.tag;if((le===3||le===4)&&L.stateNode.containerInfo===O)return;L=L.return}for(;J!==null;){if(L=Jf(J),L===null)return;if(le=L.tag,le===5||le===6||le===26||le===27){g=E=L;continue e}J=J.parentNode}}g=g.return}qx(function(){var Oe=E,je=S0(h),xe=[];e:{var Se=dP.get(c);if(Se!==void 0){var Re=U_,Ge=c;switch(c){case"keypress":if(B_(h)===0)break e;case"keydown":case"keyup":Re=lZ;break;case"focusin":Ge="focus",Re=M0;break;case"focusout":Ge="blur",Re=M0;break;case"beforeblur":case"afterblur":Re=M0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=ZJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=fZ;break;case sP:case uP:case lP:Re=eZ;break;case cP:Re=pZ;break;case"scroll":case"scrollend":Re=WJ;break;case"wheel":Re=mZ;break;case"copy":case"cut":case"paste":Re=rZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Fx;break;case"toggle":case"beforetoggle":Re=yZ}var rt=(d&4)!==0,Nt=!rt&&(c==="scroll"||c==="scrollend"),me=rt?Se!==null?Se+"Capture":null:Se;rt=[];for(var he=Oe,we;he!==null;){var Me=he;if(we=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||we===null||me===null||(Me=bp(he,me),Me!=null&&rt.push(Xp(he,Me,we))),Nt)break;he=he.return}0<rt.length&&(Se=new Re(Se,Ge,null,h,je),xe.push({event:Se,listeners:rt}))}}if((d&7)===0){e:{if(Se=c==="mouseover"||c==="pointerover",Re=c==="mouseout"||c==="pointerout",Se&&h!==O0&&(Ge=h.relatedTarget||h.fromElement)&&(Jf(Ge)||Ge[cl]))break e;if((Re||Se)&&(Se=je.window===je?je:(Se=je.ownerDocument)?Se.defaultView||Se.parentWindow:window,Re?(Ge=h.relatedTarget||h.toElement,Re=Oe,Ge=Ge?Jf(Ge):null,Ge!==null&&(Nt=t(Ge),rt=Ge.tag,Ge!==Nt||rt!==5&&rt!==27&&rt!==6)&&(Ge=null)):(Re=null,Ge=Oe),Re!==Ge)){if(rt=Ux,Me="onMouseLeave",me="onMouseEnter",he="mouse",(c==="pointerout"||c==="pointerover")&&(rt=Fx,Me="onPointerLeave",me="onPointerEnter",he="pointer"),Nt=Re==null?Se:vp(Re),we=Ge==null?Se:vp(Ge),Se=new rt(Me,he+"leave",Re,h,je),Se.target=Nt,Se.relatedTarget=we,Me=null,Jf(je)===Oe&&(rt=new rt(me,he+"enter",Ge,h,je),rt.target=we,rt.relatedTarget=Nt,Me=rt),Nt=Me,Re&&Ge)t:{for(rt=_Q,me=Re,he=Ge,we=0,Me=me;Me;Me=rt(Me))we++;Me=0;for(var Xe=he;Xe;Xe=rt(Xe))Me++;for(;0<we-Me;)me=rt(me),we--;for(;0<Me-we;)he=rt(he),Me--;for(;we--;){if(me===he||he!==null&&me===he.alternate){rt=me;break t}me=rt(me),he=rt(he)}rt=null}else rt=null;Re!==null&&NN(xe,Se,Re,rt,!1),Ge!==null&&Nt!==null&&NN(xe,Nt,Ge,rt,!0)}}e:{if(Se=Oe?vp(Oe):window,Re=Se.nodeName&&Se.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Se.type==="file")var Ot=Jx;else if(Yx(Se))if(Zx)Ot=TZ;else{Ot=jZ;var We=RZ}else Re=Se.nodeName,!Re||Re.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?Oe&&w0(Oe.elementType)&&(Ot=Jx):Ot=CZ;if(Ot&&(Ot=Ot(c,Oe))){Wx(xe,Ot,h,je);break e}We&&We(c,Se,Oe),c==="focusout"&&Oe&&Se.type==="number"&&Oe.memoizedProps.value!=null&&b0(Se,"number",Se.value)}switch(We=Oe?vp(Oe):window,c){case"focusin":(Yx(We)||We.contentEditable==="true")&&(ih=We,I0=Oe,Tp=null);break;case"focusout":Tp=I0=ih=null;break;case"mousedown":z0=!0;break;case"contextmenu":case"mouseup":case"dragend":z0=!1,iP(xe,h,je);break;case"selectionchange":if(xZ)break;case"keydown":case"keyup":iP(xe,h,je)}var ut;if(P0)e:{switch(c){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ah?Kx(c,h)&&(gt="onCompositionEnd"):c==="keydown"&&h.keyCode===229&&(gt="onCompositionStart");gt&&(Vx&&h.locale!=="ko"&&(ah||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ah&&(ut=Bx()):(fc=je,j0="value"in fc?fc.value:fc.textContent,ah=!0)),We=xy(Oe,gt),0<We.length&&(gt=new $x(gt,c,null,h,je),xe.push({event:gt,listeners:We}),ut?gt.data=ut:(ut=kx(h),ut!==null&&(gt.data=ut)))),(ut=bZ?wZ(c,h):OZ(c,h))&&(gt=xy(Oe,"onBeforeInput"),0<gt.length&&(We=new $x("onBeforeInput","beforeinput",null,h,je),xe.push({event:We,listeners:gt}),We.data=ut)),hQ(xe,c,Oe,h,je)}PN(xe,d)})}function Xp(c,d,h){return{instance:c,listener:d,currentTarget:h}}function xy(c,d){for(var h=d+"Capture",g=[];c!==null;){var O=c,E=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||E===null||(O=bp(c,h),O!=null&&g.unshift(Xp(c,O,E)),O=bp(c,d),O!=null&&g.push(Xp(c,O,E))),c.tag===3)return g;c=c.return}return[]}function _Q(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function NN(c,d,h,g,O){for(var E=d._reactName,L=[];h!==null&&h!==g;){var J=h,le=J.alternate,Oe=J.stateNode;if(J=J.tag,le!==null&&le===g)break;J!==5&&J!==26&&J!==27||Oe===null||(le=Oe,O?(Oe=bp(h,E),Oe!=null&&L.unshift(Xp(h,Oe,le))):O||(Oe=bp(h,E),Oe!=null&&L.push(Xp(h,Oe,le)))),h=h.return}L.length!==0&&c.push({event:d,listeners:L})}var yQ=/\r\n?/g,vQ=/\u0000|\uFFFD/g;function DN(c){return(typeof c=="string"?c:""+c).replace(yQ,`
`).replace(vQ,"")}function IN(c,d){return d=DN(d),DN(c)===d}function At(c,d,h,g,O,E){switch(h){case"children":typeof g=="string"?d==="body"||d==="textarea"&&g===""||th(c,g):(typeof g=="number"||typeof g=="bigint")&&d!=="body"&&th(c,""+g);break;case"className":D_(c,"class",g);break;case"tabIndex":D_(c,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":D_(c,h,g);break;case"style":Ix(c,g,E);break;case"data":if(d!=="object"){D_(c,"data",g);break}case"src":case"href":if(g===""&&(d!=="a"||h!=="href")){c.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){c.removeAttribute(h);break}g=z_(""+g),c.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){c.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(d!=="input"&&At(c,d,"name",O.name,O,null),At(c,d,"formEncType",O.formEncType,O,null),At(c,d,"formMethod",O.formMethod,O,null),At(c,d,"formTarget",O.formTarget,O,null)):(At(c,d,"encType",O.encType,O,null),At(c,d,"method",O.method,O,null),At(c,d,"target",O.target,O,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){c.removeAttribute(h);break}g=z_(""+g),c.setAttribute(h,g);break;case"onClick":g!=null&&(c.onclick=Ml);break;case"onScroll":g!=null&&ht("scroll",c);break;case"onScrollEnd":g!=null&&ht("scrollend",c);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(i(60));c.innerHTML=h}}break;case"multiple":c.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":c.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){c.removeAttribute("xlink:href");break}h=z_(""+g),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(h,""+g):c.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(h,""):c.removeAttribute(h);break;case"capture":case"download":g===!0?c.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(h,g):c.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?c.setAttribute(h,g):c.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?c.removeAttribute(h):c.setAttribute(h,g);break;case"popover":ht("beforetoggle",c),ht("toggle",c),N_(c,"popover",g);break;case"xlinkActuate":Tl(c,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Tl(c,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Tl(c,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Tl(c,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Tl(c,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Tl(c,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Tl(c,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Tl(c,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Tl(c,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":N_(c,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=kJ.get(h)||h,N_(c,h,g))}}function sO(c,d,h,g,O,E){switch(h){case"style":Ix(c,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(i(60));c.innerHTML=h}}break;case"children":typeof g=="string"?th(c,g):(typeof g=="number"||typeof g=="bigint")&&th(c,""+g);break;case"onScroll":g!=null&&ht("scroll",c);break;case"onScrollEnd":g!=null&&ht("scrollend",c);break;case"onClick":g!=null&&(c.onclick=Ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jx.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),d=h.slice(2,O?h.length-7:void 0),E=c[dr]||null,E=E!=null?E[h]:null,typeof E=="function"&&c.removeEventListener(d,E,O),typeof g=="function")){typeof E!="function"&&E!==null&&(h in c?c[h]=null:c.hasAttribute(h)&&c.removeAttribute(h)),c.addEventListener(d,g,O);break e}h in c?c[h]=g:g===!0?c.setAttribute(h,""):N_(c,h,g)}}}function wr(c,d,h){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",c),ht("load",c);var g=!1,O=!1,E;for(E in h)if(h.hasOwnProperty(E)){var L=h[E];if(L!=null)switch(E){case"src":g=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:At(c,d,E,L,h,null)}}O&&At(c,d,"srcSet",h.srcSet,h,null),g&&At(c,d,"src",h.src,h,null);return;case"input":ht("invalid",c);var J=E=L=O=null,le=null,Oe=null;for(g in h)if(h.hasOwnProperty(g)){var je=h[g];if(je!=null)switch(g){case"name":O=je;break;case"type":L=je;break;case"checked":le=je;break;case"defaultChecked":Oe=je;break;case"value":E=je;break;case"defaultValue":J=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,d));break;default:At(c,d,g,je,h,null)}}Px(c,E,J,le,Oe,L,O,!1);return;case"select":ht("invalid",c),g=L=E=null;for(O in h)if(h.hasOwnProperty(O)&&(J=h[O],J!=null))switch(O){case"value":E=J;break;case"defaultValue":L=J;break;case"multiple":g=J;default:At(c,d,O,J,h,null)}d=E,h=L,c.multiple=!!g,d!=null?eh(c,!!g,d,!1):h!=null&&eh(c,!!g,h,!0);return;case"textarea":ht("invalid",c),E=O=g=null;for(L in h)if(h.hasOwnProperty(L)&&(J=h[L],J!=null))switch(L){case"value":g=J;break;case"defaultValue":O=J;break;case"children":E=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(91));break;default:At(c,d,L,J,h,null)}Nx(c,g,O,E);return;case"option":for(le in h)h.hasOwnProperty(le)&&(g=h[le],g!=null)&&(le==="selected"?c.selected=g&&typeof g!="function"&&typeof g!="symbol":At(c,d,le,g,h,null));return;case"dialog":ht("beforetoggle",c),ht("toggle",c),ht("cancel",c),ht("close",c);break;case"iframe":case"object":ht("load",c);break;case"video":case"audio":for(g=0;g<Qp.length;g++)ht(Qp[g],c);break;case"image":ht("error",c),ht("load",c);break;case"details":ht("toggle",c);break;case"embed":case"source":case"link":ht("error",c),ht("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in h)if(h.hasOwnProperty(Oe)&&(g=h[Oe],g!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:At(c,d,Oe,g,h,null)}return;default:if(w0(d)){for(je in h)h.hasOwnProperty(je)&&(g=h[je],g!==void 0&&sO(c,d,je,g,h,void 0));return}}for(J in h)h.hasOwnProperty(J)&&(g=h[J],g!=null&&At(c,d,J,g,h,null))}function bQ(c,d,h,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,E=null,L=null,J=null,le=null,Oe=null,je=null;for(Re in h){var xe=h[Re];if(h.hasOwnProperty(Re)&&xe!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":le=xe;default:g.hasOwnProperty(Re)||At(c,d,Re,null,g,xe)}}for(var Se in g){var Re=g[Se];if(xe=h[Se],g.hasOwnProperty(Se)&&(Re!=null||xe!=null))switch(Se){case"type":E=Re;break;case"name":O=Re;break;case"checked":Oe=Re;break;case"defaultChecked":je=Re;break;case"value":L=Re;break;case"defaultValue":J=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,d));break;default:Re!==xe&&At(c,d,Se,Re,g,xe)}}v0(c,L,J,le,Oe,je,E,O);return;case"select":Re=L=J=Se=null;for(E in h)if(le=h[E],h.hasOwnProperty(E)&&le!=null)switch(E){case"value":break;case"multiple":Re=le;default:g.hasOwnProperty(E)||At(c,d,E,null,g,le)}for(O in g)if(E=g[O],le=h[O],g.hasOwnProperty(O)&&(E!=null||le!=null))switch(O){case"value":Se=E;break;case"defaultValue":J=E;break;case"multiple":L=E;default:E!==le&&At(c,d,O,E,g,le)}d=J,h=L,g=Re,Se!=null?eh(c,!!h,Se,!1):!!g!=!!h&&(d!=null?eh(c,!!h,d,!0):eh(c,!!h,h?[]:"",!1));return;case"textarea":Re=Se=null;for(J in h)if(O=h[J],h.hasOwnProperty(J)&&O!=null&&!g.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:At(c,d,J,null,g,O)}for(L in g)if(O=g[L],E=h[L],g.hasOwnProperty(L)&&(O!=null||E!=null))switch(L){case"value":Se=O;break;case"defaultValue":Re=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:O!==E&&At(c,d,L,O,g,E)}Ax(c,Se,Re);return;case"option":for(var Ge in h)Se=h[Ge],h.hasOwnProperty(Ge)&&Se!=null&&!g.hasOwnProperty(Ge)&&(Ge==="selected"?c.selected=!1:At(c,d,Ge,null,g,Se));for(le in g)Se=g[le],Re=h[le],g.hasOwnProperty(le)&&Se!==Re&&(Se!=null||Re!=null)&&(le==="selected"?c.selected=Se&&typeof Se!="function"&&typeof Se!="symbol":At(c,d,le,Se,g,Re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in h)Se=h[rt],h.hasOwnProperty(rt)&&Se!=null&&!g.hasOwnProperty(rt)&&At(c,d,rt,null,g,Se);for(Oe in g)if(Se=g[Oe],Re=h[Oe],g.hasOwnProperty(Oe)&&Se!==Re&&(Se!=null||Re!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,d));break;default:At(c,d,Oe,Se,g,Re)}return;default:if(w0(d)){for(var Nt in h)Se=h[Nt],h.hasOwnProperty(Nt)&&Se!==void 0&&!g.hasOwnProperty(Nt)&&sO(c,d,Nt,void 0,g,Se);for(je in g)Se=g[je],Re=h[je],!g.hasOwnProperty(je)||Se===Re||Se===void 0&&Re===void 0||sO(c,d,je,Se,g,Re);return}}for(var me in h)Se=h[me],h.hasOwnProperty(me)&&Se!=null&&!g.hasOwnProperty(me)&&At(c,d,me,null,g,Se);for(xe in g)Se=g[xe],Re=h[xe],!g.hasOwnProperty(xe)||Se===Re||Se==null&&Re==null||At(c,d,xe,Se,g,Re)}function zN(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wQ(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var O=h[g],E=O.transferSize,L=O.initiatorType,J=O.duration;if(E&&J&&zN(L)){for(L=0,J=O.responseEnd,g+=1;g<h.length;g++){var le=h[g],Oe=le.startTime;if(Oe>J)break;var je=le.transferSize,xe=le.initiatorType;je&&zN(xe)&&(le=le.responseEnd,L+=je*(le<J?1:(J-Oe)/(le-Oe)))}if(--g,d+=8*(E+L)/(O.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var uO=null,lO=null;function Py(c){return c.nodeType===9?c:c.ownerDocument}function qN(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BN(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function cO(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var dO=null;function OQ(){var c=window.event;return c&&c.type==="popstate"?c===dO?!1:(dO=c,!0):(dO=null,!1)}var LN=typeof setTimeout=="function"?setTimeout:void 0,SQ=typeof clearTimeout=="function"?clearTimeout:void 0,UN=typeof Promise=="function"?Promise:void 0,EQ=typeof queueMicrotask=="function"?queueMicrotask:typeof UN<"u"?function(c){return UN.resolve(null).then(c).catch(RQ)}:LN;function RQ(c){setTimeout(function(){throw c})}function Mc(c){return c==="head"}function $N(c,d){var h=d,g=0;do{var O=h.nextSibling;if(c.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(g===0){c.removeChild(O),Ah(d);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")eg(c.ownerDocument.documentElement);else if(h==="head"){h=c.ownerDocument.head,eg(h);for(var E=h.firstChild;E;){var L=E.nextSibling,J=E.nodeName;E[yp]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=L}}else h==="body"&&eg(c.ownerDocument.body);h=O}while(h);Ah(d)}function FN(c,d){var h=c;c=0;do{var g=h.nextSibling;if(h.nodeType===1?d?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(d?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(c===0)break;c--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||c++;h=g}while(h)}function fO(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var h=d;switch(d=d.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":fO(h),_0(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}c.removeChild(h)}}function jQ(c,d,h,g){for(;c.nodeType===1;){var O=h;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!g&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(g){if(!c[yp])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(E=c.getAttribute("rel"),E==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(E!==O.rel||c.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||c.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||c.getAttribute("title")!==(O.title==null?null:O.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(E=c.getAttribute("src"),(E!==(O.src==null?null:O.src)||c.getAttribute("type")!==(O.type==null?null:O.type)||c.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&E&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var E=O.name==null?null:""+O.name;if(O.type==="hidden"&&c.getAttribute("name")===E)return c}else return c;if(c=Nn(c.nextSibling),c===null)break}return null}function CQ(c,d,h){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=Nn(c.nextSibling),c===null))return null;return c}function VN(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=Nn(c.nextSibling),c===null))return null;return c}function hO(c){return c.data==="$?"||c.data==="$~"}function pO(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function TQ(c,d){var h=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||h.readyState!=="loading")d();else{var g=function(){d(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),c._reactRetry=g}}function Nn(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var gO=null;function GN(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var h=c.data;if(h==="/$"||h==="/&"){if(d===0)return Nn(c.nextSibling);d--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||d++}c=c.nextSibling}return null}function HN(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var h=c.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(d===0)return c;d--}else h!=="/$"&&h!=="/&"||d++}c=c.previousSibling}return null}function KN(c,d,h){switch(d=Py(h),c){case"html":if(c=d.documentElement,!c)throw Error(i(452));return c;case"head":if(c=d.head,!c)throw Error(i(453));return c;case"body":if(c=d.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function eg(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);_0(c)}var Dn=new Map,kN=new Set;function Ay(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Hl=k.d;k.d={f:MQ,r:xQ,D:PQ,C:AQ,L:NQ,m:DQ,X:zQ,S:IQ,M:qQ};function MQ(){var c=Hl.f(),d=Sy();return c||d}function xQ(c){var d=Zf(c);d!==null&&d.tag===5&&d.type==="form"?cA(d):Hl.r(c)}var Mh=typeof document>"u"?null:document;function YN(c,d,h){var g=Mh;if(g&&typeof d=="string"&&d){var O=jn(d);O='link[rel="'+c+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),kN.has(O)||(kN.add(O),c={rel:c,crossOrigin:h,href:d},g.querySelector(O)===null&&(d=g.createElement("link"),wr(d,"link",c),fr(d),g.head.appendChild(d)))}}function PQ(c){Hl.D(c),YN("dns-prefetch",c,null)}function AQ(c,d){Hl.C(c,d),YN("preconnect",c,d)}function NQ(c,d,h){Hl.L(c,d,h);var g=Mh;if(g&&c&&d){var O='link[rel="preload"][as="'+jn(d)+'"]';d==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+jn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+jn(h.imageSizes)+'"]')):O+='[href="'+jn(c)+'"]';var E=O;switch(d){case"style":E=xh(c);break;case"script":E=Ph(c)}Dn.has(E)||(c=m({rel:"preload",href:d==="image"&&h&&h.imageSrcSet?void 0:c,as:d},h),Dn.set(E,c),g.querySelector(O)!==null||d==="style"&&g.querySelector(tg(E))||d==="script"&&g.querySelector(rg(E))||(d=g.createElement("link"),wr(d,"link",c),fr(d),g.head.appendChild(d)))}}function DQ(c,d){Hl.m(c,d);var h=Mh;if(h&&c){var g=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+jn(g)+'"][href="'+jn(c)+'"]',E=O;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ph(c)}if(!Dn.has(E)&&(c=m({rel:"modulepreload",href:c},d),Dn.set(E,c),h.querySelector(O)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(rg(E)))return}g=h.createElement("link"),wr(g,"link",c),fr(g),h.head.appendChild(g)}}}function IQ(c,d,h){Hl.S(c,d,h);var g=Mh;if(g&&c){var O=Qf(g).hoistableStyles,E=xh(c);d=d||"default";var L=O.get(E);if(!L){var J={loading:0,preload:null};if(L=g.querySelector(tg(E)))J.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":d},h),(h=Dn.get(E))&&mO(c,h);var le=L=g.createElement("link");fr(le),wr(le,"link",c),le._p=new Promise(function(Oe,je){le.onload=Oe,le.onerror=je}),le.addEventListener("load",function(){J.loading|=1}),le.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Ny(L,d,g)}L={type:"stylesheet",instance:L,count:1,state:J},O.set(E,L)}}}function zQ(c,d){Hl.X(c,d);var h=Mh;if(h&&c){var g=Qf(h).hoistableScripts,O=Ph(c),E=g.get(O);E||(E=h.querySelector(rg(O)),E||(c=m({src:c,async:!0},d),(d=Dn.get(O))&&_O(c,d),E=h.createElement("script"),fr(E),wr(E,"link",c),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(O,E))}}function qQ(c,d){Hl.M(c,d);var h=Mh;if(h&&c){var g=Qf(h).hoistableScripts,O=Ph(c),E=g.get(O);E||(E=h.querySelector(rg(O)),E||(c=m({src:c,async:!0,type:"module"},d),(d=Dn.get(O))&&_O(c,d),E=h.createElement("script"),fr(E),wr(E,"link",c),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(O,E))}}function WN(c,d,h,g){var O=(O=V.current)?Ay(O):null;if(!O)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(d=xh(h.href),h=Qf(O).hoistableStyles,g=h.get(d),g||(g={type:"style",instance:null,count:0,state:null},h.set(d,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){c=xh(h.href);var E=Qf(O).hoistableStyles,L=E.get(c);if(L||(O=O.ownerDocument||O,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(c,L),(E=O.querySelector(tg(c)))&&!E._p&&(L.instance=E,L.state.loading=5),Dn.has(c)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Dn.set(c,h),E||BQ(O,c,h,L.state))),d&&g===null)throw Error(i(528,""));return L}if(d&&g!==null)throw Error(i(529,""));return null;case"script":return d=h.async,h=h.src,typeof h=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Ph(h),h=Qf(O).hoistableScripts,g=h.get(d),g||(g={type:"script",instance:null,count:0,state:null},h.set(d,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function xh(c){return'href="'+jn(c)+'"'}function tg(c){return'link[rel="stylesheet"]['+c+"]"}function JN(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function BQ(c,d,h,g){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?g.loading=1:(d=c.createElement("link"),g.preload=d,d.addEventListener("load",function(){return g.loading|=1}),d.addEventListener("error",function(){return g.loading|=2}),wr(d,"link",h),fr(d),c.head.appendChild(d))}function Ph(c){return'[src="'+jn(c)+'"]'}function rg(c){return"script[async]"+c}function ZN(c,d,h){if(d.count++,d.instance===null)switch(d.type){case"style":var g=c.querySelector('style[data-href~="'+jn(h.href)+'"]');if(g)return d.instance=g,fr(g),g;var O=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(c.ownerDocument||c).createElement("style"),fr(g),wr(g,"style",O),Ny(g,h.precedence,c),d.instance=g;case"stylesheet":O=xh(h.href);var E=c.querySelector(tg(O));if(E)return d.state.loading|=4,d.instance=E,fr(E),E;g=JN(h),(O=Dn.get(O))&&mO(g,O),E=(c.ownerDocument||c).createElement("link"),fr(E);var L=E;return L._p=new Promise(function(J,le){L.onload=J,L.onerror=le}),wr(E,"link",g),d.state.loading|=4,Ny(E,h.precedence,c),d.instance=E;case"script":return E=Ph(h.src),(O=c.querySelector(rg(E)))?(d.instance=O,fr(O),O):(g=h,(O=Dn.get(E))&&(g=m({},h),_O(g,O)),c=c.ownerDocument||c,O=c.createElement("script"),fr(O),wr(O,"link",g),c.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(g=d.instance,d.state.loading|=4,Ny(g,h.precedence,c));return d.instance}function Ny(c,d,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=g.length?g[g.length-1]:null,E=O,L=0;L<g.length;L++){var J=g[L];if(J.dataset.precedence===d)E=J;else if(E!==O)break}E?E.parentNode.insertBefore(c,E.nextSibling):(d=h.nodeType===9?h.head:h,d.insertBefore(c,d.firstChild))}function mO(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function _O(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Dy=null;function QN(c,d,h){if(Dy===null){var g=new Map,O=Dy=new Map;O.set(h,g)}else O=Dy,g=O.get(h),g||(g=new Map,O.set(h,g));if(g.has(c))return g;for(g.set(c,null),h=h.getElementsByTagName(c),O=0;O<h.length;O++){var E=h[O];if(!(E[yp]||E[Qt]||c==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var L=E.getAttribute(d)||"";L=c+L;var J=g.get(L);J?J.push(E):g.set(L,[E])}}return g}function XN(c,d,h){c=c.ownerDocument||c,c.head.insertBefore(h,d==="title"?c.querySelector("head > title"):null)}function LQ(c,d,h){if(h===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;return d.rel==="stylesheet"?(c=d.disabled,typeof d.precedence=="string"&&c==null):!0;case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function eD(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function UQ(c,d,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=xh(g.href),E=d.querySelector(tg(O));if(E){d=E._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=Iy.bind(c),d.then(c,c)),h.state.loading|=4,h.instance=E,fr(E);return}E=d.ownerDocument||d,g=JN(g),(O=Dn.get(O))&&mO(g,O),E=E.createElement("link"),fr(E);var L=E;L._p=new Promise(function(J,le){L.onload=J,L.onerror=le}),wr(E,"link",g),h.instance=E}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(h,d),(d=h.state.preload)&&(h.state.loading&3)===0&&(c.count++,h=Iy.bind(c),d.addEventListener("load",h),d.addEventListener("error",h))}}var yO=0;function $Q(c,d){return c.stylesheets&&c.count===0&&qy(c,c.stylesheets),0<c.count||0<c.imgCount?function(h){var g=setTimeout(function(){if(c.stylesheets&&qy(c,c.stylesheets),c.unsuspend){var E=c.unsuspend;c.unsuspend=null,E()}},6e4+d);0<c.imgBytes&&yO===0&&(yO=62500*wQ());var O=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&qy(c,c.stylesheets),c.unsuspend)){var E=c.unsuspend;c.unsuspend=null,E()}},(c.imgBytes>yO?50:800)+d);return c.unsuspend=h,function(){c.unsuspend=null,clearTimeout(g),clearTimeout(O)}}:null}function Iy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qy(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var zy=null;function qy(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,zy=new Map,d.forEach(FQ,c),zy=null,Iy.call(c))}function FQ(c,d){if(!(d.state.loading&4)){var h=zy.get(c);if(h)var g=h.get(null);else{h=new Map,zy.set(c,h);for(var O=c.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<O.length;E++){var L=O[E];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(h.set(L.dataset.precedence,L),g=L)}g&&h.set(null,g)}O=d.instance,L=O.getAttribute("data-precedence"),E=h.get(L)||g,E===g&&h.set(null,O),h.set(L,O),this.count++,g=Iy.bind(this),O.addEventListener("load",g),O.addEventListener("error",g),E?E.parentNode.insertBefore(O,E.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(O,c.firstChild)),d.state.loading|=4}}var ng={$$typeof:j,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function VQ(c,d,h,g,O,E,L,J,le){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.hiddenUpdates=se(null),this.identifierPrefix=g,this.onUncaughtError=O,this.onCaughtError=E,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function tD(c,d,h,g,O,E,L,J,le,Oe,je,xe){return c=new VQ(c,d,h,L,le,Oe,je,xe,J),d=1,E===!0&&(d|=24),E=Xr(3,null,null,d),c.current=E,E.stateNode=c,d=Z0(),d.refCount++,c.pooledCache=d,d.refCount++,E.memoizedState={element:g,isDehydrated:h,cache:d},tw(E),c}function rD(c){return c?(c=uh,c):uh}function nD(c,d,h,g,O,E){O=rD(O),g.context===null?g.context=O:g.pendingContext=O,g=yc(d),g.payload={element:h},E=E===void 0?null:E,E!==null&&(g.callback=E),h=vc(c,g,d),h!==null&&(Fr(h,c,d),Ip(h,c,d))}function aD(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var h=c.retryLane;c.retryLane=h!==0&&h<d?h:d}}function vO(c,d){aD(c,d),(c=c.alternate)&&aD(c,d)}function iD(c){if(c.tag===13||c.tag===31){var d=_d(c,67108864);d!==null&&Fr(d,c,67108864),vO(c,67108864)}}function oD(c){if(c.tag===13||c.tag===31){var d=an();d=Wf(d);var h=_d(c,d);h!==null&&Fr(h,c,d),vO(c,d)}}var By=!0;function GQ(c,d,h,g){var O=$.T;$.T=null;var E=k.p;try{k.p=2,bO(c,d,h,g)}finally{k.p=E,$.T=O}}function HQ(c,d,h,g){var O=$.T;$.T=null;var E=k.p;try{k.p=8,bO(c,d,h,g)}finally{k.p=E,$.T=O}}function bO(c,d,h,g){if(By){var O=wO(g);if(O===null)oO(c,d,g,Ly,h),uD(c,g);else if(kQ(O,c,d,h,g))g.stopPropagation();else if(uD(c,g),d&4&&-1<KQ.indexOf(c)){for(;O!==null;){var E=Zf(O);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var L=Rl(E.pendingLanes);if(L!==0){var J=E;for(J.pendingLanes|=2,J.entangledLanes|=2;L;){var le=1<<31-lt(L);J.entanglements[1]|=le,L&=~le}pl(E),(jt&6)===0&&(wy=$e()+500,Zp(0))}}break;case 31:case 13:J=_d(E,2),J!==null&&Fr(J,E,2),Sy(),vO(E,2)}if(E=wO(g),E===null&&oO(c,d,g,Ly,h),E===O)break;O=E}O!==null&&g.stopPropagation()}else oO(c,d,g,null,h)}}function wO(c){return c=S0(c),OO(c)}var Ly=null;function OO(c){if(Ly=null,c=Jf(c),c!==null){var d=t(c);if(d===null)c=null;else{var h=d.tag;if(h===13){if(c=r(d),c!==null)return c;c=null}else if(h===31){if(c=a(d),c!==null)return c;c=null}else if(h===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Ly=c,null}function sD(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case ze:return 2;case G:return 8;case N:case z:return 32;case ne:return 268435456;default:return 32}default:return 32}}var SO=!1,xc=null,Pc=null,Ac=null,ag=new Map,ig=new Map,Nc=[],KQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uD(c,d){switch(c){case"focusin":case"focusout":xc=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":ag.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ig.delete(d.pointerId)}}function og(c,d,h,g,O,E){return c===null||c.nativeEvent!==E?(c={blockedOn:d,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[O]},d!==null&&(d=Zf(d),d!==null&&iD(d)),c):(c.eventSystemFlags|=g,d=c.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),c)}function kQ(c,d,h,g,O){switch(d){case"focusin":return xc=og(xc,c,d,h,g,O),!0;case"dragenter":return Pc=og(Pc,c,d,h,g,O),!0;case"mouseover":return Ac=og(Ac,c,d,h,g,O),!0;case"pointerover":var E=O.pointerId;return ag.set(E,og(ag.get(E)||null,c,d,h,g,O)),!0;case"gotpointercapture":return E=O.pointerId,ig.set(E,og(ig.get(E)||null,c,d,h,g,O)),!0}return!1}function lD(c){var d=Jf(c.target);if(d!==null){var h=t(d);if(h!==null){if(d=h.tag,d===13){if(d=r(h),d!==null){c.blockedOn=d,A_(c.priority,function(){oD(h)});return}}else if(d===31){if(d=a(h),d!==null){c.blockedOn=d,A_(c.priority,function(){oD(h)});return}}else if(d===3&&h.stateNode.current.memoizedState.isDehydrated){c.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Uy(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var h=wO(c.nativeEvent);if(h===null){h=c.nativeEvent;var g=new h.constructor(h.type,h);O0=g,h.target.dispatchEvent(g),O0=null}else return d=Zf(h),d!==null&&iD(d),c.blockedOn=h,!1;d.shift()}return!0}function cD(c,d,h){Uy(c)&&h.delete(d)}function YQ(){SO=!1,xc!==null&&Uy(xc)&&(xc=null),Pc!==null&&Uy(Pc)&&(Pc=null),Ac!==null&&Uy(Ac)&&(Ac=null),ag.forEach(cD),ig.forEach(cD)}function $y(c,d){c.blockedOn===d&&(c.blockedOn=null,SO||(SO=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YQ)))}var Fy=null;function dD(c){Fy!==c&&(Fy=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Fy===c&&(Fy=null);for(var d=0;d<c.length;d+=3){var h=c[d],g=c[d+1],O=c[d+2];if(typeof g!="function"){if(OO(g||h)===null)continue;break}var E=Zf(h);E!==null&&(c.splice(d,3),d-=3,ww(E,{pending:!0,data:O,method:h.method,action:g},g,O))}}))}function Ah(c){function d(le){return $y(le,c)}xc!==null&&$y(xc,c),Pc!==null&&$y(Pc,c),Ac!==null&&$y(Ac,c),ag.forEach(d),ig.forEach(d);for(var h=0;h<Nc.length;h++){var g=Nc[h];g.blockedOn===c&&(g.blockedOn=null)}for(;0<Nc.length&&(h=Nc[0],h.blockedOn===null);)lD(h),h.blockedOn===null&&Nc.shift();if(h=(c.ownerDocument||c).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var O=h[g],E=h[g+1],L=O[dr]||null;if(typeof E=="function")L||dD(h);else if(L){var J=null;if(E&&E.hasAttribute("formAction")){if(O=E,L=E[dr]||null)J=L.formAction;else if(OO(O)!==null)continue}else J=L.action;typeof J=="function"?h[g+1]=J:(h.splice(g,3),g-=3),dD(h)}}}function fD(){function c(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(L){return O=L})},focusReset:"manual",scroll:"manual"})}function d(){O!==null&&(O(),O=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,O=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),O!==null&&(O(),O=null)}}}function EO(c){this._internalRoot=c}Vy.prototype.render=EO.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(i(409));var h=d.current,g=an();nD(h,g,c,d,null,null)},Vy.prototype.unmount=EO.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;nD(c.current,2,null,c,null,null),Sy(),d[cl]=null}};function Vy(c){this._internalRoot=c}Vy.prototype.unstable_scheduleHydration=function(c){if(c){var d=_p();c={blockedOn:null,target:c,priority:d};for(var h=0;h<Nc.length&&d!==0&&d<Nc[h].priority;h++);Nc.splice(h,0,c),h===0&&lD(c)}};var hD=n.version;if(hD!=="19.2.3")throw Error(i(527,hD,"19.2.3"));k.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=l(d),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var WQ={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gy.isDisabled&&Gy.supportsFiber)try{Te=Gy.inject(WQ),tt=Gy}catch{}}return ug.createRoot=function(c,d){if(!u(c))throw Error(i(299));var h=!1,g="",O=bA,E=wA,L=OA;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(E=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError)),d=tD(c,1,!1,null,null,h,g,null,O,E,L,fD),c[cl]=d.current,iO(c),new EO(d)},ug.hydrateRoot=function(c,d,h){if(!u(c))throw Error(i(299));var g=!1,O="",E=bA,L=wA,J=OA,le=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(L=h.onCaughtError),h.onRecoverableError!==void 0&&(J=h.onRecoverableError),h.formState!==void 0&&(le=h.formState)),d=tD(c,1,!0,d,h??null,g,O,le,E,L,J,fD),d.context=rD(null),h=d.current,g=an(),g=Wf(g),O=yc(g),O.callback=null,vc(h,O,g),h=g,d.current.lanes=h,qe(d,h),pl(d),c[cl]=d.current,iO(c),new Vy(d)},ug.version="19.2.3",ug}var SD;function iX(){if(SD)return CO.exports;SD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),CO.exports=aX(),CO.exports}var oX=iX();const sX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,o,i)=>i?i.toUpperCase():o.toLowerCase()),ED=e=>{const n=uX(e);return n.charAt(0).toUpperCase()+n.slice(1)},NV=(...e)=>e.filter((n,o,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===o).join(" ").trim(),lX=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var cX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dX=Ze.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:u="",children:t,iconNode:r,...a},s)=>Ze.createElement("svg",{ref:s,...cX,width:n,height:n,stroke:e,strokeWidth:i?Number(o)*24/Number(n):o,className:NV("lucide",u),...!t&&!lX(a)&&{"aria-hidden":"true"},...a},[...r.map(([l,f])=>Ze.createElement(l,f)),...Array.isArray(t)?t:[t]]));const _t=(e,n)=>{const o=Ze.forwardRef(({className:i,...u},t)=>Ze.createElement(dX,{ref:t,iconNode:n,className:NV(`lucide-${sX(ED(e))}`,`lucide-${e}`,i),...u}));return o.displayName=ED(e),o};const fX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hX=_t("arrow-right",fX);const pX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Gf=_t("book-open",pX);const gX=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],DV=_t("brain",gX);const mX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_X=_t("check",mX);const yX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ib=_t("chevron-down",yX);const vX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],IV=_t("circle-alert",vX);const bX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zV=_t("circle-check-big",bX);const wX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OX=_t("circle-check",wX);const SX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EX=_t("circle",SX);const RX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],FT=_t("database",RX);const jX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],CX=_t("external-link",jX);const TX=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],L1=_t("github",TX);const MX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],xX=_t("globe",MX);const PX=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],AX=_t("instagram",PX);const NX=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],DX=_t("key",NX);const IX=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zX=_t("layers",IX);const qX=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],BX=_t("link",qX);const LX=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],UX=_t("linkedin",LX);const $X=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qV=_t("loader-circle",$X);const FX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],VX=_t("menu",FX);const GX=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],RD=_t("message-circle",GX);const HX=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],KX=_t("moon",HX);const kX=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],BV=_t("network",kX);const YX=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],WX=_t("play",YX);const JX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jD=_t("search",JX);const ZX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LV=_t("settings",ZX);const QX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],VT=_t("sparkles",QX);const XX=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eee=_t("sun",XX);const tee=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],ree=_t("terminal",tee);const nee=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],aee=_t("twitter",nee);const iee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UV=_t("users",iee);const oee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$V=_t("x",oee);const see=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],uee=_t("youtube",see);const lee=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cee=_t("zap",lee),CD=e=>{let n;const o=new Set,i=(l,f)=>{const m=typeof l=="function"?l(n):l;if(!Object.is(m,n)){const b=n;n=f??(typeof m!="object"||m===null)?m:Object.assign({},n,m),o.forEach(_=>_(n,b))}},u=()=>n,a={setState:i,getState:u,getInitialState:()=>s,subscribe:l=>(o.add(l),()=>o.delete(l))},s=n=e(i,u,a);return a},dee=(e=>e?CD(e):CD),fee=e=>e;function hee(e,n=fee){const o=_l.useSyncExternalStore(e.subscribe,_l.useCallback(()=>n(e.getState()),[e,n]),_l.useCallback(()=>n(e.getInitialState()),[e,n]));return _l.useDebugValue(o),o}const pee=e=>{const n=dee(e),o=i=>hee(n,i);return Object.assign(o,n),o},gee=(e=>pee);function mee(e,n){let o;try{o=e()}catch{return}return{getItem:u=>{var t;const r=s=>s===null?null:JSON.parse(s,void 0),a=(t=o.getItem(u))!=null?t:null;return a instanceof Promise?a.then(r):r(a)},setItem:(u,t)=>o.setItem(u,JSON.stringify(t,void 0)),removeItem:u=>o.removeItem(u)}}const U1=e=>n=>{try{const o=e(n);return o instanceof Promise?o:{then(i){return U1(i)(o)},catch(i){return this}}}catch(o){return{then(i){return this},catch(i){return U1(i)(o)}}}},_ee=(e,n)=>(o,i,u)=>{let t={storage:mee(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...n},r=!1;const a=new Set,s=new Set;let l=t.storage;if(!l)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),o(...y)},i,u);const f=()=>{const y=t.partialize({...i()});return l.setItem(t.name,{state:y,version:t.version})},m=u.setState;u.setState=(y,v)=>(m(y,v),f());const b=e((...y)=>(o(...y),f()),i,u);u.getInitialState=()=>b;let _;const p=()=>{var y,v;if(!l)return;r=!1,a.forEach(R=>{var j;return R((j=i())!=null?j:b)});const S=((v=t.onRehydrateStorage)==null?void 0:v.call(t,(y=i())!=null?y:b))||void 0;return U1(l.getItem.bind(l))(t.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==t.version){if(t.migrate){const j=t.migrate(R.state,R.version);return j instanceof Promise?j.then(A=>[!0,A]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var j;const[A,x]=R;if(_=t.merge(x,(j=i())!=null?j:b),o(_,!0),A)return f()}).then(()=>{S?.(_,void 0),_=i(),r=!0,s.forEach(R=>R(_))}).catch(R=>{S?.(void 0,R)})};return u.persist={setOptions:y=>{t={...t,...y},y.storage&&(l=y.storage)},clearStorage:()=>{l?.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>p(),hasHydrated:()=>r,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(s.add(y),()=>{s.delete(y)})},t.skipHydration||p(),_||b},yee=_ee,Nr=gee()(yee(e=>({apiKey:null,provider:"groq",selectedModel:"llama-3.1-8b-instant",availableModels:[],currentLab:1,labProgress:{},language:"en",theme:"dark",setApiKey:(n,o)=>{e({apiKey:n,provider:o,selectedModel:o==="groq"?"llama-3.1-8b-instant":"command-a-03-2025"})},setSelectedModel:n=>e({selectedModel:n}),setAvailableModels:n=>e({availableModels:n}),setCurrentLab:n=>e({currentLab:n}),markLabComplete:n=>e(o=>({labProgress:{...o.labProgress,[n]:!0}})),markLabCompleteAndAdvance:(n,o)=>e(i=>{const u=n<o?n+1:n;return{labProgress:{...i.labProgress,[n]:!0},currentLab:u}}),setLanguage:n=>e({language:n}),setTheme:n=>e({theme:n})}),{name:"agents-training-storage"}));function vee({labs:e}){const{currentLab:n,labProgress:o,setCurrentLab:i}=Nr();return C.jsxs("nav",{className:"relative h-full overflow-y-auto bg-gradient-to-b from-slate-900/95 via-blue-900/30 to-purple-900/30 backdrop-blur-xl border-r border-cyan-500/20",children:[C.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(5)].map((u,t)=>C.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*10}s`,animationDuration:`${15+Math.random()*5}s`}},t))}),C.jsxs("div",{className:"relative p-6",children:[C.jsxs("div",{className:"mb-6 pb-6 border-b border-cyan-500/30",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[C.jsx("div",{className:"relative w-10 h-10 rounded-full bg-gradient-to-br from-cyan-500 via-purple-500 to-pink-500 p-0.5",style:{boxShadow:"0 0 20px rgba(0, 212, 255, 0.6), 0 0 30px rgba(168, 85, 247, 0.4)"},children:C.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-transparent",children:C.jsx("img",{src:"round-avatar.jpg",alt:"AI Avatar",className:"w-full h-full object-contain"})})}),C.jsx("h2",{className:"text-xl font-bold heading-font neon-cyan tracking-wider",children:"AI AGENTS 101"})]}),C.jsx("p",{className:"text-sm text-gradient-gold font-semibold tracking-wide",children:"by Yuval Avidani  YUV.AI"})]}),C.jsx("div",{className:"space-y-2",children:e.map(u=>{const t=n===u.id,r=o[u.id];return C.jsx("button",{onClick:()=>i(u.id),className:`w-full text-left px-4 py-3 rounded-xl transition-all hover-lift relative overflow-hidden ${t?"bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border-2 border-cyan-400 shadow-neural":"glass border border-white/10 hover:glass-strong hover:border-cyan-500/50"}`,style:t?{boxShadow:"0 0 20px rgba(0, 212, 255, 0.3)"}:{},children:C.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[r?C.jsx(zV,{className:`w-5 h-5 flex-shrink-0 ${t?"text-green-400":"text-green-500"}`,style:{filter:"drop-shadow(0 0 8px rgba(34, 197, 94, 0.8))"}}):C.jsx(EX,{className:`w-5 h-5 flex-shrink-0 ${t?"text-cyan-400":"text-white/40"}`}),C.jsxs("div",{children:[C.jsxs("div",{className:`text-sm font-bold ${t?"neon-cyan":"text-white"}`,children:["LAB ",u.id]}),C.jsx("div",{className:`text-xs ${t?"text-white font-medium":"text-white/60"}`,children:u.title})]})]})},u.id)})})]})]})}const bee={"llama-3.1-8b-instant":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"mistral-saba-24b":{maxInputTokens:32768,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-8b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen-qwq-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-70b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"deepseek-r1-distill-llama-70b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-guard-3-8b":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1},"gemma2-9b-it":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-3.3-70b-versatile":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct-0905":{maxInputTokens:262144,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-20b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-120b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen/qwen3-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-scout-17b-16e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-maverick-17b-128e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-guard-4-12b":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:128,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1}};var wee=bee,Oee=Object.defineProperty,ct=(e,n)=>{for(var o in n)Oee(e,o,{get:n[o],enumerable:!0})};function lp(e,n,o){function i(a,s){var l;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(l=a._zod).traits??(l.traits=new Set),a._zod.traits.add(e),n(a,s);for(const f in r.prototype)f in a||Object.defineProperty(a,f,{value:r.prototype[f].bind(a)});a._zod.constr=r,a._zod.def=s}const u=o?.Parent??Object;class t extends u{}Object.defineProperty(t,"name",{value:e});function r(a){var s;const l=o?.Parent?new t:this;i(l,a),(s=l._zod).deferred??(s.deferred=[]);for(const f of l._zod.deferred)f();return l}return Object.defineProperty(r,"init",{value:i}),Object.defineProperty(r,Symbol.hasInstance,{value:a=>o?.Parent&&a instanceof o.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(r,"name",{value:e}),r}class ob extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const See={};function Cb(e){return See}function Eee(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,u])=>n.indexOf(+i)===-1).map(([i,u])=>u)}function Ree(e,n){return typeof n=="bigint"?n.toString():n}function jee(e){const n=e.startsWith("^")?1:0,o=e.endsWith("$")?e.length-1:e.length;return e.slice(n,o)}function TD(e,n,o){Object.defineProperty(e,n,{get(){{const i=o();return e[n]=i,i}},set(i){Object.defineProperty(e,n,{value:i})},configurable:!0})}function Cee(e,n,o){Object.defineProperty(e,n,{value:o,writable:!0,enumerable:!0,configurable:!0})}const FV=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function MD(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Tee(e){if(MD(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const o=n.prototype;return!(MD(o)===!1||Object.prototype.hasOwnProperty.call(o,"isPrototypeOf")===!1)}function el(e,n,o){const i=new e._zod.constr(n??e._zod.def);return(!n||o?.parent)&&(i._zod.parent=e),i}function Mee(e){return{}}function xee(e,n){if(!Tee(n))throw new Error("Invalid input to extend: expected a plain object");const o={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return Cee(this,"shape",i),i},checks:[]};return el(e,o)}function Pee(e,n,o){const i=n._zod.def.shape,u={...i};for(const t in i)u[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return el(n,{...n._zod.def,shape:u,checks:[]})}function PO(e,n=0){for(let o=n;o<e.issues.length;o++)if(e.issues[o]?.continue!==!0)return!0;return!1}function Hy(e){return typeof e=="string"?e:e?.message}function Tb(e,n,o){const i={...e,path:e.path??[]};if(!e.message){const u=Hy(e.inst?._zod.def?.error?.(e))??Hy(n?.error?.(e))??Hy(o.customError?.(e))??Hy(o.localeError?.(e))??"Invalid input";i.message=u}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}const VV=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(n,Ree,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Aee=lp("$ZodError",VV),Mb=lp("$ZodError",VV,{Parent:Error}),Nee=e=>(n,o,i,u)=>{const t=i?Object.assign(i,{async:!1}):{async:!1},r=n._zod.run({value:o,issues:[]},t);if(r instanceof Promise)throw new ob;if(r.issues.length){const a=new(u?.Err??e)(r.issues.map(s=>Tb(s,t,Cb())));throw FV(a,u?.callee),a}return r.value},GT=Nee(Mb),Dee=e=>async(n,o,i,u)=>{const t=i?Object.assign(i,{async:!0}):{async:!0};let r=n._zod.run({value:o,issues:[]},t);if(r instanceof Promise&&(r=await r),r.issues.length){const a=new(u?.Err??e)(r.issues.map(s=>Tb(s,t,Cb())));throw FV(a,u?.callee),a}return r.value},GV=Dee(Mb),Iee=e=>(n,o,i)=>{const u=i?{...i,async:!1}:{async:!1},t=n._zod.run({value:o,issues:[]},u);if(t instanceof Promise)throw new ob;return t.issues.length?{success:!1,error:new(e??Aee)(t.issues.map(r=>Tb(r,u,Cb())))}:{success:!0,data:t.value}},zee=Iee(Mb),qee=e=>async(n,o,i)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let t=n._zod.run({value:o,issues:[]},u);return t instanceof Promise&&(t=await t),t.issues.length?{success:!1,error:new e(t.issues.map(r=>Tb(r,u,Cb())))}:{success:!0,data:t.value}},Bee=qee(Mb),Lee={major:4,minor:0,patch:0},HT=lp("$ZodType",(e,n)=>{var o;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=Lee;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const u of i)for(const t of u._zod.onattach)t(e);if(i.length===0)(o=e._zod).deferred??(o.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const u=(t,r,a)=>{let s=PO(t),l;for(const f of r){if(f._zod.def.when){if(!f._zod.def.when(t))continue}else if(s)continue;const m=t.issues.length,b=f._zod.check(t);if(b instanceof Promise&&a?.async===!1)throw new ob;if(l||b instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await b,t.issues.length!==m&&(s||(s=PO(t,m)))});else{if(t.issues.length===m)continue;s||(s=PO(t,m))}}return l?l.then(()=>t):t};e._zod.run=(t,r)=>{const a=e._zod.parse(t,r);if(a instanceof Promise){if(r.async===!1)throw new ob;return a.then(s=>u(s,i,r))}return u(a,i,r)}}e["~standard"]={validate:u=>{try{const t=zee(e,u);return t.success?{value:t.data}:{issues:t.error?.issues}}catch{return Bee(e,u).then(r=>r.success?{value:r.data}:{issues:r.error?.issues})}},vendor:"zod",version:1}}),Uee=lp("$ZodUnknown",(e,n)=>{HT.init(e,n),e._zod.parse=o=>o}),$ee=lp("$ZodNever",(e,n)=>{HT.init(e,n),e._zod.parse=(o,i)=>(o.issues.push({expected:"never",code:"invalid_type",input:o.value,inst:e}),o)}),HV=lp("$ZodOptional",(e,n)=>{HT.init(e,n),e._zod.optin="optional",e._zod.optout="optional",TD(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),TD(e._zod,"pattern",()=>{const o=n.innerType._zod.pattern;return o?new RegExp(`^(${jee(o.source)})?$`):void 0}),e._zod.parse=(o,i)=>n.innerType._zod.optin==="optional"?n.innerType._zod.run(o,i):o.value===void 0?o:n.innerType._zod.run(o,i)});class KV{constructor(){this._map=new Map,this._idmap=new Map}add(n,...o){const i=o[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(n){const o=this._map.get(n);return o&&typeof o=="object"&&"id"in o&&this._idmap.delete(o.id),this._map.delete(n),this}get(n){const o=n._zod.parent;if(o){const i={...this.get(o)??{}};return delete i.id,{...i,...this._map.get(n)}}return this._map.get(n)}has(n){return this._map.has(n)}}function Fee(){return new KV}const kr=Fee();function Vee(e){return new e({type:"unknown"})}function Gee(e,n){return new e({type:"never",...Mee()})}class xD{constructor(n){this.counter=0,this.metadataRegistry=n?.metadata??kr,this.target=n?.target??"draft-2020-12",this.unrepresentable=n?.unrepresentable??"throw",this.override=n?.override??(()=>{}),this.io=n?.io??"output",this.seen=new Map}process(n,o={path:[],schemaPath:[]}){var i;const u=n._zod.def,t={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},r=this.seen.get(n);if(r)return r.count++,o.schemaPath.includes(n)&&(r.cycle=o.path),r.schema;const a={schema:{},count:1,cycle:void 0,path:o.path};this.seen.set(n,a);const s=n._zod.toJSONSchema?.();if(s)a.schema=s;else{const m={...o,schemaPath:[...o.schemaPath,n],path:o.path},b=n._zod.parent;if(b)a.ref=b,this.process(b,m),this.seen.get(b).isParent=!0;else{const _=a.schema;switch(u.type){case"string":{const p=_;p.type="string";const{minimum:y,maximum:v,format:S,patterns:R,contentEncoding:j}=n._zod.bag;if(typeof y=="number"&&(p.minLength=y),typeof v=="number"&&(p.maxLength=v),S&&(p.format=t[S]??S,p.format===""&&delete p.format),j&&(p.contentEncoding=j),R&&R.size>0){const A=[...R];A.length===1?p.pattern=A[0].source:A.length>1&&(a.schema.allOf=[...A.map(x=>({...this.target==="draft-7"?{type:"string"}:{},pattern:x.source}))])}break}case"number":{const p=_,{minimum:y,maximum:v,format:S,multipleOf:R,exclusiveMaximum:j,exclusiveMinimum:A}=n._zod.bag;typeof S=="string"&&S.includes("int")?p.type="integer":p.type="number",typeof A=="number"&&(p.exclusiveMinimum=A),typeof y=="number"&&(p.minimum=y,typeof A=="number"&&(A>=y?delete p.minimum:delete p.exclusiveMinimum)),typeof j=="number"&&(p.exclusiveMaximum=j),typeof v=="number"&&(p.maximum=v,typeof j=="number"&&(j<=v?delete p.maximum:delete p.exclusiveMaximum)),typeof R=="number"&&(p.multipleOf=R);break}case"boolean":{const p=_;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{_.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{_.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const p=_,{minimum:y,maximum:v}=n._zod.bag;typeof y=="number"&&(p.minItems=y),typeof v=="number"&&(p.maxItems=v),p.type="array",p.items=this.process(u.element,{...m,path:[...m.path,"items"]});break}case"object":{const p=_;p.type="object",p.properties={};const y=u.shape;for(const R in y)p.properties[R]=this.process(y[R],{...m,path:[...m.path,"properties",R]});const v=new Set(Object.keys(y)),S=new Set([...v].filter(R=>{const j=u.shape[R]._zod;return this.io==="input"?j.optin===void 0:j.optout===void 0}));S.size>0&&(p.required=Array.from(S)),u.catchall?._zod.def.type==="never"?p.additionalProperties=!1:u.catchall?u.catchall&&(p.additionalProperties=this.process(u.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{const p=_;p.anyOf=u.options.map((y,v)=>this.process(y,{...m,path:[...m.path,"anyOf",v]}));break}case"intersection":{const p=_,y=this.process(u.left,{...m,path:[...m.path,"allOf",0]}),v=this.process(u.right,{...m,path:[...m.path,"allOf",1]}),S=j=>"allOf"in j&&Object.keys(j).length===1,R=[...S(y)?y.allOf:[y],...S(v)?v.allOf:[v]];p.allOf=R;break}case"tuple":{const p=_;p.type="array";const y=u.items.map((R,j)=>this.process(R,{...m,path:[...m.path,"prefixItems",j]}));if(this.target==="draft-2020-12"?p.prefixItems=y:p.items=y,u.rest){const R=this.process(u.rest,{...m,path:[...m.path,"items"]});this.target==="draft-2020-12"?p.items=R:p.additionalItems=R}u.rest&&(p.items=this.process(u.rest,{...m,path:[...m.path,"items"]}));const{minimum:v,maximum:S}=n._zod.bag;typeof v=="number"&&(p.minItems=v),typeof S=="number"&&(p.maxItems=S);break}case"record":{const p=_;p.type="object",p.propertyNames=this.process(u.keyType,{...m,path:[...m.path,"propertyNames"]}),p.additionalProperties=this.process(u.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const p=_,y=Eee(u.entries);y.every(v=>typeof v=="number")&&(p.type="number"),y.every(v=>typeof v=="string")&&(p.type="string"),p.enum=y;break}case"literal":{const p=_,y=[];for(const v of u.values)if(v===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof v=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");y.push(Number(v))}else y.push(v);if(y.length!==0)if(y.length===1){const v=y[0];p.type=v===null?"null":typeof v,p.const=v}else y.every(v=>typeof v=="number")&&(p.type="number"),y.every(v=>typeof v=="string")&&(p.type="string"),y.every(v=>typeof v=="boolean")&&(p.type="string"),y.every(v=>v===null)&&(p.type="null"),p.enum=y;break}case"file":{const p=_,y={type:"string",format:"binary",contentEncoding:"binary"},{minimum:v,maximum:S,mime:R}=n._zod.bag;v!==void 0&&(y.minLength=v),S!==void 0&&(y.maxLength=S),R?R.length===1?(y.contentMediaType=R[0],Object.assign(p,y)):p.anyOf=R.map(j=>({...y,contentMediaType:j})):Object.assign(p,y);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const p=this.process(u.innerType,m);_.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(u.innerType,m),a.ref=u.innerType;break}case"success":{const p=_;p.type="boolean";break}case"default":{this.process(u.innerType,m),a.ref=u.innerType,_.default=JSON.parse(JSON.stringify(u.defaultValue));break}case"prefault":{this.process(u.innerType,m),a.ref=u.innerType,this.io==="input"&&(_._prefault=JSON.parse(JSON.stringify(u.defaultValue)));break}case"catch":{this.process(u.innerType,m),a.ref=u.innerType;let p;try{p=u.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}_.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const p=_,y=n._zod.pattern;if(!y)throw new Error("Pattern not found in template literal");p.type="string",p.pattern=y.source;break}case"pipe":{const p=this.io==="input"?u.in._zod.def.type==="transform"?u.out:u.in:u.out;this.process(p,m),a.ref=p;break}case"readonly":{this.process(u.innerType,m),a.ref=u.innerType,_.readOnly=!0;break}case"promise":{this.process(u.innerType,m),a.ref=u.innerType;break}case"optional":{this.process(u.innerType,m),a.ref=u.innerType;break}case"lazy":{const p=n._zod.innerType;this.process(p,m),a.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const l=this.metadataRegistry.get(n);return l&&Object.assign(a.schema,l),this.io==="input"&&sr(n)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(n).schema}emit(n,o){const i={cycles:o?.cycles??"ref",reused:o?.reused??"inline",external:o?.external??void 0},u=this.seen.get(n);if(!u)throw new Error("Unprocessed schema. This is a bug in Zod.");const t=f=>{const m=this.target==="draft-2020-12"?"$defs":"definitions";if(i.external){const y=i.external.registry.get(f[0])?.id,v=i.external.uri??(R=>R);if(y)return{ref:v(y)};const S=f[1].defId??f[1].schema.id??`schema${this.counter++}`;return f[1].defId=S,{defId:S,ref:`${v("__shared")}#/${m}/${S}`}}if(f[1]===u)return{ref:"#"};const _=`#/${m}/`,p=f[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:_+p}},r=f=>{if(f[1].schema.$ref)return;const m=f[1],{ref:b,defId:_}=t(f);m.def={...m.schema},_&&(m.defId=_);const p=m.schema;for(const y in p)delete p[y];p.$ref=b};if(i.cycles==="throw")for(const f of this.seen.entries()){const m=f[1];if(m.cycle)throw new Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of this.seen.entries()){const m=f[1];if(n===f[0]){r(f);continue}if(i.external){const _=i.external.registry.get(f[0])?.id;if(n!==f[0]&&_){r(f);continue}}if(this.metadataRegistry.get(f[0])?.id){r(f);continue}if(m.cycle){r(f);continue}if(m.count>1&&i.reused==="ref"){r(f);continue}}const a=(f,m)=>{const b=this.seen.get(f),_=b.def??b.schema,p={..._};if(b.ref===null)return;const y=b.ref;if(b.ref=null,y){a(y,m);const v=this.seen.get(y).schema;v.$ref&&m.target==="draft-7"?(_.allOf=_.allOf??[],_.allOf.push(v)):(Object.assign(_,v),Object.assign(_,p))}b.isParent||this.override({zodSchema:f,jsonSchema:_,path:b.path??[]})};for(const f of[...this.seen.entries()].reverse())a(f[0],{target:this.target});const s={};if(this.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?s.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),i.external?.uri){const f=i.external.registry.get(n)?.id;if(!f)throw new Error("Schema is missing an `id` property");s.$id=i.external.uri(f)}Object.assign(s,u.def);const l=i.external?.defs??{};for(const f of this.seen.entries()){const m=f[1];m.def&&m.defId&&(l[m.defId]=m.def)}i.external||Object.keys(l).length>0&&(this.target==="draft-2020-12"?s.$defs=l:s.definitions=l);try{return JSON.parse(JSON.stringify(s))}catch{throw new Error("Error converting schema to JSON.")}}}function PD(e,n){if(e instanceof KV){const i=new xD(n),u={};for(const a of e._idmap.entries()){const[s,l]=a;i.process(l)}const t={},r={registry:e,uri:n?.uri,defs:u};for(const a of e._idmap.entries()){const[s,l]=a;t[s]=i.emit(l,{...n,external:r})}if(Object.keys(u).length>0){const a=i.target==="draft-2020-12"?"$defs":"definitions";t.__shared={[a]:u}}return{schemas:t}}const o=new xD(n);return o.process(e),o.emit(e,n)}function sr(e,n){const o=n??{seen:new Set};if(o.seen.has(e))return!1;o.seen.add(e);const u=e._zod.def;switch(u.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return sr(u.element,o);case"object":{for(const t in u.shape)if(sr(u.shape[t],o))return!0;return!1}case"union":{for(const t of u.options)if(sr(t,o))return!0;return!1}case"intersection":return sr(u.left,o)||sr(u.right,o);case"tuple":{for(const t of u.items)if(sr(t,o))return!0;return!!(u.rest&&sr(u.rest,o))}case"record":return sr(u.keyType,o)||sr(u.valueType,o);case"map":return sr(u.keyType,o)||sr(u.valueType,o);case"set":return sr(u.valueType,o);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return sr(u.innerType,o);case"lazy":return sr(u.getter(),o);case"default":return sr(u.innerType,o);case"prefault":return sr(u.innerType,o);case"custom":return!1;case"transform":return!0;case"pipe":return sr(u.in,o)||sr(u.out,o);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${u.type}`)}function Ht(e){if(typeof e!="object"||e===null)return!1;const n=e;if(!("_zod"in n))return!1;const o=n._zod;return typeof o=="object"&&o!==null&&"def"in o}function cr(e){if(typeof e!="object"||e===null)return!1;const n=e;if(!("_def"in n)||"_zod"in n)return!1;const o=n._def;return typeof o=="object"&&o!=null&&"typeName"in o}function Hee(e){return Ht(e)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),cr(e)}function Zc(e){return!e||typeof e!="object"||Array.isArray(e)?!1:!!(Ht(e)||cr(e))}function kV(e){return typeof e=="object"&&e!==null&&"_def"in e&&typeof e._def=="object"&&e._def!==null&&"typeName"in e._def&&e._def.typeName==="ZodLiteral"}function YV(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="literal":!1}function Kee(e){return!!(kV(e)||YV(e))}async function WV(e,n){if(Ht(e))try{return{success:!0,data:await GV(e,n)}}catch(o){return{success:!1,error:o}}if(cr(e))return await e.safeParseAsync(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function KT(e,n){if(Ht(e))return await GV(e,n);if(cr(e))return await e.parseAsync(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function kee(e,n){if(Ht(e))try{return{success:!0,data:GT(e,n)}}catch(o){return{success:!1,error:o}}if(cr(e))return e.safeParse(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Yee(e,n){if(Ht(e))return GT(e,n);if(cr(e))return e.parse(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function kT(e){if(Ht(e))return kr.get(e)?.description;if(cr(e)||"description"in e&&typeof e.description=="string")return e.description}function Wee(e){if(!Zc(e))return!1;if(cr(e)){const n=e._def;if(n.typeName==="ZodObject"){const o=e;return!o.shape||Object.keys(o.shape).length===0}if(n.typeName==="ZodRecord")return!0}if(Ht(e)){const n=e._zod.def;if(n.type==="object"){const o=e;return!o.shape||Object.keys(o.shape).length===0}if(n.type==="record")return!0}return typeof e=="object"&&e!==null&&!("shape"in e)}function JV(e){return Zc(e)?cr(e)?e._def.typeName==="ZodString":Ht(e)?e._zod.def.type==="string":!1:!1}function YT(e){return typeof e=="object"&&e!==null&&"_def"in e&&typeof e._def=="object"&&e._def!==null&&"typeName"in e._def&&e._def.typeName==="ZodObject"}function yl(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="object":!1}function xb(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="array":!1}function ZV(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="optional":!1}function QV(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="nullable":!1}function Jee(e){return!!(YT(e)||yl(e))}function $1(e){if(cr(e))return e.shape;if(Ht(e))return e._zod.def.shape;throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Zee(e,n){if(cr(e))return e.extend(n);if(Ht(e))return xee(e,n);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Qee(e){if(cr(e))return e.partial();if(Ht(e))return Pee(HV,e);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function sb(e,n=!1){if(cr(e))return e.strict();if(yl(e)){const o=e._zod.def.shape;if(n)for(const[t,r]of Object.entries(e._zod.def.shape)){if(yl(r)){const s=sb(r,n);o[t]=s}else if(xb(r)){let s=r._zod.def.element;yl(s)&&(s=sb(s,n)),o[t]=el(r,{...r._zod.def,element:s})}else o[t]=r;const a=kr.get(r);a&&kr.add(o[t],a)}const i=el(e,{...e._zod.def,shape:o,catchall:Gee($ee)}),u=kr.get(e);return u&&kr.add(i,u),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function F1(e,n=!1){if(YT(e))return e.passthrough();if(yl(e)){const o=e._zod.def.shape;if(n)for(const[t,r]of Object.entries(e._zod.def.shape)){if(yl(r)){const s=F1(r,n);o[t]=s}else if(xb(r)){let s=r._zod.def.element;yl(s)&&(s=F1(s,n)),o[t]=el(r,{...r._zod.def,element:s})}else o[t]=r;const a=kr.get(r);a&&kr.add(o[t],a)}const i=el(e,{...e._zod.def,shape:o,catchall:Vee(Uee)}),u=kr.get(e);return u&&kr.add(i,u),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Xee(e){if(cr(e))try{const n=e.parse(void 0);return()=>n}catch{return}if(Ht(e))try{const n=GT(e,void 0);return()=>n}catch{return}}function ete(e){return cr(e)&&"typeName"in e._def&&e._def.typeName==="ZodEffects"}function tte(e){return Ht(e)&&e._zod.def.type==="pipe"}function Af(e,n,o){const i=o.get(e);if(i!==void 0)return i;if(cr(e))return ete(e)?Af(e._def.schema,n,o):e;if(Ht(e)){let u=e;if(tte(e)&&(u=Af(e._zod.def.in,n,o)),n){if(yl(u)){const r={};for(const[a,s]of Object.entries(u._zod.def.shape))r[a]=Af(s,n,o);u=el(u,{...u._zod.def,shape:r})}else if(xb(u)){const r=Af(u._zod.def.element,n,o);u=el(u,{...u._zod.def,element:r})}else if(ZV(u)){const r=Af(u._zod.def.innerType,n,o);u=el(u,{...u._zod.def,innerType:r})}else if(QV(u)){const r=Af(u._zod.def.innerType,n,o);u=el(u,{...u._zod.def,innerType:r})}}const t=kr.get(e);return t&&kr.add(u,t),o.set(e,u),u}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function XV(e,n=!1){return Af(e,n,new WeakMap)}function rte(e,n){if(cr(e)){const o=$1(e),i={};for(const[u,t]of Object.entries(o))n(u,t)?i[u]=t.optional():i[u]=t;return e.extend(i)}if(Ht(e)){const o=$1(e),i={...e._zod.def.shape};for(const[r,a]of Object.entries(o))n(r,a)&&(i[r]=new HV({type:"optional",innerType:a}));const u=el(e,{...e._zod.def,shape:i}),t=kr.get(e);return t&&kr.add(u,t),u}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function nte(e){return e instanceof Error&&(e.constructor.name==="ZodError"||e.constructor.name==="$ZodError")}const ate=Symbol("Let zodToJsonSchema decide on which parser to use"),ite={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},ote=e=>({...ite,...e}),ste=e=>{const n=ote(e),o=n.name!==void 0?[...n.basePath,n.definitionPath,n.name]:n.basePath;return{...n,flags:{hasReferencedOpenAiAnyType:!1},currentPath:o,propertyPath:void 0,seen:new Map(Object.entries(n.definitions).map(([i,u])=>[u._def,{def:u._def,path:[...n.basePath,n.definitionPath,i],jsonSchema:void 0}]))}},eG=(e,n)=>{let o=0;for(;o<e.length&&o<n.length&&e[o]===n[o];o++);return[(e.length-o).toString(),...n.slice(o)].join("/")};function bn(e){if(e.target!=="openAi")return{};const n=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?eG(n,e.currentPath):n.join("/")}}function tG(e,n,o,i){i?.errorMessages&&o&&(e.errorMessage={...e.errorMessage,[n]:o})}function xt(e,n,o,i,u){e[n]=o,tG(e,n,i,u)}var Rt;(function(e){e.assertEqual=u=>{};function n(u){}e.assertIs=n;function o(u){throw new Error}e.assertNever=o,e.arrayToEnum=u=>{const t={};for(const r of u)t[r]=r;return t},e.getValidEnumValues=u=>{const t=e.objectKeys(u).filter(a=>typeof u[u[a]]!="number"),r={};for(const a of t)r[a]=u[a];return e.objectValues(r)},e.objectValues=u=>e.objectKeys(u).map(function(t){return u[t]}),e.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{const t=[];for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&t.push(r);return t},e.find=(u,t)=>{for(const r of u)if(t(r))return r},e.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&Number.isFinite(u)&&Math.floor(u)===u;function i(u,t=" | "){return u.map(r=>typeof r=="string"?`'${r}'`:r).join(t)}e.joinValues=i,e.jsonStringifyReplacer=(u,t)=>typeof t=="bigint"?t.toString():t})(Rt||(Rt={}));var AD;(function(e){e.mergeShapes=(n,o)=>({...n,...o})})(AD||(AD={}));const Ye=Rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Uc=e=>{switch(typeof e){case"undefined":return Ye.undefined;case"string":return Ye.string;case"number":return Number.isNaN(e)?Ye.nan:Ye.number;case"boolean":return Ye.boolean;case"function":return Ye.function;case"bigint":return Ye.bigint;case"symbol":return Ye.symbol;case"object":return Array.isArray(e)?Ye.array:e===null?Ye.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ye.promise:typeof Map<"u"&&e instanceof Map?Ye.map:typeof Set<"u"&&e instanceof Set?Ye.set:typeof Date<"u"&&e instanceof Date?Ye.date:Ye.object;default:return Ye.unknown}},Be=Rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ql extends Error{get errors(){return this.issues}constructor(n){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=n}format(n){const o=n||function(t){return t.message},i={_errors:[]},u=t=>{for(const r of t.issues)if(r.code==="invalid_union")r.unionErrors.map(u);else if(r.code==="invalid_return_type")u(r.returnTypeError);else if(r.code==="invalid_arguments")u(r.argumentsError);else if(r.path.length===0)i._errors.push(o(r));else{let a=i,s=0;for(;s<r.path.length;){const l=r.path[s];s===r.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(o(r))):a[l]=a[l]||{_errors:[]},a=a[l],s++}}};return u(this),i}static assert(n){if(!(n instanceof Ql))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=o=>o.message){const o={},i=[];for(const u of this.issues)if(u.path.length>0){const t=u.path[0];o[t]=o[t]||[],o[t].push(n(u))}else i.push(n(u));return{formErrors:i,fieldErrors:o}}get formErrors(){return this.flatten()}}Ql.create=e=>new Ql(e);const V1=(e,n)=>{let o;switch(e.code){case Be.invalid_type:e.received===Ye.undefined?o="Required":o=`Expected ${e.expected}, received ${e.received}`;break;case Be.invalid_literal:o=`Invalid literal value, expected ${JSON.stringify(e.expected,Rt.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:o=`Unrecognized key(s) in object: ${Rt.joinValues(e.keys,", ")}`;break;case Be.invalid_union:o="Invalid input";break;case Be.invalid_union_discriminator:o=`Invalid discriminator value. Expected ${Rt.joinValues(e.options)}`;break;case Be.invalid_enum_value:o=`Invalid enum value. Expected ${Rt.joinValues(e.options)}, received '${e.received}'`;break;case Be.invalid_arguments:o="Invalid function arguments";break;case Be.invalid_return_type:o="Invalid function return type";break;case Be.invalid_date:o="Invalid date";break;case Be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(o=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(o=`${o} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?o=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?o=`Invalid input: must end with "${e.validation.endsWith}"`:Rt.assertNever(e.validation):e.validation!=="regex"?o=`Invalid ${e.validation}`:o="Invalid";break;case Be.too_small:e.type==="array"?o=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?o=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?o=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?o=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?o=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:o="Invalid input";break;case Be.too_big:e.type==="array"?o=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?o=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?o=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?o=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?o=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:o="Invalid input";break;case Be.custom:o="Invalid input";break;case Be.invalid_intersection_types:o="Intersection results could not be merged";break;case Be.not_multiple_of:o=`Number must be a multiple of ${e.multipleOf}`;break;case Be.not_finite:o="Number must be finite";break;default:o=n.defaultError,Rt.assertNever(e)}return{message:o}};let ute=V1;function lte(){return ute}const cte=e=>{const{data:n,path:o,errorMaps:i,issueData:u}=e,t=[...o,...u.path||[]],r={...u,path:t};if(u.message!==void 0)return{...u,path:t,message:u.message};let a="";const s=i.filter(l=>!!l).slice().reverse();for(const l of s)a=l(r,{data:n,defaultError:a}).message;return{...u,path:t,message:a}};function Fe(e,n){const o=lte(),i=cte({issueData:n,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,o,o===V1?void 0:V1].filter(u=>!!u)});e.common.issues.push(i)}class wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(n,o){const i=[];for(const u of o){if(u.status==="aborted")return ot;u.status==="dirty"&&n.dirty(),i.push(u.value)}return{status:n.value,value:i}}static async mergeObjectAsync(n,o){const i=[];for(const u of o){const t=await u.key,r=await u.value;i.push({key:t,value:r})}return wn.mergeObjectSync(n,i)}static mergeObjectSync(n,o){const i={};for(const u of o){const{key:t,value:r}=u;if(t.status==="aborted"||r.status==="aborted")return ot;t.status==="dirty"&&n.dirty(),r.status==="dirty"&&n.dirty(),t.value!=="__proto__"&&(typeof r.value<"u"||u.alwaysSet)&&(i[t.value]=r.value)}return{status:n.value,value:i}}}const ot=Object.freeze({status:"aborted"}),Cm=e=>({status:"dirty",value:e}),Ln=e=>({status:"valid",value:e}),ND=e=>e.status==="aborted",DD=e=>e.status==="dirty",Xh=e=>e.status==="valid",ub=e=>typeof Promise<"u"&&e instanceof Promise;var Je;(function(e){e.errToObj=n=>typeof n=="string"?{message:n}:n||{},e.toString=n=>typeof n=="string"?n:n?.message})(Je||(Je={}));class Qc{constructor(n,o,i,u){this._cachedPath=[],this.parent=n,this.data=o,this._path=i,this._key=u}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ID=(e,n)=>{if(Xh(n))return{success:!0,data:n.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const o=new Ql(e.common.issues);return this._error=o,this._error}}};function dt(e){if(!e)return{};const{errorMap:n,invalid_type_error:o,required_error:i,description:u}=e;if(n&&(o||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:u}:{errorMap:(r,a)=>{const{message:s}=e;return r.code==="invalid_enum_value"?{message:s??a.defaultError}:typeof a.data>"u"?{message:s??i??a.defaultError}:r.code!=="invalid_type"?{message:a.defaultError}:{message:s??o??a.defaultError}},description:u}}class bt{get description(){return this._def.description}_getType(n){return Uc(n.data)}_getOrReturnCtx(n,o){return o||{common:n.parent.common,data:n.data,parsedType:Uc(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new wn,ctx:{common:n.parent.common,data:n.data,parsedType:Uc(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const o=this._parse(n);if(ub(o))throw new Error("Synchronous parse encountered promise.");return o}_parseAsync(n){const o=this._parse(n);return Promise.resolve(o)}parse(n,o){const i=this.safeParse(n,o);if(i.success)return i.data;throw i.error}safeParse(n,o){const i={common:{issues:[],async:o?.async??!1,contextualErrorMap:o?.errorMap},path:o?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Uc(n)},u=this._parseSync({data:n,path:i.path,parent:i});return ID(i,u)}"~validate"(n){const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Uc(n)};if(!this["~standard"].async)try{const i=this._parseSync({data:n,path:[],parent:o});return Xh(i)?{value:i.value}:{issues:o.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:n,path:[],parent:o}).then(i=>Xh(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(n,o){const i=await this.safeParseAsync(n,o);if(i.success)return i.data;throw i.error}async safeParseAsync(n,o){const i={common:{issues:[],contextualErrorMap:o?.errorMap,async:!0},path:o?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Uc(n)},u=this._parse({data:n,path:i.path,parent:i}),t=await(ub(u)?u:Promise.resolve(u));return ID(i,t)}refine(n,o){const i=u=>typeof o=="string"||typeof o>"u"?{message:o}:typeof o=="function"?o(u):o;return this._refinement((u,t)=>{const r=n(u),a=()=>t.addIssue({code:Be.custom,...i(u)});return typeof Promise<"u"&&r instanceof Promise?r.then(s=>s?!0:(a(),!1)):r?!0:(a(),!1)})}refinement(n,o){return this._refinement((i,u)=>n(i)?!0:(u.addIssue(typeof o=="function"?o(i,u):o),!1))}_refinement(n){return new tp({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:o=>this["~validate"](o)}}optional(){return Hc.create(this,this._def)}nullable(){return rp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vl.create(this)}promise(){return fb.create(this,this._def)}or(n){return cb.create([this,n],this._def)}and(n){return db.create(this,n,this._def)}transform(n){return new tp({...dt(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const o=typeof n=="function"?n:()=>n;return new K1({...dt(this._def),innerType:this,defaultValue:o,typeName:Le.ZodDefault})}brand(){return new Nte({typeName:Le.ZodBranded,type:this,...dt(this._def)})}catch(n){const o=typeof n=="function"?n:()=>n;return new k1({...dt(this._def),innerType:this,catchValue:o,typeName:Le.ZodCatch})}describe(n){const o=this.constructor;return new o({...this._def,description:n})}pipe(n){return WT.create(this,n)}readonly(){return Y1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dte=/^c[^\s-]{8,}$/i,fte=/^[0-9a-z]+$/,hte=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gte=/^[a-z0-9_-]{21}$/i,mte=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_te=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yte=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vte="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let AO;const bte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ote=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ste=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ete=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rte=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jte=new RegExp(`^${rG}$`);function nG(e){let n="[0-5]\\d";e.precision?n=`${n}\\.\\d{${e.precision}}`:e.precision==null&&(n=`${n}(\\.\\d+)?`);const o=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${n})${o}`}function Cte(e){return new RegExp(`^${nG(e)}$`)}function Tte(e){let n=`${rG}T${nG(e)}`;const o=[];return o.push(e.local?"Z?":"Z"),e.offset&&o.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${o.join("|")})`,new RegExp(`^${n}$`)}function Mte(e,n){return!!((n==="v4"||!n)&&bte.test(e)||(n==="v6"||!n)&&Ote.test(e))}function xte(e,n){if(!mte.test(e))return!1;try{const[o]=e.split(".");if(!o)return!1;const i=o.replace(/-/g,"+").replace(/_/g,"/").padEnd(o.length+(4-o.length%4)%4,"="),u=JSON.parse(atob(i));return!(typeof u!="object"||u===null||"typ"in u&&u?.typ!=="JWT"||!u.alg||n&&u.alg!==n)}catch{return!1}}function Pte(e,n){return!!((n==="v4"||!n)&&wte.test(e)||(n==="v6"||!n)&&Ste.test(e))}class Vc extends bt{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==Ye.string){const t=this._getOrReturnCtx(n);return Fe(t,{code:Be.invalid_type,expected:Ye.string,received:t.parsedType}),ot}const i=new wn;let u;for(const t of this._def.checks)if(t.kind==="min")n.data.length<t.value&&(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),i.dirty());else if(t.kind==="max")n.data.length>t.value&&(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),i.dirty());else if(t.kind==="length"){const r=n.data.length>t.value,a=n.data.length<t.value;(r||a)&&(u=this._getOrReturnCtx(n,u),r?Fe(u,{code:Be.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message}):a&&Fe(u,{code:Be.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message}),i.dirty())}else if(t.kind==="email")yte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"email",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="emoji")AO||(AO=new RegExp(vte,"u")),AO.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"emoji",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="uuid")pte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"uuid",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="nanoid")gte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"nanoid",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="cuid")dte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"cuid",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="cuid2")fte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"cuid2",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="ulid")hte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"ulid",code:Be.invalid_string,message:t.message}),i.dirty());else if(t.kind==="url")try{new URL(n.data)}catch{u=this._getOrReturnCtx(n,u),Fe(u,{validation:"url",code:Be.invalid_string,message:t.message}),i.dirty()}else t.kind==="regex"?(t.regex.lastIndex=0,t.regex.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"regex",code:Be.invalid_string,message:t.message}),i.dirty())):t.kind==="trim"?n.data=n.data.trim():t.kind==="includes"?n.data.includes(t.value,t.position)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:{includes:t.value,position:t.position},message:t.message}),i.dirty()):t.kind==="toLowerCase"?n.data=n.data.toLowerCase():t.kind==="toUpperCase"?n.data=n.data.toUpperCase():t.kind==="startsWith"?n.data.startsWith(t.value)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:{startsWith:t.value},message:t.message}),i.dirty()):t.kind==="endsWith"?n.data.endsWith(t.value)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:{endsWith:t.value},message:t.message}),i.dirty()):t.kind==="datetime"?Tte(t).test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:"datetime",message:t.message}),i.dirty()):t.kind==="date"?jte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:"date",message:t.message}),i.dirty()):t.kind==="time"?Cte(t).test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.invalid_string,validation:"time",message:t.message}),i.dirty()):t.kind==="duration"?_te.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"duration",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="ip"?Mte(n.data,t.version)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"ip",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="jwt"?xte(n.data,t.alg)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"jwt",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="cidr"?Pte(n.data,t.version)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"cidr",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="base64"?Ete.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"base64",code:Be.invalid_string,message:t.message}),i.dirty()):t.kind==="base64url"?Rte.test(n.data)||(u=this._getOrReturnCtx(n,u),Fe(u,{validation:"base64url",code:Be.invalid_string,message:t.message}),i.dirty()):Rt.assertNever(t);return{status:i.value,value:n.data}}_regex(n,o,i){return this.refinement(u=>n.test(u),{validation:o,code:Be.invalid_string,...Je.errToObj(i)})}_addCheck(n){return new Vc({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...Je.errToObj(n)})}url(n){return this._addCheck({kind:"url",...Je.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...Je.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...Je.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...Je.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...Je.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...Je.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...Je.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...Je.errToObj(n)})}base64url(n){return this._addCheck({kind:"base64url",...Je.errToObj(n)})}jwt(n){return this._addCheck({kind:"jwt",...Je.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...Je.errToObj(n)})}cidr(n){return this._addCheck({kind:"cidr",...Je.errToObj(n)})}datetime(n){return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck({kind:"datetime",precision:typeof n?.precision>"u"?null:n?.precision,offset:n?.offset??!1,local:n?.local??!1,...Je.errToObj(n?.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck({kind:"time",precision:typeof n?.precision>"u"?null:n?.precision,...Je.errToObj(n?.message)})}duration(n){return this._addCheck({kind:"duration",...Je.errToObj(n)})}regex(n,o){return this._addCheck({kind:"regex",regex:n,...Je.errToObj(o)})}includes(n,o){return this._addCheck({kind:"includes",value:n,position:o?.position,...Je.errToObj(o?.message)})}startsWith(n,o){return this._addCheck({kind:"startsWith",value:n,...Je.errToObj(o)})}endsWith(n,o){return this._addCheck({kind:"endsWith",value:n,...Je.errToObj(o)})}min(n,o){return this._addCheck({kind:"min",value:n,...Je.errToObj(o)})}max(n,o){return this._addCheck({kind:"max",value:n,...Je.errToObj(o)})}length(n,o){return this._addCheck({kind:"length",value:n,...Je.errToObj(o)})}nonempty(n){return this.min(1,Je.errToObj(n))}trim(){return new Vc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isCIDR(){return!!this._def.checks.find(n=>n.kind==="cidr")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get isBase64url(){return!!this._def.checks.find(n=>n.kind==="base64url")}get minLength(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n}get maxLength(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n}}Vc.create=e=>new Vc({checks:[],typeName:Le.ZodString,coerce:e?.coerce??!1,...dt(e)});function Ate(e,n){const o=(e.toString().split(".")[1]||"").length,i=(n.toString().split(".")[1]||"").length,u=o>i?o:i,t=Number.parseInt(e.toFixed(u).replace(".","")),r=Number.parseInt(n.toFixed(u).replace(".",""));return t%r/10**u}class Vm extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==Ye.number){const t=this._getOrReturnCtx(n);return Fe(t,{code:Be.invalid_type,expected:Ye.number,received:t.parsedType}),ot}let i;const u=new wn;for(const t of this._def.checks)t.kind==="int"?Rt.isInteger(n.data)||(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.invalid_type,expected:"integer",received:"float",message:t.message}),u.dirty()):t.kind==="min"?(t.inclusive?n.data<t.value:n.data<=t.value)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.too_small,minimum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),u.dirty()):t.kind==="max"?(t.inclusive?n.data>t.value:n.data>=t.value)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.too_big,maximum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),u.dirty()):t.kind==="multipleOf"?Ate(n.data,t.value)!==0&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.not_multiple_of,multipleOf:t.value,message:t.message}),u.dirty()):t.kind==="finite"?Number.isFinite(n.data)||(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.not_finite,message:t.message}),u.dirty()):Rt.assertNever(t);return{status:u.value,value:n.data}}gte(n,o){return this.setLimit("min",n,!0,Je.toString(o))}gt(n,o){return this.setLimit("min",n,!1,Je.toString(o))}lte(n,o){return this.setLimit("max",n,!0,Je.toString(o))}lt(n,o){return this.setLimit("max",n,!1,Je.toString(o))}setLimit(n,o,i,u){return new Vm({...this._def,checks:[...this._def.checks,{kind:n,value:o,inclusive:i,message:Je.toString(u)}]})}_addCheck(n){return new Vm({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:Je.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(n)})}multipleOf(n,o){return this._addCheck({kind:"multipleOf",value:n,message:Je.toString(o)})}finite(n){return this._addCheck({kind:"finite",message:Je.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(n)})}get minValue(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n}get maxValue(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&Rt.isInteger(n.value))}get isFinite(){let n=null,o=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(o===null||i.value>o)&&(o=i.value):i.kind==="max"&&(n===null||i.value<n)&&(n=i.value)}return Number.isFinite(o)&&Number.isFinite(n)}}Vm.create=e=>new Vm({checks:[],typeName:Le.ZodNumber,coerce:e?.coerce||!1,...dt(e)});class Gm extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)try{n.data=BigInt(n.data)}catch{return this._getInvalidInput(n)}if(this._getType(n)!==Ye.bigint)return this._getInvalidInput(n);let i;const u=new wn;for(const t of this._def.checks)t.kind==="min"?(t.inclusive?n.data<t.value:n.data<=t.value)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.too_small,type:"bigint",minimum:t.value,inclusive:t.inclusive,message:t.message}),u.dirty()):t.kind==="max"?(t.inclusive?n.data>t.value:n.data>=t.value)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.too_big,type:"bigint",maximum:t.value,inclusive:t.inclusive,message:t.message}),u.dirty()):t.kind==="multipleOf"?n.data%t.value!==BigInt(0)&&(i=this._getOrReturnCtx(n,i),Fe(i,{code:Be.not_multiple_of,multipleOf:t.value,message:t.message}),u.dirty()):Rt.assertNever(t);return{status:u.value,value:n.data}}_getInvalidInput(n){const o=this._getOrReturnCtx(n);return Fe(o,{code:Be.invalid_type,expected:Ye.bigint,received:o.parsedType}),ot}gte(n,o){return this.setLimit("min",n,!0,Je.toString(o))}gt(n,o){return this.setLimit("min",n,!1,Je.toString(o))}lte(n,o){return this.setLimit("max",n,!0,Je.toString(o))}lt(n,o){return this.setLimit("max",n,!1,Je.toString(o))}setLimit(n,o,i,u){return new Gm({...this._def,checks:[...this._def.checks,{kind:n,value:o,inclusive:i,message:Je.toString(u)}]})}_addCheck(n){return new Gm({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(n)})}multipleOf(n,o){return this._addCheck({kind:"multipleOf",value:n,message:Je.toString(o)})}get minValue(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n}get maxValue(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n}}Gm.create=e=>new Gm({checks:[],typeName:Le.ZodBigInt,coerce:e?.coerce??!1,...dt(e)});class zD extends bt{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==Ye.boolean){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:Ye.boolean,received:i.parsedType}),ot}return Ln(n.data)}}zD.create=e=>new zD({typeName:Le.ZodBoolean,coerce:e?.coerce||!1,...dt(e)});class lb extends bt{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==Ye.date){const t=this._getOrReturnCtx(n);return Fe(t,{code:Be.invalid_type,expected:Ye.date,received:t.parsedType}),ot}if(Number.isNaN(n.data.getTime())){const t=this._getOrReturnCtx(n);return Fe(t,{code:Be.invalid_date}),ot}const i=new wn;let u;for(const t of this._def.checks)t.kind==="min"?n.data.getTime()<t.value&&(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.too_small,message:t.message,inclusive:!0,exact:!1,minimum:t.value,type:"date"}),i.dirty()):t.kind==="max"?n.data.getTime()>t.value&&(u=this._getOrReturnCtx(n,u),Fe(u,{code:Be.too_big,message:t.message,inclusive:!0,exact:!1,maximum:t.value,type:"date"}),i.dirty()):Rt.assertNever(t);return{status:i.value,value:new Date(n.data.getTime())}}_addCheck(n){return new lb({...this._def,checks:[...this._def.checks,n]})}min(n,o){return this._addCheck({kind:"min",value:n.getTime(),message:Je.toString(o)})}max(n,o){return this._addCheck({kind:"max",value:n.getTime(),message:Je.toString(o)})}get minDate(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n!=null?new Date(n):null}}lb.create=e=>new lb({checks:[],coerce:e?.coerce||!1,typeName:Le.ZodDate,...dt(e)});class qD extends bt{_parse(n){if(this._getType(n)!==Ye.symbol){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:Ye.symbol,received:i.parsedType}),ot}return Ln(n.data)}}qD.create=e=>new qD({typeName:Le.ZodSymbol,...dt(e)});class BD extends bt{_parse(n){if(this._getType(n)!==Ye.undefined){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:Ye.undefined,received:i.parsedType}),ot}return Ln(n.data)}}BD.create=e=>new BD({typeName:Le.ZodUndefined,...dt(e)});class LD extends bt{_parse(n){if(this._getType(n)!==Ye.null){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:Ye.null,received:i.parsedType}),ot}return Ln(n.data)}}LD.create=e=>new LD({typeName:Le.ZodNull,...dt(e)});class G1 extends bt{constructor(){super(...arguments),this._any=!0}_parse(n){return Ln(n.data)}}G1.create=e=>new G1({typeName:Le.ZodAny,...dt(e)});class UD extends bt{constructor(){super(...arguments),this._unknown=!0}_parse(n){return Ln(n.data)}}UD.create=e=>new UD({typeName:Le.ZodUnknown,...dt(e)});class Xc extends bt{_parse(n){const o=this._getOrReturnCtx(n);return Fe(o,{code:Be.invalid_type,expected:Ye.never,received:o.parsedType}),ot}}Xc.create=e=>new Xc({typeName:Le.ZodNever,...dt(e)});class $D extends bt{_parse(n){if(this._getType(n)!==Ye.undefined){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:Ye.void,received:i.parsedType}),ot}return Ln(n.data)}}$D.create=e=>new $D({typeName:Le.ZodVoid,...dt(e)});class vl extends bt{_parse(n){const{ctx:o,status:i}=this._processInputParams(n),u=this._def;if(o.parsedType!==Ye.array)return Fe(o,{code:Be.invalid_type,expected:Ye.array,received:o.parsedType}),ot;if(u.exactLength!==null){const r=o.data.length>u.exactLength.value,a=o.data.length<u.exactLength.value;(r||a)&&(Fe(o,{code:r?Be.too_big:Be.too_small,minimum:a?u.exactLength.value:void 0,maximum:r?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),i.dirty())}if(u.minLength!==null&&o.data.length<u.minLength.value&&(Fe(o,{code:Be.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),i.dirty()),u.maxLength!==null&&o.data.length>u.maxLength.value&&(Fe(o,{code:Be.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),i.dirty()),o.common.async)return Promise.all([...o.data].map((r,a)=>u.type._parseAsync(new Qc(o,r,o.path,a)))).then(r=>wn.mergeArray(i,r));const t=[...o.data].map((r,a)=>u.type._parseSync(new Qc(o,r,o.path,a)));return wn.mergeArray(i,t)}get element(){return this._def.type}min(n,o){return new vl({...this._def,minLength:{value:n,message:Je.toString(o)}})}max(n,o){return new vl({...this._def,maxLength:{value:n,message:Je.toString(o)}})}length(n,o){return new vl({...this._def,exactLength:{value:n,message:Je.toString(o)}})}nonempty(n){return this.min(1,n)}}vl.create=(e,n)=>new vl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...dt(n)});function Vh(e){if(e instanceof nr){const n={};for(const o in e.shape){const i=e.shape[o];n[o]=Hc.create(Vh(i))}return new nr({...e._def,shape:()=>n})}else return e instanceof vl?new vl({...e._def,type:Vh(e.element)}):e instanceof Hc?Hc.create(Vh(e.unwrap())):e instanceof rp?rp.create(Vh(e.unwrap())):e instanceof Lf?Lf.create(e.items.map(n=>Vh(n))):e}class nr extends bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),o=Rt.objectKeys(n);return this._cached={shape:n,keys:o},this._cached}_parse(n){if(this._getType(n)!==Ye.object){const l=this._getOrReturnCtx(n);return Fe(l,{code:Be.invalid_type,expected:Ye.object,received:l.parsedType}),ot}const{status:i,ctx:u}=this._processInputParams(n),{shape:t,keys:r}=this._getCached(),a=[];if(!(this._def.catchall instanceof Xc&&this._def.unknownKeys==="strip"))for(const l in u.data)r.includes(l)||a.push(l);const s=[];for(const l of r){const f=t[l],m=u.data[l];s.push({key:{status:"valid",value:l},value:f._parse(new Qc(u,m,u.path,l)),alwaysSet:l in u.data})}if(this._def.catchall instanceof Xc){const l=this._def.unknownKeys;if(l==="passthrough")for(const f of a)s.push({key:{status:"valid",value:f},value:{status:"valid",value:u.data[f]}});else if(l==="strict")a.length>0&&(Fe(u,{code:Be.unrecognized_keys,keys:a}),i.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const f of a){const m=u.data[f];s.push({key:{status:"valid",value:f},value:l._parse(new Qc(u,m,u.path,f)),alwaysSet:f in u.data})}}return u.common.async?Promise.resolve().then(async()=>{const l=[];for(const f of s){const m=await f.key,b=await f.value;l.push({key:m,value:b,alwaysSet:f.alwaysSet})}return l}).then(l=>wn.mergeObjectSync(i,l)):wn.mergeObjectSync(i,s)}get shape(){return this._def.shape()}strict(n){return Je.errToObj,new nr({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(o,i)=>{const u=this._def.errorMap?.(o,i).message??i.defaultError;return o.code==="unrecognized_keys"?{message:Je.errToObj(n).message??u}:{message:u}}}:{}})}strip(){return new nr({...this._def,unknownKeys:"strip"})}passthrough(){return new nr({...this._def,unknownKeys:"passthrough"})}extend(n){return new nr({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new nr({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:Le.ZodObject})}setKey(n,o){return this.augment({[n]:o})}catchall(n){return new nr({...this._def,catchall:n})}pick(n){const o={};for(const i of Rt.objectKeys(n))n[i]&&this.shape[i]&&(o[i]=this.shape[i]);return new nr({...this._def,shape:()=>o})}omit(n){const o={};for(const i of Rt.objectKeys(this.shape))n[i]||(o[i]=this.shape[i]);return new nr({...this._def,shape:()=>o})}deepPartial(){return Vh(this)}partial(n){const o={};for(const i of Rt.objectKeys(this.shape)){const u=this.shape[i];n&&!n[i]?o[i]=u:o[i]=u.optional()}return new nr({...this._def,shape:()=>o})}required(n){const o={};for(const i of Rt.objectKeys(this.shape))if(n&&!n[i])o[i]=this.shape[i];else{let t=this.shape[i];for(;t instanceof Hc;)t=t._def.innerType;o[i]=t}return new nr({...this._def,shape:()=>o})}keyof(){return aG(Rt.objectKeys(this.shape))}}nr.create=(e,n)=>new nr({shape:()=>e,unknownKeys:"strip",catchall:Xc.create(),typeName:Le.ZodObject,...dt(n)});nr.strictCreate=(e,n)=>new nr({shape:()=>e,unknownKeys:"strict",catchall:Xc.create(),typeName:Le.ZodObject,...dt(n)});nr.lazycreate=(e,n)=>new nr({shape:e,unknownKeys:"strip",catchall:Xc.create(),typeName:Le.ZodObject,...dt(n)});class cb extends bt{_parse(n){const{ctx:o}=this._processInputParams(n),i=this._def.options;function u(t){for(const a of t)if(a.result.status==="valid")return a.result;for(const a of t)if(a.result.status==="dirty")return o.common.issues.push(...a.ctx.common.issues),a.result;const r=t.map(a=>new Ql(a.ctx.common.issues));return Fe(o,{code:Be.invalid_union,unionErrors:r}),ot}if(o.common.async)return Promise.all(i.map(async t=>{const r={...o,common:{...o.common,issues:[]},parent:null};return{result:await t._parseAsync({data:o.data,path:o.path,parent:r}),ctx:r}})).then(u);{let t;const r=[];for(const s of i){const l={...o,common:{...o.common,issues:[]},parent:null},f=s._parseSync({data:o.data,path:o.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!t&&(t={result:f,ctx:l}),l.common.issues.length&&r.push(l.common.issues)}if(t)return o.common.issues.push(...t.ctx.common.issues),t.result;const a=r.map(s=>new Ql(s));return Fe(o,{code:Be.invalid_union,unionErrors:a}),ot}}get options(){return this._def.options}}cb.create=(e,n)=>new cb({options:e,typeName:Le.ZodUnion,...dt(n)});function H1(e,n){const o=Uc(e),i=Uc(n);if(e===n)return{valid:!0,data:e};if(o===Ye.object&&i===Ye.object){const u=Rt.objectKeys(n),t=Rt.objectKeys(e).filter(a=>u.indexOf(a)!==-1),r={...e,...n};for(const a of t){const s=H1(e[a],n[a]);if(!s.valid)return{valid:!1};r[a]=s.data}return{valid:!0,data:r}}else if(o===Ye.array&&i===Ye.array){if(e.length!==n.length)return{valid:!1};const u=[];for(let t=0;t<e.length;t++){const r=e[t],a=n[t],s=H1(r,a);if(!s.valid)return{valid:!1};u.push(s.data)}return{valid:!0,data:u}}else return o===Ye.date&&i===Ye.date&&+e==+n?{valid:!0,data:e}:{valid:!1}}class db extends bt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n),u=(t,r)=>{if(ND(t)||ND(r))return ot;const a=H1(t.value,r.value);return a.valid?((DD(t)||DD(r))&&o.dirty(),{status:o.value,value:a.data}):(Fe(i,{code:Be.invalid_intersection_types}),ot)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([t,r])=>u(t,r)):u(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}db.create=(e,n,o)=>new db({left:e,right:n,typeName:Le.ZodIntersection,...dt(o)});class Lf extends bt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.parsedType!==Ye.array)return Fe(i,{code:Be.invalid_type,expected:Ye.array,received:i.parsedType}),ot;if(i.data.length<this._def.items.length)return Fe(i,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ot;!this._def.rest&&i.data.length>this._def.items.length&&(Fe(i,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o.dirty());const t=[...i.data].map((r,a)=>{const s=this._def.items[a]||this._def.rest;return s?s._parse(new Qc(i,r,i.path,a)):null}).filter(r=>!!r);return i.common.async?Promise.all(t).then(r=>wn.mergeArray(o,r)):wn.mergeArray(o,t)}get items(){return this._def.items}rest(n){return new Lf({...this._def,rest:n})}}Lf.create=(e,n)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Lf({items:e,typeName:Le.ZodTuple,rest:null,...dt(n)})};class FD extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.parsedType!==Ye.map)return Fe(i,{code:Be.invalid_type,expected:Ye.map,received:i.parsedType}),ot;const u=this._def.keyType,t=this._def.valueType,r=[...i.data.entries()].map(([a,s],l)=>({key:u._parse(new Qc(i,a,i.path,[l,"key"])),value:t._parse(new Qc(i,s,i.path,[l,"value"]))}));if(i.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const s of r){const l=await s.key,f=await s.value;if(l.status==="aborted"||f.status==="aborted")return ot;(l.status==="dirty"||f.status==="dirty")&&o.dirty(),a.set(l.value,f.value)}return{status:o.value,value:a}})}else{const a=new Map;for(const s of r){const l=s.key,f=s.value;if(l.status==="aborted"||f.status==="aborted")return ot;(l.status==="dirty"||f.status==="dirty")&&o.dirty(),a.set(l.value,f.value)}return{status:o.value,value:a}}}}FD.create=(e,n,o)=>new FD({valueType:n,keyType:e,typeName:Le.ZodMap,...dt(o)});class Hm extends bt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.parsedType!==Ye.set)return Fe(i,{code:Be.invalid_type,expected:Ye.set,received:i.parsedType}),ot;const u=this._def;u.minSize!==null&&i.data.size<u.minSize.value&&(Fe(i,{code:Be.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),o.dirty()),u.maxSize!==null&&i.data.size>u.maxSize.value&&(Fe(i,{code:Be.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),o.dirty());const t=this._def.valueType;function r(s){const l=new Set;for(const f of s){if(f.status==="aborted")return ot;f.status==="dirty"&&o.dirty(),l.add(f.value)}return{status:o.value,value:l}}const a=[...i.data.values()].map((s,l)=>t._parse(new Qc(i,s,i.path,l)));return i.common.async?Promise.all(a).then(s=>r(s)):r(a)}min(n,o){return new Hm({...this._def,minSize:{value:n,message:Je.toString(o)}})}max(n,o){return new Hm({...this._def,maxSize:{value:n,message:Je.toString(o)}})}size(n,o){return this.min(n,o).max(n,o)}nonempty(n){return this.min(1,n)}}Hm.create=(e,n)=>new Hm({valueType:e,minSize:null,maxSize:null,typeName:Le.ZodSet,...dt(n)});class VD extends bt{get schema(){return this._def.getter()}_parse(n){const{ctx:o}=this._processInputParams(n);return this._def.getter()._parse({data:o.data,path:o.path,parent:o})}}VD.create=(e,n)=>new VD({getter:e,typeName:Le.ZodLazy,...dt(n)});class GD extends bt{_parse(n){if(n.data!==this._def.value){const o=this._getOrReturnCtx(n);return Fe(o,{received:o.data,code:Be.invalid_literal,expected:this._def.value}),ot}return{status:"valid",value:n.data}}get value(){return this._def.value}}GD.create=(e,n)=>new GD({value:e,typeName:Le.ZodLiteral,...dt(n)});function aG(e,n){return new ep({values:e,typeName:Le.ZodEnum,...dt(n)})}class ep extends bt{_parse(n){if(typeof n.data!="string"){const o=this._getOrReturnCtx(n),i=this._def.values;return Fe(o,{expected:Rt.joinValues(i),received:o.parsedType,code:Be.invalid_type}),ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(n.data)){const o=this._getOrReturnCtx(n),i=this._def.values;return Fe(o,{received:o.data,code:Be.invalid_enum_value,options:i}),ot}return Ln(n.data)}get options(){return this._def.values}get enum(){const n={};for(const o of this._def.values)n[o]=o;return n}get Values(){const n={};for(const o of this._def.values)n[o]=o;return n}get Enum(){const n={};for(const o of this._def.values)n[o]=o;return n}extract(n,o=this._def){return ep.create(n,{...this._def,...o})}exclude(n,o=this._def){return ep.create(this.options.filter(i=>!n.includes(i)),{...this._def,...o})}}ep.create=aG;class HD extends bt{_parse(n){const o=Rt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(n);if(i.parsedType!==Ye.string&&i.parsedType!==Ye.number){const u=Rt.objectValues(o);return Fe(i,{expected:Rt.joinValues(u),received:i.parsedType,code:Be.invalid_type}),ot}if(this._cache||(this._cache=new Set(Rt.getValidEnumValues(this._def.values))),!this._cache.has(n.data)){const u=Rt.objectValues(o);return Fe(i,{received:i.data,code:Be.invalid_enum_value,options:u}),ot}return Ln(n.data)}get enum(){return this._def.values}}HD.create=(e,n)=>new HD({values:e,typeName:Le.ZodNativeEnum,...dt(n)});class fb extends bt{unwrap(){return this._def.type}_parse(n){const{ctx:o}=this._processInputParams(n);if(o.parsedType!==Ye.promise&&o.common.async===!1)return Fe(o,{code:Be.invalid_type,expected:Ye.promise,received:o.parsedType}),ot;const i=o.parsedType===Ye.promise?o.data:Promise.resolve(o.data);return Ln(i.then(u=>this._def.type.parseAsync(u,{path:o.path,errorMap:o.common.contextualErrorMap})))}}fb.create=(e,n)=>new fb({type:e,typeName:Le.ZodPromise,...dt(n)});class tp extends bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:o,ctx:i}=this._processInputParams(n),u=this._def.effect||null,t={addIssue:r=>{Fe(i,r),r.fatal?o.abort():o.dirty()},get path(){return i.path}};if(t.addIssue=t.addIssue.bind(t),u.type==="preprocess"){const r=u.transform(i.data,t);if(i.common.async)return Promise.resolve(r).then(async a=>{if(o.value==="aborted")return ot;const s=await this._def.schema._parseAsync({data:a,path:i.path,parent:i});return s.status==="aborted"?ot:s.status==="dirty"||o.value==="dirty"?Cm(s.value):s});{if(o.value==="aborted")return ot;const a=this._def.schema._parseSync({data:r,path:i.path,parent:i});return a.status==="aborted"?ot:a.status==="dirty"||o.value==="dirty"?Cm(a.value):a}}if(u.type==="refinement"){const r=a=>{const s=u.refinement(a,t);if(i.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?ot:(a.status==="dirty"&&o.dirty(),r(a.value),{status:o.value,value:a.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>a.status==="aborted"?ot:(a.status==="dirty"&&o.dirty(),r(a.value).then(()=>({status:o.value,value:a.value}))))}if(u.type==="transform")if(i.common.async===!1){const r=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Xh(r))return ot;const a=u.transform(r.value,t);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:o.value,value:a}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(r=>Xh(r)?Promise.resolve(u.transform(r.value,t)).then(a=>({status:o.value,value:a})):ot);Rt.assertNever(u)}}tp.create=(e,n,o)=>new tp({schema:e,typeName:Le.ZodEffects,effect:n,...dt(o)});tp.createWithPreprocess=(e,n,o)=>new tp({schema:n,effect:{type:"preprocess",transform:e},typeName:Le.ZodEffects,...dt(o)});class Hc extends bt{_parse(n){return this._getType(n)===Ye.undefined?Ln(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}Hc.create=(e,n)=>new Hc({innerType:e,typeName:Le.ZodOptional,...dt(n)});class rp extends bt{_parse(n){return this._getType(n)===Ye.null?Ln(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}rp.create=(e,n)=>new rp({innerType:e,typeName:Le.ZodNullable,...dt(n)});class K1 extends bt{_parse(n){const{ctx:o}=this._processInputParams(n);let i=o.data;return o.parsedType===Ye.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:o.path,parent:o})}removeDefault(){return this._def.innerType}}K1.create=(e,n)=>new K1({innerType:e,typeName:Le.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default,...dt(n)});class k1 extends bt{_parse(n){const{ctx:o}=this._processInputParams(n),i={...o,common:{...o.common,issues:[]}},u=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return ub(u)?u.then(t=>({status:"valid",value:t.status==="valid"?t.value:this._def.catchValue({get error(){return new Ql(i.common.issues)},input:i.data})})):{status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Ql(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}k1.create=(e,n)=>new k1({innerType:e,typeName:Le.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch,...dt(n)});class KD extends bt{_parse(n){if(this._getType(n)!==Ye.nan){const i=this._getOrReturnCtx(n);return Fe(i,{code:Be.invalid_type,expected:Ye.nan,received:i.parsedType}),ot}return{status:"valid",value:n.data}}}KD.create=e=>new KD({typeName:Le.ZodNaN,...dt(e)});class Nte extends bt{_parse(n){const{ctx:o}=this._processInputParams(n),i=o.data;return this._def.type._parse({data:i,path:o.path,parent:o})}unwrap(){return this._def.type}}class WT extends bt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.common.async)return(async()=>{const t=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return t.status==="aborted"?ot:t.status==="dirty"?(o.dirty(),Cm(t.value)):this._def.out._parseAsync({data:t.value,path:i.path,parent:i})})();{const u=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?ot:u.status==="dirty"?(o.dirty(),{status:"dirty",value:u.value}):this._def.out._parseSync({data:u.value,path:i.path,parent:i})}}static create(n,o){return new WT({in:n,out:o,typeName:Le.ZodPipeline})}}class Y1 extends bt{_parse(n){const o=this._def.innerType._parse(n),i=u=>(Xh(u)&&(u.value=Object.freeze(u.value)),u);return ub(o)?o.then(u=>i(u)):i(o)}unwrap(){return this._def.innerType}}Y1.create=(e,n)=>new Y1({innerType:e,typeName:Le.ZodReadonly,...dt(n)});var Le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Le||(Le={}));const JT=Vc.create,kD=G1.create;Xc.create;vl.create;const ZT=nr.create;cb.create;db.create;Lf.create;ep.create;fb.create;Hc.create;rp.create;function Dte(e,n){const o={type:"array"};return e.type?._def&&e.type?._def?.typeName!==Le.ZodAny&&(o.items=Ct(e.type._def,{...n,currentPath:[...n.currentPath,"items"]})),e.minLength&&xt(o,"minItems",e.minLength.value,e.minLength.message,n),e.maxLength&&xt(o,"maxItems",e.maxLength.value,e.maxLength.message,n),e.exactLength&&(xt(o,"minItems",e.exactLength.value,e.exactLength.message,n),xt(o,"maxItems",e.exactLength.value,e.exactLength.message,n)),o}function Ite(e,n){const o={type:"integer",format:"int64"};if(!e.checks)return o;for(const i of e.checks)switch(i.kind){case"min":n.target==="jsonSchema7"?i.inclusive?xt(o,"minimum",i.value,i.message,n):xt(o,"exclusiveMinimum",i.value,i.message,n):(i.inclusive||(o.exclusiveMinimum=!0),xt(o,"minimum",i.value,i.message,n));break;case"max":n.target==="jsonSchema7"?i.inclusive?xt(o,"maximum",i.value,i.message,n):xt(o,"exclusiveMaximum",i.value,i.message,n):(i.inclusive||(o.exclusiveMaximum=!0),xt(o,"maximum",i.value,i.message,n));break;case"multipleOf":xt(o,"multipleOf",i.value,i.message,n);break}return o}function zte(){return{type:"boolean"}}function iG(e,n){return Ct(e.type._def,n)}const qte=(e,n)=>Ct(e.innerType._def,n);function oG(e,n,o){const i=o??n.dateStrategy;if(Array.isArray(i))return{anyOf:i.map(u=>oG(e,n,u))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Bte(e,n)}}const Bte=(e,n)=>{const o={type:"integer",format:"unix-time"};if(n.target==="openApi3")return o;for(const i of e.checks)switch(i.kind){case"min":xt(o,"minimum",i.value,i.message,n);break;case"max":xt(o,"maximum",i.value,i.message,n);break}return o};function Lte(e,n){return{...Ct(e.innerType._def,n),default:e.defaultValue()}}function Ute(e,n){return n.effectStrategy==="input"?Ct(e.schema._def,n):bn(n)}function $te(e){return{type:"string",enum:Array.from(e.values)}}const Fte=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function Vte(e,n){const o=[Ct(e.left._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),Ct(e.right._def,{...n,currentPath:[...n.currentPath,"allOf","1"]})].filter(t=>!!t);let i=n.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return o.forEach(t=>{if(Fte(t))u.push(...t.allOf),t.unevaluatedProperties===void 0&&(i=void 0);else{let r=t;if("additionalProperties"in t&&t.additionalProperties===!1){const{additionalProperties:a,...s}=t;r=s}else i=void 0;u.push(r)}}),u.length?{allOf:u,...i}:void 0}function Gte(e,n){const o=typeof e.value;return o!=="bigint"&&o!=="number"&&o!=="boolean"&&o!=="string"?{type:Array.isArray(e.value)?"array":"object"}:n.target==="openApi3"?{type:o==="bigint"?"integer":o,enum:[e.value]}:{type:o==="bigint"?"integer":o,const:e.value}}let NO;const Kn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(NO===void 0&&(NO=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),NO),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function sG(e,n){const o={type:"string"};if(e.checks)for(const i of e.checks)switch(i.kind){case"min":xt(o,"minLength",typeof o.minLength=="number"?Math.max(o.minLength,i.value):i.value,i.message,n);break;case"max":xt(o,"maxLength",typeof o.maxLength=="number"?Math.min(o.maxLength,i.value):i.value,i.message,n);break;case"email":switch(n.emailStrategy){case"format:email":kn(o,"email",i.message,n);break;case"format:idn-email":kn(o,"idn-email",i.message,n);break;case"pattern:zod":Mr(o,Kn.email,i.message,n);break}break;case"url":kn(o,"uri",i.message,n);break;case"uuid":kn(o,"uuid",i.message,n);break;case"regex":Mr(o,i.regex,i.message,n);break;case"cuid":Mr(o,Kn.cuid,i.message,n);break;case"cuid2":Mr(o,Kn.cuid2,i.message,n);break;case"startsWith":Mr(o,RegExp(`^${DO(i.value,n)}`),i.message,n);break;case"endsWith":Mr(o,RegExp(`${DO(i.value,n)}$`),i.message,n);break;case"datetime":kn(o,"date-time",i.message,n);break;case"date":kn(o,"date",i.message,n);break;case"time":kn(o,"time",i.message,n);break;case"duration":kn(o,"duration",i.message,n);break;case"length":xt(o,"minLength",typeof o.minLength=="number"?Math.max(o.minLength,i.value):i.value,i.message,n),xt(o,"maxLength",typeof o.maxLength=="number"?Math.min(o.maxLength,i.value):i.value,i.message,n);break;case"includes":Mr(o,RegExp(DO(i.value,n)),i.message,n);break;case"ip":i.version!=="v6"&&kn(o,"ipv4",i.message,n),i.version!=="v4"&&kn(o,"ipv6",i.message,n);break;case"base64url":Mr(o,Kn.base64url,i.message,n);break;case"jwt":Mr(o,Kn.jwt,i.message,n);break;case"cidr":i.version!=="v6"&&Mr(o,Kn.ipv4Cidr,i.message,n),i.version!=="v4"&&Mr(o,Kn.ipv6Cidr,i.message,n);break;case"emoji":Mr(o,Kn.emoji(),i.message,n);break;case"ulid":Mr(o,Kn.ulid,i.message,n);break;case"base64":switch(n.base64Strategy){case"format:binary":kn(o,"binary",i.message,n);break;case"contentEncoding:base64":xt(o,"contentEncoding","base64",i.message,n);break;case"pattern:zod":Mr(o,Kn.base64,i.message,n);break}break;case"nanoid":Mr(o,Kn.nanoid,i.message,n);break}return o}function DO(e,n){return n.patternStrategy==="escape"?Kte(e):e}const Hte=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Kte(e){let n="";for(let o=0;o<e.length;o++)Hte.has(e[o])||(n+="\\"),n+=e[o];return n}function kn(e,n,o,i){e.format||e.anyOf?.some(u=>u.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&i.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:n,...o&&i.errorMessages&&{errorMessage:{format:o}}})):xt(e,"format",n,o,i)}function Mr(e,n,o,i){e.pattern||e.allOf?.some(u=>u.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&i.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:YD(n,i),...o&&i.errorMessages&&{errorMessage:{pattern:o}}})):xt(e,"pattern",YD(n,i),o,i)}function YD(e,n){if(!n.applyRegexFlags||!e.flags)return e.source;const o={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=o.i?e.source.toLowerCase():e.source;let u="",t=!1,r=!1,a=!1;for(let s=0;s<i.length;s++){if(t){u+=i[s],t=!1;continue}if(o.i){if(r){if(i[s].match(/[a-z]/)){a?(u+=i[s],u+=`${i[s-2]}-${i[s]}`.toUpperCase(),a=!1):i[s+1]==="-"&&i[s+2]?.match(/[a-z]/)?(u+=i[s],a=!0):u+=`${i[s]}${i[s].toUpperCase()}`;continue}}else if(i[s].match(/[a-z]/)){u+=`[${i[s]}${i[s].toUpperCase()}]`;continue}}if(o.m){if(i[s]==="^"){u+=`(^|(?<=[\r
]))`;continue}else if(i[s]==="$"){u+=`($|(?=[\r
]))`;continue}}if(o.s&&i[s]==="."){u+=r?`${i[s]}\r
`:`[${i[s]}\r
]`;continue}u+=i[s],i[s]==="\\"?t=!0:r&&i[s]==="]"?r=!1:!r&&i[s]==="["&&(r=!0)}try{new RegExp(u)}catch{return console.warn(`Could not convert regex pattern at ${n.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return u}function uG(e,n){if(n.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),n.target==="openApi3"&&e.keyType?._def.typeName===Le.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((i,u)=>({...i,[u]:Ct(e.valueType._def,{...n,currentPath:[...n.currentPath,"properties",u]})??bn(n)}),{}),additionalProperties:n.rejectedAdditionalProperties};const o={type:"object",additionalProperties:Ct(e.valueType._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]})??n.allowedAdditionalProperties};if(n.target==="openApi3")return o;if(e.keyType?._def.typeName===Le.ZodString&&e.keyType._def.checks?.length){const{type:i,...u}=sG(e.keyType._def,n);return{...o,propertyNames:u}}else{if(e.keyType?._def.typeName===Le.ZodEnum)return{...o,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===Le.ZodBranded&&e.keyType._def.type._def.typeName===Le.ZodString&&e.keyType._def.type._def.checks?.length){const{type:i,...u}=iG(e.keyType._def,n);return{...o,propertyNames:u}}}return o}function kte(e,n){if(n.mapStrategy==="record")return uG(e,n);const o=Ct(e.keyType._def,{...n,currentPath:[...n.currentPath,"items","items","0"]})||bn(n),i=Ct(e.valueType._def,{...n,currentPath:[...n.currentPath,"items","items","1"]})||bn(n);return{type:"array",maxItems:125,items:{type:"array",items:[o,i],minItems:2,maxItems:2}}}function Yte(e){const n=e.values,i=Object.keys(e.values).filter(t=>typeof n[n[t]]!="number").map(t=>n[t]),u=Array.from(new Set(i.map(t=>typeof t)));return{type:u.length===1?u[0]==="string"?"string":"number":["string","number"],enum:i}}function Wte(e){return e.target==="openAi"?void 0:{not:bn({...e,currentPath:[...e.currentPath,"not"]})}}function Jte(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const hb={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Zte(e,n){if(n.target==="openApi3")return WD(e,n);const o=e.options instanceof Map?Array.from(e.options.values()):e.options;if(o.every(i=>i._def.typeName in hb&&(!i._def.checks||!i._def.checks.length))){const i=o.reduce((u,t)=>{const r=hb[t._def.typeName];return r&&!u.includes(r)?[...u,r]:u},[]);return{type:i.length>1?i:i[0]}}else if(o.every(i=>i._def.typeName==="ZodLiteral"&&!i.description)){const i=o.reduce((u,t)=>{const r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...u,r];case"bigint":return[...u,"integer"];case"object":return t._def.value===null?[...u,"null"]:u;default:return u}},[]);if(i.length===o.length){const u=i.filter((t,r,a)=>a.indexOf(t)===r);return{type:u.length>1?u:u[0],enum:o.reduce((t,r)=>t.includes(r._def.value)?t:[...t,r._def.value],[])}}}else if(o.every(i=>i._def.typeName==="ZodEnum"))return{type:"string",enum:o.reduce((i,u)=>[...i,...u._def.values.filter(t=>!i.includes(t))],[])};return WD(e,n)}const WD=(e,n)=>{const o=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((i,u)=>Ct(i._def,{...n,currentPath:[...n.currentPath,"anyOf",`${u}`]})).filter(i=>!!i&&(!n.strictUnions||typeof i=="object"&&Object.keys(i).length>0));return o.length?{anyOf:o}:void 0};function Qte(e,n){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return n.target==="openApi3"?{type:hb[e.innerType._def.typeName],nullable:!0}:{type:[hb[e.innerType._def.typeName],"null"]};if(n.target==="openApi3"){const i=Ct(e.innerType._def,{...n,currentPath:[...n.currentPath]});return i&&"$ref"in i?{allOf:[i],nullable:!0}:i&&{...i,nullable:!0}}const o=Ct(e.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","0"]});return o&&{anyOf:[o,{type:"null"}]}}function Xte(e,n){const o={type:"number"};if(!e.checks)return o;for(const i of e.checks)switch(i.kind){case"int":o.type="integer",tG(o,"type",i.message,n);break;case"min":n.target==="jsonSchema7"?i.inclusive?xt(o,"minimum",i.value,i.message,n):xt(o,"exclusiveMinimum",i.value,i.message,n):(i.inclusive||(o.exclusiveMinimum=!0),xt(o,"minimum",i.value,i.message,n));break;case"max":n.target==="jsonSchema7"?i.inclusive?xt(o,"maximum",i.value,i.message,n):xt(o,"exclusiveMaximum",i.value,i.message,n):(i.inclusive||(o.exclusiveMaximum=!0),xt(o,"maximum",i.value,i.message,n));break;case"multipleOf":xt(o,"multipleOf",i.value,i.message,n);break}return o}function ere(e,n){const o=n.target==="openAi",i={type:"object",properties:{}},u=[],t=e.shape();for(const a in t){let s=t[a];if(s===void 0||s._def===void 0)continue;let l=rre(s);l&&o&&(s._def.typeName==="ZodOptional"&&(s=s._def.innerType),s.isNullable()||(s=s.nullable()),l=!1);const f=Ct(s._def,{...n,currentPath:[...n.currentPath,"properties",a],propertyPath:[...n.currentPath,"properties",a]});f!==void 0&&(i.properties[a]=f,l||u.push(a))}u.length&&(i.required=u);const r=tre(e,n);return r!==void 0&&(i.additionalProperties=r),i}function tre(e,n){if(e.catchall._def.typeName!=="ZodNever")return Ct(e.catchall._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return n.allowedAdditionalProperties;case"strict":return n.rejectedAdditionalProperties;case"strip":return n.removeAdditionalStrategy==="strict"?n.allowedAdditionalProperties:n.rejectedAdditionalProperties}}function rre(e){try{return e.isOptional()}catch{return!0}}const nre=(e,n)=>{if(n.currentPath.toString()===n.propertyPath?.toString())return Ct(e.innerType._def,n);const o=Ct(e.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","1"]});return o?{anyOf:[{not:bn(n)},o]}:bn(n)},are=(e,n)=>{if(n.pipeStrategy==="input")return Ct(e.in._def,n);if(n.pipeStrategy==="output")return Ct(e.out._def,n);const o=Ct(e.in._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),i=Ct(e.out._def,{...n,currentPath:[...n.currentPath,"allOf",o?"1":"0"]});return{allOf:[o,i].filter(u=>u!==void 0)}};function ire(e,n){return Ct(e.type._def,n)}function ore(e,n){const i={type:"array",uniqueItems:!0,items:Ct(e.valueType._def,{...n,currentPath:[...n.currentPath,"items"]})};return e.minSize&&xt(i,"minItems",e.minSize.value,e.minSize.message,n),e.maxSize&&xt(i,"maxItems",e.maxSize.value,e.maxSize.message,n),i}function sre(e,n){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((o,i)=>Ct(o._def,{...n,currentPath:[...n.currentPath,"items",`${i}`]})).reduce((o,i)=>i===void 0?o:[...o,i],[]),additionalItems:Ct(e.rest._def,{...n,currentPath:[...n.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((o,i)=>Ct(o._def,{...n,currentPath:[...n.currentPath,"items",`${i}`]})).reduce((o,i)=>i===void 0?o:[...o,i],[])}}function ure(e){return{not:bn(e)}}function lre(e){return bn(e)}const cre=(e,n)=>Ct(e.innerType._def,n),dre=(e,n,o)=>{switch(n){case Le.ZodString:return sG(e,o);case Le.ZodNumber:return Xte(e,o);case Le.ZodObject:return ere(e,o);case Le.ZodBigInt:return Ite(e,o);case Le.ZodBoolean:return zte();case Le.ZodDate:return oG(e,o);case Le.ZodUndefined:return ure(o);case Le.ZodNull:return Jte(o);case Le.ZodArray:return Dte(e,o);case Le.ZodUnion:case Le.ZodDiscriminatedUnion:return Zte(e,o);case Le.ZodIntersection:return Vte(e,o);case Le.ZodTuple:return sre(e,o);case Le.ZodRecord:return uG(e,o);case Le.ZodLiteral:return Gte(e,o);case Le.ZodEnum:return $te(e);case Le.ZodNativeEnum:return Yte(e);case Le.ZodNullable:return Qte(e,o);case Le.ZodOptional:return nre(e,o);case Le.ZodMap:return kte(e,o);case Le.ZodSet:return ore(e,o);case Le.ZodLazy:return()=>e.getter()._def;case Le.ZodPromise:return ire(e,o);case Le.ZodNaN:case Le.ZodNever:return Wte(o);case Le.ZodEffects:return Ute(e,o);case Le.ZodAny:return bn(o);case Le.ZodUnknown:return lre(o);case Le.ZodDefault:return Lte(e,o);case Le.ZodBranded:return iG(e,o);case Le.ZodReadonly:return cre(e,o);case Le.ZodCatch:return qte(e,o);case Le.ZodPipeline:return are(e,o);case Le.ZodFunction:case Le.ZodVoid:case Le.ZodSymbol:return;default:return(i=>{})()}};function Ct(e,n,o=!1){const i=n.seen.get(e);if(n.override){const a=n.override?.(e,n,i,o);if(a!==ate)return a}if(i&&!o){const a=fre(i,n);if(a!==void 0)return a}const u={def:e,path:n.currentPath,jsonSchema:void 0};n.seen.set(e,u);const t=dre(e,e.typeName,n),r=typeof t=="function"?Ct(t(),n):t;if(r&&hre(e,n,r),n.postProcess){const a=n.postProcess(r,e,n);return u.jsonSchema=r,a}return u.jsonSchema=r,r}const fre=(e,n)=>{switch(n.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:eG(n.currentPath,e.path)};case"none":case"seen":return e.path.length<n.currentPath.length&&e.path.every((o,i)=>n.currentPath[i]===o)?(console.warn(`Recursive reference detected at ${n.currentPath.join("/")}! Defaulting to any`),bn(n)):n.$refStrategy==="seen"?bn(n):void 0}},hre=(e,n,o)=>(e.description&&(o.description=e.description,n.markdownDescription&&(o.markdownDescription=e.description)),o),pre=(e,n)=>{const o=ste(n);let i;const u=n?.name,t=Ct(e._def,o,!1)??bn(o);o.flags.hasReferencedOpenAiAnyType&&(i||(i={}),i[o.openAiAnyTypeName]||(i[o.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:o.$refStrategy==="relative"?"1":[...o.basePath,o.definitionPath,o.openAiAnyTypeName].join("/")}}));const r=u===void 0?i?{...t,[o.definitionPath]:i}:t:{$ref:[...o.$refStrategy==="relative"?[]:o.basePath,o.definitionPath,u].join("/"),[o.definitionPath]:{...i,[u]:t}};return o.target==="jsonSchema7"?r.$schema="http://json-schema.org/draft-07/schema#":(o.target==="jsonSchema2019-09"||o.target==="openAi")&&(r.$schema="https://json-schema.org/draft/2019-09/schema#"),o.target==="openAi"&&("anyOf"in r||"oneOf"in r||"allOf"in r||"type"in r&&Array.isArray(r.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),r};function Df(e,n){const o=typeof e;if(o!==typeof n)return!1;if(Array.isArray(e)){if(!Array.isArray(n))return!1;const i=e.length;if(i!==n.length)return!1;for(let u=0;u<i;u++)if(!Df(e[u],n[u]))return!1;return!0}if(o==="object"){if(!e||!n)return e===n;const i=Object.keys(e),u=Object.keys(n);if(i.length!==u.length)return!1;for(const r of i)if(!Df(e[r],n[r]))return!1;return!0}return e===n}function Qu(e){return encodeURI(gre(e))}function gre(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}const mre={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},_re={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},yre={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let vre=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Gc(e,n=Object.create(null),o=vre,i=""){if(e&&typeof e=="object"&&!Array.isArray(e)){const t=e.$id||e.id;if(t){const r=new URL(t,o.href);r.hash.length>1?n[r.href]=e:(r.hash="",i===""?o=r:Gc(e,n,o))}}else if(e!==!0&&e!==!1)return n;const u=o.href+(i?"#"+i:"");if(n[u]!==void 0)throw new Error(`Duplicate schema URI "${u}".`);if(n[u]=e,e===!0||e===!1)return n;if(e.__absolute_uri__===void 0&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:u}),e.$ref&&e.__absolute_ref__===void 0){const t=new URL(e.$ref,o.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:t.href})}if(e.$recursiveRef&&e.__absolute_recursive_ref__===void 0){const t=new URL(e.$recursiveRef,o.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:t.href})}if(e.$anchor){const t=new URL("#"+e.$anchor,o.href);n[t.href]=e}for(let t in e){if(yre[t])continue;const r=`${i}/${Qu(t)}`,a=e[t];if(Array.isArray(a)){if(mre[t]){const s=a.length;for(let l=0;l<s;l++)Gc(a[l],n,o,`${r}/${l}`)}}else if(_re[t])for(let s in a)Gc(a[s],n,o,`${r}/${Qu(s)}`);else Gc(a,n,o,r)}return n}const bre=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,wre=[0,31,28,31,30,31,30,31,31,30,31,30,31],Ore=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Sre=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Ere=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Rre=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,jre=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,Cre=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Tre=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Mre=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,xre=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Pre=e=>{if(e[0]==='"')return!1;const[n,o,...i]=e.split("@");return!n||!o||i.length!==0||n.length>64||o.length>253||n[0]==="."||n.endsWith(".")||n.includes("..")||!/^[a-z0-9.-]+$/i.test(o)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(n)?!1:o.split(".").every(u=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(u))},Are=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Nre=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,Dre=e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e));function gl(e){return e.test.bind(e)}const JD={date:lG,time:cG.bind(void 0,!1),"date-time":qre,duration:Dre,uri:Ure,"uri-reference":gl(Ere),"uri-template":gl(Rre),url:gl(jre),email:Pre,hostname:gl(Sre),ipv4:gl(Are),ipv6:gl(Nre),regex:Fre,uuid:gl(Cre),"json-pointer":gl(Tre),"json-pointer-uri-fragment":gl(Mre),"relative-json-pointer":gl(xre)};function Ire(e){return e%4===0&&(e%100!==0||e%400===0)}function lG(e){const n=e.match(bre);if(!n)return!1;const o=+n[1],i=+n[2],u=+n[3];return i>=1&&i<=12&&u>=1&&u<=(i==2&&Ire(o)?29:wre[i])}function cG(e,n){const o=n.match(Ore);if(!o)return!1;const i=+o[1],u=+o[2],t=+o[3],r=!!o[5];return(i<=23&&u<=59&&t<=59||i==23&&u==59&&t==60)&&(!e||r)}const zre=/t|\s/i;function qre(e){const n=e.split(zre);return n.length==2&&lG(n[0])&&cG(!0,n[1])}const Bre=/\/|:/,Lre=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Ure(e){return Bre.test(e)&&Lre.test(e)}const $re=/[^\\]\\Z/;function Fre(e){if($re.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}function Vre(e){let n=0,o=e.length,i=0,u;for(;i<o;)n++,u=e.charCodeAt(i++),u>=55296&&u<=56319&&i<o&&(u=e.charCodeAt(i),(u&64512)==56320&&i++);return n}function Ft(e,n,o="2019-09",i=Gc(n),u=!0,t=null,r="#",a="#",s=Object.create(null)){if(n===!0)return{valid:!0,errors:[]};if(n===!1)return{valid:!1,errors:[{instanceLocation:r,keyword:"false",keywordLocation:r,error:"False boolean schema."}]};const l=typeof e;let f;switch(l){case"boolean":case"number":case"string":f=l;break;case"object":e===null?f="null":Array.isArray(e)?f="array":f="object";break;default:throw new Error(`Instances of "${l}" type are not supported.`)}const{$ref:m,$recursiveRef:b,$recursiveAnchor:_,type:p,const:y,enum:v,required:S,not:R,anyOf:j,allOf:A,oneOf:x,if:M,then:D,else:P,format:F,properties:B,patternProperties:q,additionalProperties:w,unevaluatedProperties:H,minProperties:Y,maxProperties:W,propertyNames:$,dependentRequired:k,dependentSchemas:Q,dependencies:re,prefixItems:T,items:I,additionalItems:K,unevaluatedItems:ee,contains:fe,minContains:_e,maxContains:V,minItems:U,maxItems:X,uniqueItems:Z,minimum:ue,maximum:ge,exclusiveMinimum:be,exclusiveMaximum:ae,multipleOf:oe,minLength:ve,maxLength:Ce,pattern:Pe,__absolute_ref__:Ae,__absolute_recursive_ref__:de}=n,pe=[];if(_===!0&&t===null&&(t=n),b==="#"){const ye=t===null?i[de]:t,Ie=`${a}/$recursiveRef`,$e=Ft(e,t===null?n:t,o,i,u,ye,r,Ie,s);$e.valid||pe.push({instanceLocation:r,keyword:"$recursiveRef",keywordLocation:Ie,error:"A subschema had errors."},...$e.errors)}if(m!==void 0){const Ie=i[Ae||m];if(Ie===void 0){let ze=`Unresolved $ref "${m}".`;throw Ae&&Ae!==m&&(ze+=`  Absolute URI "${Ae}".`),ze+=`
Known schemas:
- ${Object.keys(i).join(`
- `)}`,new Error(ze)}const $e=`${a}/$ref`,Ne=Ft(e,Ie,o,i,u,t,r,$e,s);if(Ne.valid||pe.push({instanceLocation:r,keyword:"$ref",keywordLocation:$e,error:"A subschema had errors."},...Ne.errors),o==="4"||o==="7")return{valid:pe.length===0,errors:pe}}if(Array.isArray(p)){let ye=p.length,Ie=!1;for(let $e=0;$e<ye;$e++)if(f===p[$e]||p[$e]==="integer"&&f==="number"&&e%1===0&&e===e){Ie=!0;break}Ie||pe.push({instanceLocation:r,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${p.join('", "')}".`})}else p==="integer"?(f!=="number"||e%1||e!==e)&&pe.push({instanceLocation:r,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${p}".`}):p!==void 0&&f!==p&&pe.push({instanceLocation:r,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${p}".`});if(y!==void 0&&(f==="object"||f==="array"?Df(e,y)||pe.push({instanceLocation:r,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(y)}.`}):e!==y&&pe.push({instanceLocation:r,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(y)}.`})),v!==void 0&&(f==="object"||f==="array"?v.some(ye=>Df(e,ye))||pe.push({instanceLocation:r,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`}):v.some(ye=>e===ye)||pe.push({instanceLocation:r,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`})),R!==void 0){const ye=`${a}/not`;Ft(e,R,o,i,u,t,r,ye).valid&&pe.push({instanceLocation:r,keyword:"not",keywordLocation:ye,error:'Instance matched "not" schema.'})}let De=[];if(j!==void 0){const ye=`${a}/anyOf`,Ie=pe.length;let $e=!1;for(let Ne=0;Ne<j.length;Ne++){const ze=j[Ne],G=Object.create(s),N=Ft(e,ze,o,i,u,_===!0?t:null,r,`${ye}/${Ne}`,G);pe.push(...N.errors),$e=$e||N.valid,N.valid&&De.push(G)}$e?pe.length=Ie:pe.splice(Ie,0,{instanceLocation:r,keyword:"anyOf",keywordLocation:ye,error:"Instance does not match any subschemas."})}if(A!==void 0){const ye=`${a}/allOf`,Ie=pe.length;let $e=!0;for(let Ne=0;Ne<A.length;Ne++){const ze=A[Ne],G=Object.create(s),N=Ft(e,ze,o,i,u,_===!0?t:null,r,`${ye}/${Ne}`,G);pe.push(...N.errors),$e=$e&&N.valid,N.valid&&De.push(G)}$e?pe.length=Ie:pe.splice(Ie,0,{instanceLocation:r,keyword:"allOf",keywordLocation:ye,error:"Instance does not match every subschema."})}if(x!==void 0){const ye=`${a}/oneOf`,Ie=pe.length,$e=x.filter((Ne,ze)=>{const G=Object.create(s),N=Ft(e,Ne,o,i,u,_===!0?t:null,r,`${ye}/${ze}`,G);return pe.push(...N.errors),N.valid&&De.push(G),N.valid}).length;$e===1?pe.length=Ie:pe.splice(Ie,0,{instanceLocation:r,keyword:"oneOf",keywordLocation:ye,error:`Instance does not match exactly one subschema (${$e} matches).`})}if((f==="object"||f==="array")&&Object.assign(s,...De),M!==void 0){const ye=`${a}/if`;if(Ft(e,M,o,i,u,t,r,ye,s).valid){if(D!==void 0){const $e=Ft(e,D,o,i,u,t,r,`${a}/then`,s);$e.valid||pe.push({instanceLocation:r,keyword:"if",keywordLocation:ye,error:'Instance does not match "then" schema.'},...$e.errors)}}else if(P!==void 0){const $e=Ft(e,P,o,i,u,t,r,`${a}/else`,s);$e.valid||pe.push({instanceLocation:r,keyword:"if",keywordLocation:ye,error:'Instance does not match "else" schema.'},...$e.errors)}}if(f==="object"){if(S!==void 0)for(const Ne of S)Ne in e||pe.push({instanceLocation:r,keyword:"required",keywordLocation:`${a}/required`,error:`Instance does not have required property "${Ne}".`});const ye=Object.keys(e);if(Y!==void 0&&ye.length<Y&&pe.push({instanceLocation:r,keyword:"minProperties",keywordLocation:`${a}/minProperties`,error:`Instance does not have at least ${Y} properties.`}),W!==void 0&&ye.length>W&&pe.push({instanceLocation:r,keyword:"maxProperties",keywordLocation:`${a}/maxProperties`,error:`Instance does not have at least ${W} properties.`}),$!==void 0){const Ne=`${a}/propertyNames`;for(const ze in e){const G=`${r}/${Qu(ze)}`,N=Ft(ze,$,o,i,u,t,G,Ne);N.valid||pe.push({instanceLocation:r,keyword:"propertyNames",keywordLocation:Ne,error:`Property name "${ze}" does not match schema.`},...N.errors)}}if(k!==void 0){const Ne=`${a}/dependantRequired`;for(const ze in k)if(ze in e){const G=k[ze];for(const N of G)N in e||pe.push({instanceLocation:r,keyword:"dependentRequired",keywordLocation:Ne,error:`Instance has "${ze}" but does not have "${N}".`})}}if(Q!==void 0)for(const Ne in Q){const ze=`${a}/dependentSchemas`;if(Ne in e){const G=Ft(e,Q[Ne],o,i,u,t,r,`${ze}/${Qu(Ne)}`,s);G.valid||pe.push({instanceLocation:r,keyword:"dependentSchemas",keywordLocation:ze,error:`Instance has "${Ne}" but does not match dependant schema.`},...G.errors)}}if(re!==void 0){const Ne=`${a}/dependencies`;for(const ze in re)if(ze in e){const G=re[ze];if(Array.isArray(G))for(const N of G)N in e||pe.push({instanceLocation:r,keyword:"dependencies",keywordLocation:Ne,error:`Instance has "${ze}" but does not have "${N}".`});else{const N=Ft(e,G,o,i,u,t,r,`${Ne}/${Qu(ze)}`);N.valid||pe.push({instanceLocation:r,keyword:"dependencies",keywordLocation:Ne,error:`Instance has "${ze}" but does not match dependant schema.`},...N.errors)}}}const Ie=Object.create(null);let $e=!1;if(B!==void 0){const Ne=`${a}/properties`;for(const ze in B){if(!(ze in e))continue;const G=`${r}/${Qu(ze)}`,N=Ft(e[ze],B[ze],o,i,u,t,G,`${Ne}/${Qu(ze)}`);if(N.valid)s[ze]=Ie[ze]=!0;else if($e=u,pe.push({instanceLocation:r,keyword:"properties",keywordLocation:Ne,error:`Property "${ze}" does not match schema.`},...N.errors),$e)break}}if(!$e&&q!==void 0){const Ne=`${a}/patternProperties`;for(const ze in q){const G=new RegExp(ze,"u"),N=q[ze];for(const z in e){if(!G.test(z))continue;const ne=`${r}/${Qu(z)}`,ce=Ft(e[z],N,o,i,u,t,ne,`${Ne}/${Qu(ze)}`);ce.valid?s[z]=Ie[z]=!0:($e=u,pe.push({instanceLocation:r,keyword:"patternProperties",keywordLocation:Ne,error:`Property "${z}" matches pattern "${ze}" but does not match associated schema.`},...ce.errors))}}}if(!$e&&w!==void 0){const Ne=`${a}/additionalProperties`;for(const ze in e){if(Ie[ze])continue;const G=`${r}/${Qu(ze)}`,N=Ft(e[ze],w,o,i,u,t,G,Ne);N.valid?s[ze]=!0:($e=u,pe.push({instanceLocation:r,keyword:"additionalProperties",keywordLocation:Ne,error:`Property "${ze}" does not match additional properties schema.`},...N.errors))}}else if(!$e&&H!==void 0){const Ne=`${a}/unevaluatedProperties`;for(const ze in e)if(!s[ze]){const G=`${r}/${Qu(ze)}`,N=Ft(e[ze],H,o,i,u,t,G,Ne);N.valid?s[ze]=!0:pe.push({instanceLocation:r,keyword:"unevaluatedProperties",keywordLocation:Ne,error:`Property "${ze}" does not match unevaluated properties schema.`},...N.errors)}}}else if(f==="array"){X!==void 0&&e.length>X&&pe.push({instanceLocation:r,keyword:"maxItems",keywordLocation:`${a}/maxItems`,error:`Array has too many items (${e.length} > ${X}).`}),U!==void 0&&e.length<U&&pe.push({instanceLocation:r,keyword:"minItems",keywordLocation:`${a}/minItems`,error:`Array has too few items (${e.length} < ${U}).`});const ye=e.length;let Ie=0,$e=!1;if(T!==void 0){const Ne=`${a}/prefixItems`,ze=Math.min(T.length,ye);for(;Ie<ze;Ie++){const G=Ft(e[Ie],T[Ie],o,i,u,t,`${r}/${Ie}`,`${Ne}/${Ie}`);if(s[Ie]=!0,!G.valid&&($e=u,pe.push({instanceLocation:r,keyword:"prefixItems",keywordLocation:Ne,error:"Items did not match schema."},...G.errors),$e))break}}if(I!==void 0){const Ne=`${a}/items`;if(Array.isArray(I)){const ze=Math.min(I.length,ye);for(;Ie<ze;Ie++){const G=Ft(e[Ie],I[Ie],o,i,u,t,`${r}/${Ie}`,`${Ne}/${Ie}`);if(s[Ie]=!0,!G.valid&&($e=u,pe.push({instanceLocation:r,keyword:"items",keywordLocation:Ne,error:"Items did not match schema."},...G.errors),$e))break}}else for(;Ie<ye;Ie++){const ze=Ft(e[Ie],I,o,i,u,t,`${r}/${Ie}`,Ne);if(s[Ie]=!0,!ze.valid&&($e=u,pe.push({instanceLocation:r,keyword:"items",keywordLocation:Ne,error:"Items did not match schema."},...ze.errors),$e))break}if(!$e&&K!==void 0){const ze=`${a}/additionalItems`;for(;Ie<ye;Ie++){const G=Ft(e[Ie],K,o,i,u,t,`${r}/${Ie}`,ze);s[Ie]=!0,G.valid||($e=u,pe.push({instanceLocation:r,keyword:"additionalItems",keywordLocation:ze,error:"Items did not match additional items schema."},...G.errors))}}}if(fe!==void 0)if(ye===0&&_e===void 0)pe.push({instanceLocation:r,keyword:"contains",keywordLocation:`${a}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(_e!==void 0&&ye<_e)pe.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array has less items (${ye}) than minContains (${_e}).`});else{const Ne=`${a}/contains`,ze=pe.length;let G=0;for(let N=0;N<ye;N++){const z=Ft(e[N],fe,o,i,u,t,`${r}/${N}`,Ne);z.valid?(s[N]=!0,G++):pe.push(...z.errors)}G>=(_e||0)&&(pe.length=ze),_e===void 0&&V===void 0&&G===0?pe.splice(ze,0,{instanceLocation:r,keyword:"contains",keywordLocation:Ne,error:"Array does not contain item matching schema."}):_e!==void 0&&G<_e?pe.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array must contain at least ${_e} items matching schema. Only ${G} items were found.`}):V!==void 0&&G>V&&pe.push({instanceLocation:r,keyword:"maxContains",keywordLocation:`${a}/maxContains`,error:`Array may contain at most ${V} items matching schema. ${G} items were found.`})}if(!$e&&ee!==void 0){const Ne=`${a}/unevaluatedItems`;for(Ie;Ie<ye;Ie++){if(s[Ie])continue;const ze=Ft(e[Ie],ee,o,i,u,t,`${r}/${Ie}`,Ne);s[Ie]=!0,ze.valid||pe.push({instanceLocation:r,keyword:"unevaluatedItems",keywordLocation:Ne,error:"Items did not match unevaluated items schema."},...ze.errors)}}if(Z)for(let Ne=0;Ne<ye;Ne++){const ze=e[Ne],G=typeof ze=="object"&&ze!==null;for(let N=0;N<ye;N++){if(Ne===N)continue;const z=e[N];(ze===z||G&&(typeof z=="object"&&z!==null)&&Df(ze,z))&&(pe.push({instanceLocation:r,keyword:"uniqueItems",keywordLocation:`${a}/uniqueItems`,error:`Duplicate items at indexes ${Ne} and ${N}.`}),Ne=Number.MAX_SAFE_INTEGER,N=Number.MAX_SAFE_INTEGER)}}}else if(f==="number"){if(o==="4"?(ue!==void 0&&(be===!0&&e<=ue||e<ue)&&pe.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${be?"or equal to ":""} ${ue}.`}),ge!==void 0&&(ae===!0&&e>=ge||e>ge)&&pe.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${ae?"or equal to ":""} ${ge}.`})):(ue!==void 0&&e<ue&&pe.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${ue}.`}),ge!==void 0&&e>ge&&pe.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${ge}.`}),be!==void 0&&e<=be&&pe.push({instanceLocation:r,keyword:"exclusiveMinimum",keywordLocation:`${a}/exclusiveMinimum`,error:`${e} is less than ${be}.`}),ae!==void 0&&e>=ae&&pe.push({instanceLocation:r,keyword:"exclusiveMaximum",keywordLocation:`${a}/exclusiveMaximum`,error:`${e} is greater than or equal to ${ae}.`})),oe!==void 0){const ye=e%oe;Math.abs(0-ye)>=11920929e-14&&Math.abs(oe-ye)>=11920929e-14&&pe.push({instanceLocation:r,keyword:"multipleOf",keywordLocation:`${a}/multipleOf`,error:`${e} is not a multiple of ${oe}.`})}}else if(f==="string"){const ye=ve===void 0&&Ce===void 0?0:Vre(e);ve!==void 0&&ye<ve&&pe.push({instanceLocation:r,keyword:"minLength",keywordLocation:`${a}/minLength`,error:`String is too short (${ye} < ${ve}).`}),Ce!==void 0&&ye>Ce&&pe.push({instanceLocation:r,keyword:"maxLength",keywordLocation:`${a}/maxLength`,error:`String is too long (${ye} > ${Ce}).`}),Pe!==void 0&&!new RegExp(Pe,"u").test(e)&&pe.push({instanceLocation:r,keyword:"pattern",keywordLocation:`${a}/pattern`,error:"String does not match pattern."}),F!==void 0&&JD[F]&&!JD[F](e)&&pe.push({instanceLocation:r,keyword:"format",keywordLocation:`${a}/format`,error:`String does not match format "${F}".`})}return{valid:pe.length===0,errors:pe}}class Gre{schema;draft;shortCircuit;lookup;constructor(n,o="2019-09",i=!0){this.schema=n,this.draft=o,this.shortCircuit=i,this.lookup=Gc(n)}validate(n){return Ft(n,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(n,o){o&&(n={...n,$id:o}),Gc(n,this.lookup)}}var Hre={};ct(Hre,{Validator:()=>Gre,deepCompareStrict:()=>Df,toJsonSchema:()=>Xl,validatesOnlyStrings:()=>Hv});function Xl(e,n){if(Ht(e)){const o=XV(e,!0);if(yl(o)){const i=sb(o,!0);return PD(i,n)}else return PD(e,n)}return cr(e)?pre(e):e}function Hv(e){if(!e||typeof e!="object"||Object.keys(e).length===0||Array.isArray(e))return!1;if("type"in e)return typeof e.type=="string"?e.type==="string":Array.isArray(e.type)?e.type.every(n=>n==="string"):!1;if("enum"in e)return Array.isArray(e.enum)&&e.enum.length>0&&e.enum.every(n=>typeof n=="string");if("const"in e)return typeof e.const=="string";if("allOf"in e&&Array.isArray(e.allOf))return e.allOf.some(n=>Hv(n));if("anyOf"in e&&Array.isArray(e.anyOf)||"oneOf"in e&&Array.isArray(e.oneOf)){const n="anyOf"in e?e.anyOf:e.oneOf;return n.length>0&&n.every(o=>Hv(o))}if("not"in e)return!1;if("$ref"in e&&typeof e.$ref=="string"){const n=e.$ref,o=Gc(e);return o[n]?Hv(o[n]):!1}return!1}function ed(e){return typeof e=="object"&&e!==null&&"type"in e&&typeof e.type=="string"&&"source_type"in e&&(e.source_type==="url"||e.source_type==="base64"||e.source_type==="text"||e.source_type==="id")}function QT(e){return ed(e)&&e.source_type==="url"&&"url"in e&&typeof e.url=="string"}function XT(e){return ed(e)&&e.source_type==="base64"&&"data"in e&&typeof e.data=="string"}function Kre(e){return ed(e)&&e.source_type==="text"&&"text"in e&&typeof e.text=="string"}function dG(e){return ed(e)&&e.source_type==="id"&&"id"in e&&typeof e.id=="string"}function fG(e){if(ed(e)){if(e.source_type==="url")return{type:"image_url",image_url:{url:e.url}};if(e.source_type==="base64"){if(!e.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${e.mime_type};base64,${e.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function kre(e){const n=e.split(";")[0].split("/");if(n.length!==2)throw new Error(`Invalid mime type: "${e}" - does not match type/subtype format.`);const o=n[0].trim(),i=n[1].trim();if(o===""||i==="")throw new Error(`Invalid mime type: "${e}" - type or subtype is empty.`);const u={};for(const t of e.split(";").slice(1)){const r=t.split("=");if(r.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${e}".`);const a=r[0].trim(),s=r[1].trim();if(a==="")throw new Error(`Invalid parameter syntax in mime type: "${e}".`);u[a]=s}return{type:o,subtype:i,parameters:u}}function W1({dataUrl:e,asTypedArray:n=!1}){const o=e.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let i;if(o){i=o[1].toLowerCase();const u=n?Uint8Array.from(atob(o[2]),t=>t.charCodeAt(0)):o[2];return{mime_type:i,data:u}}}function Yre(e,n){if(e.type==="text"){if(!n.fromStandardTextBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardTextBlock\` method.`);return n.fromStandardTextBlock(e)}if(e.type==="image"){if(!n.fromStandardImageBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardImageBlock\` method.`);return n.fromStandardImageBlock(e)}if(e.type==="audio"){if(!n.fromStandardAudioBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardAudioBlock\` method.`);return n.fromStandardAudioBlock(e)}if(e.type==="file"){if(!n.fromStandardFileBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardFileBlock\` method.`);return n.fromStandardFileBlock(e)}throw new Error(`Unable to convert content block type '${e.type}' to provider-specific format: not recognized.`)}var IO,ZD;function Wre(){return ZD||(ZD=1,IO=function(e,n){if(typeof e!="string")throw new TypeError("Expected a string");return n=typeof n>"u"?"_":n,e.replace(/([a-z\d])([A-Z])/g,"$1"+n+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+n+"$2").toLowerCase()}),IO}var Jre=Wre();const Zre=a_(Jre);var Ky={exports:{}},QD;function Qre(){if(QD)return Ky.exports;QD=1;const e=/[\p{Lu}]/u,n=/[\p{Ll}]/u,o=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,u=/[_.\- ]+/,t=new RegExp("^"+u.source),r=new RegExp(u.source+i.source,"gu"),a=new RegExp("\\d+"+i.source,"gu"),s=(b,_,p)=>{let y=!1,v=!1,S=!1;for(let R=0;R<b.length;R++){const j=b[R];y&&e.test(j)?(b=b.slice(0,R)+"-"+b.slice(R),y=!1,S=v,v=!0,R++):v&&S&&n.test(j)?(b=b.slice(0,R-1)+"-"+b.slice(R-1),S=v,v=!1,y=!0):(y=_(j)===j&&p(j)!==j,S=v,v=p(j)===j&&_(j)!==j)}return b},l=(b,_)=>(o.lastIndex=0,b.replace(o,p=>_(p))),f=(b,_)=>(r.lastIndex=0,a.lastIndex=0,b.replace(r,(p,y)=>_(y)).replace(a,p=>_(p))),m=(b,_)=>{if(!(typeof b=="string"||Array.isArray(b)))throw new TypeError("Expected the input to be `string | string[]`");if(_={pascalCase:!1,preserveConsecutiveUppercase:!1,..._},Array.isArray(b)?b=b.map(S=>S.trim()).filter(S=>S.length).join("-"):b=b.trim(),b.length===0)return"";const p=_.locale===!1?S=>S.toLowerCase():S=>S.toLocaleLowerCase(_.locale),y=_.locale===!1?S=>S.toUpperCase():S=>S.toLocaleUpperCase(_.locale);return b.length===1?_.pascalCase?y(b):p(b):(b!==p(b)&&(b=s(b,p,y)),b=b.replace(t,""),_.preserveConsecutiveUppercase?b=l(b,p):b=p(b),_.pascalCase&&(b=y(b.charAt(0))+b.slice(1)),f(b,y))};return Ky.exports=m,Ky.exports.default=m,Ky.exports}Qre();function Xre(e,n){return n?.[e]||Zre(e)}function ene(e,n,o){const i={};for(const u in e)Object.hasOwn(e,u)&&(i[n(u,o)]=e[u]);return i}const hG="__lc_escaped__";function tne(e){return"lc"in e||Object.keys(e).length===1&&hG in e}function rne(e){return{[hG]:e}}function nne(e){return e!==null&&typeof e=="object"&&"lc_serializable"in e&&typeof e.toJSON=="function"}function J1(e){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){if(nne(e))return e;const n=e;if(tne(n))return rne(n);const o={};for(const[i,u]of Object.entries(n))o[i]=J1(u);return o}return Array.isArray(e)?e.map(n=>J1(n)):e}var ane={};ct(ane,{Serializable:()=>Uf,get_lc_unique_name:()=>eM});function XD(e){return Array.isArray(e)?[...e]:{...e}}function ine(e,n){const o=XD(e);for(const[i,u]of Object.entries(n)){const[t,...r]=i.split(".").reverse();let a=o;for(const s of r.reverse()){if(a[s]===void 0)break;a[s]=XD(a[s]),a=a[s]}a[t]!==void 0&&(a[t]={lc:1,type:"secret",id:[u]})}return o}function eM(e){const n=Object.getPrototypeOf(e);return typeof e.lc_name=="function"&&(typeof n.lc_name!="function"||e.lc_name()!==n.lc_name())?e.lc_name():e.name}var Uf=class pG{lc_serializable=!1;lc_kwargs;static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,eM(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(n,...o){this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(n||{}).filter(([i])=>this.lc_serializable_keys?.includes(i))):this.lc_kwargs=n??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof pG||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const n={},o={},i=Object.keys(this.lc_kwargs).reduce((a,s)=>(a[s]=s in this?this[s]:this.lc_kwargs[s],a),{});for(let a=Object.getPrototypeOf(this);a;a=Object.getPrototypeOf(a))Object.assign(n,Reflect.get(a,"lc_aliases",this)),Object.assign(o,Reflect.get(a,"lc_secrets",this)),Object.assign(i,Reflect.get(a,"lc_attributes",this));Object.keys(o).forEach(a=>{let s=this,l=i;const[f,...m]=a.split(".").reverse();for(const b of m.reverse()){if(!(b in s)||s[b]===void 0)return;(!(b in l)||l[b]===void 0)&&(typeof s[b]=="object"&&s[b]!=null?l[b]={}:Array.isArray(s[b])&&(l[b]=[])),s=s[b],l=l[b]}f in s&&s[f]!==void 0&&(l[f]=l[f]||s[f])});const u={};for(const[a,s]of Object.entries(i))u[a]=J1(s);const t=Object.keys(o).length?ine(u,o):u,r=ene(t,Xre,n);return{lc:1,type:"constructor",id:this.lc_id,kwargs:r}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function et(e,n){return it(e)&&e.type===n}function it(e){return typeof e=="object"&&e!==null}function bl(e){return Array.isArray(e)}function Ve(e){return typeof e=="string"}function Xu(e){return typeof e=="number"}function tM(e){return e instanceof Uint8Array}function eI(e){try{return JSON.parse(e)}catch{return}}const Km=e=>e();function one(e){if(e.type==="char_location"&&Ve(e.document_title)&&Xu(e.start_char_index)&&Xu(e.end_char_index)&&Ve(e.cited_text)){const{document_title:n,start_char_index:o,end_char_index:i,cited_text:u,...t}=e;return{...t,type:"citation",source:"char",title:n??void 0,startIndex:o,endIndex:i,citedText:u}}if(e.type==="page_location"&&Ve(e.document_title)&&Xu(e.start_page_number)&&Xu(e.end_page_number)&&Ve(e.cited_text)){const{document_title:n,start_page_number:o,end_page_number:i,cited_text:u,...t}=e;return{...t,type:"citation",source:"page",title:n??void 0,startIndex:o,endIndex:i,citedText:u}}if(e.type==="content_block_location"&&Ve(e.document_title)&&Xu(e.start_block_index)&&Xu(e.end_block_index)&&Ve(e.cited_text)){const{document_title:n,start_block_index:o,end_block_index:i,cited_text:u,...t}=e;return{...t,type:"citation",source:"block",title:n??void 0,startIndex:o,endIndex:i,citedText:u}}if(e.type==="web_search_result_location"&&Ve(e.url)&&Ve(e.title)&&Ve(e.encrypted_index)&&Ve(e.cited_text)){const{url:n,title:o,encrypted_index:i,cited_text:u,...t}=e;return{...t,type:"citation",source:"url",url:n,title:o,startIndex:Number(i),endIndex:Number(i),citedText:u}}if(e.type==="search_result_location"&&Ve(e.source)&&Ve(e.title)&&Xu(e.start_block_index)&&Xu(e.end_block_index)&&Ve(e.cited_text)){const{source:n,title:o,start_block_index:i,end_block_index:u,cited_text:t,...r}=e;return{...r,type:"citation",source:"search",url:n,title:o??void 0,startIndex:i,endIndex:u,citedText:t}}}function gG(e){if(et(e,"document")&&it(e.source)&&"type"in e.source){if(e.source.type==="base64"&&Ve(e.source.media_type)&&Ve(e.source.data))return{type:"file",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&Ve(e.source.url))return{type:"file",url:e.source.url};if(e.source.type==="file"&&Ve(e.source.file_id))return{type:"file",fileId:e.source.file_id};if(e.source.type==="text"&&Ve(e.source.data))return{type:"file",mimeType:String(e.source.media_type??"text/plain"),data:e.source.data}}else if(et(e,"image")&&it(e.source)&&"type"in e.source){if(e.source.type==="base64"&&Ve(e.source.media_type)&&Ve(e.source.data))return{type:"image",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&Ve(e.source.url))return{type:"image",url:e.source.url};if(e.source.type==="file"&&Ve(e.source.file_id))return{type:"image",fileId:e.source.file_id}}}function sne(e){function*n(){for(const o of e){const i=gG(o);i?yield i:yield o}}return Array.from(n())}function tI(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(et(i,"text")&&Ve(i.text)){const{text:u,citations:t,...r}=i;if(bl(t)&&t.length){const a=t.reduce((s,l)=>{const f=one(l);return f?[...s,f]:s},[]);yield{...r,type:"text",text:u,annotations:a};continue}else{yield{...r,type:"text",text:u};continue}}else if(et(i,"thinking")&&Ve(i.thinking)){const{thinking:u,signature:t,...r}=i;yield{...r,type:"reasoning",reasoning:u,signature:t};continue}else if(et(i,"redacted_thinking")){yield{type:"non_standard",value:i};continue}else if(et(i,"tool_use")&&Ve(i.name)&&Ve(i.id)){yield{type:"tool_call",id:i.id,name:i.name,args:i.input};continue}else if(et(i,"input_json_delta")){if(lne(e)&&e.tool_call_chunks?.length){const u=e.tool_call_chunks[0];yield{type:"tool_call_chunk",id:u.id,name:u.name,args:u.args,index:u.index};continue}}else if(et(i,"server_tool_use")&&Ve(i.name)&&Ve(i.id)){const{name:u,id:t}=i;if(u==="web_search"){const r=Km(()=>{if(typeof i.input=="string")return i.input;if(it(i.input)&&Ve(i.input.query))return i.input.query;if(Ve(i.partial_json)){const a=eI(i.partial_json);if(a?.query)return a.query}return""});yield{id:t,type:"server_tool_call",name:"web_search",args:{query:r}};continue}else if(i.name==="code_execution"){const r=Km(()=>{if(typeof i.input=="string")return i.input;if(it(i.input)&&Ve(i.input.code))return i.input.code;if(Ve(i.partial_json)){const a=eI(i.partial_json);if(a?.code)return a.code}return""});yield{id:t,type:"server_tool_call",name:"code_execution",args:{code:r}};continue}}else if(et(i,"web_search_tool_result")&&Ve(i.tool_use_id)&&bl(i.content)){const{content:u,tool_use_id:t}=i,r=u.reduce((a,s)=>et(s,"web_search_result")?[...a,s.url]:a,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:t,status:"success",output:{urls:r}};continue}else if(et(i,"code_execution_tool_result")&&Ve(i.tool_use_id)&&it(i.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(et(i,"mcp_tool_use")){yield{id:i.id,type:"server_tool_call",name:"mcp_tool_use",args:i.input};continue}else if(et(i,"mcp_tool_result")&&Ve(i.tool_use_id)&&it(i.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(et(i,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:i.input};continue}else if(et(i,"search_result")){yield{id:i.id,type:"non_standard",value:i};continue}else if(et(i,"tool_result")){yield{id:i.id,type:"non_standard",value:i};continue}else{const u=gG(i);if(u){yield u;continue}}yield{type:"non_standard",value:i}}}return Array.from(n())}const une={translateContent:tI,translateContentChunk:tI};function lne(e){return typeof e?._getType=="function"&&typeof e.concat=="function"&&e._getType()==="ai"}function cne(e){return QT(e)?{type:e.type,mimeType:e.mime_type,url:e.url,metadata:e.metadata}:XT(e)?{type:e.type,mimeType:e.mime_type??"application/octet-stream",data:e.data,metadata:e.metadata}:dG(e)?{type:e.type,mimeType:e.mime_type,fileId:e.id,metadata:e.metadata}:e}function dne(e){return e.map(cne)}function fne(e){return!!(et(e,"image_url")&&it(e.image_url)||et(e,"input_audio")&&it(e.input_audio)||et(e,"file")&&it(e.file))}function hne(e){if(et(e,"image_url")&&it(e.image_url)&&Ve(e.image_url.url)){const n=W1({dataUrl:e.image_url.url});return n?{type:"image",mimeType:n.mime_type,data:n.data}:{type:"image",url:e.image_url.url}}else{if(et(e,"input_audio")&&it(e.input_audio)&&Ve(e.input_audio.data)&&Ve(e.input_audio.format))return{type:"audio",data:e.input_audio.data,mimeType:`audio/${e.input_audio.format}`};if(et(e,"file")&&it(e.file)&&Ve(e.file.data)){const n=W1({dataUrl:e.file.data});if(n)return{type:"file",data:n.data,mimeType:n.mime_type};if(Ve(e.file.file_id))return{type:"file",fileId:e.file.file_id}}}return e}function pne(e){const n=[];typeof e.content=="string"?n.push({type:"text",text:e.content}):n.push(...rM(e.content));for(const o of e.tool_calls??[])n.push({type:"tool_call",id:o.id,name:o.name,args:o.args});return n}function gne(e){const n=[];typeof e.content=="string"?n.push({type:"text",text:e.content}):n.push(...rM(e.content));for(const o of e.tool_calls??[])n.push({type:"tool_call",id:o.id,name:o.name,args:o.args});return n}function rM(e){const n=[];for(const o of e)fne(o)?n.push(hne(o)):n.push(o);return n}function mne(e){if(e.type==="url_citation"){const{url:n,title:o,start_index:i,end_index:u}=e;return{type:"citation",url:n,title:o,startIndex:i,endIndex:u}}if(e.type==="file_citation"){const{file_id:n,filename:o,index:i}=e;return{type:"citation",title:o,startIndex:i,endIndex:i,fileId:n}}return e}function mG(e){function*n(){it(e.additional_kwargs?.reasoning)&&bl(e.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:e.additional_kwargs.reasoning.summary.reduce((u,t)=>it(t)&&Ve(t.text)?`${u}${t.text}`:u,"")});const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o)if(et(i,"text")){const{text:u,annotations:t,...r}=i;Array.isArray(t)?yield{...r,type:"text",text:String(u),annotations:t.map(mne)}:yield{...r,type:"text",text:String(u)}}for(const i of e.tool_calls??[])yield{type:"tool_call",id:i.id,name:i.name,args:i.args};if(it(e.additional_kwargs)&&bl(e.additional_kwargs.tool_outputs))for(const i of e.additional_kwargs.tool_outputs){if(et(i,"web_search_call")){yield{id:i.id,type:"server_tool_call",name:"web_search",args:{query:i.query}};continue}else if(et(i,"file_search_call")){yield{id:i.id,type:"server_tool_call",name:"file_search",args:{query:i.query}};continue}else if(et(i,"computer_call")){yield{type:"non_standard",value:i};continue}else if(et(i,"code_interpreter_call")){if(Ve(i.code)&&(yield{id:i.id,type:"server_tool_call",name:"code_interpreter",args:{code:i.code}}),bl(i.outputs)){const u=Km(()=>{if(i.status!=="in_progress"){if(i.status==="completed")return 0;if(i.status==="incomplete")return 127;if(i.status!=="interpreting"&&i.status==="failed")return 1}});for(const t of i.outputs)if(et(t,"logs")){yield{type:"server_tool_call_result",toolCallId:i.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:u??0,stderr:[0,void 0].includes(u)?void 0:String(t.logs),stdout:[0,void 0].includes(u)?String(t.logs):void 0}};continue}}continue}else if(et(i,"mcp_call")){yield{id:i.id,type:"server_tool_call",name:"mcp_call",args:i.input};continue}else if(et(i,"mcp_list_tools")){yield{id:i.id,type:"server_tool_call",name:"mcp_list_tools",args:i.input};continue}else if(et(i,"mcp_approval_request")){yield{type:"non_standard",value:i};continue}else if(et(i,"image_generation_call")){yield{type:"non_standard",value:i};continue}it(i)&&(yield{type:"non_standard",value:i})}}return Array.from(n())}function _ne(e){function*n(){yield*mG(e);for(const o of e.tool_call_chunks??[])yield{type:"tool_call_chunk",id:o.id,name:o.name,args:o.args}}return Array.from(n())}const yne={translateContent:e=>typeof e.content=="string"?pne(e):mG(e),translateContentChunk:e=>typeof e.content=="string"?gne(e):_ne(e)};function _G(e){return typeof e=="object"&&e!==null&&"type"in e&&"content"in e&&(typeof e.content=="string"||Array.isArray(e.content))}function vne(e,n="pretty"){return n==="pretty"?bne(e):JSON.stringify(e)}function bne(e){const n=[],o=` ${e.type.charAt(0).toUpperCase()+e.type.slice(1)} Message `,i=Math.floor((80-o.length)/2),u="=".repeat(i),t=o.length%2===0?u:`${u}=`;if(n.push(`${u}${o}${t}`),e.type==="ai"){const r=e;if(r.tool_calls&&r.tool_calls.length>0){n.push("Tool Calls:");for(const a of r.tool_calls){n.push(`  ${a.name} (${a.id})`),n.push(` Call ID: ${a.id}`),n.push("  Args:");for(const[s,l]of Object.entries(a.args))n.push(`    ${s}: ${typeof l=="object"?JSON.stringify(l):l}`)}}}if(e.type==="tool"){const r=e;r.name&&n.push(`Name: ${r.name}`)}return typeof e.content=="string"&&e.content.trim()&&(n.length>1&&n.push(""),n.push(e.content)),n.join(`
`)}const zO=Symbol.for("langchain.message");function ec(e,n){return typeof e=="string"?e===""?n:typeof n=="string"?e+n:Array.isArray(n)&&n.length===0?e:Array.isArray(n)&&n.some(o=>ed(o))?[{type:"text",source_type:"text",text:e},...n]:[{type:"text",text:e},...n]:Array.isArray(n)?o_(e,n)??[...e,...n]:n===""?e:Array.isArray(e)&&e.some(o=>ed(o))?[...e,{type:"file",source_type:"text",text:n}]:[...e,{type:"text",text:n}]}function yG(e,n){return e==="error"||n==="error"?"error":"success"}function wne(e,n){function o(i,u){if(typeof i!="object"||i===null||i===void 0)return i;if(u>=n)return Array.isArray(i)?"[Array]":"[Object]";if(Array.isArray(i))return i.map(r=>o(r,u+1));const t={};for(const r of Object.keys(i))t[r]=o(i[r],u+1);return t}return JSON.stringify(o(e,0),null,2)}var qn=class extends Uf{lc_namespace=["langchain_core","messages"];lc_serializable=!0;get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}[zO]=!0;id;name;content;additional_kwargs;response_metadata;_getType(){return this.type}getType(){return this._getType()}constructor(e){const n=typeof e=="string"||Array.isArray(e)?{content:e}:e;n.additional_kwargs||(n.additional_kwargs={}),n.response_metadata||(n.response_metadata={}),super(n),this.name=n.name,n.content===void 0&&n.contentBlocks!==void 0?(this.content=n.contentBlocks,this.response_metadata={output_version:"v1",...n.response_metadata}):n.content!==void 0?(this.content=n.content??[],this.response_metadata=n.response_metadata):(this.content=[],this.response_metadata=n.response_metadata),this.additional_kwargs=n.additional_kwargs,this.id=n.id}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){const e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[dne,rM,sne].reduce((i,u)=>u(i),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&zO in e&&e[zO]===!0&&_G(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=wne(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}toFormattedString(e="pretty"){return vne(this,e)}};function One(e){return Array.isArray(e)&&e.every(n=>typeof n.index=="number")}function Rr(e={},n={}){const o={...e};for(const[i,u]of Object.entries(n))if(o[i]==null)o[i]=u;else{if(u==null)continue;if(typeof o[i]!=typeof u||Array.isArray(o[i])!==Array.isArray(u))throw new Error(`field[${i}] already exists in the message chunk, but with a different type.`);if(typeof o[i]=="string"){if(i==="type")continue;["id","name","output_version","model_provider"].includes(i)?u&&(o[i]=u):o[i]+=u}else if(typeof o[i]=="object"&&!Array.isArray(o[i]))o[i]=Rr(o[i],u);else if(Array.isArray(o[i]))o[i]=o_(o[i],u);else{if(o[i]===u)continue;console.warn(`field[${i}] already exists in this message chunk and value has unsupported type.`)}}return o}function o_(e,n){if(!(e===void 0&&n===void 0)){if(e===void 0||n===void 0)return e||n;{const o=[...e];for(const i of n)if(typeof i=="object"&&i!==null&&"index"in i&&typeof i.index=="number"){const u=o.findIndex(t=>{const r=typeof t=="object",a="index"in t&&t.index===i.index,s="id"in t&&"id"in i&&t?.id===i?.id,l=!("id"in t)||!t?.id||!("id"in i)||!i?.id;return r&&a&&(s||l)});u!==-1&&typeof o[u]=="object"&&o[u]!==null?o[u]=Rr(o[u],i):o.push(i)}else{if(typeof i=="object"&&i!==null&&"text"in i&&i.text==="")continue;o.push(i)}return o}}}function vG(e,n){if(!(e===void 0&&n===void 0)){if(e===void 0||n===void 0)return e??n;if(typeof e!=typeof n)throw new Error(`Cannot merge objects of different types.
Left ${typeof e}
Right ${typeof n}`);if(typeof e=="string"&&typeof n=="string")return e+n;if(Array.isArray(e)&&Array.isArray(n))return o_(e,n);if(typeof e=="object"&&typeof n=="object")return Rr(e,n);if(e===n)return e;throw new Error(`Can not merge objects of different types.
Left ${e}
Right ${n}`)}}var nd=class bG extends qn{static isInstance(n){if(!super.isInstance(n))return!1;let o=Object.getPrototypeOf(n);for(;o!==null;){if(o===bG.prototype)return!0;o=Object.getPrototypeOf(o)}return!1}};function wG(e){return typeof e.role=="string"}function Yl(e){return typeof e?._getType=="function"}function nM(e){return nd.isInstance(e)}var Sne={};ct(Sne,{ToolMessage:()=>cp,ToolMessageChunk:()=>s_,defaultToolCallParser:()=>aM,isDirectToolOutput:()=>OG,isToolMessage:()=>SG,isToolMessageChunk:()=>EG});function OG(e){return e!=null&&typeof e=="object"&&"lc_direct_tool_output"in e&&e.lc_direct_tool_output===!0}var cp=class extends qn{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}lc_direct_tool_output=!0;type="tool";status;tool_call_id;metadata;artifact;constructor(e,n,o){const i=typeof e=="string"||Array.isArray(e)?{content:e,name:o,tool_call_id:n}:e;super(i),this.tool_call_id=i.tool_call_id,this.artifact=i.artifact,this.status=i.status,this.metadata=i.metadata}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},s_=class extends nd{type="tool";tool_call_id;status;artifact;constructor(e){super(e),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){const n=this.constructor;return new n({content:ec(this.content,e.content),additional_kwargs:Rr(this.additional_kwargs,e.additional_kwargs),response_metadata:Rr(this.response_metadata,e.response_metadata),artifact:vG(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:yG(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function aM(e){const n=[],o=[];for(const i of e)if(i.function){const u=i.function.name;try{const t=JSON.parse(i.function.arguments);n.push({name:u||"",args:t||{},id:i.id})}catch{o.push({name:u,args:i.function.arguments,id:i.id,error:"Malformed args."})}}else continue;return[n,o]}function SG(e){return typeof e=="object"&&e!==null&&"getType"in e&&typeof e.getType=="function"&&e.getType()==="tool"}function EG(e){return e._getType()==="tool"}function Pb(e,n){return e.lc_error_code=n,e.message=`${e.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${n}/
`,e}function RG(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="tool_call")}var Ene=class extends Error{output;constructor(e,n){super(e),this.output=n}};function Z1(e,n=Ab){e=e.trim();const o=e.indexOf("```");if(o===-1)return n(e);let i=e.substring(o+3);i.startsWith(`json
`)?i=i.substring(5):i.startsWith("json")?i=i.substring(4):i.startsWith(`
`)&&(i=i.substring(1));const u=i.indexOf("```");let t=i;return u!==-1&&(t=i.substring(0,u)),n(t.trim())}function Rne(e){try{return JSON.parse(e)}catch{}const n=e.trim();if(n.length===0)throw new Error("Unexpected end of JSON input");let o=0;function i(){for(;o<n.length&&/\s/.test(n[o]);)o+=1}function u(){if(n[o]!=='"')throw new Error(`Expected '"' at position ${o}, got '${n[o]}'`);o+=1;let f="",m=!1;for(;o<n.length;){const b=n[o];if(m){if(b==="n")f+=`
`;else if(b==="t")f+="	";else if(b==="r")f+="\r";else if(b==="\\")f+="\\";else if(b==='"')f+='"';else if(b==="b")f+="\b";else if(b==="f")f+="\f";else if(b==="/")f+="/";else if(b==="u"){const _=n.substring(o+1,o+5);if(/^[0-9A-Fa-f]{0,4}$/.test(_))_.length===4?f+=String.fromCharCode(Number.parseInt(_,16)):f+=`u${_}`,o+=_.length;else throw new Error(`Invalid unicode escape sequence '\\u${_}' at position ${o}`)}else throw new Error(`Invalid escape sequence '\\${b}' at position ${o}`);m=!1}else if(b==="\\")m=!0;else{if(b==='"')return o+=1,f;f+=b}o+=1}return m&&(f+="\\"),f}function t(){const f=o;let m="";if(n[o]==="-"&&(m+="-",o+=1),o<n.length&&n[o]==="0"&&(m+="0",o+=1,n[o]>="0"&&n[o]<="9"))throw new Error(`Invalid number at position ${f}`);if(o<n.length&&n[o]>="1"&&n[o]<="9")for(;o<n.length&&n[o]>="0"&&n[o]<="9";)m+=n[o],o+=1;if(o<n.length&&n[o]===".")for(m+=".",o+=1;o<n.length&&n[o]>="0"&&n[o]<="9";)m+=n[o],o+=1;if(o<n.length&&(n[o]==="e"||n[o]==="E"))for(m+=n[o],o+=1,o<n.length&&(n[o]==="+"||n[o]==="-")&&(m+=n[o],o+=1);o<n.length&&n[o]>="0"&&n[o]<="9";)m+=n[o],o+=1;if(m==="-")return-0;const b=Number.parseFloat(m);if(Number.isNaN(b))throw o=f,new Error(`Invalid number '${m}' at position ${f}`);return b}function r(){if(i(),o>=n.length)throw new Error(`Unexpected end of input at position ${o}`);const f=n[o];if(f==="{")return s();if(f==="[")return a();if(f==='"')return u();if("null".startsWith(n.substring(o,o+4)))return o+=Math.min(4,n.length-o),null;if("true".startsWith(n.substring(o,o+4)))return o+=Math.min(4,n.length-o),!0;if("false".startsWith(n.substring(o,o+5)))return o+=Math.min(5,n.length-o),!1;if(f==="-"||f>="0"&&f<="9")return t();throw new Error(`Unexpected character '${f}' at position ${o}`)}function a(){if(n[o]!=="[")throw new Error(`Expected '[' at position ${o}, got '${n[o]}'`);const f=[];if(o+=1,i(),o>=n.length)return f;if(n[o]==="]")return o+=1,f;for(;o<n.length;){if(i(),o>=n.length||(f.push(r()),i(),o>=n.length))return f;if(n[o]==="]")return o+=1,f;if(n[o]===","){o+=1;continue}throw new Error(`Expected ',' or ']' at position ${o}, got '${n[o]}'`)}return f}function s(){if(n[o]!=="{")throw new Error(`Expected '{' at position ${o}, got '${n[o]}'`);const f={};if(o+=1,i(),o>=n.length)return f;if(n[o]==="}")return o+=1,f;for(;o<n.length;){if(i(),o>=n.length)return f;const m=u();if(i(),o>=n.length)return f;if(n[o]!==":")throw new Error(`Expected ':' at position ${o}, got '${n[o]}'`);if(o+=1,i(),o>=n.length||(f[m]=r(),i(),o>=n.length))return f;if(n[o]==="}")return o+=1,f;if(n[o]===","){o+=1;continue}throw new Error(`Expected ',' or '}' at position ${o}, got '${n[o]}'`)}return f}const l=r();if(i(),o<n.length)throw new Error(`Unexpected character '${n[o]}' at position ${o}`);return l}function Ab(e){try{return typeof e>"u"?null:Rne(e)}catch{return null}}var ac=class jG extends qn{static lc_name(){return"ChatMessage"}type="generic";role;static _chatMessageClass(){return jG}constructor(n,o){(typeof n=="string"||Array.isArray(n))&&(n={content:n,role:o}),super(n),this.role=n.role}static isInstance(n){return super.isInstance(n)&&n.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},u_=class extends nd{static lc_name(){return"ChatMessageChunk"}type="generic";role;constructor(e,n){(typeof e=="string"||Array.isArray(e))&&(e={content:e,role:n}),super(e),this.role=e.role}concat(e){const n=this.constructor;return new n({content:ec(this.content,e.content),additional_kwargs:Rr(this.additional_kwargs,e.additional_kwargs),response_metadata:Rr(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};function jne(e){return e._getType()==="generic"}function Cne(e){return e._getType()==="generic"}var Nb=class extends qn{static lc_name(){return"FunctionMessage"}type="function";name;constructor(e){super(e),this.name=e.name}},l_=class extends nd{static lc_name(){return"FunctionMessageChunk"}type="function";concat(e){const n=this.constructor;return new n({content:ec(this.content,e.content),additional_kwargs:Rr(this.additional_kwargs,e.additional_kwargs),response_metadata:Rr(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}};function Tne(e){return e._getType()==="function"}function Mne(e){return e._getType()==="function"}var It=class extends qn{static lc_name(){return"HumanMessage"}type="human";constructor(e){super(e)}static isInstance(e){return super.isInstance(e)&&e.type==="human"}},c_=class extends nd{static lc_name(){return"HumanMessageChunk"}type="human";constructor(e){super(e)}concat(e){const n=this.constructor;return new n({content:ec(this.content,e.content),additional_kwargs:Rr(this.additional_kwargs,e.additional_kwargs),response_metadata:Rr(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="human"}};function xne(e){return e.getType()==="human"}function Pne(e){return e.getType()==="human"}var pb=class extends qn{type="remove";id;constructor(e){super({...e,content:[]}),this.id=e.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(e){return super.isInstance(e)&&e.type==="remove"}},lr=class Kv extends qn{static lc_name(){return"SystemMessage"}type="system";constructor(n){super(n)}concat(n){if(typeof n=="string")return new Kv({...this,content:ec(this.content,n)});if(Kv.isInstance(n))return new Kv({...this,additional_kwargs:{...this.additional_kwargs,...n.additional_kwargs},response_metadata:{...this.response_metadata,...n.response_metadata},content:ec(this.content,n.content)});throw new Error("Unexpected chunk type for system message")}static isInstance(n){return super.isInstance(n)&&n.type==="system"}},td=class extends nd{static lc_name(){return"SystemMessageChunk"}type="system";constructor(e){super(e)}concat(e){const n=this.constructor;return new n({content:ec(this.content,e.content),additional_kwargs:Rr(this.additional_kwargs,e.additional_kwargs),response_metadata:Rr(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="system"}};function Ane(e){return e._getType()==="system"}function Nne(e){return e._getType()==="system"}function iM(e){switch(e){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function Dne(e){if(it(e.document)&&it(e.document.source)){const n=it(e.document)&&Ve(e.document.format)?e.document.format:"",o=iM(n);if(it(e.document.source)){if(it(e.document.source.s3Location)&&Ve(e.document.source.s3Location.uri))return{type:"file",mimeType:o,fileId:e.document.source.s3Location.uri};if(tM(e.document.source.bytes))return{type:"file",mimeType:o,data:e.document.source.bytes};if(Ve(e.document.source.text))return{type:"file",mimeType:o,data:Buffer.from(e.document.source.text).toString("base64")};if(bl(e.document.source.content)){const i=e.document.source.content.reduce((u,t)=>it(t)&&Ve(t.text)?u+t.text:u,"");return{type:"file",mimeType:o,data:i}}}}return{type:"non_standard",value:e}}function Ine(e){if(et(e,"image")&&it(e.image)){const n=it(e.image)&&Ve(e.image.format)?e.image.format:"",o=iM(n);if(it(e.image.source)){if(it(e.image.source.s3Location)&&Ve(e.image.source.s3Location.uri))return{type:"image",mimeType:o,fileId:e.image.source.s3Location.uri};if(tM(e.image.source.bytes))return{type:"image",mimeType:o,data:e.image.source.bytes}}}return{type:"non_standard",value:e}}function zne(e){if(et(e,"video")&&it(e.video)){const n=it(e.video)&&Ve(e.video.format)?e.video.format:"",o=iM(n);if(it(e.video.source)){if(it(e.video.source.s3Location)&&Ve(e.video.source.s3Location.uri))return{type:"video",mimeType:o,fileId:e.video.source.s3Location.uri};if(tM(e.video.source.bytes))return{type:"video",mimeType:o,data:e.video.source.bytes}}}return{type:"non_standard",value:e}}function rI(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(et(i,"cache_point")){yield{type:"non_standard",value:i};continue}else if(et(i,"citations_content")&&it(i.citationsContent)){const u=bl(i.citationsContent.content)?i.citationsContent.content.reduce((r,a)=>it(a)&&Ve(a.text)?r+a.text:r,""):"",t=bl(i.citationsContent.citations)?i.citationsContent.citations.reduce((r,a)=>{if(it(a)){const s=bl(a.sourceContent)?a.sourceContent.reduce((f,m)=>it(m)&&Ve(m.text)?f+m.text:f,""):"",l=Km(()=>{if(it(a.location)){const f=a.location.documentChar||a.location.documentPage||a.location.documentChunk;if(it(f))return{source:Xu(f.documentIndex)?f.documentIndex.toString():void 0,startIndex:Xu(f.start)?f.start:void 0,endIndex:Xu(f.end)?f.end:void 0}}return{}});r.push({type:"citation",citedText:s,...l})}return r},[]):[];yield{type:"text",text:u,annotations:t};continue}else if(et(i,"document")&&it(i.document)){yield Dne(i);continue}else if(et(i,"guard_content")){yield{type:"non_standard",value:i};continue}else if(et(i,"image")&&it(i.image)){yield Ine(i);continue}else if(et(i,"reasoning_content")&&Ve(i.reasoningText)){yield{type:"reasoning",reasoning:i.reasoningText};continue}else if(et(i,"text")&&Ve(i.text)){yield{type:"text",text:i.text};continue}else if(et(i,"tool_result")){yield{type:"non_standard",value:i};continue}else{if(et(i,"tool_call"))continue;if(et(i,"video")&&it(i.video)){yield zne(i);continue}}yield{type:"non_standard",value:i}}}return Array.from(n())}const qne={translateContent:rI,translateContentChunk:rI};function nI(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(et(i,"text")&&Ve(i.text)){yield{type:"text",text:i.text};continue}else if(et(i,"inlineData")&&it(i.inlineData)&&Ve(i.inlineData.mimeType)&&Ve(i.inlineData.data)){yield{type:"file",mimeType:i.inlineData.mimeType,data:i.inlineData.data};continue}else if(et(i,"functionCall")&&it(i.functionCall)&&Ve(i.functionCall.name)&&it(i.functionCall.args)){yield{type:"tool_call",id:e.id,name:i.functionCall.name,args:i.functionCall.args};continue}else if(et(i,"functionResponse")){yield{type:"non_standard",value:i};continue}else if(et(i,"fileData")&&it(i.fileData)&&Ve(i.fileData.mimeType)&&Ve(i.fileData.fileUri)){yield{type:"file",mimeType:i.fileData.mimeType,fileId:i.fileData.fileUri};continue}else if(et(i,"executableCode")){yield{type:"non_standard",value:i};continue}else if(et(i,"codeExecutionResult")){yield{type:"non_standard",value:i};continue}yield{type:"non_standard",value:i}}}return Array.from(n())}const Bne={translateContent:nI,translateContentChunk:nI};function aI(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(et(i,"reasoning")&&Ve(i.reasoning)){const u=Km(()=>{const t=o.indexOf(i);if(bl(e.additional_kwargs?.signatures)&&t>=0)return e.additional_kwargs.signatures.at(t)});Ve(u)?yield{type:"reasoning",reasoning:i.reasoning,signature:u}:yield{type:"reasoning",reasoning:i.reasoning};continue}else if(et(i,"text")&&Ve(i.text)){yield{type:"text",text:i.text};continue}else if(et(i,"image_url")){if(Ve(i.image_url))if(i.image_url.startsWith("data:")){const u=/^data:([^;]+);base64,(.+)$/,t=i.image_url.match(u);t?yield{type:"image",data:t[2],mimeType:t[1]}:yield{type:"image",url:i.image_url}}else yield{type:"image",url:i.image_url};continue}else if(et(i,"media")&&Ve(i.mimeType)&&Ve(i.data)){yield{type:"file",mimeType:i.mimeType,data:i.data};continue}yield{type:"non_standard",value:i}}}return Array.from(n())}const Lne={translateContent:aI,translateContentChunk:aI};globalThis.lc_block_translators_registry??=new Map([["anthropic",une],["bedrock-converse",qne],["google-genai",Bne],["google-vertexai",Lne],["openai",yne]]);function CG(e){return globalThis.lc_block_translators_registry.get(e)}function TG(e,n){return Rr(e??{},n??{})}function MG(e,n){const o={};return(e?.audio!==void 0||n?.audio!==void 0)&&(o.audio=(e?.audio??0)+(n?.audio??0)),(e?.image!==void 0||n?.image!==void 0)&&(o.image=(e?.image??0)+(n?.image??0)),(e?.video!==void 0||n?.video!==void 0)&&(o.video=(e?.video??0)+(n?.video??0)),(e?.document!==void 0||n?.document!==void 0)&&(o.document=(e?.document??0)+(n?.document??0)),(e?.text!==void 0||n?.text!==void 0)&&(o.text=(e?.text??0)+(n?.text??0)),o}function Une(e,n){const o={...MG(e,n)};return(e?.cache_read!==void 0||n?.cache_read!==void 0)&&(o.cache_read=(e?.cache_read??0)+(n?.cache_read??0)),(e?.cache_creation!==void 0||n?.cache_creation!==void 0)&&(o.cache_creation=(e?.cache_creation??0)+(n?.cache_creation??0)),o}function $ne(e,n){const o={...MG(e,n)};return(e?.reasoning!==void 0||n?.reasoning!==void 0)&&(o.reasoning=(e?.reasoning??0)+(n?.reasoning??0)),o}function oM(e,n){return{input_tokens:(e?.input_tokens??0)+(n?.input_tokens??0),output_tokens:(e?.output_tokens??0)+(n?.output_tokens??0),total_tokens:(e?.total_tokens??0)+(n?.total_tokens??0),input_token_details:Une(e?.input_token_details,n?.input_token_details),output_token_details:$ne(e?.output_token_details,n?.output_token_details)}}var Sr=class extends qn{type="ai";tool_calls=[];invalid_tool_calls=[];usage_metadata;get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e){let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{n=e;const o=n.additional_kwargs?.tool_calls,i=n.tool_calls;o!=null&&o.length>0&&(i===void 0||i.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(o!=null&&i===void 0){const[u,t]=aM(o);n.tool_calls=u??[],n.invalid_tool_calls=t??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}if(n.response_metadata!==void 0&&"output_version"in n.response_metadata&&n.response_metadata.output_version==="v1"&&(n.contentBlocks=n.content,n.content=void 0),n.contentBlocks!==void 0){n.contentBlocks.push(...n.tool_calls.map(t=>({type:"tool_call",id:t.id,name:t.name,args:t.args})));const u=n.contentBlocks.filter(t=>t.type==="tool_call").filter(t=>!n.tool_calls?.some(r=>r.id===t.id&&r.name===t.name));u.length>0&&(n.tool_calls=u.map(t=>({type:"tool_call",id:t.id,name:t.name,args:t.args})))}}super(n),typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=CG(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls){const n=this.tool_calls.filter(o=>!e.some(i=>i.id===o.id&&i.name===o.name));e.push(...n.map(o=>({...o,type:"tool_call",id:o.id,name:o.name,args:o.args})))}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function Kc(e){return e._getType()==="ai"}function Q1(e){return e._getType()==="ai"}var Bn=class extends nd{type="ai";tool_calls=[];invalid_tool_calls=[];tool_call_chunks=[];usage_metadata;constructor(e){let n;typeof e=="string"||Array.isArray(e)?n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]}:e.tool_call_chunks===void 0||e.tool_call_chunks.length===0?n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}:n={...e,...xG(e.tool_call_chunks??[]),usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0},super(n),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=CG(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){const n=this.content.filter(o=>o.type==="tool_call").map(o=>o.id);for(const o of this.tool_calls)o.id&&!n.includes(o.id)&&e.push({...o,type:"tool_call",id:o.id,name:o.name,args:o.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:ec(this.content,e.content),additional_kwargs:Rr(this.additional_kwargs,e.additional_kwargs),response_metadata:TG(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const i=o_(this.tool_call_chunks,e.tool_call_chunks);i!==void 0&&i.length>0&&(n.tool_call_chunks=i)}(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(n.usage_metadata=oM(this.usage_metadata,e.usage_metadata));const o=this.constructor;return new o(n)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};const Fne=e=>e();function Vne(e){return RG(e)?e:typeof e.id=="string"&&e.type==="function"&&typeof e.function=="object"&&e.function!==null&&"arguments"in e.function&&typeof e.function.arguments=="string"&&"name"in e.function&&typeof e.function.name=="string"?{id:e.id,args:JSON.parse(e.function.arguments),name:e.function.name,type:"tool_call"}:e}function Gne(e){return typeof e=="object"&&e!=null&&e.lc===1&&Array.isArray(e.id)&&e.kwargs!=null&&typeof e.kwargs=="object"}function qO(e){let n,o;if(Gne(e)){const i=e.id.at(-1);i==="HumanMessage"||i==="HumanMessageChunk"?n="user":i==="AIMessage"||i==="AIMessageChunk"?n="assistant":i==="SystemMessage"||i==="SystemMessageChunk"?n="system":i==="FunctionMessage"||i==="FunctionMessageChunk"?n="function":i==="ToolMessage"||i==="ToolMessageChunk"?n="tool":n="unknown",o=e.kwargs}else{const{type:i,...u}=e;n=i,o=u}if(n==="human"||n==="user")return new It(o);if(n==="ai"||n==="assistant"){const{tool_calls:i,...u}=o;if(!Array.isArray(i))return new Sr(o);const t=i.map(Vne);return new Sr({...u,tool_calls:t})}else{if(n==="system")return new lr(o);if(n==="developer")return new lr({...o,additional_kwargs:{...o.additional_kwargs,__openai_role__:"developer"}});if(n==="tool"&&"tool_call_id"in o)return new cp({...o,content:o.content,tool_call_id:o.tool_call_id,name:o.name});if(n==="remove"&&"id"in o&&typeof o.id=="string")return new pb({...o,id:o.id});throw Pb(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(e,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function kc(e){if(typeof e=="string")return new It(e);if(Yl(e))return e;if(Array.isArray(e)){const[n,o]=e;return qO({type:n,content:o})}else if(wG(e)){const{role:n,...o}=e;return qO({...o,type:n})}else return qO(e)}function sM(e,n="Human",o="AI"){const i=[];for(const u of e){let t;if(u._getType()==="human")t=n;else if(u._getType()==="ai")t=o;else if(u._getType()==="system")t="System";else if(u._getType()==="tool")t="Tool";else if(u._getType()==="generic")t=u.role;else throw new Error(`Got unsupported message type: ${u._getType()}`);const r=u.name?`${u.name}, `:"",a=typeof u.content=="string"?u.content:JSON.stringify(u.content,null,2);i.push(`${t}: ${r}${a}`)}return i.join(`
`)}function Hne(e){if(e.data!==void 0)return e;{const n=e;return{type:n.type,data:{content:n.text,role:n.role,name:void 0,tool_call_id:void 0}}}}function uM(e){const n=Hne(e);switch(n.type){case"human":return new It(n.data);case"ai":return new Sr(n.data);case"system":return new lr(n.data);case"function":if(n.data.name===void 0)throw new Error("Name must be defined for function messages");return new Nb(n.data);case"tool":if(n.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new cp(n.data);case"generic":if(n.data.role===void 0)throw new Error("Role must be defined for chat messages");return new ac(n.data);default:throw new Error(`Got unexpected type: ${n.type}`)}}function Kne(e){return e.map(uM)}function kne(e){return e.map(n=>n.toDict())}function gb(e){const n=e._getType();if(n==="human")return new c_({...e});if(n==="ai"){let o={...e};return"tool_calls"in o&&(o={...o,tool_call_chunks:o.tool_calls?.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new Bn({...o})}else{if(n==="system")return new td({...e});if(n==="function")return new l_({...e});if(ac.isInstance(e))return new u_({...e});throw new Error("Unknown message type.")}}function xG(e){const n=e.reduce((u,t)=>{const r=u.findIndex(([a])=>"id"in t&&t.id&&"index"in t&&t.index!==void 0?t.id===a.id&&t.index===a.index:"id"in t&&t.id?t.id===a.id:"index"in t&&t.index!==void 0?t.index===a.index:!1);return r!==-1?u[r].push(t):u.push([t]),u},[]),o=[],i=[];for(const u of n){let t=null;const r=u[0]?.name??"",a=u.map(f=>f.args||"").join("").trim(),s=a.length?a:"{}",l=u[0]?.id;try{if(t=Ab(s),!l||t===null||typeof t!="object"||Array.isArray(t))throw new Error("Malformed tool call chunk args.");o.push({name:r,args:t,id:l,type:"tool_call"})}catch{i.push({name:r,args:s,id:l,error:"Malformed args.",type:"invalid_tool_call"})}}return{tool_call_chunks:e,tool_calls:o,invalid_tool_calls:i}}var Yne={},Wne={};ct(Wne,{getEnv:()=>IG,getEnvironmentVariable:()=>wl,getRuntimeEnvironment:()=>zG,isBrowser:()=>PG,isDeno:()=>Db,isJsDom:()=>NG,isNode:()=>DG,isWebWorker:()=>AG});const PG=()=>typeof window<"u"&&typeof window.document<"u",AG=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",NG=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),Db=()=>typeof Deno<"u",DG=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Db(),IG=()=>{let e;return PG()?e="browser":DG()?e="node":AG()?e="webworker":NG()?e="jsdom":Db()?e="deno":e="other",e};let BO;function zG(){return BO===void 0&&(BO={library:"langchain-js",runtime:IG()}),BO}function wl(e){try{return typeof process<"u"?Yne?.[e]:Db()?Deno?.env.get(e):void 0}catch{return}}const Jne=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function qm(e){return typeof e=="string"&&Jne.test(e)}function Zne(e){if(!qm(e))throw TypeError("Invalid UUID");var n,o=new Uint8Array(16);return o[0]=(n=parseInt(e.slice(0,8),16))>>>24,o[1]=n>>>16&255,o[2]=n>>>8&255,o[3]=n&255,o[4]=(n=parseInt(e.slice(9,13),16))>>>8,o[5]=n&255,o[6]=(n=parseInt(e.slice(14,18),16))>>>8,o[7]=n&255,o[8]=(n=parseInt(e.slice(19,23),16))>>>8,o[9]=n&255,o[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,o[11]=n/4294967296&255,o[12]=n>>>24&255,o[13]=n>>>16&255,o[14]=n>>>8&255,o[15]=n&255,o}var Or=[];for(var LO=0;LO<256;++LO)Or.push((LO+256).toString(16).slice(1));function lM(e,n=0){return(Or[e[n+0]]+Or[e[n+1]]+Or[e[n+2]]+Or[e[n+3]]+"-"+Or[e[n+4]]+Or[e[n+5]]+"-"+Or[e[n+6]]+Or[e[n+7]]+"-"+Or[e[n+8]]+Or[e[n+9]]+"-"+Or[e[n+10]]+Or[e[n+11]]+Or[e[n+12]]+Or[e[n+13]]+Or[e[n+14]]+Or[e[n+15]]).toLowerCase()}var ky,Qne=new Uint8Array(16);function qG(){if(!ky&&(ky=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ky))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ky(Qne)}function Xne(e){e=unescape(encodeURIComponent(e));for(var n=[],o=0;o<e.length;++o)n.push(e.charCodeAt(o));return n}var eae="6ba7b810-9dad-11d1-80b4-00c04fd430c8",tae="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function rae(e,n,o){function i(u,t,r,a){var s;if(typeof u=="string"&&(u=Xne(u)),typeof t=="string"&&(t=Zne(t)),((s=t)===null||s===void 0?void 0:s.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+u.length);if(l.set(t),l.set(u,t.length),l=o(l),l[6]=l[6]&15|n,l[8]=l[8]&63|128,r){a=a||0;for(var f=0;f<16;++f)r[a+f]=l[f];return r}return lM(l)}try{i.name=e}catch{}return i.DNS=eae,i.URL=tae,i}var nae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const iI={randomUUID:nae};function Fc(e,n,o){if(iI.randomUUID&&!e)return iI.randomUUID();e=e||{};var i=e.random||(e.rng||qG)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,lM(i)}function aae(e,n,o,i){switch(e){case 0:return n&o^~n&i;case 1:return n^o^i;case 2:return n&o^n&i^o&i;case 3:return n^o^i}}function UO(e,n){return e<<n|e>>>32-n}function iae(e){var n=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var i=unescape(encodeURIComponent(e));e=[];for(var u=0;u<i.length;++u)e.push(i.charCodeAt(u))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var t=e.length/4+2,r=Math.ceil(t/16),a=new Array(r),s=0;s<r;++s){for(var l=new Uint32Array(16),f=0;f<16;++f)l[f]=e[s*64+f*4]<<24|e[s*64+f*4+1]<<16|e[s*64+f*4+2]<<8|e[s*64+f*4+3];a[s]=l}a[r-1][14]=(e.length-1)*8/Math.pow(2,32),a[r-1][14]=Math.floor(a[r-1][14]),a[r-1][15]=(e.length-1)*8&4294967295;for(var m=0;m<r;++m){for(var b=new Uint32Array(80),_=0;_<16;++_)b[_]=a[m][_];for(var p=16;p<80;++p)b[p]=UO(b[p-3]^b[p-8]^b[p-14]^b[p-16],1);for(var y=o[0],v=o[1],S=o[2],R=o[3],j=o[4],A=0;A<80;++A){var x=Math.floor(A/20),M=UO(y,5)+aae(x,v,S,R)+j+n[x]+b[A]>>>0;j=R,R=S,S=UO(v,30)>>>0,v=y,y=M}o[0]=o[0]+y>>>0,o[1]=o[1]+v>>>0,o[2]=o[2]+S>>>0,o[3]=o[3]+R>>>0,o[4]=o[4]+j>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,o[0]&255,o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,o[1]&255,o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,o[2]&255,o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,o[3]&255,o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,o[4]&255]}var Tm=rae("v5",80,iae),oI=null,sI=null,Yn=0;function $c(e,n,o){e=e||{};var i=0,u=new Uint8Array(16),t=e.random||(e.rng||qG)(),r=e.msecs!==void 0?e.msecs:Date.now(),a=e.seq!==void 0?e.seq:null,s=sI,l=oI;return r>Yn&&e.msecs===void 0&&(Yn=r,a!==null&&(s=null,l=null)),a!==null&&(a>2147483647&&(a=2147483647),s=a>>>19&4095,l=a&524287),(s===null||l===null)&&(s=t[6]&127,s=s<<8|t[7],l=t[8]&63,l=l<<8|t[9],l=l<<5|t[10]>>>3),r+1e4>Yn&&a===null?++l>524287&&(l=0,++s>4095&&(s=0,Yn++)):Yn=r,sI=s,oI=l,u[i++]=Yn/1099511627776&255,u[i++]=Yn/4294967296&255,u[i++]=Yn/16777216&255,u[i++]=Yn/65536&255,u[i++]=Yn/256&255,u[i++]=Yn&255,u[i++]=s>>>4&15|112,u[i++]=s&255,u[i++]=l>>>13&63|128,u[i++]=l>>>5&255,u[i++]=l<<3&255|t[10]&7,u[i++]=t[11],u[i++]=t[12],u[i++]=t[13],u[i++]=t[14],u[i++]=t[15],n||lM(u)}var oae={};ct(oae,{BaseCallbackHandler:()=>d_,callbackHandlerPrefersStreaming:()=>cM,isBaseCallbackHandler:()=>BG});var sae=class{};function cM(e){return"lc_prefer_streaming"in e&&e.lc_prefer_streaming}var d_=class extends sae{lc_serializable=!1;get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,eM(this.constructor)]}lc_kwargs;ignoreLLM=!1;ignoreChain=!1;ignoreAgent=!1;ignoreRetriever=!1;ignoreCustomEvent=!1;raiseError=!1;awaitHandlers=wl("LANGCHAIN_CALLBACKS_BACKGROUND")==="false";constructor(e){super(),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return Uf.prototype.toJSON.call(this)}toJSONNotImplemented(){return Uf.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends d_{name=$c();constructor(){super(),Object.assign(this,e)}}return new n}};const BG=e=>{const n=e;return n!==void 0&&typeof n.copy=="function"&&typeof n.name=="string"&&typeof n.awaitHandlers=="boolean"},uae="gen_ai.operation.name",lae="gen_ai.system",uI="gen_ai.request.model",cae="gen_ai.response.model",lI="gen_ai.usage.input_tokens",cI="gen_ai.usage.output_tokens",dI="gen_ai.usage.total_tokens",dae="gen_ai.request.max_tokens",fae="gen_ai.request.temperature",hae="gen_ai.request.top_p",pae="gen_ai.request.frequency_penalty",gae="gen_ai.request.presence_penalty",mae="gen_ai.response.finish_reasons",_ae="gen_ai.prompt",yae="gen_ai.completion",vae="gen_ai.request.extra_query",bae="gen_ai.request.extra_body",wae="gen_ai.serialized.name",Oae="gen_ai.serialized.signature",Sae="gen_ai.serialized.doc",Eae="gen_ai.response.id",Rae="gen_ai.response.service_tier",jae="gen_ai.response.system_fingerprint",Cae="gen_ai.usage.input_token_details",Tae="gen_ai.usage.output_token_details",Mae="langsmith.trace.session_id",xae="langsmith.trace.session_name",Pae="langsmith.span.kind",Aae="langsmith.trace.name",Nae="langsmith.metadata",fI="langsmith.span.tags",Dae="langsmith.request.streaming",Iae="langsmith.request.headers",zae=(...e)=>fetch(...e),LG=Symbol.for("ls:fetch_implementation"),qae=()=>{const e=globalThis[LG];return e?typeof e=="function"&&"Headers"in e&&"Request"in e&&"Response"in e:!1},Bae=e=>async(...n)=>{if(e||Kr("DEBUG")==="true"){const[i,u]=n;console.log(` ${u?.method||"GET"} ${i}`)}const o=await(globalThis[LG]??zae)(...n);return(e||Kr("DEBUG")==="true")&&console.log(` ${o.status} ${o.statusText} ${o.url}`),o},UG=()=>Kr("PROJECT")??Sl("LANGCHAIN_SESSION")??"default",hI={};function $G(e){hI[e]||(console.warn(e),hI[e]=!0)}const Lae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function at(e,n){if(!Lae.test(e)){const o=n!==void 0?`Invalid UUID for ${n}: ${e}`:`Invalid UUID: ${e}`;throw new Error(o)}return e}function Uae(e){const n=typeof e=="string"?Date.parse(e):e;return $c({msecs:n,seq:0})}const FG="0.4.2";var X1={};let ml;const $ae=()=>typeof window<"u"&&typeof window.document<"u",Fae=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Vae=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),VG=()=>typeof Deno<"u",Gae=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!VG(),GG=()=>ml||(typeof Bun<"u"?ml="bun":$ae()?ml="browser":Gae()?ml="node":Fae()?ml="webworker":Vae()?ml="jsdom":VG()?ml="deno":ml="other",ml);let $O;function HG(){if($O===void 0){const e=GG(),n=Kae();$O={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:FG,...n}}return $O}function KG(){const e=Hae(),n={},o=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[i,u]of Object.entries(e))typeof u=="string"&&!o.includes(i)&&!i.toLowerCase().includes("key")&&!i.toLowerCase().includes("secret")&&!i.toLowerCase().includes("token")&&(i==="LANGCHAIN_REVISION_ID"?n.revision_id=u:n[i]=u);return n}function Hae(){const e={};try{if(typeof process<"u"&&X1)for(const[n,o]of Object.entries(X1))(n.startsWith("LANGCHAIN_")||n.startsWith("LANGSMITH_"))&&o!=null&&((n.toLowerCase().includes("key")||n.toLowerCase().includes("secret")||n.toLowerCase().includes("token"))&&typeof o=="string"?e[n]=o.slice(0,2)+"*".repeat(o.length-4)+o.slice(-2):e[n]=o)}catch{}return e}function Sl(e){try{return typeof process<"u"?X1?.[e]:void 0}catch{return}}function Kr(e){return Sl(`LANGSMITH_${e}`)||Sl(`LANGCHAIN_${e}`)}let FO;function Kae(){if(FO!==void 0)return FO;const e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],n={};for(const o of e){const i=Sl(o);i!==void 0&&(n[o]=i)}return FO=n,n}function kG(){return Sl("OTEL_ENABLED")==="true"||Kr("OTEL_ENABLED")==="true"}class kae{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(n,...o){!this.hasWarned&&kG()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let i;if(o.length===1&&typeof o[0]=="function"?i=o[0]:o.length===2&&typeof o[1]=="function"?i=o[1]:o.length===3&&typeof o[2]=="function"&&(i=o[2]),typeof i=="function")return i()}}class Yae{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new kae})}getTracer(n,o){return this.mockTracer}getActiveSpan(){}setSpan(n,o){return n}getSpan(n){}setSpanContext(n,o){return n}getTracerProvider(){}setGlobalTracerProvider(n){return!1}}class Wae{active(){return{}}with(n,o){return o()}}const VO=Symbol.for("ls:otel_trace"),GO=Symbol.for("ls:otel_context"),pI=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),Jae=new Yae,Zae=new Wae;class Qae{getTraceInstance(){return globalThis[VO]??Jae}getContextInstance(){return globalThis[GO]??Zae}initializeGlobalInstances(n){globalThis[VO]===void 0&&(globalThis[VO]=n.trace),globalThis[GO]===void 0&&(globalThis[GO]=n.context)}setDefaultOTLPTracerComponents(n){globalThis[pI]=n}getDefaultOTLPTracerComponents(){return globalThis[pI]??void 0}}const dM=new Qae;function YG(){return dM.getTraceInstance()}function Xae(){return dM.getContextInstance()}function eie(){return dM.getDefaultOTLPTracerComponents()}const tie={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function rie(e){return tie[e]||e}class nie{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(n,o){for(const i of n)try{if(!i.run)continue;if(i.operation==="post"){const u=this.createSpanForRun(i,i.run,o.get(i.id));u&&!i.run.end_time&&this.spans.set(i.id,u)}else this.updateSpanForRun(i,i.run)}catch(u){console.error(`Error processing operation ${i.id}:`,u)}}createSpanForRun(n,o,i){const u=i&&YG().getSpan(i);if(u)try{return this.finishSpanSetup(u,o,n)}catch(t){console.error(`Failed to create span for run ${n.id}:`,t);return}}finishSpanSetup(n,o,i){return this.setSpanAttributes(n,o,i),o.error?(n.setStatus({code:2}),n.recordException(new Error(o.error))):n.setStatus({code:1}),o.end_time&&n.end(new Date(o.end_time)),n}updateSpanForRun(n,o){try{const i=this.spans.get(n.id);if(!i){console.debug(`No span found for run ${n.id} during update`);return}this.setSpanAttributes(i,o,n),o.error?(i.setStatus({code:2}),i.recordException(new Error(o.error))):i.setStatus({code:1});const u=o.end_time;u&&(i.end(new Date(u)),this.spans.delete(n.id))}catch(i){console.error(`Failed to update span for run ${n.id}:`,i)}}extractModelName(n){if(n.extra?.metadata){const o=n.extra.metadata;if(o.ls_model_name)return o.ls_model_name;if(o.invocation_params){const i=o.invocation_params;if(i.model)return i.model;if(i.model_name)return i.model_name}}}setSpanAttributes(n,o,i){if("run_type"in o&&o.run_type){n.setAttribute(Pae,o.run_type);const a=rie(o.run_type||"chain");n.setAttribute(uae,a)}"name"in o&&o.name&&n.setAttribute(Aae,o.name),"session_id"in o&&o.session_id&&n.setAttribute(Mae,o.session_id),"session_name"in o&&o.session_name&&n.setAttribute(xae,o.session_name),this.setGenAiSystem(n,o);const u=this.extractModelName(o);u&&n.setAttribute(uI,u),"prompt_tokens"in o&&typeof o.prompt_tokens=="number"&&n.setAttribute(lI,o.prompt_tokens),"completion_tokens"in o&&typeof o.completion_tokens=="number"&&n.setAttribute(cI,o.completion_tokens),"total_tokens"in o&&typeof o.total_tokens=="number"&&n.setAttribute(dI,o.total_tokens),this.setInvocationParameters(n,o);const t=o.extra?.metadata||{};for(const[a,s]of Object.entries(t))s!=null&&n.setAttribute(`${Nae}.${a}`,String(s));const r=o.tags;if(r&&Array.isArray(r)?n.setAttribute(fI,r.join(", ")):r&&n.setAttribute(fI,String(r)),"serialized"in o&&typeof o.serialized=="object"){const a=o.serialized;a.name&&n.setAttribute(wae,String(a.name)),a.signature&&n.setAttribute(Oae,String(a.signature)),a.doc&&n.setAttribute(Sae,String(a.doc))}this.setIOAttributes(n,i)}setGenAiSystem(n,o){let i="langchain";const u=this.extractModelName(o);if(u){const t=u.toLowerCase();t.includes("anthropic")||t.startsWith("claude")?i="anthropic":t.includes("bedrock")?i="aws.bedrock":t.includes("azure")&&t.includes("openai")?i="az.ai.openai":t.includes("azure")&&t.includes("inference")?i="az.ai.inference":t.includes("cohere")?i="cohere":t.includes("deepseek")?i="deepseek":t.includes("gemini")?i="gemini":t.includes("groq")?i="groq":t.includes("watson")||t.includes("ibm")?i="ibm.watsonx.ai":t.includes("mistral")?i="mistral_ai":t.includes("gpt")||t.includes("openai")?i="openai":t.includes("perplexity")||t.includes("sonar")?i="perplexity":t.includes("vertex")?i="vertex_ai":(t.includes("xai")||t.includes("grok"))&&(i="xai")}n.setAttribute(lae,i)}setInvocationParameters(n,o){if(!o.extra?.metadata?.invocation_params)return;const i=o.extra.metadata.invocation_params;i.max_tokens!==void 0&&n.setAttribute(dae,i.max_tokens),i.temperature!==void 0&&n.setAttribute(fae,i.temperature),i.top_p!==void 0&&n.setAttribute(hae,i.top_p),i.frequency_penalty!==void 0&&n.setAttribute(pae,i.frequency_penalty),i.presence_penalty!==void 0&&n.setAttribute(gae,i.presence_penalty)}setIOAttributes(n,o){if(o.run.inputs)try{const i=o.run.inputs;typeof i=="object"&&i!==null&&(i.model&&Array.isArray(i.messages)&&n.setAttribute(uI,i.model),i.stream!==void 0&&n.setAttribute(Dae,i.stream),i.extra_headers&&n.setAttribute(Iae,JSON.stringify(i.extra_headers)),i.extra_query&&n.setAttribute(vae,JSON.stringify(i.extra_query)),i.extra_body&&n.setAttribute(bae,JSON.stringify(i.extra_body))),n.setAttribute(_ae,JSON.stringify(i))}catch(i){console.debug(`Failed to process inputs for run ${o.id}`,i)}if(o.run.outputs)try{const i=o.run.outputs,u=this.getUnifiedRunTokens(i);if(u&&(n.setAttribute(lI,u[0]),n.setAttribute(cI,u[1]),n.setAttribute(dI,u[0]+u[1])),i&&typeof i=="object"){if(i.model&&n.setAttribute(cae,String(i.model)),i.id&&n.setAttribute(Eae,i.id),i.choices&&Array.isArray(i.choices)){const t=i.choices.map(r=>r.finish_reason).filter(r=>r).map(String);t.length>0&&n.setAttribute(mae,t.join(", "))}if(i.service_tier&&n.setAttribute(Rae,i.service_tier),i.system_fingerprint&&n.setAttribute(jae,i.system_fingerprint),i.usage_metadata&&typeof i.usage_metadata=="object"){const t=i.usage_metadata;t.input_token_details&&n.setAttribute(Cae,JSON.stringify(t.input_token_details)),t.output_token_details&&n.setAttribute(Tae,JSON.stringify(t.output_token_details))}}n.setAttribute(yae,JSON.stringify(i))}catch(i){console.debug(`Failed to process outputs for run ${o.id}`,i)}}getUnifiedRunTokens(n){if(!n)return null;let o=this.extractUnifiedRunTokens(n.usage_metadata);if(o)return o;const i=Object.keys(n);for(const r of i){const a=n[r];if(!(!a||typeof a!="object")&&(o=this.extractUnifiedRunTokens(a.usage_metadata),o||a.lc===1&&a.kwargs&&typeof a.kwargs=="object"&&(o=this.extractUnifiedRunTokens(a.kwargs.usage_metadata),o)))return o}const u=n.generations||[];if(!Array.isArray(u))return null;const t=Array.isArray(u[0])?u.flat():u;for(const r of t)if(typeof r=="object"&&r.message&&typeof r.message=="object"&&r.message.kwargs&&typeof r.message.kwargs=="object"&&(o=this.extractUnifiedRunTokens(r.message.kwargs.usage_metadata),o))return o;return null}extractUnifiedRunTokens(n){return!n||typeof n!="object"||typeof n.input_tokens!="number"||typeof n.output_tokens!="number"?null:[n.input_tokens,n.output_tokens]}}const aie=Object.prototype.toString,iie=e=>aie.call(e)==="[object Error]",oie=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function sie(e){if(!(e&&iie(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:o,stack:i}=e;return o==="Load failed"?i===void 0||"__sentry_captured__"in e:o.startsWith("error sending request for url")?!0:oie.has(o)}function uie(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Yy(e,n,{min:o=0,allowInfinity:i=!1}={}){if(n!==void 0){if(typeof n!="number"||Number.isNaN(n))throw new TypeError(`Expected \`${e}\` to be a number${i?" or Infinity":""}.`);if(!i&&!Number.isFinite(n))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(n<o)throw new TypeError(`Expected \`${e}\` to be  ${o}.`)}}let lie=class extends Error{constructor(n){super(),n instanceof Error?(this.originalError=n,{message:n}=n):(this.originalError=new Error(n),this.originalError.stack=this.stack),this.name="AbortError",this.message=n}};function cie(e,n){const o=Math.max(1,e+1),i=n.randomize?Math.random()+1:1;let u=Math.round(i*n.minTimeout*n.factor**(o-1));return u=Math.min(u,n.maxTimeout),u}function gI(e,n){return Number.isFinite(n)?n-(performance.now()-e):n}async function die({error:e,attemptNumber:n,retriesConsumed:o,startTime:i,options:u}){const t=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(t instanceof lie)throw t.originalError;const r=Number.isFinite(u.retries)?Math.max(0,u.retries-o):u.retries,a=u.maxRetryTime??Number.POSITIVE_INFINITY,s=Object.freeze({error:t,attemptNumber:n,retriesLeft:r,retriesConsumed:o});if(await u.onFailedAttempt(s),gI(i,a)<=0)throw t;const l=await u.shouldConsumeRetry(s),f=gI(i,a);if(f<=0||r<=0)throw t;if(t instanceof TypeError&&!sie(t)){if(l)throw t;return u.signal?.throwIfAborted(),!1}if(!await u.shouldRetry(s))throw t;if(!l)return u.signal?.throwIfAborted(),!1;const m=cie(o,u),b=Math.min(m,f);return b>0&&await new Promise((_,p)=>{const y=()=>{clearTimeout(v),u.signal?.removeEventListener("abort",y),p(u.signal.reason)},v=setTimeout(()=>{u.signal?.removeEventListener("abort",y),_()},b);u.unref&&v.unref?.(),u.signal?.addEventListener("abort",y,{once:!0})}),u.signal?.throwIfAborted(),!0}async function fie(e,n={}){if(n={...n},uie(n.retries),Object.hasOwn(n,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");n.retries??=10,n.factor??=2,n.minTimeout??=1e3,n.maxTimeout??=Number.POSITIVE_INFINITY,n.maxRetryTime??=Number.POSITIVE_INFINITY,n.randomize??=!1,n.onFailedAttempt??=()=>{},n.shouldRetry??=()=>!0,n.shouldConsumeRetry??=()=>!0,Yy("factor",n.factor,{min:0,allowInfinity:!1}),Yy("minTimeout",n.minTimeout,{min:0,allowInfinity:!1}),Yy("maxTimeout",n.maxTimeout,{min:0,allowInfinity:!0}),Yy("maxRetryTime",n.maxRetryTime,{min:0,allowInfinity:!0}),n.factor>0||(n.factor=1),n.signal?.throwIfAborted();let o=0,i=0;const u=performance.now();for(;!Number.isFinite(n.retries)||i<=n.retries;){o++;try{n.signal?.throwIfAborted();const t=await e(o);return n.signal?.throwIfAborted(),t}catch(t){await die({error:t,attemptNumber:o,retriesConsumed:i,startTime:u,options:n})&&i++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Wy={},HO={exports:{}},mI;function hie(){return mI||(mI=1,(function(e){var n=Object.prototype.hasOwnProperty,o="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(o=!1));function u(s,l,f){this.fn=s,this.context=l,this.once=f||!1}function t(s,l,f,m,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var _=new u(f,m||s,b),p=o?o+l:l;return s._events[p]?s._events[p].fn?s._events[p]=[s._events[p],_]:s._events[p].push(_):(s._events[p]=_,s._eventsCount++),s}function r(s,l){--s._eventsCount===0?s._events=new i:delete s._events[l]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],f,m;if(this._eventsCount===0)return l;for(m in f=this._events)n.call(f,m)&&l.push(o?m.slice(1):m);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},a.prototype.listeners=function(l){var f=o?o+l:l,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,_=m.length,p=new Array(_);b<_;b++)p[b]=m[b].fn;return p},a.prototype.listenerCount=function(l){var f=o?o+l:l,m=this._events[f];return m?m.fn?1:m.length:0},a.prototype.emit=function(l,f,m,b,_,p){var y=o?o+l:l;if(!this._events[y])return!1;var v=this._events[y],S=arguments.length,R,j;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),S){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,m),!0;case 4:return v.fn.call(v.context,f,m,b),!0;case 5:return v.fn.call(v.context,f,m,b,_),!0;case 6:return v.fn.call(v.context,f,m,b,_,p),!0}for(j=1,R=new Array(S-1);j<S;j++)R[j-1]=arguments[j];v.fn.apply(v.context,R)}else{var A=v.length,x;for(j=0;j<A;j++)switch(v[j].once&&this.removeListener(l,v[j].fn,void 0,!0),S){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,f);break;case 3:v[j].fn.call(v[j].context,f,m);break;case 4:v[j].fn.call(v[j].context,f,m,b);break;default:if(!R)for(x=1,R=new Array(S-1);x<S;x++)R[x-1]=arguments[x];v[j].fn.apply(v[j].context,R)}}return!0},a.prototype.on=function(l,f,m){return t(this,l,f,m,!1)},a.prototype.once=function(l,f,m){return t(this,l,f,m,!0)},a.prototype.removeListener=function(l,f,m,b){var _=o?o+l:l;if(!this._events[_])return this;if(!f)return r(this,_),this;var p=this._events[_];if(p.fn)p.fn===f&&(!b||p.once)&&(!m||p.context===m)&&r(this,_);else{for(var y=0,v=[],S=p.length;y<S;y++)(p[y].fn!==f||b&&!p[y].once||m&&p[y].context!==m)&&v.push(p[y]);v.length?this._events[_]=v.length===1?v[0]:v:r(this,_)}return this},a.prototype.removeAllListeners=function(l){var f;return l?(f=o?o+l:l,this._events[f]&&r(this,f)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=o,a.EventEmitter=a,e.exports=a})(HO)),HO.exports}var lg={exports:{}},KO,_I;function pie(){return _I||(_I=1,KO=(e,n)=>(n=n||(()=>{}),e.then(o=>new Promise(i=>{i(n())}).then(()=>o),o=>new Promise(i=>{i(n())}).then(()=>{throw o})))),KO}var yI;function gie(){if(yI)return lg.exports;yI=1;const e=pie();class n extends Error{constructor(u){super(u),this.name="TimeoutError"}}const o=(i,u,t)=>new Promise((r,a)=>{if(typeof u!="number"||u<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(u===1/0){r(i);return}const s=setTimeout(()=>{if(typeof t=="function"){try{r(t())}catch(m){a(m)}return}const l=typeof t=="string"?t:`Promise timed out after ${u} milliseconds`,f=t instanceof Error?t:new n(l);typeof i.cancel=="function"&&i.cancel(),a(f)},u);e(i.then(r,a),()=>{clearTimeout(s)})});return lg.exports=o,lg.exports.default=o,lg.exports.TimeoutError=n,lg.exports}var Jy={},Zy={},vI;function mie(){if(vI)return Zy;vI=1,Object.defineProperty(Zy,"__esModule",{value:!0});function e(n,o,i){let u=0,t=n.length;for(;t>0;){const r=t/2|0;let a=u+r;i(n[a],o)<=0?(u=++a,t-=r+1):t=r}return u}return Zy.default=e,Zy}var bI;function _ie(){if(bI)return Jy;bI=1,Object.defineProperty(Jy,"__esModule",{value:!0});const e=mie();class n{constructor(){this._queue=[]}enqueue(i,u){u=Object.assign({priority:0},u);const t={priority:u.priority,run:i};if(this.size&&this._queue[this.size-1].priority>=u.priority){this._queue.push(t);return}const r=e.default(this._queue,t,(a,s)=>s.priority-a.priority);this._queue.splice(r,0,t)}dequeue(){const i=this._queue.shift();return i?.run}filter(i){return this._queue.filter(u=>u.priority===i.priority).map(u=>u.run)}get size(){return this._queue.length}}return Jy.default=n,Jy}var wI;function yie(){if(wI)return Wy;wI=1,Object.defineProperty(Wy,"__esModule",{value:!0});const e=hie(),n=gie(),o=_ie(),i=()=>{},u=new n.TimeoutError;class t extends e{constructor(a){var s,l,f,m;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,a=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},a),!(typeof a.intervalCap=="number"&&a.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(l=(s=a.intervalCap)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""}\` (${typeof a.intervalCap})`);if(a.interval===void 0||!(Number.isFinite(a.interval)&&a.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(m=(f=a.interval)===null||f===void 0?void 0:f.toString())!==null&&m!==void 0?m:""}\` (${typeof a.interval})`);this._carryoverConcurrencyCount=a.carryoverConcurrencyCount,this._isIntervalIgnored=a.intervalCap===1/0||a.interval===0,this._intervalCap=a.intervalCap,this._interval=a.interval,this._queue=new a.queueClass,this._queueClass=a.queueClass,this.concurrency=a.concurrency,this._timeout=a.timeout,this._throwOnTimeout=a.throwOnTimeout===!0,this._isPaused=a.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const a=Date.now();if(this._intervalId===void 0){const s=this._intervalEnd-a;if(s<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},s)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const a=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const s=this._queue.dequeue();return s?(this.emit("active"),s(),a&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(a){if(!(typeof a=="number"&&a>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);this._concurrency=a,this._processQueue()}async add(a,s={}){return new Promise((l,f)=>{const m=async()=>{this._pendingCount++,this._intervalCount++;try{const b=this._timeout===void 0&&s.timeout===void 0?a():n.default(Promise.resolve(a()),s.timeout===void 0?this._timeout:s.timeout,()=>{(s.throwOnTimeout===void 0?this._throwOnTimeout:s.throwOnTimeout)&&f(u)});l(await b)}catch(b){f(b)}this._next()};this._queue.enqueue(m,s),this._tryToStartAnother(),this.emit("add")})}async addAll(a,s){return Promise.all(a.map(async l=>this.add(l,s)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(a=>{const s=this._resolveEmpty;this._resolveEmpty=()=>{s(),a()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(a=>{const s=this._resolveIdle;this._resolveIdle=()=>{s(),a()}})}get size(){return this._queue.size}sizeBy(a){return this._queue.filter(a).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(a){this._timeout=a}}return Wy.default=t,Wy}var vie=yie();const Jl=a_(vie),bie=[408,425,429,500,502,503,504];let OI=class{constructor(n){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=n.maxConcurrency??1/0,this.maxRetries=n.maxRetries??6,this.maxQueueSizeBytes=n.maxQueueSizeBytes,"default"in Jl?this.queue=new Jl.default({concurrency:this.maxConcurrency}):this.queue=new Jl({concurrency:this.maxConcurrency}),this.onFailedResponseHook=n?.onFailedResponseHook}call(n,...o){return this.callWithOptions({},n,...o)}callWithOptions(n,o,...i){const u=n.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&u>0&&this.queueSizeBytes+u>this.maxQueueSizeBytes)return Promise.reject(new Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${u} bytes.`));u>0&&(this.queueSizeBytes+=u);const t=this.onFailedResponseHook;let r=this.queue.add(()=>fie(()=>o(...i).catch(a=>{throw a instanceof Error?a:new Error(a)}),{async onFailedAttempt({error:a}){if(a.message.startsWith("Cancel")||a.message.startsWith("TimeoutError")||a.name==="TimeoutError"||a.message.startsWith("AbortError")||a?.code==="ECONNABORTED")throw a;const s=a?.response;if(t&&await t(s))return;const l=s?.status??a?.status;if(l&&!bie.includes(+l))throw a},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return u>0&&(r=r.finally(()=>{this.queueSizeBytes-=u})),n.signal?Promise.race([r,new Promise((a,s)=>{n.signal?.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):r}};function SI(e){return typeof e?._getType=="function"}function EI(e){const n={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(n.data.additional_kwargs={...e.additional_kwargs}),n}var Qy={exports:{}},kO,RI;function Ib(){if(RI)return kO;RI=1;const e="2.0.0",n=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,u=n-6;return kO={MAX_LENGTH:n,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:u,MAX_SAFE_INTEGER:o,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},kO}var YO,jI;function zb(){if(jI)return YO;jI=1;var e={};return YO=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...o)=>console.error("SEMVER",...o):()=>{},YO}var CI;function f_(){return CI||(CI=1,(function(e,n){const{MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:u}=Ib(),t=zb();n=e.exports={};const r=n.re=[],a=n.safeRe=[],s=n.src=[],l=n.safeSrc=[],f=n.t={};let m=0;const b="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",u],[b,i]],p=v=>{for(const[S,R]of _)v=v.split(`${S}*`).join(`${S}{0,${R}}`).split(`${S}+`).join(`${S}{1,${R}}`);return v},y=(v,S,R)=>{const j=p(S),A=m++;t(v,A,S),f[v]=A,s[A]=S,l[A]=j,r[A]=new RegExp(S,R?"g":void 0),a[A]=new RegExp(j,R?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),y("MAINVERSION",`(${s[f.NUMERICIDENTIFIER]})\\.(${s[f.NUMERICIDENTIFIER]})\\.(${s[f.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${s[f.NUMERICIDENTIFIERLOOSE]})\\.(${s[f.NUMERICIDENTIFIERLOOSE]})\\.(${s[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${s[f.NONNUMERICIDENTIFIER]}|${s[f.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${s[f.NONNUMERICIDENTIFIER]}|${s[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${s[f.PRERELEASEIDENTIFIER]}(?:\\.${s[f.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${s[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[f.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${b}+`),y("BUILD",`(?:\\+(${s[f.BUILDIDENTIFIER]}(?:\\.${s[f.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${s[f.MAINVERSION]}${s[f.PRERELEASE]}?${s[f.BUILD]}?`),y("FULL",`^${s[f.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${s[f.MAINVERSIONLOOSE]}${s[f.PRERELEASELOOSE]}?${s[f.BUILD]}?`),y("LOOSE",`^${s[f.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${s[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${s[f.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${s[f.XRANGEIDENTIFIER]})(?:\\.(${s[f.XRANGEIDENTIFIER]})(?:\\.(${s[f.XRANGEIDENTIFIER]})(?:${s[f.PRERELEASE]})?${s[f.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${s[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[f.XRANGEIDENTIFIERLOOSE]})(?:${s[f.PRERELEASELOOSE]})?${s[f.BUILD]}?)?)?`),y("XRANGE",`^${s[f.GTLT]}\\s*${s[f.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${s[f.GTLT]}\\s*${s[f.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?`),y("COERCE",`${s[f.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",s[f.COERCEPLAIN]+`(?:${s[f.PRERELEASE]})?(?:${s[f.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",s[f.COERCE],!0),y("COERCERTLFULL",s[f.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${s[f.LONETILDE]}\\s+`,!0),n.tildeTrimReplace="$1~",y("TILDE",`^${s[f.LONETILDE]}${s[f.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${s[f.LONETILDE]}${s[f.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${s[f.LONECARET]}\\s+`,!0),n.caretTrimReplace="$1^",y("CARET",`^${s[f.LONECARET]}${s[f.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${s[f.LONECARET]}${s[f.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${s[f.GTLT]}\\s*(${s[f.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${s[f.GTLT]}\\s*(${s[f.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${s[f.GTLT]}\\s*(${s[f.LOOSEPLAIN]}|${s[f.XRANGEPLAIN]})`,!0),n.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${s[f.XRANGEPLAIN]})\\s+-\\s+(${s[f.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${s[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[f.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Qy,Qy.exports)),Qy.exports}var WO,TI;function fM(){if(TI)return WO;TI=1;const e=Object.freeze({loose:!0}),n=Object.freeze({});return WO=i=>i?typeof i!="object"?e:i:n,WO}var JO,MI;function WG(){if(MI)return JO;MI=1;const e=/^[0-9]+$/,n=(i,u)=>{if(typeof i=="number"&&typeof u=="number")return i===u?0:i<u?-1:1;const t=e.test(i),r=e.test(u);return t&&r&&(i=+i,u=+u),i===u?0:t&&!r?-1:r&&!t?1:i<u?-1:1};return JO={compareIdentifiers:n,rcompareIdentifiers:(i,u)=>n(u,i)},JO}var ZO,xI;function Dr(){if(xI)return ZO;xI=1;const e=zb(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:o}=Ib(),{safeRe:i,t:u}=f_(),t=fM(),{compareIdentifiers:r}=WG();class a{constructor(l,f){if(f=t(f),l instanceof a){if(l.loose===!!f.loose&&l.includePrerelease===!!f.includePrerelease)return l;l=l.version}else if(typeof l!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof l}".`);if(l.length>n)throw new TypeError(`version is longer than ${n} characters`);e("SemVer",l,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const m=l.trim().match(f.loose?i[u.LOOSE]:i[u.FULL]);if(!m)throw new TypeError(`Invalid Version: ${l}`);if(this.raw=l,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(b=>{if(/^[0-9]+$/.test(b)){const _=+b;if(_>=0&&_<o)return _}return b}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(l){if(e("SemVer.compare",this.version,this.options,l),!(l instanceof a)){if(typeof l=="string"&&l===this.version)return 0;l=new a(l,this.options)}return l.version===this.version?0:this.compareMain(l)||this.comparePre(l)}compareMain(l){return l instanceof a||(l=new a(l,this.options)),this.major<l.major?-1:this.major>l.major?1:this.minor<l.minor?-1:this.minor>l.minor?1:this.patch<l.patch?-1:this.patch>l.patch?1:0}comparePre(l){if(l instanceof a||(l=new a(l,this.options)),this.prerelease.length&&!l.prerelease.length)return-1;if(!this.prerelease.length&&l.prerelease.length)return 1;if(!this.prerelease.length&&!l.prerelease.length)return 0;let f=0;do{const m=this.prerelease[f],b=l.prerelease[f];if(e("prerelease compare",f,m,b),m===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(m===void 0)return-1;if(m===b)continue;return r(m,b)}while(++f)}compareBuild(l){l instanceof a||(l=new a(l,this.options));let f=0;do{const m=this.build[f],b=l.build[f];if(e("build compare",f,m,b),m===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(m===void 0)return-1;if(m===b)continue;return r(m,b)}while(++f)}inc(l,f,m){if(l.startsWith("pre")){if(!f&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(f){const b=`-${f}`.match(this.options.loose?i[u.PRERELEASELOOSE]:i[u.PRERELEASE]);if(!b||b[1]!==f)throw new Error(`invalid identifier: ${f}`)}}switch(l){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,m),this.inc("pre",f,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,m),this.inc("pre",f,m);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const b=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[b];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(f===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(b)}}if(f){let _=[f,b];m===!1&&(_=[f]),r(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw new Error(`invalid increment argument: ${l}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ZO=a,ZO}var QO,PI;function dp(){if(PI)return QO;PI=1;const e=Dr();return QO=(o,i,u=!1)=>{if(o instanceof e)return o;try{return new e(o,i)}catch(t){if(!u)return null;throw t}},QO}var XO,AI;function wie(){if(AI)return XO;AI=1;const e=dp();return XO=(o,i)=>{const u=e(o,i);return u?u.version:null},XO}var eS,NI;function Oie(){if(NI)return eS;NI=1;const e=dp();return eS=(o,i)=>{const u=e(o.trim().replace(/^[=v]+/,""),i);return u?u.version:null},eS}var tS,DI;function Sie(){if(DI)return tS;DI=1;const e=Dr();return tS=(o,i,u,t,r)=>{typeof u=="string"&&(r=t,t=u,u=void 0);try{return new e(o instanceof e?o.version:o,u).inc(i,t,r).version}catch{return null}},tS}var rS,II;function Eie(){if(II)return rS;II=1;const e=dp();return rS=(o,i)=>{const u=e(o,null,!0),t=e(i,null,!0),r=u.compare(t);if(r===0)return null;const a=r>0,s=a?u:t,l=a?t:u,f=!!s.prerelease.length;if(!!l.prerelease.length&&!f){if(!l.patch&&!l.minor)return"major";if(l.compareMain(s)===0)return l.minor&&!l.patch?"minor":"patch"}const b=f?"pre":"";return u.major!==t.major?b+"major":u.minor!==t.minor?b+"minor":u.patch!==t.patch?b+"patch":"prerelease"},rS}var nS,zI;function Rie(){if(zI)return nS;zI=1;const e=Dr();return nS=(o,i)=>new e(o,i).major,nS}var aS,qI;function jie(){if(qI)return aS;qI=1;const e=Dr();return aS=(o,i)=>new e(o,i).minor,aS}var iS,BI;function Cie(){if(BI)return iS;BI=1;const e=Dr();return iS=(o,i)=>new e(o,i).patch,iS}var oS,LI;function Tie(){if(LI)return oS;LI=1;const e=dp();return oS=(o,i)=>{const u=e(o,i);return u&&u.prerelease.length?u.prerelease:null},oS}var sS,UI;function sl(){if(UI)return sS;UI=1;const e=Dr();return sS=(o,i,u)=>new e(o,u).compare(new e(i,u)),sS}var uS,$I;function Mie(){if($I)return uS;$I=1;const e=sl();return uS=(o,i,u)=>e(i,o,u),uS}var lS,FI;function xie(){if(FI)return lS;FI=1;const e=sl();return lS=(o,i)=>e(o,i,!0),lS}var cS,VI;function hM(){if(VI)return cS;VI=1;const e=Dr();return cS=(o,i,u)=>{const t=new e(o,u),r=new e(i,u);return t.compare(r)||t.compareBuild(r)},cS}var dS,GI;function Pie(){if(GI)return dS;GI=1;const e=hM();return dS=(o,i)=>o.sort((u,t)=>e(u,t,i)),dS}var fS,HI;function Aie(){if(HI)return fS;HI=1;const e=hM();return fS=(o,i)=>o.sort((u,t)=>e(t,u,i)),fS}var hS,KI;function qb(){if(KI)return hS;KI=1;const e=sl();return hS=(o,i,u)=>e(o,i,u)>0,hS}var pS,kI;function pM(){if(kI)return pS;kI=1;const e=sl();return pS=(o,i,u)=>e(o,i,u)<0,pS}var gS,YI;function JG(){if(YI)return gS;YI=1;const e=sl();return gS=(o,i,u)=>e(o,i,u)===0,gS}var mS,WI;function ZG(){if(WI)return mS;WI=1;const e=sl();return mS=(o,i,u)=>e(o,i,u)!==0,mS}var _S,JI;function gM(){if(JI)return _S;JI=1;const e=sl();return _S=(o,i,u)=>e(o,i,u)>=0,_S}var yS,ZI;function mM(){if(ZI)return yS;ZI=1;const e=sl();return yS=(o,i,u)=>e(o,i,u)<=0,yS}var vS,QI;function QG(){if(QI)return vS;QI=1;const e=JG(),n=ZG(),o=qb(),i=gM(),u=pM(),t=mM();return vS=(a,s,l,f)=>{switch(s){case"===":return typeof a=="object"&&(a=a.version),typeof l=="object"&&(l=l.version),a===l;case"!==":return typeof a=="object"&&(a=a.version),typeof l=="object"&&(l=l.version),a!==l;case"":case"=":case"==":return e(a,l,f);case"!=":return n(a,l,f);case">":return o(a,l,f);case">=":return i(a,l,f);case"<":return u(a,l,f);case"<=":return t(a,l,f);default:throw new TypeError(`Invalid operator: ${s}`)}},vS}var bS,XI;function Nie(){if(XI)return bS;XI=1;const e=Dr(),n=dp(),{safeRe:o,t:i}=f_();return bS=(t,r)=>{if(t instanceof e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;r=r||{};let a=null;if(!r.rtl)a=t.match(r.includePrerelease?o[i.COERCEFULL]:o[i.COERCE]);else{const _=r.includePrerelease?o[i.COERCERTLFULL]:o[i.COERCERTL];let p;for(;(p=_.exec(t))&&(!a||a.index+a[0].length!==t.length);)(!a||p.index+p[0].length!==a.index+a[0].length)&&(a=p),_.lastIndex=p.index+p[1].length+p[2].length;_.lastIndex=-1}if(a===null)return null;const s=a[2],l=a[3]||"0",f=a[4]||"0",m=r.includePrerelease&&a[5]?`-${a[5]}`:"",b=r.includePrerelease&&a[6]?`+${a[6]}`:"";return n(`${s}.${l}.${f}${m}${b}`,r)},bS}var wS,ez;function Die(){if(ez)return wS;ez=1;class e{constructor(){this.max=1e3,this.map=new Map}get(o){const i=this.map.get(o);if(i!==void 0)return this.map.delete(o),this.map.set(o,i),i}delete(o){return this.map.delete(o)}set(o,i){if(!this.delete(o)&&i!==void 0){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(o,i)}return this}}return wS=e,wS}var OS,tz;function ul(){if(tz)return OS;tz=1;const e=/\s+/g;class n{constructor(W,$){if($=u($),W instanceof n)return W.loose===!!$.loose&&W.includePrerelease===!!$.includePrerelease?W:new n(W.raw,$);if(W instanceof t)return this.raw=W.value,this.set=[[W]],this.formatted=void 0,this;if(this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease,this.raw=W.trim().replace(e," "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const k=this.set[0];if(this.set=this.set.filter(Q=>!y(Q[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(const Q of this.set)if(Q.length===1&&v(Q[0])){this.set=[Q];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let W=0;W<this.set.length;W++){W>0&&(this.formatted+="||");const $=this.set[W];for(let k=0;k<$.length;k++)k>0&&(this.formatted+=" "),this.formatted+=$[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(W){const k=((this.options.includePrerelease&&_)|(this.options.loose&&p))+":"+W,Q=i.get(k);if(Q)return Q;const re=this.options.loose,T=re?s[l.HYPHENRANGELOOSE]:s[l.HYPHENRANGE];W=W.replace(T,w(this.options.includePrerelease)),r("hyphen replace",W),W=W.replace(s[l.COMPARATORTRIM],f),r("comparator trim",W),W=W.replace(s[l.TILDETRIM],m),r("tilde trim",W),W=W.replace(s[l.CARETTRIM],b),r("caret trim",W);let I=W.split(" ").map(_e=>R(_e,this.options)).join(" ").split(/\s+/).map(_e=>q(_e,this.options));re&&(I=I.filter(_e=>(r("loose invalid filter",_e,this.options),!!_e.match(s[l.COMPARATORLOOSE])))),r("range list",I);const K=new Map,ee=I.map(_e=>new t(_e,this.options));for(const _e of ee){if(y(_e))return[_e];K.set(_e.value,_e)}K.size>1&&K.has("")&&K.delete("");const fe=[...K.values()];return i.set(k,fe),fe}intersects(W,$){if(!(W instanceof n))throw new TypeError("a Range is required");return this.set.some(k=>S(k,$)&&W.set.some(Q=>S(Q,$)&&k.every(re=>Q.every(T=>re.intersects(T,$)))))}test(W){if(!W)return!1;if(typeof W=="string")try{W=new a(W,this.options)}catch{return!1}for(let $=0;$<this.set.length;$++)if(H(this.set[$],W,this.options))return!0;return!1}}OS=n;const o=Die(),i=new o,u=fM(),t=Bb(),r=zb(),a=Dr(),{safeRe:s,t:l,comparatorTrimReplace:f,tildeTrimReplace:m,caretTrimReplace:b}=f_(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:p}=Ib(),y=Y=>Y.value==="<0.0.0-0",v=Y=>Y.value==="",S=(Y,W)=>{let $=!0;const k=Y.slice();let Q=k.pop();for(;$&&k.length;)$=k.every(re=>Q.intersects(re,W)),Q=k.pop();return $},R=(Y,W)=>(Y=Y.replace(s[l.BUILD],""),r("comp",Y,W),Y=M(Y,W),r("caret",Y),Y=A(Y,W),r("tildes",Y),Y=P(Y,W),r("xrange",Y),Y=B(Y,W),r("stars",Y),Y),j=Y=>!Y||Y.toLowerCase()==="x"||Y==="*",A=(Y,W)=>Y.trim().split(/\s+/).map($=>x($,W)).join(" "),x=(Y,W)=>{const $=W.loose?s[l.TILDELOOSE]:s[l.TILDE];return Y.replace($,(k,Q,re,T,I)=>{r("tilde",Y,k,Q,re,T,I);let K;return j(Q)?K="":j(re)?K=`>=${Q}.0.0 <${+Q+1}.0.0-0`:j(T)?K=`>=${Q}.${re}.0 <${Q}.${+re+1}.0-0`:I?(r("replaceTilde pr",I),K=`>=${Q}.${re}.${T}-${I} <${Q}.${+re+1}.0-0`):K=`>=${Q}.${re}.${T} <${Q}.${+re+1}.0-0`,r("tilde return",K),K})},M=(Y,W)=>Y.trim().split(/\s+/).map($=>D($,W)).join(" "),D=(Y,W)=>{r("caret",Y,W);const $=W.loose?s[l.CARETLOOSE]:s[l.CARET],k=W.includePrerelease?"-0":"";return Y.replace($,(Q,re,T,I,K)=>{r("caret",Y,Q,re,T,I,K);let ee;return j(re)?ee="":j(T)?ee=`>=${re}.0.0${k} <${+re+1}.0.0-0`:j(I)?re==="0"?ee=`>=${re}.${T}.0${k} <${re}.${+T+1}.0-0`:ee=`>=${re}.${T}.0${k} <${+re+1}.0.0-0`:K?(r("replaceCaret pr",K),re==="0"?T==="0"?ee=`>=${re}.${T}.${I}-${K} <${re}.${T}.${+I+1}-0`:ee=`>=${re}.${T}.${I}-${K} <${re}.${+T+1}.0-0`:ee=`>=${re}.${T}.${I}-${K} <${+re+1}.0.0-0`):(r("no pr"),re==="0"?T==="0"?ee=`>=${re}.${T}.${I}${k} <${re}.${T}.${+I+1}-0`:ee=`>=${re}.${T}.${I}${k} <${re}.${+T+1}.0-0`:ee=`>=${re}.${T}.${I} <${+re+1}.0.0-0`),r("caret return",ee),ee})},P=(Y,W)=>(r("replaceXRanges",Y,W),Y.split(/\s+/).map($=>F($,W)).join(" ")),F=(Y,W)=>{Y=Y.trim();const $=W.loose?s[l.XRANGELOOSE]:s[l.XRANGE];return Y.replace($,(k,Q,re,T,I,K)=>{r("xRange",Y,k,Q,re,T,I,K);const ee=j(re),fe=ee||j(T),_e=fe||j(I),V=_e;return Q==="="&&V&&(Q=""),K=W.includePrerelease?"-0":"",ee?Q===">"||Q==="<"?k="<0.0.0-0":k="*":Q&&V?(fe&&(T=0),I=0,Q===">"?(Q=">=",fe?(re=+re+1,T=0,I=0):(T=+T+1,I=0)):Q==="<="&&(Q="<",fe?re=+re+1:T=+T+1),Q==="<"&&(K="-0"),k=`${Q+re}.${T}.${I}${K}`):fe?k=`>=${re}.0.0${K} <${+re+1}.0.0-0`:_e&&(k=`>=${re}.${T}.0${K} <${re}.${+T+1}.0-0`),r("xRange return",k),k})},B=(Y,W)=>(r("replaceStars",Y,W),Y.trim().replace(s[l.STAR],"")),q=(Y,W)=>(r("replaceGTE0",Y,W),Y.trim().replace(s[W.includePrerelease?l.GTE0PRE:l.GTE0],"")),w=Y=>(W,$,k,Q,re,T,I,K,ee,fe,_e,V)=>(j(k)?$="":j(Q)?$=`>=${k}.0.0${Y?"-0":""}`:j(re)?$=`>=${k}.${Q}.0${Y?"-0":""}`:T?$=`>=${$}`:$=`>=${$}${Y?"-0":""}`,j(ee)?K="":j(fe)?K=`<${+ee+1}.0.0-0`:j(_e)?K=`<${ee}.${+fe+1}.0-0`:V?K=`<=${ee}.${fe}.${_e}-${V}`:Y?K=`<${ee}.${fe}.${+_e+1}-0`:K=`<=${K}`,`${$} ${K}`.trim()),H=(Y,W,$)=>{for(let k=0;k<Y.length;k++)if(!Y[k].test(W))return!1;if(W.prerelease.length&&!$.includePrerelease){for(let k=0;k<Y.length;k++)if(r(Y[k].semver),Y[k].semver!==t.ANY&&Y[k].semver.prerelease.length>0){const Q=Y[k].semver;if(Q.major===W.major&&Q.minor===W.minor&&Q.patch===W.patch)return!0}return!1}return!0};return OS}var SS,rz;function Bb(){if(rz)return SS;rz=1;const e=Symbol("SemVer ANY");class n{static get ANY(){return e}constructor(f,m){if(m=o(m),f instanceof n){if(f.loose===!!m.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),r("comparator",f,m),this.options=m,this.loose=!!m.loose,this.parse(f),this.semver===e?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}parse(f){const m=this.options.loose?i[u.COMPARATORLOOSE]:i[u.COMPARATOR],b=f.match(m);if(!b)throw new TypeError(`Invalid comparator: ${f}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new a(b[2],this.options.loose):this.semver=e}toString(){return this.value}test(f){if(r("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if(typeof f=="string")try{f=new a(f,this.options)}catch{return!1}return t(f,this.operator,this.semver,this.options)}intersects(f,m){if(!(f instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new s(f.value,m).test(this.value):f.operator===""?f.value===""?!0:new s(this.value,m).test(f.semver):(m=o(m),m.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||t(this.semver,"<",f.semver,m)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||t(this.semver,">",f.semver,m)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}SS=n;const o=fM(),{safeRe:i,t:u}=f_(),t=QG(),r=zb(),a=Dr(),s=ul();return SS}var ES,nz;function Lb(){if(nz)return ES;nz=1;const e=ul();return ES=(o,i,u)=>{try{i=new e(i,u)}catch{return!1}return i.test(o)},ES}var RS,az;function Iie(){if(az)return RS;az=1;const e=ul();return RS=(o,i)=>new e(o,i).set.map(u=>u.map(t=>t.value).join(" ").trim().split(" ")),RS}var jS,iz;function zie(){if(iz)return jS;iz=1;const e=Dr(),n=ul();return jS=(i,u,t)=>{let r=null,a=null,s=null;try{s=new n(u,t)}catch{return null}return i.forEach(l=>{s.test(l)&&(!r||a.compare(l)===-1)&&(r=l,a=new e(r,t))}),r},jS}var CS,oz;function qie(){if(oz)return CS;oz=1;const e=Dr(),n=ul();return CS=(i,u,t)=>{let r=null,a=null,s=null;try{s=new n(u,t)}catch{return null}return i.forEach(l=>{s.test(l)&&(!r||a.compare(l)===1)&&(r=l,a=new e(r,t))}),r},CS}var TS,sz;function Bie(){if(sz)return TS;sz=1;const e=Dr(),n=ul(),o=qb();return TS=(u,t)=>{u=new n(u,t);let r=new e("0.0.0");if(u.test(r)||(r=new e("0.0.0-0"),u.test(r)))return r;r=null;for(let a=0;a<u.set.length;++a){const s=u.set[a];let l=null;s.forEach(f=>{const m=new e(f.semver.version);switch(f.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!l||o(m,l))&&(l=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),l&&(!r||o(r,l))&&(r=l)}return r&&u.test(r)?r:null},TS}var MS,uz;function Lie(){if(uz)return MS;uz=1;const e=ul();return MS=(o,i)=>{try{return new e(o,i).range||"*"}catch{return null}},MS}var xS,lz;function _M(){if(lz)return xS;lz=1;const e=Dr(),n=Bb(),{ANY:o}=n,i=ul(),u=Lb(),t=qb(),r=pM(),a=mM(),s=gM();return xS=(f,m,b,_)=>{f=new e(f,_),m=new i(m,_);let p,y,v,S,R;switch(b){case">":p=t,y=a,v=r,S=">",R=">=";break;case"<":p=r,y=s,v=t,S="<",R="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(f,m,_))return!1;for(let j=0;j<m.set.length;++j){const A=m.set[j];let x=null,M=null;if(A.forEach(D=>{D.semver===o&&(D=new n(">=0.0.0")),x=x||D,M=M||D,p(D.semver,x.semver,_)?x=D:v(D.semver,M.semver,_)&&(M=D)}),x.operator===S||x.operator===R||(!M.operator||M.operator===S)&&y(f,M.semver))return!1;if(M.operator===R&&v(f,M.semver))return!1}return!0},xS}var PS,cz;function Uie(){if(cz)return PS;cz=1;const e=_M();return PS=(o,i,u)=>e(o,i,">",u),PS}var AS,dz;function $ie(){if(dz)return AS;dz=1;const e=_M();return AS=(o,i,u)=>e(o,i,"<",u),AS}var NS,fz;function Fie(){if(fz)return NS;fz=1;const e=ul();return NS=(o,i,u)=>(o=new e(o,u),i=new e(i,u),o.intersects(i,u)),NS}var DS,hz;function Vie(){if(hz)return DS;hz=1;const e=Lb(),n=sl();return DS=(o,i,u)=>{const t=[];let r=null,a=null;const s=o.sort((b,_)=>n(b,_,u));for(const b of s)e(b,i,u)?(a=b,r||(r=b)):(a&&t.push([r,a]),a=null,r=null);r&&t.push([r,null]);const l=[];for(const[b,_]of t)b===_?l.push(b):!_&&b===s[0]?l.push("*"):_?b===s[0]?l.push(`<=${_}`):l.push(`${b} - ${_}`):l.push(`>=${b}`);const f=l.join(" || "),m=typeof i.raw=="string"?i.raw:String(i);return f.length<m.length?f:i},DS}var IS,pz;function Gie(){if(pz)return IS;pz=1;const e=ul(),n=Bb(),{ANY:o}=n,i=Lb(),u=sl(),t=(m,b,_={})=>{if(m===b)return!0;m=new e(m,_),b=new e(b,_);let p=!1;e:for(const y of m.set){for(const v of b.set){const S=s(y,v,_);if(p=p||S!==null,S)continue e}if(p)return!1}return!0},r=[new n(">=0.0.0-0")],a=[new n(">=0.0.0")],s=(m,b,_)=>{if(m===b)return!0;if(m.length===1&&m[0].semver===o){if(b.length===1&&b[0].semver===o)return!0;_.includePrerelease?m=r:m=a}if(b.length===1&&b[0].semver===o){if(_.includePrerelease)return!0;b=a}const p=new Set;let y,v;for(const P of m)P.operator===">"||P.operator===">="?y=l(y,P,_):P.operator==="<"||P.operator==="<="?v=f(v,P,_):p.add(P.semver);if(p.size>1)return null;let S;if(y&&v){if(S=u(y.semver,v.semver,_),S>0)return null;if(S===0&&(y.operator!==">="||v.operator!=="<="))return null}for(const P of p){if(y&&!i(P,String(y),_)||v&&!i(P,String(v),_))return null;for(const F of b)if(!i(P,String(F),_))return!1;return!0}let R,j,A,x,M=v&&!_.includePrerelease&&v.semver.prerelease.length?v.semver:!1,D=y&&!_.includePrerelease&&y.semver.prerelease.length?y.semver:!1;M&&M.prerelease.length===1&&v.operator==="<"&&M.prerelease[0]===0&&(M=!1);for(const P of b){if(x=x||P.operator===">"||P.operator===">=",A=A||P.operator==="<"||P.operator==="<=",y){if(D&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===D.major&&P.semver.minor===D.minor&&P.semver.patch===D.patch&&(D=!1),P.operator===">"||P.operator===">="){if(R=l(y,P,_),R===P&&R!==y)return!1}else if(y.operator===">="&&!i(y.semver,String(P),_))return!1}if(v){if(M&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===M.major&&P.semver.minor===M.minor&&P.semver.patch===M.patch&&(M=!1),P.operator==="<"||P.operator==="<="){if(j=f(v,P,_),j===P&&j!==v)return!1}else if(v.operator==="<="&&!i(v.semver,String(P),_))return!1}if(!P.operator&&(v||y)&&S!==0)return!1}return!(y&&A&&!v&&S!==0||v&&x&&!y&&S!==0||D||M)},l=(m,b,_)=>{if(!m)return b;const p=u(m.semver,b.semver,_);return p>0?m:p<0||b.operator===">"&&m.operator===">="?b:m},f=(m,b,_)=>{if(!m)return b;const p=u(m.semver,b.semver,_);return p<0?m:p>0||b.operator==="<"&&m.operator==="<="?b:m};return IS=t,IS}var zS,gz;function Hie(){if(gz)return zS;gz=1;const e=f_(),n=Ib(),o=Dr(),i=WG(),u=dp(),t=wie(),r=Oie(),a=Sie(),s=Eie(),l=Rie(),f=jie(),m=Cie(),b=Tie(),_=sl(),p=Mie(),y=xie(),v=hM(),S=Pie(),R=Aie(),j=qb(),A=pM(),x=JG(),M=ZG(),D=gM(),P=mM(),F=QG(),B=Nie(),q=Bb(),w=ul(),H=Lb(),Y=Iie(),W=zie(),$=qie(),k=Bie(),Q=Lie(),re=_M(),T=Uie(),I=$ie(),K=Fie(),ee=Vie(),fe=Gie();return zS={parse:u,valid:t,clean:r,inc:a,diff:s,major:l,minor:f,patch:m,prerelease:b,compare:_,rcompare:p,compareLoose:y,compareBuild:v,sort:S,rsort:R,gt:j,lt:A,eq:x,neq:M,gte:D,lte:P,cmp:F,coerce:B,Comparator:q,Range:w,satisfies:H,toComparators:Y,maxSatisfying:W,minSatisfying:$,minVersion:k,validRange:Q,outside:re,gtr:T,ltr:I,intersects:K,simplifyRange:ee,subset:fe,SemVer:o,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},zS}Hie();function Ic(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw new Error(`Invalid identifier format: ${e}`);const[n,o]=e.split(":"),i=o||"latest";if(n.includes("/")){const[u,t]=n.split("/",2);if(!u||!t)throw new Error(`Invalid identifier format: ${e}`);return[u,t,i]}else{if(!n)throw new Error(`Invalid identifier format: ${e}`);return["-",n,i]}}class Kie extends Error{constructor(n){super(n),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}class kie extends Error{constructor(n){super(n),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithNotFoundError",this.status=404}}function mz(e){return e!=null&&typeof e=="object"&&"name"in e&&e?.name==="LangSmithNotFoundError"}async function Qe(e,n,o){let i;if(e.ok){o&&(i=await e.text());return}if(e.status===403)try{(await e.json())?.error==="org_scoped_key_requires_workspace"&&(i="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const a=new Error(`${e.status} ${e.statusText}`);throw a.status=e?.status,a}if(i===void 0)try{i=await e.text()}catch{i=""}const u=`Failed to ${n}. Received status [${e.status}]: ${e.statusText}. Message: ${i}`;if(e.status===404)throw new kie(u);if(e.status===409)throw new Kie(u);const t=new Error(u);throw t.status=e.status,t}const XG="ERR_CONFLICTING_ENDPOINTS";class Yie extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:XG}),this.name="ConflictingEndpointsError"}}function Wie(e){return typeof e=="object"&&e!==null&&e.code===XG}var _z="[...]",Jie={result:"[Circular]"},mb=[],kh=[];const Zie=new TextEncoder;function Qie(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Xy(e){return Zie.encode(e)}function eH(e){if(e&&typeof e=="object"&&e!==null){if(e instanceof Map)return Object.fromEntries(e);if(e instanceof Set)return Array.from(e);if(e instanceof Date)return e.toISOString();if(e instanceof RegExp)return e.toString();if(e instanceof Error)return{name:e.name,message:e.message}}else if(typeof e=="bigint")return e.toString();return e}function Xie(e){return function(n,o){return eH(o)}}function gn(e,n,o,i,u){try{const t=JSON.stringify(e,Xie(o),i);return Xy(t)}catch(t){if(!t.message?.includes("Converting circular structure to JSON"))return console.warn(`[WARNING]: LangSmith received unserializable value.${n?`
Context: ${n}`:""}`),Xy("[Unserializable]");Kr("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${n?`
Context: ${n}`:""}`),typeof u>"u"&&(u=Qie()),eT(e,"",0,[],void 0,0,u);let r;try{kh.length===0?r=JSON.stringify(e,o,i):r=JSON.stringify(e,eoe(o),i)}catch{return Xy("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;mb.length!==0;){const a=mb.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return Xy(r)}}function qS(e,n,o,i){var u=Object.getOwnPropertyDescriptor(i,o);u.get!==void 0?u.configurable?(Object.defineProperty(i,o,{value:e}),mb.push([i,o,n,u])):kh.push([n,o,e]):(i[o]=e,mb.push([i,o,n]))}function eT(e,n,o,i,u,t,r){t+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<i.length;a++)if(i[a]===e){qS(Jie,e,n,u);return}if(typeof r.depthLimit<"u"&&t>r.depthLimit){qS(_z,e,n,u);return}if(typeof r.edgesLimit<"u"&&o+1>r.edgesLimit){qS(_z,e,n,u);return}if(i.push(e),Array.isArray(e))for(a=0;a<e.length;a++)eT(e[a],a,a,i,e,t,r);else{e=eH(e);var s=Object.keys(e);for(a=0;a<s.length;a++){var l=s[a];eT(e[l],l,a,i,e,t,r)}}i.pop()}}function eoe(e){return e=typeof e<"u"?e:function(n,o){return o},function(n,o){if(kh.length>0)for(var i=0;i<kh.length;i++){var u=kh[i];if(u[1]===n&&u[0]===o){o=u[2],kh.splice(i,1);break}}return e.call(this,n,o)}}function yz(e,n,o){if(o)return e;const i=HG(),u=n??KG(),t=e.extra??{},r=t.metadata;return e.extra={...t,runtime:{...i,...t?.runtime},metadata:{...u,...u.revision_id||"revision_id"in e&&e.revision_id?{revision_id:("revision_id"in e?e.revision_id:void 0)??u.revision_id}:{},...r}},e}const toe=e=>{const n=e?.toString()??Kr("TRACING_SAMPLING_RATE");if(n===void 0)return;const o=parseFloat(n);if(o<0||o>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${o}`);return o},roe=e=>{const o=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return o==="localhost"||o==="127.0.0.1"||o==="::1"};async function noe(e){const n=[];for await(const o of e)n.push(o);return n}function ev(e){if(e!==void 0)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const aoe=async e=>{if(e?.status===429){const n=parseInt(e.headers.get("retry-after")??"10",10)*1e3;if(n>0)return await new Promise(o=>setTimeout(o,n)),!0}return!1};function vz(e){return typeof e=="number"?Number(e.toFixed(4)):e}const ioe=24*1024*1024,tH=1024*1024*1024,ooe=1e4,soe=100,bz="https://api.smith.langchain.com";class uoe{constructor(n){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=n??tH}peek(){return this.items[0]}push(n){let o;const i=new Promise(t=>{o=t}),u=gn(n.item,`Serializing run with id: ${n.item.id}`).length;return this.sizeBytes+u>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${n.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${u} bytes.`),o(),i):(this.items.push({action:n.action,payload:n.item,otelContext:n.otelContext,apiKey:n.apiKey,apiUrl:n.apiUrl,itemPromiseResolve:o,itemPromise:i,size:u}),this.sizeBytes+=u,i)}pop({upToSizeBytes:n,upToSize:o}){if(n<1)throw new Error("Number of bytes to pop off may not be less than 1.");const i=[];let u=0;for(;u+(this.peek()?.size??0)<n&&this.items.length>0&&i.length<o;){const t=this.items.shift();t&&(i.push(t),u+=t.size,this.sizeBytes-=t.size)}if(i.length===0&&this.items.length>0){const t=this.items.shift();i.push(t),u+=t.size,this.sizeBytes-=t.size}return[i.map(t=>({action:t.action,item:t.payload,otelContext:t.otelContext,apiKey:t.apiKey,apiUrl:t.apiUrl,size:t.size})),()=>i.forEach(t=>t.itemPromiseResolve())]}}let rH=class tT{get _fetch(){return this.fetchImplementation||Bae(this.debug)}constructor(n={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitTracedRuntimeInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:Sl("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_multipartDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:Sl("LANGSMITH_DEBUG")==="true"});const o=tT.getDefaultClientConfig();if(this.tracingSampleRate=toe(n.tracingSamplingRate),this.apiUrl=ev(n.apiUrl??o.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=ev(n.apiKey??o.apiKey),this.webUrl=ev(n.webUrl??o.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=ev(n.workspaceId??Kr("WORKSPACE_ID")),this.timeout_ms=n.timeout_ms??9e4,this.caller=new OI({...n.callerOptions??{},maxRetries:4,debug:n.debug??this.debug}),this.traceBatchConcurrency=n.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=n.debug??this.debug,this.fetchImplementation=n.fetchImplementation;const i=n.maxIngestMemoryBytes??tH;this.batchIngestCaller=new OI({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:i,...n.callerOptions??{},onFailedResponseHook:aoe,debug:n.debug??this.debug}),this.hideInputs=n.hideInputs??n.anonymizer??o.hideInputs,this.hideOutputs=n.hideOutputs??n.anonymizer??o.hideOutputs,this.omitTracedRuntimeInfo=n.omitTracedRuntimeInfo??!1,this.autoBatchTracing=n.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new uoe(i),this.blockOnRootRunFinalization=n.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=n.batchSizeBytesLimit,this.batchSizeLimit=n.batchSizeLimit,this.fetchOptions=n.fetchOptions||{},this.manualFlushMode=n.manualFlushMode??this.manualFlushMode,kG()&&(this.langSmithToOTELTranslator=new nie),this.cachedLSEnvVarsForMetadata=KG()}static getDefaultClientConfig(){const n=Kr("API_KEY"),o=Kr("ENDPOINT")??bz,i=Kr("HIDE_INPUTS")==="true",u=Kr("HIDE_OUTPUTS")==="true";return{apiUrl:o,apiKey:n,webUrl:void 0,hideInputs:i,hideOutputs:u}}getHostUrl(){return this.webUrl?this.webUrl:roe(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const n={"User-Agent":`langsmith-js/${FG}`};return this.apiKey&&(n["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(n["x-tenant-id"]=this.workspaceId),n}_getPlatformEndpointPath(n){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${n}`:`/platform/${n}`}async processInputs(n){return this.hideInputs===!1?n:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(n):n}async processOutputs(n){return this.hideOutputs===!1?n:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(n):n}async prepareRunCreateOrUpdateInputs(n){const o={...n};return o.inputs!==void 0&&(o.inputs=await this.processInputs(o.inputs)),o.outputs!==void 0&&(o.outputs=await this.processOutputs(o.outputs)),o}async _getResponse(n,o){const i=o?.toString()??"",u=`${this.apiUrl}${n}?${i}`;return await this.caller.call(async()=>{const r=await this._fetch(u,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(r,`fetch ${n}`),r})}async _get(n,o){return(await this._getResponse(n,o)).json()}async*_getPaginated(n,o=new URLSearchParams,i){let u=Number(o.get("offset"))||0;const t=Number(o.get("limit"))||100;for(;;){o.set("offset",String(u)),o.set("limit",String(t));const r=`${this.apiUrl}${n}?${o}`,a=await this.caller.call(async()=>{const l=await this._fetch(r,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(l,`fetch ${n}`),l}),s=i?i(await a.json()):await a.json();if(s.length===0||(yield s,s.length<t))break;u+=s.length}}async*_getCursorPaginatedList(n,o=null,i="POST",u="runs"){const t=o?{...o}:{};for(;;){const r=JSON.stringify(t),s=await(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}${n}`,{method:i,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(f,`fetch ${n}`),f})).json();if(!s||!s[u])break;yield s[u];const l=s.cursors;if(!l||!l.next)break;t.cursor=l.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(n,o=!1){if(this.tracingSampleRate===void 0)return n;if(o){const i=[];for(const u of n)this.filteredPostUuids.has(u.trace_id)?u.id===u.trace_id&&this.filteredPostUuids.delete(u.trace_id):i.push(u);return i}else{const i=[];for(const u of n){const t=u.trace_id??u.id;this.filteredPostUuids.has(t)||(u.id===t?this._shouldSample()?i.push(u):this.filteredPostUuids.add(t):i.push(u))}return i}}async _getBatchSizeLimitBytes(){const n=await this._ensureServerInfo();return this.batchSizeBytesLimit??n?.batch_ingest_config?.size_limit_bytes??ioe}async _getBatchSizeLimit(){const n=await this._ensureServerInfo();return this.batchSizeLimit??n?.batch_ingest_config?.size_limit??soe}async _getDatasetExamplesMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:o}){const i=[];for(;this.autoBatchQueue.items.length>0;){const[u,t]=this.autoBatchQueue.pop({upToSizeBytes:n,upToSize:o});if(!u.length){t();break}const r=u.reduce((l,f)=>{const m=f.apiUrl??this.apiUrl,b=f.apiKey??this.apiKey,p=f.apiKey===this.apiKey&&f.apiUrl===this.apiUrl?"default":`${m}|${b}`;return l[p]||(l[p]=[]),l[p].push(f),l},{}),a=[];for(const[l,f]of Object.entries(r)){const m=this._processBatch(f,{apiUrl:l==="default"?void 0:l.split("|")[0],apiKey:l==="default"?void 0:l.split("|")[1]});a.push(m)}const s=Promise.all(a).finally(t);i.push(s)}return Promise.all(i)}async _processBatch(n,o){if(!n.length)return;const i=n.reduce((u,t)=>u+(t.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(n);else{const u={runCreates:n.filter(a=>a.action==="create").map(a=>a.item),runUpdates:n.filter(a=>a.action==="update").map(a=>a.item)},t=await this._ensureServerInfo();if(!this._multipartDisabled&&(t?.batch_ingest_config?.use_multipart_endpoint??!0)){const a=t?.instance_flags?.gzip_body_enabled;try{await this.multipartIngestRuns(u,{...o,useGzip:a,sizeBytes:i})}catch(s){if(mz(s))this._multipartDisabled=!0,await this.batchIngestRuns(u,{...o,sizeBytes:i});else throw s}}else await this.batchIngestRuns(u,{...o,sizeBytes:i})}}catch(u){console.error("Error exporting batch:",u)}}_sendBatchToOTELTranslator(n){if(this.langSmithToOTELTranslator!==void 0){const o=new Map,i=[];for(const u of n)u.item.id&&u.otelContext&&(o.set(u.item.id,u.otelContext),u.action==="create"?i.push({operation:"post",id:u.item.id,trace_id:u.item.trace_id??u.item.id,run:u.item}):i.push({operation:"patch",id:u.item.id,trace_id:u.item.trace_id??u.item.id,run:u.item}));this.langSmithToOTELTranslator.exportBatch(i,o)}}async processRunOperation(n){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,n.item=yz(n.item,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);const o=this.autoBatchQueue.push(n);if(this.manualFlushMode)return o;const i=await this._getBatchSizeLimitBytes(),u=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>i||this.autoBatchQueue.items.length>u)&&this.drainAutoBatchQueue({batchSizeLimitBytes:i,batchSizeLimit:u}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:i,batchSizeLimit:u})},this.autoBatchAggregationDelayMs)),o}async _getServerInfo(){const o=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(ooe),...this.fetchOptions});return await Qe(i,"get server info"),i})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(o,null,2)+`
`),o}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(n){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${n.status??"Unspecified status code"} ${n.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(n=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),n))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const n=await this._getBatchSizeLimitBytes(),o=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:o})}_cloneCurrentOTELContext(){const n=YG(),o=Xae();if(this.langSmithToOTELTranslator!==void 0){const i=n.getActiveSpan();if(i)return n.setSpan(o.active(),i)}}async createRun(n,o){if(!this._filterForSampling([n]).length)return;const i={...this.headers,"Content-Type":"application/json"},u=n.project_name;delete n.project_name;const t=await this.prepareRunCreateOrUpdateInputs({session_name:u,...n,start_time:n.start_time??Date.now()});if(this.autoBatchTracing&&t.trace_id!==void 0&&t.dotted_order!==void 0){const s=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:t,otelContext:s,apiKey:o?.apiKey,apiUrl:o?.apiUrl}).catch(console.error);return}const r=yz(t,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);o?.apiKey!==void 0&&(i["x-api-key"]=o.apiKey),o?.workspaceId!==void 0&&(i["x-tenant-id"]=o.workspaceId);const a=gn(r,`Creating run with id: ${r.id}`);await this.caller.call(async()=>{const s=await this._fetch(`${o?.apiUrl??this.apiUrl}/runs`,{method:"POST",headers:i,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Qe(s,"create run",!0),s})}async batchIngestRuns({runCreates:n,runUpdates:o},i){if(n===void 0&&o===void 0)return;let u=await Promise.all(n?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[]),t=await Promise.all(o?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[]);if(u.length>0&&t.length>0){const s=u.reduce((f,m)=>(m.id&&(f[m.id]=m),f),{}),l=[];for(const f of t)f.id!==void 0&&s[f.id]?s[f.id]={...s[f.id],...f}:l.push(f);u=Object.values(s),t=l}const r={post:u,patch:t};if(!r.post.length&&!r.patch.length)return;const a={post:[],patch:[]};for(const s of["post","patch"]){const l=s,f=r[l].reverse();let m=f.pop();for(;m!==void 0;)a[l].push(m),m=f.pop()}if(a.post.length>0||a.patch.length>0){const s=a.post.map(l=>l.id).concat(a.patch.map(l=>l.id)).join(",");await this._postBatchIngestRuns(gn(a,`Ingesting runs with ids: ${s}`),i)}}async _postBatchIngestRuns(n,o){const i={...this.headers,"Content-Type":"application/json",Accept:"application/json"};o?.apiKey!==void 0&&(i["x-api-key"]=o.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:o?.sizeBytes},async()=>{const u=await this._fetch(`${o?.apiUrl??this.apiUrl}/runs/batch`,{method:"POST",headers:i,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await Qe(u,"batch create run",!0),u})}async multipartIngestRuns({runCreates:n,runUpdates:o},i){if(n===void 0&&o===void 0)return;const u={};let t=[];for(const m of n??[]){const b=await this.prepareRunCreateOrUpdateInputs(m);b.id!==void 0&&b.attachments!==void 0&&(u[b.id]=b.attachments),delete b.attachments,t.push(b)}let r=[];for(const m of o??[])r.push(await this.prepareRunCreateOrUpdateInputs(m));if(t.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(r.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(t.length>0&&r.length>0){const m=t.reduce((_,p)=>(p.id&&(_[p.id]=p),_),{}),b=[];for(const _ of r)_.id!==void 0&&m[_.id]?m[_.id]={...m[_.id],..._}:b.push(_);t=Object.values(m),r=b}if(t.length===0&&r.length===0)return;const l=[],f=[];for(const[m,b]of[["post",t],["patch",r]])for(const _ of b){const{inputs:p,outputs:y,events:v,extra:S,error:R,serialized:j,attachments:A,...x}=_,M={inputs:p,outputs:y,events:v,extra:S,error:R,serialized:j},D=gn(x,`Serializing for multipart ingestion of run with id: ${x.id}`);f.push({name:`${m}.${x.id}`,payload:new Blob([D],{type:`application/json; length=${D.length}`})});for(const[P,F]of Object.entries(M)){if(F===void 0)continue;const B=gn(F,`Serializing ${P} for multipart ingestion of run with id: ${x.id}`);f.push({name:`${m}.${x.id}.${P}`,payload:new Blob([B],{type:`application/json; length=${B.length}`})})}if(x.id!==void 0){const P=u[x.id];if(P){delete u[x.id];for(const[F,B]of Object.entries(P)){let q,w;if(Array.isArray(B)?[q,w]=B:(q=B.mimeType,w=B.data),F.includes(".")){console.warn(`Skipping attachment '${F}' for run ${x.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}f.push({name:`attachment.${x.id}.${F}`,payload:new Blob([w],{type:`${q}; length=${w.byteLength}`})})}}}l.push(`trace=${x.trace_id},id=${x.id}`)}await this._sendMultipartRequest(f,l.join("; "),i)}async _createNodeFetchBody(n,o){const i=[];for(const r of n)i.push(new Blob([`--${o}\r
`])),i.push(new Blob([`Content-Disposition: form-data; name="${r.name}"\r
`,`Content-Type: ${r.payload.type}\r
\r
`])),i.push(r.payload),i.push(new Blob([`\r
`]));return i.push(new Blob([`--${o}--\r
`])),await new Blob(i).arrayBuffer()}async _createMultipartStream(n,o){const i=new TextEncoder;return new ReadableStream({async start(t){const r=async a=>{typeof a=="string"?t.enqueue(i.encode(a)):t.enqueue(a)};for(const a of n){await r(`--${o}\r
`),await r(`Content-Disposition: form-data; name="${a.name}"\r
`),await r(`Content-Type: ${a.payload.type}\r
\r
`);const l=a.payload.stream().getReader();try{let f;for(;!(f=await l.read()).done;)t.enqueue(f.value)}finally{l.releaseLock()}await r(`\r
`)}await r(`--${o}--\r
`),t.close()}})}async _sendMultipartRequest(n,o,i){const u="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),t=qae(),r=()=>this._createNodeFetchBody(n,u),a=()=>this._createMultipartStream(n,u),s=async l=>this.batchIngestCaller.callWithOptions({sizeBytes:i?.sizeBytes},async()=>{const f=await l(),m={...this.headers,"Content-Type":`multipart/form-data; boundary=${u}`};i?.apiKey!==void 0&&(m["x-api-key"]=i.apiKey);let b=f;i?.useGzip&&typeof f=="object"&&"pipeThrough"in f&&(b=f.pipeThrough(new CompressionStream("gzip")),m["Content-Encoding"]="gzip");const _=await this._fetch(`${i?.apiUrl??this.apiUrl}/runs/multipart`,{method:"POST",headers:m,body:b,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(_,"Failed to send multipart request",!0),_});try{let l,f=!1;!t&&!this.multipartStreamingDisabled&&GG()!=="bun"?(f=!0,l=await s(a)):l=await s(r),(!this.multipartStreamingDisabled||f)&&l.status===422&&(i?.apiUrl??this.apiUrl)!==bz&&(console.warn(`Streaming multipart upload to ${i?.apiUrl??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${o}".`),this.multipartStreamingDisabled=!0,l=await s(r))}catch(l){if(mz(l))throw l;console.warn(`${l.message.trim()}

Context: ${o}`)}}async updateRun(n,o,i){at(n),o.inputs&&(o.inputs=await this.processInputs(o.inputs)),o.outputs&&(o.outputs=await this.processOutputs(o.outputs));const u={...o,id:n};if(!this._filterForSampling([u],!0).length)return;if(this.autoBatchTracing&&u.trace_id!==void 0&&u.dotted_order!==void 0){const a=this._cloneCurrentOTELContext();if(o.end_time!==void 0&&u.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:u,otelContext:a,apiKey:i?.apiKey,apiUrl:i?.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:u,otelContext:a,apiKey:i?.apiKey,apiUrl:i?.apiUrl}).catch(console.error);return}const t={...this.headers,"Content-Type":"application/json"};i?.apiKey!==void 0&&(t["x-api-key"]=i.apiKey),i?.workspaceId!==void 0&&(t["x-tenant-id"]=i.workspaceId);const r=gn(o,`Serializing payload to update run with id: ${n}`);await this.caller.call(async()=>{const a=await this._fetch(`${i?.apiUrl??this.apiUrl}/runs/${n}`,{method:"PATCH",headers:t,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(a,"update run",!0),a})}async readRun(n,{loadChildRuns:o}={loadChildRuns:!1}){at(n);let i=await this._get(`/runs/${n}`);return o&&(i=await this._loadChildRuns(i)),i}async getRunUrl({runId:n,run:o,projectOpts:i}){if(o!==void 0){let u;o.session_id?u=o.session_id:i?.projectName?u=(await this.readProject({projectName:i?.projectName})).id:i?.projectId?u=i?.projectId:u=(await this.readProject({projectName:Kr("PROJECT")||"default"})).id;const t=await this._getTenantId();return`${this.getHostUrl()}/o/${t}/projects/p/${u}/r/${o.id}?poll=true`}else if(n!==void 0){const u=await this.readRun(n);if(!u.app_path)throw new Error(`Run ${n} has no app_path`);return`${this.getHostUrl()}${u.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(n){const o=await noe(this.listRuns({isRoot:!1,projectId:n.session_id,traceId:n.trace_id})),i={},u={};o.sort((t,r)=>(t?.dotted_order??"").localeCompare(r?.dotted_order??""));for(const t of o){if(t.parent_run_id===null||t.parent_run_id===void 0)throw new Error(`Child run ${t.id} has no parent`);t.dotted_order?.startsWith(n.dotted_order??"")&&t.id!==n.id&&(t.parent_run_id in i||(i[t.parent_run_id]=[]),i[t.parent_run_id].push(t),u[t.id]=t)}n.child_runs=i[n.id]||[];for(const t in i)t!==n.id&&(u[t].child_runs=i[t]);return n}async*listRuns(n){const{projectId:o,projectName:i,parentRunId:u,traceId:t,referenceExampleId:r,startTime:a,executionOrder:s,isRoot:l,runType:f,error:m,id:b,query:_,filter:p,traceFilter:y,treeFilter:v,limit:S,select:R,order:j}=n;let A=[];if(o&&(A=Array.isArray(o)?o:[o]),i){const P=Array.isArray(i)?i:[i],F=await Promise.all(P.map(B=>this.readProject({projectName:B}).then(q=>q.id)));A.push(...F)}const x=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],M={session:A.length?A:null,run_type:f,reference_example:r,query:_,filter:p,trace_filter:y,tree_filter:v,execution_order:s,parent_run:u,start_time:a?a.toISOString():null,error:m,id:b,limit:S,trace:t,select:R||x,is_root:l,order:j};M.select.includes("child_run_ids")&&$G("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let D=0;for await(const P of this._getCursorPaginatedList("/runs/query",M))if(S){if(D>=S)break;if(P.length+D>S){yield*P.slice(0,S-D);break}D+=P.length,yield*P}else yield*P}async*listGroupRuns(n){const{projectId:o,projectName:i,groupBy:u,filter:t,startTime:r,endTime:a,limit:s,offset:l}=n,m={session_id:o||(await this.readProject({projectName:i})).id,group_by:u,filter:t,start_time:r?r.toISOString():null,end_time:a?a.toISOString():null,limit:Number(s)||100};let b=Number(l)||0;const _="/runs/group",p=`${this.apiUrl}${_}`;for(;;){const y={...m,offset:b},v=Object.fromEntries(Object.entries(y).filter(([M,D])=>D!==void 0)),S=JSON.stringify(v),j=await(await this.caller.call(async()=>{const M=await this._fetch(p,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:S});return await Qe(M,`Failed to fetch ${_}`),M})).json(),{groups:A,total:x}=j;if(A.length===0)break;for(const M of A)yield M;if(b+=A.length,b>=x)break}}async getRunStats({id:n,trace:o,parentRun:i,runType:u,projectNames:t,projectIds:r,referenceExampleIds:a,startTime:s,endTime:l,error:f,query:m,filter:b,traceFilter:_,treeFilter:p,isRoot:y,dataSourceType:v}){let S=r||[];t&&(S=[...r||[],...await Promise.all(t.map(D=>this.readProject({projectName:D}).then(P=>P.id)))]);const j=Object.fromEntries(Object.entries({id:n,trace:o,parent_run:i,run_type:u,session:S,reference_example:a,start_time:s,end_time:l,error:f,query:m,filter:b,trace_filter:_,tree_filter:p,is_root:y,data_source_type:v}).filter(([D,P])=>P!==void 0)),A=JSON.stringify(j);return await(await this.caller.call(async()=>{const D=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:A});return await Qe(D,"get run stats"),D})).json()}async shareRun(n,{shareId:o}={}){const i={run_id:n,share_token:o||Fc()};at(n);const u=JSON.stringify(i),r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/runs/${n}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Qe(a,"share run"),a})).json();if(r===null||!("share_token"in r))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${r.share_token}/r`}async unshareRun(n){at(n),await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/runs/${n}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(o,"unshare run",!0),o})}async readRunSharedLink(n){at(n);const i=await(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/runs/${n}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(u,"read run shared link"),u})).json();if(!(i===null||!("share_token"in i)))return`${this.getHostUrl()}/public/${i.share_token}/r`}async listSharedRuns(n,{runIds:o}={}){const i=new URLSearchParams({share_token:n});if(o!==void 0)for(const r of o)i.append("id",r);return at(n),await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/public/${n}/runs${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(r,"list shared runs"),r})).json()}async readDatasetSharedSchema(n,o){if(!n&&!o)throw new Error("Either datasetId or datasetName must be given");n||(n=(await this.readDataset({datasetName:o})).id),at(n);const u=await(await this.caller.call(async()=>{const t=await this._fetch(`${this.apiUrl}/datasets/${n}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(t,"read dataset shared schema"),t})).json();return u.url=`${this.getHostUrl()}/public/${u.share_token}/d`,u}async shareDataset(n,o){if(!n&&!o)throw new Error("Either datasetId or datasetName must be given");n||(n=(await this.readDataset({datasetName:o})).id);const i={dataset_id:n};at(n);const u=JSON.stringify(i),r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/datasets/${n}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Qe(a,"share dataset"),a})).json();return r.url=`${this.getHostUrl()}/public/${r.share_token}/d`,r}async unshareDataset(n){at(n),await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${n}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(o,"unshare dataset",!0),o})}async readSharedDataset(n){return at(n),await(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/public/${n}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(u,"read shared dataset"),u})).json()}async listSharedExamples(n,o){const i={};o?.exampleIds&&(i.id=o.exampleIds);const u=new URLSearchParams;Object.entries(i).forEach(([a,s])=>{Array.isArray(s)?s.forEach(l=>u.append(a,l)):u.append(a,s)});const t=await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/public/${n}/examples?${u.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(a,"list shared examples"),a}),r=await t.json();if(!t.ok)throw"detail"in r?new Error(`Failed to list shared examples.
Status: ${t.status}
Message: ${Array.isArray(r.detail)?r.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${t.status} ${t.statusText}`);return r.map(a=>({...a,_hostUrl:this.getHostUrl()}))}async createProject({projectName:n,description:o=null,metadata:i=null,upsert:u=!1,projectExtra:t=null,referenceDatasetId:r=null}){const a=u?"?upsert=true":"",s=`${this.apiUrl}/sessions${a}`,l=t||{};i&&(l.metadata=i);const f={name:n,extra:l,description:o};r!==null&&(f.reference_dataset_id=r);const m=JSON.stringify(f);return await(await this.caller.call(async()=>{const p=await this._fetch(s,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:m});return await Qe(p,"create project"),p})).json()}async updateProject(n,{name:o=null,description:i=null,metadata:u=null,projectExtra:t=null,endTime:r=null}){const a=`${this.apiUrl}/sessions/${n}`;let s=t;u&&(s={...s||{},metadata:u});const l=JSON.stringify({name:o,extra:s,description:i,end_time:r?new Date(r).toISOString():null});return await(await this.caller.call(async()=>{const b=await this._fetch(a,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Qe(b,"update project"),b})).json()}async hasProject({projectId:n,projectName:o}){let i="/sessions";const u=new URLSearchParams;if(n!==void 0&&o!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(n!==void 0)at(n),i+=`/${n}`;else if(o!==void 0)u.append("name",o);else throw new Error("Must provide projectName or projectId");const t=await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}${i}?${u}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(r,"has project"),r});try{const r=await t.json();return t.ok?Array.isArray(r)?r.length>0:!0:!1}catch{return!1}}async readProject({projectId:n,projectName:o,includeStats:i}){let u="/sessions";const t=new URLSearchParams;if(n!==void 0&&o!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(n!==void 0)at(n),u+=`/${n}`;else if(o!==void 0)t.append("name",o);else throw new Error("Must provide projectName or projectId");i!==void 0&&t.append("include_stats",i.toString());const r=await this._get(u,t);let a;if(Array.isArray(r)){if(r.length===0)throw new Error(`Project[id=${n}, name=${o}] not found`);a=r[0]}else a=r;return a}async getProjectUrl({projectId:n,projectName:o}){if(n===void 0&&o===void 0)throw new Error("Must provide either projectName or projectId");const i=await this.readProject({projectId:n,projectName:o}),u=await this._getTenantId();return`${this.getHostUrl()}/o/${u}/projects/p/${i.id}`}async getDatasetUrl({datasetId:n,datasetName:o}){if(n===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");const i=await this.readDataset({datasetId:n,datasetName:o}),u=await this._getTenantId();return`${this.getHostUrl()}/o/${u}/datasets/${i.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const n=new URLSearchParams({limit:"1"});for await(const o of this._getPaginated("/sessions",n))return this._tenantId=o[0].tenant_id,o[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:n,name:o,nameContains:i,referenceDatasetId:u,referenceDatasetName:t,includeStats:r,datasetVersion:a,referenceFree:s,metadata:l}={}){const f=new URLSearchParams;if(n!==void 0)for(const m of n)f.append("id",m);if(o!==void 0&&f.append("name",o),i!==void 0&&f.append("name_contains",i),u!==void 0)f.append("reference_dataset",u);else if(t!==void 0){const m=await this.readDataset({datasetName:t});f.append("reference_dataset",m.id)}r!==void 0&&f.append("include_stats",r.toString()),a!==void 0&&f.append("dataset_version",a),s!==void 0&&f.append("reference_free",s.toString()),l!==void 0&&f.append("metadata",JSON.stringify(l));for await(const m of this._getPaginated("/sessions",f))yield*m}async deleteProject({projectId:n,projectName:o}){let i;if(n===void 0&&o===void 0)throw new Error("Must provide projectName or projectId");if(n!==void 0&&o!==void 0)throw new Error("Must provide either projectName or projectId, not both");n===void 0?i=(await this.readProject({projectName:o})).id:i=n,at(i),await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/sessions/${i}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(u,`delete session ${i} (${o})`,!0),u})}async uploadCsv({csvFile:n,fileName:o,inputKeys:i,outputKeys:u,description:t,dataType:r,name:a}){const s=`${this.apiUrl}/datasets/upload`,l=new FormData;return l.append("file",n,o),i.forEach(b=>{l.append("input_keys",b)}),u.forEach(b=>{l.append("output_keys",b)}),t&&l.append("description",t),r&&l.append("data_type",r),a&&l.append("name",a),await(await this.caller.call(async()=>{const b=await this._fetch(s,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Qe(b,"upload CSV"),b})).json()}async createDataset(n,{description:o,dataType:i,inputsSchema:u,outputsSchema:t,metadata:r}={}){const a={name:n,description:o,extra:r?{metadata:r}:void 0};i&&(a.data_type=i),u&&(a.inputs_schema_definition=u),t&&(a.outputs_schema_definition=t);const s=JSON.stringify(a);return await(await this.caller.call(async()=>{const m=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Qe(m,"create dataset"),m})).json()}async readDataset({datasetId:n,datasetName:o}){let i="/datasets";const u=new URLSearchParams({limit:"1"});if(n&&o)throw new Error("Must provide either datasetName or datasetId, not both");if(n)at(n),i+=`/${n}`;else if(o)u.append("name",o);else throw new Error("Must provide datasetName or datasetId");const t=await this._get(i,u);let r;if(Array.isArray(t)){if(t.length===0)throw new Error(`Dataset[id=${n}, name=${o}] not found`);r=t[0]}else r=t;return r}async hasDataset({datasetId:n,datasetName:o}){try{return await this.readDataset({datasetId:n,datasetName:o}),!0}catch(i){if(i instanceof Error&&i.message.toLocaleLowerCase().includes("not found"))return!1;throw i}}async diffDatasetVersions({datasetId:n,datasetName:o,fromVersion:i,toVersion:u}){let t=n;if(t===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(t!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");t===void 0&&(t=(await this.readDataset({datasetName:o})).id);const r=new URLSearchParams({from_version:typeof i=="string"?i:i.toISOString(),to_version:typeof u=="string"?u:u.toISOString()});return await this._get(`/datasets/${t}/versions/diff`,r)}async readDatasetOpenaiFinetuning({datasetId:n,datasetName:o}){const i="/datasets";if(n===void 0)if(o!==void 0)n=(await this.readDataset({datasetName:o})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${i}/${n}/openai_ft`)).text()).trim().split(`
`).map(a=>JSON.parse(a))}async*listDatasets({limit:n=100,offset:o=0,datasetIds:i,datasetName:u,datasetNameContains:t,metadata:r}={}){const a="/datasets",s=new URLSearchParams({limit:n.toString(),offset:o.toString()});if(i!==void 0)for(const l of i)s.append("id",l);u!==void 0&&s.append("name",u),t!==void 0&&s.append("name_contains",t),r!==void 0&&s.append("metadata",JSON.stringify(r));for await(const l of this._getPaginated(a,s))yield*l}async updateDataset(n){const{datasetId:o,datasetName:i,...u}=n;if(!o&&!i)throw new Error("Must provide either datasetName or datasetId");const t=o??(await this.readDataset({datasetName:i})).id;at(t);const r=JSON.stringify(u);return await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,"update dataset"),s})).json()}async updateDatasetTag(n){const{datasetId:o,datasetName:i,asOf:u,tag:t}=n;if(!o&&!i)throw new Error("Must provide either datasetName or datasetId");const r=o??(await this.readDataset({datasetName:i})).id;at(r);const a=JSON.stringify({as_of:typeof u=="string"?u:u.toISOString(),tag:t});await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${r}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Qe(s,"update dataset tags",!0),s})}async deleteDataset({datasetId:n,datasetName:o}){let i="/datasets",u=n;if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(o!==void 0&&(u=(await this.readDataset({datasetName:o})).id),u!==void 0)at(u),i+=`/${u}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const t=await this._fetch(this.apiUrl+i,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(t,`delete ${i}`,!0),t})}async indexDataset({datasetId:n,datasetName:o,tag:i}){let u=n;if(!u&&!o)throw new Error("Must provide either datasetName or datasetId");if(u&&o)throw new Error("Must provide either datasetName or datasetId, not both");u||(u=(await this.readDataset({datasetName:o})).id),at(u);const r=JSON.stringify({tag:i});await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${u}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,"index dataset"),s})).json()}async similarExamples(n,o,i,{filter:u}={}){const t={limit:i,inputs:n};u!==void 0&&(t.filter=u),at(o);const r=JSON.stringify(t);return(await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${o}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:r});return await Qe(l,"fetch similar examples"),l})).json()).examples}async createExample(n,o,i){if(wz(n)&&(o!==void 0||i!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let u=o?i?.datasetId:n.dataset_id;const t=o?i?.datasetName:n.dataset_name;if(u===void 0&&t===void 0)throw new Error("Must provide either datasetName or datasetId");if(u!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");u===void 0&&(u=(await this.readDataset({datasetName:t})).id);const r=(o?i?.createdAt:n.created_at)||new Date;let a;wz(n)?a=n:a={inputs:n,outputs:o,created_at:r?.toISOString(),id:i?.exampleId,metadata:i?.metadata,split:i?.split,source_run_id:i?.sourceRunId,use_source_run_io:i?.useSourceRunIO,use_source_run_attachments:i?.useSourceRunAttachments,attachments:i?.attachments};const s=await this._uploadExamplesMultipart(u,[a]);return await this.readExample(s.example_ids?.[0]??Fc())}async createExamples(n){if(Array.isArray(n)){if(n.length===0)return[];const R=n;let j=R[0].dataset_id;const A=R[0].dataset_name;if(j===void 0&&A===void 0)throw new Error("Must provide either datasetName or datasetId");if(j!==void 0&&A!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");j===void 0&&(j=(await this.readDataset({datasetName:A})).id);const x=await this._uploadExamplesMultipart(j,R);return await Promise.all(x.example_ids.map(D=>this.readExample(D)))}const{inputs:o,outputs:i,metadata:u,splits:t,sourceRunIds:r,useSourceRunIOs:a,useSourceRunAttachments:s,attachments:l,exampleIds:f,datasetId:m,datasetName:b}=n;if(o===void 0)throw new Error("Must provide inputs when using legacy parameters");let _=m;const p=b;if(_===void 0&&p===void 0)throw new Error("Must provide either datasetName or datasetId");if(_!==void 0&&p!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");_===void 0&&(_=(await this.readDataset({datasetName:p})).id);const y=o.map((R,j)=>({dataset_id:_,inputs:R,outputs:i?.[j],metadata:u?.[j],split:t?.[j],id:f?.[j],attachments:l?.[j],source_run_id:r?.[j],use_source_run_io:a?.[j],use_source_run_attachments:s?.[j]})),v=await this._uploadExamplesMultipart(_,y);return await Promise.all(v.example_ids.map(R=>this.readExample(R)))}async createLLMExample(n,o,i){return this.createExample({input:n},{output:o},i)}async createChatExample(n,o,i){const u=n.map(r=>SI(r)?EI(r):r),t=SI(o)?EI(o):o;return this.createExample({input:u},{output:t},i)}async readExample(n){at(n);const o=`/examples/${n}`,i=await this._get(o),{attachment_urls:u,...t}=i,r=t;return u&&(r.attachments=Object.entries(u).reduce((a,[s,l])=>(a[s.slice(11)]={presigned_url:l.presigned_url,mime_type:l.mime_type},a),{})),r}async*listExamples({datasetId:n,datasetName:o,exampleIds:i,asOf:u,splits:t,inlineS3Urls:r,metadata:a,limit:s,offset:l,filter:f,includeAttachments:m}={}){let b;if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0)b=n;else if(o!==void 0)b=(await this.readDataset({datasetName:o})).id;else throw new Error("Must provide a datasetName or datasetId");const _=new URLSearchParams({dataset:b}),p=u?typeof u=="string"?u:u?.toISOString():void 0;p&&_.append("as_of",p);const y=r??!0;if(_.append("inline_s3_urls",y.toString()),i!==void 0)for(const S of i)_.append("id",S);if(t!==void 0)for(const S of t)_.append("splits",S);if(a!==void 0){const S=JSON.stringify(a);_.append("metadata",S)}s!==void 0&&_.append("limit",s.toString()),l!==void 0&&_.append("offset",l.toString()),f!==void 0&&_.append("filter",f),m===!0&&["attachment_urls","outputs","metadata"].forEach(S=>_.append("select",S));let v=0;for await(const S of this._getPaginated("/examples",_)){for(const R of S){const{attachment_urls:j,...A}=R,x=A;j&&(x.attachments=Object.entries(j).reduce((M,[D,P])=>(M[D.slice(11)]={presigned_url:P.presigned_url,mime_type:P.mime_type||void 0},M),{})),yield x,v++}if(s!==void 0&&v>=s)break}}async deleteExample(n){at(n);const o=`/examples/${n}`;await this.caller.call(async()=>{const i=await this._fetch(this.apiUrl+o,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,`delete ${o}`,!0),i})}async deleteExamples(n,o){if(n.forEach(i=>at(i)),o?.hardDelete){const i=this._getPlatformEndpointPath("datasets/examples/delete");await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({example_ids:n,hard_delete:!0}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(u,"hard delete examples",!0),u})}else{const i=new URLSearchParams;n.forEach(u=>i.append("example_ids",u)),await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/examples?${i.toString()}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(u,"delete examples",!0),u})}}async updateExample(n,o){let i;o?i=n:i=n.id,at(i);let u;o?u={id:i,...o}:u=n;let t;return u.dataset_id!==void 0?t=u.dataset_id:t=(await this.readExample(i)).dataset_id,this._updateExamplesMultipart(t,[u])}async updateExamples(n){let o;return n[0].dataset_id===void 0?o=(await this.readExample(n[0].id)).dataset_id:o=n[0].dataset_id,this._updateExamplesMultipart(o,n)}async readDatasetVersion({datasetId:n,datasetName:o,asOf:i,tag:u}){let t;if(n?t=n:t=(await this.readDataset({datasetName:o})).id,at(t),i&&u||!i&&!u)throw new Error("Exactly one of asOf and tag must be specified.");const r=new URLSearchParams;return i!==void 0&&r.append("as_of",typeof i=="string"?i:i.toISOString()),u!==void 0&&r.append("tag",u),await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${t}/version?${r.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(s,"read dataset version"),s})).json()}async listDatasetSplits({datasetId:n,datasetName:o,asOf:i}){let u;if(n===void 0&&o===void 0)throw new Error("Must provide dataset name or ID");if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");n===void 0?u=(await this.readDataset({datasetName:o})).id:u=n,at(u);const t=new URLSearchParams,r=i?typeof i=="string"?i:i?.toISOString():void 0;return r&&t.append("as_of",r),await this._get(`/datasets/${u}/splits`,t)}async updateDatasetSplits({datasetId:n,datasetName:o,splitName:i,exampleIds:u,remove:t=!1}){let r;if(n===void 0&&o===void 0)throw new Error("Must provide dataset name or ID");if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");n===void 0?r=(await this.readDataset({datasetName:o})).id:r=n,at(r);const a={split_name:i,examples:u.map(l=>(at(l),l)),remove:t},s=JSON.stringify(a);await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${r}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Qe(l,"update dataset splits",!0),l})}async createFeedback(n,o,{score:i,value:u,correction:t,comment:r,sourceInfo:a,feedbackSourceType:s="api",sourceRunId:l,feedbackId:f,feedbackConfig:m,projectId:b,comparativeExperimentId:_}){if(!n&&!b)throw new Error("One of runId or projectId must be provided");if(n&&b)throw new Error("Only one of runId or projectId can be provided");const p={type:s??"api",metadata:a??{}};l!==void 0&&p?.metadata!==void 0&&!p.metadata.__run&&(p.metadata.__run={run_id:l}),p?.metadata!==void 0&&p.metadata.__run?.run_id!==void 0&&at(p.metadata.__run.run_id);const y={id:f??Fc(),run_id:n,key:o,score:vz(i),value:u,correction:t,comment:r,feedback_source:p,comparative_experiment_id:_,feedbackConfig:m,session_id:b},v=JSON.stringify(y),S=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const R=await this._fetch(S,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:v});return await Qe(R,"create feedback",!0),R}),y}async updateFeedback(n,{score:o,value:i,correction:u,comment:t}){const r={};o!=null&&(r.score=vz(o)),i!=null&&(r.value=i),u!=null&&(r.correction=u),t!=null&&(r.comment=t),at(n);const a=JSON.stringify(r);await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/feedback/${n}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Qe(s,"update feedback",!0),s})}async readFeedback(n){at(n);const o=`/feedback/${n}`;return await this._get(o)}async deleteFeedback(n){at(n);const o=`/feedback/${n}`;await this.caller.call(async()=>{const i=await this._fetch(this.apiUrl+o,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,`delete ${o}`,!0),i})}async*listFeedback({runIds:n,feedbackKeys:o,feedbackSourceTypes:i}={}){const u=new URLSearchParams;if(n)for(const t of n)at(t),u.append("run",t);if(o)for(const t of o)u.append("key",t);if(i)for(const t of i)u.append("source",t);for await(const t of this._getPaginated("/feedback",u))yield*t}async createPresignedFeedbackToken(n,o,{expiration:i,feedbackConfig:u}={}){const t={run_id:n,feedback_key:o,feedback_config:u};i?typeof i=="string"?t.expires_at=i:(i?.hours||i?.minutes||i?.days)&&(t.expires_in=i):t.expires_in={hours:3};const r=JSON.stringify(t);return await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,"create presigned feedback token"),s})).json()}async createComparativeExperiment({name:n,experimentIds:o,referenceDatasetId:i,createdAt:u,description:t,metadata:r,id:a}){if(o.length===0)throw new Error("At least one experiment is required");if(i||(i=(await this.readProject({projectId:o[0]})).reference_dataset_id),!i==null)throw new Error("A reference dataset is required");const s={id:a,name:n,experiment_ids:o,reference_dataset_id:i,description:t,created_at:(u??new Date)?.toISOString(),extra:{}};r&&(s.extra.metadata=r);const l=JSON.stringify(s);return(await this.caller.call(async()=>{const m=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Qe(m,"create comparative experiment"),m})).json()}async*listPresignedFeedbackTokens(n){at(n);const o=new URLSearchParams({run_id:n});for await(const i of this._getPaginated("/feedback/tokens",o))yield*i}_selectEvalResults(n){let o;return"results"in n?o=n.results:Array.isArray(n)?o=n:o=[n],o}async _logEvaluationFeedback(n,o,i){const u=this._selectEvalResults(n),t=[];for(const r of u){let a=i||{};r.evaluatorInfo&&(a={...r.evaluatorInfo,...a});let s=null;r.targetRunId?s=r.targetRunId:o&&(s=o.id),t.push(await this.createFeedback(s,r.key,{score:r.score,value:r.value,comment:r.comment,correction:r.correction,sourceInfo:a,sourceRunId:r.sourceRunId,feedbackConfig:r.feedbackConfig,feedbackSourceType:"model"}))}return[u,t]}async logEvaluationFeedback(n,o,i){const[u]=await this._logEvaluationFeedback(n,o,i);return u}async*listAnnotationQueues(n={}){const{queueIds:o,name:i,nameContains:u,limit:t}=n,r=new URLSearchParams;o&&o.forEach((s,l)=>{at(s,`queueIds[${l}]`),r.append("ids",s)}),i&&r.append("name",i),u&&r.append("name_contains",u),r.append("limit",(t!==void 0?Math.min(t,100):100).toString());let a=0;for await(const s of this._getPaginated("/annotation-queues",r))if(yield*s,a++,t!==void 0&&a>=t)break}async createAnnotationQueue(n){const{name:o,description:i,queueId:u,rubricInstructions:t}=n,r={name:o,description:i,id:u||Fc(),rubric_instructions:t},a=JSON.stringify(Object.fromEntries(Object.entries(r).filter(([l,f])=>f!==void 0)));return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Qe(l,"create annotation queue"),l})).json()}async readAnnotationQueue(n){return(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,"read annotation queue"),i})).json()}async updateAnnotationQueue(n,o){const{name:i,description:u,rubricInstructions:t}=o,r=JSON.stringify({name:i,description:u,rubric_instructions:t});await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(a,"update annotation queue",!0),a})}async deleteAnnotationQueue(n){await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(o,"delete annotation queue",!0),o})}async addRunsToAnnotationQueue(n,o){const i=JSON.stringify(o.map((u,t)=>at(u,`runIds[${t}]`).toString()));await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Qe(u,"add runs to annotation queue",!0),u})}async getRunFromAnnotationQueue(n,o){const i=`/annotation-queues/${at(n,"queueId")}/run`;return(await this.caller.call(async()=>{const t=await this._fetch(`${this.apiUrl}${i}/${o}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(t,"get run from annotation queue"),t})).json()}async deleteRunFromAnnotationQueue(n,o){await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}/runs/${at(o,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,"delete run from annotation queue",!0),i})}async getSizeFromAnnotationQueue(n){return(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,"get size from annotation queue"),i})).json()}async _currentTenantIsOwner(n){const o=await this._getSettings();return n=="-"||o.tenant_handle===n}async _ownerConflictError(n,o){const i=await this._getSettings();return new Error(`Cannot ${n} for another tenant.

      Current tenant: ${i.tenant_handle}

      Requested tenant: ${o}`)}async _getLatestCommitHash(n){const i=await(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/commits/${n}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(u,"get latest commit hash"),u})).json();if(i.commits.length!==0)return i.commits[0].commit_hash}async _likeOrUnlikePrompt(n,o){const[i,u,t]=Ic(n),r=JSON.stringify({like:o});return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/likes/${i}/${u}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,`${o?"like":"unlike"} prompt`),s})).json()}async _getPromptUrl(n){const[o,i,u]=Ic(n);if(await this._currentTenantIsOwner(o)){const t=await this._getSettings();return u!=="latest"?`${this.getHostUrl()}/prompts/${i}/${u.substring(0,8)}?organizationId=${t.id}`:`${this.getHostUrl()}/prompts/${i}?organizationId=${t.id}`}else return u!=="latest"?`${this.getHostUrl()}/hub/${o}/${i}/${u.substring(0,8)}`:`${this.getHostUrl()}/hub/${o}/${i}`}async promptExists(n){return!!await this.getPrompt(n)}async likePrompt(n){return this._likeOrUnlikePrompt(n,!0)}async unlikePrompt(n){return this._likeOrUnlikePrompt(n,!1)}async*listCommits(n){for await(const o of this._getPaginated(`/commits/${n}/`,new URLSearchParams,i=>i.commits))yield*o}async*listPrompts(n){const o=new URLSearchParams;o.append("sort_field",n?.sortField??"updated_at"),o.append("sort_direction","desc"),o.append("is_archived",(!!n?.isArchived).toString()),n?.isPublic!==void 0&&o.append("is_public",n.isPublic.toString()),n?.query&&o.append("query",n.query);for await(const i of this._getPaginated("/repos",o,u=>u.repos))yield*i}async getPrompt(n){const[o,i,u]=Ic(n),r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/repos/${o}/${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return a?.status===404?null:(await Qe(a,"get prompt"),a)}))?.json();return r?.repo?r.repo:null}async createPrompt(n,o){const i=await this._getSettings();if(o?.isPublic&&!i.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[u,t,r]=Ic(n);if(!await this._currentTenantIsOwner(u))throw await this._ownerConflictError("create a prompt",u);const a={repo_handle:t,...o?.description&&{description:o.description},...o?.readme&&{readme:o.readme},...o?.tags&&{tags:o.tags},is_public:!!o?.isPublic},s=JSON.stringify(a),l=await this.caller.call(async()=>{const m=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Qe(m,"create prompt"),m}),{repo:f}=await l.json();return f}async createCommit(n,o,i){if(!await this.promptExists(n))throw new Error("Prompt does not exist, you must create it first.");const[u,t,r]=Ic(n),a=i?.parentCommitHash==="latest"||!i?.parentCommitHash?await this._getLatestCommitHash(`${u}/${t}`):i?.parentCommitHash,s={manifest:JSON.parse(JSON.stringify(o)),parent_commit:a},l=JSON.stringify(s),m=await(await this.caller.call(async()=>{const b=await this._fetch(`${this.apiUrl}/commits/${u}/${t}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Qe(b,"create commit"),b})).json();return this._getPromptUrl(`${u}/${t}${m.commit_hash?`:${m.commit_hash}`:""}`)}async updateExamplesMultipart(n,o=[]){return this._updateExamplesMultipart(n,o)}async _updateExamplesMultipart(n,o=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const i=new FormData;for(const r of o){const a=r.id,s={...r.metadata&&{metadata:r.metadata},...r.split&&{split:r.split}},l=gn(s,`Serializing body for example with id: ${a}`),f=new Blob([l],{type:"application/json"});if(i.append(a,f),r.inputs){const m=gn(r.inputs,`Serializing inputs for example with id: ${a}`),b=new Blob([m],{type:"application/json"});i.append(`${a}.inputs`,b)}if(r.outputs){const m=gn(r.outputs,`Serializing outputs whle updating example with id: ${a}`),b=new Blob([m],{type:"application/json"});i.append(`${a}.outputs`,b)}if(r.attachments)for(const[m,b]of Object.entries(r.attachments)){let _,p;Array.isArray(b)?[_,p]=b:(_=b.mimeType,p=b.data);const y=new Blob([p],{type:`${_}; length=${p.byteLength}`});i.append(`${a}.attachment.${m}`,y)}if(r.attachments_operations){const m=gn(r.attachments_operations,`Serializing attachments while updating example with id: ${a}`),b=new Blob([m],{type:"application/json"});i.append(`${a}.attachments_operations`,b)}}const u=n??o[0]?.dataset_id;return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${u}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Qe(r,"update examples"),r})).json()}async uploadExamplesMultipart(n,o=[]){return this._uploadExamplesMultipart(n,o)}async _uploadExamplesMultipart(n,o=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const i=new FormData;for(const t of o){const r=(t.id??Fc()).toString(),a={created_at:t.created_at,...t.metadata&&{metadata:t.metadata},...t.split&&{split:t.split},...t.source_run_id&&{source_run_id:t.source_run_id},...t.use_source_run_io&&{use_source_run_io:t.use_source_run_io},...t.use_source_run_attachments&&{use_source_run_attachments:t.use_source_run_attachments}},s=gn(a,`Serializing body for uploaded example with id: ${r}`),l=new Blob([s],{type:"application/json"});if(i.append(r,l),t.inputs){const f=gn(t.inputs,`Serializing inputs for uploaded example with id: ${r}`),m=new Blob([f],{type:"application/json"});i.append(`${r}.inputs`,m)}if(t.outputs){const f=gn(t.outputs,`Serializing outputs for uploaded example with id: ${r}`),m=new Blob([f],{type:"application/json"});i.append(`${r}.outputs`,m)}if(t.attachments)for(const[f,m]of Object.entries(t.attachments)){let b,_;Array.isArray(m)?[b,_]=m:(b=m.mimeType,_=m.data);const p=new Blob([_],{type:`${b}; length=${_.byteLength}`});i.append(`${r}.attachment.${f}`,p)}}return(await this.caller.call(async()=>{const t=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${n}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Qe(t,"upload examples"),t})).json()}async updatePrompt(n,o){if(!await this.promptExists(n))throw new Error("Prompt does not exist, you must create it first.");const[i,u]=Ic(n);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("update a prompt",i);const t={};if(o?.description!==void 0&&(t.description=o.description),o?.readme!==void 0&&(t.readme=o.readme),o?.tags!==void 0&&(t.tags=o.tags),o?.isPublic!==void 0&&(t.is_public=o.isPublic),o?.isArchived!==void 0&&(t.is_archived=o.isArchived),Object.keys(t).length===0)throw new Error("No valid update options provided");const r=JSON.stringify(t);return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/repos/${i}/${u}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,"update prompt"),s})).json()}async deletePrompt(n){if(!await this.promptExists(n))throw new Error("Prompt does not exist, you must create it first.");const[o,i,u]=Ic(n);if(!await this._currentTenantIsOwner(o))throw await this._ownerConflictError("delete a prompt",o);return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/repos/${o}/${i}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(r,"delete prompt"),r})).json()}async pullPromptCommit(n,o){const[i,u,t]=Ic(n),a=await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/commits/${i}/${u}/${t}${o?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(s,"pull prompt commit"),s})).json();return{owner:i,repo:u,commit_hash:a.commit_hash,manifest:a.manifest,examples:a.examples}}async _pullPrompt(n,o){const i=await this.pullPromptCommit(n,{includeModel:o?.includeModel});return JSON.stringify(i.manifest)}async pushPrompt(n,o){return await this.promptExists(n)?o&&Object.keys(o).some(u=>u!=="object")&&await this.updatePrompt(n,{description:o?.description,readme:o?.readme,tags:o?.tags,isPublic:o?.isPublic}):await this.createPrompt(n,{description:o?.description,readme:o?.readme,tags:o?.tags,isPublic:o?.isPublic}),o?.object?await this.createCommit(n,o?.object,{parentCommitHash:o?.parentCommitHash}):await this._getPromptUrl(n)}async clonePublicDataset(n,o={}){const{sourceApiUrl:i=this.apiUrl,datasetName:u}=o,[t,r]=this.parseTokenOrUrl(n,i),a=new tT({apiUrl:t,apiKey:"placeholder"}),s=await a.readSharedDataset(r),l=u||s.name;try{if(await this.hasDataset({datasetId:l})){console.log(`Dataset ${l} already exists in your tenant. Skipping.`);return}}catch{}const f=await a.listSharedExamples(r),m=await this.createDataset(l,{description:s.description,dataType:s.data_type||"kv",inputsSchema:s.inputs_schema_definition??void 0,outputsSchema:s.outputs_schema_definition??void 0});try{await this.createExamples({inputs:f.map(b=>b.inputs),outputs:f.flatMap(b=>b.outputs?[b.outputs]:[]),datasetId:m.id})}catch(b){throw console.error(`An error occurred while creating dataset ${l}. You should delete it manually.`),b}}parseTokenOrUrl(n,o,i=2,u="dataset"){try{return at(n),[o,n]}catch{}try{const r=new URL(n).pathname.split("/").filter(a=>a!=="");if(r.length>=i){const a=r[r.length-i];return[o,a]}else throw new Error(`Invalid public ${u} URL: ${n}`)}catch{throw new Error(`Invalid public ${u} URL or token: ${n}`)}}async awaitPendingTraceBatches(){if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await new Promise(n=>setTimeout(n,1)),await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:n})=>n),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await eie()?.DEFAULT_LANGSMITH_SPAN_PROCESSOR?.forceFlush()}};function wz(e){return"dataset_id"in e||"dataset_name"in e}const loe=e=>!!["TRACING_V2","TRACING"].find(o=>Kr(o)==="true"),Yc=Symbol.for("lc:context_variables"),BS=Symbol.for("langsmith:replica_trace_roots");function Oz(e,n){if(Yc in e)return e[Yc][n]}function coe(e,n,o){const i=Yc in e?e[Yc]:{};i[n]=o,e[Yc]=i}const Mm="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function Sz(e){const o=Object.keys(e).sort().map(i=>`${i}:${e[i]??""}`).join("|");return Tm(o,Mm)}function doe(e){return e.replace(/[-:.]/g,"")}function nH(e,n=1){const o=n.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${o}Z`}function aH(e,n,o=1){const i=nH(e,o);return{dottedOrder:doe(i)+n,microsecondPrecisionDatestring:i}}class _b{constructor(n,o,i,u){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=n,this.tags=o,this.project_name=i,this.replicas=u}static fromHeader(n){const o=n.split(",");let i={},u=[],t,r;for(const a of o){const[s,l]=a.split("="),f=decodeURIComponent(l);s==="langsmith-metadata"?i=JSON.parse(f):s==="langsmith-tags"?u=f.split(","):s==="langsmith-project"?t=f:s==="langsmith-replicas"&&(r=JSON.parse(f))}return new _b(i,u,t,r)}toHeader(){const n=[];return this.metadata&&Object.keys(this.metadata).length>0&&n.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&n.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&n.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),n.join(",")}}class Hr{constructor(n){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),foe(n)){Object.assign(this,{...n});return}const o=Hr.getDefaultConfig(),{metadata:i,...u}=n,t=u.client??Hr.getSharedClient(),r={...i,...u?.extra?.metadata};if(u.extra={...u.extra,metadata:r},"id"in u&&u.id==null&&delete u.id,Object.assign(this,{...o,...u,client:t}),this.execution_order??=1,this.child_execution_order??=1,this.dotted_order||(this._serialized_start_time=nH(this.start_time,this.execution_order)),this.id||(this.id=Uae(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=moe(this.replicas),!this.dotted_order){const{dottedOrder:a}=aH(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+a:this.dotted_order=a}}set metadata(n){this.extra={...this.extra,metadata:{...this.extra?.metadata,...n}}}get metadata(){return this.extra?.metadata}static getDefaultConfig(){const n=Date.now();return{run_type:"chain",project_name:UG(),child_runs:[],api_url:Sl("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:Sl("LANGCHAIN_API_KEY"),caller_options:{},start_time:n,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return Hr.sharedClient||(Hr.sharedClient=new rH),Hr.sharedClient}createChild(n){const o=this.child_execution_order+1,i=this.replicas?.map(f=>{const{reroot:m,...b}=f;return b}),u=n.replicas??i,t=new Hr({...n,parent_run:this,project_name:this.project_name,replicas:u,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:o,child_execution_order:o});Yc in this&&(t[Yc]=this[Yc]);const r=Symbol.for("lc:child_config"),a=n.extra?.[r]??this.extra[r];if(poe(a)){const f={...a},m=hoe(f.callbacks)?f.callbacks.copy?.():void 0;m&&(Object.assign(m,{_parentRunId:t.id}),m.handlers?.find(iH)?.updateFromRunTree?.(t),f.callbacks=m),t.extra[r]=f}const s=new Set;let l=this;for(;l!=null&&!s.has(l.id);)s.add(l.id),l.child_execution_order=Math.max(l.child_execution_order,o),l=l.parent_run;return this.child_runs.push(t),t}async end(n,o,i=Date.now(),u){this.outputs=this.outputs??n,this.error=this.error??o,this.end_time=this.end_time??i,u&&Object.keys(u).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...u}}:{metadata:u})}_convertToCreate(n,o,i=!0){const u=n.extra??{};if(u?.runtime?.library===void 0&&(u.runtime||(u.runtime={}),o))for(const[a,s]of Object.entries(o))u.runtime[a]||(u.runtime[a]=s);let t,r;return i?(r=n.parent_run?.id??n.parent_run_id,t=[]):(t=n.child_runs.map(a=>this._convertToCreate(a,o,i)),r=void 0),{id:n.id,name:n.name,start_time:n._serialized_start_time??n.start_time,end_time:n.end_time,run_type:n.run_type,reference_example_id:n.reference_example_id,extra:u,serialized:n.serialized,error:n.error,inputs:n.inputs,outputs:n.outputs,session_name:n.project_name,child_runs:t,parent_run_id:r,trace_id:n.trace_id,dotted_order:n.dotted_order,tags:n.tags,attachments:n.attachments,events:n.events}}_sliceParentId(n,o){if(o.dotted_order){const i=o.dotted_order.split(".");let u=null;for(let t=0;t<i.length;t++)if(i[t].slice(-36)===n){u=t;break}if(u!==null){const t=i.slice(u+1);o.dotted_order=t.join("."),t.length>0?o.trace_id=t[0].slice(-36):o.trace_id=o.id}}o.parent_run_id===n&&(o.parent_run_id=void 0)}_setReplicaTraceRoot(n,o){const i=Oz(this,BS)??{};i[n]=o,coe(this,BS,i);for(const u of this.child_runs)u._setReplicaTraceRoot(n,o)}_remapForProject(n){const{projectName:o,runtimeEnv:i,excludeChildRuns:u=!0,reroot:t=!1,distributedParentId:r,apiUrl:a,apiKey:s,workspaceId:l}=n,f=this._convertToCreate(this,i,u);if(o===this.project_name)return{...f,session_name:o};if(t){if(r)this._sliceParentId(r,f);else if(f.parent_run_id=void 0,f.dotted_order){const R=f.dotted_order.split(".");R.length>0&&(f.dotted_order=R[R.length-1],f.trace_id=f.id)}const S=Sz({projectName:o,apiUrl:a,apiKey:s,workspaceId:l});this._setReplicaTraceRoot(S,f.id)}let m;if(!t){const S=Oz(this,BS)??{},R=Sz({projectName:o,apiUrl:a,apiKey:s,workspaceId:l});if(m=S[R],m&&(f.trace_id=m,f.dotted_order)){const j=f.dotted_order.split(".");let A=null;for(let x=0;x<j.length;x++)if(j[x].slice(-36)===m){A=x;break}if(A!==null){const x=j.slice(A);f.dotted_order=x.join(".")}}}const b=f.id,_=Tm(`${b}:${o}`,Mm);let p;f.trace_id?p=Tm(`${f.trace_id}:${o}`,Mm):p=_;let y;f.parent_run_id&&(y=Tm(`${f.parent_run_id}:${o}`,Mm));let v;return f.dotted_order&&(v=f.dotted_order.split(".").map(j=>{const A=j.slice(-36),x=Tm(`${A}:${o}`,Mm);return j.slice(0,-36)+x}).join(".")),{...f,id:_,trace_id:p,parent_run_id:y,dotted_order:v,session_name:o}}async postRun(n=!0){try{const o=HG();if(this.replicas&&this.replicas.length>0)for(const{projectName:i,apiKey:u,apiUrl:t,workspaceId:r,reroot:a}of this.replicas){const s=this._remapForProject({projectName:i??this.project_name,runtimeEnv:o,excludeChildRuns:!0,reroot:a,distributedParentId:this.distributedParentId,apiUrl:t,apiKey:u,workspaceId:r});await this.client.createRun(s,{apiKey:u,apiUrl:t,workspaceId:r})}else{const i=this._convertToCreate(this,o,n);await this.client.createRun(i)}if(!n){$G("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const i of this.child_runs)await i.postRun(!1)}this.child_runs=[]}catch(o){console.error(`Error in postRun for run ${this.id}:`,o)}}async patchRun(n){if(this.replicas&&this.replicas.length>0)for(const{projectName:o,apiKey:i,apiUrl:u,workspaceId:t,updates:r,reroot:a}of this.replicas){const s=this._remapForProject({projectName:o??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:a,distributedParentId:this.distributedParentId,apiUrl:u,apiKey:i,workspaceId:t}),l={id:s.id,name:s.name,run_type:s.run_type,start_time:s.start_time,outputs:s.outputs,error:s.error,parent_run_id:s.parent_run_id,session_name:s.session_name,reference_example_id:s.reference_example_id,end_time:s.end_time,dotted_order:s.dotted_order,trace_id:s.trace_id,events:s.events,tags:s.tags,extra:s.extra,attachments:this.attachments,...r};n?.excludeInputs||(l.inputs=s.inputs),await this.client.updateRun(s.id,l,{apiKey:i,apiUrl:u,workspaceId:t})}else try{const o={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:this.parent_run?.id??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};n?.excludeInputs||(o.inputs=this.inputs),await this.client.updateRun(this.id,o)}catch(o){console.error(`Error in patchRun for run ${this.id}`,o)}this.child_runs=[]}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(n){this.events||(this.events=[]),typeof n=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:n}):this.events.push({...n,time:n.time??new Date().toISOString()})}static fromRunnableConfig(n,o){const i=n?.callbacks;let u,t,r,a=loe();if(i){const l=i?.getParentRunId?.()??"",f=i?.handlers?.find(m=>m?.name=="langchain_tracer");u=f?.getRun?.(l),t=f?.projectName,r=f?.client,a=a||!!f}return u?new Hr({name:u.name,id:u.id,trace_id:u.trace_id,dotted_order:u.dotted_order,client:r,tracingEnabled:a,project_name:t,tags:[...new Set((u?.tags??[]).concat(n?.tags??[]))],extra:{metadata:{...u?.extra?.metadata,...n?.metadata}}}).createChild(o):new Hr({...o,client:r,tracingEnabled:a,project_name:t})}static fromDottedOrder(n){return this.fromHeaders({"langsmith-trace":n})}static fromHeaders(n,o){const i="get"in n&&typeof n.get=="function"?{"langsmith-trace":n.get("langsmith-trace"),baggage:n.get("baggage")}:n,u=i["langsmith-trace"];if(!u||typeof u!="string")return;const t=u.trim(),r=t.split(".").map(f=>{const[m,b]=f.split("Z");return{strTime:m,time:Date.parse(m+"Z"),uuid:b}}),a=r[0].uuid,s={...o,name:o?.name??"parent",run_type:o?.run_type??"chain",start_time:o?.start_time??Date.now(),id:r.at(-1)?.uuid,trace_id:a,dotted_order:t};if(i.baggage&&typeof i.baggage=="string"){const f=_b.fromHeader(i.baggage);s.metadata=f.metadata,s.tags=f.tags,s.project_name=f.project_name,s.replicas=f.replicas}const l=new Hr(s);return l.distributedParentId=l.id,l}toHeaders(n){const o={"langsmith-trace":this.dotted_order,baggage:new _b(this.extra?.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(n)for(const[i,u]of Object.entries(o))n.set(i,u);return o}}Object.defineProperty(Hr,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function foe(e){return e!=null&&typeof e.createChild=="function"&&typeof e.postRun=="function"}function iH(e){return typeof e=="object"&&e!=null&&typeof e.name=="string"&&e.name==="langchain_tracer"}function Ez(e){return Array.isArray(e)&&e.some(n=>iH(n))}function hoe(e){return typeof e=="object"&&e!=null&&Array.isArray(e.handlers)}function poe(e){const n=e?.callbacks;return e!=null&&typeof n=="object"&&(Ez(n?.handlers)||Ez(n))}function goe(){const e=Sl("LANGSMITH_RUNS_ENDPOINTS");if(!e)return[];try{const n=JSON.parse(e);if(Array.isArray(n)){const o=[];for(const i of n){if(typeof i!="object"||i===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof i}`);continue}if(typeof i.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof i.api_url}`);continue}if(typeof i.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof i.api_key}`);continue}o.push({apiUrl:i.api_url.replace(/\/$/,""),apiKey:i.api_key})}return o}else if(typeof n=="object"&&n!==null){_oe(n);const o=[];for(const[i,u]of Object.entries(n)){const t=i.replace(/\/$/,"");if(typeof u=="string")o.push({apiUrl:t,apiKey:u});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${i}: expected string, got ${typeof u}`);continue}}return o}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof n}`),[]}catch(n){if(Wie(n))throw n;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function moe(e){return e?e.map(n=>Array.isArray(n)?{projectName:n[0],updates:n[1]}:n):goe()}function _oe(e){if(Object.keys(e).length>0&&Kr("ENDPOINT"))throw new Yie}var yoe={};ct(yoe,{BaseTracer:()=>fp,isBaseTracer:()=>Gh});const voe=e=>{if(e)return e.events=e.events??[],e.child_runs=e.child_runs??[],e};function rT(e,n){if(e)return new Hr({...e,start_time:e._serialized_start_time??e.start_time,parent_run:rT(n),child_runs:e.child_runs.map(o=>rT(o)).filter(o=>o!==void 0),extra:{...e.extra,runtime:zG()},tracingEnabled:!1})}function LS(e,n){return e&&!Array.isArray(e)&&typeof e=="object"?e:{[n]:e}}function Gh(e){return typeof e._addRunToRunMap=="function"}var fp=class extends d_{runMap=new Map;runTreeMap=new Map;usesRunTreeMap=!1;constructor(e){super(...arguments)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?voe(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const{dottedOrder:n,microsecondPrecisionDatestring:o}=aH(new Date(e.start_time).getTime(),e.id,e.execution_order),i={...e},u=this.getRunById(i.parent_run_id);if(i.parent_run_id!==void 0?u?(this._addChildRun(u,i),u.child_execution_order=Math.max(u.child_execution_order,i.child_execution_order),i.trace_id=u.trace_id,u.dotted_order!==void 0&&(i.dotted_order=[u.dotted_order,n].join("."),i._serialized_start_time=o)):i.parent_run_id=void 0:(i.trace_id=i.id,i.dotted_order=n,i._serialized_start_time=o),this.usesRunTreeMap){const t=rT(i,u);t!==void 0&&this.runTreeMap.set(i.id,t)}else this.runMap.set(i.id,i);return i}async _endTrace(e){const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await this.onRunUpdate?.(e),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,o,i,u,t,r,a){const s=this._getExecutionOrder(i),l=Date.now(),f=r?{...u,metadata:r}:u,m={id:o,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{prompts:n},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:f??{},tags:t||[]};return this._addRunToRunMap(m)}async handleLLMStart(e,n,o,i,u,t,r,a){const s=this.getRunById(o)??this._createRunForLLMStart(e,n,o,i,u,t,r,a);return await this.onRunCreate?.(s),await this.onLLMStart?.(s),s}_createRunForChatModelStart(e,n,o,i,u,t,r,a){const s=this._getExecutionOrder(i),l=Date.now(),f=r?{...u,metadata:r}:u,m={id:o,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{messages:n},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:f??{},tags:t||[]};return this._addRunToRunMap(m)}async handleChatModelStart(e,n,o,i,u,t,r,a){const s=this.getRunById(o)??this._createRunForChatModelStart(e,n,o,i,u,t,r,a);return await this.onRunCreate?.(s),await this.onLLMStart?.(s),s}async handleLLMEnd(e,n,o,i,u){const t=this.getRunById(n);if(!t||t?.run_type!=="llm")throw new Error("No LLM run to end.");return t.end_time=Date.now(),t.outputs=e,t.events.push({name:"end",time:new Date(t.end_time).toISOString()}),t.extra={...t.extra,...u},await this.onLLMEnd?.(t),await this._endTrace(t),t}async handleLLMError(e,n,o,i,u){const t=this.getRunById(n);if(!t||t?.run_type!=="llm")throw new Error("No LLM run to end.");return t.end_time=Date.now(),t.error=this.stringifyError(e),t.events.push({name:"error",time:new Date(t.end_time).toISOString()}),t.extra={...t.extra,...u},await this.onLLMError?.(t),await this._endTrace(t),t}_createRunForChainStart(e,n,o,i,u,t,r,a,s){const l=this._getExecutionOrder(i),f=Date.now(),m={id:o,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:f,serialized:e,events:[{name:"start",time:new Date(f).toISOString()}],inputs:n,execution_order:l,child_execution_order:l,run_type:r??"chain",child_runs:[],extra:t?{...s,metadata:t}:{...s},tags:u||[]};return this._addRunToRunMap(m)}async handleChainStart(e,n,o,i,u,t,r,a){const s=this.getRunById(o)??this._createRunForChainStart(e,n,o,i,u,t,r,a);return await this.onRunCreate?.(s),await this.onChainStart?.(s),s}async handleChainEnd(e,n,o,i,u){const t=this.getRunById(n);if(!t)throw new Error("No chain run to end.");return t.end_time=Date.now(),t.outputs=LS(e,"output"),t.events.push({name:"end",time:new Date(t.end_time).toISOString()}),u?.inputs!==void 0&&(t.inputs=LS(u.inputs,"input")),await this.onChainEnd?.(t),await this._endTrace(t),t}async handleChainError(e,n,o,i,u){const t=this.getRunById(n);if(!t)throw new Error("No chain run to end.");return t.end_time=Date.now(),t.error=this.stringifyError(e),t.events.push({name:"error",time:new Date(t.end_time).toISOString()}),u?.inputs!==void 0&&(t.inputs=LS(u.inputs,"input")),await this.onChainError?.(t),await this._endTrace(t),t}_createRunForToolStart(e,n,o,i,u,t,r){const a=this._getExecutionOrder(i),s=Date.now(),l={id:o,name:r??e.id[e.id.length-1],parent_run_id:i,start_time:s,serialized:e,events:[{name:"start",time:new Date(s).toISOString()}],inputs:{input:n},execution_order:a,child_execution_order:a,run_type:"tool",child_runs:[],extra:t?{metadata:t}:{},tags:u||[]};return this._addRunToRunMap(l)}async handleToolStart(e,n,o,i,u,t,r){const a=this.getRunById(o)??this._createRunForToolStart(e,n,o,i,u,t,r);return await this.onRunCreate?.(a),await this.onToolStart?.(a),a}async handleToolEnd(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="tool")throw new Error("No tool run to end");return o.end_time=Date.now(),o.outputs={output:e},o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),await this.onToolEnd?.(o),await this._endTrace(o),o}async handleToolError(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="tool")throw new Error("No tool run to end");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),await this.onToolError?.(o),await this._endTrace(o),o}async handleAgentAction(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="chain")return;const i=o;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentAction?.(o)}async handleAgentEnd(e,n){const o=this.getRunById(n);!o||o?.run_type!=="chain"||(o.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentEnd?.(o))}_createRunForRetrieverStart(e,n,o,i,u,t,r){const a=this._getExecutionOrder(i),s=Date.now(),l={id:o,name:r??e.id[e.id.length-1],parent_run_id:i,start_time:s,serialized:e,events:[{name:"start",time:new Date(s).toISOString()}],inputs:{query:n},execution_order:a,child_execution_order:a,run_type:"retriever",child_runs:[],extra:t?{metadata:t}:{},tags:u||[]};return this._addRunToRunMap(l)}async handleRetrieverStart(e,n,o,i,u,t,r){const a=this.getRunById(o)??this._createRunForRetrieverStart(e,n,o,i,u,t,r);return await this.onRunCreate?.(a),await this.onRetrieverStart?.(a),a}async handleRetrieverEnd(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="retriever")throw new Error("No retriever run to end");return o.end_time=Date.now(),o.outputs={documents:e},o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),await this.onRetrieverEnd?.(o),await this._endTrace(o),o}async handleRetrieverError(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="retriever")throw new Error("No retriever run to end");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),await this.onRetrieverError?.(o),await this._endTrace(o),o}async handleText(e,n){const o=this.getRunById(n);!o||o?.run_type!=="chain"||(o.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await this.onText?.(o))}async handleLLMNewToken(e,n,o,i,u,t){const r=this.getRunById(o);if(!r||r?.run_type!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return r.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:t?.chunk}}),await this.onLLMNewToken?.(r,e,{chunk:t?.chunk}),r}},kv={exports:{}};kv.exports;var Rz;function boe(){return Rz||(Rz=1,(function(e){const o=(t=0)=>r=>`\x1B[${38+t};5;${r}m`,i=(t=0)=>(r,a,s)=>`\x1B[${38+t};2;${r};${a};${s}m`;function u(){const t=new Map,r={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};r.color.gray=r.color.blackBright,r.bgColor.bgGray=r.bgColor.bgBlackBright,r.color.grey=r.color.blackBright,r.bgColor.bgGrey=r.bgColor.bgBlackBright;for(const[a,s]of Object.entries(r)){for(const[l,f]of Object.entries(s))r[l]={open:`\x1B[${f[0]}m`,close:`\x1B[${f[1]}m`},s[l]=r[l],t.set(f[0],f[1]);Object.defineProperty(r,a,{value:s,enumerable:!1})}return Object.defineProperty(r,"codes",{value:t,enumerable:!1}),r.color.close="\x1B[39m",r.bgColor.close="\x1B[49m",r.color.ansi256=o(),r.color.ansi16m=i(),r.bgColor.ansi256=o(10),r.bgColor.ansi16m=i(10),Object.defineProperties(r,{rgbToAnsi256:{value:(a,s,l)=>a===s&&s===l?a<8?16:a>248?231:Math.round((a-8)/247*24)+232:16+36*Math.round(a/255*5)+6*Math.round(s/255*5)+Math.round(l/255*5),enumerable:!1},hexToRgb:{value:a=>{const s=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(a.toString(16));if(!s)return[0,0,0];let{colorString:l}=s.groups;l.length===3&&(l=l.split("").map(m=>m+m).join(""));const f=Number.parseInt(l,16);return[f>>16&255,f>>8&255,f&255]},enumerable:!1},hexToAnsi256:{value:a=>r.rgbToAnsi256(...r.hexToRgb(a)),enumerable:!1}}),r}Object.defineProperty(e,"exports",{enumerable:!0,get:u})})(kv)),kv.exports}var woe=boe();const oH=a_(woe);var Ooe={};ct(Ooe,{ConsoleCallbackHandler:()=>nT});function xr(e,n){return`${e.open}${n}${e.close}`}function In(e,n){try{return JSON.stringify(e,null,2)}catch{return n}}function jz(e){return typeof e=="string"?e.trim():e==null?e:In(e,e.toString())}function zc(e){if(!e.end_time)return"";const n=e.end_time-e.start_time;return n<1e3?`${n}ms`:`${(n/1e3).toFixed(2)}s`}const{color:Vr}=oH;var nT=class extends fp{name="console_callback_handler";persistRun(e){return Promise.resolve()}getParents(e){const n=[];let o=e;for(;o.parent_run_id;){const i=this.runMap.get(o.parent_run_id);if(i)n.push(i),o=i;else break}return n}getBreadcrumbs(e){const o=[...this.getParents(e).reverse(),e].map((i,u,t)=>{const r=`${i.execution_order}:${i.run_type}:${i.name}`;return u===t.length-1?xr(oH.bold,r):r}).join(" > ");return xr(Vr.grey,o)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.green,"[chain/start]")} [${n}] Entering Chain run with input: ${In(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.cyan,"[chain/end]")} [${n}] [${zc(e)}] Exiting Chain run with output: ${In(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.red,"[chain/error]")} [${n}] [${zc(e)}] Chain run errored with error: ${In(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),o="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${xr(Vr.green,"[llm/start]")} [${n}] Entering LLM run with input: ${In(o,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.cyan,"[llm/end]")} [${n}] [${zc(e)}] Exiting LLM run with output: ${In(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.red,"[llm/error]")} [${n}] [${zc(e)}] LLM run errored with error: ${In(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.green,"[tool/start]")} [${n}] Entering Tool run with input: "${jz(e.inputs.input)}"`)}onToolEnd(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.cyan,"[tool/end]")} [${n}] [${zc(e)}] Exiting Tool run with output: "${jz(e.outputs?.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.red,"[tool/error]")} [${n}] [${zc(e)}] Tool run errored with error: ${In(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${In(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.cyan,"[retriever/end]")} [${n}] [${zc(e)}] Exiting Retriever run with output: ${In(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${xr(Vr.red,"[retriever/error]")} [${n}] [${zc(e)}] Retriever run errored with error: ${In(e.error,"[error]")}`)}onAgentAction(e){const n=e,o=this.getBreadcrumbs(e);console.log(`${xr(Vr.blue,"[agent/action]")} [${o}] Agent selected action: ${In(n.actions[n.actions.length-1],"[action]")}`)}};let US;const sH=()=>{if(US===void 0){const e=wl("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};US=new rH(e)}return US};let Soe=class{getStore(){}run(n,o){return o()}};const $S=Symbol.for("ls:tracing_async_local_storage"),Eoe=new Soe;let Roe=class{getInstance(){return globalThis[$S]??Eoe}initializeGlobalInstance(n){globalThis[$S]===void 0&&(globalThis[$S]=n)}};const joe=new Roe;function Coe(e=!1){const n=joe.getInstance().getStore();if(!e&&n===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return n}function yM(e){return typeof e=="function"&&"langsmith:traceable"in e}var Toe={};ct(Toe,{LangChainTracer:()=>Yv});function Moe(e){let n;for(const o of e)for(const i of o)Sr.isInstance(i.message)&&i.message.usage_metadata!==void 0&&(n=oM(n,i.message.usage_metadata));return n}var Yv=class uH extends fp{name="langchain_tracer";projectName;exampleId;client;replicas;usesRunTreeMap=!0;constructor(n={}){super(n);const{exampleId:o,projectName:i,client:u,replicas:t}=n;this.projectName=i??UG(),this.replicas=t,this.exampleId=o,this.client=u??sH();const r=uH.getTraceableRunTree();r&&this.updateFromRunTree(r)}async persistRun(n){}async onRunCreate(n){n.extra?.lc_defers_inputs||await this.getRunTreeWithTracingConfig(n.id)?.postRun()}async onRunUpdate(n){const o=this.getRunTreeWithTracingConfig(n.id);n.extra?.lc_defers_inputs?await o?.postRun():await o?.patchRun()}onLLMEnd(n){const o=n.outputs;if(o?.generations){const i=Moe(o.generations);if(i!==void 0){n.extra=n.extra??{};const u=n.extra.metadata??{};u.usage_metadata=i,n.extra.metadata=u}}}getRun(n){return this.runTreeMap.get(n)}updateFromRunTree(n){this.runTreeMap.set(n.id,n);let o=n;const i=new Set;for(;o.parent_run&&!(i.has(o.id)||(i.add(o.id),!o.parent_run));)o=o.parent_run;i.clear();const u=[o];for(;u.length>0;){const t=u.shift();!t||i.has(t.id)||(i.add(t.id),this.runTreeMap.set(t.id,t),t.child_runs&&u.push(...t.child_runs))}this.client=n.client??this.client,this.replicas=n.replicas??this.replicas,this.projectName=n.project_name??this.projectName,this.exampleId=n.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(n){const o=this.runTreeMap.get(n);if(o)return new Hr({...o,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return Coe(!0)}catch{return}}};const lH=Symbol.for("ls:tracing_async_local_storage"),Bm=Symbol.for("lc:context_variables"),xoe=e=>{globalThis[lH]=e},km=()=>globalThis[lH];let If;function Poe(){const e="default"in Jl?Jl.default:Jl;return new e({autoStart:!0,concurrency:1})}function Aoe(){return typeof If>"u"&&(If=Poe()),If}async function ar(e,n){if(n===!0){const o=km();o!==void 0?await o.run(void 0,async()=>e()):await e()}else If=Aoe(),If.add(async()=>{const o=km();o!==void 0?await o.run(void 0,async()=>e()):await e()})}async function Noe(){const e=sH();await Promise.allSettled([typeof If<"u"?If.onIdle():Promise.resolve(),e.awaitPendingTraceBatches()])}var Doe={};ct(Doe,{awaitAllCallbacks:()=>Noe,consumeCallback:()=>ar});const Ioe=e=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(o=>wl(o)==="true");function cH(e){const n=km();return n===void 0?void 0:n.getStore()?.[Bm]?.[e]}const zoe=Symbol("lc:configure_hooks"),qoe=()=>cH(zoe)||[];var Boe={};ct(Boe,{BaseCallbackManager:()=>fH,BaseRunManager:()=>h_,CallbackManager:()=>Yr,CallbackManagerForChainRun:()=>pH,CallbackManagerForLLMRun:()=>aT,CallbackManagerForRetrieverRun:()=>hH,CallbackManagerForToolRun:()=>gH,ensureHandler:()=>Ym,parseCallbackConfigArg:()=>dH});function dH(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}var fH=class{setHandler(e){return this.setHandlers([e])}},h_=class{constructor(e,n,o,i,u,t,r,a){this.runId=e,this.handlers=n,this.inheritableHandlers=o,this.tags=i,this.inheritableTags=u,this.metadata=t,this.inheritableMetadata=r,this._parentRunId=a}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>ar(async()=>{try{await n.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}async handleCustomEvent(e,n,o,i,u){await Promise.all(this.handlers.map(t=>ar(async()=>{try{await t.handleCustomEvent?.(e,n,this.runId,this.tags,this.metadata)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleCustomEvent: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},hH=class extends h_{getChild(e){const n=new Yr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw o}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${o}`),n.raiseError)throw e}},n.awaitHandlers)))}},aT=class extends h_{async handleLLMNewToken(e,n,o,i,u,t){await Promise.all(this.handlers.map(r=>ar(async()=>{if(!r.ignoreLLM)try{await r.handleLLMNewToken?.(e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,t)}catch(a){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleLLMNewToken: ${a}`),r.raiseError)throw a}},r.awaitHandlers)))}async handleLLMError(e,n,o,i,u){await Promise.all(this.handlers.map(t=>ar(async()=>{if(!t.ignoreLLM)try{await t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags,u)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMError: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleLLMEnd(e,n,o,i,u){await Promise.all(this.handlers.map(t=>ar(async()=>{if(!t.ignoreLLM)try{await t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags,u)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},pH=class extends h_{getChild(e){const n=new Yr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,o,i,u){await Promise.all(this.handlers.map(t=>ar(async()=>{if(!t.ignoreChain)try{await t.handleChainError?.(e,this.runId,this._parentRunId,this.tags,u)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainError: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleChainEnd(e,n,o,i,u){await Promise.all(this.handlers.map(t=>ar(async()=>{if(!t.ignoreChain)try{await t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,u)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreAgent)try{await n.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreAgent)try{await n.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}},gH=class extends h_{getChild(e){const n=new Yr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreAgent)try{await n.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreAgent)try{await n.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}},Yr=class xm extends fH{handlers=[];inheritableHandlers=[];tags=[];inheritableTags=[];metadata={};inheritableMetadata={};name="callback_manager";_parentRunId;constructor(n,o){super(),this.handlers=o?.handlers??this.handlers,this.inheritableHandlers=o?.inheritableHandlers??this.inheritableHandlers,this.tags=o?.tags??this.tags,this.inheritableTags=o?.inheritableTags??this.inheritableTags,this.metadata=o?.metadata??this.metadata,this.inheritableMetadata=o?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=n}getParentRunId(){return this._parentRunId}async handleLLMStart(n,o,i=void 0,u=void 0,t=void 0,r=void 0,a=void 0,s=void 0){return Promise.all(o.map(async(l,f)=>{const m=f===0&&i?i:$c();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return Gh(b)&&b._createRunForLLMStart(n,[l],m,this._parentRunId,t,this.tags,this.metadata,s),ar(async()=>{try{await b.handleLLMStart?.(n,[l],m,this._parentRunId,t,this.tags,this.metadata,s)}catch(_){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${_}`),b.raiseError)throw _}},b.awaitHandlers)})),new aT(m,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,o,i=void 0,u=void 0,t=void 0,r=void 0,a=void 0,s=void 0){return Promise.all(o.map(async(l,f)=>{const m=f===0&&i?i:$c();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return Gh(b)&&b._createRunForChatModelStart(n,[l],m,this._parentRunId,t,this.tags,this.metadata,s),ar(async()=>{try{if(b.handleChatModelStart)await b.handleChatModelStart?.(n,[l],m,this._parentRunId,t,this.tags,this.metadata,s);else if(b.handleLLMStart){const _=sM(l);await b.handleLLMStart?.(n,[_],m,this._parentRunId,t,this.tags,this.metadata,s)}}catch(_){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${_}`),b.raiseError)throw _}},b.awaitHandlers)})),new aT(m,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,o,i=$c(),u=void 0,t=void 0,r=void 0,a=void 0,s=void 0,l=void 0){return await Promise.all(this.handlers.map(f=>{if(!f.ignoreChain)return Gh(f)&&f._createRunForChainStart(n,o,i,this._parentRunId,this.tags,this.metadata,u,a,l),ar(async()=>{try{await f.handleChainStart?.(n,o,i,this._parentRunId,this.tags,this.metadata,u,a,l)}catch(m){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleChainStart: ${m}`),f.raiseError)throw m}},f.awaitHandlers)})),new pH(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,o,i=$c(),u=void 0,t=void 0,r=void 0,a=void 0){return await Promise.all(this.handlers.map(s=>{if(!s.ignoreAgent)return Gh(s)&&s._createRunForToolStart(n,o,i,this._parentRunId,this.tags,this.metadata,a),ar(async()=>{try{await s.handleToolStart?.(n,o,i,this._parentRunId,this.tags,this.metadata,a)}catch(l){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleToolStart: ${l}`),s.raiseError)throw l}},s.awaitHandlers)})),new gH(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,o,i=$c(),u=void 0,t=void 0,r=void 0,a=void 0){return await Promise.all(this.handlers.map(s=>{if(!s.ignoreRetriever)return Gh(s)&&s._createRunForRetrieverStart(n,o,i,this._parentRunId,this.tags,this.metadata,a),ar(async()=>{try{await s.handleRetrieverStart?.(n,o,i,this._parentRunId,this.tags,this.metadata,a)}catch(l){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleRetrieverStart: ${l}`),s.raiseError)throw l}},s.awaitHandlers)})),new hH(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(n,o,i,u,t){await Promise.all(this.handlers.map(r=>ar(async()=>{if(!r.ignoreCustomEvent)try{await r.handleCustomEvent?.(n,o,i,this.tags,this.metadata)}catch(a){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleCustomEvent: ${a}`),r.raiseError)throw a}},r.awaitHandlers)))}addHandler(n,o=!0){this.handlers.push(n),o&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(o=>o!==n),this.inheritableHandlers=this.inheritableHandlers.filter(o=>o!==n)}setHandlers(n,o=!0){this.handlers=[],this.inheritableHandlers=[];for(const i of n)this.addHandler(i,o)}addTags(n,o=!0){this.removeTags(n),this.tags.push(...n),o&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(o=>!n.includes(o)),this.inheritableTags=this.inheritableTags.filter(o=>!n.includes(o))}addMetadata(n,o=!0){this.metadata={...this.metadata,...n},o&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const o of Object.keys(n))delete this.metadata[o],delete this.inheritableMetadata[o]}copy(n=[],o=!0){const i=new xm(this._parentRunId);for(const u of this.handlers){const t=this.inheritableHandlers.includes(u);i.addHandler(u,t)}for(const u of this.tags){const t=this.inheritableTags.includes(u);i.addTags([u],t)}for(const u of Object.keys(this.metadata)){const t=Object.keys(this.inheritableMetadata).includes(u);i.addMetadata({[u]:this.metadata[u]},t)}for(const u of n)i.handlers.filter(t=>t.name==="console_callback_handler").some(t=>t.name===u.name)||i.addHandler(u,o);return i}static fromHandlers(n){class o extends d_{name=$c();constructor(){super(),Object.assign(this,n)}}const i=new this;return i.addHandler(new o),i}static configure(n,o,i,u,t,r,a){return this._configureSync(n,o,i,u,t,r,a)}static _configureSync(n,o,i,u,t,r,a){let s;(n||o)&&(Array.isArray(n)||!n?(s=new xm,s.setHandlers(n?.map(Ym)??[],!0)):s=n,s=s.copy(Array.isArray(o)?o.map(Ym):o?.handlers,!1));const l=wl("LANGCHAIN_VERBOSE")==="true"||a?.verbose,f=Yv.getTraceableRunTree()?.tracingEnabled||Ioe(),m=f||(wl("LANGCHAIN_TRACING")??!1);if(l||m){if(s||(s=new xm),l&&!s.handlers.some(b=>b.name===nT.prototype.name)){const b=new nT;s.addHandler(b,!0)}if(m&&!s.handlers.some(b=>b.name==="langchain_tracer")&&f){const b=new Yv;s.addHandler(b,!0)}if(f){const b=Yv.getTraceableRunTree();b&&s._parentRunId===void 0&&(s._parentRunId=b.id,s.handlers.find(p=>p.name==="langchain_tracer")?.updateFromRunTree(b))}}for(const{contextVar:b,inheritable:_=!0,handlerClass:p,envVar:y}of qoe()){const v=y&&wl(y)==="true"&&p;let S;const R=b!==void 0?cH(b):void 0;R&&BG(R)?S=R:v&&(S=new p({})),S!==void 0&&(s||(s=new xm),s.handlers.some(j=>j.name===S.name)||s.addHandler(S,_))}return(i||u)&&s&&(s.addTags(i??[]),s.addTags(u??[],!1)),(t||r)&&s&&(s.addMetadata(t??{}),s.addMetadata(r??{},!1)),s}};function Ym(e){return"name"in e?e:d_.fromMethods(e)}var mH=class{getStore(){}run(e,n){return n()}enterWith(e){}};const Loe=new mH,Cz=Symbol.for("lc:child_config");var Uoe=class{getInstance(){return km()??Loe}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[Cz]}runWithConfig(e,n,o){const i=Yr._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),u=this.getInstance(),t=u.getStore(),r=i?.getParentRunId(),a=i?.handlers?.find(l=>l?.name==="langchain_tracer");let s;return a&&r?s=a.getRunTreeWithTracingConfig(r):o||(s=new Hr({name:"<runnable_lambda>",tracingEnabled:!1})),s&&(s.extra={...s.extra,[Cz]:e}),t!==void 0&&t[Bm]!==void 0&&(s===void 0&&(s={}),s[Bm]=t[Bm]),u.run(s,n)}initializeGlobalInstance(e){km()===void 0&&xoe(e)}};const tc=new Uoe;var $oe={};ct($oe,{AsyncLocalStorageProviderSingleton:()=>tc,MockAsyncLocalStorage:()=>mH,_CONTEXT_VARIABLES_KEY:()=>Bm});const FS=25;async function yn(e){return Yr._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}function iT(...e){const n={};for(const o of e.filter(i=>!!i))for(const i of Object.keys(o))if(i==="metadata")n[i]={...n[i],...o[i]};else if(i==="tags"){const u=n[i]??[];n[i]=[...new Set(u.concat(o[i]??[]))]}else if(i==="configurable")n[i]={...n[i],...o[i]};else if(i==="timeout")n.timeout===void 0?n.timeout=o.timeout:o.timeout!==void 0&&(n.timeout=Math.min(n.timeout,o.timeout));else if(i==="signal")n.signal===void 0?n.signal=o.signal:o.signal!==void 0&&("any"in AbortSignal?n.signal=AbortSignal.any([n.signal,o.signal]):n.signal=o.signal);else if(i==="callbacks"){const u=n.callbacks,t=o.callbacks;if(Array.isArray(t))if(!u)n.callbacks=t;else if(Array.isArray(u))n.callbacks=u.concat(t);else{const r=u.copy();for(const a of t)r.addHandler(Ym(a),!0);n.callbacks=r}else if(t)if(!u)n.callbacks=t;else if(Array.isArray(u)){const r=t.copy();for(const a of u)r.addHandler(Ym(a),!0);n.callbacks=r}else n.callbacks=new Yr(t._parentRunId,{handlers:u.handlers.concat(t.handlers),inheritableHandlers:u.inheritableHandlers.concat(t.inheritableHandlers),tags:Array.from(new Set(u.tags.concat(t.tags))),inheritableTags:Array.from(new Set(u.inheritableTags.concat(t.inheritableTags))),metadata:{...u.metadata,...t.metadata}})}else{const u=i;n[u]=o[u]??n[u]}return n}const Foe=new Set(["string","number","boolean"]);function Et(e){const n=tc.getRunnableConfig();let o={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(n){const{runId:i,runName:u,...t}=n;o=Object.entries(t).reduce((r,[a,s])=>(s!==void 0&&(r[a]=s),r),o)}if(e&&(o=Object.entries(e).reduce((i,[u,t])=>(t!==void 0&&(i[u]=t),i),o)),o?.configurable)for(const i of Object.keys(o.configurable))Foe.has(typeof o.configurable[i])&&!o.metadata?.[i]&&(o.metadata||(o.metadata={}),o.metadata[i]=o.configurable[i]);if(o.timeout!==void 0){if(o.timeout<=0)throw new Error("Timeout must be a positive number");const i=o.timeout,u=AbortSignal.timeout(i);o.metadata||(o.metadata={}),o.metadata.timeoutMs===void 0&&(o.metadata.timeoutMs=i),o.signal!==void 0?"any"in AbortSignal&&(o.signal=AbortSignal.any([o.signal,u])):o.signal=u,delete o.timeout}return o}function Vt(e={},{callbacks:n,maxConcurrency:o,recursionLimit:i,runName:u,configurable:t,runId:r}={}){const a=Et(e);return n!==void 0&&(delete a.runName,a.callbacks=n),i!==void 0&&(a.recursionLimit=i),o!==void 0&&(a.maxConcurrency=o),u!==void 0&&(a.runName=u),t!==void 0&&(a.configurable={...a.configurable,...t}),r!==void 0&&delete a.runId,a}function $f(e){if(e)return{configurable:e.configurable,recursionLimit:e.recursionLimit,callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,maxConcurrency:e.maxConcurrency,timeout:e.timeout,signal:e.signal,store:e.store}}async function rc(e,n){if(n===void 0)return e;let o;return Promise.race([e.catch(i=>{if(!n?.aborted)throw i}),new Promise((i,u)=>{o=()=>{u(yb(n))},n.addEventListener("abort",o),n.aborted&&u(yb(n))})]).finally(()=>n.removeEventListener("abort",o))}function yb(e){return e?.reason instanceof Error?e.reason:typeof e?.reason=="string"?new Error(e.reason):new Error("Aborted")}var Voe={};ct(Voe,{AsyncGeneratorWithSetup:()=>Hf,IterableReadableStream:()=>il,atee:()=>vM,concat:()=>rd,pipeGeneratorWithSetup:()=>_H});var il=class oT extends ReadableStream{reader;ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:n.value}}catch(n){throw this.reader.releaseLock(),n}}async return(){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}return{done:!0,value:void 0}}async throw(n){if(this.ensureReader(),this.locked){const o=this.reader.cancel();this.reader.releaseLock(),await o}throw n}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(n){const o=n.getReader();return new oT({start(i){return u();function u(){return o.read().then(({done:t,value:r})=>{if(t){i.close();return}return i.enqueue(r),u()})}},cancel(){o.releaseLock()}})}static fromAsyncGenerator(n){return new oT({async pull(o){const{value:i,done:u}=await n.next();u&&o.close(),o.enqueue(i)},async cancel(o){await n.return(o)}})}};function vM(e,n=2){const o=Array.from({length:n},()=>[]);return o.map(async function*(u){for(;;)if(u.length===0){const t=await e.next();for(const r of o)r.push(t)}else{if(u[0].done)return;yield u.shift().value}})}function rd(e,n){if(Array.isArray(e)&&Array.isArray(n))return e.concat(n);if(typeof e=="string"&&typeof n=="string")return e+n;if(typeof e=="number"&&typeof n=="number")return e+n;if("concat"in e&&typeof e.concat=="function")return e.concat(n);if(typeof e=="object"&&typeof n=="object"){const o={...e};for(const[i,u]of Object.entries(n))i in o&&!Array.isArray(o[i])?o[i]=rd(o[i],u):o[i]=u;return o}else throw new Error(`Cannot concat ${typeof e} and ${typeof n}`)}var Hf=class{generator;setup;config;signal;firstResult;firstResultUsed=!1;constructor(e){this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise((n,o)=>{tc.runWithConfig($f(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(n,o):this.firstResult.then(i=>n(void 0),o)},!0)})}async next(...e){return this.signal?.throwIfAborted(),this.firstResultUsed?tc.runWithConfig($f(this.config),this.signal?async()=>rc(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function _H(e,n,o,i,...u){const t=new Hf({generator:n,startSetup:o,signal:i}),r=await t.setup;return{output:e(t,r,...u),setup:r}}var Goe={};ct(Goe,{ChatGenerationChunk:()=>Wc,GenerationChunk:()=>np,RUN_KEY:()=>Wm});const Wm="__run";var np=class yH{text;generationInfo;constructor(n){this.text=n.text,this.generationInfo=n.generationInfo}concat(n){return new yH({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo}})}},Wc=class vH extends np{message;constructor(n){super(n),this.message=n.message}concat(n){return new vH({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo},message:this.message.concat(n.message)})}};const Hoe=Object.prototype.hasOwnProperty;function sT(e,n){return Hoe.call(e,n)}function uT(e){if(Array.isArray(e)){const o=new Array(e.length);for(let i=0;i<o.length;i++)o[i]=""+i;return o}if(Object.keys)return Object.keys(e);let n=[];for(let o in e)sT(e,o)&&n.push(o);return n}function tl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function lT(e){let n=0;const o=e.length;let i;for(;n<o;){if(i=e.charCodeAt(n),i>=48&&i<=57){n++;continue}return!1}return!0}function Nh(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Koe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function cT(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let o=0,i=e.length;o<i;o++)if(cT(e[o]))return!0}else if(typeof e=="object"){const o=uT(e),i=o.length;for(var n=0;n<i;n++)if(cT(e[o[n]]))return!0}}return!1}function Tz(e,n){const o=[e];for(const i in n){const u=typeof n[i]=="object"?JSON.stringify(n[i],null,2):n[i];typeof u<"u"&&o.push(`${i}: ${u}`)}return o.join(`
`)}var koe=class extends Error{constructor(e,n,o,i,u){super(Tz(e,{name:n,index:o,operation:i,tree:u})),this.name=n,this.index=o,this.operation=i,this.tree=u,Object.setPrototypeOf(this,new.target.prototype),this.message=Tz(e,{name:n,index:o,operation:i,tree:u})}},bH={};ct(bH,{JsonPatchError:()=>Yt,_areEquals:()=>Jm,applyOperation:()=>zf,applyPatch:()=>ap,applyReducer:()=>Joe,deepClone:()=>Yoe,getValueByPointer:()=>vb,validate:()=>wH,validator:()=>bb});const Yt=koe,Yoe=tl;function VS(e){return Object.getOwnPropertyNames(Object.prototype).includes(e)}const Yh={add:function(e,n,o){if(VS(n))throw new TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");return e[n]=this.value,{newDocument:o}},remove:function(e,n,o){if(VS(n))throw new TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");var i=e[n];return delete e[n],{newDocument:o,removed:i}},replace:function(e,n,o){if(VS(n))throw new TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");var i=e[n];return e[n]=this.value,{newDocument:o,removed:i}},move:function(e,n,o){let i=vb(o,this.path);i&&(i=tl(i));const u=zf(o,{op:"remove",path:this.from}).removed;return zf(o,{op:"add",path:this.path,value:u}),{newDocument:o,removed:i}},copy:function(e,n,o){const i=vb(o,this.from);return zf(o,{op:"add",path:this.path,value:tl(i)}),{newDocument:o}},test:function(e,n,o){return{newDocument:o,test:Jm(e[n],this.value)}},_get:function(e,n,o){return this.value=e[n],{newDocument:o}}};var Woe={add:function(e,n,o){return lT(n)?e.splice(n,0,this.value):e[n]=this.value,{newDocument:o,index:n}},remove:function(e,n,o){var i=e.splice(n,1);return{newDocument:o,removed:i[0]}},replace:function(e,n,o){var i=e[n];return e[n]=this.value,{newDocument:o,removed:i}},move:Yh.move,copy:Yh.copy,test:Yh.test,_get:Yh._get};function vb(e,n){if(n=="")return e;var o={op:"_get",path:n};return zf(e,o),o.value}function zf(e,n,o=!1,i=!0,u=!0,t=0){if(o&&(typeof o=="function"?o(n,0,e,n.path):bb(n,0)),n.path===""){let r={newDocument:e};if(n.op==="add")return r.newDocument=n.value,r;if(n.op==="replace")return r.newDocument=n.value,r.removed=e,r;if(n.op==="move"||n.op==="copy")return r.newDocument=vb(e,n.from),n.op==="move"&&(r.removed=e),r;if(n.op==="test"){if(r.test=Jm(e,n.value),r.test===!1)throw new Yt("Test operation failed","TEST_OPERATION_FAILED",t,n,e);return r.newDocument=e,r}else{if(n.op==="remove")return r.removed=e,r.newDocument=null,r;if(n.op==="_get")return n.value=e,r;if(o)throw new Yt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,n,e);return r}}else{i||(e=tl(e));const a=(n.path||"").split("/");let s=e,l=1,f=a.length,m,b,_;for(typeof o=="function"?_=o:_=bb;;){if(b=a[l],b&&b.indexOf("~")!=-1&&(b=Koe(b)),u&&(b=="__proto__"||b=="prototype"&&l>0&&a[l-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(o&&m===void 0&&(s[b]===void 0?m=a.slice(0,l).join("/"):l==f-1&&(m=n.path),m!==void 0&&_(n,0,e,m)),l++,Array.isArray(s)){if(b==="-")b=s.length;else{if(o&&!lT(b))throw new Yt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",t,n,e);lT(b)&&(b=~~b)}if(l>=f){if(o&&n.op==="add"&&b>s.length)throw new Yt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",t,n,e);const p=Woe[n.op].call(n,s,b,e);if(p.test===!1)throw new Yt("Test operation failed","TEST_OPERATION_FAILED",t,n,e);return p}}else if(l>=f){const p=Yh[n.op].call(n,s,b,e);if(p.test===!1)throw new Yt("Test operation failed","TEST_OPERATION_FAILED",t,n,e);return p}if(s=s[b],o&&l<f&&(!s||typeof s!="object"))throw new Yt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",t,n,e)}}}function ap(e,n,o,i=!0,u=!0){if(o&&!Array.isArray(n))throw new Yt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(e=tl(e));const t=new Array(n.length);for(let r=0,a=n.length;r<a;r++)t[r]=zf(e,n[r],o,!0,u,r),e=t[r].newDocument;return t.newDocument=e,t}function Joe(e,n,o){const i=zf(e,n);if(i.test===!1)throw new Yt("Test operation failed","TEST_OPERATION_FAILED",o,n,e);return i.newDocument}function bb(e,n,o,i){if(typeof e!="object"||e===null||Array.isArray(e))throw new Yt("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,e,o);if(Yh[e.op]){if(typeof e.path!="string")throw new Yt("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,e,o);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Yt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",n,e,o);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Yt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,e,o);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Yt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,e,o);if((e.op==="add"||e.op==="replace"||e.op==="test")&&cT(e.value))throw new Yt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,e,o);if(o){if(e.op=="add"){var u=e.path.split("/").length,t=i.split("/").length;if(u!==t+1&&u!==t)throw new Yt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,e,o)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==i)throw new Yt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,e,o)}else if(e.op==="move"||e.op==="copy"){var r={op:"_get",path:e.from,value:void 0},a=wH([r],o);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Yt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,e,o)}}}else throw new Yt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,e,o)}function wH(e,n,o){try{if(!Array.isArray(e))throw new Yt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(n)ap(tl(n),tl(e),o||!0);else{o=o||bb;for(var i=0;i<e.length;i++)o(e[i],i,n,void 0)}}catch(u){if(u instanceof Yt)return u;throw u}}function Jm(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){var o=Array.isArray(e),i=Array.isArray(n),u,t,r;if(o&&i){if(t=e.length,t!=n.length)return!1;for(u=t;u--!==0;)if(!Jm(e[u],n[u]))return!1;return!0}if(o!=i)return!1;var a=Object.keys(e);if(t=a.length,t!==Object.keys(n).length)return!1;for(u=t;u--!==0;)if(!n.hasOwnProperty(a[u]))return!1;for(u=t;u--!==0;)if(r=a[u],!Jm(e[r],n[r]))return!1;return!0}return e!==e&&n!==n}function OH(e,n,o,i,u){if(n!==e){typeof n.toJSON=="function"&&(n=n.toJSON());for(var t=uT(n),r=uT(e),a=!1,s=r.length-1;s>=0;s--){var l=r[s],f=e[l];if(sT(n,l)&&!(n[l]===void 0&&f!==void 0&&Array.isArray(n)===!1)){var m=n[l];typeof f=="object"&&f!=null&&typeof m=="object"&&m!=null&&Array.isArray(f)===Array.isArray(m)?OH(f,m,o,i+"/"+Nh(l),u):f!==m&&(u&&o.push({op:"test",path:i+"/"+Nh(l),value:tl(f)}),o.push({op:"replace",path:i+"/"+Nh(l),value:tl(m)}))}else Array.isArray(e)===Array.isArray(n)?(u&&o.push({op:"test",path:i+"/"+Nh(l),value:tl(f)}),o.push({op:"remove",path:i+"/"+Nh(l)}),a=!0):(u&&o.push({op:"test",path:i,value:e}),o.push({op:"replace",path:i,value:n}))}if(!(!a&&t.length==r.length))for(var s=0;s<t.length;s++){var l=t[s];!sT(e,l)&&n[l]!==void 0&&o.push({op:"add",path:i+"/"+Nh(l),value:tl(n[l])})}}}function bM(e,n,o=!1){var i=[];return OH(e,n,i,"",o),i}({...bH});var Zoe={};ct(Zoe,{LogStreamCallbackHandler:()=>fT,RunLog:()=>wM,RunLogPatch:()=>kl,isLogStreamHandler:()=>SH});var kl=class{ops;constructor(e){this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),o=ap({},n);return new wM({ops:n,state:o[o.length-1].newDocument})}},wM=class dT extends kl{state;constructor(n){super(n),this.state=n.state}concat(n){const o=this.ops.concat(n.ops),i=ap(this.state,n.ops);return new dT({ops:o,state:i[i.length-1].newDocument})}static fromRunLogPatch(n){const o=ap({},n.ops);return new dT({ops:n.ops,state:o[o.length-1].newDocument})}};const SH=e=>e.name==="log_stream_tracer";async function Mz(e,n){if(n==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:o}=e;if(["retriever","llm","prompt"].includes(e.run_type))return o;if(!(Object.keys(o).length===1&&o?.input===""))return o.input}async function xz(e,n){const{outputs:o}=e;return n==="original"||["retriever","llm","prompt"].includes(e.run_type)?o:o!==void 0&&Object.keys(o).length===1&&o?.output!==void 0?o.output:o}function Qoe(e){return e!==void 0&&e.message!==void 0}var fT=class extends fp{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;_schemaFormat="original";rootId;keyMapByRunId={};counterMapByRunName={};transformStream;writer;receiveStream;name="log_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=il.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let o=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(o=o||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(o=o||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(o=o||n.find(i=>this.includeTags?.includes(i))!==void 0),this.excludeNames!==void 0&&(o=o&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(o=o&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(o=o&&n.every(i=>!this.excludeTags?.includes(i))),o}async*tapOutputIterable(e,n){for await(const o of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new kl({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:o}]}))}yield o}}async onRunCreate(e){if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new kl({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const o={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(o.inputs=await Mz(e,this._schemaFormat)),await this.writer.write(new kl({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:o}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const o=[];this._schemaFormat==="streaming_events"&&o.push({op:"replace",path:`/logs/${n}/inputs`,value:await Mz(e,this._schemaFormat)}),o.push({op:"add",path:`/logs/${n}/final_output`,value:await xz(e,this._schemaFormat)}),e.end_time!==void 0&&o.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new kl({ops:o});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new kl({ops:[{op:"replace",path:"/final_output",value:await xz(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,o){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const u=e.inputs.messages!==void 0;let t;u?Qoe(o?.chunk)?t=o?.chunk:t=new Bn({id:`run-${e.id}`,content:n}):t=n;const r=new kl({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:t}]});await this.writer.write(r)}};function tv({name:e,serialized:n}){return e!==void 0?e:n?.name!==void 0?n.name:n?.id!==void 0&&Array.isArray(n?.id)?n.id[n.id.length-1]:"Unnamed"}const Xoe=e=>e.name==="event_stream_tracer";var ese=class extends fp{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;runInfoMap=new Map;tappedPromises=new Map;transformStream;writer;receiveStream;readableStreamClosed=!1;name="event_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream({flush:()=>{this.readableStreamClosed=!0}}),this.writer=this.transformStream.writable.getWriter(),this.receiveStream=il.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let o=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(o=o||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(o=o||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(o=o||n.find(i=>this.includeTags?.includes(i))!==void 0),this.excludeNames!==void 0&&(o=o&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(o=o&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(o=o&&n.every(i=>!this.excludeTags?.includes(i))),o}async*tapOutputIterable(e,n){const o=await n.next();if(o.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield o.value;return}function u(r,a){return r==="llm"&&typeof a=="string"?new np({text:a}):a}let t=this.tappedPromises.get(e);if(t===void 0){let r;t=new Promise(a=>{r=a}),this.tappedPromises.set(e,t);try{const a={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...a,data:{chunk:u(i.runType,o.value)}},i),yield o.value;for await(const s of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...a,data:{chunk:u(i.runType,s)}},i),yield s}finally{r?.()}}else{yield o.value;for await(const r of n)yield r}}async send(e,n){this.readableStreamClosed||this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const o=this.tappedPromises.get(e.run_id);o!==void 0?o.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){const n=tv(e),o=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:o,inputs:e.inputs};this.runInfoMap.set(e.id,i);const u=`on_${o}_start`;await this.send({event:u,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onLLMNewToken(e,n,o){const i=this.runInfoMap.get(e.id);let u,t;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")t="on_chat_model_stream",o?.chunk===void 0?u=new Bn({content:n,id:`run-${e.id}`}):u=o.chunk.message;else if(i.runType==="llm")t="on_llm_stream",o?.chunk===void 0?u=new np({text:n}):u=o.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:t,data:{chunk:u},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let o;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=e.outputs?.generations;let u;if(n.runType==="chat_model"){for(const t of i??[]){if(u!==void 0)break;u=t[0]?.message}o="on_chat_model_end"}else if(n.runType==="llm")u={generations:i?.map(t=>t.map(r=>({text:r.text,generationInfo:r.generationInfo}))),llmOutput:e.outputs?.llmOutput??{}},o="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:o,data:{output:u,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){const n=tv(e),o=e.run_type??"chain",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:e.run_type};let u={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(u={},i.inputs={}):e.inputs.input!==void 0?(u.input=e.inputs.input,i.inputs=e.inputs.input):(u.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${o}_start`,data:u,name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onChainEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const o=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},t={output:e.outputs?.output??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(t.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:o,data:t,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){const n=tv(e),o={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,o),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},o)}async onToolEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const o=e.outputs?.output===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:o,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){const n=tv(e),i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onRetrieverEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,o){const i=this.runInfoMap.get(o);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${o} not found in run map.`);await this.send({event:"on_custom_event",run_id:o,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}};const tse=Object.prototype.toString,rse=e=>tse.call(e)==="[object Error]",nse=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function ase(e){if(!(e&&rse(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:o,stack:i}=e;return o==="Load failed"?i===void 0||"__sentry_captured__"in e:o.startsWith("error sending request for url")?!0:nse.has(o)}function ise(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function rv(e,n,{min:o=0,allowInfinity:i=!1}={}){if(n!==void 0){if(typeof n!="number"||Number.isNaN(n))throw new TypeError(`Expected \`${e}\` to be a number${i?" or Infinity":""}.`);if(!i&&!Number.isFinite(n))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(n<o)throw new TypeError(`Expected \`${e}\` to be  ${o}.`)}}var ose=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function sse(e,n){const o=Math.max(1,e+1),i=n.randomize?Math.random()+1:1;let u=Math.round(i*n.minTimeout*n.factor**(o-1));return u=Math.min(u,n.maxTimeout),u}function Pz(e,n){return Number.isFinite(n)?n-(performance.now()-e):n}async function use({error:e,attemptNumber:n,retriesConsumed:o,startTime:i,options:u}){const t=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(t instanceof ose)throw t.originalError;const r=Number.isFinite(u.retries)?Math.max(0,u.retries-o):u.retries,a=u.maxRetryTime??Number.POSITIVE_INFINITY,s=Object.freeze({error:t,attemptNumber:n,retriesLeft:r,retriesConsumed:o});if(await u.onFailedAttempt(s),Pz(i,a)<=0)throw t;const l=await u.shouldConsumeRetry(s),f=Pz(i,a);if(f<=0||r<=0)throw t;if(t instanceof TypeError&&!ase(t)){if(l)throw t;return u.signal?.throwIfAborted(),!1}if(!await u.shouldRetry(s))throw t;if(!l)return u.signal?.throwIfAborted(),!1;const m=sse(o,u),b=Math.min(m,f);return b>0&&await new Promise((_,p)=>{const y=()=>{clearTimeout(v),u.signal?.removeEventListener("abort",y),p(u.signal.reason)},v=setTimeout(()=>{u.signal?.removeEventListener("abort",y),_()},b);u.unref&&v.unref?.(),u.signal?.addEventListener("abort",y,{once:!0})}),u.signal?.throwIfAborted(),!0}async function hT(e,n={}){if(n={...n},ise(n.retries),Object.hasOwn(n,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");n.retries??=10,n.factor??=2,n.minTimeout??=1e3,n.maxTimeout??=Number.POSITIVE_INFINITY,n.maxRetryTime??=Number.POSITIVE_INFINITY,n.randomize??=!1,n.onFailedAttempt??=()=>{},n.shouldRetry??=()=>!0,n.shouldConsumeRetry??=()=>!0,rv("factor",n.factor,{min:0,allowInfinity:!1}),rv("minTimeout",n.minTimeout,{min:0,allowInfinity:!1}),rv("maxTimeout",n.maxTimeout,{min:0,allowInfinity:!0}),rv("maxRetryTime",n.maxRetryTime,{min:0,allowInfinity:!0}),n.factor>0||(n.factor=1),n.signal?.throwIfAborted();let o=0,i=0;const u=performance.now();for(;!Number.isFinite(n.retries)||i<=n.retries;){o++;try{n.signal?.throwIfAborted();const t=await e(o);return n.signal?.throwIfAborted(),t}catch(t){await use({error:t,attemptNumber:o,retriesConsumed:i,startTime:u,options:n})&&i++}}throw new Error("Retry attempts exhausted without throwing an error.")}var lse={};ct(lse,{AsyncCaller:()=>p_});const cse=[400,401,402,403,404,405,406,407,409],dse=e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||e.name==="AbortError"||e?.code==="ECONNABORTED")throw e;const n=e?.response?.status??e?.status;if(n&&cse.includes(+n))throw e;if(e?.error?.code==="insufficient_quota"){const o=new Error(e?.message);throw o.name="InsufficientQuotaError",o}};var p_=class{maxConcurrency;maxRetries;onFailedAttempt;queue;constructor(e){this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??dse;const n="default"in Jl?Jl.default:Jl;this.queue=new n({concurrency:this.maxConcurrency})}async call(e,...n){return this.queue.add(()=>hT(()=>e(...n).catch(o=>{throw o instanceof Error?o:new Error(o)}),{onFailedAttempt:({error:o})=>this.onFailedAttempt?.(o),retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...o){if(e.signal){let i;return Promise.race([this.call(n,...o),new Promise((u,t)=>{i=()=>{t(yb(e.signal))},e.signal?.addEventListener("abort",i)})]).finally(()=>{e.signal&&i&&e.signal.removeEventListener("abort",i)})}return this.call(n,...o)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}},EH=class extends fp{name="RootListenersTracer";rootId;config;argOnStart;argOnEnd;argOnError;constructor({config:e,onStart:n,onEnd:o,onError:i}){super({_awaitHandler:!0}),this.config=e,this.argOnStart=n,this.argOnEnd=o,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function OM(e){return e?e.lc_runnable:!1}var fse=class{includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;constructor(e){this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let o=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=e.tags??[];return this.includeNames!==void 0&&(o=o||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(o=o||this.includeTypes.includes(n)),this.includeTags!==void 0&&(o=o||i.some(u=>this.includeTags?.includes(u))),this.excludeNames!==void 0&&(o=o&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(o=o&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(o=o&&i.every(u=>!this.excludeTags?.includes(u))),o}};const hse=e=>btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");function GS(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}const pse=["*","_","`"];function gse(e){let n="";for(const[o,i]of Object.entries(e))n+=`	classDef ${o} ${i};
`;return n}function mse(e,n,o){const{firstNode:i,lastNode:u,nodeColors:t,withStyles:r=!0,curveStyle:a="linear",wrapLabelNWords:s=9}=o??{};let l=r?`%%{init: {'flowchart': {'curve': '${a}'}}}%%
graph TD;
`:`graph TD;
`;if(r){const p="default",y={[p]:"{0}({1})"};i!==void 0&&(y[i]="{0}([{1}]):::first"),u!==void 0&&(y[u]="{0}([{1}]):::last");for(const[v,S]of Object.entries(e)){const R=S.name.split(":").pop()??"";let A=pse.some(M=>R.startsWith(M)&&R.endsWith(M))?`<p>${R}</p>`:R;Object.keys(S.metadata??{}).length&&(A+=`<hr/><small><em>${Object.entries(S.metadata??{}).map(([M,D])=>`${M} = ${D}`).join(`
`)}</em></small>`);const x=(y[v]??y[p]).replace("{0}",GS(v)).replace("{1}",A);l+=`	${x}
`}}const f={};for(const p of n){const y=p.source.split(":"),v=p.target.split(":"),S=y.filter((R,j)=>R===v[j]).join(":");f[S]||(f[S]=[]),f[S].push(p)}const m=new Set;function b(p){return[...p].sort((y,v)=>y.split(":").length-v.split(":").length)}function _(p,y){const v=p.length===1&&p[0].source===p[0].target;if(y&&!v){const R=y.split(":").pop();if(m.has(y))throw new Error(`Found duplicate subgraph '${R}' at '${y} -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);m.add(y),l+=`	subgraph ${R}
`}const S=b(Object.keys(f).filter(R=>R.startsWith(`${y}:`)&&R!==y&&R.split(":").length===y.split(":").length+1));for(const R of S)_(f[R],R);for(const R of p){const{source:j,target:A,data:x,conditional:M}=R;let D="";if(x!==void 0){let P=x;const F=P.split(" ");F.length>s&&(P=Array.from({length:Math.ceil(F.length/s)},(B,q)=>F.slice(q*s,(q+1)*s).join(" ")).join("&nbsp;<br>&nbsp;")),D=M?` -. &nbsp;${P}&nbsp; .-> `:` -- &nbsp;${P}&nbsp; --> `}else D=M?" -.-> ":" --> ";l+=`	${GS(j)}${D}${GS(A)};
`}y&&!v&&(l+=`	end
`)}_(f[""]??[],"");for(const p in f)!p.includes(":")&&p!==""&&_(f[p],p);return r&&(l+=gse(t??{})),l}async function _se(e,n){let o=n?.backgroundColor??"white";const i=n?.imageType??"png",u=hse(e);o!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(o)||(o=`!${o}`));const t=`https://mermaid.ink/img/${u}?bgColor=${o}&type=${i}`,r=await fetch(t);if(!r.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${r.status}`,`Status text: ${r.statusText}`].join(`
`));return await r.blob()}var yse={};ct(yse,{Graph:()=>SM});function vse(e,n){if(e!==void 0&&!qm(e))return e;if(OM(n))try{let o=n.getName();return o=o.startsWith("Runnable")?o.slice(8):o,o}catch{return n.getName()}else return n.name??"UnknownSchema"}function bse(e){return OM(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...Xl(e.data.schema),title:e.data.name}}}var SM=class RH{nodes={};edges=[];constructor(n){this.nodes=n?.nodes??this.nodes,this.edges=n?.edges??this.edges}toJSON(){const n={};return Object.values(this.nodes).forEach((o,i)=>{n[o.id]=qm(o.id)?i:o.id}),{nodes:Object.values(this.nodes).map(o=>({id:n[o.id],...bse(o)})),edges:this.edges.map(o=>{const i={source:n[o.source],target:n[o.target]};return typeof o.data<"u"&&(i.data=o.data),typeof o.conditional<"u"&&(i.conditional=o.conditional),i})}}addNode(n,o,i){if(o!==void 0&&this.nodes[o]!==void 0)throw new Error(`Node with id ${o} already exists`);const u=o??Fc(),t={id:u,data:n,name:vse(o,n),metadata:i};return this.nodes[u]=t,t}removeNode(n){delete this.nodes[n.id],this.edges=this.edges.filter(o=>o.source!==n.id&&o.target!==n.id)}addEdge(n,o,i,u){if(this.nodes[n.id]===void 0)throw new Error(`Source node ${n.id} not in graph`);if(this.nodes[o.id]===void 0)throw new Error(`Target node ${o.id} not in graph`);const t={source:n.id,target:o.id,data:i,conditional:u};return this.edges.push(t),t}firstNode(){return Az(this)}lastNode(){return Nz(this)}extend(n,o=""){let i=o;Object.values(n.nodes).map(l=>l.id).every(qm)&&(i="");const t=l=>i?`${i}:${l}`:l;Object.entries(n.nodes).forEach(([l,f])=>{this.nodes[t(l)]={...f,id:t(l)}});const r=n.edges.map(l=>({...l,source:t(l.source),target:t(l.target)}));this.edges=[...this.edges,...r];const a=n.firstNode(),s=n.lastNode();return[a?{id:t(a.id),data:a.data}:void 0,s?{id:t(s.id),data:s.data}:void 0]}trimFirstNode(){const n=this.firstNode();n&&Az(this,[n.id])&&this.removeNode(n)}trimLastNode(){const n=this.lastNode();n&&Nz(this,[n.id])&&this.removeNode(n)}reid(){const n=Object.fromEntries(Object.values(this.nodes).map(u=>[u.id,u.name])),o=new Map;Object.values(n).forEach(u=>{o.set(u,(o.get(u)||0)+1)});const i=u=>{const t=n[u];return qm(u)&&o.get(t)===1?t:u};return new RH({nodes:Object.fromEntries(Object.entries(this.nodes).map(([u,t])=>[i(u),{...t,id:i(u)}])),edges:this.edges.map(u=>({...u,source:i(u.source),target:i(u.target)}))})}drawMermaid(n){const{withStyles:o,curveStyle:i,nodeColors:u={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:t}=n??{},r=this.reid(),a=r.firstNode(),s=r.lastNode();return mse(r.nodes,r.edges,{firstNode:a?.id,lastNode:s?.id,withStyles:o,curveStyle:i,nodeColors:u,wrapLabelNWords:t})}async drawMermaidPng(n){const o=this.drawMermaid(n);return _se(o,{backgroundColor:n?.backgroundColor})}};function Az(e,n=[]){const o=new Set(e.edges.filter(u=>!n.includes(u.source)).map(u=>u.target)),i=[];for(const u of Object.values(e.nodes))!n.includes(u.id)&&!o.has(u.id)&&i.push(u);return i.length===1?i[0]:void 0}function Nz(e,n=[]){const o=new Set(e.edges.filter(u=>!n.includes(u.target)).map(u=>u.source)),i=[];for(const u of Object.values(e.nodes))!n.includes(u.id)&&!o.has(u.id)&&i.push(u);return i.length===1?i[0]:void 0}function wse(e){const n=new TextEncoder,o=new ReadableStream({async start(i){for await(const u of e)i.enqueue(n.encode(`event: data
data: ${JSON.stringify(u)}

`));i.enqueue(n.encode(`event: end

`)),i.close()}});return il.fromReadableStream(o)}function Dz(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}const Ose=e=>e!=null&&typeof e=="object"&&"next"in e&&typeof e.next=="function";function pT(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function"}function*Iz(e,n){for(;;){const{value:o,done:i}=tc.runWithConfig($f(e),n.next.bind(n),!0);if(i)break;yield o}}async function*gT(e,n){const o=n[Symbol.asyncIterator]();for(;;){const{value:i,done:u}=await tc.runWithConfig($f(e),o.next.bind(n),!0);if(u)break;yield i}}function ur(e,n){return e&&!Array.isArray(e)&&!(e instanceof Date)&&typeof e=="object"?e:{[n]:e}}var qt=class extends Uf{lc_runnable=!0;name;getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}withRetry(e){return new EM({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new Ff({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new PH({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(Et);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const o=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,u)=>Et(u===0?e:o))}return Array.from({length:n},()=>Et(e))}async batch(e,n,o){const i=this._getOptionsList(n??{},e.length),u=i[0]?.maxConcurrency??o?.maxConcurrency,t=new p_({maxConcurrency:u,onFailedAttempt:a=>{throw a}}),r=e.map((a,s)=>t.call(async()=>{try{return await this.invoke(a,i[s])}catch(l){if(o?.returnExceptions)return l;throw l}}));return Promise.all(r)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const o=Et(n),i=new Hf({generator:this._streamIterator(e,o),config:o});return await i.setup,il.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=Et(e):n=Et({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const o={...e};return delete o.callbacks,delete o.tags,delete o.metadata,delete o.runName,delete o.configurable,delete o.recursionLimit,delete o.maxConcurrency,delete o.runId,delete o.timeout,delete o.signal,[n,o]}async _callWithConfig(e,n,o){const i=Et(o),t=await(await yn(i))?.handleChainStart(this.toJSON(),ur(n,"input"),i.runId,i?.runType,void 0,void 0,i?.runName??this.getName());delete i.runId;let r;try{const a=e.call(this,n,i,t);r=await rc(a,o?.signal)}catch(a){throw await t?.handleChainError(a),a}return await t?.handleChainEnd(ur(r,"output")),r}async _batchWithConfig(e,n,o,i){const u=this._getOptionsList(o??{},n.length),t=await Promise.all(u.map(yn)),r=await Promise.all(t.map(async(s,l)=>{const f=await s?.handleChainStart(this.toJSON(),ur(n[l],"input"),u[l].runId,u[l].runType,void 0,void 0,u[l].runName??this.getName());return delete u[l].runId,f}));let a;try{const s=e.call(this,n,u,r,i);a=await rc(s,u?.[0]?.signal)}catch(s){throw await Promise.all(r.map(l=>l?.handleChainError(s))),s}return await Promise.all(r.map(s=>s?.handleChainEnd(ur(a,"output")))),a}_concatOutputChunks(e,n){return rd(e,n)}async*_transformStreamWithConfig(e,n,o){let i,u=!0,t,r=!0;const a=Et(o),s=await yn(a),l=this;async function*f(){for await(const b of e){if(u)if(i===void 0)i=b;else try{i=l._concatOutputChunks(i,b)}catch{i=void 0,u=!1}yield b}}let m;try{const b=await _H(n.bind(this),f(),async()=>s?.handleChainStart(this.toJSON(),{input:""},a.runId,a.runType,void 0,void 0,a.runName??this.getName(),void 0,{lc_defers_inputs:!0}),o?.signal,a);delete a.runId,m=b.setup;const _=m?.handlers.find(Xoe);let p=b.output;_!==void 0&&m!==void 0&&(p=_.tapOutputIterable(m.runId,p));const y=m?.handlers.find(SH);y!==void 0&&m!==void 0&&(p=y.tapOutputIterable(m.runId,p));for await(const v of p)if(yield v,r)if(t===void 0)t=v;else try{t=this._concatOutputChunks(t,v)}catch{t=void 0,r=!1}}catch(b){throw await m?.handleChainError(b,void 0,void 0,void 0,{inputs:ur(i,"input")}),b}await m?.handleChainEnd(t??{},void 0,void 0,void 0,{inputs:ur(i,"input")})}getGraph(e){const n=new SM,o=n.addNode({name:`${this.getName()}Input`,schema:kD()}),i=n.addNode(this),u=n.addNode({name:`${this.getName()}Output`,schema:kD()});return n.addEdge(o,i),n.addEdge(i,u),n}pipe(e){return new g_({first:this,last:rl(e)})}pick(e){return this.pipe(new AH(e))}assign(e){return this.pipe(new RM(new hp({steps:e})))}async*transform(e,n){let o;for await(const i of e)o===void 0?o=i:o=this._concatOutputChunks(o,i);yield*this._streamIterator(o,Et(n))}async*streamLog(e,n,o){const i=new fT({...o,autoClose:!1,_schemaFormat:"original"}),u=Et(n);yield*this._streamLog(e,i,u)}async*_streamLog(e,n,o){const{callbacks:i}=o;if(i===void 0)o.callbacks=[n];else if(Array.isArray(i))o.callbacks=i.concat([n]);else{const a=i.copy();a.addHandler(n,!0),o.callbacks=a}const u=this.stream(e,o);async function t(){try{const a=await u;for await(const s of a){const l=new kl({ops:[{op:"add",path:"/streamed_output/-",value:s}]});await n.writer.write(l)}}finally{await n.writer.close()}}const r=t();try{for await(const a of n)yield a}finally{await r}}streamEvents(e,n,o){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,o);else if(n.version==="v2")i=this._streamEventsV2(e,n,o);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?wse(i):il.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,o){const i=new ese({...o,autoClose:!1}),u=Et(n),t=u.runId??Fc();u.runId=t;const r=u.callbacks;if(r===void 0)u.callbacks=[i];else if(Array.isArray(r))u.callbacks=r.concat(i);else{const _=r.copy();_.addHandler(i,!0),u.callbacks=_}const a=new AbortController,s=this;async function l(){let _,p=null;try{n?.signal?"any"in AbortSignal?_=AbortSignal.any([a.signal,n.signal]):(_=n.signal,p=()=>{a.abort()},n.signal.addEventListener("abort",p,{once:!0})):_=a.signal;const y=await s.stream(e,{...u,signal:_}),v=i.tapOutputIterable(t,y);for await(const S of v)if(a.signal.aborted)break}finally{await i.finish(),_&&p&&_.removeEventListener("abort",p)}}const f=l();let m=!1,b;try{for await(const _ of i){if(!m){_.data.input=e,m=!0,b=_.run_id,yield _;continue}_.run_id===b&&_.event.endsWith("_end")&&_.data?.input&&delete _.data.input,yield _}}finally{a.abort(),await f}}async*_streamEventsV1(e,n,o){let i,u=!1;const t=Et(n),r=t.tags??[],a=t.metadata??{},s=t.runName??this.getName(),l=new fT({...o,autoClose:!1,_schemaFormat:"streaming_events"}),f=new fse({...o}),m=this._streamLog(e,l,t);for await(const _ of m){if(i?i=i.concat(_):i=wM.fromRunLogPatch(_),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!u){u=!0;const S={...i.state},R={run_id:S.id,event:`on_${S.type}_start`,name:s,tags:r,metadata:a,data:{input:e}};f.includeEvent(R,S.type)&&(yield R)}const p=_.ops.filter(S=>S.path.startsWith("/logs/")).map(S=>S.path.split("/")[2]),y=[...new Set(p)];for(const S of y){let R,j={};const A=i.state.logs[S];if(A.end_time===void 0?A.streamed_output.length>0?R="stream":R="start":R="end",R==="start")A.inputs!==void 0&&(j.input=A.inputs);else if(R==="end")A.inputs!==void 0&&(j.input=A.inputs),j.output=A.final_output;else if(R==="stream"){const x=A.streamed_output.length;if(x!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${x} instead. Encountered in: "${A.name}"`);j={chunk:A.streamed_output[0]},A.streamed_output=[]}yield{event:`on_${A.type}_${R}`,name:A.name,run_id:A.id,tags:A.tags,metadata:A.metadata,data:j}}const{state:v}=i;if(v.streamed_output.length>0){const S=v.streamed_output.length;if(S!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${S} instead. Encountered in: "${v.name}"`);const R={chunk:v.streamed_output[0]};v.streamed_output=[];const j={event:`on_${v.type}_stream`,run_id:v.id,tags:r,metadata:a,name:s,data:R};f.includeEvent(j,v.type)&&(yield j)}}const b=i?.state;if(b!==void 0){const _={event:`on_${b.type}_end`,name:s,run_id:b.id,tags:r,metadata:a,data:{output:b.final_output}};f.includeEvent(_,b.type)&&(yield _)}}static isRunnable(e){return OM(e)}withListeners({onStart:e,onEnd:n,onError:o}){return new Ff({bound:this,config:{},configFactories:[i=>({callbacks:[new EH({config:i,onStart:e,onEnd:n,onError:o})]})]})}asTool(e){return Cse(this,e)}},Ff=class jH extends qt{static lc_name(){return"RunnableBinding"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;bound;config;kwargs;configFactories;constructor(n){super(n),this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config,this.configFactories=n.configFactories}getName(n){return this.bound.getName(n)}async _mergeConfig(...n){const o=iT(this.config,...n);return iT(o,...this.configFactories?await Promise.all(this.configFactories.map(async i=>await i(o))):[])}withConfig(n){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return new EM({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:n?.stopAfterAttempt,...n})}async invoke(n,o){return this.bound.invoke(n,await this._mergeConfig(o,this.kwargs))}async batch(n,o,i){const u=Array.isArray(o)?await Promise.all(o.map(async t=>this._mergeConfig(Et(t),this.kwargs))):await this._mergeConfig(Et(o),this.kwargs);return this.bound.batch(n,u,i)}_concatOutputChunks(n,o){return this.bound._concatOutputChunks(n,o)}async*_streamIterator(n,o){yield*this.bound._streamIterator(n,await this._mergeConfig(Et(o),this.kwargs))}async stream(n,o){return this.bound.stream(n,await this._mergeConfig(Et(o),this.kwargs))}async*transform(n,o){yield*this.bound.transform(n,await this._mergeConfig(Et(o),this.kwargs))}streamEvents(n,o,i){const u=this,t=async function*(){yield*u.bound.streamEvents(n,{...await u._mergeConfig(Et(o),u.kwargs),version:o.version},i)};return il.fromAsyncGenerator(t())}static isRunnableBinding(n){return n.bound&&qt.isRunnable(n.bound)}withListeners({onStart:n,onEnd:o,onError:i}){return new jH({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[u=>({callbacks:[new EH({config:u,onStart:n,onEnd:o,onError:i})]})]})}},Sse=class CH extends qt{static lc_name(){return"RunnableEach"}lc_serializable=!0;lc_namespace=["langchain_core","runnables"];bound;constructor(n){super(n),this.bound=n.bound}async invoke(n,o){return this._callWithConfig(this._invoke.bind(this),n,o)}async _invoke(n,o,i){return this.bound.batch(n,Vt(o,{callbacks:i?.getChild()}))}withListeners({onStart:n,onEnd:o,onError:i}){return new CH({bound:this.bound.withListeners({onStart:n,onEnd:o,onError:i})})}},EM=class extends Ff{static lc_name(){return"RunnableRetry"}lc_namespace=["langchain_core","runnables"];maxAttemptNumber=3;onFailedAttempt=()=>{};constructor(e){super(e),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,o){const i=e>1?`retry:attempt:${e}`:void 0;return Vt(n,{callbacks:o?.getChild(i)})}async _invoke(e,n,o){return hT(i=>super.invoke(e,this._patchConfigForRetry(i,n,o)),{onFailedAttempt:({error:i})=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,o,i){const u={};try{await hT(async t=>{const r=e.map((m,b)=>b).filter(m=>u[m.toString()]===void 0||u[m.toString()]instanceof Error),a=r.map(m=>e[m]),s=r.map(m=>this._patchConfigForRetry(t,n?.[m],o?.[m])),l=await super.batch(a,s,{...i,returnExceptions:!0});let f;for(let m=0;m<l.length;m+=1){const b=l[m],_=r[m];b instanceof Error&&f===void 0&&(f=b,f.input=a[m]),u[_.toString()]=b}if(f)throw f;return l},{onFailedAttempt:({error:t})=>this.onFailedAttempt(t,t.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(t){if(i?.returnExceptions!==!0)throw t}return Object.keys(u).sort((t,r)=>parseInt(t,10)-parseInt(r,10)).map(t=>u[parseInt(t,10)])}async batch(e,n,o){return this._batchWithConfig(this._batch.bind(this),e,n,o)}},g_=class Pm extends qt{static lc_name(){return"RunnableSequence"}first;middle=[];last;omitSequenceTags=!1;lc_serializable=!0;lc_namespace=["langchain_core","runnables"];constructor(n){super(n),this.first=n.first,this.middle=n.middle??this.middle,this.last=n.last,this.name=n.name,this.omitSequenceTags=n.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,o){const i=Et(o),t=await(await yn(i))?.handleChainStart(this.toJSON(),ur(n,"input"),i.runId,void 0,void 0,void 0,i?.runName);delete i.runId;let r=n,a;try{const s=[this.first,...this.middle];for(let l=0;l<s.length;l+=1){const m=s[l].invoke(r,Vt(i,{callbacks:t?.getChild(this.omitSequenceTags?void 0:`seq:step:${l+1}`)}));r=await rc(m,o?.signal)}if(o?.signal?.aborted)throw yb(o.signal);a=await this.last.invoke(r,Vt(i,{callbacks:t?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(s){throw await t?.handleChainError(s),s}return await t?.handleChainEnd(ur(a,"output")),a}async batch(n,o,i){const u=this._getOptionsList(o??{},n.length),t=await Promise.all(u.map(yn)),r=await Promise.all(t.map(async(s,l)=>{const f=await s?.handleChainStart(this.toJSON(),ur(n[l],"input"),u[l].runId,void 0,void 0,void 0,u[l].runName);return delete u[l].runId,f}));let a=n;try{for(let s=0;s<this.steps.length;s+=1){const f=this.steps[s].batch(a,r.map((m,b)=>{const _=m?.getChild(this.omitSequenceTags?void 0:`seq:step:${s+1}`);return Vt(u[b],{callbacks:_})}),i);a=await rc(f,u[0]?.signal)}}catch(s){throw await Promise.all(r.map(l=>l?.handleChainError(s))),s}return await Promise.all(r.map(s=>s?.handleChainEnd(ur(a,"output")))),a}_concatOutputChunks(n,o){return this.last._concatOutputChunks(n,o)}async*_streamIterator(n,o){const i=await yn(o),{runId:u,...t}=o??{},r=await i?.handleChainStart(this.toJSON(),ur(n,"input"),u,void 0,void 0,void 0,t?.runName),a=[this.first,...this.middle,this.last];let s=!0,l;async function*f(){yield n}try{let m=a[0].transform(f(),Vt(t,{callbacks:r?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let b=1;b<a.length;b+=1)m=await a[b].transform(m,Vt(t,{callbacks:r?.getChild(this.omitSequenceTags?void 0:`seq:step:${b+1}`)}));for await(const b of m)if(o?.signal?.throwIfAborted(),yield b,s)if(l===void 0)l=b;else try{l=this._concatOutputChunks(l,b)}catch{l=void 0,s=!1}}catch(m){throw await r?.handleChainError(m),m}await r?.handleChainEnd(ur(l,"output"))}getGraph(n){const o=new SM;let i=null;return this.steps.forEach((u,t)=>{const r=u.getGraph(n);t!==0&&r.trimFirstNode(),t!==this.steps.length-1&&r.trimLastNode(),o.extend(r);const a=r.firstNode();if(!a)throw new Error(`Runnable ${u} has no first node`);i&&o.addEdge(i,a),i=r.lastNode()}),o}pipe(n){return Pm.isRunnableSequence(n)?new Pm({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last,name:this.name??n.name}):new Pm({first:this.first,middle:[...this.middle,this.last],last:rl(n),name:this.name})}static isRunnableSequence(n){return Array.isArray(n.middle)&&qt.isRunnable(n)}static from([n,...o],i){let u={};return typeof i=="string"?u.name=i:i!==void 0&&(u=i),new Pm({...u,first:rl(n),middle:o.slice(0,-1).map(rl),last:rl(o[o.length-1])})}},hp=class TH extends qt{static lc_name(){return"RunnableMap"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;steps;getStepsKeys(){return Object.keys(this.steps)}constructor(n){super(n),this.steps={};for(const[o,i]of Object.entries(n.steps))this.steps[o]=rl(i)}static from(n){return new TH({steps:n})}async invoke(n,o){const i=Et(o),t=await(await yn(i))?.handleChainStart(this.toJSON(),{input:n},i.runId,void 0,void 0,void 0,i?.runName);delete i.runId;const r={};try{const a=Object.entries(this.steps).map(async([s,l])=>{r[s]=await l.invoke(n,Vt(i,{callbacks:t?.getChild(`map:key:${s}`)}))});await rc(Promise.all(a),o?.signal)}catch(a){throw await t?.handleChainError(a),a}return await t?.handleChainEnd(r),r}async*_transform(n,o,i){const u={...this.steps},t=vM(n,Object.keys(u).length),r=new Map(Object.entries(u).map(([a,s],l)=>{const f=s.transform(t[l],Vt(i,{callbacks:o?.getChild(`map:key:${a}`)}));return[a,f.next().then(m=>({key:a,gen:f,result:m}))]}));for(;r.size;){const a=Promise.race(r.values()),{key:s,result:l,gen:f}=await rc(a,i?.signal);r.delete(s),l.done||(yield{[s]:l.value},r.set(s,f.next().then(m=>({key:s,gen:f,result:m}))))}}transform(n,o){return this._transformStreamWithConfig(n,this._transform.bind(this),o)}async stream(n,o){async function*i(){yield n}const u=Et(o),t=new Hf({generator:this.transform(i(),u),config:u});return await t.setup,il.fromAsyncGenerator(t)}},Ese=class MH extends qt{lc_serializable=!1;lc_namespace=["langchain_core","runnables"];func;constructor(n){if(super(n),!yM(n.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=n.func}async invoke(n,o){const[i]=this._getOptionsList(o??{},1),u=await yn(i),t=this.func(Vt(i,{callbacks:u}),n);return rc(t,i?.signal)}async*_streamIterator(n,o){const[i]=this._getOptionsList(o??{},1),u=await this.invoke(n,o);if(pT(u)){for await(const t of u)i?.signal?.throwIfAborted(),yield t;return}if(Ose(u)){for(;;){i?.signal?.throwIfAborted();const t=u.next();if(t.done)break;yield t.value}return}yield u}static from(n){return new MH({func:n})}};function Rse(e){if(yM(e))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var ad=class xH extends qt{static lc_name(){return"RunnableLambda"}lc_namespace=["langchain_core","runnables"];func;constructor(n){if(yM(n.func))return Ese.from(n.func);super(n),Rse(n.func),this.func=n.func}static from(n){return new xH({func:n})}async _invoke(n,o,i){return new Promise((u,t)=>{const r=Vt(o,{callbacks:i?.getChild(),recursionLimit:(o?.recursionLimit??FS)-1});tc.runWithConfig($f(r),async()=>{try{let a=await this.func(n,{...r});if(a&&qt.isRunnable(a)){if(o?.recursionLimit===0)throw new Error("Recursion limit reached.");a=await a.invoke(n,{...r,recursionLimit:(r.recursionLimit??FS)-1})}else if(pT(a)){let s;for await(const l of gT(r,a))if(o?.signal?.throwIfAborted(),s===void 0)s=l;else try{s=this._concatOutputChunks(s,l)}catch{s=l}a=s}else if(Dz(a)){let s;for(const l of Iz(r,a))if(o?.signal?.throwIfAborted(),s===void 0)s=l;else try{s=this._concatOutputChunks(s,l)}catch{s=l}a=s}u(a)}catch(a){t(a)}})})}async invoke(n,o){return this._callWithConfig(this._invoke.bind(this),n,o)}async*_transform(n,o,i){let u;for await(const a of n)if(u===void 0)u=a;else try{u=this._concatOutputChunks(u,a)}catch{u=a}const t=Vt(i,{callbacks:o?.getChild(),recursionLimit:(i?.recursionLimit??FS)-1}),r=await new Promise((a,s)=>{tc.runWithConfig($f(t),async()=>{try{const l=await this.func(u,{...t,config:t});a(l)}catch(l){s(l)}})});if(r&&qt.isRunnable(r)){if(i?.recursionLimit===0)throw new Error("Recursion limit reached.");const a=await r.stream(u,t);for await(const s of a)yield s}else if(pT(r))for await(const a of gT(t,r))i?.signal?.throwIfAborted(),yield a;else if(Dz(r))for(const a of Iz(t,r))i?.signal?.throwIfAborted(),yield a;else yield r}transform(n,o){return this._transformStreamWithConfig(n,this._transform.bind(this),o)}async stream(n,o){async function*i(){yield n}const u=Et(o),t=new Hf({generator:this.transform(i(),u),config:u});return await t.setup,il.fromAsyncGenerator(t)}},jse=class extends hp{},PH=class extends qt{static lc_name(){return"RunnableWithFallbacks"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnable;fallbacks;constructor(e){super(e),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const o=Et(n),i=await yn(o),{runId:u,...t}=o,r=await i?.handleChainStart(this.toJSON(),ur(e,"input"),u,void 0,void 0,void 0,t?.runName),a=Vt(t,{callbacks:r?.getChild()});return await tc.runWithConfig(a,async()=>{let l;for(const f of this.runnables()){o?.signal?.throwIfAborted();try{const m=await f.invoke(e,a);return await r?.handleChainEnd(ur(m,"output")),m}catch(m){l===void 0&&(l=m)}}throw l===void 0?new Error("No error stored at end of fallback."):(await r?.handleChainError(l),l)})}async*_streamIterator(e,n){const o=Et(n),i=await yn(o),{runId:u,...t}=o,r=await i?.handleChainStart(this.toJSON(),ur(e,"input"),u,void 0,void 0,void 0,t?.runName);let a,s;for(const f of this.runnables()){o?.signal?.throwIfAborted();const m=Vt(t,{callbacks:r?.getChild()});try{const b=await f.stream(e,m);s=gT(m,b);break}catch(b){a===void 0&&(a=b)}}if(s===void 0){const f=a??new Error("No error stored at end of fallback.");throw await r?.handleChainError(f),f}let l;try{for await(const f of s){yield f;try{l=l===void 0?l:this._concatOutputChunks(l,f)}catch{l=void 0}}}catch(f){throw await r?.handleChainError(f),f}await r?.handleChainEnd(ur(l,"output"))}async batch(e,n,o){if(o?.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),u=await Promise.all(i.map(a=>yn(a))),t=await Promise.all(u.map(async(a,s)=>{const l=await a?.handleChainStart(this.toJSON(),ur(e[s],"input"),i[s].runId,void 0,void 0,void 0,i[s].runName);return delete i[s].runId,l}));let r;for(const a of this.runnables()){i[0].signal?.throwIfAborted();try{const s=await a.batch(e,t.map((l,f)=>Vt(i[f],{callbacks:l?.getChild()})),o);return await Promise.all(t.map((l,f)=>l?.handleChainEnd(ur(s[f],"output")))),s}catch(s){r===void 0&&(r=s)}}throw r?(await Promise.all(t.map(a=>a?.handleChainError(r))),r):new Error("No error stored at end of fallbacks.")}};function rl(e){if(typeof e=="function")return new ad({func:e});if(qt.isRunnable(e))return e;if(!Array.isArray(e)&&typeof e=="object"){const n={};for(const[o,i]of Object.entries(e))n[o]=rl(i);return new hp({steps:n})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var RM=class extends qt{static lc_name(){return"RunnableAssign"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;mapper;constructor(e){e instanceof hp&&(e={mapper:e}),super(e),this.mapper=e.mapper}async invoke(e,n){const o=await this.mapper.invoke(e,n);return{...e,...o}}async*_transform(e,n,o){const i=this.mapper.getStepsKeys(),[u,t]=vM(e),r=this.mapper.transform(t,Vt(o,{callbacks:n?.getChild()})),a=r.next();for await(const s of u){if(typeof s!="object"||Array.isArray(s))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof s}`);const l=Object.fromEntries(Object.entries(s).filter(([f])=>!i.includes(f)));Object.keys(l).length>0&&(yield l)}yield(await a).value;for await(const s of r)yield s}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*o(){yield e}const i=Et(n),u=new Hf({generator:this.transform(o(),i),config:i});return await u.setup,il.fromAsyncGenerator(u)}},AH=class extends qt{static lc_name(){return"RunnablePick"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;keys;constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(o=>[o,e[o]]).filter(o=>o[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const o=await this._pick(n);o!==void 0&&(yield o)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*o(){yield e}const i=Et(n),u=new Hf({generator:this.transform(o(),i),config:i});return await u.setup,il.fromAsyncGenerator(u)}},mT=class extends Ff{name;description;schema;constructor(e){const n=g_.from([ad.from(async o=>{let i;if(RG(o))try{i=await KT(this.schema,o.args)}catch{throw new Ene("Received tool input did not match expected schema",JSON.stringify(o.args))}else i=o;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function Cse(e,n){const o=n.name??e.getName(),i=n.description??kT(n.schema);return JV(n.schema)?new mT({name:o,description:i,schema:ZT({input:JT()}).transform(u=>u.input),bound:e}):new mT({name:o,description:i,schema:n.schema,bound:e})}const wb=(e,n)=>{const o=[...new Set(n?.map(u=>{if(typeof u=="string")return u;const t=new u({});if(!("getType"in t)||typeof t.getType!="function")throw new Error("Invalid type provided.");return t.getType()}))],i=e.getType();return o.some(u=>u===i)};function Tse(e,n){return Array.isArray(e)?zz(e,n):ad.from(o=>zz(o,e))}function zz(e,n={}){const{includeNames:o,excludeNames:i,includeTypes:u,excludeTypes:t,includeIds:r,excludeIds:a}=n,s=[];for(const l of e)if(!(i&&l.name&&i.includes(l.name))){{if(t&&wb(l,t))continue;if(a&&l.id&&a.includes(l.id))continue}u||r||o?(o&&l.name&&o.some(f=>f===l.name)||u&&wb(l,u)||r&&l.id&&r.some(f=>f===l.id))&&s.push(l):s.push(l)}return s}function Mse(e){return Array.isArray(e)?qz(e):ad.from(qz)}function qz(e){if(!e.length)return[];const n=[];for(const o of e){const i=o,u=n.pop();if(!u)n.push(i);else if(i.getType()==="tool"||i.getType()!==u.getType())n.push(u,i);else{const t=gb(u),r=gb(i),a=t.concat(r);typeof t.content=="string"&&typeof r.content=="string"&&(a.content=`${t.content}
${r.content}`),n.push(Ase(a))}}return n}function xse(e,n){if(Array.isArray(e)){const o=e;if(!n)throw new Error("Options parameter is required when providing messages.");return Bz(o,n)}else{const o=e;return ad.from(i=>Bz(i,o)).withConfig({runName:"trim_messages"})}}async function Bz(e,n){const{maxTokens:o,tokenCounter:i,strategy:u="last",allowPartial:t=!1,endOn:r,startOn:a,includeSystem:s=!1,textSplitter:l}=n;if(a&&u==="first")throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(s&&u==="first")throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let f;"getNumTokens"in i?f=async b=>(await Promise.all(b.map(p=>i.getNumTokens(p.content)))).reduce((p,y)=>p+y,0):f=async b=>i(b);let m=DH;if(l&&("splitText"in l?m=l.splitText:m=async b=>l(b)),u==="first")return NH(e,{maxTokens:o,tokenCounter:f,textSplitter:m,partialStrategy:t?"first":void 0,endOn:r});if(u==="last")return Pse(e,{maxTokens:o,tokenCounter:f,textSplitter:m,allowPartial:t,includeSystem:s,startOn:a,endOn:r});throw new Error(`Unrecognized strategy: '${u}'. Must be one of 'first' or 'last'.`)}async function NH(e,n){const{maxTokens:o,tokenCounter:i,textSplitter:u,partialStrategy:t,endOn:r}=n;let a=[...e],s=0;for(let l=0;l<a.length;l+=1){const f=l>0?a.slice(0,-l):a;if(await i(f)<=o){s=a.length-l;break}}if(s<a.length&&t){let l=!1;if(Array.isArray(a[s].content)){const f=a[s];if(typeof f.content=="string")throw new Error("Expected content to be an array.");const m=f.content.length,b=t==="last"?[...f.content].reverse():f.content;for(let _=1;_<=m;_+=1){const p=t==="first"?b.slice(0,_):b.slice(-_),y=Object.fromEntries(Object.entries(f).filter(([R])=>R!=="type"&&!R.startsWith("lc_"))),v=jM(f.getType(),{...y,content:p}),S=[...a.slice(0,s),v];if(await i(S)<=o)a=S,s+=1,l=!0;else break}l&&t==="last"&&(f.content=[...b].reverse())}if(!l){const f=a[s];let m;if(Array.isArray(f.content)&&f.content.some(b=>typeof b=="string"||b.type==="text")?m=f.content.find(_=>_.type==="text"&&_.text)?.text:typeof f.content=="string"&&(m=f.content),m){const b=await u(m),_=b.length;t==="last"&&b.reverse();for(let p=0;p<_-1;p+=1)if(b.pop(),f.content=b.join(""),await i([...a.slice(0,s),f])<=o){t==="last"&&(f.content=[...b].reverse().join("")),a=[...a.slice(0,s),f],s+=1;break}}}}if(r){const l=Array.isArray(r)?r:[r];for(;s>0&&!wb(a[s-1],l);)s-=1}return a.slice(0,s)}async function Pse(e,n){const{allowPartial:o=!1,includeSystem:i=!1,endOn:u,startOn:t,...r}=n;let a=e.map(f=>{const m=Object.fromEntries(Object.entries(f).filter(([b])=>b!=="type"&&!b.startsWith("lc_")));return jM(f.getType(),m,nM(f))});if(u){const f=Array.isArray(u)?u:[u];for(;a.length>0&&!wb(a[a.length-1],f);)a=a.slice(0,-1)}const s=i&&a[0]?.getType()==="system";let l=s?a.slice(0,1).concat(a.slice(1).reverse()):a.reverse();return l=await NH(l,{...r,partialStrategy:o?"last":void 0,endOn:t}),s?[l[0],...l.slice(1).reverse()]:l.reverse()}const Lz={human:{message:It,messageChunk:c_},ai:{message:Sr,messageChunk:Bn},system:{message:lr,messageChunk:td},developer:{message:lr,messageChunk:td},tool:{message:cp,messageChunk:s_},function:{message:Nb,messageChunk:l_},generic:{message:ac,messageChunk:u_},remove:{message:pb,messageChunk:pb}};function jM(e,n,o){let i,u;switch(e){case"human":o?i=new c_(n):u=new It(n);break;case"ai":if(o){let t={...n};"tool_calls"in t&&(t={...t,tool_call_chunks:t.tool_calls?.map(r=>({...r,type:"tool_call_chunk",index:void 0,args:JSON.stringify(r.args)}))}),i=new Bn(t)}else u=new Sr(n);break;case"system":o?i=new td(n):u=new lr(n);break;case"developer":o?i=new td({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}}):u=new lr({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in n)o?i=new s_(n):u=new cp(n);else throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(o)i=new l_(n);else{if(!n.name)throw new Error("FunctionMessage must have a 'name' field");u=new Nb(n)}break;case"generic":if("role"in n)o?i=new u_(n):u=new ac(n);else throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw new Error(`Unrecognized message type ${e}`)}if(o&&i)return i;if(u)return u;throw new Error(`Unrecognized message type ${e}`)}function Ase(e){const n=e.getType();let o;const i=Object.fromEntries(Object.entries(e).filter(([u])=>!["type","tool_call_chunks"].includes(u)&&!u.startsWith("lc_")));if(n in Lz&&(o=jM(n,i)),!o)throw new Error(`Unrecognized message chunk class ${n}. Supported classes are ${Object.keys(Lz)}`);return o}function DH(e){const n=e.split(`
`);return Promise.resolve([...n.slice(0,-1).map(o=>`${o}
`),n[n.length-1]])}const Nse=["tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result"],Dse=["image","video","audio","text-plain","file"],Ise=["text","reasoning",...Nse,...Dse];var zse={};ct(zse,{AIMessage:()=>Sr,AIMessageChunk:()=>Bn,BaseMessage:()=>qn,BaseMessageChunk:()=>nd,ChatMessage:()=>ac,ChatMessageChunk:()=>u_,FunctionMessage:()=>Nb,FunctionMessageChunk:()=>l_,HumanMessage:()=>It,HumanMessageChunk:()=>c_,KNOWN_BLOCK_TYPES:()=>Ise,RemoveMessage:()=>pb,SystemMessage:()=>lr,SystemMessageChunk:()=>td,ToolMessage:()=>cp,ToolMessageChunk:()=>s_,_isMessageFieldWithRole:()=>wG,_mergeDicts:()=>Rr,_mergeLists:()=>o_,_mergeObj:()=>vG,_mergeStatus:()=>yG,coerceMessageLikeToMessage:()=>kc,collapseToolCallChunks:()=>xG,convertToChunk:()=>gb,convertToOpenAIImageBlock:()=>fG,convertToProviderContentBlock:()=>Yre,defaultTextSplitter:()=>DH,defaultToolCallParser:()=>aM,filterMessages:()=>Tse,getBufferString:()=>sM,iife:()=>Fne,isAIMessage:()=>Kc,isAIMessageChunk:()=>Q1,isBase64ContentBlock:()=>XT,isBaseMessage:()=>Yl,isBaseMessageChunk:()=>nM,isChatMessage:()=>jne,isChatMessageChunk:()=>Cne,isDataContentBlock:()=>ed,isDirectToolOutput:()=>OG,isFunctionMessage:()=>Tne,isFunctionMessageChunk:()=>Mne,isHumanMessage:()=>xne,isHumanMessageChunk:()=>Pne,isIDContentBlock:()=>dG,isMessage:()=>_G,isOpenAIToolCallArray:()=>One,isPlainTextContentBlock:()=>Kre,isSystemMessage:()=>Ane,isSystemMessageChunk:()=>Nne,isToolMessage:()=>SG,isToolMessageChunk:()=>EG,isURLContentBlock:()=>QT,mapChatMessagesToStoredMessages:()=>kne,mapStoredMessageToChatMessage:()=>uM,mapStoredMessagesToChatMessages:()=>Kne,mergeContent:()=>ec,mergeMessageRuns:()=>Mse,mergeResponseMetadata:()=>TG,mergeUsageMetadata:()=>oM,parseBase64DataUrl:()=>W1,parseMimeType:()=>kre,trimMessages:()=>xse});var qse={};ct(qse,{BasePromptValue:()=>Ub,ChatPromptValue:()=>TM,ImagePromptValue:()=>IH,StringPromptValue:()=>CM});var Ub=class extends Uf{},CM=class extends Ub{static lc_name(){return"StringPromptValue"}lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;value;constructor(e){super({value:e}),this.value=e}toString(){return this.value}toChatMessages(){return[new It(this.value)]}},TM=class extends Ub{lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;static lc_name(){return"ChatPromptValue"}messages;constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),this.messages=e.messages}toString(){return sM(this.messages)}toChatMessages(){return this.messages}},IH=class extends Ub{lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;static lc_name(){return"ImagePromptValue"}imageUrl;value;constructor(e){"imageUrl"in e||(e={imageUrl:e}),super(e),this.imageUrl=e.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new It({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},Ke="0123456789abcdef".split(""),Bse=[-2147483648,8388608,32768,128],Wn=[24,16,8,0],nv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],pr=[];function ol(e,n){n?(pr[0]=pr[16]=pr[1]=pr[2]=pr[3]=pr[4]=pr[5]=pr[6]=pr[7]=pr[8]=pr[9]=pr[10]=pr[11]=pr[12]=pr[13]=pr[14]=pr[15]=0,this.blocks=pr):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}ol.prototype.update=function(e){if(!this.finalized){var n,o=typeof e;if(o!=="string"){if(o==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);n=!0}for(var i,u=0,t,r=e.length,a=this.blocks;u<r;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,this.block=a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),n)for(t=this.start;u<r&&t<64;++u)a[t>>>2]|=e[u]<<Wn[t++&3];else for(t=this.start;u<r&&t<64;++u)i=e.charCodeAt(u),i<128?a[t>>>2]|=i<<Wn[t++&3]:i<2048?(a[t>>>2]|=(192|i>>>6)<<Wn[t++&3],a[t>>>2]|=(128|i&63)<<Wn[t++&3]):i<55296||i>=57344?(a[t>>>2]|=(224|i>>>12)<<Wn[t++&3],a[t>>>2]|=(128|i>>>6&63)<<Wn[t++&3],a[t>>>2]|=(128|i&63)<<Wn[t++&3]):(i=65536+((i&1023)<<10|e.charCodeAt(++u)&1023),a[t>>>2]|=(240|i>>>18)<<Wn[t++&3],a[t>>>2]|=(128|i>>>12&63)<<Wn[t++&3],a[t>>>2]|=(128|i>>>6&63)<<Wn[t++&3],a[t>>>2]|=(128|i&63)<<Wn[t++&3]);this.lastByteIndex=t,this.bytes+=t-this.start,t>=64?(this.block=a[16],this.start=t-64,this.hash(),this.hashed=!0):this.start=t}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};ol.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,n=this.lastByteIndex;e[16]=this.block,e[n>>>2]|=Bse[n&3],this.block=e[16],n>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}};ol.prototype.hash=function(){var e=this.h0,n=this.h1,o=this.h2,i=this.h3,u=this.h4,t=this.h5,r=this.h6,a=this.h7,s=this.blocks,l,f,m,b,_,p,y,v,S,R,j;for(l=16;l<64;++l)_=s[l-15],f=(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3,_=s[l-2],m=(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10,s[l]=s[l-16]+f+s[l-7]+m<<0;for(j=n&o,l=0;l<64;l+=4)this.first?(this.is224?(v=300032,_=s[0]-1413257819,a=_-150054599<<0,i=_+24177077<<0):(v=704751109,_=s[0]-210244248,a=_-1521486534<<0,i=_+143694565<<0),this.first=!1):(f=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),m=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),v=e&n,b=v^e&o^j,y=u&t^~u&r,_=a+m+y+nv[l]+s[l],p=f+b,a=i+_<<0,i=_+p<<0),f=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),m=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),S=i&e,b=S^i&n^v,y=r&a^~r&u,_=t+m+y+nv[l+1]+s[l+1],p=f+b,r=o+_<<0,o=_+p<<0,f=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),m=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),R=o&i,b=R^o&e^S,y=t&r^~t&a,_=u+m+y+nv[l+2]+s[l+2],p=f+b,t=n+_<<0,n=_+p<<0,f=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),m=(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),j=n&o,b=j^n&i^R,y=t&r^~t&a,_=u+m+y+nv[l+3]+s[l+3],p=f+b,u=e+_<<0,e=_+p<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+e<<0,this.h1=this.h1+n<<0,this.h2=this.h2+o<<0,this.h3=this.h3+i<<0,this.h4=this.h4+u<<0,this.h5=this.h5+t<<0,this.h6=this.h6+r<<0,this.h7=this.h7+a<<0};ol.prototype.hex=function(){this.finalize();var e=this.h0,n=this.h1,o=this.h2,i=this.h3,u=this.h4,t=this.h5,r=this.h6,a=this.h7,s=Ke[e>>>28&15]+Ke[e>>>24&15]+Ke[e>>>20&15]+Ke[e>>>16&15]+Ke[e>>>12&15]+Ke[e>>>8&15]+Ke[e>>>4&15]+Ke[e&15]+Ke[n>>>28&15]+Ke[n>>>24&15]+Ke[n>>>20&15]+Ke[n>>>16&15]+Ke[n>>>12&15]+Ke[n>>>8&15]+Ke[n>>>4&15]+Ke[n&15]+Ke[o>>>28&15]+Ke[o>>>24&15]+Ke[o>>>20&15]+Ke[o>>>16&15]+Ke[o>>>12&15]+Ke[o>>>8&15]+Ke[o>>>4&15]+Ke[o&15]+Ke[i>>>28&15]+Ke[i>>>24&15]+Ke[i>>>20&15]+Ke[i>>>16&15]+Ke[i>>>12&15]+Ke[i>>>8&15]+Ke[i>>>4&15]+Ke[i&15]+Ke[u>>>28&15]+Ke[u>>>24&15]+Ke[u>>>20&15]+Ke[u>>>16&15]+Ke[u>>>12&15]+Ke[u>>>8&15]+Ke[u>>>4&15]+Ke[u&15]+Ke[t>>>28&15]+Ke[t>>>24&15]+Ke[t>>>20&15]+Ke[t>>>16&15]+Ke[t>>>12&15]+Ke[t>>>8&15]+Ke[t>>>4&15]+Ke[t&15]+Ke[r>>>28&15]+Ke[r>>>24&15]+Ke[r>>>20&15]+Ke[r>>>16&15]+Ke[r>>>12&15]+Ke[r>>>8&15]+Ke[r>>>4&15]+Ke[r&15];return this.is224||(s+=Ke[a>>>28&15]+Ke[a>>>24&15]+Ke[a>>>20&15]+Ke[a>>>16&15]+Ke[a>>>12&15]+Ke[a>>>8&15]+Ke[a>>>4&15]+Ke[a&15]),s};ol.prototype.toString=ol.prototype.hex;ol.prototype.digest=function(){this.finalize();var e=this.h0,n=this.h1,o=this.h2,i=this.h3,u=this.h4,t=this.h5,r=this.h6,a=this.h7,s=[e>>>24&255,e>>>16&255,e>>>8&255,e&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255,o>>>24&255,o>>>16&255,o>>>8&255,o&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255];return this.is224||s.push(a>>>24&255,a>>>16&255,a>>>8&255,a&255),s};ol.prototype.array=ol.prototype.digest;ol.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),n=new DataView(e);return n.setUint32(0,this.h0),n.setUint32(4,this.h1),n.setUint32(8,this.h2),n.setUint32(12,this.h3),n.setUint32(16,this.h4),n.setUint32(20,this.h5),n.setUint32(24,this.h6),this.is224||n.setUint32(28,this.h7),e};const zH=(...e)=>new ol(!1,!0).update(e.join("")).hex();var Lse={};ct(Lse,{sha256:()=>zH});var Use={};ct(Use,{BaseCache:()=>BH,InMemoryCache:()=>LH,defaultHashKeyEncoder:()=>qH,deserializeStoredGeneration:()=>$se,serializeGeneration:()=>Fse});const qH=(...e)=>zH(e.join("_"));function $se(e){return e.message!==void 0?{text:e.text,message:uM(e.message)}:{text:e.text}}function Fse(e){const n={text:e.text};return e.message!==void 0&&(n.message=e.message.toDict()),n}var BH=class{keyEncoder=qH;makeDefaultKeyEncoder(e){this.keyEncoder=e}};const Vse=new Map;var LH=class UH extends BH{cache;constructor(n){super(),this.cache=n??new Map}lookup(n,o){return Promise.resolve(this.cache.get(this.keyEncoder(n,o))??null)}async update(n,o,i){this.cache.set(this.keyEncoder(n,o),i)}static global(){return new UH(Vse)}},cg={},Uz;function $H(){if(Uz)return cg;Uz=1,cg.byteLength=a,cg.toByteArray=l,cg.fromByteArray=b;for(var e=[],n=[],o=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,t=i.length;u<t;++u)e[u]=i[u],n[i.charCodeAt(u)]=u;n[45]=62,n[95]=63;function r(_){var p=_.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=_.indexOf("=");y===-1&&(y=p);var v=y===p?0:4-y%4;return[y,v]}function a(_){var p=r(_),y=p[0],v=p[1];return(y+v)*3/4-v}function s(_,p,y){return(p+y)*3/4-y}function l(_){var p,y=r(_),v=y[0],S=y[1],R=new o(s(_,v,S)),j=0,A=S>0?v-4:v,x;for(x=0;x<A;x+=4)p=n[_.charCodeAt(x)]<<18|n[_.charCodeAt(x+1)]<<12|n[_.charCodeAt(x+2)]<<6|n[_.charCodeAt(x+3)],R[j++]=p>>16&255,R[j++]=p>>8&255,R[j++]=p&255;return S===2&&(p=n[_.charCodeAt(x)]<<2|n[_.charCodeAt(x+1)]>>4,R[j++]=p&255),S===1&&(p=n[_.charCodeAt(x)]<<10|n[_.charCodeAt(x+1)]<<4|n[_.charCodeAt(x+2)]>>2,R[j++]=p>>8&255,R[j++]=p&255),R}function f(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function m(_,p,y){for(var v,S=[],R=p;R<y;R+=3)v=(_[R]<<16&16711680)+(_[R+1]<<8&65280)+(_[R+2]&255),S.push(f(v));return S.join("")}function b(_){for(var p,y=_.length,v=y%3,S=[],R=16383,j=0,A=y-v;j<A;j+=R)S.push(m(_,j,j+R>A?A:j+R));return v===1?(p=_[y-1],S.push(e[p>>2]+e[p<<4&63]+"==")):v===2&&(p=(_[y-2]<<8)+_[y-1],S.push(e[p>>10]+e[p>>4&63]+e[p<<2&63]+"=")),S.join("")}return cg}var Gse=$H();const Hse=a_(Gse);var Kse=Object.defineProperty,kse=(e,n,o)=>n in e?Kse(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,Yse=(e,n,o)=>(kse(e,n+"",o),o);function Wse(e,n){let o=Array.from({length:e.length},(i,u)=>({start:u,end:u+1}));for(;o.length>1;){let i=null;for(let u=0;u<o.length-1;u++){const t=e.slice(o[u].start,o[u+1].end),r=n.get(t.join(","));r!=null&&(i==null||r<i[0])&&(i=[r,u])}if(i!=null){const u=i[1];o[u]={start:o[u].start,end:o[u+1].end},o.splice(u+1,1)}else break}return o}function Jse(e,n){return e.length===1?[n.get(e.join(","))]:Wse(e,n).map(o=>n.get(e.slice(o.start,o.end).join(","))).filter(o=>o!=null)}function Zse(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var _T=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,n){this.patStr=e.pat_str;const o=e.bpe_ranks.split(`
`).filter(Boolean).reduce((i,u)=>{const[t,r,...a]=u.split(" "),s=Number.parseInt(r,10);return a.forEach((l,f)=>i[l]=s+f),i},{});for(const[i,u]of Object.entries(o)){const t=Hse.toByteArray(i);this.rankMap.set(t.join(","),u),this.textMap.set(u,t)}this.specialTokens={...e.special_tokens,...n},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((i,[u,t])=>(i[t]=this.textEncoder.encode(u),i),{})}encode(e,n=[],o="all"){const i=new RegExp(this.patStr,"ug"),u=_T.specialTokenRegex(Object.keys(this.specialTokens)),t=[],r=new Set(n==="all"?Object.keys(this.specialTokens):n),a=new Set(o==="all"?Object.keys(this.specialTokens).filter(l=>!r.has(l)):o);if(a.size>0){const l=_T.specialTokenRegex([...a]),f=e.match(l);if(f!=null)throw new Error(`The text contains a special token that is not allowed: ${f[0]}`)}let s=0;for(;;){let l=null,f=s;for(;u.lastIndex=f,l=u.exec(e),!(l==null||r.has(l[0]));)f=l.index+1;const m=l?.index??e.length;for(const _ of e.substring(s,m).matchAll(i)){const p=this.textEncoder.encode(_[0]),y=this.rankMap.get(p.join(","));if(y!=null){t.push(y);continue}t.push(...Jse(p,this.rankMap))}if(l==null)break;let b=this.specialTokens[l[0]];t.push(b),s=l.index+l[0].length}return t}decode(e){const n=[];let o=0;for(let t=0;t<e.length;++t){const r=e[t],a=this.textMap.get(r)??this.inverseSpecialTokens[r];a!=null&&(n.push(a),o+=a.length)}const i=new Uint8Array(o);let u=0;for(const t of n)i.set(t,u),u+=t.length;return this.textDecoder.decode(i)}},FH=_T;Yse(FH,"specialTokenRegex",e=>new RegExp(e.map(n=>Zse(n)).join("|"),"g"));function Qse(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}var Xse={};ct(Xse,{encodingForModel:()=>MM,getEncoding:()=>VH});const av={},eue=new p_({});async function VH(e){return e in av||(av[e]=eue.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then(n=>n.json()).then(n=>new FH(n)).catch(n=>{throw delete av[e],n})),await av[e]}async function MM(e){return VH(Qse(e))}var tue={};ct(tue,{BaseLangChain:()=>KH,BaseLanguageModel:()=>xM,calculateMaxTokens:()=>nue,getEmbeddingContextSize:()=>rue,getModelContextSize:()=>GH,getModelNameForTiktoken:()=>$b,isOpenAITool:()=>HH});const $b=e=>e.startsWith("gpt-5")?"gpt-5":e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e,rue=e=>e==="text-embedding-ada-002"?8191:2046,GH=e=>{switch($b(e)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":return 128e3;case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"code-cushman-001":return 2048;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6;case"gemini-pro":case"gemini-pro-vision":return 32768;default:return 4097}};function HH(e){return typeof e!="object"||!e?!1:!!("type"in e&&e.type==="function"&&"function"in e&&typeof e.function=="object"&&e.function&&"name"in e.function&&"parameters"in e.function)}const nue=async({prompt:e,modelName:n})=>{let o;try{o=(await MM($b(n))).encode(e).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),o=Math.ceil(e.length/4)}return GH(n)-o},aue=()=>!1;var KH=class extends qt{verbose;callbacks;tags;metadata;get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),this.verbose=e.verbose??aue(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}},xM=class extends KH{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}caller;cache;constructor({callbacks:e,callbackManager:n,...o}){const{cache:i,...u}=o;super({callbacks:e??n,...u}),typeof i=="object"?this.cache=i:i?this.cache=LH.global():this.cache=void 0,this.caller=new p_(o??{})}_encoding;async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let o=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await MM("modelName"in this?$b(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{o=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return o}static _convertInputToPromptValue(e){return typeof e=="string"?new CM(e):Array.isArray(e)?new TM(e.map(kc)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const o={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(o).filter(([t,r])=>r!==void 0).map(([t,r])=>`${t}:${JSON.stringify(r)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}get profile(){return{}}},ip=class extends qt{static lc_name(){return"RunnablePassthrough"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;func;constructor(e){super(e),e&&(this.func=e.func)}async invoke(e,n){const o=Et(n);return this.func&&await this.func(e,o),this._callWithConfig(i=>Promise.resolve(i),e,o)}async*transform(e,n){const o=Et(n);let i,u=!0;for await(const t of this._transformStreamWithConfig(e,r=>r,o))if(yield t,u)if(i===void 0)i=t;else try{i=rd(i,t)}catch{i=void 0,u=!1}this.func&&i!==void 0&&await this.func(i,o)}static assign(e){return new RM(new hp({steps:e}))}};const iue=e=>e();function HS(e){const n=e.constructor;return new n({...e,content:e.contentBlocks,response_metadata:{...e.response_metadata,output_version:"v1"}})}var oue={};ct(oue,{BaseChatModel:()=>Fb,SimpleChatModel:()=>sue});function KS(e){const n=[];for(const o of e){let i=o;if(Array.isArray(o.content))for(let u=0;u<o.content.length;u++){const t=o.content[u];(QT(t)||XT(t))&&i===o&&(i=new o.constructor({...i,content:[...o.content.slice(0,u),fG(t),...o.content.slice(u+1)]}))}n.push(i)}return n}var Fb=class Nf extends xM{lc_namespace=["langchain","chat_models",this._llmType()];disableStreaming=!1;outputVersion;get callKeys(){return[...super.callKeys,"outputVersion"]}constructor(n){super(n),this.outputVersion=iue(()=>{const o=n.outputVersion??wl("LC_OUTPUT_VERSION");return o&&["v0","v1"].includes(o)?o:"v0"})}_separateRunnableConfigFromCallOptionsCompat(n){const[o,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=o.signal,[o,i]}async invoke(n,o){const i=Nf._convertInputToPromptValue(n);return(await this.generatePrompt([i],o,o?.callbacks)).generations[0][0].message}async*_streamResponseChunks(n,o,i){throw new Error("Not implemented.")}async*_streamIterator(n,o){if(this._streamResponseChunks===Nf.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(n,o);else{const u=Nf._convertInputToPromptValue(n).toChatMessages(),[t,r]=this._separateRunnableConfigFromCallOptionsCompat(o),a={...t.metadata,...this.getLsParams(r)},s=await Yr.configure(t.callbacks,this.callbacks,t.tags,this.tags,a,this.metadata,{verbose:this.verbose}),l={options:r,invocation_params:this?.invocationParams(r),batch_size:1},f=r.outputVersion??this.outputVersion,m=await s?.handleChatModelStart(this.toJSON(),[KS(u)],t.runId,void 0,l,void 0,void 0,t.runName);let b,_;try{for await(const p of this._streamResponseChunks(u,r,m?.[0])){if(p.message.id==null){const y=m?.at(0)?.runId;y!=null&&p.message._updateId(`run-${y}`)}p.message.response_metadata={...p.generationInfo,...p.message.response_metadata},f==="v1"?yield HS(p.message):yield p.message,b?b=b.concat(p):b=p,Q1(p.message)&&p.message.usage_metadata!==void 0&&(_={tokenUsage:{promptTokens:p.message.usage_metadata.input_tokens,completionTokens:p.message.usage_metadata.output_tokens,totalTokens:p.message.usage_metadata.total_tokens}})}}catch(p){throw await Promise.all((m??[]).map(y=>y?.handleLLMError(p))),p}await Promise.all((m??[]).map(p=>p?.handleLLMEnd({generations:[[b]],llmOutput:_})))}}getLsParams(n){const o=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:n.stop,ls_provider:o}}async _generateUncached(n,o,i,u){const t=n.map(b=>b.map(kc));let r;if(u!==void 0&&u.length===t.length)r=u;else{const b={...i.metadata,...this.getLsParams(o)},_=await Yr.configure(i.callbacks,this.callbacks,i.tags,this.tags,b,this.metadata,{verbose:this.verbose}),p={options:o,invocation_params:this?.invocationParams(o),batch_size:1};r=await _?.handleChatModelStart(this.toJSON(),t.map(KS),i.runId,void 0,p,void 0,void 0,i.runName)}const a=o.outputVersion??this.outputVersion,s=[],l=[];if(!!r?.[0].handlers.find(cM)&&!this.disableStreaming&&t.length===1&&this._streamResponseChunks!==Nf.prototype._streamResponseChunks)try{const b=await this._streamResponseChunks(t[0],o,r?.[0]);let _,p;for await(const y of b){if(y.message.id==null){const v=r?.at(0)?.runId;v!=null&&y.message._updateId(`run-${v}`)}_===void 0?_=y:_=rd(_,y),Q1(y.message)&&y.message.usage_metadata!==void 0&&(p={tokenUsage:{promptTokens:y.message.usage_metadata.input_tokens,completionTokens:y.message.usage_metadata.output_tokens,totalTokens:y.message.usage_metadata.total_tokens}})}if(_===void 0)throw new Error("Received empty response from chat model call.");s.push([_]),await r?.[0].handleLLMEnd({generations:s,llmOutput:p})}catch(b){throw await r?.[0].handleLLMError(b),b}else{const b=await Promise.allSettled(t.map(async(_,p)=>{const y=await this._generate(_,{...o,promptIndex:p},r?.[p]);if(a==="v1")for(const v of y.generations)v.message=HS(v.message);return y}));await Promise.all(b.map(async(_,p)=>{if(_.status==="fulfilled"){const y=_.value;for(const v of y.generations){if(v.message.id==null){const S=r?.at(0)?.runId;S!=null&&v.message._updateId(`run-${S}`)}v.message.response_metadata={...v.generationInfo,...v.message.response_metadata}}return y.generations.length===1&&(y.generations[0].message.response_metadata={...y.llmOutput,...y.generations[0].message.response_metadata}),s[p]=y.generations,l[p]=y.llmOutput,r?.[p]?.handleLLMEnd({generations:[y.generations],llmOutput:y.llmOutput})}else return await r?.[p]?.handleLLMError(_.reason),Promise.reject(_.reason)}))}const m={generations:s,llmOutput:l.length?this._combineLLMOutput?.(...l):void 0};return Object.defineProperty(m,Wm,{value:r?{runIds:r?.map(b=>b.runId)}:void 0,configurable:!0}),m}async _generateCached({messages:n,cache:o,llmStringKey:i,parsedOptions:u,handledOptions:t}){const r=n.map(S=>S.map(kc)),a={...t.metadata,...this.getLsParams(u)},s=await Yr.configure(t.callbacks,this.callbacks,t.tags,this.tags,a,this.metadata,{verbose:this.verbose}),l={options:u,invocation_params:this?.invocationParams(u),batch_size:1},f=await s?.handleChatModelStart(this.toJSON(),r.map(KS),t.runId,void 0,l,void 0,void 0,t.runName),m=[],_=(await Promise.allSettled(r.map(async(S,R)=>{const j=Nf._convertInputToPromptValue(S).toString(),A=await o.lookup(j,i);return A==null&&m.push(R),A}))).map((S,R)=>({result:S,runManager:f?.[R]})).filter(({result:S})=>S.status==="fulfilled"&&S.value!=null||S.status==="rejected"),p=u.outputVersion??this.outputVersion,y=[];await Promise.all(_.map(async({result:S,runManager:R},j)=>{if(S.status==="fulfilled"){const A=S.value;return y[j]=A.map(x=>("message"in x&&Yl(x.message)&&Kc(x.message)&&(x.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},p==="v1"&&(x.message=HS(x.message))),x.generationInfo={...x.generationInfo,tokenUsage:{}},x)),A.length&&await R?.handleLLMNewToken(A[0].text),R?.handleLLMEnd({generations:[A]},void 0,void 0,void 0,{cached:!0})}else return await R?.handleLLMError(S.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(S.reason)}));const v={generations:y,missingPromptIndices:m,startedRunManagers:f};return Object.defineProperty(v,Wm,{value:f?{runIds:f?.map(S=>S.runId)}:void 0,configurable:!0}),v}async generate(n,o,i){let u;Array.isArray(o)?u={stop:o}:u=o;const t=n.map(p=>p.map(kc)),[r,a]=this._separateRunnableConfigFromCallOptionsCompat(u);if(r.callbacks=r.callbacks??i,!this.cache)return this._generateUncached(t,a,r);const{cache:s}=this,l=this._getSerializedCacheKeyParametersForCall(a),{generations:f,missingPromptIndices:m,startedRunManagers:b}=await this._generateCached({messages:t,cache:s,llmStringKey:l,parsedOptions:a,handledOptions:r});let _={};if(m.length>0){const p=await this._generateUncached(m.map(y=>t[y]),a,r,b!==void 0?m.map(y=>b?.[y]):void 0);await Promise.all(p.generations.map(async(y,v)=>{const S=m[v];f[S]=y;const R=Nf._convertInputToPromptValue(t[S]).toString();return s.update(R,l,y)})),_=p.llmOutput??{}}return{generations:f,llmOutput:_}}invocationParams(n){return{}}_modelType(){return"base_chat_model"}async generatePrompt(n,o,i){const u=n.map(t=>t.toChatMessages());return this.generate(u,o,i)}withStructuredOutput(n,o){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(o?.strict)throw new Error('"strict" mode is not supported for this model by default.');const i=n,u=o?.name,t=kT(i)??"A function available to call.",r=o?.method,a=o?.includeRaw;if(r==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let s=u??"extract",l;Zc(i)?l=[{type:"function",function:{name:s,description:t,parameters:Xl(i)}}]:("name"in i&&(s=i.name),l=[{type:"function",function:{name:s,description:t,parameters:i}}]);const f=this.bindTools(l),m=ad.from(y=>{if(!Bn.isInstance(y))throw new Error("Input is not an AIMessageChunk.");if(!y.tool_calls||y.tool_calls.length===0)throw new Error("No tool calls found in the response.");const v=y.tool_calls.find(S=>S.name===s);if(!v)throw new Error(`No tool call found with name ${s}.`);return v.args});if(!a)return f.pipe(m).withConfig({runName:"StructuredOutput"});const b=ip.assign({parsed:(y,v)=>m.invoke(y.raw,v)}),_=ip.assign({parsed:()=>null}),p=b.withFallbacks({fallbacks:[_]});return g_.from([{raw:f},p]).withConfig({runName:"StructuredOutputRunnable"})}},sue=class extends Fb{async _generate(e,n,o){const i=await this._call(e,n,o),u=new Sr(i);if(typeof u.content!="string")throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:u.content,message:u}]}}},uue={};ct(uue,{extendInteropZodObject:()=>Zee,getInteropZodDefaultGetter:()=>Xee,getInteropZodObjectShape:()=>$1,getSchemaDescription:()=>kT,interopParse:()=>Yee,interopParseAsync:()=>KT,interopSafeParse:()=>kee,interopSafeParseAsync:()=>WV,interopZodObjectMakeFieldsOptional:()=>rte,interopZodObjectPartial:()=>Qee,interopZodObjectPassthrough:()=>F1,interopZodObjectStrict:()=>sb,interopZodTransformInputSchema:()=>XV,isInteropZodError:()=>nte,isInteropZodLiteral:()=>Kee,isInteropZodObject:()=>Jee,isInteropZodSchema:()=>Zc,isShapelessZodSchema:()=>Wee,isSimpleStringZodSchema:()=>JV,isZodArrayV4:()=>xb,isZodLiteralV3:()=>kV,isZodLiteralV4:()=>YV,isZodNullableV4:()=>QV,isZodObjectV3:()=>YT,isZodObjectV4:()=>yl,isZodOptionalV4:()=>ZV,isZodSchema:()=>Hee,isZodSchemaV3:()=>cr,isZodSchemaV4:()=>Ht});const Hh="0.19.0";let $z=!1,Lm,kH,YH,yT,WH,JH,ZH,QH,XH;function lue(e,n={auto:!1}){if($z)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(Lm)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${Lm}'\``);$z=n.auto,Lm=e.kind,kH=e.fetch,YH=e.FormData,yT=e.File,WH=e.ReadableStream,JH=e.getMultipartRequestOptions,ZH=e.getDefaultAgent,QH=e.fileFromPath,XH=e.isFsReadStream}class cue{constructor(n){this.body=n}get[Symbol.toStringTag](){return"MultipartBody"}}function due({manuallyImported:e}={}){const n=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let o,i,u,t;try{o=fetch,i=Request,u=Response,t=Headers}catch(r){throw new Error(`this environment is missing the following Web Fetch API type: ${r.message}. ${n}`)}return{kind:"web",fetch:o,Request:i,Response:u,Headers:t,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${n}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${n}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${n}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${n}`)}},getMultipartRequestOptions:async(r,a)=>({...a,body:new cue(r)}),getDefaultAgent:r=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:r=>!1}}const e7=()=>{Lm||lue(due(),{auto:!0})};e7();class al extends Error{}class jr extends al{constructor(n,o,i,u){super(`${jr.makeMessage(n,o,i)}`),this.status=n,this.headers=u,this.error=o}static makeMessage(n,o,i){const u=o?.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):i;return n&&u?`${n} ${u}`:n?`${n} status code (no body)`:u||"(no status code or body)"}static generate(n,o,i,u){if(!n||!u)return new Vb({message:i,cause:wT(o)});const t=o;return n===400?new r7(n,t,i,u):n===401?new n7(n,t,i,u):n===403?new a7(n,t,i,u):n===404?new i7(n,t,i,u):n===409?new o7(n,t,i,u):n===422?new s7(n,t,i,u):n===429?new u7(n,t,i,u):n>=500?new l7(n,t,i,u):new jr(n,t,i,u)}}class vT extends jr{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class Vb extends jr{constructor({message:n,cause:o}){super(void 0,void 0,n||"Connection error.",void 0),o&&(this.cause=o)}}class t7 extends Vb{constructor({message:n}={}){super({message:n??"Request timed out."})}}let r7=class extends jr{};class n7 extends jr{}class a7 extends jr{}let i7=class extends jr{};class o7 extends jr{}let s7=class extends jr{};class u7 extends jr{}let l7=class extends jr{},fue=class Am{constructor(n,o){this.iterator=n,this.controller=o}static fromSSEResponse(n,o){let i=!1;const u=new hue;async function*t(){if(!n.body)throw o.abort(),new al("Attempted to iterate over a response with no body");const a=new Vf,s=Fz(n.body);for await(const l of s)for(const f of a.decode(l)){const m=u.decode(f);m&&(yield m)}for(const l of a.flush()){const f=u.decode(l);f&&(yield f)}}async function*r(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const s of t())if(!a){if(s.data.startsWith("[DONE]")){a=!0;continue}if(s.event===null||s.event==="error"){let l;try{l=JSON.parse(s.data)}catch(f){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),f}if(l&&l.error)throw new jr(l.error.status_code,l.error,l.error.message,void 0);yield l}}a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||o.abort()}}return new Am(r,o)}static fromReadableStream(n,o){let i=!1;async function*u(){const r=new Vf,a=Fz(n);for await(const s of a)for(const l of r.decode(s))yield l;for(const s of r.flush())yield s}async function*t(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let r=!1;try{for await(const a of u())r||a&&(yield JSON.parse(a));r=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{r||o.abort()}}return new Am(t,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],o=[],i=this.iterator(),u=t=>({next:()=>{if(t.length===0){const r=i.next();n.push(r),o.push(r)}return t.shift()}});return[new Am(()=>u(n),this.controller),new Am(()=>u(o),this.controller)]}toReadableStream(){const n=this;let o;const i=new TextEncoder;return new WH({async start(){o=n[Symbol.asyncIterator]()},async pull(u){try{const{value:t,done:r}=await o.next();if(r)return u.close();const a=i.encode(JSON.stringify(t)+`
`);u.enqueue(a)}catch(t){u.error(t)}},async cancel(){await o.return?.()}})}};class hue{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const t={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],t}if(this.chunks.push(n),n.startsWith(":"))return null;let[o,i,u]=pue(n,":");return u.startsWith(" ")&&(u=u.substring(1)),o==="event"?this.event=u:o==="data"&&this.data.push(u),null}}class Vf{constructor(){this.buffer=[],this.trailingCR=!1}decode(n){let o=this.decodeText(n);if(this.trailingCR&&(o="\r"+o,this.trailingCR=!1),o.endsWith("\r")&&(this.trailingCR=!0,o=o.slice(0,-1)),!o)return[];const i=Vf.NEWLINE_CHARS.has(o[o.length-1]||"");let u=o.split(Vf.NEWLINE_REGEXP);return u.length===1&&!i?(this.buffer.push(u[0]),[]):(this.buffer.length>0&&(u=[this.buffer.join("")+u[0],...u.slice(1)],this.buffer=[]),i||(this.buffer=[u.pop()||""]),u)}decodeText(n){if(n==null)return"";if(typeof n=="string")return n;if(typeof Buffer<"u"){if(n instanceof Buffer)return n.toString();if(n instanceof Uint8Array)return Buffer.from(n).toString();throw new al(`Unexpected: received non-Uint8Array (${n.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(n instanceof Uint8Array||n instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(n);throw new al(`Unexpected: received non-Uint8Array/ArrayBuffer (${n.constructor.name}) in a web platform. Please report this error.`)}throw new al("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const n=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,n}}Vf.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Vf.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function pue(e,n){const o=e.indexOf(n);return o!==-1?[e.substring(0,o),n,e.substring(o+n.length)]:[e,"",""]}function Fz(e){if(e[Symbol.asyncIterator])return e;const n=e.getReader();return{async next(){try{const o=await n.read();return o?.done&&n.releaseLock(),o}catch(o){throw n.releaseLock(),o}},async return(){const o=n.cancel();return n.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const c7=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",d7=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Gb(e),Gb=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",gue=e=>d7(e)||c7(e)||XH(e);async function f7(e,n,o){if(e=await e,d7(e))return e;if(c7(e)){const u=await e.blob();n||(n=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const t=Gb(u)?[await u.arrayBuffer()]:[u];return new yT(t,n,o)}const i=await mue(e);if(n||(n=yue(e)??"unknown_file"),!o?.type){const u=i[0]?.type;typeof u=="string"&&(o={...o,type:u})}return new yT(i,n,o)}async function mue(e){let n=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)n.push(e);else if(Gb(e))n.push(await e.arrayBuffer());else if(vue(e))for await(const o of e)n.push(o);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${_ue(e)}`);return n}function _ue(e){return`[${Object.getOwnPropertyNames(e).map(o=>`"${o}"`).join(", ")}]`}function yue(e){return kS(e.name)||kS(e.filename)||kS(e.path)?.split(/[\\/]/).pop()}const kS=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},vue=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Vz=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",PM=async e=>{const n=await bue(e.body);return JH(n,e)},bue=async e=>{const n=new YH;return await Promise.all(Object.entries(e||{}).map(([o,i])=>bT(n,o,i))),n},bT=async(e,n,o)=>{if(o!==void 0){if(o==null)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")e.append(n,String(o));else if(gue(o)){const i=await f7(o);e.append(n,i)}else if(Array.isArray(o))await Promise.all(o.map(i=>bT(e,n+"[]",i)));else if(typeof o=="object")await Promise.all(Object.entries(o).map(([i,u])=>bT(e,`${n}[${i}]`,u)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${o} instead`)}};var h7={};e7();async function p7(e){const{response:n}=e;if(e.options.stream)return Zh("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):fue.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const i=n.headers.get("content-type")?.split(";")[0]?.trim();if(i?.includes("application/json")||i?.endsWith("+json")){const r=await n.json();return Zh("response",n.status,n.url,n.headers,r),r}const t=await n.text();return Zh("response",n.status,n.url,n.headers,t),t}class Hb extends Promise{constructor(n,o=p7){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=o}_thenUnwrap(n){return new Hb(this.responsePromise,async o=>n(await this.parseResponse(o),o))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(n,o){return this.parse().then(n,o)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}class wue{constructor({baseURL:n,maxRetries:o=2,timeout:i=6e4,httpAgent:u,fetch:t}){this.baseURL=n,this.maxRetries=YS("maxRetries",o),this.timeout=YS("timeout",i),this.httpAgent=u,this.fetch=t??kH}authHeaders(n){return{}}defaultHeaders(n){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...jue(),...this.authHeaders(n)}}validateHeaders(n,o){}defaultIdempotencyKey(){return`stainless-node-retry-${Nue()}`}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,i){return this.request(Promise.resolve(i).then(async u=>{const t=u&&Gb(u?.body)?new DataView(await u.body.arrayBuffer()):u?.body instanceof DataView?u.body:u?.body instanceof ArrayBuffer?new DataView(u.body):u&&ArrayBuffer.isView(u?.body)?new DataView(u.body.buffer):u?.body;return{method:n,path:o,...u,body:t}}))}getAPIList(n,o,i){return this.requestAPIList(o,{method:"get",path:n,...i})}calculateContentLength(n){if(typeof n=="string"){if(typeof Buffer<"u")return Buffer.byteLength(n,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(n).length.toString()}else if(ArrayBuffer.isView(n))return n.byteLength.toString();return null}buildRequest(n,{retryCount:o=0}={}){n={...n};const{method:i,path:u,query:t,headers:r={}}=n,a=ArrayBuffer.isView(n.body)||n.__binaryRequest&&typeof n.body=="string"?n.body:Vz(n.body)?n.body.body:n.body?JSON.stringify(n.body,null,2):null,s=this.calculateContentLength(a),l=this.buildURL(u,t);"timeout"in n&&YS("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const f=n.httpAgent??this.httpAgent??ZH(l),m=n.timeout+1e3;typeof f?.options?.timeout=="number"&&m>(f.options.timeout??0)&&(f.options.timeout=m),this.idempotencyHeader&&i!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=n.idempotencyKey);const b=this.buildHeaders({options:n,headers:r,contentLength:s,retryCount:o});return{req:{method:i,...a&&{body:a},headers:b,...f&&{agent:f},signal:n.signal??null},url:l,timeout:n.timeout}}buildHeaders({options:n,headers:o,contentLength:i,retryCount:u}){const t={};i&&(t["content-length"]=i);const r=this.defaultHeaders(n);return Yz(t,r),Yz(t,o),Vz(n.body)&&Lm!=="node"&&delete t["content-type"],iv(r,"x-stainless-retry-count")===void 0&&iv(o,"x-stainless-retry-count")===void 0&&(t["x-stainless-retry-count"]=String(u)),iv(r,"x-stainless-timeout")===void 0&&iv(o,"x-stainless-timeout")===void 0&&n.timeout&&(t["x-stainless-timeout"]=String(n.timeout)),this.validateHeaders(t,o),t}async prepareOptions(n){}async prepareRequest(n,{url:o,options:i}){}parseHeaders(n){return n?Symbol.iterator in n?Object.fromEntries(Array.from(n).map(o=>[...o])):{...n}:{}}makeStatusError(n,o,i,u){return jr.generate(n,o,i,u)}request(n,o=null){return new Hb(this.makeRequest(n,o))}async makeRequest(n,o){const i=await n,u=i.maxRetries??this.maxRetries;o==null&&(o=u),await this.prepareOptions(i);const{req:t,url:r,timeout:a}=this.buildRequest(i,{retryCount:u-o});if(await this.prepareRequest(t,{url:r,options:i}),Zh("request",r,i,t.headers),i.signal?.aborted)throw new vT;const s=new AbortController,l=await this.fetchWithTimeout(r,t,a,s).catch(wT);if(l instanceof Error){if(i.signal?.aborted)throw new vT;if(o)return this.retryRequest(i,o);throw l.name==="AbortError"?new t7:new Vb({cause:l})}const f=Sue(l.headers);if(!l.ok){if(o&&this.shouldRetry(l)){const v=`retrying, ${o} attempts remaining`;return Zh(`response (error; ${v})`,l.status,r,f),this.retryRequest(i,o,f)}const m=await l.text().catch(v=>wT(v).message),b=Cue(m),_=b?void 0:m;throw Zh(`response (error; ${o?"(error; no more retries left)":"(error; not retryable)"})`,l.status,r,f,_),this.makeStatusError(l.status,b,_,f)}return{response:l,options:i,controller:s}}requestAPIList(n,o){const i=this.makeRequest(o,null);return new Oue(this,i,n)}buildURL(n,o){const i=Mue(n)?new URL(n):new URL(this.baseURL+(this.baseURL.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),u=this.defaultQuery();return Pue(u)||(o={...u,...o}),typeof o=="object"&&o&&!Array.isArray(o)&&(i.search=this.stringifyQuery(o)),i.toString()}stringifyQuery(n){return Object.entries(n).filter(([o,i])=>typeof i<"u").map(([o,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(o)}=`;throw new al(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(n,o,i,u){const{signal:t,...r}=o||{};t&&t.addEventListener("abort",()=>u.abort());const a=setTimeout(()=>u.abort(),i),s={signal:u.signal,...r};return s.method&&(s.method=s.method.toUpperCase()),this.fetch.call(void 0,n,s).finally(()=>{clearTimeout(a)})}shouldRetry(n){const o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,i){let u;const t=i?.["retry-after-ms"];if(t){const a=parseFloat(t);Number.isNaN(a)||(u=a)}const r=i?.["retry-after"];if(r&&!u){const a=parseFloat(r);Number.isNaN(a)?u=Date.parse(r)-Date.now():u=a*1e3}if(!(u&&0<=u&&u<60*1e3)){const a=n.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(o,a)}return await xue(u),this.makeRequest(n,o-1)}calculateDefaultRetryTimeoutMillis(n,o){const t=o-n,r=Math.min(.5*Math.pow(2,t),8),a=1-Math.random()*.25;return r*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Hh}`}}class Oue extends Hb{constructor(n,o,i){super(o,async u=>new i(n,u.response,await p7(u),u.options))}async*[Symbol.asyncIterator](){const n=await this;for await(const o of n)yield o}}const Sue=e=>new Proxy(Object.fromEntries(e.entries()),{get(n,o){const i=o.toString();return n[i.toLowerCase()]||n[i]}}),Eue=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hh,"X-Stainless-OS":Hz(Deno.build.os),"X-Stainless-Arch":Gz(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hh,"X-Stainless-OS":Hz(process.platform),"X-Stainless-Arch":Gz(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Rue();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Rue(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:o}of e){const i=o.exec(navigator.userAgent);if(i){const u=i[1]||0,t=i[2]||0,r=i[3]||0;return{browser:n,version:`${u}.${t}.${r}`}}}return null}const Gz=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Hz=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Kz;const jue=()=>Kz??(Kz=Eue()),Cue=e=>{try{return JSON.parse(e)}catch{return}},Tue=/^[a-z][a-z0-9+.-]*:/i,Mue=e=>Tue.test(e),xue=e=>new Promise(n=>setTimeout(n,e)),YS=(e,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new al(`${e} must be an integer`);if(n<0)throw new al(`${e} must be a positive integer`);return n},wT=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},kz=e=>{if(typeof process<"u")return h7?.[e]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(e)?.trim()};function Pue(e){if(!e)return!0;for(const n in e)return!1;return!0}function Aue(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Yz(e,n){for(const o in n){if(!Aue(n,o))continue;const i=o.toLowerCase();if(!i)continue;const u=n[o];u===null?delete e[i]:u!==void 0&&(e[i]=u)}}function Zh(e,...n){typeof process<"u"&&h7?.DEBUG==="true"&&console.log(`Groq:DEBUG:${e}`,...n)}const Nue=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)}),Due=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Iue=e=>typeof e?.get=="function",iv=(e,n)=>{const o=n.toLowerCase();if(Iue(e)){const i=n[0]?.toUpperCase()+n.substring(1).replace(/([^\w])(\w)/g,(u,t,r)=>t+r.toUpperCase());for(const u of[n,o,n.toUpperCase(),i]){const t=e.get(u);if(t)return t}}for(const[i,u]of Object.entries(e))if(i.toLowerCase()===o)return Array.isArray(u)?(u.length<=1||console.warn(`Received ${u.length} entries for the ${n} header, using the first entry.`),u[0]):u};class ll{constructor(n){this._client=n}}class g7 extends ll{create(n,o){return this._client.post("/openai/v1/audio/speech",{body:n,...o,headers:{Accept:"application/octet-stream",...o?.headers},__binaryResponse:!0})}}class m7 extends ll{create(n,o){return this._client.post("/openai/v1/audio/transcriptions",PM({body:n,...o}))}}class _7 extends ll{create(n,o){return this._client.post("/openai/v1/audio/translations",PM({body:n,...o}))}}class m_ extends ll{constructor(){super(...arguments),this.speech=new g7(this._client),this.transcriptions=new m7(this._client),this.translations=new _7(this._client)}}m_.Speech=g7;m_.Transcriptions=m7;m_.Translations=_7;class y7 extends ll{create(n,o){return this._client.post("/openai/v1/batches",{body:n,...o})}retrieve(n,o){return this._client.get(`/openai/v1/batches/${n}`,o)}list(n){return this._client.get("/openai/v1/batches",n)}cancel(n,o){return this._client.post(`/openai/v1/batches/${n}/cancel`,o)}}let v7=class extends ll{create(n,o){return this._client.post("/openai/v1/chat/completions",{body:n,...o,stream:n.stream??!1})}};class AM extends ll{constructor(){super(...arguments),this.completions=new v7(this._client)}}AM.Completions=v7;class b7 extends ll{}let w7=class extends ll{create(n,o){return this._client.post("/openai/v1/embeddings",{body:n,...o})}};class O7 extends ll{create(n,o){return this._client.post("/openai/v1/files",PM({body:n,...o}))}list(n){return this._client.get("/openai/v1/files",n)}delete(n,o){return this._client.delete(`/openai/v1/files/${n}`,o)}content(n,o){return this._client.get(`/openai/v1/files/${n}/content`,o)}info(n,o){return this._client.get(`/openai/v1/files/${n}`,o)}}class S7 extends ll{retrieve(n,o){return this._client.get(`/openai/v1/models/${n}`,o)}list(n){return this._client.get("/openai/v1/models",n)}delete(n,o){return this._client.delete(`/openai/v1/models/${n}`,o)}}var E7;class Bt extends wue{constructor({baseURL:n=kz("GROQ_BASE_URL"),apiKey:o=kz("GROQ_API_KEY"),...i}={}){if(o===void 0)throw new al("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const u={apiKey:o,...i,baseURL:n||"https://api.groq.com"};if(!u.dangerouslyAllowBrowser&&Due())throw new al(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:u.baseURL,timeout:u.timeout??6e4,httpAgent:u.httpAgent,maxRetries:u.maxRetries,fetch:u.fetch}),this.completions=new b7(this),this.chat=new AM(this),this.embeddings=new w7(this),this.audio=new m_(this),this.models=new S7(this),this.batches=new y7(this),this.files=new O7(this),this._options=u,this.apiKey=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(n){return{...super.defaultHeaders(n),...this._options.defaultHeaders}}authHeaders(n){return{Authorization:`Bearer ${this.apiKey}`}}}E7=Bt;Bt.Groq=E7;Bt.DEFAULT_TIMEOUT=6e4;Bt.GroqError=al;Bt.APIError=jr;Bt.APIConnectionError=Vb;Bt.APIConnectionTimeoutError=t7;Bt.APIUserAbortError=vT;Bt.NotFoundError=i7;Bt.ConflictError=o7;Bt.RateLimitError=u7;Bt.BadRequestError=r7;Bt.AuthenticationError=n7;Bt.InternalServerError=l7;Bt.PermissionDeniedError=a7;Bt.UnprocessableEntityError=s7;Bt.toFile=f7;Bt.fileFromPath=QH;Bt.Completions=b7;Bt.Chat=AM;Bt.Embeddings=w7;Bt.Audio=m_;Bt.Models=S7;Bt.Batches=y7;Bt.Files=O7;var zue=class extends qt{static lc_name(){return"RouterRunnable"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnables;constructor(e){super(e),this.runnables=e.runnables}async invoke(e,n){const{key:o,input:i}=e,u=this.runnables[o];if(u===void 0)throw new Error(`No runnable associated with key "${o}".`);return u.invoke(i,Et(n))}async batch(e,n,o){const i=e.map(m=>m.key),u=e.map(m=>m.input);if(i.find(m=>this.runnables[m]===void 0)!==void 0)throw new Error("One or more keys do not have a corresponding runnable.");const r=i.map(m=>this.runnables[m]),a=this._getOptionsList(n??{},e.length),s=a[0]?.maxConcurrency??o?.maxConcurrency,l=s&&s>0?s:e.length,f=[];for(let m=0;m<u.length;m+=l){const b=u.slice(m,m+l).map((p,y)=>r[y].invoke(p,a[y])),_=await Promise.all(b);f.push(_)}return f.flat()}async stream(e,n){const{key:o,input:i}=e,u=this.runnables[o];if(u===void 0)throw new Error(`No runnable associated with key "${o}".`);return u.stream(i,n)}},que=class extends qt{static lc_name(){return"RunnableBranch"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;default;branches;constructor(e){super(e),this.branches=e.branches,this.default=e.default}static from(e){if(e.length<1)throw new Error("RunnableBranch requires at least one branch");const o=e.slice(0,-1).map(([u,t])=>[rl(u),rl(t)]),i=rl(e[e.length-1]);return new this({branches:o,default:i})}async _invoke(e,n,o){let i;for(let u=0;u<this.branches.length;u+=1){const[t,r]=this.branches[u];if(await t.invoke(e,Vt(n,{callbacks:o?.getChild(`condition:${u+1}`)}))){i=await r.invoke(e,Vt(n,{callbacks:o?.getChild(`branch:${u+1}`)}));break}}return i||(i=await this.default.invoke(e,Vt(n,{callbacks:o?.getChild("branch:default")}))),i}async invoke(e,n={}){return this._callWithConfig(this._invoke,e,n)}async*_streamIterator(e,n){const i=await(await yn(n))?.handleChainStart(this.toJSON(),ur(e,"input"),n?.runId,void 0,void 0,void 0,n?.runName);let u,t=!0,r;try{for(let a=0;a<this.branches.length;a+=1){const[s,l]=this.branches[a];if(await s.invoke(e,Vt(n,{callbacks:i?.getChild(`condition:${a+1}`)}))){r=await l.stream(e,Vt(n,{callbacks:i?.getChild(`branch:${a+1}`)}));for await(const m of r)if(yield m,t)if(u===void 0)u=m;else try{u=rd(u,m)}catch{u=void 0,t=!1}break}}if(r===void 0){r=await this.default.stream(e,Vt(n,{callbacks:i?.getChild("branch:default")}));for await(const a of r)if(yield a,t)if(u===void 0)u=a;else try{u=rd(u,a)}catch{u=void 0,t=!1}}}catch(a){throw await i?.handleChainError(a),a}await i?.handleChainEnd(u??{})}},Bue=class extends Ff{runnable;inputMessagesKey;outputMessagesKey;historyMessagesKey;getMessageHistory;constructor(e){let n=ad.from((t,r)=>this._enterHistory(t,r??{})).withConfig({runName:"loadHistory"});const o=e.historyMessagesKey??e.inputMessagesKey;o&&(n=ip.assign({[o]:n}).withConfig({runName:"insertHistory"}));const i=n.pipe(e.runnable.withListeners({onEnd:(t,r)=>this._exitHistory(t,r??{})})).withConfig({runName:"RunnableWithMessageHistory"}),u=e.config??{};super({...e,config:u,bound:i}),this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!Yl(e)){let o;this.inputMessagesKey?o=this.inputMessagesKey:Object.keys(e).length===1?o=Object.keys(e)[0]:o="input",Array.isArray(e[o])&&Array.isArray(e[o][0])?n=e[o][0]:n=e[o]}else n=e;if(typeof n=="string")return[new It(n)];if(Array.isArray(n))return n;if(Yl(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!Yl(e)&&typeof e!="string"){let o;this.outputMessagesKey!==void 0?o=this.outputMessagesKey:Object.keys(e).length===1?o=Object.keys(e)[0]:o="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[o]}else n=e;if(typeof n=="string")return[new Sr(n)];if(Array.isArray(n))return n;if(Yl(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){const i=await(n?.configurable?.messageHistory).getMessages();return this.historyMessagesKey===void 0?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,n){const o=n.configurable?.messageHistory;let i;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?i=e.inputs[0]:i=e.inputs;let u=this._getInputMessages(i);if(this.historyMessagesKey===void 0){const a=await o.getMessages();u=u.slice(a.length)}const t=e.outputs;if(!t)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const r=this._getOutputMessages(t);await o.addMessages([...u,...r])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const i={[this.inputMessagesKey??"input"]:"foo"},u={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(i)}, ${JSON.stringify(u)})`)}const{sessionId:o}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(o),n}},Lue={};ct(Lue,{RouterRunnable:()=>zue,Runnable:()=>qt,RunnableAssign:()=>RM,RunnableBinding:()=>Ff,RunnableBranch:()=>que,RunnableEach:()=>Sse,RunnableLambda:()=>ad,RunnableMap:()=>hp,RunnableParallel:()=>jse,RunnablePassthrough:()=>ip,RunnablePick:()=>AH,RunnableRetry:()=>EM,RunnableSequence:()=>g_,RunnableToolLike:()=>mT,RunnableWithFallbacks:()=>PH,RunnableWithMessageHistory:()=>Bue,_coerceToRunnable:()=>rl,ensureConfig:()=>Et,getCallbackManagerForConfig:()=>yn,mergeConfigs:()=>iT,patchConfig:()=>Vt,pickRunnableConfigKeys:()=>$f,raceWithSignal:()=>rc});var R7=class extends qt{parseResultWithPrompt(e,n,o){return this.parseResult(e,o)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(o,i)=>this.parseResult([{text:o}],i?.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(o,i)=>this.parseResult([{message:o,text:this._baseMessageToString(o)}],i?.callbacks),e,{...n,runType:"parser"})}},Kb=class extends R7{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,o){return this.parse(e,o)}_type(){throw new Error("_type not implemented")}},Zl=class extends Error{llmOutput;observation;sendToLLM;constructor(e,n,o,i=!1){if(super(e),this.llmOutput=n,this.observation=o,this.sendToLLM=i,i&&(o===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");Pb(this,"OUTPUT_PARSING_FAILURE")}},__=class extends Kb{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}},kb=class extends __{diff=!1;constructor(e){super(e),this.diff=e?.diff??this.diff}async*_transform(e){let n,o;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let u;if(nM(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");u=new Wc({message:i,text:i.content})}else if(Yl(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");u=new Wc({message:gb(i),text:i.content})}else u=new np({text:i});o===void 0?o=u:o=o.concat(u);const t=await this.parsePartialResult([o]);t!=null&&!Df(t,n)&&(this.diff?yield this._diff(n,t):yield t,n=t)}}getFormatInstructions(){return""}},Uue={};ct(Uue,{applyPatch:()=>ap,compare:()=>bM});var j7=class extends kb{static lc_name(){return"JsonOutputParser"}lc_namespace=["langchain_core","output_parsers"];lc_serializable=!0;_concatOutputChunks(e,n){return this.diff?super._concatOutputChunks(e,n):n}_diff(e,n){if(n)return e?bM(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return Z1(e[0].text)}async parse(e){return Z1(e,JSON.parse)}getFormatInstructions(){return""}},$ue=class extends __{static lc_name(){return"BytesOutputParser"}lc_namespace=["langchain_core","output_parsers","bytes"];lc_serializable=!0;textEncoder=new TextEncoder;parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}},y_=class extends __{re;async*_transform(e){let n="";for await(const o of e)if(typeof o=="string"?n+=o:n+=o.content,this.re){const i=[...n.matchAll(this.re)];if(i.length>1){let u=0;for(const t of i.slice(0,-1))yield[t[1]],u+=(t.index??0)+t[0].length;n=n.slice(u)}}else{const i=await this.parse(n);if(i.length>1){for(const u of i.slice(0,-1))yield[u];n=i[i.length-1]}}for(const o of await this.parse(n))yield[o]}},Fue=class extends y_{static lc_name(){return"CommaSeparatedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;async parse(e){try{return e.trim().split(",").map(n=>n.trim())}catch{throw new Zl(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},Vue=class extends y_{lc_namespace=["langchain_core","output_parsers","list"];length;separator;constructor({length:e,separator:n}){super(...arguments),this.length=e,this.separator=n||","}async parse(e){try{const n=e.trim().split(this.separator).map(o=>o.trim());if(this.length!==void 0&&n.length!==this.length)throw new Zl(`Incorrect number of items. Expected ${this.length}, got ${n.length}.`);return n}catch(n){throw Object.getPrototypeOf(n)===Zl.prototype?n:new Zl(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${this.length===void 0?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},Gue=class extends y_{static lc_name(){return"NumberedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}re=/\d+\.\s([^\n]+)/g;async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Hue=class extends y_{static lc_name(){return"NumberedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}re=/^\s*[-*]\s([^\n]+)$/gm;async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Kue=class extends __{static lc_name(){return"StrOutputParser"}lc_namespace=["langchain_core","output_parsers","string"];lc_serializable=!0;parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((n,o)=>n+this._messageContentToString(o),"")}},NM=class extends Kb{static lc_name(){return"StructuredOutputParser"}lc_namespace=["langchain","output_parsers","structured"];toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),this.schema=e}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=ZT(Object.fromEntries(Object.entries(e).map(([o,i])=>[o,JT().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(Xl(this.schema))}
\`\`\`
`}async parse(e){try{const n=e.trim(),i=(n.match(/^```(?:json)?\s*([\s\S]*?)```/)?.[1]||n.match(/```json\s*([\s\S]*?)```/)?.[1]||n).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(u,t)=>`"${t.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await KT(this.schema,JSON.parse(i))}catch(n){throw new Zl(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}},C7=class extends NM{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(e){const n=e?.interpolationDepth??1;if(n<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction(Xl(this.schema)).replaceAll("{","{".repeat(n)).replaceAll("}","}".repeat(n))}
\`\`\``}_schemaToInstruction(e,n=2){const o=e;if("type"in o){let i=!1,u;if(Array.isArray(o.type)){const a=o.type.findIndex(s=>s==="null");a!==-1&&(i=!0,o.type.splice(a,1)),u=o.type.join(" | ")}else u=o.type;if(o.type==="object"&&o.properties){const a=o.description?` // ${o.description}`:"";return`{
${Object.entries(o.properties).map(([l,f])=>{const m=o.required?.includes(l)?"":" (optional)";return`${" ".repeat(n)}"${l}": ${this._schemaToInstruction(f,n+2)}${m}`}).join(`
`)}
${" ".repeat(n-2)}}${a}`}if(o.type==="array"&&o.items){const a=o.description?` // ${o.description}`:"";return`array[
${" ".repeat(n)}${this._schemaToInstruction(o.items,n+2)}
${" ".repeat(n-2)}] ${a}`}const t=i?" (nullable)":"",r=o.description?` // ${o.description}`:"";return`${u}${r}${t}`}if("anyOf"in o)return o.anyOf.map(i=>this._schemaToInstruction(i,n)).join(`
${" ".repeat(n-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=ZT(Object.fromEntries(Object.entries(e).map(([o,i])=>[o,JT().describe(i)])));return new this(n)}},kue=class extends Kb{structuredInputParser;constructor({inputSchema:e}){super(...arguments),this.structuredInputParser=new C7(e)}async parse(e){let n;try{n=await this.structuredInputParser.parse(e)}catch(o){throw new Zl(`Failed to parse. Text: "${e}". Error: ${o}`,e)}return this.outputProcessor(n)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}};const Yue=function(){const e={};e.parser=function(V,U){return new o(V,U)},e.SAXParser=o,e.SAXStream=l,e.createStream=s,e.MAX_BUFFER_LENGTH=64*1024;const n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(V,U){if(!(this instanceof o))return new o(V,U);var X=this;u(X),X.q=X.c="",X.bufferCheckPosition=e.MAX_BUFFER_LENGTH,X.opt=U||{},X.opt.lowercase=X.opt.lowercase||X.opt.lowercasetags,X.looseCase=X.opt.lowercase?"toLowerCase":"toUpperCase",X.tags=[],X.closed=X.closedRoot=X.sawRoot=!1,X.tag=X.error=null,X.strict=!!V,X.noscript=!!(V||X.opt.noscript),X.state=P.BEGIN,X.strictEntities=X.opt.strictEntities,X.ENTITIES=X.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),X.attribList=[],X.opt.xmlns&&(X.ns=Object.create(p)),X.trackPosition=X.opt.position!==!1,X.trackPosition&&(X.position=X.line=X.column=0),B(X,"onready")}Object.create||(Object.create=function(V){function U(){}U.prototype=V;var X=new U;return X}),Object.keys||(Object.keys=function(V){var U=[];for(var X in V)V.hasOwnProperty(X)&&U.push(X);return U});function i(V){for(var U=Math.max(e.MAX_BUFFER_LENGTH,10),X=0,Z=0,ue=n.length;Z<ue;Z++){var ge=V[n[Z]].length;if(ge>U)switch(n[Z]){case"textNode":w(V);break;case"cdata":q(V,"oncdata",V.cdata),V.cdata="";break;case"script":q(V,"onscript",V.script),V.script="";break;default:Y(V,"Max buffer length exceeded: "+n[Z])}X=Math.max(X,ge)}var be=e.MAX_BUFFER_LENGTH-X;V.bufferCheckPosition=be+V.position}function u(V){for(var U=0,X=n.length;U<X;U++)V[n[U]]=""}function t(V){w(V),V.cdata!==""&&(q(V,"oncdata",V.cdata),V.cdata=""),V.script!==""&&(q(V,"onscript",V.script),V.script="")}o.prototype={end:function(){W(this)},write:_e,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){t(this)}};var r=ReadableStream;r||(r=function(){});var a=e.EVENTS.filter(function(V){return V!=="error"&&V!=="end"});function s(V,U){return new l(V,U)}function l(V,U){if(!(this instanceof l))return new l(V,U);r.apply(this),this._parser=new o(V,U),this.writable=!0,this.readable=!0;var X=this;this._parser.onend=function(){X.emit("end")},this._parser.onerror=function(Z){X.emit("error",Z),X._parser.error=null},this._decoder=null,a.forEach(function(Z){Object.defineProperty(X,"on"+Z,{get:function(){return X._parser["on"+Z]},set:function(ue){if(!ue)return X.removeAllListeners(Z),X._parser["on"+Z]=ue,ue;X.on(Z,ue)},enumerable:!0,configurable:!1})})}l.prototype=Object.create(r.prototype,{constructor:{value:l}}),l.prototype.write=function(V){return this._parser.write(V.toString()),this.emit("data",V),!0},l.prototype.end=function(V){return V&&V.length&&this.write(V),this._parser.end(),!0},l.prototype.on=function(V,U){var X=this;return!X._parser["on"+V]&&a.indexOf(V)!==-1&&(X._parser["on"+V]=function(){var Z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Z.splice(0,0,V),X.emit.apply(X,Z)}),r.prototype.on.call(X,V,U)};var f="[CDATA[",m="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",p={xml:b,xmlns:_},y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function j(V){return V===" "||V===`
`||V==="\r"||V==="	"}function A(V){return V==='"'||V==="'"}function x(V){return V===">"||j(V)}function M(V,U){return V.test(U)}function D(V,U){return!M(V,U)}var P=0;e.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(V){var U=e.ENTITIES[V],X=typeof U=="number"?String.fromCharCode(U):U;e.ENTITIES[V]=X});for(var F in e.STATE)e.STATE[e.STATE[F]]=F;P=e.STATE;function B(V,U,X){V[U]&&V[U](X)}function q(V,U,X){V.textNode&&w(V),B(V,U,X)}function w(V){V.textNode=H(V.opt,V.textNode),V.textNode&&B(V,"ontext",V.textNode),V.textNode=""}function H(V,U){return V.trim&&(U=U.trim()),V.normalize&&(U=U.replace(/\s+/g," ")),U}function Y(V,U){return w(V),V.trackPosition&&(U+=`
Line: `+V.line+`
Column: `+V.column+`
Char: `+V.c),U=new Error(U),V.error=U,B(V,"onerror",U),V}function W(V){return V.sawRoot&&!V.closedRoot&&$(V,"Unclosed root tag"),V.state!==P.BEGIN&&V.state!==P.BEGIN_WHITESPACE&&V.state!==P.TEXT&&Y(V,"Unexpected end"),w(V),V.c="",V.closed=!0,B(V,"onend"),o.call(V,V.strict,V.opt),V}function $(V,U){if(typeof V!="object"||!(V instanceof o))throw new Error("bad call to strictFail");V.strict&&Y(V,U)}function k(V){V.strict||(V.tagName=V.tagName[V.looseCase]());var U=V.tags[V.tags.length-1]||V,X=V.tag={name:V.tagName,attributes:{}};V.opt.xmlns&&(X.ns=U.ns),V.attribList.length=0,q(V,"onopentagstart",X)}function Q(V,U){var X=V.indexOf(":"),Z=X<0?["",V]:V.split(":"),ue=Z[0],ge=Z[1];return U&&V==="xmlns"&&(ue="xmlns",ge=""),{prefix:ue,local:ge}}function re(V){if(V.strict||(V.attribName=V.attribName[V.looseCase]()),V.attribList.indexOf(V.attribName)!==-1||V.tag.attributes.hasOwnProperty(V.attribName)){V.attribName=V.attribValue="";return}if(V.opt.xmlns){var U=Q(V.attribName,!0),X=U.prefix,Z=U.local;if(X==="xmlns")if(Z==="xml"&&V.attribValue!==b)$(V,"xml: prefix must be bound to "+b+`
Actual: `+V.attribValue);else if(Z==="xmlns"&&V.attribValue!==_)$(V,"xmlns: prefix must be bound to "+_+`
Actual: `+V.attribValue);else{var ue=V.tag,ge=V.tags[V.tags.length-1]||V;ue.ns===ge.ns&&(ue.ns=Object.create(ge.ns)),ue.ns[Z]=V.attribValue}V.attribList.push([V.attribName,V.attribValue])}else V.tag.attributes[V.attribName]=V.attribValue,q(V,"onattribute",{name:V.attribName,value:V.attribValue});V.attribName=V.attribValue=""}function T(V,U){if(V.opt.xmlns){var X=V.tag,Z=Q(V.tagName);X.prefix=Z.prefix,X.local=Z.local,X.uri=X.ns[Z.prefix]||"",X.prefix&&!X.uri&&($(V,"Unbound namespace prefix: "+JSON.stringify(V.tagName)),X.uri=Z.prefix);var ue=V.tags[V.tags.length-1]||V;X.ns&&ue.ns!==X.ns&&Object.keys(X.ns).forEach(function(De){q(V,"onopennamespace",{prefix:De,uri:X.ns[De]})});for(var ge=0,be=V.attribList.length;ge<be;ge++){var ae=V.attribList[ge],oe=ae[0],ve=ae[1],Ce=Q(oe,!0),Pe=Ce.prefix,Ae=Ce.local,de=Pe===""?"":X.ns[Pe]||"",pe={name:oe,value:ve,prefix:Pe,local:Ae,uri:de};Pe&&Pe!=="xmlns"&&!de&&($(V,"Unbound namespace prefix: "+JSON.stringify(Pe)),pe.uri=Pe),V.tag.attributes[oe]=pe,q(V,"onattribute",pe)}V.attribList.length=0}V.tag.isSelfClosing=!!U,V.sawRoot=!0,V.tags.push(V.tag),q(V,"onopentag",V.tag),U||(!V.noscript&&V.tagName.toLowerCase()==="script"?V.state=P.SCRIPT:V.state=P.TEXT,V.tag=null,V.tagName=""),V.attribName=V.attribValue="",V.attribList.length=0}function I(V){if(!V.tagName){$(V,"Weird empty close tag."),V.textNode+="</>",V.state=P.TEXT;return}if(V.script){if(V.tagName!=="script"){V.script+="</"+V.tagName+">",V.tagName="",V.state=P.SCRIPT;return}q(V,"onscript",V.script),V.script=""}var U=V.tags.length,X=V.tagName;V.strict||(X=X[V.looseCase]());for(var Z=X;U--;){var ue=V.tags[U];if(ue.name!==Z)$(V,"Unexpected close tag");else break}if(U<0){$(V,"Unmatched closing tag: "+V.tagName),V.textNode+="</"+V.tagName+">",V.state=P.TEXT;return}V.tagName=X;for(var ge=V.tags.length;ge-- >U;){var be=V.tag=V.tags.pop();V.tagName=V.tag.name,q(V,"onclosetag",V.tagName);var ae={};for(var oe in be.ns)ae[oe]=be.ns[oe];var ve=V.tags[V.tags.length-1]||V;V.opt.xmlns&&be.ns!==ve.ns&&Object.keys(be.ns).forEach(function(Ce){var Pe=be.ns[Ce];q(V,"onclosenamespace",{prefix:Ce,uri:Pe})})}U===0&&(V.closedRoot=!0),V.tagName=V.attribValue=V.attribName="",V.attribList.length=0,V.state=P.TEXT}function K(V){var U=V.entity,X=U.toLowerCase(),Z,ue="";return V.ENTITIES[U]?V.ENTITIES[U]:V.ENTITIES[X]?V.ENTITIES[X]:(U=X,U.charAt(0)==="#"&&(U.charAt(1)==="x"?(U=U.slice(2),Z=parseInt(U,16),ue=Z.toString(16)):(U=U.slice(1),Z=parseInt(U,10),ue=Z.toString(10))),U=U.replace(/^0+/,""),isNaN(Z)||ue.toLowerCase()!==U?($(V,"Invalid character entity"),"&"+V.entity+";"):String.fromCodePoint(Z))}function ee(V,U){U==="<"?(V.state=P.OPEN_WAKA,V.startTagPosition=V.position):j(U)||($(V,"Non-whitespace before first tag."),V.textNode=U,V.state=P.TEXT)}function fe(V,U){var X="";return U<V.length&&(X=V.charAt(U)),X}function _e(V){var U=this;if(this.error)throw this.error;if(U.closed)return Y(U,"Cannot write after close. Assign an onready handler.");if(V===null)return W(U);typeof V=="object"&&(V=V.toString());for(var X=0,Z="";Z=fe(V,X++),U.c=Z,!!Z;)switch(U.trackPosition&&(U.position++,Z===`
`?(U.line++,U.column=0):U.column++),U.state){case P.BEGIN:if(U.state=P.BEGIN_WHITESPACE,Z==="\uFEFF")continue;ee(U,Z);continue;case P.BEGIN_WHITESPACE:ee(U,Z);continue;case P.TEXT:if(U.sawRoot&&!U.closedRoot){for(var ue=X-1;Z&&Z!=="<"&&Z!=="&";)Z=fe(V,X++),Z&&U.trackPosition&&(U.position++,Z===`
`?(U.line++,U.column=0):U.column++);U.textNode+=V.substring(ue,X-1)}Z==="<"&&!(U.sawRoot&&U.closedRoot&&!U.strict)?(U.state=P.OPEN_WAKA,U.startTagPosition=U.position):(!j(Z)&&(!U.sawRoot||U.closedRoot)&&$(U,"Text data outside of root node."),Z==="&"?U.state=P.TEXT_ENTITY:U.textNode+=Z);continue;case P.SCRIPT:Z==="<"?U.state=P.SCRIPT_ENDING:U.script+=Z;continue;case P.SCRIPT_ENDING:Z==="/"?U.state=P.CLOSE_TAG:(U.script+="<"+Z,U.state=P.SCRIPT);continue;case P.OPEN_WAKA:if(Z==="!")U.state=P.SGML_DECL,U.sgmlDecl="";else if(!j(Z))if(M(y,Z))U.state=P.OPEN_TAG,U.tagName=Z;else if(Z==="/")U.state=P.CLOSE_TAG,U.tagName="";else if(Z==="?")U.state=P.PROC_INST,U.procInstName=U.procInstBody="";else{if($(U,"Unencoded <"),U.startTagPosition+1<U.position){var ge=U.position-U.startTagPosition;Z=new Array(ge).join(" ")+Z}U.textNode+="<"+Z,U.state=P.TEXT}continue;case P.SGML_DECL:(U.sgmlDecl+Z).toUpperCase()===f?(q(U,"onopencdata"),U.state=P.CDATA,U.sgmlDecl="",U.cdata=""):U.sgmlDecl+Z==="--"?(U.state=P.COMMENT,U.comment="",U.sgmlDecl=""):(U.sgmlDecl+Z).toUpperCase()===m?(U.state=P.DOCTYPE,(U.doctype||U.sawRoot)&&$(U,"Inappropriately located doctype declaration"),U.doctype="",U.sgmlDecl=""):Z===">"?(q(U,"onsgmldeclaration",U.sgmlDecl),U.sgmlDecl="",U.state=P.TEXT):(A(Z)&&(U.state=P.SGML_DECL_QUOTED),U.sgmlDecl+=Z);continue;case P.SGML_DECL_QUOTED:Z===U.q&&(U.state=P.SGML_DECL,U.q=""),U.sgmlDecl+=Z;continue;case P.DOCTYPE:Z===">"?(U.state=P.TEXT,q(U,"ondoctype",U.doctype),U.doctype=!0):(U.doctype+=Z,Z==="["?U.state=P.DOCTYPE_DTD:A(Z)&&(U.state=P.DOCTYPE_QUOTED,U.q=Z));continue;case P.DOCTYPE_QUOTED:U.doctype+=Z,Z===U.q&&(U.q="",U.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:U.doctype+=Z,Z==="]"?U.state=P.DOCTYPE:A(Z)&&(U.state=P.DOCTYPE_DTD_QUOTED,U.q=Z);continue;case P.DOCTYPE_DTD_QUOTED:U.doctype+=Z,Z===U.q&&(U.state=P.DOCTYPE_DTD,U.q="");continue;case P.COMMENT:Z==="-"?U.state=P.COMMENT_ENDING:U.comment+=Z;continue;case P.COMMENT_ENDING:Z==="-"?(U.state=P.COMMENT_ENDED,U.comment=H(U.opt,U.comment),U.comment&&q(U,"oncomment",U.comment),U.comment=""):(U.comment+="-"+Z,U.state=P.COMMENT);continue;case P.COMMENT_ENDED:Z!==">"?($(U,"Malformed comment"),U.comment+="--"+Z,U.state=P.COMMENT):U.state=P.TEXT;continue;case P.CDATA:Z==="]"?U.state=P.CDATA_ENDING:U.cdata+=Z;continue;case P.CDATA_ENDING:Z==="]"?U.state=P.CDATA_ENDING_2:(U.cdata+="]"+Z,U.state=P.CDATA);continue;case P.CDATA_ENDING_2:Z===">"?(U.cdata&&q(U,"oncdata",U.cdata),q(U,"onclosecdata"),U.cdata="",U.state=P.TEXT):Z==="]"?U.cdata+="]":(U.cdata+="]]"+Z,U.state=P.CDATA);continue;case P.PROC_INST:Z==="?"?U.state=P.PROC_INST_ENDING:j(Z)?U.state=P.PROC_INST_BODY:U.procInstName+=Z;continue;case P.PROC_INST_BODY:if(!U.procInstBody&&j(Z))continue;Z==="?"?U.state=P.PROC_INST_ENDING:U.procInstBody+=Z;continue;case P.PROC_INST_ENDING:Z===">"?(q(U,"onprocessinginstruction",{name:U.procInstName,body:U.procInstBody}),U.procInstName=U.procInstBody="",U.state=P.TEXT):(U.procInstBody+="?"+Z,U.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:M(v,Z)?U.tagName+=Z:(k(U),Z===">"?T(U):Z==="/"?U.state=P.OPEN_TAG_SLASH:(j(Z)||$(U,"Invalid character in tag name"),U.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:Z===">"?(T(U,!0),I(U)):($(U,"Forward-slash in opening tag not followed by >"),U.state=P.ATTRIB);continue;case P.ATTRIB:if(j(Z))continue;Z===">"?T(U):Z==="/"?U.state=P.OPEN_TAG_SLASH:M(y,Z)?(U.attribName=Z,U.attribValue="",U.state=P.ATTRIB_NAME):$(U,"Invalid attribute name");continue;case P.ATTRIB_NAME:Z==="="?U.state=P.ATTRIB_VALUE:Z===">"?($(U,"Attribute without value"),U.attribValue=U.attribName,re(U),T(U)):j(Z)?U.state=P.ATTRIB_NAME_SAW_WHITE:M(v,Z)?U.attribName+=Z:$(U,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if(Z==="=")U.state=P.ATTRIB_VALUE;else{if(j(Z))continue;$(U,"Attribute without value"),U.tag.attributes[U.attribName]="",U.attribValue="",q(U,"onattribute",{name:U.attribName,value:""}),U.attribName="",Z===">"?T(U):M(y,Z)?(U.attribName=Z,U.state=P.ATTRIB_NAME):($(U,"Invalid attribute name"),U.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(j(Z))continue;A(Z)?(U.q=Z,U.state=P.ATTRIB_VALUE_QUOTED):($(U,"Unquoted attribute value"),U.state=P.ATTRIB_VALUE_UNQUOTED,U.attribValue=Z);continue;case P.ATTRIB_VALUE_QUOTED:if(Z!==U.q){Z==="&"?U.state=P.ATTRIB_VALUE_ENTITY_Q:U.attribValue+=Z;continue}re(U),U.q="",U.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:j(Z)?U.state=P.ATTRIB:Z===">"?T(U):Z==="/"?U.state=P.OPEN_TAG_SLASH:M(y,Z)?($(U,"No whitespace between attributes"),U.attribName=Z,U.attribValue="",U.state=P.ATTRIB_NAME):$(U,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(!x(Z)){Z==="&"?U.state=P.ATTRIB_VALUE_ENTITY_U:U.attribValue+=Z;continue}re(U),Z===">"?T(U):U.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(U.tagName)Z===">"?I(U):M(v,Z)?U.tagName+=Z:U.script?(U.script+="</"+U.tagName,U.tagName="",U.state=P.SCRIPT):(j(Z)||$(U,"Invalid tagname in closing tag"),U.state=P.CLOSE_TAG_SAW_WHITE);else{if(j(Z))continue;D(y,Z)?U.script?(U.script+="</"+Z,U.state=P.SCRIPT):$(U,"Invalid tagname in closing tag."):U.tagName=Z}continue;case P.CLOSE_TAG_SAW_WHITE:if(j(Z))continue;Z===">"?I(U):$(U,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var be,ae;switch(U.state){case P.TEXT_ENTITY:be=P.TEXT,ae="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:be=P.ATTRIB_VALUE_QUOTED,ae="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:be=P.ATTRIB_VALUE_UNQUOTED,ae="attribValue";break}if(Z===";")if(U.opt.unparsedEntities){var oe=K(U);U.entity="",U.state=be,U.write(oe)}else U[ae]+=K(U),U.entity="",U.state=be;else M(U.entity.length?R:S,Z)?U.entity+=Z:($(U,"Invalid character in entity name"),U[ae]+="&"+U.entity+Z,U.entity="",U.state=be);continue;default:throw new Error(U,"Unknown state: "+U.state)}return U.position>=U.bufferCheckPosition&&i(U),U}return String.fromCodePoint||(function(){var V=String.fromCharCode,U=Math.floor,X=function(){var Z=16384,ue=[],ge,be,ae=-1,oe=arguments.length;if(!oe)return"";for(var ve="";++ae<oe;){var Ce=Number(arguments[ae]);if(!isFinite(Ce)||Ce<0||Ce>1114111||U(Ce)!==Ce)throw RangeError("Invalid code point: "+Ce);Ce<=65535?ue.push(Ce):(Ce-=65536,ge=(Ce>>10)+55296,be=Ce%1024+56320,ue.push(ge,be)),(ae+1===oe||ue.length>Z)&&(ve+=V.apply(null,ue),ue.length=0)}return ve};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:X,configurable:!0,writable:!0}):String.fromCodePoint=X})(),e},Wue=Yue(),OT=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var Jue=class extends kb{tags;constructor(e){super(e),this.tags=e?.tags}static lc_name(){return"XMLOutputParser"}lc_namespace=["langchain_core","output_parsers"];lc_serializable=!0;_diff(e,n){if(n)return e?bM(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return ST(e[0].text)}async parse(e){return ST(e)}getFormatInstructions(){return!!(this.tags&&this.tags.length>0)?OT.replace("{tags}",this.tags?.join(", ")??""):OT}};const Zue=e=>e.split(`
`).map(n=>n.replace(/^\s+/,"")).join(`
`).trim(),T7=e=>{if(Object.keys(e).length===0)return{};const n={};return e.children.length>0?(n[e.name]=e.children.map(T7),n):(n[e.name]=e.text??void 0,n)};function ST(e){const n=Zue(e),o=Wue.parser(!0);let i={};const u=[];o.onopentag=a=>{const s={name:a.name,attributes:a.attributes,children:[],text:"",isSelfClosing:a.isSelfClosing};u.length>0?u[u.length-1].children.push(s):i=s,a.isSelfClosing||u.push(s)},o.onclosetag=()=>{if(u.length>0){const a=u.pop();u.length===0&&a&&(i=a)}},o.ontext=a=>{if(u.length>0){const s=u[u.length-1];s.text+=a}},o.onattribute=a=>{if(u.length>0){const s=u[u.length-1];s.attributes[a.name]=a.value}};const t=/```(xml)?(.*)```/s.exec(n),r=t?t[2]:n;return o.write(r).close(),i&&i.name==="?xml"&&(i=i.children[0]),T7(i)}var Que={};ct(Que,{AsymmetricStructuredOutputParser:()=>kue,BaseCumulativeTransformOutputParser:()=>kb,BaseLLMOutputParser:()=>R7,BaseOutputParser:()=>Kb,BaseTransformOutputParser:()=>__,BytesOutputParser:()=>$ue,CommaSeparatedListOutputParser:()=>Fue,CustomListOutputParser:()=>Vue,JsonMarkdownStructuredOutputParser:()=>C7,JsonOutputParser:()=>j7,ListOutputParser:()=>y_,MarkdownListOutputParser:()=>Hue,NumberedListOutputParser:()=>Gue,OutputParserException:()=>Zl,StringOutputParser:()=>Kue,StructuredOutputParser:()=>NM,XMLOutputParser:()=>Jue,XML_FORMAT_INSTRUCTIONS:()=>OT,parseJsonMarkdown:()=>Z1,parsePartialJson:()=>Ab,parseXMLMarkdown:()=>ST});function DM(e,n){if(e.function===void 0)return;let o;if(n?.partial)try{o=Ab(e.function.arguments??"{}")}catch{return}else try{o=JSON.parse(e.function.arguments)}catch(u){throw new Zl([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"","are not valid JSON.",`Error: ${u.message}`].join(`
`))}const i={name:e.function.name,args:o,type:"tool_call"};return n?.returnId&&(i.id=e.id),i}function M7(e){if(e.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}}function x7(e,n){return{name:e.function?.name,args:e.function?.arguments,id:e.id,error:n,type:"invalid_tool_call"}}var P7=class extends kb{static lc_name(){return"JsonOutputToolsParser"}returnId=!1;lc_namespace=["langchain","output_parsers","openai_tools"];lc_serializable=!0;constructor(e){super(e),this.returnId=e?.returnId??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){const o=e[0].message;let i;if(Kc(o)&&o.tool_calls?.length?i=o.tool_calls.map(t=>{const{id:r,...a}=t;return this.returnId?{id:r,...a}:a}):o.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(o.additional_kwargs.tool_calls)).map(r=>DM(r,{returnId:this.returnId,partial:n}))),!i)return[];const u=[];for(const t of i)if(t!==void 0){const r={type:t.name,args:t.args,id:t.id};u.push(r)}return u}},ET=class extends P7{static lc_name(){return"JsonOutputKeyToolsParser"}lc_namespace=["langchain","output_parsers","openai_tools"];lc_serializable=!0;returnId=!1;keyName;returnSingle=!1;zodSchema;constructor(e){super(e),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await WV(this.zodSchema,e);if(n.success)return n.data;throw new Zl(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error?.issues)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const o=(await super.parsePartialResult(e)).filter(u=>u.type===this.keyName);let i=o;if(o.length)return this.returnId||(i=o.map(u=>u.args)),this.returnSingle?i[0]:i}async parseResult(e){const o=(await super.parsePartialResult(e,!1)).filter(t=>t.type===this.keyName);let i=o;return o.length?(this.returnId||(i=o.map(t=>t.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(t=>this._validateResult(t)))):void 0}},Xue={};ct(Xue,{JsonOutputKeyToolsParser:()=>ET,JsonOutputToolsParser:()=>P7,convertLangChainToolCallToOpenAI:()=>M7,makeInvalidToolCall:()=>x7,parseToolCall:()=>DM});function A7(e){return e!==void 0&&Array.isArray(e.lc_namespace)}function N7(e){return e!==void 0&&qt.isRunnable(e)&&"lc_name"in e.constructor&&typeof e.constructor.lc_name=="function"&&e.constructor.lc_name()==="RunnableToolLike"}function D7(e){return!!e&&typeof e=="object"&&"name"in e&&"schema"in e&&(Zc(e.schema)||e.schema!=null&&typeof e.schema=="object"&&"type"in e.schema&&typeof e.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(e.schema.type))}function IM(e){return D7(e)||N7(e)||A7(e)}var ele={};ct(ele,{convertToOpenAIFunction:()=>I7,convertToOpenAITool:()=>RT,isLangChainTool:()=>IM,isRunnableToolLike:()=>N7,isStructuredTool:()=>A7,isStructuredToolParams:()=>D7});function I7(e,n){const o=typeof n=="number"?void 0:n;return{name:e.name,description:e.description,parameters:Xl(e.schema),...o?.strict!==void 0?{strict:o.strict}:{}}}function RT(e,n){const o=typeof n=="number"?void 0:n;let i;return IM(e)?i={type:"function",function:I7(e)}:i=e,o?.strict!==void 0&&(i.function.strict=o.strict),i}const tle=["frequency_penalty","function_call","functions","logit_bias","logprobs","max_completion_tokens","max_tokens","n","parallel_tool_calls","presence_penalty","reasoning_format","response_format","seed","service_tier","stop","temperature","tool_choice","top_logprobs","top_p"],rle=["headers","promptIndex","stream_options","tools"],nle=[...tle,...rle];function ale(e){if(e.role!=="system"&&e.role!=="assistant"&&e.role!=="user"&&e.role!=="function")throw new Error(`Unsupported message role: ${e.role}. Expected "system", "assistant", "user", or "function"`);return e.role}function ile(e){switch(e.type){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!ac.isInstance(e))throw new Error("Invalid generic chat message");return ale(e);default:throw new Error(`Unknown message type: ${e.type}`)}}function Wz(e){return e.map(n=>{const o={role:ile(n),content:n.content,name:n.name,function_call:n.additional_kwargs.function_call,tool_calls:n.additional_kwargs.tool_calls,tool_call_id:n.tool_call_id};return Kc(n)&&n.tool_calls?.length?o.tool_calls=n.tool_calls.map(M7):(n.additional_kwargs.tool_calls!=null&&(o.tool_calls=n.additional_kwargs.tool_calls),n.tool_call_id!=null&&(o.tool_call_id=n.tool_call_id)),o})}function ole(e,n,o){const i=e.tool_calls;switch(e.role){case"assistant":{const u=[],t=[];for(const r of i??[])try{u.push(DM(r,{returnId:!0}))}catch(a){t.push(x7(r,a.message))}return new Sr({content:e.content||"",additional_kwargs:{tool_calls:i},tool_calls:u,invalid_tool_calls:t,usage_metadata:n,response_metadata:o})}default:return new ac(e.content||"",e.role??"unknown")}}function sle(e,n,o,i){const u=e.role??n,t=e.content??"";let r;e.function_call?r={function_call:e.function_call}:e.tool_calls?r={tool_calls:e.tool_calls}:r={},e.audio&&(r.audio={...e.audio,index:o.choices[0].index});let a,s=i,l;const f=o.x_groq;f?.usage&&(a={input_tokens:f.usage.prompt_tokens,output_tokens:f.usage.completion_tokens,total_tokens:f.usage.total_tokens},l={completion_time:f.usage.completion_time,prompt_time:f.usage.prompt_time,queue_time:f.usage.queue_time,total_time:f.usage.total_time}),f?.id&&(s=f.id);const m={usage:a,timing:l};if(u==="user")return new c_({content:t,response_metadata:m});if(u==="assistant"){const b=[];if(Array.isArray(e.tool_calls))for(const _ of e.tool_calls)b.push({name:_.function?.name,args:_.function?.arguments,id:_.id,index:_.index,type:"tool_call_chunk"});return new Bn({content:t,tool_call_chunks:b,additional_kwargs:r,id:s,response_metadata:m})}else return u==="system"?new td({content:t,response_metadata:m}):u==="developer"?new td({content:t,response_metadata:m,additional_kwargs:{__openai_role__:"developer"}}):u==="function"?new l_({content:t,additional_kwargs:r,name:e.name,response_metadata:m}):u==="tool"?new s_({content:t,additional_kwargs:r,tool_call_id:e.tool_call_id,response_metadata:m}):new u_({content:t,role:u,response_metadata:m})}var ule=class extends Fb{lc_namespace=["langchain","chat_models","groq"];client;model;temperature=.7;stop;stopSequences;maxTokens;streaming=!1;apiKey;streamUsage=!0;topP;frequencyPenalty;presencePenalty;logprobs;n;logitBias;user;reasoningFormat;serviceTier;topLogprobs;lc_serializable=!0;get lc_serialized_keys(){return["client","model","temperature","stop","stopSequences","maxTokens","streaming","apiKey","streamUsage","topP","frequencyPenalty","presencePenalty","logprobs","n","logitBias","user","reasoningFormat","serviceTier","topLogprobs"]}static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}get callKeys(){return[...super.callKeys,...nle]}constructor(e){super(e);const n=e.apiKey||wl("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');const o={"User-Agent":"langchainjs",...e.defaultHeaders??{}};this.client=new Bt({apiKey:n,dangerouslyAllowBrowser:!0,baseURL:e.baseUrl,timeout:e.timeout,httpAgent:e.httpAgent,fetch:e.fetch,maxRetries:0,defaultHeaders:o,defaultQuery:e.defaultQuery}),this.apiKey=n,this.temperature=e.temperature??this.temperature,this.model=e.model,this.streaming=e.streaming??this.streaming,this.stop=e.stopSequences??(typeof e.stop=="string"?[e.stop]:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e.maxTokens,this.topP=e.topP,this.frequencyPenalty=e.frequencyPenalty,this.presencePenalty=e.presencePenalty,this.logprobs=e.logprobs,this.n=e.n,this.logitBias=e.logitBias,this.user=e.user}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e,n){const o=super.invocationParams(e);let i={};e?.stream_options!==void 0?i={stream_options:e.stream_options}:(this.streamUsage&&this.streaming||n?.streaming)&&(i={stream_options:{include_usage:!0}});const u={model:this.model,frequency_penalty:this.frequencyPenalty,function_call:e?.function_call,functions:e?.functions,logit_bias:this.logitBias,logprobs:this.logprobs,n:this.n,parallel_tool_calls:e?.parallel_tool_calls,presence_penalty:this.presencePenalty,reasoning_format:this.reasoningFormat,response_format:e?.response_format,seed:e?.seed,service_tier:this.serviceTier,stop:e?.stop??this.stopSequences,temperature:e?.temperature??this.temperature,tool_choice:lle(e?.tool_choice),tools:e?.tools?.length?e.tools.map(t=>RT(t)):void 0,top_logprobs:this.topLogprobs,top_p:this.topP,user:this.user,stream:this.streaming,...o,...i};return u.max_completion_tokens=e?.max_completion_tokens??e?.max_tokens??this.maxTokens,u.max_completion_tokens===-1&&delete u.max_completion_tokens,u}bindTools(e,n){return this.withConfig({tools:e.map(o=>RT(o)),...n})}async*_streamResponseChunks(e,n,o){const i=this.invocationParams(n,{streaming:!0}),u=Wz(e),t=await this.completionWithRetry({...i,messages:u,stream:!0},{signal:n?.signal,headers:n?.headers});let r,a,s;for await(const l of t){s=l;const f=l?.choices[0];if(!f)continue;f.delta?.role&&(r=f.delta.role);const m=sle(f.delta,r,l,a),b={prompt:n.promptIndex??0,completion:f.index??0};if(typeof m.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const _={...b};f.finish_reason!=null&&(_.finish_reason=f.finish_reason,_.system_fingerprint=l.system_fingerprint,_.model_name=l.model);const p=new Wc({message:m,text:m.content,generationInfo:_});yield p,await o?.handleLLMNewToken(p.text??"",b,void 0,void 0,void 0,{chunk:p})}if(s&&("choices"in s&&delete s.choices,yield new Wc({message:new Bn({content:"",response_metadata:s}),text:""})),n.signal?.aborted)throw new Error("AbortError")}async _generate(e,n,o){if(this.streaming){const i={},u=this._streamResponseChunks(e,n,o),t={};for await(const a of u){const s=a.generationInfo?.completion??0;t[s]===void 0?t[s]=a:t[s]=t[s].concat(a)}return{generations:Object.entries(t).sort(([a],[s])=>parseInt(a,10)-parseInt(s,10)).map(([a,s])=>s),llmOutput:{estimatedTokenUsage:i}}}else return this._generateNonStreaming(e,n,o)}async _generateNonStreaming(e,n,o){const i={},u=this.invocationParams(n),t=Wz(e),r=await this.completionWithRetry({...u,stream:!1,messages:t},{signal:n?.signal,headers:n?.headers});if("usage"in r&&r.usage){const{completion_tokens:s,prompt_tokens:l,total_tokens:f}=r.usage;s&&(i.completionTokens=(i.completionTokens??0)+s),l&&(i.promptTokens=(i.promptTokens??0)+l),f&&(i.totalTokens=(i.totalTokens??0)+f)}const a=[];if("choices"in r&&r.choices)for(const s of r.choices){const l=s.message?.content??"";let f;i.totalTokens!==void 0&&(f={input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens});const{choices:m,...b}=r,_={text:l,message:ole(s.message??{role:"assistant"},f,b)};_.generationInfo={...s.finish_reason?{finish_reason:s.finish_reason}:{},...s.logprobs?{logprobs:s.logprobs}:{}},a.push(_)}return{generations:a,llmOutput:{tokenUsage:i}}}get profile(){return wee[this.model]??{}}withStructuredOutput(e,n){const o=e,i=n?.name,u=n?.method,t=n?.includeRaw;let r=i??"extract",a,s;if(u==="jsonMode"){let b;Zc(o)?(a=NM.fromZodSchema(o),b=Xl(o)):a=new j7,s=this.withConfig({response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"jsonMode"},schema:b}})}else if(Zc(o)){const b=Xl(o);s=this.bindTools([{type:"function",function:{name:r,description:b.description,parameters:b}}]).withConfig({tool_choice:{type:"function",function:{name:r}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:b}}),a=new ET({returnSingle:!0,keyName:r,zodSchema:o})}else{let b;typeof o.name=="string"&&typeof o.parameters=="object"&&o.parameters!=null?(b=o,r=o.name):(r=o.title??r,b={name:r,description:o.description??"",parameters:o}),s=this.bindTools([{type:"function",function:b}]).withConfig({tool_choice:{type:"function",function:{name:r}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:o}}),a=new ET({returnSingle:!0,keyName:r})}if(!t)return s.pipe(a).withConfig({runName:"ChatGroqStructuredOutput"});const l=ip.assign({parsed:(b,_)=>a.invoke(b.raw,_)}),f=ip.assign({parsed:()=>null}),m=l.withFallbacks({fallbacks:[f]});return g_.from([{raw:s},m]).withConfig({runName:"ChatGroqStructuredOutput"})}};function lle(e){if(e)return e==="any"||e==="required"?"required":e==="auto"?"auto":e==="none"?"none":typeof e=="string"?{type:"function",function:{name:e}}:e}var Kl={},xd={},Pd={},WS={},Jz;function cle(){return Jz||(Jz=1,Object.defineProperty(WS,"__esModule",{value:!0})),WS}var Zz;function dle(){return Zz||(Zz=1,(function(e){var n=Pd&&Pd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Pd&&Pd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(cle(),e)})(Pd)),Pd}var Ad={},Jn={},JS={},dg={},Dh={},Qz;function v_(){if(Qz)return Dh;Qz=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.toJson=void 0,Dh.fromJson=n;const e=(o,i,u)=>JSON.stringify(o,i,u);Dh.toJson=e;function n(o,i){return JSON.parse(o,i)}return Dh}var Xz;function fle(){if(Xz)return dg;Xz=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.CohereError=void 0;const e=v_();let n=class z7 extends Error{constructor({message:u,statusCode:t,body:r,rawResponse:a}){super(o({message:u,statusCode:t,body:r})),Object.setPrototypeOf(this,z7.prototype),this.statusCode=t,this.body=r,this.rawResponse=a}};dg.CohereError=n;function o({message:i,statusCode:u,body:t}){const r=[];return i!=null&&r.push(i),u!=null&&r.push(`Status code: ${u.toString()}`),t!=null&&r.push(`Body: ${(0,e.toJson)(t,void 0,2)}`),r.join(`
`)}return dg}var fg={},e4;function hle(){if(e4)return fg;e4=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.CohereTimeoutError=void 0;let e=class q7 extends Error{constructor(o){super(o),Object.setPrototypeOf(this,q7.prototype)}};return fg.CohereTimeoutError=e,fg}var t4;function Wt(){return t4||(t4=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CohereTimeoutError=e.CohereError=void 0;var n=fle();Object.defineProperty(e,"CohereError",{enumerable:!0,get:function(){return n.CohereError}});var o=hle();Object.defineProperty(e,"CohereTimeoutError",{enumerable:!0,get:function(){return o.CohereTimeoutError}})})(JS)),JS}var r4;function ple(){if(r4)return Jn;r4=1;var e=Jn&&Jn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Jn&&Jn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Jn&&Jn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.BadRequestError=void 0;const i=o(Wt());let u=class B7 extends i.CohereError{constructor(r,a){super({message:"BadRequestError",statusCode:400,body:r,rawResponse:a}),Object.setPrototypeOf(this,B7.prototype)}};return Jn.BadRequestError=u,Jn}var Zn={},n4;function gle(){if(n4)return Zn;n4=1;var e=Zn&&Zn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Zn&&Zn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Zn&&Zn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.ClientClosedRequestError=void 0;const i=o(Wt());let u=class L7 extends i.CohereError{constructor(r,a){super({message:"ClientClosedRequestError",statusCode:499,body:r,rawResponse:a}),Object.setPrototypeOf(this,L7.prototype)}};return Zn.ClientClosedRequestError=u,Zn}var Qn={},a4;function mle(){if(a4)return Qn;a4=1;var e=Qn&&Qn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Qn&&Qn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Qn&&Qn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.ForbiddenError=void 0;const i=o(Wt());let u=class U7 extends i.CohereError{constructor(r,a){super({message:"ForbiddenError",statusCode:403,body:r,rawResponse:a}),Object.setPrototypeOf(this,U7.prototype)}};return Qn.ForbiddenError=u,Qn}var Xn={},i4;function _le(){if(i4)return Xn;i4=1;var e=Xn&&Xn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Xn&&Xn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Xn&&Xn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.GatewayTimeoutError=void 0;const i=o(Wt());let u=class $7 extends i.CohereError{constructor(r,a){super({message:"GatewayTimeoutError",statusCode:504,body:r,rawResponse:a}),Object.setPrototypeOf(this,$7.prototype)}};return Xn.GatewayTimeoutError=u,Xn}var ea={},o4;function yle(){if(o4)return ea;o4=1;var e=ea&&ea.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ea&&ea.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ea&&ea.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ea,"__esModule",{value:!0}),ea.InternalServerError=void 0;const i=o(Wt());let u=class F7 extends i.CohereError{constructor(r,a){super({message:"InternalServerError",statusCode:500,body:r,rawResponse:a}),Object.setPrototypeOf(this,F7.prototype)}};return ea.InternalServerError=u,ea}var ta={},s4;function vle(){if(s4)return ta;s4=1;var e=ta&&ta.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ta&&ta.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ta&&ta.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ta,"__esModule",{value:!0}),ta.InvalidTokenError=void 0;const i=o(Wt());let u=class V7 extends i.CohereError{constructor(r,a){super({message:"InvalidTokenError",statusCode:498,body:r,rawResponse:a}),Object.setPrototypeOf(this,V7.prototype)}};return ta.InvalidTokenError=u,ta}var ra={},u4;function ble(){if(u4)return ra;u4=1;var e=ra&&ra.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ra&&ra.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ra&&ra.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ra,"__esModule",{value:!0}),ra.NotFoundError=void 0;const i=o(Wt());let u=class G7 extends i.CohereError{constructor(r,a){super({message:"NotFoundError",statusCode:404,body:r,rawResponse:a}),Object.setPrototypeOf(this,G7.prototype)}};return ra.NotFoundError=u,ra}var na={},l4;function wle(){if(l4)return na;l4=1;var e=na&&na.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=na&&na.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=na&&na.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(na,"__esModule",{value:!0}),na.NotImplementedError=void 0;const i=o(Wt());let u=class H7 extends i.CohereError{constructor(r,a){super({message:"NotImplementedError",statusCode:501,body:r,rawResponse:a}),Object.setPrototypeOf(this,H7.prototype)}};return na.NotImplementedError=u,na}var aa={},c4;function Ole(){if(c4)return aa;c4=1;var e=aa&&aa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=aa&&aa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=aa&&aa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(aa,"__esModule",{value:!0}),aa.ServiceUnavailableError=void 0;const i=o(Wt());let u=class K7 extends i.CohereError{constructor(r,a){super({message:"ServiceUnavailableError",statusCode:503,body:r,rawResponse:a}),Object.setPrototypeOf(this,K7.prototype)}};return aa.ServiceUnavailableError=u,aa}var ia={},d4;function Sle(){if(d4)return ia;d4=1;var e=ia&&ia.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ia&&ia.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ia&&ia.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ia,"__esModule",{value:!0}),ia.TooManyRequestsError=void 0;const i=o(Wt());let u=class k7 extends i.CohereError{constructor(r,a){super({message:"TooManyRequestsError",statusCode:429,body:r,rawResponse:a}),Object.setPrototypeOf(this,k7.prototype)}};return ia.TooManyRequestsError=u,ia}var oa={},f4;function Ele(){if(f4)return oa;f4=1;var e=oa&&oa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=oa&&oa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=oa&&oa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(oa,"__esModule",{value:!0}),oa.UnauthorizedError=void 0;const i=o(Wt());let u=class Y7 extends i.CohereError{constructor(r,a){super({message:"UnauthorizedError",statusCode:401,body:r,rawResponse:a}),Object.setPrototypeOf(this,Y7.prototype)}};return oa.UnauthorizedError=u,oa}var sa={},h4;function Rle(){if(h4)return sa;h4=1;var e=sa&&sa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=sa&&sa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=sa&&sa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(sa,"__esModule",{value:!0}),sa.UnprocessableEntityError=void 0;const i=o(Wt());let u=class W7 extends i.CohereError{constructor(r,a){super({message:"UnprocessableEntityError",statusCode:422,body:r,rawResponse:a}),Object.setPrototypeOf(this,W7.prototype)}};return sa.UnprocessableEntityError=u,sa}var p4;function jle(){return p4||(p4=1,(function(e){var n=Ad&&Ad.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Ad&&Ad.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(ple(),e),o(gle(),e),o(mle(),e),o(_le(),e),o(yle(),e),o(vle(),e),o(ble(),e),o(wle(),e),o(Ole(),e),o(Sle(),e),o(Ele(),e),o(Rle(),e)})(Ad)),Ad}var ua={},Nd={},Dd={},ZS={},g4;function J7(){return g4||(g4=1,Object.defineProperty(ZS,"__esModule",{value:!0})),ZS}var m4;function Cle(){return m4||(m4=1,(function(e){var n=Dd&&Dd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Dd&&Dd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(J7(),e)})(Dd)),Dd}var Id={},QS={},_4;function Tle(){return _4||(_4=1,Object.defineProperty(QS,"__esModule",{value:!0})),QS}var hg={},y4;function Mle(){return y4||(y4=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.BatchStatus=void 0,hg.BatchStatus={BatchStatusUnspecified:"BATCH_STATUS_UNSPECIFIED",BatchStatusQueued:"BATCH_STATUS_QUEUED",BatchStatusInProgress:"BATCH_STATUS_IN_PROGRESS",BatchStatusCanceling:"BATCH_STATUS_CANCELING",BatchStatusCompleted:"BATCH_STATUS_COMPLETED",BatchStatusFailed:"BATCH_STATUS_FAILED",BatchStatusCanceled:"BATCH_STATUS_CANCELED"}),hg}var XS={},v4;function xle(){return v4||(v4=1,Object.defineProperty(XS,"__esModule",{value:!0})),XS}var eE={},b4;function Ple(){return b4||(b4=1,Object.defineProperty(eE,"__esModule",{value:!0})),eE}var tE={},w4;function Ale(){return w4||(w4=1,Object.defineProperty(tE,"__esModule",{value:!0})),tE}var rE={},O4;function Nle(){return O4||(O4=1,Object.defineProperty(rE,"__esModule",{value:!0})),rE}var S4;function Z7(){return S4||(S4=1,(function(e){var n=Id&&Id.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Id&&Id.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Tle(),e),o(Mle(),e),o(xle(),e),o(Ple(),e),o(Ale(),e),o(Nle(),e)})(Id)),Id}var E4;function Dle(){return E4||(E4=1,(function(e){var n=Nd&&Nd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Nd&&Nd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Cle(),e),o(Z7(),e)})(Nd)),Nd}var zd={},qd={},nE={},R4;function Q7(){return R4||(R4=1,Object.defineProperty(nE,"__esModule",{value:!0})),nE}var j4;function Ile(){return j4||(j4=1,(function(e){var n=qd&&qd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=qd&&qd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Q7(),e)})(qd)),qd}var C4;function zle(){return C4||(C4=1,(function(e){var n=zd&&zd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=zd&&zd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Ile(),e)})(zd)),zd}var Bd={},Ld={},aE={},T4;function X7(){return T4||(T4=1,Object.defineProperty(aE,"__esModule",{value:!0})),aE}var M4;function qle(){return M4||(M4=1,(function(e){var n=Ld&&Ld.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Ld&&Ld.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(X7(),e)})(Ld)),Ld}var Ud={},iE={},x4;function Ble(){return x4||(x4=1,Object.defineProperty(iE,"__esModule",{value:!0})),iE}var oE={},P4;function Lle(){return P4||(P4=1,Object.defineProperty(oE,"__esModule",{value:!0})),oE}var sE={},A4;function Ule(){return A4||(A4=1,Object.defineProperty(sE,"__esModule",{value:!0})),sE}var uE={},N4;function $le(){return N4||(N4=1,Object.defineProperty(uE,"__esModule",{value:!0})),uE}var D4;function eK(){return D4||(D4=1,(function(e){var n=Ud&&Ud.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Ud&&Ud.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Ble(),e),o(Lle(),e),o(Ule(),e),o($le(),e)})(Ud)),Ud}var I4;function Fle(){return I4||(I4=1,(function(e){var n=Bd&&Bd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Bd&&Bd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(qle(),e),o(eK(),e)})(Bd)),Bd}var $d={},Fd={},lE={},z4;function tK(){return z4||(z4=1,Object.defineProperty(lE,"__esModule",{value:!0})),lE}var q4;function Vle(){return q4||(q4=1,(function(e){var n=Fd&&Fd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Fd&&Fd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(tK(),e)})(Fd)),Fd}var Vd={},pg={},B4;function Gle(){return B4||(B4=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.CreateEmbedJobRequestTruncate=void 0,pg.CreateEmbedJobRequestTruncate={Start:"START",End:"END"}),pg}var L4;function rK(){return L4||(L4=1,(function(e){var n=Vd&&Vd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Vd&&Vd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Gle(),e)})(Vd)),Vd}var U4;function Hle(){return U4||(U4=1,(function(e){var n=$d&&$d.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=$d&&$d.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Vle(),e),o(rK(),e)})($d)),$d}var Gd={},Hd={},cE={},$4;function nK(){return $4||($4=1,Object.defineProperty(cE,"__esModule",{value:!0})),cE}var F4;function Kle(){return F4||(F4=1,(function(e){var n=Hd&&Hd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Hd&&Hd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(nK(),e)})(Hd)),Hd}var la={},Kd={},kd={},dE={},V4;function kle(){return V4||(V4=1,Object.defineProperty(dE,"__esModule",{value:!0})),dE}var gg={},G4;function Yle(){return G4||(G4=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.BaseType=void 0,gg.BaseType={BaseTypeUnspecified:"BASE_TYPE_UNSPECIFIED",BaseTypeGenerative:"BASE_TYPE_GENERATIVE",BaseTypeClassification:"BASE_TYPE_CLASSIFICATION",BaseTypeRerank:"BASE_TYPE_RERANK",BaseTypeChat:"BASE_TYPE_CHAT"}),gg}var fE={},H4;function Wle(){return H4||(H4=1,Object.defineProperty(fE,"__esModule",{value:!0})),fE}var hE={},K4;function Jle(){return K4||(K4=1,Object.defineProperty(hE,"__esModule",{value:!0})),hE}var pE={},k4;function Zle(){return k4||(k4=1,Object.defineProperty(pE,"__esModule",{value:!0})),pE}var gE={},Y4;function Qle(){return Y4||(Y4=1,Object.defineProperty(gE,"__esModule",{value:!0})),gE}var mE={},W4;function Xle(){return W4||(W4=1,Object.defineProperty(mE,"__esModule",{value:!0})),mE}var _E={},J4;function ece(){return J4||(J4=1,Object.defineProperty(_E,"__esModule",{value:!0})),_E}var yE={},Z4;function tce(){return Z4||(Z4=1,Object.defineProperty(yE,"__esModule",{value:!0})),yE}var vE={},Q4;function rce(){return Q4||(Q4=1,Object.defineProperty(vE,"__esModule",{value:!0})),vE}var bE={},X4;function nce(){return X4||(X4=1,Object.defineProperty(bE,"__esModule",{value:!0})),bE}var mg={},eq;function ace(){return eq||(eq=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.LoraTargetModules=void 0,mg.LoraTargetModules={LoraTargetModulesUnspecified:"LORA_TARGET_MODULES_UNSPECIFIED",LoraTargetModulesQv:"LORA_TARGET_MODULES_QV",LoraTargetModulesQkvo:"LORA_TARGET_MODULES_QKVO",LoraTargetModulesQkvoFfn:"LORA_TARGET_MODULES_QKVO_FFN"}),mg}var wE={},tq;function ice(){return tq||(tq=1,Object.defineProperty(wE,"__esModule",{value:!0})),wE}var _g={},rq;function oce(){return rq||(rq=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.Status=void 0,_g.Status={StatusUnspecified:"STATUS_UNSPECIFIED",StatusFinetuning:"STATUS_FINETUNING",StatusDeployingApi:"STATUS_DEPLOYING_API",StatusReady:"STATUS_READY",StatusFailed:"STATUS_FAILED",StatusDeleted:"STATUS_DELETED",StatusTemporarilyOffline:"STATUS_TEMPORARILY_OFFLINE",StatusPaused:"STATUS_PAUSED",StatusQueued:"STATUS_QUEUED"}),_g}var yg={},nq;function sce(){return nq||(nq=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.Strategy=void 0,yg.Strategy={StrategyUnspecified:"STRATEGY_UNSPECIFIED",StrategyVanilla:"STRATEGY_VANILLA",StrategyTfew:"STRATEGY_TFEW"}),yg}var OE={},aq;function uce(){return aq||(aq=1,Object.defineProperty(OE,"__esModule",{value:!0})),OE}var SE={},iq;function lce(){return iq||(iq=1,Object.defineProperty(SE,"__esModule",{value:!0})),SE}var EE={},oq;function cce(){return oq||(oq=1,Object.defineProperty(EE,"__esModule",{value:!0})),EE}var sq;function aK(){return sq||(sq=1,(function(e){var n=kd&&kd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=kd&&kd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(kle(),e),o(Yle(),e),o(Wle(),e),o(Jle(),e),o(Zle(),e),o(Qle(),e),o(Xle(),e),o(ece(),e),o(tce(),e),o(rce(),e),o(nce(),e),o(ace(),e),o(ice(),e),o(oce(),e),o(sce(),e),o(uce(),e),o(lce(),e),o(cce(),e)})(kd)),kd}var uq;function dce(){return uq||(uq=1,(function(e){var n=Kd&&Kd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Kd&&Kd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(aK(),e)})(Kd)),Kd}var lq;function fce(){return lq||(lq=1,(function(e){var n=la&&la.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=la&&la.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=la&&la.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})(),u=la&&la.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.finetuning=void 0,e.finetuning=i(dce()),u(aK(),e)})(la)),la}var cq;function hce(){return cq||(cq=1,(function(e){var n=Gd&&Gd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Gd&&Gd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Kle(),e),o(fce(),e)})(Gd)),Gd}var Yd={},Wd={},RE={},dq;function iK(){return dq||(dq=1,Object.defineProperty(RE,"__esModule",{value:!0})),RE}var fq;function pce(){return fq||(fq=1,(function(e){var n=Wd&&Wd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Wd&&Wd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(iK(),e)})(Wd)),Wd}var hq;function gce(){return hq||(hq=1,(function(e){var n=Yd&&Yd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Yd&&Yd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(pce(),e)})(Yd)),Yd}var Jd={},Zd={},jE={},pq;function oK(){return pq||(pq=1,Object.defineProperty(jE,"__esModule",{value:!0})),jE}var gq;function mce(){return gq||(gq=1,(function(e){var n=Zd&&Zd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Zd&&Zd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(oK(),e)})(Zd)),Zd}var Qd={},CE={},mq;function _ce(){return mq||(mq=1,Object.defineProperty(CE,"__esModule",{value:!0})),CE}var vg={},_q;function yce(){return _q||(_q=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.V2ChatRequestSafetyMode=void 0,vg.V2ChatRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",Off:"OFF"}),vg}var bg={},yq;function vce(){return yq||(yq=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.V2ChatRequestToolChoice=void 0,bg.V2ChatRequestToolChoice={Required:"REQUIRED",None:"NONE"}),bg}var TE={},vq;function bce(){return vq||(vq=1,Object.defineProperty(TE,"__esModule",{value:!0})),TE}var ME={},bq;function wce(){return bq||(bq=1,Object.defineProperty(ME,"__esModule",{value:!0})),ME}var wg={},wq;function Oce(){return wq||(wq=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.V2ChatStreamRequestSafetyMode=void 0,wg.V2ChatStreamRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",Off:"OFF"}),wg}var Og={},Oq;function Sce(){return Oq||(Oq=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.V2ChatStreamRequestToolChoice=void 0,Og.V2ChatStreamRequestToolChoice={Required:"REQUIRED",None:"NONE"}),Og}var xE={},Sq;function Ece(){return Sq||(Sq=1,Object.defineProperty(xE,"__esModule",{value:!0})),xE}var Sg={},Eq;function Rce(){return Eq||(Eq=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.V2EmbedRequestTruncate=void 0,Sg.V2EmbedRequestTruncate={None:"NONE",Start:"START",End:"END"}),Sg}var PE={},Rq;function jce(){return Rq||(Rq=1,Object.defineProperty(PE,"__esModule",{value:!0})),PE}var AE={},jq;function Cce(){return jq||(jq=1,Object.defineProperty(AE,"__esModule",{value:!0})),AE}var Cq;function sK(){return Cq||(Cq=1,(function(e){var n=Qd&&Qd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Qd&&Qd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(_ce(),e),o(yce(),e),o(vce(),e),o(bce(),e),o(wce(),e),o(Oce(),e),o(Sce(),e),o(Ece(),e),o(Rce(),e),o(jce(),e),o(Cce(),e)})(Qd)),Qd}var Tq;function Tce(){return Tq||(Tq=1,(function(e){var n=Jd&&Jd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Jd&&Jd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(mce(),e),o(sK(),e)})(Jd)),Jd}var Mq;function Mce(){return Mq||(Mq=1,(function(e){var n=ua&&ua.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=ua&&ua.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=ua&&ua.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})(),u=ua&&ua.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.v2=e.models=e.finetuning=e.embedJobs=e.datasets=e.connectors=e.batches=void 0,e.batches=i(Dle()),u(J7(),e),u(Z7(),e),e.connectors=i(zle()),u(Q7(),e),e.datasets=i(Fle()),u(X7(),e),u(eK(),e),e.embedJobs=i(Hle()),u(tK(),e),u(rK(),e),e.finetuning=i(hce()),u(nK(),e),e.models=i(gce()),u(iK(),e),e.v2=i(Tce()),u(oK(),e),u(sK(),e)})(ua)),ua}var Xd={},NE={},xq;function xce(){return xq||(xq=1,Object.defineProperty(NE,"__esModule",{value:!0})),NE}var DE={},Pq;function Pce(){return Pq||(Pq=1,Object.defineProperty(DE,"__esModule",{value:!0})),DE}var IE={},Aq;function Ace(){return Aq||(Aq=1,Object.defineProperty(IE,"__esModule",{value:!0})),IE}var zE={},Nq;function Nce(){return Nq||(Nq=1,Object.defineProperty(zE,"__esModule",{value:!0})),zE}var qE={},Dq;function Dce(){return Dq||(Dq=1,Object.defineProperty(qE,"__esModule",{value:!0})),qE}var BE={},Iq;function Ice(){return Iq||(Iq=1,Object.defineProperty(BE,"__esModule",{value:!0})),BE}var LE={},zq;function zce(){return zq||(zq=1,Object.defineProperty(LE,"__esModule",{value:!0})),LE}var UE={},qq;function qce(){return qq||(qq=1,Object.defineProperty(UE,"__esModule",{value:!0})),UE}var $E={},Bq;function Bce(){return Bq||(Bq=1,Object.defineProperty($E,"__esModule",{value:!0})),$E}var Eg={},Lq;function Lce(){return Lq||(Lq=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.AuthTokenType=void 0,Eg.AuthTokenType={Bearer:"bearer",Basic:"basic",Noscheme:"noscheme"}),Eg}var FE={},Uq;function Uce(){return Uq||(Uq=1,Object.defineProperty(FE,"__esModule",{value:!0})),FE}var VE={},$q;function $ce(){return $q||($q=1,Object.defineProperty(VE,"__esModule",{value:!0})),VE}var Rg={},Fq;function Fce(){return Fq||(Fq=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.ChatCitationType=void 0,Rg.ChatCitationType={TextContent:"TEXT_CONTENT",Plan:"PLAN"}),Rg}var GE={},Vq;function Vce(){return Vq||(Vq=1,Object.defineProperty(GE,"__esModule",{value:!0})),GE}var HE={},Gq;function Gce(){return Gq||(Gq=1,Object.defineProperty(HE,"__esModule",{value:!0})),HE}var KE={},Hq;function Hce(){return Hq||(Hq=1,Object.defineProperty(KE,"__esModule",{value:!0})),KE}var kE={},Kq;function Kce(){return Kq||(Kq=1,Object.defineProperty(kE,"__esModule",{value:!0})),kE}var YE={},kq;function kce(){return kq||(kq=1,Object.defineProperty(YE,"__esModule",{value:!0})),YE}var WE={},Yq;function Yce(){return Yq||(Yq=1,Object.defineProperty(WE,"__esModule",{value:!0})),WE}var JE={},Wq;function Wce(){return Wq||(Wq=1,Object.defineProperty(JE,"__esModule",{value:!0})),JE}var ZE={},Jq;function Jce(){return Jq||(Jq=1,Object.defineProperty(ZE,"__esModule",{value:!0})),ZE}var QE={},Zq;function Zce(){return Zq||(Zq=1,Object.defineProperty(QE,"__esModule",{value:!0})),QE}var XE={},Qq;function Qce(){return Qq||(Qq=1,Object.defineProperty(XE,"__esModule",{value:!0})),XE}var jg={},Xq;function Xce(){return Xq||(Xq=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.ChatContentStartEventDeltaMessageContentType=void 0,jg.ChatContentStartEventDeltaMessageContentType={Text:"text",Thinking:"thinking"}),jg}var eR={},eB;function ede(){return eB||(eB=1,Object.defineProperty(eR,"__esModule",{value:!0})),eR}var tR={},tB;function tde(){return tB||(tB=1,Object.defineProperty(tR,"__esModule",{value:!0})),tR}var rR={},rB;function rde(){return rB||(rB=1,Object.defineProperty(rR,"__esModule",{value:!0})),rR}var nR={},nB;function nde(){return nB||(nB=1,Object.defineProperty(nR,"__esModule",{value:!0})),nR}var Cg={},aB;function ade(){return aB||(aB=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.ChatFinishReason=void 0,Cg.ChatFinishReason={Complete:"COMPLETE",StopSequence:"STOP_SEQUENCE",MaxTokens:"MAX_TOKENS",ToolCall:"TOOL_CALL",Error:"ERROR",Timeout:"TIMEOUT"}),Cg}var aR={},iB;function ide(){return iB||(iB=1,Object.defineProperty(aR,"__esModule",{value:!0})),aR}var iR={},oB;function ode(){return oB||(oB=1,Object.defineProperty(iR,"__esModule",{value:!0})),iR}var oR={},sB;function sde(){return sB||(sB=1,Object.defineProperty(oR,"__esModule",{value:!0})),oR}var sR={},uB;function ude(){return uB||(uB=1,Object.defineProperty(sR,"__esModule",{value:!0})),sR}var uR={},lB;function lde(){return lB||(lB=1,Object.defineProperty(uR,"__esModule",{value:!0})),uR}var lR={},cB;function cde(){return cB||(cB=1,Object.defineProperty(lR,"__esModule",{value:!0})),lR}var cR={},dB;function dde(){return dB||(dB=1,Object.defineProperty(cR,"__esModule",{value:!0})),cR}var dR={},fB;function fde(){return fB||(fB=1,Object.defineProperty(dR,"__esModule",{value:!0})),dR}var Tg={},hB;function hde(){return hB||(hB=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.ChatRequestCitationQuality=void 0,Tg.ChatRequestCitationQuality={Enabled:"ENABLED",Disabled:"DISABLED",Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}),Tg}var Mg={},pB;function pde(){return pB||(pB=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.ChatRequestPromptTruncation=void 0,Mg.ChatRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}),Mg}var xg={},gB;function gde(){return gB||(gB=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.ChatRequestSafetyMode=void 0,xg.ChatRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}),xg}var fR={},mB;function mde(){return mB||(mB=1,Object.defineProperty(fR,"__esModule",{value:!0})),fR}var hR={},_B;function _de(){return _B||(_B=1,Object.defineProperty(hR,"__esModule",{value:!0})),hR}var pR={},yB;function yde(){return yB||(yB=1,Object.defineProperty(pR,"__esModule",{value:!0})),pR}var gR={},vB;function vde(){return vB||(vB=1,Object.defineProperty(gR,"__esModule",{value:!0})),gR}var mR={},bB;function bde(){return bB||(bB=1,Object.defineProperty(mR,"__esModule",{value:!0})),mR}var _R={},wB;function wde(){return wB||(wB=1,Object.defineProperty(_R,"__esModule",{value:!0})),_R}var Pg={},OB;function Ode(){return OB||(OB=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.ChatStreamEndEventFinishReason=void 0,Pg.ChatStreamEndEventFinishReason={Complete:"COMPLETE",ErrorLimit:"ERROR_LIMIT",MaxTokens:"MAX_TOKENS",Error:"ERROR",ErrorToxic:"ERROR_TOXIC"}),Pg}var yR={},SB;function Sde(){return SB||(SB=1,Object.defineProperty(yR,"__esModule",{value:!0})),yR}var vR={},EB;function Ede(){return EB||(EB=1,Object.defineProperty(vR,"__esModule",{value:!0})),vR}var Ag={},RB;function Rde(){return RB||(RB=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.ChatStreamRequestCitationQuality=void 0,Ag.ChatStreamRequestCitationQuality={Enabled:"ENABLED",Disabled:"DISABLED",Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}),Ag}var Ng={},jB;function jde(){return jB||(jB=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.ChatStreamRequestPromptTruncation=void 0,Ng.ChatStreamRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}),Ng}var Dg={},CB;function Cde(){return CB||(CB=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.ChatStreamRequestSafetyMode=void 0,Dg.ChatStreamRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}),Dg}var bR={},TB;function Tde(){return TB||(TB=1,Object.defineProperty(bR,"__esModule",{value:!0})),bR}var wR={},MB;function Mde(){return MB||(MB=1,Object.defineProperty(wR,"__esModule",{value:!0})),wR}var OR={},xB;function xde(){return xB||(xB=1,Object.defineProperty(OR,"__esModule",{value:!0})),OR}var SR={},PB;function Pde(){return PB||(PB=1,Object.defineProperty(SR,"__esModule",{value:!0})),SR}var ER={},AB;function Ade(){return AB||(AB=1,Object.defineProperty(ER,"__esModule",{value:!0})),ER}var RR={},NB;function Nde(){return NB||(NB=1,Object.defineProperty(RR,"__esModule",{value:!0})),RR}var jR={},DB;function Dde(){return DB||(DB=1,Object.defineProperty(jR,"__esModule",{value:!0})),jR}var CR={},IB;function Ide(){return IB||(IB=1,Object.defineProperty(CR,"__esModule",{value:!0})),CR}var TR={},zB;function zde(){return zB||(zB=1,Object.defineProperty(TR,"__esModule",{value:!0})),TR}var MR={},qB;function qde(){return qB||(qB=1,Object.defineProperty(MR,"__esModule",{value:!0})),MR}var xR={},BB;function Bde(){return BB||(BB=1,Object.defineProperty(xR,"__esModule",{value:!0})),xR}var PR={},LB;function Lde(){return LB||(LB=1,Object.defineProperty(PR,"__esModule",{value:!0})),PR}var AR={},UB;function Ude(){return UB||(UB=1,Object.defineProperty(AR,"__esModule",{value:!0})),AR}var NR={},$B;function $de(){return $B||($B=1,Object.defineProperty(NR,"__esModule",{value:!0})),NR}var DR={},FB;function Fde(){return FB||(FB=1,Object.defineProperty(DR,"__esModule",{value:!0})),DR}var IR={},VB;function Vde(){return VB||(VB=1,Object.defineProperty(IR,"__esModule",{value:!0})),IR}var zR={},GB;function Gde(){return GB||(GB=1,Object.defineProperty(zR,"__esModule",{value:!0})),zR}var qR={},HB;function Hde(){return HB||(HB=1,Object.defineProperty(qR,"__esModule",{value:!0})),qR}var BR={},KB;function Kde(){return KB||(KB=1,Object.defineProperty(BR,"__esModule",{value:!0})),BR}var LR={},kB;function kde(){return kB||(kB=1,Object.defineProperty(LR,"__esModule",{value:!0})),LR}var UR={},YB;function Yde(){return YB||(YB=1,Object.defineProperty(UR,"__esModule",{value:!0})),UR}var $R={},WB;function Wde(){return WB||(WB=1,Object.defineProperty($R,"__esModule",{value:!0})),$R}var FR={},JB;function Jde(){return JB||(JB=1,Object.defineProperty(FR,"__esModule",{value:!0})),FR}var VR={},ZB;function Zde(){return ZB||(ZB=1,Object.defineProperty(VR,"__esModule",{value:!0})),VR}var GR={},QB;function Qde(){return QB||(QB=1,Object.defineProperty(GR,"__esModule",{value:!0})),GR}var HR={},XB;function Xde(){return XB||(XB=1,Object.defineProperty(HR,"__esModule",{value:!0})),HR}var Ig={},eL;function efe(){return eL||(eL=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.CitationOptionsMode=void 0,Ig.CitationOptionsMode={Enabled:"ENABLED",Disabled:"DISABLED",Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}),Ig}var KR={},tL;function tfe(){return tL||(tL=1,Object.defineProperty(KR,"__esModule",{value:!0})),KR}var kR={},rL;function rfe(){return rL||(rL=1,Object.defineProperty(kR,"__esModule",{value:!0})),kR}var YR={},nL;function nfe(){return nL||(nL=1,Object.defineProperty(YR,"__esModule",{value:!0})),YR}var zg={},aL;function afe(){return aL||(aL=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.CitationType=void 0,zg.CitationType={TextContent:"TEXT_CONTENT",ThinkingContent:"THINKING_CONTENT",Plan:"PLAN"}),zg}var WR={},iL;function ife(){return iL||(iL=1,Object.defineProperty(WR,"__esModule",{value:!0})),WR}var JR={},oL;function ofe(){return oL||(oL=1,Object.defineProperty(JR,"__esModule",{value:!0})),JR}var qg={},sL;function sfe(){return sL||(sL=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.ClassifyRequestTruncate=void 0,qg.ClassifyRequestTruncate={None:"NONE",Start:"START",End:"END"}),qg}var ZR={},uL;function ufe(){return uL||(uL=1,Object.defineProperty(ZR,"__esModule",{value:!0})),ZR}var QR={},lL;function lfe(){return lL||(lL=1,Object.defineProperty(QR,"__esModule",{value:!0})),QR}var Bg={},cL;function cfe(){return cL||(cL=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.ClassifyResponseClassificationsItemClassificationType=void 0,Bg.ClassifyResponseClassificationsItemClassificationType={SingleLabel:"single-label",MultiLabel:"multi-label"}),Bg}var XR={},dL;function dfe(){return dL||(dL=1,Object.defineProperty(XR,"__esModule",{value:!0})),XR}var Lg={},fL;function ffe(){return fL||(fL=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.CompatibleEndpoint=void 0,Lg.CompatibleEndpoint={Chat:"chat",Embed:"embed",Classify:"classify",Summarize:"summarize",Rerank:"rerank",Rate:"rate",Generate:"generate"}),Lg}var ej={},hL;function hfe(){return hL||(hL=1,Object.defineProperty(ej,"__esModule",{value:!0})),ej}var Ug={},pL;function pfe(){return pL||(pL=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.ConnectorAuthStatus=void 0,Ug.ConnectorAuthStatus={Valid:"valid",Expired:"expired"}),Ug}var tj={},gL;function gfe(){return gL||(gL=1,Object.defineProperty(tj,"__esModule",{value:!0})),tj}var rj={},mL;function mfe(){return mL||(mL=1,Object.defineProperty(rj,"__esModule",{value:!0})),rj}var nj={},_L;function _fe(){return _L||(_L=1,Object.defineProperty(nj,"__esModule",{value:!0})),nj}var aj={},yL;function yfe(){return yL||(yL=1,Object.defineProperty(aj,"__esModule",{value:!0})),aj}var ij={},vL;function vfe(){return vL||(vL=1,Object.defineProperty(ij,"__esModule",{value:!0})),ij}var oj={},bL;function bfe(){return bL||(bL=1,Object.defineProperty(oj,"__esModule",{value:!0})),oj}var sj={},wL;function wfe(){return wL||(wL=1,Object.defineProperty(sj,"__esModule",{value:!0})),sj}var uj={},OL;function Ofe(){return OL||(OL=1,Object.defineProperty(uj,"__esModule",{value:!0})),uj}var $g={},SL;function Sfe(){return SL||(SL=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.DatasetType=void 0,$g.DatasetType={EmbedInput:"embed-input",EmbedResult:"embed-result",ClusterResult:"cluster-result",ClusterOutliers:"cluster-outliers",RerankerFinetuneInput:"reranker-finetune-input",SingleLabelClassificationFinetuneInput:"single-label-classification-finetune-input",ChatFinetuneInput:"chat-finetune-input",MultiLabelClassificationFinetuneInput:"multi-label-classification-finetune-input",BatchChatInput:"batch-chat-input",BatchOpenaiChatInput:"batch-openai-chat-input",BatchEmbedV2Input:"batch-embed-v2-input",BatchChatV2Input:"batch-chat-v2-input"}),$g}var Fg={},EL;function Efe(){return EL||(EL=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.DatasetValidationStatus=void 0,Fg.DatasetValidationStatus={Unknown:"unknown",Queued:"queued",Processing:"processing",Failed:"failed",Validated:"validated",Skipped:"skipped"}),Fg}var lj={},RL;function Rfe(){return RL||(RL=1,Object.defineProperty(lj,"__esModule",{value:!0})),lj}var cj={},jL;function jfe(){return jL||(jL=1,Object.defineProperty(cj,"__esModule",{value:!0})),cj}var dj={},CL;function Cfe(){return CL||(CL=1,Object.defineProperty(dj,"__esModule",{value:!0})),dj}var fj={},TL;function Tfe(){return TL||(TL=1,Object.defineProperty(fj,"__esModule",{value:!0})),fj}var hj={},ML;function Mfe(){return ML||(ML=1,Object.defineProperty(hj,"__esModule",{value:!0})),hj}var pj={},xL;function xfe(){return xL||(xL=1,Object.defineProperty(pj,"__esModule",{value:!0})),pj}var gj={},PL;function Pfe(){return PL||(PL=1,Object.defineProperty(gj,"__esModule",{value:!0})),gj}var Vg={},AL;function Afe(){return AL||(AL=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.EmbeddingType=void 0,Vg.EmbeddingType={Float:"float",Int8:"int8",Uint8:"uint8",Binary:"binary",Ubinary:"ubinary",Base64:"base64"}),Vg}var mj={},NL;function Nfe(){return NL||(NL=1,Object.defineProperty(mj,"__esModule",{value:!0})),mj}var _j={},DL;function Dfe(){return DL||(DL=1,Object.defineProperty(_j,"__esModule",{value:!0})),_j}var yj={},IL;function Ife(){return IL||(IL=1,Object.defineProperty(yj,"__esModule",{value:!0})),yj}var vj={},zL;function zfe(){return zL||(zL=1,Object.defineProperty(vj,"__esModule",{value:!0})),vj}var Gg={},qL;function qfe(){return qL||(qL=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.EmbedInputType=void 0,Gg.EmbedInputType={SearchDocument:"search_document",SearchQuery:"search_query",Classification:"classification",Clustering:"clustering",Image:"image"}),Gg}var bj={},BL;function Bfe(){return BL||(BL=1,Object.defineProperty(bj,"__esModule",{value:!0})),bj}var Hg={},LL;function Lfe(){return LL||(LL=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.EmbedJobStatus=void 0,Hg.EmbedJobStatus={Processing:"processing",Complete:"complete",Cancelling:"cancelling",Cancelled:"cancelled",Failed:"failed"}),Hg}var Kg={},UL;function Ufe(){return UL||(UL=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.EmbedJobTruncate=void 0,Kg.EmbedJobTruncate={Start:"START",End:"END"}),Kg}var kg={},$L;function $fe(){return $L||($L=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.EmbedRequestTruncate=void 0,kg.EmbedRequestTruncate={None:"NONE",Start:"START",End:"END"}),kg}var wj={},FL;function Ffe(){return FL||(FL=1,Object.defineProperty(wj,"__esModule",{value:!0})),wj}var Oj={},VL;function Vfe(){return VL||(VL=1,Object.defineProperty(Oj,"__esModule",{value:!0})),Oj}var Sj={},GL;function Gfe(){return GL||(GL=1,Object.defineProperty(Sj,"__esModule",{value:!0})),Sj}var Yg={},HL;function Hfe(){return HL||(HL=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.FinishReason=void 0,Yg.FinishReason={Complete:"COMPLETE",StopSequence:"STOP_SEQUENCE",Error:"ERROR",ErrorToxic:"ERROR_TOXIC",ErrorLimit:"ERROR_LIMIT",UserCancel:"USER_CANCEL",MaxTokens:"MAX_TOKENS",Timeout:"TIMEOUT"}),Yg}var Wg={},KL;function Kfe(){return KL||(KL=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.GenerateRequestReturnLikelihoods=void 0,Wg.GenerateRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}),Wg}var Jg={},kL;function kfe(){return kL||(kL=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.GenerateRequestTruncate=void 0,Jg.GenerateRequestTruncate={None:"NONE",Start:"START",End:"END"}),Jg}var Ej={},YL;function Yfe(){return YL||(YL=1,Object.defineProperty(Ej,"__esModule",{value:!0})),Ej}var Rj={},WL;function Wfe(){return WL||(WL=1,Object.defineProperty(Rj,"__esModule",{value:!0})),Rj}var jj={},JL;function Jfe(){return JL||(JL=1,Object.defineProperty(jj,"__esModule",{value:!0})),jj}var Cj={},ZL;function Zfe(){return ZL||(ZL=1,Object.defineProperty(Cj,"__esModule",{value:!0})),Cj}var Tj={},QL;function Qfe(){return QL||(QL=1,Object.defineProperty(Tj,"__esModule",{value:!0})),Tj}var Zg={},XL;function Xfe(){return XL||(XL=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.GenerateStreamRequestReturnLikelihoods=void 0,Zg.GenerateStreamRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}),Zg}var Qg={},eU;function ehe(){return eU||(eU=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.GenerateStreamRequestTruncate=void 0,Qg.GenerateStreamRequestTruncate={None:"NONE",Start:"START",End:"END"}),Qg}var Mj={},tU;function the(){return tU||(tU=1,Object.defineProperty(Mj,"__esModule",{value:!0})),Mj}var xj={},rU;function rhe(){return rU||(rU=1,Object.defineProperty(xj,"__esModule",{value:!0})),xj}var Pj={},nU;function nhe(){return nU||(nU=1,Object.defineProperty(Pj,"__esModule",{value:!0})),Pj}var Aj={},aU;function ahe(){return aU||(aU=1,Object.defineProperty(Aj,"__esModule",{value:!0})),Aj}var Nj={},iU;function ihe(){return iU||(iU=1,Object.defineProperty(Nj,"__esModule",{value:!0})),Nj}var Dj={},oU;function ohe(){return oU||(oU=1,Object.defineProperty(Dj,"__esModule",{value:!0})),Dj}var Ij={},sU;function she(){return sU||(sU=1,Object.defineProperty(Ij,"__esModule",{value:!0})),Ij}var Xg={},uU;function uhe(){return uU||(uU=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.ImageUrlDetail=void 0,Xg.ImageUrlDetail={Auto:"auto",Low:"low",High:"high"}),Xg}var zj={},lU;function lhe(){return lU||(lU=1,Object.defineProperty(zj,"__esModule",{value:!0})),zj}var qj={},cU;function che(){return cU||(cU=1,Object.defineProperty(qj,"__esModule",{value:!0})),qj}var Bj={},dU;function dhe(){return dU||(dU=1,Object.defineProperty(Bj,"__esModule",{value:!0})),Bj}var Lj={},fU;function fhe(){return fU||(fU=1,Object.defineProperty(Lj,"__esModule",{value:!0})),Lj}var Uj={},hU;function hhe(){return hU||(hU=1,Object.defineProperty(Uj,"__esModule",{value:!0})),Uj}var $j={},pU;function phe(){return pU||(pU=1,Object.defineProperty($j,"__esModule",{value:!0})),$j}var Fj={},gU;function ghe(){return gU||(gU=1,Object.defineProperty(Fj,"__esModule",{value:!0})),Fj}var Vj={},mU;function mhe(){return mU||(mU=1,Object.defineProperty(Vj,"__esModule",{value:!0})),Vj}var Gj={},_U;function _he(){return _U||(_U=1,Object.defineProperty(Gj,"__esModule",{value:!0})),Gj}var Hj={},yU;function yhe(){return yU||(yU=1,Object.defineProperty(Hj,"__esModule",{value:!0})),Hj}var Kj={},vU;function vhe(){return vU||(vU=1,Object.defineProperty(Kj,"__esModule",{value:!0})),Kj}var kj={},bU;function bhe(){return bU||(bU=1,Object.defineProperty(kj,"__esModule",{value:!0})),kj}var Yj={},wU;function whe(){return wU||(wU=1,Object.defineProperty(Yj,"__esModule",{value:!0})),Yj}var Wj={},OU;function Ohe(){return OU||(OU=1,Object.defineProperty(Wj,"__esModule",{value:!0})),Wj}var Jj={},SU;function She(){return SU||(SU=1,Object.defineProperty(Jj,"__esModule",{value:!0})),Jj}var Zj={},EU;function Ehe(){return EU||(EU=1,Object.defineProperty(Zj,"__esModule",{value:!0})),Zj}var Qj={},RU;function Rhe(){return RU||(RU=1,Object.defineProperty(Qj,"__esModule",{value:!0})),Qj}var Xj={},jU;function jhe(){return jU||(jU=1,Object.defineProperty(Xj,"__esModule",{value:!0})),Xj}var eC={},CU;function Che(){return CU||(CU=1,Object.defineProperty(eC,"__esModule",{value:!0})),eC}var tC={},TU;function The(){return TU||(TU=1,Object.defineProperty(tC,"__esModule",{value:!0})),tC}var rC={},MU;function Mhe(){return MU||(MU=1,Object.defineProperty(rC,"__esModule",{value:!0})),rC}var nC={},xU;function xhe(){return xU||(xU=1,Object.defineProperty(nC,"__esModule",{value:!0})),nC}var aC={},PU;function Phe(){return PU||(PU=1,Object.defineProperty(aC,"__esModule",{value:!0})),aC}var iC={},AU;function Ahe(){return AU||(AU=1,Object.defineProperty(iC,"__esModule",{value:!0})),iC}var oC={},NU;function Nhe(){return NU||(NU=1,Object.defineProperty(oC,"__esModule",{value:!0})),oC}var em={},DU;function Dhe(){return DU||(DU=1,Object.defineProperty(em,"__esModule",{value:!0}),em.SummarizeRequestExtractiveness=void 0,em.SummarizeRequestExtractiveness={Low:"low",Medium:"medium",High:"high"}),em}var tm={},IU;function Ihe(){return IU||(IU=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.SummarizeRequestFormat=void 0,tm.SummarizeRequestFormat={Paragraph:"paragraph",Bullets:"bullets"}),tm}var rm={},zU;function zhe(){return zU||(zU=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.SummarizeRequestLength=void 0,rm.SummarizeRequestLength={Short:"short",Medium:"medium",Long:"long"}),rm}var sC={},qU;function qhe(){return qU||(qU=1,Object.defineProperty(sC,"__esModule",{value:!0})),sC}var uC={},BU;function Bhe(){return BU||(BU=1,Object.defineProperty(uC,"__esModule",{value:!0})),uC}var lC={},LU;function Lhe(){return LU||(LU=1,Object.defineProperty(lC,"__esModule",{value:!0})),lC}var cC={},UU;function Uhe(){return UU||(UU=1,Object.defineProperty(cC,"__esModule",{value:!0})),cC}var dC={},$U;function $he(){return $U||($U=1,Object.defineProperty(dC,"__esModule",{value:!0})),dC}var nm={},FU;function Fhe(){return FU||(FU=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.ThinkingType=void 0,nm.ThinkingType={Enabled:"enabled",Disabled:"disabled"}),nm}var fC={},VU;function Vhe(){return VU||(VU=1,Object.defineProperty(fC,"__esModule",{value:!0})),fC}var hC={},GU;function Ghe(){return GU||(GU=1,Object.defineProperty(hC,"__esModule",{value:!0})),hC}var pC={},HU;function Hhe(){return HU||(HU=1,Object.defineProperty(pC,"__esModule",{value:!0})),pC}var gC={},KU;function Khe(){return KU||(KU=1,Object.defineProperty(gC,"__esModule",{value:!0})),gC}var mC={},kU;function khe(){return kU||(kU=1,Object.defineProperty(mC,"__esModule",{value:!0})),mC}var _C={},YU;function Yhe(){return YU||(YU=1,Object.defineProperty(_C,"__esModule",{value:!0})),_C}var yC={},WU;function Whe(){return WU||(WU=1,Object.defineProperty(yC,"__esModule",{value:!0})),yC}var vC={},JU;function Jhe(){return JU||(JU=1,Object.defineProperty(vC,"__esModule",{value:!0})),vC}var bC={},ZU;function Zhe(){return ZU||(ZU=1,Object.defineProperty(bC,"__esModule",{value:!0})),bC}var wC={},QU;function Qhe(){return QU||(QU=1,Object.defineProperty(wC,"__esModule",{value:!0})),wC}var OC={},XU;function Xhe(){return XU||(XU=1,Object.defineProperty(OC,"__esModule",{value:!0})),OC}var SC={},e2;function epe(){return e2||(e2=1,Object.defineProperty(SC,"__esModule",{value:!0})),SC}var EC={},t2;function tpe(){return t2||(t2=1,Object.defineProperty(EC,"__esModule",{value:!0})),EC}var RC={},r2;function rpe(){return r2||(r2=1,Object.defineProperty(RC,"__esModule",{value:!0})),RC}var jC={},n2;function npe(){return n2||(n2=1,Object.defineProperty(jC,"__esModule",{value:!0})),jC}var CC={},a2;function ape(){return a2||(a2=1,Object.defineProperty(CC,"__esModule",{value:!0})),CC}var TC={},i2;function ipe(){return i2||(i2=1,Object.defineProperty(TC,"__esModule",{value:!0})),TC}var MC={},o2;function ope(){return o2||(o2=1,Object.defineProperty(MC,"__esModule",{value:!0})),MC}var xC={},s2;function spe(){return s2||(s2=1,Object.defineProperty(xC,"__esModule",{value:!0})),xC}var u2;function upe(){return u2||(u2=1,(function(e){var n=Xd&&Xd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Xd&&Xd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(xce(),e),o(Pce(),e),o(Ace(),e),o(Nce(),e),o(Dce(),e),o(Ice(),e),o(zce(),e),o(qce(),e),o(Bce(),e),o(Lce(),e),o(Uce(),e),o($ce(),e),o(Fce(),e),o(Vce(),e),o(Gce(),e),o(Hce(),e),o(Kce(),e),o(kce(),e),o(Yce(),e),o(Wce(),e),o(Jce(),e),o(Zce(),e),o(Qce(),e),o(Xce(),e),o(ede(),e),o(tde(),e),o(rde(),e),o(nde(),e),o(ade(),e),o(ide(),e),o(ode(),e),o(sde(),e),o(ude(),e),o(lde(),e),o(cde(),e),o(dde(),e),o(fde(),e),o(hde(),e),o(pde(),e),o(gde(),e),o(mde(),e),o(_de(),e),o(yde(),e),o(vde(),e),o(bde(),e),o(wde(),e),o(Ode(),e),o(Sde(),e),o(Ede(),e),o(Rde(),e),o(jde(),e),o(Cde(),e),o(Tde(),e),o(Mde(),e),o(xde(),e),o(Pde(),e),o(Ade(),e),o(Nde(),e),o(Dde(),e),o(Ide(),e),o(zde(),e),o(qde(),e),o(Bde(),e),o(Lde(),e),o(Ude(),e),o($de(),e),o(Fde(),e),o(Vde(),e),o(Gde(),e),o(Hde(),e),o(Kde(),e),o(kde(),e),o(Yde(),e),o(Wde(),e),o(Jde(),e),o(Zde(),e),o(Qde(),e),o(Xde(),e),o(efe(),e),o(tfe(),e),o(rfe(),e),o(nfe(),e),o(afe(),e),o(ife(),e),o(ofe(),e),o(sfe(),e),o(ufe(),e),o(lfe(),e),o(cfe(),e),o(dfe(),e),o(ffe(),e),o(hfe(),e),o(pfe(),e),o(gfe(),e),o(mfe(),e),o(_fe(),e),o(yfe(),e),o(vfe(),e),o(bfe(),e),o(wfe(),e),o(Ofe(),e),o(Sfe(),e),o(Efe(),e),o(Rfe(),e),o(jfe(),e),o(Cfe(),e),o(Tfe(),e),o(Mfe(),e),o(xfe(),e),o(Pfe(),e),o(Afe(),e),o(Nfe(),e),o(Dfe(),e),o(Ife(),e),o(zfe(),e),o(qfe(),e),o(Bfe(),e),o(Lfe(),e),o(Ufe(),e),o($fe(),e),o(Ffe(),e),o(Vfe(),e),o(Gfe(),e),o(Hfe(),e),o(Kfe(),e),o(kfe(),e),o(Yfe(),e),o(Wfe(),e),o(Jfe(),e),o(Zfe(),e),o(Qfe(),e),o(Xfe(),e),o(ehe(),e),o(the(),e),o(rhe(),e),o(nhe(),e),o(ahe(),e),o(ihe(),e),o(ohe(),e),o(she(),e),o(uhe(),e),o(lhe(),e),o(che(),e),o(dhe(),e),o(fhe(),e),o(hhe(),e),o(phe(),e),o(ghe(),e),o(mhe(),e),o(_he(),e),o(yhe(),e),o(vhe(),e),o(bhe(),e),o(whe(),e),o(Ohe(),e),o(She(),e),o(Ehe(),e),o(Rhe(),e),o(jhe(),e),o(Che(),e),o(The(),e),o(Mhe(),e),o(xhe(),e),o(Phe(),e),o(Ahe(),e),o(Nhe(),e),o(Dhe(),e),o(Ihe(),e),o(zhe(),e),o(qhe(),e),o(Bhe(),e),o(Lhe(),e),o(Uhe(),e),o($he(),e),o(Fhe(),e),o(Vhe(),e),o(Ghe(),e),o(Hhe(),e),o(Khe(),e),o(khe(),e),o(Yhe(),e),o(Whe(),e),o(Jhe(),e),o(Zhe(),e),o(Qhe(),e),o(Xhe(),e),o(epe(),e),o(tpe(),e),o(rpe(),e),o(npe(),e),o(ape(),e),o(ipe(),e),o(ope(),e),o(spe(),e)})(Xd)),Xd}var l2;function ic(){return l2||(l2=1,(function(e){var n=xd&&xd.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=xd&&xd.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(dle(),e),o(jle(),e),o(Mce(),e),o(upe(),e)})(xd)),xd}var ef={},on={};function lpe(e,n,o,i){function u(t){return t instanceof o?t:new o(function(r){r(t)})}return new(o||(o=Promise))(function(t,r){function a(f){try{l(i.next(f))}catch(m){r(m)}}function s(f){try{l(i.throw(f))}catch(m){r(m)}}function l(f){f.done?t(f.value):u(f.value).then(a,s)}l((i=i.apply(e,n||[])).next())})}function cpe(e,n){var o={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},i,u,t,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(l){return function(f){return s([l,f])}}function s(l){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(o=0)),o;)try{if(i=1,u&&(t=l[0]&2?u.return:l[0]?u.throw||((t=u.return)&&t.call(u),0):u.next)&&!(t=t.call(u,l[1])).done)return t;switch(u=0,t&&(l=[l[0]&2,t.value]),l[0]){case 0:case 1:t=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,u=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(t=o.trys,!(t=t.length>0&&t[t.length-1])&&(l[0]===6||l[0]===2)){o=0;continue}if(l[0]===3&&(!t||l[1]>t[0]&&l[1]<t[3])){o.label=l[1];break}if(l[0]===6&&o.label<t[1]){o.label=t[1],t=l;break}if(t&&o.label<t[2]){o.label=t[2],o.ops.push(l);break}t[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(f){l=[6,f],u=0}finally{i=t=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var zn=64,dpe=32,fpe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hpe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ppe=Math.pow(2,53)-1,Wv=(function(){function e(){this.state=Int32Array.from(hpe),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var o=0,i=n.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>ppe)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=n[o++],i--,this.bufferLength===zn&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,o=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(o.setUint8(this.bufferLength++,128),i%zn>=zn-8){for(var u=this.bufferLength;u<zn;u++)o.setUint8(u,0);this.hashBuffer(),this.bufferLength=0}for(var u=this.bufferLength;u<zn-8;u++)o.setUint8(u,0);o.setUint32(zn-8,Math.floor(n/4294967296),!0),o.setUint32(zn-4,n),this.hashBuffer(),this.finished=!0}for(var t=new Uint8Array(dpe),u=0;u<8;u++)t[u*4]=this.state[u]>>>24&255,t[u*4+1]=this.state[u]>>>16&255,t[u*4+2]=this.state[u]>>>8&255,t[u*4+3]=this.state[u]>>>0&255;return t},e.prototype.hashBuffer=function(){for(var n=this,o=n.buffer,i=n.state,u=i[0],t=i[1],r=i[2],a=i[3],s=i[4],l=i[5],f=i[6],m=i[7],b=0;b<zn;b++){if(b<16)this.temp[b]=(o[b*4]&255)<<24|(o[b*4+1]&255)<<16|(o[b*4+2]&255)<<8|o[b*4+3]&255;else{var _=this.temp[b-2],p=(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10;_=this.temp[b-15];var y=(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3;this.temp[b]=(p+this.temp[b-7]|0)+(y+this.temp[b-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&f)|0)+(m+(fpe[b]+this.temp[b]|0)|0)|0,S=((u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10))+(u&t^u&r^t&r)|0;m=f,f=l,l=s,s=a+v|0,a=r,r=t,t=u,u=v+S|0}i[0]+=u,i[1]+=t,i[2]+=r,i[3]+=a,i[4]+=s,i[5]+=l,i[6]+=f,i[7]+=m},e})();const gpe=e=>new TextEncoder().encode(e);var mpe=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:gpe;function uK(e){return e instanceof Uint8Array?e:typeof e=="string"?mpe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function _pe(e){return typeof e=="string"?e.length===0:e.byteLength===0}var ype=(function(){function e(n){this.secret=n,this.hash=new Wv,this.reset()}return e.prototype.update=function(n){if(!(_pe(n)||this.error))try{this.hash.update(uK(n))}catch(o){this.error=o}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return lpe(this,void 0,void 0,function(){return cpe(this,function(n){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Wv,this.secret){this.outer=new Wv;var n=vpe(this.secret),o=new Uint8Array(zn);o.set(n);for(var i=0;i<zn;i++)n[i]^=54,o[i]^=92;this.hash.update(n),this.outer.update(o);for(var i=0;i<n.byteLength;i++)n[i]=0}},e})();function vpe(e){var n=uK(e);if(n.byteLength>zn){var o=new Wv;o.update(n),n=o.digest()}var i=new Uint8Array(zn);return i.set(n),i}const bpe=Object.freeze(Object.defineProperty({__proto__:null,Sha256:ype},Symbol.toStringTag,{value:"Module"})),wpe=i_(bpe),Ope="modulepreload",Spe=function(e){return"/"+e},c2={},Yb=function(n,o,i){let u=Promise.resolve();if(o&&o.length>0){let s=function(l){return Promise.all(l.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");u=s(o.map(l=>{if(l=Spe(l),l in c2)return;c2[l]=!0;const f=l.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":Ope,f||(b.as="script"),b.crossOrigin="",b.href=l,a&&b.setAttribute("nonce",a),document.head.appendChild(b),f)return new Promise((_,p)=>{b.addEventListener("load",_),b.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function t(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return u.then(r=>{for(const a of r||[])a.status==="rejected"&&t(a.reason);return n().catch(t)})};class zM extends Error{name="ProviderError";tryNextLink;constructor(n,o=!0){let i,u=!0;typeof o=="boolean"?(i=void 0,u=o):o!=null&&typeof o=="object"&&(i=o.logger,u=o.tryNextLink??!0),super(n),this.tryNextLink=u,Object.setPrototypeOf(this,zM.prototype),i?.debug?.(`@smithy/property-provider ${u?"->":"(!)"} ${n}`)}static from(n,o=!0){return Object.assign(new this(n.message,o),n)}}class vn extends zM{name="CredentialsProviderError";constructor(n,o=!0){super(n,o),Object.setPrototypeOf(this,vn.prototype)}}function lK(e){return Promise.all(Object.keys(e).reduce((n,o)=>{const i=e[o];return typeof i=="string"?n.push([o,i]):n.push(i().then(u=>[o,u])),n},[])).then(n=>n.reduce((o,[i,u])=>(o[i]=u,o),{}))}function cK(e){return async n=>{e.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const{GetCredentialsForIdentityCommand:o,CognitoIdentityClient:i}=await Yb(async()=>{const{GetCredentialsForIdentityCommand:l,CognitoIdentityClient:f}=await import("./loadCognitoIdentity-BuOGw_Vs.js");return{GetCredentialsForIdentityCommand:l,CognitoIdentityClient:f}},__vite__mapDeps([0,1])),u=l=>e.clientConfig?.[l]??e.parentClientConfig?.[l]??n?.callerClientConfig?.[l],{Credentials:{AccessKeyId:t=Epe(e.logger),Expiration:r,SecretKey:a=jpe(e.logger),SessionToken:s}=Rpe(e.logger)}=await(e.client??new i(Object.assign({},e.clientConfig??{},{region:u("region"),profile:u("profile"),userAgentAppId:u("userAgentAppId")}))).send(new o({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await lK(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:t,secretAccessKey:a,sessionToken:s,expiration:r}}}function Epe(e){throw new vn("Response from Amazon Cognito contained no access key ID",{logger:e})}function Rpe(e){throw new vn("Response from Amazon Cognito contained no credentials",{logger:e})}function jpe(e){throw new vn("Response from Amazon Cognito contained no secret key",{logger:e})}const PC="IdentityIds";class Cpe{dbName;constructor(n="aws:cognito-identity-ids"){this.dbName=n}getItem(n){return this.withObjectStore("readonly",o=>{const i=o.get(n);return new Promise(u=>{i.onerror=()=>u(null),i.onsuccess=()=>u(i.result?i.result.value:null)})}).catch(()=>null)}removeItem(n){return this.withObjectStore("readwrite",o=>{const i=o.delete(n);return new Promise((u,t)=>{i.onerror=()=>t(i.error),i.onsuccess=()=>u()})})}setItem(n,o){return this.withObjectStore("readwrite",i=>{const u=i.put({id:n,value:o});return new Promise((t,r)=>{u.onerror=()=>r(u.error),u.onsuccess=()=>t()})})}getDb(){const n=self.indexedDB.open(this.dbName,1);return new Promise((o,i)=>{n.onsuccess=()=>{o(n.result)},n.onerror=()=>{i(n.error)},n.onblocked=()=>{i(new Error("Unable to access DB"))},n.onupgradeneeded=()=>{const u=n.result;u.onerror=()=>{i(new Error("Failed to create object store"))},u.createObjectStore(PC,{keyPath:"id"})}})}withObjectStore(n,o){return this.getDb().then(i=>{const u=i.transaction(PC,n);return u.oncomplete=()=>i.close(),new Promise((t,r)=>{u.onerror=()=>r(u.error),t(o(u.objectStore(PC)))}).catch(t=>{throw i.close(),t})})}}class Tpe{store;constructor(n={}){this.store=n}getItem(n){return n in this.store?this.store[n]:null}removeItem(n){delete this.store[n]}setItem(n,o){this.store[n]=o}}const Mpe=new Tpe;function xpe(){return typeof self=="object"&&self.indexedDB?new Cpe:typeof window=="object"&&window.localStorage?window.localStorage:Mpe}function Ppe({accountId:e,cache:n=xpe(),client:o,clientConfig:i,customRoleArn:u,identityPoolId:t,logins:r,userIdentifier:a=!r||Object.keys(r).length===0?"ANONYMOUS":void 0,logger:s,parentClientConfig:l}){s?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const f=a?`aws:cognito-identity-credentials:${t}:${a}`:void 0;let m=async b=>{const{GetIdCommand:_,CognitoIdentityClient:p}=await Yb(async()=>{const{GetIdCommand:R,CognitoIdentityClient:j}=await import("./loadCognitoIdentity-BuOGw_Vs.js");return{GetIdCommand:R,CognitoIdentityClient:j}},__vite__mapDeps([0,1])),y=R=>i?.[R]??l?.[R]??b?.callerClientConfig?.[R],v=o??new p(Object.assign({},i??{},{region:y("region"),profile:y("profile"),userAgentAppId:y("userAgentAppId")}));let S=f&&await n.getItem(f);if(!S){const{IdentityId:R=Ape(s)}=await v.send(new _({AccountId:e,IdentityPoolId:t,Logins:r?await lK(r):void 0}));S=R,f&&Promise.resolve(n.setItem(f,S)).catch(()=>{})}return m=cK({client:v,customRoleArn:u,logins:r,identityId:S}),m(b)};return b=>m(b).catch(async _=>{throw f&&Promise.resolve(n.removeItem(f)).catch(()=>{}),_})}function Ape(e){throw new vn("Response from Amazon Cognito contained no identity ID",{logger:e})}const Npe=e=>cK({...e}),Dpe=e=>Ppe({...e});var jT;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(jT||(jT={}));let d2=class{statusCode;reason;headers;body;constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;const o=n;return typeof o.statusCode=="number"&&typeof o.headers=="object"}};const qf=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ipe),Ipe=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function zpe(e){const n=[];for(let o of Object.keys(e).sort()){const i=e[o];if(o=qf(o),Array.isArray(i))for(let u=0,t=i.length;u<t;u++)n.push(`${o}=${qf(i[u])}`);else{let u=o;(i||typeof i=="string")&&(u+=`=${qf(i)}`),n.push(u)}}return n.join("&")}function f2(e,n){return new Request(e,n)}function qpe(e=0){return new Promise((n,o)=>{e&&setTimeout(()=>{const i=new Error(`Request did not complete within ${e} ms`);i.name="TimeoutError",o(i)},e)})}const AC={supported:void 0};class qM{config;configProvider;static create(n){return typeof n?.handle=="function"?n:new qM(n)}constructor(n){typeof n=="function"?this.configProvider=n().then(o=>o||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),AC.supported===void 0&&(AC.supported=typeof Request<"u"&&"keepalive"in f2("https://[::1]"))}destroy(){}async handle(n,{abortSignal:o,requestTimeout:i}={}){this.config||(this.config=await this.configProvider);const u=i??this.config.requestTimeout,t=this.config.keepAlive===!0,r=this.config.credentials;if(o?.aborted){const R=new Error("Request aborted");return R.name="AbortError",Promise.reject(R)}let a=n.path;const s=zpe(n.query||{});s&&(a+=`?${s}`),n.fragment&&(a+=`#${n.fragment}`);let l="";if(n.username!=null||n.password!=null){const R=n.username??"",j=n.password??"";l=`${R}:${j}@`}const{port:f,method:m}=n,b=`${n.protocol}//${l}${n.hostname}${f?`:${f}`:""}${a}`,_=m==="GET"||m==="HEAD"?void 0:n.body,p={body:_,headers:new Headers(n.headers),method:m,credentials:r};this.config?.cache&&(p.cache=this.config.cache),_&&(p.duplex="half"),typeof AbortController<"u"&&(p.signal=o),AC.supported&&(p.keepalive=t),typeof this.config.requestInit=="function"&&Object.assign(p,this.config.requestInit(n));let y=()=>{};const v=f2(b,p),S=[fetch(v).then(R=>{const j=R.headers,A={};for(const M of j.entries())A[M[0]]=M[1];return R.body!=null?{response:new d2({headers:A,reason:R.statusText,statusCode:R.status,body:R.body})}:R.blob().then(M=>({response:new d2({headers:A,reason:R.statusText,statusCode:R.status,body:M})}))}),qpe(u)];return o&&S.push(new Promise((R,j)=>{const A=()=>{const x=new Error("Request aborted");x.name="AbortError",j(x)};if(typeof o.addEventListener=="function"){const x=o;x.addEventListener("abort",A,{once:!0}),y=()=>x.removeEventListener("abort",A)}else o.onabort=A})),Promise.race(S).finally(y)}updateHttpClientConfig(n,o){this.config=void 0,this.configProvider=this.configProvider.then(i=>(i[n]=o,i))}httpHandlerConfigs(){return this.config??{}}}const dK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h2=Object.entries(dK).reduce((e,[n,o])=>(e[o]=Number(n),e),{}),Bpe=dK.split(""),Qh=6,Um=8,Lpe=63,Upe=e=>{let n=e.length/4*3;e.slice(-2)==="=="?n-=2:e.slice(-1)==="="&&n--;const o=new ArrayBuffer(n),i=new DataView(o);for(let u=0;u<e.length;u+=4){let t=0,r=0;for(let l=u,f=u+3;l<=f;l++)if(e[l]!=="="){if(!(e[l]in h2))throw new TypeError(`Invalid character ${e[l]} in base64 string.`);t|=h2[e[l]]<<(f-l)*Qh,r+=Qh}else t>>=Qh;const a=u/4*3;t>>=r%Um;const s=Math.floor(r/Um);for(let l=0;l<s;l++){const f=(s-l-1)*Um;i.setUint8(a+l,(t&255<<f)>>f)}}return new Uint8Array(o)},$pe=e=>new TextEncoder().encode(e);function Fpe(e){let n;typeof e=="string"?n=$pe(e):n=e;const o=typeof n=="object"&&typeof n.length=="number",i=typeof n=="object"&&typeof n.byteOffset=="number"&&typeof n.byteLength=="number";if(!o&&!i)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let u="";for(let t=0;t<n.length;t+=3){let r=0,a=0;for(let l=t,f=Math.min(t+3,n.length);l<f;l++)r|=n[l]<<(f-l-1)*Um,a+=Um;const s=Math.ceil(a/Qh);r<<=s*Qh-a;for(let l=1;l<=s;l++){const f=(s-l)*Qh;u+=Bpe[(r&Lpe<<f)>>f]}u+="==".slice(0,4-s)}return u}const Vpe=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Gpe(e):Hpe(e);async function Gpe(e){const n=await Kpe(e),o=Upe(n);return new Uint8Array(o)}async function Hpe(e){const n=[],o=e.getReader();let i=!1,u=0;for(;!i;){const{done:a,value:s}=await o.read();s&&(n.push(s),u+=s.length),i=a}const t=new Uint8Array(u);let r=0;for(const a of n)t.set(a,r),r+=a.length;return t}function Kpe(e){return new Promise((n,o)=>{const i=new FileReader;i.onloadend=()=>{if(i.readyState!==2)return o(new Error("Reader aborted too early"));const u=i.result??"",t=u.indexOf(","),r=t>-1?t+1:u.length;n(u.substring(r))},i.onabort=()=>o(new Error("Read aborted")),i.onerror=()=>o(i.error),i.readAsDataURL(e)})}const kpe="169.254.170.2",Ype="169.254.170.23",Wpe="[fd00:ec2::23]",Jpe=(e,n)=>{if(e.protocol!=="https:"&&!(e.hostname===kpe||e.hostname===Ype||e.hostname===Wpe)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;const o=e.hostname.split("."),i=u=>{const t=parseInt(u,10);return 0<=t&&t<=255};if(o[0]==="127"&&i(o[1])&&i(o[2])&&i(o[3])&&o.length===4)return}throw new vn(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:n})}};let Zpe=class CT{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const o=new CT({...n,headers:{...n.headers}});return o.query&&(o.query=Qpe(o.query)),o}static isInstance(n){if(!n)return!1;const o=n;return"method"in o&&"protocol"in o&&"hostname"in o&&"path"in o&&typeof o.query=="object"&&typeof o.headers=="object"}clone(){return CT.clone(this)}};function Qpe(e){return Object.keys(e).reduce((n,o)=>{const i=e[o];return{...n,[o]:Array.isArray(i)?[...i]:i}},{})}const Xpe=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},p2=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),fK={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),fK[e]=n}function ege(e){let n="";for(let o=0;o<e.byteLength;o++)n+=fK[e[o]];return n}const g2="The stream has already been transformed.",tge=e=>{if(!m2(e)&&!p2(e)){const u=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${u}`)}let n=!1;const o=async()=>{if(n)throw new Error(g2);return n=!0,await Vpe(e)},i=u=>{if(typeof u.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return u.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async u=>{const t=await o();if(u==="base64")return Fpe(t);if(u==="hex")return ege(t);if(u===void 0||u==="utf8"||u==="utf-8")return Xpe(t);if(typeof TextDecoder=="function")return new TextDecoder(u).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(g2);if(n=!0,m2(e))return i(e);if(p2(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},m2=e=>typeof Blob=="function"&&e instanceof Blob,_2=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},TT=e=>{if(e!=null){if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&cge.warn(lge(`Expected number but observed string: ${e}`)),n}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},rge=Math.ceil(2**127*(2-2**-23)),y2=e=>{const n=TT(e);if(n!==void 0&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>rge)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},nge=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},v2=e=>hK(e,16),b2=e=>hK(e,8),hK=(e,n)=>{const o=nge(e);if(o!==void 0&&age(o,n)!==o)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return o},age=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ige=e=>TT(typeof e=="string"?Wb(e):e),oge=e=>y2(typeof e=="string"?Wb(e):e),sge=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Wb=e=>{const n=e.match(sge);if(n===null||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Zm=e=>v2(typeof e=="string"?Wb(e):e),uge=e=>b2(typeof e=="string"?Wb(e):e),lge=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join(`
`),cge={warn:console.warn},dge=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],BM=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z0e(e){const n=e.getUTCFullYear(),o=e.getUTCMonth(),i=e.getUTCDay(),u=e.getUTCDate(),t=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),s=u<10?`0${u}`:`${u}`,l=t<10?`0${t}`:`${t}`,f=r<10?`0${r}`:`${r}`,m=a<10?`0${a}`:`${a}`;return`${dge[i]}, ${s} ${BM[o]} ${n} ${l}:${f}:${m} GMT`}const fge=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),hge=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=fge.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[o,i,u,t,r,a,s,l]=n,f=Zm(op(i)),m=Ol(u,"month",1,12),b=Ol(t,"day",1,31);return $m(f,m,b,{hours:r,minutes:a,seconds:s,fractionalMilliseconds:l})},pge=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Q0e=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=pge.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[o,i,u,t,r,a,s,l,f]=n,m=Zm(op(i)),b=Ol(u,"month",1,12),_=Ol(t,"day",1,31),p=$m(m,b,_,{hours:r,minutes:a,seconds:s,fractionalMilliseconds:l});return f.toUpperCase()!="Z"&&p.setTime(p.getTime()-Rge(f)),p},gge=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),mge=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),_ge=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),X0e=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=gge.exec(e);if(n){const[o,i,u,t,r,a,s,l]=n;return $m(Zm(op(t)),NC(u),Ol(i,"day",1,31),{hours:r,minutes:a,seconds:s,fractionalMilliseconds:l})}if(n=mge.exec(e),n){const[o,i,u,t,r,a,s,l]=n;return bge($m(yge(t),NC(u),Ol(i,"day",1,31),{hours:r,minutes:a,seconds:s,fractionalMilliseconds:l}))}if(n=_ge.exec(e),n){const[o,i,u,t,r,a,s,l]=n;return $m(Zm(op(l)),NC(i),Ol(u.trimLeft(),"day",1,31),{hours:t,minutes:r,seconds:a,fractionalMilliseconds:s})}throw new TypeError("Invalid RFC-7231 date-time value")},ewe=e=>{if(e==null)return;let n;if(typeof e=="number")n=e;else if(typeof e=="string")n=ige(e);else if(typeof e=="object"&&e.tag===1)n=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(n)||n===1/0||n===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(n*1e3))},$m=(e,n,o,i)=>{const u=n-1;return Oge(e,u,o),new Date(Date.UTC(e,u,o,Ol(i.hours,"hour",0,23),Ol(i.minutes,"minute",0,59),Ol(i.seconds,"seconds",0,60),Ege(i.fractionalMilliseconds)))},yge=e=>{const n=new Date().getUTCFullYear(),o=Math.floor(n/100)*100+Zm(op(e));return o<n?o+100:o},vge=50*365*24*60*60*1e3,bge=e=>e.getTime()-new Date().getTime()>vge?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,NC=e=>{const n=BM.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},wge=[31,28,31,30,31,30,31,31,30,31,30,31],Oge=(e,n,o)=>{let i=wge[n];if(n===1&&Sge(e)&&(i=29),o>i)throw new TypeError(`Invalid day for ${BM[n]} in ${e}: ${o}`)},Sge=e=>e%4===0&&(e%100!==0||e%400===0),Ol=(e,n,o,i)=>{const u=uge(op(e));if(u<o||u>i)throw new TypeError(`${n} must be between ${o} and ${i}, inclusive`);return u},Ege=e=>e==null?0:oge("0."+e)*1e3,Rge=e=>{const n=e[0];let o=1;if(n=="+")o=1;else if(n=="-")o=-1;else throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);const i=Number(e.substring(1,3)),u=Number(e.substring(4,6));return o*(i*60+u)*60*1e3},op=e=>{let n=0;for(;n<e.length-1&&e.charAt(n)==="0";)n++;return n===0?e:e.slice(n)};function jge(e){return new Zpe({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((n,[o,i])=>(n[o]=i,n),{}),fragment:e.hash})}async function Cge(e,n){const i=await tge(e.body).transformToString();if(e.statusCode===200){const u=JSON.parse(i);if(typeof u.AccessKeyId!="string"||typeof u.SecretAccessKey!="string"||typeof u.Token!="string"||typeof u.Expiration!="string")throw new vn("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:n});return{accessKeyId:u.AccessKeyId,secretAccessKey:u.SecretAccessKey,sessionToken:u.Token,expiration:hge(u.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let u={};try{u=JSON.parse(i)}catch{}throw Object.assign(new vn(`Server responded with status: ${e.statusCode}`,{logger:n}),{Code:u.Code,Message:u.Message})}throw new vn(`Server responded with status: ${e.statusCode}`,{logger:n})}const Tge=(e,n,o)=>async()=>{for(let i=0;i<n;++i)try{return await e()}catch{await new Promise(t=>setTimeout(t,o))}return await e()},Mge=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let n;const o=e.credentialsFullUri;if(o)n=o;else throw new vn("No HTTP credential provider host provided.",{logger:e.logger});const i=new URL(n);Jpe(i,e.logger);const u=new qM;return Tge(async()=>{const t=jge(i);e.authorizationToken&&(t.headers.Authorization=e.authorizationToken);const r=await u.handle(t);return Cge(r.response)},e.maxRetries??3,e.timeout??1e3)},xge=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},Pge="us-east-1",Age=(e,n,o)=>{let i;return async(u={})=>{const{callerClientConfig:t}=u,r=e.clientConfig?.profile??t?.profile,a=e.logger??t?.logger;a?.debug("@aws-sdk/credential-providers - fromTemporaryCredentials (STS)");const s={...e.params,RoleSessionName:e.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(s?.SerialNumber){if(!e.mfaCodeProvider)throw new vn("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",{tryNextLink:!1,logger:a});s.TokenCode=await e.mfaCodeProvider(s?.SerialNumber)}const{AssumeRoleCommand:l,STSClient:f}=await Yb(async()=>{const{AssumeRoleCommand:b,STSClient:_}=await import("./loadSts-B-mRbgsE.js").then(p=>p.v);return{AssumeRoleCommand:b,STSClient:_}},__vite__mapDeps([2,1,3]));if(!i){const b=typeof n=="function"?n():void 0,_=[e.masterCredentials,e.clientConfig?.credentials,void t?.credentials,t?.credentialDefaultProvider?.(),b];let p="STS client default credentials";if(_[0])p="options.masterCredentials";else if(_[1])p="options.clientConfig.credentials";else{if(_[2])throw p="caller client's credentials",new Error("fromTemporaryCredentials recursion in callerClientConfig.credentials");_[3]?p="caller client's credentialDefaultProvider":_[4]&&(p="AWS SDK default credentials")}const y=[e.clientConfig?.region,t?.region,await o?.({profile:r}),Pge];let v="default partition's default region";y[0]?v="options.clientConfig.region":y[1]?v="caller client's region":y[2]&&(v="file or env region");const S=[w2(e.clientConfig?.requestHandler),w2(t?.requestHandler)];let R="STS default requestHandler";S[0]?R="options.clientConfig.requestHandler":S[1]&&(R="caller client's requestHandler"),a?.debug?.(`@aws-sdk/credential-providers - fromTemporaryCredentials STS client init with ${v}=${await xge(ov(y))()}, ${p}, ${R}.`),i=new f({userAgentAppId:t?.userAgentAppId,...e.clientConfig,credentials:ov(_),logger:a,profile:r,region:ov(y),requestHandler:ov(S)})}if(e.clientPlugins)for(const b of e.clientPlugins)i.middlewareStack.use(b);const{Credentials:m}=await i.send(new l(s));if(!m||!m.AccessKeyId||!m.SecretAccessKey)throw new vn(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`,{logger:a});return{accessKeyId:m.AccessKeyId,secretAccessKey:m.SecretAccessKey,sessionToken:m.SessionToken,expiration:m.Expiration,credentialScope:m.CredentialScope}}},w2=e=>e?.metadata?.handlerProtocol==="h2"?void 0:e,ov=e=>{for(const n of e)if(n!==void 0)return n},Nge={},Dge=Object.freeze(Object.defineProperty({__proto__:null,default:Nge},Symbol.toStringTag,{value:"Module"})),Ige=e=>async n=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");const{roleArn:o,roleSessionName:i,webIdentityToken:u,providerId:t,policyArns:r,policy:a,durationSeconds:s}=e;let{roleAssumerWithWebIdentity:l}=e;if(!l){const{getDefaultRoleAssumerWithWebIdentity:f}=await Yb(async()=>{const{getDefaultRoleAssumerWithWebIdentity:m}=await import("./index-DKvlMTvf.js");return{getDefaultRoleAssumerWithWebIdentity:m}},__vite__mapDeps([4,2,1,3]));l=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...n?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:o,RoleSessionName:i??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:u,ProviderId:t,PolicyArns:r,Policy:a,DurationSeconds:s})},zge=e=>Ige({...e}),qge=Object.freeze(Object.defineProperty({__proto__:null,fromCognitoIdentity:Npe,fromCognitoIdentityPool:Dpe,fromHttp:Mge,fromTemporaryCredentials:Age,fromWebToken:zge},Symbol.toStringTag,{value:"Module"})),Bge=i_(qge),Lge=e=>({setHttpHandler(n){e.httpHandler=n},httpHandler(){return e.httpHandler},updateHttpClientConfig(n,o){e.httpHandler?.updateHttpClientConfig(n,o)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),Uge=e=>({httpHandler:e.httpHandler()});class $ge{name;kind;values;constructor({name:n,kind:o=jT.HEADER,values:i=[]}){this.name=n,this.kind=o,this.values=i}add(n){this.values.push(n)}set(n){this.values=n}remove(n){this.values=this.values.filter(o=>o!==n)}toString(){return this.values.map(n=>n.includes(",")||n.includes(" ")?`"${n}"`:n).join(", ")}get(){return this.values}}class Fge{entries={};encoding;constructor({fields:n=[],encoding:o="utf-8"}){n.forEach(this.setField.bind(this)),this.encoding=o}setField(n){this.entries[n.name.toLowerCase()]=n}getField(n){return this.entries[n.toLowerCase()]}removeField(n){delete this.entries[n.toLowerCase()]}getByType(n){return Object.values(this.entries).filter(o=>o.kind===n)}}class sp{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const o=new sp({...n,headers:{...n.headers}});return o.query&&(o.query=Vge(o.query)),o}static isInstance(n){if(!n)return!1;const o=n;return"method"in o&&"protocol"in o&&"hostname"in o&&"path"in o&&typeof o.query=="object"&&typeof o.headers=="object"}clone(){return sp.clone(this)}}function Vge(e){return Object.keys(e).reduce((n,o)=>{const i=e[o];return{...n,[o]:Array.isArray(i)?[...i]:i}},{})}class Gge{statusCode;reason;headers;body;constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;const o=n;return typeof o.statusCode=="number"&&typeof o.headers=="object"}}function Hge(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}const Kge=Object.freeze(Object.defineProperty({__proto__:null,Field:$ge,Fields:Fge,HttpRequest:sp,HttpResponse:Gge,getHttpHandlerExtensionConfiguration:Lge,isValidHostname:Hge,resolveHttpHandlerRuntimeConfig:Uge},Symbol.toStringTag,{value:"Module"})),kge=i_(Kge),pK={},MT={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),pK[e]=n,MT[n]=e}function Yge(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(e.length/2);for(let o=0;o<e.length;o+=2){const i=e.slice(o,o+2).toLowerCase();if(i in MT)n[o/2]=MT[i];else throw new Error(`Cannot decode unrecognized sequence ${i} as hexadecimal`)}return n}function Bf(e){let n="";for(let o=0;o<e.byteLength;o++)n+=pK[e[o]];return n}const xT=e=>new TextEncoder().encode(e),Qm=e=>typeof e=="string"?xT(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),gK="X-Amz-Algorithm",mK="X-Amz-Credential",LM="X-Amz-Date",_K="X-Amz-SignedHeaders",yK="X-Amz-Expires",UM="X-Amz-Signature",$M="X-Amz-Security-Token",Wge="X-Amz-Region-Set",FM="authorization",VM=LM.toLowerCase(),vK="date",bK=[FM,VM,vK],wK=UM.toLowerCase(),Ob="x-amz-content-sha256",OK=$M.toLowerCase(),Jge="host",SK={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},EK=/^proxy-/,RK=/^sec-/,Zge=[/^proxy-/i,/^sec-/i],Jv="AWS4-HMAC-SHA256",Qge="AWS4-ECDSA-P256-SHA256",jK="AWS4-HMAC-SHA256-PAYLOAD",CK="UNSIGNED-PAYLOAD",TK=50,GM="aws4_request",MK=3600*24*7,Wh={},Zv=[],Qv=(e,n,o)=>`${e}/${n}/${o}/${GM}`,xK=async(e,n,o,i,u)=>{const t=await O2(e,n.secretAccessKey,n.accessKeyId),r=`${o}:${i}:${u}:${Bf(t)}:${n.sessionToken}`;if(r in Wh)return Wh[r];for(Zv.push(r);Zv.length>TK;)delete Wh[Zv.shift()];let a=`AWS4${n.secretAccessKey}`;for(const s of[o,i,u,GM])a=await O2(e,a,s);return Wh[r]=a},Xge=()=>{Zv.length=0,Object.keys(Wh).forEach(e=>{delete Wh[e]})},O2=(e,n,o)=>{const i=new e(n);return i.update(Qm(o)),i.digest()},PT=({headers:e},n,o)=>{const i={};for(const u of Object.keys(e).sort()){if(e[u]==null)continue;const t=u.toLowerCase();(t in SK||n?.has(t)||EK.test(t)||RK.test(t))&&(!o||o&&!o.has(t))||(i[t]=e[u].trim().replace(/\s+/g," "))}return i},eme=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",Xv=async({headers:e,body:n},o)=>{for(const i of Object.keys(e))if(i.toLowerCase()===Ob)return e[i];if(n==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof n=="string"||ArrayBuffer.isView(n)||eme(n)){const i=new o;return i.update(Qm(n)),Bf(await i.digest())}return CK};class tme{format(n){const o=[];for(const t of Object.keys(n)){const r=xT(t);o.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(n[t]))}const i=new Uint8Array(o.reduce((t,r)=>t+r.byteLength,0));let u=0;for(const t of o)i.set(t,u),u+=t.byteLength;return i}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const o=new DataView(new ArrayBuffer(3));return o.setUint8(0,3),o.setInt16(1,n.value,!1),new Uint8Array(o.buffer);case"integer":const i=new DataView(new ArrayBuffer(5));return i.setUint8(0,4),i.setInt32(1,n.value,!1),new Uint8Array(i.buffer);case"long":const u=new Uint8Array(9);return u[0]=5,u.set(n.value.bytes,1),u;case"binary":const t=new DataView(new ArrayBuffer(3+n.value.byteLength));t.setUint8(0,6),t.setUint16(1,n.value.byteLength,!1);const r=new Uint8Array(t.buffer);return r.set(n.value,3),r;case"string":const a=xT(n.value),s=new DataView(new ArrayBuffer(3+a.byteLength));s.setUint8(0,7),s.setUint16(1,a.byteLength,!1);const l=new Uint8Array(s.buffer);return l.set(a,3),l;case"timestamp":const f=new Uint8Array(9);return f[0]=8,f.set(HM.fromNumber(n.value.valueOf()).bytes,1),f;case"uuid":if(!rme.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const m=new Uint8Array(17);return m[0]=9,m.set(Yge(n.value.replace(/\-/g,"")),1),m}}}var S2;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(S2||(S2={}));const rme=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class HM{bytes;constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const o=new Uint8Array(8);for(let i=7,u=Math.abs(Math.round(n));i>-1&&u>0;i--,u/=256)o[i]=u;return n<0&&E2(o),new HM(o)}valueOf(){const n=this.bytes.slice(0),o=n[0]&128;return o&&E2(n),parseInt(Bf(n),16)*(o?-1:1)}toString(){return String(this.valueOf())}}function E2(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}const PK=(e,n)=>{e=e.toLowerCase();for(const o of Object.keys(n))if(e===o.toLowerCase())return!0;return!1},AK=(e,n={})=>{const{headers:o,query:i={}}=sp.clone(e);for(const u of Object.keys(o)){const t=u.toLowerCase();(t.slice(0,6)==="x-amz-"&&!n.unhoistableHeaders?.has(t)||n.hoistableHeaders?.has(t))&&(i[u]=o[u],delete o[u])}return{...e,headers:o,query:i}},AT=e=>{e=sp.clone(e);for(const n of Object.keys(e.headers))bK.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e},NK=({query:e={}})=>{const n=[],o={};for(const i of Object.keys(e)){if(i.toLowerCase()===wK)continue;const u=qf(i);n.push(u);const t=e[i];typeof t=="string"?o[u]=`${u}=${qf(t)}`:Array.isArray(t)&&(o[u]=t.slice(0).reduce((r,a)=>r.concat([`${u}=${qf(a)}`]),[]).sort().join("&"))}return n.sort().map(i=>o[i]).filter(i=>i).join("&")},nme=e=>ame(e).toISOString().replace(/\.\d{3}Z$/,"Z"),ame=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class DK{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:n,credentials:o,region:i,service:u,sha256:t,uriEscapePath:r=!0}){this.service=u,this.sha256=t,this.uriEscapePath=r,this.applyChecksum=typeof n=="boolean"?n:!0,this.regionProvider=_2(i),this.credentialProvider=_2(o)}createCanonicalRequest(n,o,i){const u=Object.keys(o).sort();return`${n.method}
${this.getCanonicalPath(n)}
${NK(n)}
${u.map(t=>`${t}:${o[t]}`).join(`
`)}

${u.join(";")}
${i}`}async createStringToSign(n,o,i,u){const t=new this.sha256;t.update(Qm(i));const r=await t.digest();return`${u}
${n}
${o}
${Bf(r)}`}getCanonicalPath({path:n}){if(this.uriEscapePath){const o=[];for(const t of n.split("/"))t?.length!==0&&t!=="."&&(t===".."?o.pop():o.push(t));const i=`${n?.startsWith("/")?"/":""}${o.join("/")}${o.length>0&&n?.endsWith("/")?"/":""}`;return qf(i).replace(/%2F/g,"/")}return n}validateResolvedCredentials(n){if(typeof n!="object"||typeof n.accessKeyId!="string"||typeof n.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(n){const o=nme(n).replace(/[\-:]/g,"");return{longDate:o,shortDate:o.slice(0,8)}}getCanonicalHeaderList(n){return Object.keys(n).sort().join(";")}}class ime extends DK{headerFormatter=new tme;constructor({applyChecksum:n,credentials:o,region:i,service:u,sha256:t,uriEscapePath:r=!0}){super({applyChecksum:n,credentials:o,region:i,service:u,sha256:t,uriEscapePath:r})}async presign(n,o={}){const{signingDate:i=new Date,expiresIn:u=3600,unsignableHeaders:t,unhoistableHeaders:r,signableHeaders:a,hoistableHeaders:s,signingRegion:l,signingService:f}=o,m=await this.credentialProvider();this.validateResolvedCredentials(m);const b=l??await this.regionProvider(),{longDate:_,shortDate:p}=this.formatDate(i);if(u>MK)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=Qv(p,b,f??this.service),v=AK(AT(n),{unhoistableHeaders:r,hoistableHeaders:s});m.sessionToken&&(v.query[$M]=m.sessionToken),v.query[gK]=Jv,v.query[mK]=`${m.accessKeyId}/${y}`,v.query[LM]=_,v.query[yK]=u.toString(10);const S=PT(v,t,a);return v.query[_K]=this.getCanonicalHeaderList(S),v.query[UM]=await this.getSignature(_,y,this.getSigningKey(m,b,p,f),this.createCanonicalRequest(v,S,await Xv(n,this.sha256))),v}async sign(n,o){return typeof n=="string"?this.signString(n,o):n.headers&&n.payload?this.signEvent(n,o):n.message?this.signMessage(n,o):this.signRequest(n,o)}async signEvent({headers:n,payload:o},{signingDate:i=new Date,priorSignature:u,signingRegion:t,signingService:r}){const a=t??await this.regionProvider(),{shortDate:s,longDate:l}=this.formatDate(i),f=Qv(s,a,r??this.service),m=await Xv({headers:{},body:o},this.sha256),b=new this.sha256;b.update(n);const _=Bf(await b.digest()),p=[jK,l,f,u,_,m].join(`
`);return this.signString(p,{signingDate:i,signingRegion:a,signingService:r})}async signMessage(n,{signingDate:o=new Date,signingRegion:i,signingService:u}){return this.signEvent({headers:this.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:o,signingRegion:i,signingService:u,priorSignature:n.priorSignature}).then(r=>({message:n.message,signature:r}))}async signString(n,{signingDate:o=new Date,signingRegion:i,signingService:u}={}){const t=await this.credentialProvider();this.validateResolvedCredentials(t);const r=i??await this.regionProvider(),{shortDate:a}=this.formatDate(o),s=new this.sha256(await this.getSigningKey(t,r,a,u));return s.update(Qm(n)),Bf(await s.digest())}async signRequest(n,{signingDate:o=new Date,signableHeaders:i,unsignableHeaders:u,signingRegion:t,signingService:r}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const s=t??await this.regionProvider(),l=AT(n),{longDate:f,shortDate:m}=this.formatDate(o),b=Qv(m,s,r??this.service);l.headers[VM]=f,a.sessionToken&&(l.headers[OK]=a.sessionToken);const _=await Xv(l,this.sha256);!PK(Ob,l.headers)&&this.applyChecksum&&(l.headers[Ob]=_);const p=PT(l,u,i),y=await this.getSignature(f,b,this.getSigningKey(a,s,m,r),this.createCanonicalRequest(l,p,_));return l.headers[FM]=`${Jv} Credential=${a.accessKeyId}/${b}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${y}`,l}async getSignature(n,o,i,u){const t=await this.createStringToSign(n,o,u,Jv),r=new this.sha256(await i);return r.update(Qm(t)),Bf(await r.digest())}getSigningKey(n,o,i,u){return xK(this.sha256,n,i,o,u||this.service)}}const ome={SignatureV4a:null},sme=Object.freeze(Object.defineProperty({__proto__:null,ALGORITHM_IDENTIFIER:Jv,ALGORITHM_IDENTIFIER_V4A:Qge,ALGORITHM_QUERY_PARAM:gK,ALWAYS_UNSIGNABLE_HEADERS:SK,AMZ_DATE_HEADER:VM,AMZ_DATE_QUERY_PARAM:LM,AUTH_HEADER:FM,CREDENTIAL_QUERY_PARAM:mK,DATE_HEADER:vK,EVENT_ALGORITHM_IDENTIFIER:jK,EXPIRES_QUERY_PARAM:yK,GENERATED_HEADERS:bK,HOST_HEADER:Jge,KEY_TYPE_IDENTIFIER:GM,MAX_CACHE_SIZE:TK,MAX_PRESIGNED_TTL:MK,PROXY_HEADER_PATTERN:EK,REGION_SET_PARAM:Wge,SEC_HEADER_PATTERN:RK,SHA256_HEADER:Ob,SIGNATURE_HEADER:wK,SIGNATURE_QUERY_PARAM:UM,SIGNED_HEADERS_QUERY_PARAM:_K,SignatureV4:ime,SignatureV4Base:DK,TOKEN_HEADER:OK,TOKEN_QUERY_PARAM:$M,UNSIGNABLE_PATTERNS:Zge,UNSIGNED_PAYLOAD:CK,clearCredentialCache:Xge,createScope:Qv,getCanonicalHeaders:PT,getCanonicalQuery:NK,getPayloadHash:Xv,getSigningKey:xK,hasHeader:PK,moveHeadersToQuery:AK,prepareRequest:AT,signatureV4aContainer:ome},Symbol.toStringTag,{value:"Module"})),ume=i_(sme);var DC={exports:{}},IC={exports:{}},zC={},sv={};var R2;function lme(){return R2||(R2=1,sv.read=function(e,n,o,i,u){var t,r,a=u*8-i-1,s=(1<<a)-1,l=s>>1,f=-7,m=o?u-1:0,b=o?-1:1,_=e[n+m];for(m+=b,t=_&(1<<-f)-1,_>>=-f,f+=a;f>0;t=t*256+e[n+m],m+=b,f-=8);for(r=t&(1<<-f)-1,t>>=-f,f+=i;f>0;r=r*256+e[n+m],m+=b,f-=8);if(t===0)t=1-l;else{if(t===s)return r?NaN:(_?-1:1)*(1/0);r=r+Math.pow(2,i),t=t-l}return(_?-1:1)*r*Math.pow(2,t-i)},sv.write=function(e,n,o,i,u,t){var r,a,s,l=t*8-u-1,f=(1<<l)-1,m=f>>1,b=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:t-1,p=i?1:-1,y=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,r=f):(r=Math.floor(Math.log(n)/Math.LN2),n*(s=Math.pow(2,-r))<1&&(r--,s*=2),r+m>=1?n+=b/s:n+=b*Math.pow(2,1-m),n*s>=2&&(r++,s/=2),r+m>=f?(a=0,r=f):r+m>=1?(a=(n*s-1)*Math.pow(2,u),r=r+m):(a=n*Math.pow(2,m-1)*Math.pow(2,u),r=0));u>=8;e[o+_]=a&255,_+=p,a/=256,u-=8);for(r=r<<u|a,l+=u;l>0;e[o+_]=r&255,_+=p,r/=256,l-=8);e[o+_-p]|=y*128}),sv}var j2;function id(){return j2||(j2=1,(function(e){const n=$H(),o=lme(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=R,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,a.TYPED_ARRAY_SUPPORT=t(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function t(){try{const G=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(G,N),G.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function r(G){if(G>u)throw new RangeError('The value "'+G+'" is invalid for option "size"');const N=new Uint8Array(G);return Object.setPrototypeOf(N,a.prototype),N}function a(G,N,z){if(typeof G=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(G)}return s(G,N,z)}a.poolSize=8192;function s(G,N,z){if(typeof G=="string")return b(G,N);if(ArrayBuffer.isView(G))return p(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(ye(G,ArrayBuffer)||G&&ye(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ye(G,SharedArrayBuffer)||G&&ye(G.buffer,SharedArrayBuffer)))return y(G,N,z);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=G.valueOf&&G.valueOf();if(ne!=null&&ne!==G)return a.from(ne,N,z);const ce=v(G);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return a.from(G[Symbol.toPrimitive]("string"),N,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}a.from=function(G,N,z){return s(G,N,z)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function f(G,N,z){return l(G),G<=0?r(G):N!==void 0?typeof z=="string"?r(G).fill(N,z):r(G).fill(N):r(G)}a.alloc=function(G,N,z){return f(G,N,z)};function m(G){return l(G),r(G<0?0:S(G)|0)}a.allocUnsafe=function(G){return m(G)},a.allocUnsafeSlow=function(G){return m(G)};function b(G,N){if((typeof N!="string"||N==="")&&(N="utf8"),!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const z=j(G,N)|0;let ne=r(z);const ce=ne.write(G,N);return ce!==z&&(ne=ne.slice(0,ce)),ne}function _(G){const N=G.length<0?0:S(G.length)|0,z=r(N);for(let ne=0;ne<N;ne+=1)z[ne]=G[ne]&255;return z}function p(G){if(ye(G,Uint8Array)){const N=new Uint8Array(G);return y(N.buffer,N.byteOffset,N.byteLength)}return _(G)}function y(G,N,z){if(N<0||G.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<N+(z||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return N===void 0&&z===void 0?ne=new Uint8Array(G):z===void 0?ne=new Uint8Array(G,N):ne=new Uint8Array(G,N,z),Object.setPrototypeOf(ne,a.prototype),ne}function v(G){if(a.isBuffer(G)){const N=S(G.length)|0,z=r(N);return z.length===0||G.copy(z,0,0,N),z}if(G.length!==void 0)return typeof G.length!="number"||Ie(G.length)?r(0):_(G);if(G.type==="Buffer"&&Array.isArray(G.data))return _(G.data)}function S(G){if(G>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return G|0}function R(G){return+G!=G&&(G=0),a.alloc(+G)}a.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==a.prototype},a.compare=function(N,z){if(ye(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),ye(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(N)||!a.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===z)return 0;let ne=N.length,ce=z.length;for(let Ee=0,Te=Math.min(ne,ce);Ee<Te;++Ee)if(N[Ee]!==z[Ee]){ne=N[Ee],ce=z[Ee];break}return ne<ce?-1:ce<ne?1:0},a.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(N,z){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return a.alloc(0);let ne;if(z===void 0)for(z=0,ne=0;ne<N.length;++ne)z+=N[ne].length;const ce=a.allocUnsafe(z);let Ee=0;for(ne=0;ne<N.length;++ne){let Te=N[ne];if(ye(Te,Uint8Array))Ee+Te.length>ce.length?(a.isBuffer(Te)||(Te=a.from(Te)),Te.copy(ce,Ee)):Uint8Array.prototype.set.call(ce,Te,Ee);else if(a.isBuffer(Te))Te.copy(ce,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=Te.length}return ce};function j(G,N){if(a.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||ye(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const z=G.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&z===0)return 0;let ce=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return Pe(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z*2;case"hex":return z>>>1;case"base64":return pe(G).length;default:if(ce)return ne?-1:Pe(G).length;N=(""+N).toLowerCase(),ce=!0}}a.byteLength=j;function A(G,N,z){let ne=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0,N>>>=0,z<=N))return"";for(G||(G="utf8");;)switch(G){case"hex":return re(this,N,z);case"utf8":case"utf-8":return Y(this,N,z);case"ascii":return k(this,N,z);case"latin1":case"binary":return Q(this,N,z);case"base64":return H(this,N,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,N,z);default:if(ne)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),ne=!0}}a.prototype._isBuffer=!0;function x(G,N,z){const ne=G[N];G[N]=G[z],G[z]=ne}a.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let z=0;z<N;z+=2)x(this,z,z+1);return this},a.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let z=0;z<N;z+=4)x(this,z,z+3),x(this,z+1,z+2);return this},a.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let z=0;z<N;z+=8)x(this,z,z+7),x(this,z+1,z+6),x(this,z+2,z+5),x(this,z+3,z+4);return this},a.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?Y(this,0,N):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(N){if(!a.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:a.compare(this,N)===0},a.prototype.inspect=function(){let N="";const z=e.INSPECT_MAX_BYTES;return N=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(N+=" ... "),"<Buffer "+N+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(N,z,ne,ce,Ee){if(ye(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(z===void 0&&(z=0),ne===void 0&&(ne=N?N.length:0),ce===void 0&&(ce=0),Ee===void 0&&(Ee=this.length),z<0||ne>N.length||ce<0||Ee>this.length)throw new RangeError("out of range index");if(ce>=Ee&&z>=ne)return 0;if(ce>=Ee)return-1;if(z>=ne)return 1;if(z>>>=0,ne>>>=0,ce>>>=0,Ee>>>=0,this===N)return 0;let Te=Ee-ce,tt=ne-z;const yt=Math.min(Te,tt),lt=this.slice(ce,Ee),zt=N.slice(z,ne);for(let wt=0;wt<yt;++wt)if(lt[wt]!==zt[wt]){Te=lt[wt],tt=zt[wt];break}return Te<tt?-1:tt<Te?1:0};function M(G,N,z,ne,ce){if(G.length===0)return-1;if(typeof z=="string"?(ne=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),z=+z,Ie(z)&&(z=ce?0:G.length-1),z<0&&(z=G.length+z),z>=G.length){if(ce)return-1;z=G.length-1}else if(z<0)if(ce)z=0;else return-1;if(typeof N=="string"&&(N=a.from(N,ne)),a.isBuffer(N))return N.length===0?-1:D(G,N,z,ne,ce);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(G,N,z):Uint8Array.prototype.lastIndexOf.call(G,N,z):D(G,[N],z,ne,ce);throw new TypeError("val must be string, number or Buffer")}function D(G,N,z,ne,ce){let Ee=1,Te=G.length,tt=N.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(G.length<2||N.length<2)return-1;Ee=2,Te/=2,tt/=2,z/=2}function yt(zt,wt){return Ee===1?zt[wt]:zt.readUInt16BE(wt*Ee)}let lt;if(ce){let zt=-1;for(lt=z;lt<Te;lt++)if(yt(G,lt)===yt(N,zt===-1?0:lt-zt)){if(zt===-1&&(zt=lt),lt-zt+1===tt)return zt*Ee}else zt!==-1&&(lt-=lt-zt),zt=-1}else for(z+tt>Te&&(z=Te-tt),lt=z;lt>=0;lt--){let zt=!0;for(let wt=0;wt<tt;wt++)if(yt(G,lt+wt)!==yt(N,wt)){zt=!1;break}if(zt)return lt}return-1}a.prototype.includes=function(N,z,ne){return this.indexOf(N,z,ne)!==-1},a.prototype.indexOf=function(N,z,ne){return M(this,N,z,ne,!0)},a.prototype.lastIndexOf=function(N,z,ne){return M(this,N,z,ne,!1)};function P(G,N,z,ne){z=Number(z)||0;const ce=G.length-z;ne?(ne=Number(ne),ne>ce&&(ne=ce)):ne=ce;const Ee=N.length;ne>Ee/2&&(ne=Ee/2);let Te;for(Te=0;Te<ne;++Te){const tt=parseInt(N.substr(Te*2,2),16);if(Ie(tt))return Te;G[z+Te]=tt}return Te}function F(G,N,z,ne){return De(Pe(N,G.length-z),G,z,ne)}function B(G,N,z,ne){return De(Ae(N),G,z,ne)}function q(G,N,z,ne){return De(pe(N),G,z,ne)}function w(G,N,z,ne){return De(de(N,G.length-z),G,z,ne)}a.prototype.write=function(N,z,ne,ce){if(z===void 0)ce="utf8",ne=this.length,z=0;else if(ne===void 0&&typeof z=="string")ce=z,ne=this.length,z=0;else if(isFinite(z))z=z>>>0,isFinite(ne)?(ne=ne>>>0,ce===void 0&&(ce="utf8")):(ce=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ee=this.length-z;if((ne===void 0||ne>Ee)&&(ne=Ee),N.length>0&&(ne<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let Te=!1;for(;;)switch(ce){case"hex":return P(this,N,z,ne);case"utf8":case"utf-8":return F(this,N,z,ne);case"ascii":case"latin1":case"binary":return B(this,N,z,ne);case"base64":return q(this,N,z,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,N,z,ne);default:if(Te)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),Te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(G,N,z){return N===0&&z===G.length?n.fromByteArray(G):n.fromByteArray(G.slice(N,z))}function Y(G,N,z){z=Math.min(G.length,z);const ne=[];let ce=N;for(;ce<z;){const Ee=G[ce];let Te=null,tt=Ee>239?4:Ee>223?3:Ee>191?2:1;if(ce+tt<=z){let yt,lt,zt,wt;switch(tt){case 1:Ee<128&&(Te=Ee);break;case 2:yt=G[ce+1],(yt&192)===128&&(wt=(Ee&31)<<6|yt&63,wt>127&&(Te=wt));break;case 3:yt=G[ce+1],lt=G[ce+2],(yt&192)===128&&(lt&192)===128&&(wt=(Ee&15)<<12|(yt&63)<<6|lt&63,wt>2047&&(wt<55296||wt>57343)&&(Te=wt));break;case 4:yt=G[ce+1],lt=G[ce+2],zt=G[ce+3],(yt&192)===128&&(lt&192)===128&&(zt&192)===128&&(wt=(Ee&15)<<18|(yt&63)<<12|(lt&63)<<6|zt&63,wt>65535&&wt<1114112&&(Te=wt))}}Te===null?(Te=65533,tt=1):Te>65535&&(Te-=65536,ne.push(Te>>>10&1023|55296),Te=56320|Te&1023),ne.push(Te),ce+=tt}return $(ne)}const W=4096;function $(G){const N=G.length;if(N<=W)return String.fromCharCode.apply(String,G);let z="",ne=0;for(;ne<N;)z+=String.fromCharCode.apply(String,G.slice(ne,ne+=W));return z}function k(G,N,z){let ne="";z=Math.min(G.length,z);for(let ce=N;ce<z;++ce)ne+=String.fromCharCode(G[ce]&127);return ne}function Q(G,N,z){let ne="";z=Math.min(G.length,z);for(let ce=N;ce<z;++ce)ne+=String.fromCharCode(G[ce]);return ne}function re(G,N,z){const ne=G.length;(!N||N<0)&&(N=0),(!z||z<0||z>ne)&&(z=ne);let ce="";for(let Ee=N;Ee<z;++Ee)ce+=$e[G[Ee]];return ce}function T(G,N,z){const ne=G.slice(N,z);let ce="";for(let Ee=0;Ee<ne.length-1;Ee+=2)ce+=String.fromCharCode(ne[Ee]+ne[Ee+1]*256);return ce}a.prototype.slice=function(N,z){const ne=this.length;N=~~N,z=z===void 0?ne:~~z,N<0?(N+=ne,N<0&&(N=0)):N>ne&&(N=ne),z<0?(z+=ne,z<0&&(z=0)):z>ne&&(z=ne),z<N&&(z=N);const ce=this.subarray(N,z);return Object.setPrototypeOf(ce,a.prototype),ce};function I(G,N,z){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+N>z)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(N,z,ne){N=N>>>0,z=z>>>0,ne||I(N,z,this.length);let ce=this[N],Ee=1,Te=0;for(;++Te<z&&(Ee*=256);)ce+=this[N+Te]*Ee;return ce},a.prototype.readUintBE=a.prototype.readUIntBE=function(N,z,ne){N=N>>>0,z=z>>>0,ne||I(N,z,this.length);let ce=this[N+--z],Ee=1;for(;z>0&&(Ee*=256);)ce+=this[N+--z]*Ee;return ce},a.prototype.readUint8=a.prototype.readUInt8=function(N,z){return N=N>>>0,z||I(N,1,this.length),this[N]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(N,z){return N=N>>>0,z||I(N,2,this.length),this[N]|this[N+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(N,z){return N=N>>>0,z||I(N,2,this.length),this[N]<<8|this[N+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(N,z){return N=N>>>0,z||I(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(N,z){return N=N>>>0,z||I(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},a.prototype.readBigUInt64LE=Ne(function(N){N=N>>>0,ae(N,"offset");const z=this[N],ne=this[N+7];(z===void 0||ne===void 0)&&oe(N,this.length-8);const ce=z+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,Ee=this[++N]+this[++N]*2**8+this[++N]*2**16+ne*2**24;return BigInt(ce)+(BigInt(Ee)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ne(function(N){N=N>>>0,ae(N,"offset");const z=this[N],ne=this[N+7];(z===void 0||ne===void 0)&&oe(N,this.length-8);const ce=z*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],Ee=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+ne;return(BigInt(ce)<<BigInt(32))+BigInt(Ee)}),a.prototype.readIntLE=function(N,z,ne){N=N>>>0,z=z>>>0,ne||I(N,z,this.length);let ce=this[N],Ee=1,Te=0;for(;++Te<z&&(Ee*=256);)ce+=this[N+Te]*Ee;return Ee*=128,ce>=Ee&&(ce-=Math.pow(2,8*z)),ce},a.prototype.readIntBE=function(N,z,ne){N=N>>>0,z=z>>>0,ne||I(N,z,this.length);let ce=z,Ee=1,Te=this[N+--ce];for(;ce>0&&(Ee*=256);)Te+=this[N+--ce]*Ee;return Ee*=128,Te>=Ee&&(Te-=Math.pow(2,8*z)),Te},a.prototype.readInt8=function(N,z){return N=N>>>0,z||I(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},a.prototype.readInt16LE=function(N,z){N=N>>>0,z||I(N,2,this.length);const ne=this[N]|this[N+1]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt16BE=function(N,z){N=N>>>0,z||I(N,2,this.length);const ne=this[N+1]|this[N]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt32LE=function(N,z){return N=N>>>0,z||I(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},a.prototype.readInt32BE=function(N,z){return N=N>>>0,z||I(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},a.prototype.readBigInt64LE=Ne(function(N){N=N>>>0,ae(N,"offset");const z=this[N],ne=this[N+7];(z===void 0||ne===void 0)&&oe(N,this.length-8);const ce=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(ne<<24);return(BigInt(ce)<<BigInt(32))+BigInt(z+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),a.prototype.readBigInt64BE=Ne(function(N){N=N>>>0,ae(N,"offset");const z=this[N],ne=this[N+7];(z===void 0||ne===void 0)&&oe(N,this.length-8);const ce=(z<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(ce)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+ne)}),a.prototype.readFloatLE=function(N,z){return N=N>>>0,z||I(N,4,this.length),o.read(this,N,!0,23,4)},a.prototype.readFloatBE=function(N,z){return N=N>>>0,z||I(N,4,this.length),o.read(this,N,!1,23,4)},a.prototype.readDoubleLE=function(N,z){return N=N>>>0,z||I(N,8,this.length),o.read(this,N,!0,52,8)},a.prototype.readDoubleBE=function(N,z){return N=N>>>0,z||I(N,8,this.length),o.read(this,N,!1,52,8)};function K(G,N,z,ne,ce,Ee){if(!a.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ce||N<Ee)throw new RangeError('"value" argument is out of bounds');if(z+ne>G.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(N,z,ne,ce){if(N=+N,z=z>>>0,ne=ne>>>0,!ce){const tt=Math.pow(2,8*ne)-1;K(this,N,z,ne,tt,0)}let Ee=1,Te=0;for(this[z]=N&255;++Te<ne&&(Ee*=256);)this[z+Te]=N/Ee&255;return z+ne},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(N,z,ne,ce){if(N=+N,z=z>>>0,ne=ne>>>0,!ce){const tt=Math.pow(2,8*ne)-1;K(this,N,z,ne,tt,0)}let Ee=ne-1,Te=1;for(this[z+Ee]=N&255;--Ee>=0&&(Te*=256);)this[z+Ee]=N/Te&255;return z+ne},a.prototype.writeUint8=a.prototype.writeUInt8=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,1,255,0),this[z]=N&255,z+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,2,65535,0),this[z]=N&255,this[z+1]=N>>>8,z+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,2,65535,0),this[z]=N>>>8,this[z+1]=N&255,z+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,4,4294967295,0),this[z+3]=N>>>24,this[z+2]=N>>>16,this[z+1]=N>>>8,this[z]=N&255,z+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,4,4294967295,0),this[z]=N>>>24,this[z+1]=N>>>16,this[z+2]=N>>>8,this[z+3]=N&255,z+4};function ee(G,N,z,ne,ce){be(N,ne,ce,G,z,7);let Ee=Number(N&BigInt(4294967295));G[z++]=Ee,Ee=Ee>>8,G[z++]=Ee,Ee=Ee>>8,G[z++]=Ee,Ee=Ee>>8,G[z++]=Ee;let Te=Number(N>>BigInt(32)&BigInt(4294967295));return G[z++]=Te,Te=Te>>8,G[z++]=Te,Te=Te>>8,G[z++]=Te,Te=Te>>8,G[z++]=Te,z}function fe(G,N,z,ne,ce){be(N,ne,ce,G,z,7);let Ee=Number(N&BigInt(4294967295));G[z+7]=Ee,Ee=Ee>>8,G[z+6]=Ee,Ee=Ee>>8,G[z+5]=Ee,Ee=Ee>>8,G[z+4]=Ee;let Te=Number(N>>BigInt(32)&BigInt(4294967295));return G[z+3]=Te,Te=Te>>8,G[z+2]=Te,Te=Te>>8,G[z+1]=Te,Te=Te>>8,G[z]=Te,z+8}a.prototype.writeBigUInt64LE=Ne(function(N,z=0){return ee(this,N,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ne(function(N,z=0){return fe(this,N,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(N,z,ne,ce){if(N=+N,z=z>>>0,!ce){const yt=Math.pow(2,8*ne-1);K(this,N,z,ne,yt-1,-yt)}let Ee=0,Te=1,tt=0;for(this[z]=N&255;++Ee<ne&&(Te*=256);)N<0&&tt===0&&this[z+Ee-1]!==0&&(tt=1),this[z+Ee]=(N/Te>>0)-tt&255;return z+ne},a.prototype.writeIntBE=function(N,z,ne,ce){if(N=+N,z=z>>>0,!ce){const yt=Math.pow(2,8*ne-1);K(this,N,z,ne,yt-1,-yt)}let Ee=ne-1,Te=1,tt=0;for(this[z+Ee]=N&255;--Ee>=0&&(Te*=256);)N<0&&tt===0&&this[z+Ee+1]!==0&&(tt=1),this[z+Ee]=(N/Te>>0)-tt&255;return z+ne},a.prototype.writeInt8=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,1,127,-128),N<0&&(N=255+N+1),this[z]=N&255,z+1},a.prototype.writeInt16LE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,2,32767,-32768),this[z]=N&255,this[z+1]=N>>>8,z+2},a.prototype.writeInt16BE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,2,32767,-32768),this[z]=N>>>8,this[z+1]=N&255,z+2},a.prototype.writeInt32LE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,4,2147483647,-2147483648),this[z]=N&255,this[z+1]=N>>>8,this[z+2]=N>>>16,this[z+3]=N>>>24,z+4},a.prototype.writeInt32BE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[z]=N>>>24,this[z+1]=N>>>16,this[z+2]=N>>>8,this[z+3]=N&255,z+4},a.prototype.writeBigInt64LE=Ne(function(N,z=0){return ee(this,N,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ne(function(N,z=0){return fe(this,N,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(G,N,z,ne,ce,Ee){if(z+ne>G.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function V(G,N,z,ne,ce){return N=+N,z=z>>>0,ce||_e(G,N,z,4),o.write(G,N,z,ne,23,4),z+4}a.prototype.writeFloatLE=function(N,z,ne){return V(this,N,z,!0,ne)},a.prototype.writeFloatBE=function(N,z,ne){return V(this,N,z,!1,ne)};function U(G,N,z,ne,ce){return N=+N,z=z>>>0,ce||_e(G,N,z,8),o.write(G,N,z,ne,52,8),z+8}a.prototype.writeDoubleLE=function(N,z,ne){return U(this,N,z,!0,ne)},a.prototype.writeDoubleBE=function(N,z,ne){return U(this,N,z,!1,ne)},a.prototype.copy=function(N,z,ne,ce){if(!a.isBuffer(N))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!ce&&ce!==0&&(ce=this.length),z>=N.length&&(z=N.length),z||(z=0),ce>0&&ce<ne&&(ce=ne),ce===ne||N.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),N.length-z<ce-ne&&(ce=N.length-z+ne);const Ee=ce-ne;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(z,ne,ce):Uint8Array.prototype.set.call(N,this.subarray(ne,ce),z),Ee},a.prototype.fill=function(N,z,ne,ce){if(typeof N=="string"){if(typeof z=="string"?(ce=z,z=0,ne=this.length):typeof ne=="string"&&(ce=ne,ne=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!a.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(N.length===1){const Te=N.charCodeAt(0);(ce==="utf8"&&Te<128||ce==="latin1")&&(N=Te)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(z<0||this.length<z||this.length<ne)throw new RangeError("Out of range index");if(ne<=z)return this;z=z>>>0,ne=ne===void 0?this.length:ne>>>0,N||(N=0);let Ee;if(typeof N=="number")for(Ee=z;Ee<ne;++Ee)this[Ee]=N;else{const Te=a.isBuffer(N)?N:a.from(N,ce),tt=Te.length;if(tt===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(Ee=0;Ee<ne-z;++Ee)this[Ee+z]=Te[Ee%tt]}return this};const X={};function Z(G,N,z){X[G]=class extends z{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}Z("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Z("ERR_INVALID_ARG_TYPE",function(G,N){return`The "${G}" argument must be of type number. Received type ${typeof N}`},TypeError),Z("ERR_OUT_OF_RANGE",function(G,N,z){let ne=`The value of "${G}" is out of range.`,ce=z;return Number.isInteger(z)&&Math.abs(z)>2**32?ce=ue(String(z)):typeof z=="bigint"&&(ce=String(z),(z>BigInt(2)**BigInt(32)||z<-(BigInt(2)**BigInt(32)))&&(ce=ue(ce)),ce+="n"),ne+=` It must be ${N}. Received ${ce}`,ne},RangeError);function ue(G){let N="",z=G.length;const ne=G[0]==="-"?1:0;for(;z>=ne+4;z-=3)N=`_${G.slice(z-3,z)}${N}`;return`${G.slice(0,z)}${N}`}function ge(G,N,z){ae(N,"offset"),(G[N]===void 0||G[N+z]===void 0)&&oe(N,G.length-(z+1))}function be(G,N,z,ne,ce,Ee){if(G>z||G<N){const Te=typeof N=="bigint"?"n":"";let tt;throw N===0||N===BigInt(0)?tt=`>= 0${Te} and < 2${Te} ** ${(Ee+1)*8}${Te}`:tt=`>= -(2${Te} ** ${(Ee+1)*8-1}${Te}) and < 2 ** ${(Ee+1)*8-1}${Te}`,new X.ERR_OUT_OF_RANGE("value",tt,G)}ge(ne,ce,Ee)}function ae(G,N){if(typeof G!="number")throw new X.ERR_INVALID_ARG_TYPE(N,"number",G)}function oe(G,N,z){throw Math.floor(G)!==G?(ae(G,z),new X.ERR_OUT_OF_RANGE("offset","an integer",G)):N<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,G)}const ve=/[^+/0-9A-Za-z-_]/g;function Ce(G){if(G=G.split("=")[0],G=G.trim().replace(ve,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function Pe(G,N){N=N||1/0;let z;const ne=G.length;let ce=null;const Ee=[];for(let Te=0;Te<ne;++Te){if(z=G.charCodeAt(Te),z>55295&&z<57344){if(!ce){if(z>56319){(N-=3)>-1&&Ee.push(239,191,189);continue}else if(Te+1===ne){(N-=3)>-1&&Ee.push(239,191,189);continue}ce=z;continue}if(z<56320){(N-=3)>-1&&Ee.push(239,191,189),ce=z;continue}z=(ce-55296<<10|z-56320)+65536}else ce&&(N-=3)>-1&&Ee.push(239,191,189);if(ce=null,z<128){if((N-=1)<0)break;Ee.push(z)}else if(z<2048){if((N-=2)<0)break;Ee.push(z>>6|192,z&63|128)}else if(z<65536){if((N-=3)<0)break;Ee.push(z>>12|224,z>>6&63|128,z&63|128)}else if(z<1114112){if((N-=4)<0)break;Ee.push(z>>18|240,z>>12&63|128,z>>6&63|128,z&63|128)}else throw new Error("Invalid code point")}return Ee}function Ae(G){const N=[];for(let z=0;z<G.length;++z)N.push(G.charCodeAt(z)&255);return N}function de(G,N){let z,ne,ce;const Ee=[];for(let Te=0;Te<G.length&&!((N-=2)<0);++Te)z=G.charCodeAt(Te),ne=z>>8,ce=z%256,Ee.push(ce),Ee.push(ne);return Ee}function pe(G){return n.toByteArray(Ce(G))}function De(G,N,z,ne){let ce;for(ce=0;ce<ne&&!(ce+z>=N.length||ce>=G.length);++ce)N[ce+z]=G[ce];return ce}function ye(G,N){return G instanceof N||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===N.name}function Ie(G){return G!==G}const $e=(function(){const G="0123456789abcdef",N=new Array(256);for(let z=0;z<16;++z){const ne=z*16;for(let ce=0;ce<16;++ce)N[ne+ce]=G[z]+G[ce]}return N})();function Ne(G){return typeof BigInt>"u"?ze:G}function ze(){throw new Error("BigInt not supported")}})(zC)),zC}var qC,C2;function Gt(){if(C2)return qC;C2=1;class e extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let i="";for(let u=0;u<o.length;u++)i+=`    ${o[u].stack}
`;super(i),this.name="AggregateError",this.errors=o}}return qC={AggregateError:e,ArrayIsArray(n){return Array.isArray(n)},ArrayPrototypeIncludes(n,o){return n.includes(o)},ArrayPrototypeIndexOf(n,o){return n.indexOf(o)},ArrayPrototypeJoin(n,o){return n.join(o)},ArrayPrototypeMap(n,o){return n.map(o)},ArrayPrototypePop(n,o){return n.pop(o)},ArrayPrototypePush(n,o){return n.push(o)},ArrayPrototypeSlice(n,o,i){return n.slice(o,i)},Error,FunctionPrototypeCall(n,o,...i){return n.call(o,...i)},FunctionPrototypeSymbolHasInstance(n,o){return Function.prototype[Symbol.hasInstance].call(n,o)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(n,o){return Object.defineProperties(n,o)},ObjectDefineProperty(n,o,i){return Object.defineProperty(n,o,i)},ObjectGetOwnPropertyDescriptor(n,o){return Object.getOwnPropertyDescriptor(n,o)},ObjectKeys(n){return Object.keys(n)},ObjectSetPrototypeOf(n,o){return Object.setPrototypeOf(n,o)},Promise,PromisePrototypeCatch(n,o){return n.catch(o)},PromisePrototypeThen(n,o,i){return n.then(o,i)},PromiseReject(n){return Promise.reject(n)},PromiseResolve(n){return Promise.resolve(n)},ReflectApply:Reflect.apply,RegExpPrototypeTest(n,o){return n.test(o)},SafeSet:Set,String,StringPrototypeSlice(n,o,i){return n.slice(o,i)},StringPrototypeToLowerCase(n){return n.toLowerCase()},StringPrototypeToUpperCase(n){return n.toUpperCase()},StringPrototypeTrim(n){return n.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(n,o,i){return n.set(o,i)},Boolean,Uint8Array},qC}var BC={exports:{}},LC,T2;function IK(){return T2||(T2=1,LC={format(e,...n){return e.replace(/%([sdifj])/g,function(...[o,i]){const u=n.shift();return i==="f"?u.toFixed(6):i==="j"?JSON.stringify(u):i==="s"&&typeof u=="object"?`${u.constructor!==Object?u.constructor.name:""} {}`.trim():u.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),LC}var UC,M2;function Ir(){if(M2)return UC;M2=1;const{format:e,inspect:n}=IK(),{AggregateError:o}=Gt(),i=globalThis.AggregateError||o,u=Symbol("kIsNodeError"),t=["string","function","number","object","Function","Object","boolean","bigint","symbol"],r=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",s={};function l(v,S){if(!v)throw new s.ERR_INTERNAL_ASSERTION(S)}function f(v){let S="",R=v.length;const j=v[0]==="-"?1:0;for(;R>=j+4;R-=3)S=`_${v.slice(R-3,R)}${S}`;return`${v.slice(0,R)}${S}`}function m(v,S,R){if(typeof S=="function")return l(S.length<=R.length,`Code: ${v}; The provided arguments length (${R.length}) does not match the required ones (${S.length}).`),S(...R);const j=(S.match(/%[dfijoOs]/g)||[]).length;return l(j===R.length,`Code: ${v}; The provided arguments length (${R.length}) does not match the required ones (${j}).`),R.length===0?S:e(S,...R)}function b(v,S,R){R||(R=Error);class j extends R{constructor(...x){super(m(v,S,x))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(j.prototype,{name:{value:R.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),j.prototype.code=v,j.prototype[u]=!0,s[v]=j}function _(v){const S=a+v.name;return Object.defineProperty(v,"name",{value:S}),v}function p(v,S){if(v&&S&&v!==S){if(Array.isArray(S.errors))return S.errors.push(v),S;const R=new i([S,v],S.message);return R.code=S.code,R}return v||S}class y extends Error{constructor(S="The operation was aborted",R=void 0){if(R!==void 0&&typeof R!="object")throw new s.ERR_INVALID_ARG_TYPE("options","Object",R);super(S,R),this.code="ABORT_ERR",this.name="AbortError"}}return b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(v,S,R)=>{l(typeof v=="string","'name' must be a string"),Array.isArray(S)||(S=[S]);let j="The ";v.endsWith(" argument")?j+=`${v} `:j+=`"${v}" ${v.includes(".")?"property":"argument"} `,j+="must be ";const A=[],x=[],M=[];for(const P of S)l(typeof P=="string","All expected entries have to be of type string"),t.includes(P)?A.push(P.toLowerCase()):r.test(P)?x.push(P):(l(P!=="object",'The value "object" should be written as "Object"'),M.push(P));if(x.length>0){const P=A.indexOf("object");P!==-1&&(A.splice(A,P,1),x.push("Object"))}if(A.length>0){switch(A.length){case 1:j+=`of type ${A[0]}`;break;case 2:j+=`one of type ${A[0]} or ${A[1]}`;break;default:{const P=A.pop();j+=`one of type ${A.join(", ")}, or ${P}`}}(x.length>0||M.length>0)&&(j+=" or ")}if(x.length>0){switch(x.length){case 1:j+=`an instance of ${x[0]}`;break;case 2:j+=`an instance of ${x[0]} or ${x[1]}`;break;default:{const P=x.pop();j+=`an instance of ${x.join(", ")}, or ${P}`}}M.length>0&&(j+=" or ")}switch(M.length){case 0:break;case 1:M[0].toLowerCase()!==M[0]&&(j+="an "),j+=`${M[0]}`;break;case 2:j+=`one of ${M[0]} or ${M[1]}`;break;default:{const P=M.pop();j+=`one of ${M.join(", ")}, or ${P}`}}if(R==null)j+=`. Received ${R}`;else if(typeof R=="function"&&R.name)j+=`. Received function ${R.name}`;else if(typeof R=="object"){var D;if((D=R.constructor)!==null&&D!==void 0&&D.name)j+=`. Received an instance of ${R.constructor.name}`;else{const P=n(R,{depth:-1});j+=`. Received ${P}`}}else{let P=n(R,{colors:!1});P.length>25&&(P=`${P.slice(0,25)}...`),j+=`. Received type ${typeof R} (${P})`}return j},TypeError),b("ERR_INVALID_ARG_VALUE",(v,S,R="is invalid")=>{let j=n(S);return j.length>128&&(j=j.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${R}. Received ${j}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(v,S,R)=>{var j;const A=R!=null&&(j=R.constructor)!==null&&j!==void 0&&j.name?`instance of ${R.constructor.name}`:`type ${typeof R}`;return`Expected ${v} to be returned from the "${S}" function but got ${A}.`},TypeError),b("ERR_MISSING_ARGS",(...v)=>{l(v.length>0,"At least one arg needs to be specified");let S;const R=v.length;switch(v=(Array.isArray(v)?v:[v]).map(j=>`"${j}"`).join(" or "),R){case 1:S+=`The ${v[0]} argument`;break;case 2:S+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const j=v.pop();S+=`The ${v.join(", ")}, and ${j} arguments`}break}return`${S} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(v,S,R)=>{l(S,'Missing "range" argument');let j;if(Number.isInteger(R)&&Math.abs(R)>2**32)j=f(String(R));else if(typeof R=="bigint"){j=String(R);const A=BigInt(2)**BigInt(32);(R>A||R<-A)&&(j=f(j)),j+="n"}else j=n(R);return`The value of "${v}" is out of range. It must be ${S}. Received ${j}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),UC={AbortError:y,aggregateTwoErrors:_(p),hideStackFrames:_,codes:s},UC}var am={exports:{}},x2;function Xm(){if(x2)return am.exports;x2=1;const{AbortController:e,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;return am.exports=e,am.exports.AbortSignal=n,am.exports.default=e,am.exports}var uv={exports:{}},P2;function Jb(){if(P2)return uv.exports;P2=1;var e=typeof Reflect=="object"?Reflect:null,n=e&&typeof e.apply=="function"?e.apply:function(x,M,D){return Function.prototype.apply.call(x,M,D)},o;e&&typeof e.ownKeys=="function"?o=e.ownKeys:Object.getOwnPropertySymbols?o=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:o=function(x){return Object.getOwnPropertyNames(x)};function i(A){console&&console.warn&&console.warn(A)}var u=Number.isNaN||function(x){return x!==x};function t(){t.init.call(this)}uv.exports=t,uv.exports.once=S,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var r=10;function a(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(A){if(typeof A!="number"||A<0||u(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");r=A}}),t.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||u(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function s(A){return A._maxListeners===void 0?t.defaultMaxListeners:A._maxListeners}t.prototype.getMaxListeners=function(){return s(this)},t.prototype.emit=function(x){for(var M=[],D=1;D<arguments.length;D++)M.push(arguments[D]);var P=x==="error",F=this._events;if(F!==void 0)P=P&&F.error===void 0;else if(!P)return!1;if(P){var B;if(M.length>0&&(B=M[0]),B instanceof Error)throw B;var q=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw q.context=B,q}var w=F[x];if(w===void 0)return!1;if(typeof w=="function")n(w,this,M);else for(var H=w.length,Y=p(w,H),D=0;D<H;++D)n(Y[D],this,M);return!0};function l(A,x,M,D){var P,F,B;if(a(M),F=A._events,F===void 0?(F=A._events=Object.create(null),A._eventsCount=0):(F.newListener!==void 0&&(A.emit("newListener",x,M.listener?M.listener:M),F=A._events),B=F[x]),B===void 0)B=F[x]=M,++A._eventsCount;else if(typeof B=="function"?B=F[x]=D?[M,B]:[B,M]:D?B.unshift(M):B.push(M),P=s(A),P>0&&B.length>P&&!B.warned){B.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=A,q.type=x,q.count=B.length,i(q)}return A}t.prototype.addListener=function(x,M){return l(this,x,M,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(x,M){return l(this,x,M,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(A,x,M){var D={fired:!1,wrapFn:void 0,target:A,type:x,listener:M},P=f.bind(D);return P.listener=M,D.wrapFn=P,P}t.prototype.once=function(x,M){return a(M),this.on(x,m(this,x,M)),this},t.prototype.prependOnceListener=function(x,M){return a(M),this.prependListener(x,m(this,x,M)),this},t.prototype.removeListener=function(x,M){var D,P,F,B,q;if(a(M),P=this._events,P===void 0)return this;if(D=P[x],D===void 0)return this;if(D===M||D.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete P[x],P.removeListener&&this.emit("removeListener",x,D.listener||M));else if(typeof D!="function"){for(F=-1,B=D.length-1;B>=0;B--)if(D[B]===M||D[B].listener===M){q=D[B].listener,F=B;break}if(F<0)return this;F===0?D.shift():y(D,F),D.length===1&&(P[x]=D[0]),P.removeListener!==void 0&&this.emit("removeListener",x,q||M)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(x){var M,D,P;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[x]),this;if(arguments.length===0){var F=Object.keys(D),B;for(P=0;P<F.length;++P)B=F[P],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=D[x],typeof M=="function")this.removeListener(x,M);else if(M!==void 0)for(P=M.length-1;P>=0;P--)this.removeListener(x,M[P]);return this};function b(A,x,M){var D=A._events;if(D===void 0)return[];var P=D[x];return P===void 0?[]:typeof P=="function"?M?[P.listener||P]:[P]:M?v(P):p(P,P.length)}t.prototype.listeners=function(x){return b(this,x,!0)},t.prototype.rawListeners=function(x){return b(this,x,!1)},t.listenerCount=function(A,x){return typeof A.listenerCount=="function"?A.listenerCount(x):_.call(A,x)},t.prototype.listenerCount=_;function _(A){var x=this._events;if(x!==void 0){var M=x[A];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}t.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function p(A,x){for(var M=new Array(x),D=0;D<x;++D)M[D]=A[D];return M}function y(A,x){for(;x+1<A.length;x++)A[x]=A[x+1];A.pop()}function v(A){for(var x=new Array(A.length),M=0;M<x.length;++M)x[M]=A[M].listener||A[M];return x}function S(A,x){return new Promise(function(M,D){function P(B){A.removeListener(x,F),D(B)}function F(){typeof A.removeListener=="function"&&A.removeListener("error",P),M([].slice.call(arguments))}j(A,x,F,{once:!0}),x!=="error"&&R(A,P,{once:!0})})}function R(A,x,M){typeof A.on=="function"&&j(A,"error",x,M)}function j(A,x,M,D){if(typeof A.on=="function")D.once?A.once(x,M):A.on(x,M);else if(typeof A.addEventListener=="function")A.addEventListener(x,function P(F){D.once&&A.removeEventListener(x,P),M(F)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return uv.exports}var A2;function Wr(){return A2||(A2=1,(function(e){const n=id(),{format:o,inspect:i}=IK(),{codes:{ERR_INVALID_ARG_TYPE:u}}=Ir(),{kResistStopPropagation:t,AggregateError:r,SymbolDispose:a}=Gt(),s=globalThis.AbortSignal||Xm().AbortSignal,l=globalThis.AbortController||Xm().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,m=globalThis.Blob||n.Blob,b=typeof m<"u"?function(v){return v instanceof m}:function(v){return!1},_=(y,v)=>{if(y!==void 0&&(y===null||typeof y!="object"||!("aborted"in y)))throw new u(v,"AbortSignal",y)},p=(y,v)=>{if(typeof y!="function")throw new u(v,"Function",y)};e.exports={AggregateError:r,kEmptyObject:Object.freeze({}),once(y){let v=!1;return function(...S){v||(v=!0,y.apply(this,S))}},createDeferredPromise:function(){let y,v;return{promise:new Promise((R,j)=>{y=R,v=j}),resolve:y,reject:v}},promisify(y){return new Promise((v,S)=>{y((R,...j)=>R?S(R):v(...j))})},debuglog(){return function(){}},format:o,inspect:i,types:{isAsyncFunction(y){return y instanceof f},isArrayBufferView(y){return ArrayBuffer.isView(y)}},isBlob:b,deprecate(y,v){return y},addAbortListener:Jb().addAbortListener||function(v,S){if(v===void 0)throw new u("signal","AbortSignal",v);_(v,"signal"),p(S,"listener");let R;return v.aborted?queueMicrotask(()=>S()):(v.addEventListener("abort",S,{__proto__:null,once:!0,[t]:!0}),R=()=>{v.removeEventListener("abort",S)}),{__proto__:null,[a](){var j;(j=R)===null||j===void 0||j()}}},AbortSignalAny:s.any||function(v){if(v.length===1)return v[0];const S=new l,R=()=>S.abort();return v.forEach(j=>{_(j,"signals"),j.addEventListener("abort",R,{once:!0})}),S.signal.addEventListener("abort",()=>{v.forEach(j=>j.removeEventListener("abort",R))},{once:!0}),S.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(BC)),BC.exports}var lv={},$C,N2;function b_(){if(N2)return $C;N2=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:o,ArrayPrototypeMap:i,NumberIsInteger:u,NumberIsNaN:t,NumberMAX_SAFE_INTEGER:r,NumberMIN_SAFE_INTEGER:a,NumberParseInt:s,ObjectPrototypeHasOwnProperty:l,RegExpPrototypeExec:f,String:m,StringPrototypeToUpperCase:b,StringPrototypeTrim:_}=Gt(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:S,ERR_OUT_OF_RANGE:R,ERR_UNKNOWN_SIGNAL:j}}=Ir(),{normalizeEncoding:A}=Wr(),{isAsyncFunction:x,isArrayBufferView:M}=Wr().types,D={};function P(de){return de===(de|0)}function F(de){return de===de>>>0}const B=/^[0-7]+$/,q="must be a 32-bit unsigned integer or an octal string";function w(de,pe,De){if(typeof de>"u"&&(de=De),typeof de=="string"){if(f(B,de)===null)throw new S(pe,de,q);de=s(de,8)}return W(de,pe),de}const H=p((de,pe,De=a,ye=r)=>{if(typeof de!="number")throw new v(pe,"number",de);if(!u(de))throw new R(pe,"an integer",de);if(de<De||de>ye)throw new R(pe,`>= ${De} && <= ${ye}`,de)}),Y=p((de,pe,De=-2147483648,ye=2147483647)=>{if(typeof de!="number")throw new v(pe,"number",de);if(!u(de))throw new R(pe,"an integer",de);if(de<De||de>ye)throw new R(pe,`>= ${De} && <= ${ye}`,de)}),W=p((de,pe,De=!1)=>{if(typeof de!="number")throw new v(pe,"number",de);if(!u(de))throw new R(pe,"an integer",de);const ye=De?1:0,Ie=4294967295;if(de<ye||de>Ie)throw new R(pe,`>= ${ye} && <= ${Ie}`,de)});function $(de,pe){if(typeof de!="string")throw new v(pe,"string",de)}function k(de,pe,De=void 0,ye){if(typeof de!="number")throw new v(pe,"number",de);if(De!=null&&de<De||ye!=null&&de>ye||(De!=null||ye!=null)&&t(de))throw new R(pe,`${De!=null?`>= ${De}`:""}${De!=null&&ye!=null?" && ":""}${ye!=null?`<= ${ye}`:""}`,de)}const Q=p((de,pe,De)=>{if(!n(De,de)){const Ie="must be one of: "+o(i(De,$e=>typeof $e=="string"?`'${$e}'`:m($e)),", ");throw new S(pe,de,Ie)}});function re(de,pe){if(typeof de!="boolean")throw new v(pe,"boolean",de)}function T(de,pe,De){return de==null||!l(de,pe)?De:de[pe]}const I=p((de,pe,De=null)=>{const ye=T(De,"allowArray",!1),Ie=T(De,"allowFunction",!1);if(!T(De,"nullable",!1)&&de===null||!ye&&e(de)||typeof de!="object"&&(!Ie||typeof de!="function"))throw new v(pe,"Object",de)}),K=p((de,pe)=>{if(de!=null&&typeof de!="object"&&typeof de!="function")throw new v(pe,"a dictionary",de)}),ee=p((de,pe,De=0)=>{if(!e(de))throw new v(pe,"Array",de);if(de.length<De){const ye=`must be longer than ${De}`;throw new S(pe,de,ye)}});function fe(de,pe){ee(de,pe);for(let De=0;De<de.length;De++)$(de[De],`${pe}[${De}]`)}function _e(de,pe){ee(de,pe);for(let De=0;De<de.length;De++)re(de[De],`${pe}[${De}]`)}function V(de,pe){ee(de,pe);for(let De=0;De<de.length;De++){const ye=de[De],Ie=`${pe}[${De}]`;if(ye==null)throw new v(Ie,"AbortSignal",ye);ge(ye,Ie)}}function U(de,pe="signal"){if($(de,pe),D[de]===void 0)throw D[b(de)]!==void 0?new j(de+" (signals must use all capital letters)"):new j(de)}const X=p((de,pe="buffer")=>{if(!M(de))throw new v(pe,["Buffer","TypedArray","DataView"],de)});function Z(de,pe){const De=A(pe),ye=de.length;if(De==="hex"&&ye%2!==0)throw new S("encoding",pe,`is invalid for data of length ${ye}`)}function ue(de,pe="Port",De=!0){if(typeof de!="number"&&typeof de!="string"||typeof de=="string"&&_(de).length===0||+de!==+de>>>0||de>65535||de===0&&!De)throw new y(pe,de,De);return de|0}const ge=p((de,pe)=>{if(de!==void 0&&(de===null||typeof de!="object"||!("aborted"in de)))throw new v(pe,"AbortSignal",de)}),be=p((de,pe)=>{if(typeof de!="function")throw new v(pe,"Function",de)}),ae=p((de,pe)=>{if(typeof de!="function"||x(de))throw new v(pe,"Function",de)}),oe=p((de,pe)=>{if(de!==void 0)throw new v(pe,"undefined",de)});function ve(de,pe,De){if(!n(De,de))throw new v(pe,`('${o(De,"|")}')`,de)}const Ce=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Pe(de,pe){if(typeof de>"u"||!f(Ce,de))throw new S(pe,de,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ae(de){if(typeof de=="string")return Pe(de,"hints"),de;if(e(de)){const pe=de.length;let De="";if(pe===0)return De;for(let ye=0;ye<pe;ye++){const Ie=de[ye];Pe(Ie,"hints"),De+=Ie,ye!==pe-1&&(De+=", ")}return De}throw new S("hints",de,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return $C={isInt32:P,isUint32:F,parseFileMode:w,validateArray:ee,validateStringArray:fe,validateBooleanArray:_e,validateAbortSignalArray:V,validateBoolean:re,validateBuffer:X,validateDictionary:K,validateEncoding:Z,validateFunction:be,validateInt32:Y,validateInteger:H,validateNumber:k,validateObject:I,validateOneOf:Q,validatePlainFunction:ae,validatePort:ue,validateSignalName:U,validateString:$,validateUint32:W,validateUndefined:oe,validateUnion:ve,validateAbortSignal:ge,validateLinkHeaderValue:Ae},$C}var cv={exports:{}},FC={exports:{}},D2;function Kf(){if(D2)return FC.exports;D2=1;var e=FC.exports={},n,o;function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?o=clearTimeout:o=u}catch{o=u}})();function t(y){if(n===setTimeout)return setTimeout(y,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(y,0);try{return n(y,0)}catch{try{return n.call(null,y,0)}catch{return n.call(this,y,0)}}}function r(y){if(o===clearTimeout)return clearTimeout(y);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(y);try{return o(y)}catch{try{return o.call(null,y)}catch{return o.call(this,y)}}}var a=[],s=!1,l,f=-1;function m(){!s||!l||(s=!1,l.length?a=l.concat(a):f=-1,a.length&&b())}function b(){if(!s){var y=t(m);s=!0;for(var v=a.length;v;){for(l=a,a=[];++f<v;)l&&l[f].run();f=-1,v=a.length}l=null,s=!1,r(y)}}e.nextTick=function(y){var v=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)v[S-1]=arguments[S];a.push(new _(y,v)),a.length===1&&!s&&t(b)};function _(y,v){this.fun=y,this.array=v}_.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function p(){}return e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(y){return[]},e.binding=function(y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},FC.exports}var VC,I2;function oc(){if(I2)return VC;I2=1;const{SymbolAsyncIterator:e,SymbolIterator:n,SymbolFor:o}=Gt(),i=o("nodejs.stream.destroyed"),u=o("nodejs.stream.errored"),t=o("nodejs.stream.readable"),r=o("nodejs.stream.writable"),a=o("nodejs.stream.disturbed"),s=o("nodejs.webstream.isClosedPromise"),l=o("nodejs.webstream.controllerErrorFunction");function f(T,I=!1){var K;return!!(T&&typeof T.pipe=="function"&&typeof T.on=="function"&&(!I||typeof T.pause=="function"&&typeof T.resume=="function")&&(!T._writableState||((K=T._readableState)===null||K===void 0?void 0:K.readable)!==!1)&&(!T._writableState||T._readableState))}function m(T){var I;return!!(T&&typeof T.write=="function"&&typeof T.on=="function"&&(!T._readableState||((I=T._writableState)===null||I===void 0?void 0:I.writable)!==!1))}function b(T){return!!(T&&typeof T.pipe=="function"&&T._readableState&&typeof T.on=="function"&&typeof T.write=="function")}function _(T){return T&&(T._readableState||T._writableState||typeof T.write=="function"&&typeof T.on=="function"||typeof T.pipe=="function"&&typeof T.on=="function")}function p(T){return!!(T&&!_(T)&&typeof T.pipeThrough=="function"&&typeof T.getReader=="function"&&typeof T.cancel=="function")}function y(T){return!!(T&&!_(T)&&typeof T.getWriter=="function"&&typeof T.abort=="function")}function v(T){return!!(T&&!_(T)&&typeof T.readable=="object"&&typeof T.writable=="object")}function S(T){return p(T)||y(T)||v(T)}function R(T,I){return T==null?!1:I===!0?typeof T[e]=="function":I===!1?typeof T[n]=="function":typeof T[e]=="function"||typeof T[n]=="function"}function j(T){if(!_(T))return null;const I=T._writableState,K=T._readableState,ee=I||K;return!!(T.destroyed||T[i]||ee!=null&&ee.destroyed)}function A(T){if(!m(T))return null;if(T.writableEnded===!0)return!0;const I=T._writableState;return I!=null&&I.errored?!1:typeof I?.ended!="boolean"?null:I.ended}function x(T,I){if(!m(T))return null;if(T.writableFinished===!0)return!0;const K=T._writableState;return K!=null&&K.errored?!1:typeof K?.finished!="boolean"?null:!!(K.finished||I===!1&&K.ended===!0&&K.length===0)}function M(T){if(!f(T))return null;if(T.readableEnded===!0)return!0;const I=T._readableState;return!I||I.errored?!1:typeof I?.ended!="boolean"?null:I.ended}function D(T,I){if(!f(T))return null;const K=T._readableState;return K!=null&&K.errored?!1:typeof K?.endEmitted!="boolean"?null:!!(K.endEmitted||I===!1&&K.ended===!0&&K.length===0)}function P(T){return T&&T[t]!=null?T[t]:typeof T?.readable!="boolean"?null:j(T)?!1:f(T)&&T.readable&&!D(T)}function F(T){return T&&T[r]!=null?T[r]:typeof T?.writable!="boolean"?null:j(T)?!1:m(T)&&T.writable&&!A(T)}function B(T,I){return _(T)?j(T)?!0:!(I?.readable!==!1&&P(T)||I?.writable!==!1&&F(T)):null}function q(T){var I,K;return _(T)?T.writableErrored?T.writableErrored:(I=(K=T._writableState)===null||K===void 0?void 0:K.errored)!==null&&I!==void 0?I:null:null}function w(T){var I,K;return _(T)?T.readableErrored?T.readableErrored:(I=(K=T._readableState)===null||K===void 0?void 0:K.errored)!==null&&I!==void 0?I:null:null}function H(T){if(!_(T))return null;if(typeof T.closed=="boolean")return T.closed;const I=T._writableState,K=T._readableState;return typeof I?.closed=="boolean"||typeof K?.closed=="boolean"?I?.closed||K?.closed:typeof T._closed=="boolean"&&Y(T)?T._closed:null}function Y(T){return typeof T._closed=="boolean"&&typeof T._defaultKeepAlive=="boolean"&&typeof T._removedConnection=="boolean"&&typeof T._removedContLen=="boolean"}function W(T){return typeof T._sent100=="boolean"&&Y(T)}function $(T){var I;return typeof T._consuming=="boolean"&&typeof T._dumped=="boolean"&&((I=T.req)===null||I===void 0?void 0:I.upgradeOrConnect)===void 0}function k(T){if(!_(T))return null;const I=T._writableState,K=T._readableState,ee=I||K;return!ee&&W(T)||!!(ee&&ee.autoDestroy&&ee.emitClose&&ee.closed===!1)}function Q(T){var I;return!!(T&&((I=T[a])!==null&&I!==void 0?I:T.readableDidRead||T.readableAborted))}function re(T){var I,K,ee,fe,_e,V,U,X,Z,ue;return!!(T&&((I=(K=(ee=(fe=(_e=(V=T[u])!==null&&V!==void 0?V:T.readableErrored)!==null&&_e!==void 0?_e:T.writableErrored)!==null&&fe!==void 0?fe:(U=T._readableState)===null||U===void 0?void 0:U.errorEmitted)!==null&&ee!==void 0?ee:(X=T._writableState)===null||X===void 0?void 0:X.errorEmitted)!==null&&K!==void 0?K:(Z=T._readableState)===null||Z===void 0?void 0:Z.errored)!==null&&I!==void 0?I:!((ue=T._writableState)===null||ue===void 0)&&ue.errored))}return VC={isDestroyed:j,kIsDestroyed:i,isDisturbed:Q,kIsDisturbed:a,isErrored:re,kIsErrored:u,isReadable:P,kIsReadable:t,kIsClosedPromise:s,kControllerErrorFunction:l,kIsWritable:r,isClosed:H,isDuplexNodeStream:b,isFinished:B,isIterable:R,isReadableNodeStream:f,isReadableStream:p,isReadableEnded:M,isReadableFinished:D,isReadableErrored:w,isNodeStream:_,isWebStream:S,isWritable:F,isWritableNodeStream:m,isWritableStream:y,isWritableEnded:A,isWritableFinished:x,isWritableErrored:q,isServerRequest:$,isServerResponse:W,willEmitClose:k,isTransformStream:v},VC}var z2;function od(){if(z2)return cv.exports;z2=1;const e=Kf(),{AbortError:n,codes:o}=Ir(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:u}=o,{kEmptyObject:t,once:r}=Wr(),{validateAbortSignal:a,validateFunction:s,validateObject:l,validateBoolean:f}=b_(),{Promise:m,PromisePrototypeThen:b,SymbolDispose:_}=Gt(),{isClosed:p,isReadable:y,isReadableNodeStream:v,isReadableStream:S,isReadableFinished:R,isReadableErrored:j,isWritable:A,isWritableNodeStream:x,isWritableStream:M,isWritableFinished:D,isWritableErrored:P,isNodeStream:F,willEmitClose:B,kIsClosedPromise:q}=oc();let w;function H(Q){return Q.setHeader&&typeof Q.abort=="function"}const Y=()=>{};function W(Q,re,T){var I,K;if(arguments.length===2?(T=re,re=t):re==null?re=t:l(re,"options"),s(T,"callback"),a(re.signal,"options.signal"),T=r(T),S(Q)||M(Q))return $(Q,re,T);if(!F(Q))throw new i("stream",["ReadableStream","WritableStream","Stream"],Q);const ee=(I=re.readable)!==null&&I!==void 0?I:v(Q),fe=(K=re.writable)!==null&&K!==void 0?K:x(Q),_e=Q._writableState,V=Q._readableState,U=()=>{Q.writable||ue()};let X=B(Q)&&v(Q)===ee&&x(Q)===fe,Z=D(Q,!1);const ue=()=>{Z=!0,Q.destroyed&&(X=!1),!(X&&(!Q.readable||ee))&&(!ee||ge)&&T.call(Q)};let ge=R(Q,!1);const be=()=>{ge=!0,Q.destroyed&&(X=!1),!(X&&(!Q.writable||fe))&&(!fe||Z)&&T.call(Q)},ae=de=>{T.call(Q,de)};let oe=p(Q);const ve=()=>{oe=!0;const de=P(Q)||j(Q);if(de&&typeof de!="boolean")return T.call(Q,de);if(ee&&!ge&&v(Q,!0)&&!R(Q,!1))return T.call(Q,new u);if(fe&&!Z&&!D(Q,!1))return T.call(Q,new u);T.call(Q)},Ce=()=>{oe=!0;const de=P(Q)||j(Q);if(de&&typeof de!="boolean")return T.call(Q,de);T.call(Q)},Pe=()=>{Q.req.on("finish",ue)};H(Q)?(Q.on("complete",ue),X||Q.on("abort",ve),Q.req?Pe():Q.on("request",Pe)):fe&&!_e&&(Q.on("end",U),Q.on("close",U)),!X&&typeof Q.aborted=="boolean"&&Q.on("aborted",ve),Q.on("end",be),Q.on("finish",ue),re.error!==!1&&Q.on("error",ae),Q.on("close",ve),oe?e.nextTick(ve):_e!=null&&_e.errorEmitted||V!=null&&V.errorEmitted?X||e.nextTick(Ce):(!ee&&(!X||y(Q))&&(Z||A(Q)===!1)||!fe&&(!X||A(Q))&&(ge||y(Q)===!1)||V&&Q.req&&Q.aborted)&&e.nextTick(Ce);const Ae=()=>{T=Y,Q.removeListener("aborted",ve),Q.removeListener("complete",ue),Q.removeListener("abort",ve),Q.removeListener("request",Pe),Q.req&&Q.req.removeListener("finish",ue),Q.removeListener("end",U),Q.removeListener("close",U),Q.removeListener("finish",ue),Q.removeListener("end",be),Q.removeListener("error",ae),Q.removeListener("close",ve)};if(re.signal&&!oe){const de=()=>{const pe=T;Ae(),pe.call(Q,new n(void 0,{cause:re.signal.reason}))};if(re.signal.aborted)e.nextTick(de);else{w=w||Wr().addAbortListener;const pe=w(re.signal,de),De=T;T=r((...ye)=>{pe[_](),De.apply(Q,ye)})}}return Ae}function $(Q,re,T){let I=!1,K=Y;if(re.signal)if(K=()=>{I=!0,T.call(Q,new n(void 0,{cause:re.signal.reason}))},re.signal.aborted)e.nextTick(K);else{w=w||Wr().addAbortListener;const fe=w(re.signal,K),_e=T;T=r((...V)=>{fe[_](),_e.apply(Q,V)})}const ee=(...fe)=>{I||e.nextTick(()=>T.apply(Q,fe))};return b(Q[q].promise,ee,ee),Y}function k(Q,re){var T;let I=!1;return re===null&&(re=t),(T=re)!==null&&T!==void 0&&T.cleanup&&(f(re.cleanup,"cleanup"),I=re.cleanup),new m((K,ee)=>{const fe=W(Q,re,_e=>{I&&fe(),_e?ee(_e):K()})})}return cv.exports=W,cv.exports.finished=k,cv.exports}var GC,q2;function pp(){if(q2)return GC;q2=1;const e=Kf(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:i}=Ir(),{Symbol:u}=Gt(),{kIsDestroyed:t,isDestroyed:r,isFinished:a,isServerRequest:s}=oc(),l=u("kDestroy"),f=u("kConstruct");function m(B,q,w){B&&(B.stack,q&&!q.errored&&(q.errored=B),w&&!w.errored&&(w.errored=B))}function b(B,q){const w=this._readableState,H=this._writableState,Y=H||w;return H!=null&&H.destroyed||w!=null&&w.destroyed?(typeof q=="function"&&q(),this):(m(B,H,w),H&&(H.destroyed=!0),w&&(w.destroyed=!0),Y.constructed?_(this,B,q):this.once(l,function(W){_(this,n(W,B),q)}),this)}function _(B,q,w){let H=!1;function Y(W){if(H)return;H=!0;const $=B._readableState,k=B._writableState;m(W,k,$),k&&(k.closed=!0),$&&($.closed=!0),typeof w=="function"&&w(W),W?e.nextTick(p,B,W):e.nextTick(y,B)}try{B._destroy(q||null,Y)}catch(W){Y(W)}}function p(B,q){v(B,q),y(B)}function y(B){const q=B._readableState,w=B._writableState;w&&(w.closeEmitted=!0),q&&(q.closeEmitted=!0),(w!=null&&w.emitClose||q!=null&&q.emitClose)&&B.emit("close")}function v(B,q){const w=B._readableState,H=B._writableState;H!=null&&H.errorEmitted||w!=null&&w.errorEmitted||(H&&(H.errorEmitted=!0),w&&(w.errorEmitted=!0),B.emit("error",q))}function S(){const B=this._readableState,q=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=B.readable===!1,B.endEmitted=B.readable===!1),q&&(q.constructed=!0,q.destroyed=!1,q.closed=!1,q.closeEmitted=!1,q.errored=null,q.errorEmitted=!1,q.finalCalled=!1,q.prefinished=!1,q.ended=q.writable===!1,q.ending=q.writable===!1,q.finished=q.writable===!1)}function R(B,q,w){const H=B._readableState,Y=B._writableState;if(Y!=null&&Y.destroyed||H!=null&&H.destroyed)return this;H!=null&&H.autoDestroy||Y!=null&&Y.autoDestroy?B.destroy(q):q&&(q.stack,Y&&!Y.errored&&(Y.errored=q),H&&!H.errored&&(H.errored=q),w?e.nextTick(v,B,q):v(B,q))}function j(B,q){if(typeof B._construct!="function")return;const w=B._readableState,H=B._writableState;w&&(w.constructed=!1),H&&(H.constructed=!1),B.once(f,q),!(B.listenerCount(f)>1)&&e.nextTick(A,B)}function A(B){let q=!1;function w(H){if(q){R(B,H??new o);return}q=!0;const Y=B._readableState,W=B._writableState,$=W||Y;Y&&(Y.constructed=!0),W&&(W.constructed=!0),$.destroyed?B.emit(l,H):H?R(B,H,!0):e.nextTick(x,B)}try{B._construct(H=>{e.nextTick(w,H)})}catch(H){e.nextTick(w,H)}}function x(B){B.emit(f)}function M(B){return B?.setHeader&&typeof B.abort=="function"}function D(B){B.emit("close")}function P(B,q){B.emit("error",q),e.nextTick(D,B)}function F(B,q){!B||r(B)||(!q&&!a(B)&&(q=new i),s(B)?(B.socket=null,B.destroy(q)):M(B)?B.abort():M(B.req)?B.req.abort():typeof B.destroy=="function"?B.destroy(q):typeof B.close=="function"?B.close():q?e.nextTick(P,B,q):e.nextTick(D,B),B.destroyed||(B[t]=!0))}return GC={construct:j,destroyer:F,destroy:b,undestroy:S,errorOrDestroy:R},GC}var HC,B2;function KM(){if(B2)return HC;B2=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:n}=Gt(),{EventEmitter:o}=Jb();function i(t){o.call(this,t)}n(i.prototype,o.prototype),n(i,o),i.prototype.pipe=function(t,r){const a=this;function s(y){t.writable&&t.write(y)===!1&&a.pause&&a.pause()}a.on("data",s);function l(){a.readable&&a.resume&&a.resume()}t.on("drain",l),!t._isStdio&&(!r||r.end!==!1)&&(a.on("end",m),a.on("close",b));let f=!1;function m(){f||(f=!0,t.end())}function b(){f||(f=!0,typeof t.destroy=="function"&&t.destroy())}function _(y){p(),o.listenerCount(this,"error")===0&&this.emit("error",y)}u(a,"error",_),u(t,"error",_);function p(){a.removeListener("data",s),t.removeListener("drain",l),a.removeListener("end",m),a.removeListener("close",b),a.removeListener("error",_),t.removeListener("error",_),a.removeListener("end",p),a.removeListener("close",p),t.removeListener("close",p)}return a.on("end",p),a.on("close",p),t.on("close",p),t.emit("pipe",a),t};function u(t,r,a){if(typeof t.prependListener=="function")return t.prependListener(r,a);!t._events||!t._events[r]?t.on(r,a):e(t._events[r])?t._events[r].unshift(a):t._events[r]=[a,t._events[r]]}return HC={Stream:i,prependListener:u},HC}var KC={exports:{}},L2;function Zb(){return L2||(L2=1,(function(e){const{SymbolDispose:n}=Gt(),{AbortError:o,codes:i}=Ir(),{isNodeStream:u,isWebStream:t,kControllerErrorFunction:r}=oc(),a=od(),{ERR_INVALID_ARG_TYPE:s}=i;let l;const f=(m,b)=>{if(typeof m!="object"||!("aborted"in m))throw new s(b,"AbortSignal",m)};e.exports.addAbortSignal=function(b,_){if(f(b,"signal"),!u(_)&&!t(_))throw new s("stream",["ReadableStream","WritableStream","Stream"],_);return e.exports.addAbortSignalNoValidate(b,_)},e.exports.addAbortSignalNoValidate=function(m,b){if(typeof m!="object"||!("aborted"in m))return b;const _=u(b)?()=>{b.destroy(new o(void 0,{cause:m.reason}))}:()=>{b[r](new o(void 0,{cause:m.reason}))};if(m.aborted)_();else{l=l||Wr().addAbortListener;const p=l(m,_);a(b,p[n])}return b}})(KC)),KC.exports}var kC,U2;function cme(){if(U2)return kC;U2=1;const{StringPrototypeSlice:e,SymbolIterator:n,TypedArrayPrototypeSet:o,Uint8Array:i}=Gt(),{Buffer:u}=id(),{inspect:t}=Wr();return kC=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){const s={data:a,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length}unshift(a){const s={data:a,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length}shift(){if(this.length===0)return;const a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let s=this.head,l=""+s.data;for(;(s=s.next)!==null;)l+=a+s.data;return l}concat(a){if(this.length===0)return u.alloc(0);const s=u.allocUnsafe(a>>>0);let l=this.head,f=0;for(;l;)o(s,l.data,f),f+=l.data.length,l=l.next;return s}consume(a,s){const l=this.head.data;if(a<l.length){const f=l.slice(0,a);return this.head.data=l.slice(a),f}return a===l.length?this.shift():s?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[n](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let s="",l=this.head,f=0;do{const m=l.data;if(a>m.length)s+=m,a-=m.length;else{a===m.length?(s+=m,++f,l.next?this.head=l.next:this.head=this.tail=null):(s+=e(m,0,a),this.head=l,l.data=e(m,a));break}++f}while((l=l.next)!==null);return this.length-=f,s}_getBuffer(a){const s=u.allocUnsafe(a),l=a;let f=this.head,m=0;do{const b=f.data;if(a>b.length)o(s,b,l-a),a-=b.length;else{a===b.length?(o(s,b,l-a),++m,f.next?this.head=f.next:this.head=this.tail=null):(o(s,new i(b.buffer,b.byteOffset,a),l-a),this.head=f,f.data=b.slice(a));break}++m}while((f=f.next)!==null);return this.length-=m,s}[Symbol.for("nodejs.util.inspect.custom")](a,s){return t(this,{...s,depth:0,customInspect:!1})}},kC}var YC,$2;function Qb(){if($2)return YC;$2=1;const{MathFloor:e,NumberIsInteger:n}=Gt(),{validateInteger:o}=b_(),{ERR_INVALID_ARG_VALUE:i}=Ir().codes;let u=16*1024,t=16;function r(f,m,b){return f.highWaterMark!=null?f.highWaterMark:m?f[b]:null}function a(f){return f?t:u}function s(f,m){o(m,"value",0),f?t=m:u=m}function l(f,m,b,_){const p=r(m,_,b);if(p!=null){if(!n(p)||p<0){const y=_?`options.${b}`:"options.highWaterMark";throw new i(y,p)}return e(p)}return a(f.objectMode)}return YC={getHighWaterMark:l,getDefaultHighWaterMark:a,setDefaultHighWaterMark:s},YC}var WC={},dv={exports:{}};var F2;function dme(){return F2||(F2=1,(function(e,n){var o=id(),i=o.Buffer;function u(r,a){for(var s in r)a[s]=r[s]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=o:(u(o,n),n.Buffer=t);function t(r,a,s){return i(r,a,s)}t.prototype=Object.create(i.prototype),u(i,t),t.from=function(r,a,s){if(typeof r=="number")throw new TypeError("Argument must not be a number");return i(r,a,s)},t.alloc=function(r,a,s){if(typeof r!="number")throw new TypeError("Argument must be a number");var l=i(r);return a!==void 0?typeof s=="string"?l.fill(a,s):l.fill(a):l.fill(0),l},t.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return i(r)},t.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(r)}})(dv,dv.exports)),dv.exports}var V2;function fme(){if(V2)return WC;V2=1;var e=dme().Buffer,n=e.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(S){if(!S)return"utf8";for(var R;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(R)return;S=(""+S).toLowerCase(),R=!0}}function i(S){var R=o(S);if(typeof R!="string"&&(e.isEncoding===n||!n(S)))throw new Error("Unknown encoding: "+S);return R||S}WC.StringDecoder=u;function u(S){this.encoding=i(S);var R;switch(this.encoding){case"utf16le":this.text=m,this.end=b,R=4;break;case"utf8":this.fillLast=s,R=4;break;case"base64":this.text=_,this.end=p,R=3;break;default:this.write=y,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(R)}u.prototype.write=function(S){if(S.length===0)return"";var R,j;if(this.lastNeed){if(R=this.fillLast(S),R===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<S.length?R?R+this.text(S,j):this.text(S,j):R||""},u.prototype.end=f,u.prototype.text=l,u.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function t(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function r(S,R,j){var A=R.length-1;if(A<j)return 0;var x=t(R[A]);return x>=0?(x>0&&(S.lastNeed=x-1),x):--A<j||x===-2?0:(x=t(R[A]),x>=0?(x>0&&(S.lastNeed=x-2),x):--A<j||x===-2?0:(x=t(R[A]),x>=0?(x>0&&(x===2?x=0:S.lastNeed=x-3),x):0))}function a(S,R,j){if((R[0]&192)!==128)return S.lastNeed=0,"";if(S.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return S.lastNeed=1,"";if(S.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return S.lastNeed=2,""}}function s(S){var R=this.lastTotal-this.lastNeed,j=a(this,S);if(j!==void 0)return j;if(this.lastNeed<=S.length)return S.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,R,0,S.length),this.lastNeed-=S.length}function l(S,R){var j=r(this,S,R);if(!this.lastNeed)return S.toString("utf8",R);this.lastTotal=j;var A=S.length-(j-this.lastNeed);return S.copy(this.lastChar,0,A),S.toString("utf8",R,A)}function f(S){var R=S&&S.length?this.write(S):"";return this.lastNeed?R+"":R}function m(S,R){if((S.length-R)%2===0){var j=S.toString("utf16le",R);if(j){var A=j.charCodeAt(j.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",R,S.length-1)}function b(S){var R=S&&S.length?this.write(S):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,j)}return R}function _(S,R){var j=(S.length-R)%3;return j===0?S.toString("base64",R):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",R,S.length-j))}function p(S){var R=S&&S.length?this.write(S):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function y(S){return S.toString(this.encoding)}function v(S){return S&&S.length?this.write(S):""}return WC}var JC,G2;function zK(){if(G2)return JC;G2=1;const e=Kf(),{PromisePrototypeThen:n,SymbolAsyncIterator:o,SymbolIterator:i}=Gt(),{Buffer:u}=id(),{ERR_INVALID_ARG_TYPE:t,ERR_STREAM_NULL_VALUES:r}=Ir().codes;function a(s,l,f){let m;if(typeof l=="string"||l instanceof u)return new s({objectMode:!0,...f,read(){this.push(l),this.push(null)}});let b;if(l&&l[o])b=!0,m=l[o]();else if(l&&l[i])b=!1,m=l[i]();else throw new t("iterable",["Iterable"],l);const _=new s({objectMode:!0,highWaterMark:1,...f});let p=!1;_._read=function(){p||(p=!0,v())},_._destroy=function(S,R){n(y(S),()=>e.nextTick(R,S),j=>e.nextTick(R,j||S))};async function y(S){const R=S!=null,j=typeof m.throw=="function";if(R&&j){const{value:A,done:x}=await m.throw(S);if(await A,x)return}if(typeof m.return=="function"){const{value:A}=await m.return();await A}}async function v(){for(;;){try{const{value:S,done:R}=b?await m.next():m.next();if(R)_.push(null);else{const j=S&&typeof S.then=="function"?await S:S;if(j===null)throw p=!1,new r;if(_.push(j))continue;p=!1}}catch(S){_.destroy(S)}break}}return _}return JC=a,JC}var ZC,H2;function Xb(){if(H2)return ZC;H2=1;const e=Kf(),{ArrayPrototypeIndexOf:n,NumberIsInteger:o,NumberIsNaN:i,NumberParseInt:u,ObjectDefineProperties:t,ObjectKeys:r,ObjectSetPrototypeOf:a,Promise:s,SafeSet:l,SymbolAsyncDispose:f,SymbolAsyncIterator:m,Symbol:b}=Gt();ZC=ye,ye.ReadableState=De;const{EventEmitter:_}=Jb(),{Stream:p,prependListener:y}=KM(),{Buffer:v}=id(),{addAbortSignal:S}=Zb(),R=od();let j=Wr().debuglog("stream",te=>{j=te});const A=cme(),x=pp(),{getHighWaterMark:M,getDefaultHighWaterMark:D}=Qb(),{aggregateTwoErrors:P,codes:{ERR_INVALID_ARG_TYPE:F,ERR_METHOD_NOT_IMPLEMENTED:B,ERR_OUT_OF_RANGE:q,ERR_STREAM_PUSH_AFTER_EOF:w,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:H},AbortError:Y}=Ir(),{validateObject:W}=b_(),$=b("kPaused"),{StringDecoder:k}=fme(),Q=zK();a(ye.prototype,p.prototype),a(ye,p);const re=()=>{},{errorOrDestroy:T}=x,I=1,K=2,ee=4,fe=8,_e=16,V=32,U=64,X=128,Z=256,ue=512,ge=1024,be=2048,ae=4096,oe=8192,ve=16384,Ce=32768,Pe=65536,Ae=1<<17,de=1<<18;function pe(te){return{enumerable:!1,get(){return(this.state&te)!==0},set(se){se?this.state|=te:this.state&=~te}}}t(De.prototype,{objectMode:pe(I),ended:pe(K),endEmitted:pe(ee),reading:pe(fe),constructed:pe(_e),sync:pe(V),needReadable:pe(U),emittedReadable:pe(X),readableListening:pe(Z),resumeScheduled:pe(ue),errorEmitted:pe(ge),emitClose:pe(be),autoDestroy:pe(ae),destroyed:pe(oe),closed:pe(ve),closeEmitted:pe(Ce),multiAwaitDrain:pe(Pe),readingMore:pe(Ae),dataEmitted:pe(de)});function De(te,se,qe){typeof qe!="boolean"&&(qe=se instanceof nc()),this.state=be|ae|_e|V,te&&te.objectMode&&(this.state|=I),qe&&te&&te.readableObjectMode&&(this.state|=I),this.highWaterMark=te?M(this,te,"readableHighWaterMark",qe):D(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[$]=null,te&&te.emitClose===!1&&(this.state&=~be),te&&te.autoDestroy===!1&&(this.state&=~ae),this.errored=null,this.defaultEncoding=te&&te.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,te&&te.encoding&&(this.decoder=new k(te.encoding),this.encoding=te.encoding)}function ye(te){if(!(this instanceof ye))return new ye(te);const se=this instanceof nc();this._readableState=new De(te,this,se),te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.construct=="function"&&(this._construct=te.construct),te.signal&&!se&&S(te.signal,this)),p.call(this,te),x.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}ye.prototype.destroy=x.destroy,ye.prototype._undestroy=x.undestroy,ye.prototype._destroy=function(te,se){se(te)},ye.prototype[_.captureRejectionSymbol]=function(te){this.destroy(te)},ye.prototype[f]=function(){let te;return this.destroyed||(te=this.readableEnded?null:new Y,this.destroy(te)),new s((se,qe)=>R(this,Ue=>Ue&&Ue!==te?qe(Ue):se(null)))},ye.prototype.push=function(te,se){return Ie(this,te,se,!1)},ye.prototype.unshift=function(te,se){return Ie(this,te,se,!0)};function Ie(te,se,qe,Ue){j("readableAddChunk",se);const ke=te._readableState;let ir;if((ke.state&I)===0&&(typeof se=="string"?(qe=qe||ke.defaultEncoding,ke.encoding!==qe&&(Ue&&ke.encoding?se=v.from(se,qe).toString(ke.encoding):(se=v.from(se,qe),qe=""))):se instanceof v?qe="":p._isUint8Array(se)?(se=p._uint8ArrayToBuffer(se),qe=""):se!=null&&(ir=new F("chunk",["string","Buffer","Uint8Array"],se))),ir)T(te,ir);else if(se===null)ke.state&=~fe,N(te,ke);else if((ke.state&I)!==0||se&&se.length>0)if(Ue)if((ke.state&ee)!==0)T(te,new H);else{if(ke.destroyed||ke.errored)return!1;$e(te,ke,se,!0)}else if(ke.ended)T(te,new w);else{if(ke.destroyed||ke.errored)return!1;ke.state&=~fe,ke.decoder&&!qe?(se=ke.decoder.write(se),ke.objectMode||se.length!==0?$e(te,ke,se,!1):ce(te,ke)):$e(te,ke,se,!1)}else Ue||(ke.state&=~fe,ce(te,ke));return!ke.ended&&(ke.length<ke.highWaterMark||ke.length===0)}function $e(te,se,qe,Ue){se.flowing&&se.length===0&&!se.sync&&te.listenerCount("data")>0?((se.state&Pe)!==0?se.awaitDrainWriters.clear():se.awaitDrainWriters=null,se.dataEmitted=!0,te.emit("data",qe)):(se.length+=se.objectMode?1:qe.length,Ue?se.buffer.unshift(qe):se.buffer.push(qe),(se.state&U)!==0&&z(te)),ce(te,se)}ye.prototype.isPaused=function(){const te=this._readableState;return te[$]===!0||te.flowing===!1},ye.prototype.setEncoding=function(te){const se=new k(te);this._readableState.decoder=se,this._readableState.encoding=this._readableState.decoder.encoding;const qe=this._readableState.buffer;let Ue="";for(const ke of qe)Ue+=se.write(ke);return qe.clear(),Ue!==""&&qe.push(Ue),this._readableState.length=Ue.length,this};const Ne=1073741824;function ze(te){if(te>Ne)throw new q("size","<= 1GiB",te);return te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++,te}function G(te,se){return te<=0||se.length===0&&se.ended?0:(se.state&I)!==0?1:i(te)?se.flowing&&se.length?se.buffer.first().length:se.length:te<=se.length?te:se.ended?se.length:0}ye.prototype.read=function(te){j("read",te),te===void 0?te=NaN:o(te)||(te=u(te,10));const se=this._readableState,qe=te;if(te>se.highWaterMark&&(se.highWaterMark=ze(te)),te!==0&&(se.state&=~X),te===0&&se.needReadable&&((se.highWaterMark!==0?se.length>=se.highWaterMark:se.length>0)||se.ended))return j("read: emitReadable",se.length,se.ended),se.length===0&&se.ended?dc(this):z(this),null;if(te=G(te,se),te===0&&se.ended)return se.length===0&&dc(this),null;let Ue=(se.state&U)!==0;if(j("need readable",Ue),(se.length===0||se.length-te<se.highWaterMark)&&(Ue=!0,j("length less than watermark",Ue)),se.ended||se.reading||se.destroyed||se.errored||!se.constructed)Ue=!1,j("reading, ended or constructing",Ue);else if(Ue){j("do read"),se.state|=fe|V,se.length===0&&(se.state|=U);try{this._read(se.highWaterMark)}catch(ir){T(this,ir)}se.state&=~V,se.reading||(te=G(qe,se))}let ke;return te>0?ke=cd(te,se):ke=null,ke===null?(se.needReadable=se.length<=se.highWaterMark,te=0):(se.length-=te,se.multiAwaitDrain?se.awaitDrainWriters.clear():se.awaitDrainWriters=null),se.length===0&&(se.ended||(se.needReadable=!0),qe!==te&&se.ended&&dc(this)),ke!==null&&!se.errorEmitted&&!se.closeEmitted&&(se.dataEmitted=!0,this.emit("data",ke)),ke};function N(te,se){if(j("onEofChunk"),!se.ended){if(se.decoder){const qe=se.decoder.end();qe&&qe.length&&(se.buffer.push(qe),se.length+=se.objectMode?1:qe.length)}se.ended=!0,se.sync?z(te):(se.needReadable=!1,se.emittedReadable=!0,ne(te))}}function z(te){const se=te._readableState;j("emitReadable",se.needReadable,se.emittedReadable),se.needReadable=!1,se.emittedReadable||(j("emitReadable",se.flowing),se.emittedReadable=!0,e.nextTick(ne,te))}function ne(te){const se=te._readableState;j("emitReadable_",se.destroyed,se.length,se.ended),!se.destroyed&&!se.errored&&(se.length||se.ended)&&(te.emit("readable"),se.emittedReadable=!1),se.needReadable=!se.flowing&&!se.ended&&se.length<=se.highWaterMark,wt(te)}function ce(te,se){!se.readingMore&&se.constructed&&(se.readingMore=!0,e.nextTick(Ee,te,se))}function Ee(te,se){for(;!se.reading&&!se.ended&&(se.length<se.highWaterMark||se.flowing&&se.length===0);){const qe=se.length;if(j("maybeReadMore read 0"),te.read(0),qe===se.length)break}se.readingMore=!1}ye.prototype._read=function(te){throw new B("_read()")},ye.prototype.pipe=function(te,se){const qe=this,Ue=this._readableState;Ue.pipes.length===1&&(Ue.multiAwaitDrain||(Ue.multiAwaitDrain=!0,Ue.awaitDrainWriters=new l(Ue.awaitDrainWriters?[Ue.awaitDrainWriters]:[]))),Ue.pipes.push(te),j("pipe count=%d opts=%j",Ue.pipes.length,se);const ir=(!se||se.end!==!1)&&te!==e.stdout&&te!==e.stderr?Wf:fd;Ue.endEmitted?e.nextTick(ir):qe.once("end",ir),te.on("unpipe",Cr);function Cr(Cl,En){j("onunpipe"),Cl===qe&&En&&En.hasUnpiped===!1&&(En.hasUnpiped=!0,A_())}function Wf(){j("onend"),te.end()}let $n,_p=!1;function A_(){j("cleanup"),te.removeListener("close",cl),te.removeListener("finish",dd),$n&&te.removeListener("drain",$n),te.removeListener("error",dr),te.removeListener("unpipe",Cr),qe.removeListener("end",Wf),qe.removeListener("end",fd),qe.removeListener("data",Qt),_p=!0,$n&&Ue.awaitDrainWriters&&(!te._writableState||te._writableState.needDrain)&&$n()}function Fn(){_p||(Ue.pipes.length===1&&Ue.pipes[0]===te?(j("false write response, pause",0),Ue.awaitDrainWriters=te,Ue.multiAwaitDrain=!1):Ue.pipes.length>1&&Ue.pipes.includes(te)&&(j("false write response, pause",Ue.awaitDrainWriters.size),Ue.awaitDrainWriters.add(te)),qe.pause()),$n||($n=Te(qe,te),te.on("drain",$n))}qe.on("data",Qt);function Qt(Cl){j("ondata");const En=te.write(Cl);j("dest.write",En),En===!1&&Fn()}function dr(Cl){if(j("onerror",Cl),fd(),te.removeListener("error",dr),te.listenerCount("error")===0){const En=te._writableState||te._readableState;En&&!En.errorEmitted?T(te,Cl):te.emit("error",Cl)}}y(te,"error",dr);function cl(){te.removeListener("finish",dd),fd()}te.once("close",cl);function dd(){j("onfinish"),te.removeListener("close",cl),fd()}te.once("finish",dd);function fd(){j("unpipe"),qe.unpipe(te)}return te.emit("pipe",qe),te.writableNeedDrain===!0?Fn():Ue.flowing||(j("pipe resume"),qe.resume()),te};function Te(te,se){return function(){const Ue=te._readableState;Ue.awaitDrainWriters===se?(j("pipeOnDrain",1),Ue.awaitDrainWriters=null):Ue.multiAwaitDrain&&(j("pipeOnDrain",Ue.awaitDrainWriters.size),Ue.awaitDrainWriters.delete(se)),(!Ue.awaitDrainWriters||Ue.awaitDrainWriters.size===0)&&te.listenerCount("data")&&te.resume()}}ye.prototype.unpipe=function(te){const se=this._readableState,qe={hasUnpiped:!1};if(se.pipes.length===0)return this;if(!te){const ke=se.pipes;se.pipes=[],this.pause();for(let ir=0;ir<ke.length;ir++)ke[ir].emit("unpipe",this,{hasUnpiped:!1});return this}const Ue=n(se.pipes,te);return Ue===-1?this:(se.pipes.splice(Ue,1),se.pipes.length===0&&this.pause(),te.emit("unpipe",this,qe),this)},ye.prototype.on=function(te,se){const qe=p.prototype.on.call(this,te,se),Ue=this._readableState;return te==="data"?(Ue.readableListening=this.listenerCount("readable")>0,Ue.flowing!==!1&&this.resume()):te==="readable"&&!Ue.endEmitted&&!Ue.readableListening&&(Ue.readableListening=Ue.needReadable=!0,Ue.flowing=!1,Ue.emittedReadable=!1,j("on readable",Ue.length,Ue.reading),Ue.length?z(this):Ue.reading||e.nextTick(yt,this)),qe},ye.prototype.addListener=ye.prototype.on,ye.prototype.removeListener=function(te,se){const qe=p.prototype.removeListener.call(this,te,se);return te==="readable"&&e.nextTick(tt,this),qe},ye.prototype.off=ye.prototype.removeListener,ye.prototype.removeAllListeners=function(te){const se=p.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&e.nextTick(tt,this),se};function tt(te){const se=te._readableState;se.readableListening=te.listenerCount("readable")>0,se.resumeScheduled&&se[$]===!1?se.flowing=!0:te.listenerCount("data")>0?te.resume():se.readableListening||(se.flowing=null)}function yt(te){j("readable nexttick read 0"),te.read(0)}ye.prototype.resume=function(){const te=this._readableState;return te.flowing||(j("resume"),te.flowing=!te.readableListening,lt(this,te)),te[$]=!1,this};function lt(te,se){se.resumeScheduled||(se.resumeScheduled=!0,e.nextTick(zt,te,se))}function zt(te,se){j("resume",se.reading),se.reading||te.read(0),se.resumeScheduled=!1,te.emit("resume"),wt(te),se.flowing&&!se.reading&&te.read(0)}ye.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$]=!0,this};function wt(te){const se=te._readableState;for(j("flow",se.flowing);se.flowing&&te.read()!==null;);}ye.prototype.wrap=function(te){let se=!1;te.on("data",Ue=>{!this.push(Ue)&&te.pause&&(se=!0,te.pause())}),te.on("end",()=>{this.push(null)}),te.on("error",Ue=>{T(this,Ue)}),te.on("close",()=>{this.destroy()}),te.on("destroy",()=>{this.destroy()}),this._read=()=>{se&&te.resume&&(se=!1,te.resume())};const qe=r(te);for(let Ue=1;Ue<qe.length;Ue++){const ke=qe[Ue];this[ke]===void 0&&typeof te[ke]=="function"&&(this[ke]=te[ke].bind(te))}return this},ye.prototype[m]=function(){return x_(this)},ye.prototype.iterator=function(te){return te!==void 0&&W(te,"options"),x_(this,te)};function x_(te,se){typeof te.read!="function"&&(te=ye.wrap(te,{objectMode:!0}));const qe=kf(te,se);return qe.stream=te,qe}async function*kf(te,se){let qe=re;function Ue(Cr){this===te?(qe(),qe=re):qe=Cr}te.on("readable",Ue);let ke;const ir=R(te,{writable:!1},Cr=>{ke=Cr?P(ke,Cr):null,qe(),qe=re});try{for(;;){const Cr=te.destroyed?null:te.read();if(Cr!==null)yield Cr;else{if(ke)throw ke;if(ke===null)return;await new s(Ue)}}}catch(Cr){throw ke=P(ke,Cr),ke}finally{(ke||se?.destroyOnReturn!==!1)&&(ke===void 0||te._readableState.autoDestroy)?x.destroyer(te,null):(te.off("readable",Ue),ir())}}t(ye.prototype,{readable:{__proto__:null,get(){const te=this._readableState;return!!te&&te.readable!==!1&&!te.destroyed&&!te.errorEmitted&&!te.endEmitted},set(te){this._readableState&&(this._readableState.readable=!!te)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(te){this._readableState&&(this._readableState.destroyed=te)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),t(De.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[$]!==!1},set(te){this[$]=!!te}}}),ye._fromList=cd;function cd(te,se){if(se.length===0)return null;let qe;return se.objectMode?qe=se.buffer.shift():!te||te>=se.length?(se.decoder?qe=se.buffer.join(""):se.buffer.length===1?qe=se.buffer.first():qe=se.buffer.concat(se.length),se.buffer.clear()):qe=se.buffer.consume(te,se.decoder),qe}function dc(te){const se=te._readableState;j("endReadable",se.endEmitted),se.endEmitted||(se.ended=!0,e.nextTick(Rl,se,te))}function Rl(te,se){if(j("endReadableNT",te.endEmitted,te.length),!te.errored&&!te.closeEmitted&&!te.endEmitted&&te.length===0){if(te.endEmitted=!0,se.emit("end"),se.writable&&se.allowHalfOpen===!1)e.nextTick(Yf,se);else if(te.autoDestroy){const qe=se._writableState;(!qe||qe.autoDestroy&&(qe.finished||qe.writable===!1))&&se.destroy()}}}function Yf(te){te.writable&&!te.writableEnded&&!te.destroyed&&te.end()}ye.from=function(te,se){return Q(ye,te,se)};let jl;function P_(){return jl===void 0&&(jl={}),jl}return ye.fromWeb=function(te,se){return P_().newStreamReadableFromReadableStream(te,se)},ye.toWeb=function(te,se){return P_().newReadableStreamFromStreamReadable(te,se)},ye.wrap=function(te,se){var qe,Ue;return new ye({objectMode:(qe=(Ue=te.readableObjectMode)!==null&&Ue!==void 0?Ue:te.objectMode)!==null&&qe!==void 0?qe:!0,...se,destroy(ke,ir){x.destroyer(te,ke),ir(ke)}}).wrap(te)},ZC}var QC,K2;function kM(){if(K2)return QC;K2=1;const e=Kf(),{ArrayPrototypeSlice:n,Error:o,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:u,ObjectDefineProperties:t,ObjectSetPrototypeOf:r,StringPrototypeToLowerCase:a,Symbol:s,SymbolHasInstance:l}=Gt();QC=W,W.WritableState=H;const{EventEmitter:f}=Jb(),m=KM().Stream,{Buffer:b}=id(),_=pp(),{addAbortSignal:p}=Zb(),{getHighWaterMark:y,getDefaultHighWaterMark:v}=Qb(),{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_MULTIPLE_CALLBACK:j,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:x,ERR_STREAM_ALREADY_FINISHED:M,ERR_STREAM_NULL_VALUES:D,ERR_STREAM_WRITE_AFTER_END:P,ERR_UNKNOWN_ENCODING:F}=Ir().codes,{errorOrDestroy:B}=_;r(W.prototype,m.prototype),r(W,m);function q(){}const w=s("kOnFinished");function H(ae,oe,ve){typeof ve!="boolean"&&(ve=oe instanceof nc()),this.objectMode=!!(ae&&ae.objectMode),ve&&(this.objectMode=this.objectMode||!!(ae&&ae.writableObjectMode)),this.highWaterMark=ae?y(this,ae,"writableHighWaterMark",ve):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Ce=!!(ae&&ae.decodeStrings===!1);this.decodeStrings=!Ce,this.defaultEncoding=ae&&ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=T.bind(void 0,oe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Y(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ae||ae.emitClose!==!1,this.autoDestroy=!ae||ae.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[w]=[]}function Y(ae){ae.buffered=[],ae.bufferedIndex=0,ae.allBuffers=!0,ae.allNoop=!0}H.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},u(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function W(ae){const oe=this instanceof nc();if(!oe&&!i(W,this))return new W(ae);this._writableState=new H(ae,this,oe),ae&&(typeof ae.write=="function"&&(this._write=ae.write),typeof ae.writev=="function"&&(this._writev=ae.writev),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.final=="function"&&(this._final=ae.final),typeof ae.construct=="function"&&(this._construct=ae.construct),ae.signal&&p(ae.signal,this)),m.call(this,ae),_.construct(this,()=>{const ve=this._writableState;ve.writing||fe(this,ve),X(this,ve)})}u(W,l,{__proto__:null,value:function(ae){return i(this,ae)?!0:this!==W?!1:ae&&ae._writableState instanceof H}}),W.prototype.pipe=function(){B(this,new A)};function $(ae,oe,ve,Ce){const Pe=ae._writableState;if(typeof ve=="function")Ce=ve,ve=Pe.defaultEncoding;else{if(!ve)ve=Pe.defaultEncoding;else if(ve!=="buffer"&&!b.isEncoding(ve))throw new F(ve);typeof Ce!="function"&&(Ce=q)}if(oe===null)throw new D;if(!Pe.objectMode)if(typeof oe=="string")Pe.decodeStrings!==!1&&(oe=b.from(oe,ve),ve="buffer");else if(oe instanceof b)ve="buffer";else if(m._isUint8Array(oe))oe=m._uint8ArrayToBuffer(oe),ve="buffer";else throw new S("chunk",["string","Buffer","Uint8Array"],oe);let Ae;return Pe.ending?Ae=new P:Pe.destroyed&&(Ae=new x("write")),Ae?(e.nextTick(Ce,Ae),B(ae,Ae,!0),Ae):(Pe.pendingcb++,k(ae,Pe,oe,ve,Ce))}W.prototype.write=function(ae,oe,ve){return $(this,ae,oe,ve)===!0},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){const ae=this._writableState;ae.corked&&(ae.corked--,ae.writing||fe(this,ae))},W.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=a(oe)),!b.isEncoding(oe))throw new F(oe);return this._writableState.defaultEncoding=oe,this};function k(ae,oe,ve,Ce,Pe){const Ae=oe.objectMode?1:ve.length;oe.length+=Ae;const de=oe.length<oe.highWaterMark;return de||(oe.needDrain=!0),oe.writing||oe.corked||oe.errored||!oe.constructed?(oe.buffered.push({chunk:ve,encoding:Ce,callback:Pe}),oe.allBuffers&&Ce!=="buffer"&&(oe.allBuffers=!1),oe.allNoop&&Pe!==q&&(oe.allNoop=!1)):(oe.writelen=Ae,oe.writecb=Pe,oe.writing=!0,oe.sync=!0,ae._write(ve,Ce,oe.onwrite),oe.sync=!1),de&&!oe.errored&&!oe.destroyed}function Q(ae,oe,ve,Ce,Pe,Ae,de){oe.writelen=Ce,oe.writecb=de,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new x("write")):ve?ae._writev(Pe,oe.onwrite):ae._write(Pe,Ae,oe.onwrite),oe.sync=!1}function re(ae,oe,ve,Ce){--oe.pendingcb,Ce(ve),ee(oe),B(ae,ve)}function T(ae,oe){const ve=ae._writableState,Ce=ve.sync,Pe=ve.writecb;if(typeof Pe!="function"){B(ae,new j);return}ve.writing=!1,ve.writecb=null,ve.length-=ve.writelen,ve.writelen=0,oe?(oe.stack,ve.errored||(ve.errored=oe),ae._readableState&&!ae._readableState.errored&&(ae._readableState.errored=oe),Ce?e.nextTick(re,ae,ve,oe,Pe):re(ae,ve,oe,Pe)):(ve.buffered.length>ve.bufferedIndex&&fe(ae,ve),Ce?ve.afterWriteTickInfo!==null&&ve.afterWriteTickInfo.cb===Pe?ve.afterWriteTickInfo.count++:(ve.afterWriteTickInfo={count:1,cb:Pe,stream:ae,state:ve},e.nextTick(I,ve.afterWriteTickInfo)):K(ae,ve,1,Pe))}function I({stream:ae,state:oe,count:ve,cb:Ce}){return oe.afterWriteTickInfo=null,K(ae,oe,ve,Ce)}function K(ae,oe,ve,Ce){for(!oe.ending&&!ae.destroyed&&oe.length===0&&oe.needDrain&&(oe.needDrain=!1,ae.emit("drain"));ve-- >0;)oe.pendingcb--,Ce();oe.destroyed&&ee(oe),X(ae,oe)}function ee(ae){if(ae.writing)return;for(let Pe=ae.bufferedIndex;Pe<ae.buffered.length;++Pe){var oe;const{chunk:Ae,callback:de}=ae.buffered[Pe],pe=ae.objectMode?1:Ae.length;ae.length-=pe,de((oe=ae.errored)!==null&&oe!==void 0?oe:new x("write"))}const ve=ae[w].splice(0);for(let Pe=0;Pe<ve.length;Pe++){var Ce;ve[Pe]((Ce=ae.errored)!==null&&Ce!==void 0?Ce:new x("end"))}Y(ae)}function fe(ae,oe){if(oe.corked||oe.bufferProcessing||oe.destroyed||!oe.constructed)return;const{buffered:ve,bufferedIndex:Ce,objectMode:Pe}=oe,Ae=ve.length-Ce;if(!Ae)return;let de=Ce;if(oe.bufferProcessing=!0,Ae>1&&ae._writev){oe.pendingcb-=Ae-1;const pe=oe.allNoop?q:ye=>{for(let Ie=de;Ie<ve.length;++Ie)ve[Ie].callback(ye)},De=oe.allNoop&&de===0?ve:n(ve,de);De.allBuffers=oe.allBuffers,Q(ae,oe,!0,oe.length,De,"",pe),Y(oe)}else{do{const{chunk:pe,encoding:De,callback:ye}=ve[de];ve[de++]=null;const Ie=Pe?1:pe.length;Q(ae,oe,!1,Ie,pe,De,ye)}while(de<ve.length&&!oe.writing);de===ve.length?Y(oe):de>256?(ve.splice(0,de),oe.bufferedIndex=0):oe.bufferedIndex=de}oe.bufferProcessing=!1}W.prototype._write=function(ae,oe,ve){if(this._writev)this._writev([{chunk:ae,encoding:oe}],ve);else throw new R("_write()")},W.prototype._writev=null,W.prototype.end=function(ae,oe,ve){const Ce=this._writableState;typeof ae=="function"?(ve=ae,ae=null,oe=null):typeof oe=="function"&&(ve=oe,oe=null);let Pe;if(ae!=null){const Ae=$(this,ae,oe);Ae instanceof o&&(Pe=Ae)}return Ce.corked&&(Ce.corked=1,this.uncork()),Pe||(!Ce.errored&&!Ce.ending?(Ce.ending=!0,X(this,Ce,!0),Ce.ended=!0):Ce.finished?Pe=new M("end"):Ce.destroyed&&(Pe=new x("end"))),typeof ve=="function"&&(Pe||Ce.finished?e.nextTick(ve,Pe):Ce[w].push(ve)),this};function _e(ae){return ae.ending&&!ae.destroyed&&ae.constructed&&ae.length===0&&!ae.errored&&ae.buffered.length===0&&!ae.finished&&!ae.writing&&!ae.errorEmitted&&!ae.closeEmitted}function V(ae,oe){let ve=!1;function Ce(Pe){if(ve){B(ae,Pe??j());return}if(ve=!0,oe.pendingcb--,Pe){const Ae=oe[w].splice(0);for(let de=0;de<Ae.length;de++)Ae[de](Pe);B(ae,Pe,oe.sync)}else _e(oe)&&(oe.prefinished=!0,ae.emit("prefinish"),oe.pendingcb++,e.nextTick(Z,ae,oe))}oe.sync=!0,oe.pendingcb++;try{ae._final(Ce)}catch(Pe){Ce(Pe)}oe.sync=!1}function U(ae,oe){!oe.prefinished&&!oe.finalCalled&&(typeof ae._final=="function"&&!oe.destroyed?(oe.finalCalled=!0,V(ae,oe)):(oe.prefinished=!0,ae.emit("prefinish")))}function X(ae,oe,ve){_e(oe)&&(U(ae,oe),oe.pendingcb===0&&(ve?(oe.pendingcb++,e.nextTick((Ce,Pe)=>{_e(Pe)?Z(Ce,Pe):Pe.pendingcb--},ae,oe)):_e(oe)&&(oe.pendingcb++,Z(ae,oe))))}function Z(ae,oe){oe.pendingcb--,oe.finished=!0;const ve=oe[w].splice(0);for(let Ce=0;Ce<ve.length;Ce++)ve[Ce]();if(ae.emit("finish"),oe.autoDestroy){const Ce=ae._readableState;(!Ce||Ce.autoDestroy&&(Ce.endEmitted||Ce.readable===!1))&&ae.destroy()}}t(W.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ae){this._writableState&&(this._writableState.destroyed=ae)}},writable:{__proto__:null,get(){const ae=this._writableState;return!!ae&&ae.writable!==!1&&!ae.destroyed&&!ae.errored&&!ae.ending&&!ae.ended},set(ae){this._writableState&&(this._writableState.writable=!!ae)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const ae=this._writableState;return ae?!ae.destroyed&&!ae.ending&&ae.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ue=_.destroy;W.prototype.destroy=function(ae,oe){const ve=this._writableState;return!ve.destroyed&&(ve.bufferedIndex<ve.buffered.length||ve[w].length)&&e.nextTick(ee,ve),ue.call(this,ae,oe),this},W.prototype._undestroy=_.undestroy,W.prototype._destroy=function(ae,oe){oe(ae)},W.prototype[f.captureRejectionSymbol]=function(ae){this.destroy(ae)};let ge;function be(){return ge===void 0&&(ge={}),ge}return W.fromWeb=function(ae,oe){return be().newStreamWritableFromWritableStream(ae,oe)},W.toWeb=function(ae){return be().newWritableStreamFromStreamWritable(ae)},QC}var XC,k2;function hme(){if(k2)return XC;k2=1;const e=Kf(),n=id(),{isReadable:o,isWritable:i,isIterable:u,isNodeStream:t,isReadableNodeStream:r,isWritableNodeStream:a,isDuplexNodeStream:s,isReadableStream:l,isWritableStream:f}=oc(),m=od(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:p}}=Ir(),{destroyer:y}=pp(),v=nc(),S=Xb(),R=kM(),{createDeferredPromise:j}=Wr(),A=zK(),x=globalThis.Blob||n.Blob,M=typeof x<"u"?function(H){return H instanceof x}:function(H){return!1},D=globalThis.AbortController||Xm().AbortController,{FunctionPrototypeCall:P}=Gt();class F extends v{constructor(H){super(H),H?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),H?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}XC=function w(H,Y){if(s(H))return H;if(r(H))return q({readable:H});if(a(H))return q({writable:H});if(t(H))return q({writable:!1,readable:!1});if(l(H))return q({readable:S.fromWeb(H)});if(f(H))return q({writable:R.fromWeb(H)});if(typeof H=="function"){const{value:$,write:k,final:Q,destroy:re}=B(H);if(u($))return A(F,$,{objectMode:!0,write:k,final:Q,destroy:re});const T=$?.then;if(typeof T=="function"){let I;const K=P(T,$,ee=>{if(ee!=null)throw new p("nully","body",ee)},ee=>{y(I,ee)});return I=new F({objectMode:!0,readable:!1,write:k,final(ee){Q(async()=>{try{await K,e.nextTick(ee,null)}catch(fe){e.nextTick(ee,fe)}})},destroy:re})}throw new p("Iterable, AsyncIterable or AsyncFunction",Y,$)}if(M(H))return w(H.arrayBuffer());if(u(H))return A(F,H,{objectMode:!0,writable:!1});if(l(H?.readable)&&f(H?.writable))return F.fromWeb(H);if(typeof H?.writable=="object"||typeof H?.readable=="object"){const $=H!=null&&H.readable?r(H?.readable)?H?.readable:w(H.readable):void 0,k=H!=null&&H.writable?a(H?.writable)?H?.writable:w(H.writable):void 0;return q({readable:$,writable:k})}const W=H?.then;if(typeof W=="function"){let $;return P(W,H,k=>{k!=null&&$.push(k),$.push(null)},k=>{y($,k)}),$=new F({objectMode:!0,writable:!1,read(){}})}throw new _(Y,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],H)};function B(w){let{promise:H,resolve:Y}=j();const W=new D,$=W.signal;return{value:w((async function*(){for(;;){const Q=H;H=null;const{chunk:re,done:T,cb:I}=await Q;if(e.nextTick(I),T)return;if($.aborted)throw new b(void 0,{cause:$.reason});({promise:H,resolve:Y}=j()),yield re}})(),{signal:$}),write(Q,re,T){const I=Y;Y=null,I({chunk:Q,done:!1,cb:T})},final(Q){const re=Y;Y=null,re({done:!0,cb:Q})},destroy(Q,re){W.abort(),re(Q)}}}function q(w){const H=w.readable&&typeof w.readable.read!="function"?S.wrap(w.readable):w.readable,Y=w.writable;let W=!!o(H),$=!!i(Y),k,Q,re,T,I;function K(ee){const fe=T;T=null,fe?fe(ee):ee&&I.destroy(ee)}return I=new F({readableObjectMode:!!(H!=null&&H.readableObjectMode),writableObjectMode:!!(Y!=null&&Y.writableObjectMode),readable:W,writable:$}),$&&(m(Y,ee=>{$=!1,ee&&y(H,ee),K(ee)}),I._write=function(ee,fe,_e){Y.write(ee,fe)?_e():k=_e},I._final=function(ee){Y.end(),Q=ee},Y.on("drain",function(){if(k){const ee=k;k=null,ee()}}),Y.on("finish",function(){if(Q){const ee=Q;Q=null,ee()}})),W&&(m(H,ee=>{W=!1,ee&&y(H,ee),K(ee)}),H.on("readable",function(){if(re){const ee=re;re=null,ee()}}),H.on("end",function(){I.push(null)}),I._read=function(){for(;;){const ee=H.read();if(ee===null){re=I._read;return}if(!I.push(ee))return}}),I._destroy=function(ee,fe){!ee&&T!==null&&(ee=new b),re=null,k=null,Q=null,T===null?fe(ee):(T=fe,y(Y,ee),y(H,ee))},I}return XC}var e1,Y2;function nc(){if(Y2)return e1;Y2=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:o,ObjectSetPrototypeOf:i}=Gt();e1=r;const u=Xb(),t=kM();i(r.prototype,u.prototype),i(r,u);{const f=o(t.prototype);for(let m=0;m<f.length;m++){const b=f[m];r.prototype[b]||(r.prototype[b]=t.prototype[b])}}function r(f){if(!(this instanceof r))return new r(f);u.call(this,f),t.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(r.prototype,{writable:{__proto__:null,...n(t.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(t.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(t.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(t.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(t.prototype,"writableLength")},writableFinished:{__proto__:null,...n(t.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(t.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(t.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(t.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let a;function s(){return a===void 0&&(a={}),a}r.fromWeb=function(f,m){return s().newStreamDuplexFromReadableWritablePair(f,m)},r.toWeb=function(f){return s().newReadableWritablePairFromDuplex(f)};let l;return r.from=function(f){return l||(l=hme()),l(f,"body")},e1}var t1,W2;function qK(){if(W2)return t1;W2=1;const{ObjectSetPrototypeOf:e,Symbol:n}=Gt();t1=r;const{ERR_METHOD_NOT_IMPLEMENTED:o}=Ir().codes,i=nc(),{getHighWaterMark:u}=Qb();e(r.prototype,i.prototype),e(r,i);const t=n("kCallback");function r(l){if(!(this instanceof r))return new r(l);const f=l?u(this,l,"readableHighWaterMark",!0):null;f===0&&(l={...l,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:l.writableHighWaterMark||0}),i.call(this,l),this._readableState.sync=!1,this[t]=null,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",s)}function a(l){typeof this._flush=="function"&&!this.destroyed?this._flush((f,m)=>{if(f){l?l(f):this.destroy(f);return}m!=null&&this.push(m),this.push(null),l&&l()}):(this.push(null),l&&l())}function s(){this._final!==a&&a.call(this)}return r.prototype._final=a,r.prototype._transform=function(l,f,m){throw new o("_transform()")},r.prototype._write=function(l,f,m){const b=this._readableState,_=this._writableState,p=b.length;this._transform(l,f,(y,v)=>{if(y){m(y);return}v!=null&&this.push(v),_.ended||p===b.length||b.length<b.highWaterMark?m():this[t]=m})},r.prototype._read=function(){if(this[t]){const l=this[t];this[t]=null,l()}},t1}var r1,J2;function BK(){if(J2)return r1;J2=1;const{ObjectSetPrototypeOf:e}=Gt();r1=o;const n=qK();e(o.prototype,n.prototype),e(o,n);function o(i){if(!(this instanceof o))return new o(i);n.call(this,i)}return o.prototype._transform=function(i,u,t){t(null,i)},r1}var n1,Z2;function YM(){if(Z2)return n1;Z2=1;const e=Kf(),{ArrayIsArray:n,Promise:o,SymbolAsyncIterator:i,SymbolDispose:u}=Gt(),t=od(),{once:r}=Wr(),a=pp(),s=nc(),{aggregateTwoErrors:l,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:m,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:y}=Ir(),{validateFunction:v,validateAbortSignal:S}=b_(),{isIterable:R,isReadable:j,isReadableNodeStream:A,isNodeStream:x,isTransformStream:M,isWebStream:D,isReadableStream:P,isReadableFinished:F}=oc(),B=globalThis.AbortController||Xm().AbortController;let q,w,H;function Y(ee,fe,_e){let V=!1;ee.on("close",()=>{V=!0});const U=t(ee,{readable:fe,writable:_e},X=>{V=!X});return{destroy:X=>{V||(V=!0,a.destroyer(ee,X||new _("pipe")))},cleanup:U}}function W(ee){return v(ee[ee.length-1],"streams[stream.length - 1]"),ee.pop()}function $(ee){if(R(ee))return ee;if(A(ee))return k(ee);throw new f("val",["Readable","Iterable","AsyncIterable"],ee)}async function*k(ee){w||(w=Xb()),yield*w.prototype[i].call(ee)}async function Q(ee,fe,_e,{end:V}){let U,X=null;const Z=be=>{if(be&&(U=be),X){const ae=X;X=null,ae()}},ue=()=>new o((be,ae)=>{U?ae(U):X=()=>{U?ae(U):be()}});fe.on("drain",Z);const ge=t(fe,{readable:!1},Z);try{fe.writableNeedDrain&&await ue();for await(const be of ee)fe.write(be)||await ue();V&&(fe.end(),await ue()),_e()}catch(be){_e(U!==be?l(U,be):be)}finally{ge(),fe.off("drain",Z)}}async function re(ee,fe,_e,{end:V}){M(fe)&&(fe=fe.writable);const U=fe.getWriter();try{for await(const X of ee)await U.ready,U.write(X).catch(()=>{});await U.ready,V&&await U.close(),_e()}catch(X){try{await U.abort(X),_e(X)}catch(Z){_e(Z)}}}function T(...ee){return I(ee,r(W(ee)))}function I(ee,fe,_e){if(ee.length===1&&n(ee[0])&&(ee=ee[0]),ee.length<2)throw new b("streams");const V=new B,U=V.signal,X=_e?.signal,Z=[];S(X,"options.signal");function ue(){Pe(new y)}H=H||Wr().addAbortListener;let ge;X&&(ge=H(X,ue));let be,ae;const oe=[];let ve=0;function Ce(De){Pe(De,--ve===0)}function Pe(De,ye){var Ie;if(De&&(!be||be.code==="ERR_STREAM_PREMATURE_CLOSE")&&(be=De),!(!be&&!ye)){for(;oe.length;)oe.shift()(be);(Ie=ge)===null||Ie===void 0||Ie[u](),V.abort(),ye&&(be||Z.forEach($e=>$e()),e.nextTick(fe,be,ae))}}let Ae;for(let De=0;De<ee.length;De++){const ye=ee[De],Ie=De<ee.length-1,$e=De>0,Ne=Ie||_e?.end!==!1,ze=De===ee.length-1;if(x(ye)){let G=function(N){N&&N.name!=="AbortError"&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Ce(N)};if(Ne){const{destroy:N,cleanup:z}=Y(ye,Ie,$e);oe.push(N),j(ye)&&ze&&Z.push(z)}ye.on("error",G),j(ye)&&ze&&Z.push(()=>{ye.removeListener("error",G)})}if(De===0)if(typeof ye=="function"){if(Ae=ye({signal:U}),!R(Ae))throw new m("Iterable, AsyncIterable or Stream","source",Ae)}else R(ye)||A(ye)||M(ye)?Ae=ye:Ae=s.from(ye);else if(typeof ye=="function"){if(M(Ae)){var de;Ae=$((de=Ae)===null||de===void 0?void 0:de.readable)}else Ae=$(Ae);if(Ae=ye(Ae,{signal:U}),Ie){if(!R(Ae,!0))throw new m("AsyncIterable",`transform[${De-1}]`,Ae)}else{var pe;q||(q=BK());const G=new q({objectMode:!0}),N=(pe=Ae)===null||pe===void 0?void 0:pe.then;if(typeof N=="function")ve++,N.call(Ae,ce=>{ae=ce,ce!=null&&G.write(ce),Ne&&G.end(),e.nextTick(Ce)},ce=>{G.destroy(ce),e.nextTick(Ce,ce)});else if(R(Ae,!0))ve++,Q(Ae,G,Ce,{end:Ne});else if(P(Ae)||M(Ae)){const ce=Ae.readable||Ae;ve++,Q(ce,G,Ce,{end:Ne})}else throw new m("AsyncIterable or Promise","destination",Ae);Ae=G;const{destroy:z,cleanup:ne}=Y(Ae,!1,!0);oe.push(z),ze&&Z.push(ne)}}else if(x(ye)){if(A(Ae)){ve+=2;const G=K(Ae,ye,Ce,{end:Ne});j(ye)&&ze&&Z.push(G)}else if(M(Ae)||P(Ae)){const G=Ae.readable||Ae;ve++,Q(G,ye,Ce,{end:Ne})}else if(R(Ae))ve++,Q(Ae,ye,Ce,{end:Ne});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ae);Ae=ye}else if(D(ye)){if(A(Ae))ve++,re($(Ae),ye,Ce,{end:Ne});else if(P(Ae)||R(Ae))ve++,re(Ae,ye,Ce,{end:Ne});else if(M(Ae))ve++,re(Ae.readable,ye,Ce,{end:Ne});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ae);Ae=ye}else Ae=s.from(ye)}return(U!=null&&U.aborted||X!=null&&X.aborted)&&e.nextTick(ue),Ae}function K(ee,fe,_e,{end:V}){let U=!1;if(fe.on("close",()=>{U||_e(new p)}),ee.pipe(fe,{end:!1}),V){let X=function(){U=!0,fe.end()};F(ee)?e.nextTick(X):ee.once("end",X)}else _e();return t(ee,{readable:!0,writable:!1},X=>{const Z=ee._readableState;X&&X.code==="ERR_STREAM_PREMATURE_CLOSE"&&Z&&Z.ended&&!Z.errored&&!Z.errorEmitted?ee.once("end",_e).once("error",_e):_e(X)}),t(fe,{readable:!1,writable:!0},_e)}return n1={pipelineImpl:I,pipeline:T},n1}var a1,Q2;function LK(){if(Q2)return a1;Q2=1;const{pipeline:e}=YM(),n=nc(),{destroyer:o}=pp(),{isNodeStream:i,isReadable:u,isWritable:t,isWebStream:r,isTransformStream:a,isWritableStream:s,isReadableStream:l}=oc(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:b}}=Ir(),_=od();return a1=function(...y){if(y.length===0)throw new b("streams");if(y.length===1)return n.from(y[0]);const v=[...y];if(typeof y[0]=="function"&&(y[0]=n.from(y[0])),typeof y[y.length-1]=="function"){const q=y.length-1;y[q]=n.from(y[q])}for(let q=0;q<y.length;++q)if(!(!i(y[q])&&!r(y[q]))){if(q<y.length-1&&!(u(y[q])||l(y[q])||a(y[q])))throw new m(`streams[${q}]`,v[q],"must be readable");if(q>0&&!(t(y[q])||s(y[q])||a(y[q])))throw new m(`streams[${q}]`,v[q],"must be writable")}let S,R,j,A,x;function M(q){const w=A;A=null,w?w(q):q?x.destroy(q):!B&&!F&&x.destroy()}const D=y[0],P=e(y,M),F=!!(t(D)||s(D)||a(D)),B=!!(u(P)||l(P)||a(P));if(x=new n({writableObjectMode:!!(D!=null&&D.writableObjectMode),readableObjectMode:!!(P!=null&&P.readableObjectMode),writable:F,readable:B}),F){if(i(D))x._write=function(w,H,Y){D.write(w,H)?Y():S=Y},x._final=function(w){D.end(),R=w},D.on("drain",function(){if(S){const w=S;S=null,w()}});else if(r(D)){const H=(a(D)?D.writable:D).getWriter();x._write=async function(Y,W,$){try{await H.ready,H.write(Y).catch(()=>{}),$()}catch(k){$(k)}},x._final=async function(Y){try{await H.ready,H.close().catch(()=>{}),R=Y}catch(W){Y(W)}}}const q=a(P)?P.readable:P;_(q,()=>{if(R){const w=R;R=null,w()}})}if(B){if(i(P))P.on("readable",function(){if(j){const q=j;j=null,q()}}),P.on("end",function(){x.push(null)}),x._read=function(){for(;;){const q=P.read();if(q===null){j=x._read;return}if(!x.push(q))return}};else if(r(P)){const w=(a(P)?P.readable:P).getReader();x._read=async function(){for(;;)try{const{value:H,done:Y}=await w.read();if(!x.push(H))return;if(Y){x.push(null);return}}catch{return}}}}return x._destroy=function(q,w){!q&&A!==null&&(q=new f),j=null,S=null,R=null,A===null?w(q):(A=w,i(P)&&o(P,q))},x},a1}var X2;function pme(){if(X2)return lv;X2=1;const e=globalThis.AbortController||Xm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:u},AbortError:t}=Ir(),{validateAbortSignal:r,validateInteger:a,validateObject:s}=b_(),l=Gt().Symbol("kWeak"),f=Gt().Symbol("kResistStopPropagation"),{finished:m}=od(),b=LK(),{addAbortSignalNoValidate:_}=Zb(),{isWritable:p,isNodeStream:y}=oc(),{deprecate:v}=Wr(),{ArrayPrototypePush:S,Boolean:R,MathFloor:j,Number:A,NumberIsNaN:x,Promise:M,PromiseReject:D,PromiseResolve:P,PromisePrototypeThen:F,Symbol:B}=Gt(),q=B("kEmpty"),w=B("kEof");function H(X,Z){if(Z!=null&&s(Z,"options"),Z?.signal!=null&&r(Z.signal,"options.signal"),y(X)&&!p(X))throw new n("stream",X,"must be writable");const ue=b(this,X);return Z!=null&&Z.signal&&_(Z.signal,ue),ue}function Y(X,Z){if(typeof X!="function")throw new o("fn",["Function","AsyncFunction"],X);Z!=null&&s(Z,"options"),Z?.signal!=null&&r(Z.signal,"options.signal");let ue=1;Z?.concurrency!=null&&(ue=j(Z.concurrency));let ge=ue-1;return Z?.highWaterMark!=null&&(ge=j(Z.highWaterMark)),a(ue,"options.concurrency",1),a(ge,"options.highWaterMark",0),ge+=ue,(async function*(){const ae=Wr().AbortSignalAny([Z?.signal].filter(R)),oe=this,ve=[],Ce={signal:ae};let Pe,Ae,de=!1,pe=0;function De(){de=!0,ye()}function ye(){pe-=1,Ie()}function Ie(){Ae&&!de&&pe<ue&&ve.length<ge&&(Ae(),Ae=null)}async function $e(){try{for await(let Ne of oe){if(de)return;if(ae.aborted)throw new t;try{if(Ne=X(Ne,Ce),Ne===q)continue;Ne=P(Ne)}catch(ze){Ne=D(ze)}pe+=1,F(Ne,ye,De),ve.push(Ne),Pe&&(Pe(),Pe=null),!de&&(ve.length>=ge||pe>=ue)&&await new M(ze=>{Ae=ze})}ve.push(w)}catch(Ne){const ze=D(Ne);F(ze,ye,De),ve.push(ze)}finally{de=!0,Pe&&(Pe(),Pe=null)}}$e();try{for(;;){for(;ve.length>0;){const Ne=await ve[0];if(Ne===w)return;if(ae.aborted)throw new t;Ne!==q&&(yield Ne),ve.shift(),Ie()}await new M(Ne=>{Pe=Ne})}}finally{de=!0,Ae&&(Ae(),Ae=null)}}).call(this)}function W(X=void 0){return X!=null&&s(X,"options"),X?.signal!=null&&r(X.signal,"options.signal"),(async function*(){let ue=0;for await(const be of this){var ge;if(X!=null&&(ge=X.signal)!==null&&ge!==void 0&&ge.aborted)throw new t({cause:X.signal.reason});yield[ue++,be]}}).call(this)}async function $(X,Z=void 0){for await(const ue of T.call(this,X,Z))return!0;return!1}async function k(X,Z=void 0){if(typeof X!="function")throw new o("fn",["Function","AsyncFunction"],X);return!await $.call(this,async(...ue)=>!await X(...ue),Z)}async function Q(X,Z){for await(const ue of T.call(this,X,Z))return ue}async function re(X,Z){if(typeof X!="function")throw new o("fn",["Function","AsyncFunction"],X);async function ue(ge,be){return await X(ge,be),q}for await(const ge of Y.call(this,ue,Z));}function T(X,Z){if(typeof X!="function")throw new o("fn",["Function","AsyncFunction"],X);async function ue(ge,be){return await X(ge,be)?ge:q}return Y.call(this,ue,Z)}class I extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function K(X,Z,ue){var ge;if(typeof X!="function")throw new o("reducer",["Function","AsyncFunction"],X);ue!=null&&s(ue,"options"),ue?.signal!=null&&r(ue.signal,"options.signal");let be=arguments.length>1;if(ue!=null&&(ge=ue.signal)!==null&&ge!==void 0&&ge.aborted){const Pe=new t(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),await m(this.destroy(Pe)),Pe}const ae=new e,oe=ae.signal;if(ue!=null&&ue.signal){const Pe={once:!0,[l]:this,[f]:!0};ue.signal.addEventListener("abort",()=>ae.abort(),Pe)}let ve=!1;try{for await(const Pe of this){var Ce;if(ve=!0,ue!=null&&(Ce=ue.signal)!==null&&Ce!==void 0&&Ce.aborted)throw new t;be?Z=await X(Z,Pe,{signal:oe}):(Z=Pe,be=!0)}if(!ve&&!be)throw new I}finally{ae.abort()}return Z}async function ee(X){X!=null&&s(X,"options"),X?.signal!=null&&r(X.signal,"options.signal");const Z=[];for await(const ge of this){var ue;if(X!=null&&(ue=X.signal)!==null&&ue!==void 0&&ue.aborted)throw new t(void 0,{cause:X.signal.reason});S(Z,ge)}return Z}function fe(X,Z){const ue=Y.call(this,X,Z);return(async function*(){for await(const be of ue)yield*be}).call(this)}function _e(X){if(X=A(X),x(X))return 0;if(X<0)throw new u("number",">= 0",X);return X}function V(X,Z=void 0){return Z!=null&&s(Z,"options"),Z?.signal!=null&&r(Z.signal,"options.signal"),X=_e(X),(async function*(){var ge;if(Z!=null&&(ge=Z.signal)!==null&&ge!==void 0&&ge.aborted)throw new t;for await(const ae of this){var be;if(Z!=null&&(be=Z.signal)!==null&&be!==void 0&&be.aborted)throw new t;X--<=0&&(yield ae)}}).call(this)}function U(X,Z=void 0){return Z!=null&&s(Z,"options"),Z?.signal!=null&&r(Z.signal,"options.signal"),X=_e(X),(async function*(){var ge;if(Z!=null&&(ge=Z.signal)!==null&&ge!==void 0&&ge.aborted)throw new t;for await(const ae of this){var be;if(Z!=null&&(be=Z.signal)!==null&&be!==void 0&&be.aborted)throw new t;if(X-- >0&&(yield ae),X<=0)return}}).call(this)}return lv.streamReturningOperators={asIndexedPairs:v(W,"readable.asIndexedPairs will be removed in a future version."),drop:V,filter:T,flatMap:fe,map:Y,take:U,compose:H},lv.promiseReturningOperators={every:k,forEach:re,reduce:K,toArray:ee,some:$,find:Q},lv}var i1,e3;function UK(){if(e3)return i1;e3=1;const{ArrayPrototypePop:e,Promise:n}=Gt(),{isIterable:o,isNodeStream:i,isWebStream:u}=oc(),{pipelineImpl:t}=YM(),{finished:r}=od();$K();function a(...s){return new n((l,f)=>{let m,b;const _=s[s.length-1];if(_&&typeof _=="object"&&!i(_)&&!o(_)&&!u(_)){const p=e(s);m=p.signal,b=p.end}t(s,(p,y)=>{p?f(p):l(y)},{signal:m,end:b})})}return i1={finished:r,pipeline:a},i1}var t3;function $K(){if(t3)return IC.exports;t3=1;const{Buffer:e}=id(),{ObjectDefineProperty:n,ObjectKeys:o,ReflectApply:i}=Gt(),{promisify:{custom:u}}=Wr(),{streamReturningOperators:t,promiseReturningOperators:r}=pme(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Ir(),s=LK(),{setDefaultHighWaterMark:l,getDefaultHighWaterMark:f}=Qb(),{pipeline:m}=YM(),{destroyer:b}=pp(),_=od(),p=UK(),y=oc(),v=IC.exports=KM().Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=Xb();for(const R of o(t)){let A=function(...x){if(new.target)throw a();return v.Readable.from(i(j,this,x))};const j=t[R];n(A,"name",{__proto__:null,value:j.name}),n(A,"length",{__proto__:null,value:j.length}),n(v.Readable.prototype,R,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}for(const R of o(r)){let A=function(...x){if(new.target)throw a();return i(j,this,x)};const j=r[R];n(A,"name",{__proto__:null,value:j.name}),n(A,"length",{__proto__:null,value:j.length}),n(v.Readable.prototype,R,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}v.Writable=kM(),v.Duplex=nc(),v.Transform=qK(),v.PassThrough=BK(),v.pipeline=m;const{addAbortSignal:S}=Zb();return v.addAbortSignal=S,v.finished=_,v.destroy=b,v.compose=s,v.setDefaultHighWaterMark=l,v.getDefaultHighWaterMark=f,n(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return p}}),n(m,u,{__proto__:null,enumerable:!0,get(){return p.pipeline}}),n(_,u,{__proto__:null,enumerable:!0,get(){return p.finished}}),v.Stream=v,v._isUint8Array=function(j){return j instanceof Uint8Array},v._uint8ArrayToBuffer=function(j){return e.from(j.buffer,j.byteOffset,j.byteLength)},IC.exports}var r3;function eb(){return r3||(r3=1,(function(e){const n=$K(),o=UK(),i=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=i,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get(){return o}}),e.exports.Stream=n.Stream,e.exports.default=e.exports})(DC)),DC.exports}var ca={},o1={},im={},om={},n3;function FK(){if(n3)return om;n3=1,Object.defineProperty(om,"__esModule",{value:!0}),om.base64Encode=o,om.base64Decode=i;function e(u){const t=atob(u);return Uint8Array.from(t,r=>r.codePointAt(0))}function n(u){const t=String.fromCodePoint(...u);return btoa(t)}function o(u){if(typeof Buffer<"u")return Buffer.from(u,"utf8").toString("base64");const t=new TextEncoder().encode(u);return n(t)}function i(u){if(typeof Buffer<"u")return Buffer.from(u,"base64").toString("utf8");const t=e(u);return new TextDecoder().decode(t)}return om}var a3;function gme(){if(a3)return im;a3=1,Object.defineProperty(im,"__esModule",{value:!0}),im.BasicAuth=void 0;const e=FK(),n=/^Basic /i;return im.BasicAuth={toAuthorizationHeader:o=>o==null?void 0:`Basic ${(0,e.base64Encode)(`${o.username}:${o.password}`)}`,fromAuthorizationHeader:o=>{const i=o.replace(n,""),u=(0,e.base64Decode)(i),[t,...r]=u.split(":"),a=r.length>0?r.join(":"):void 0;if(t==null||a==null)throw new Error("Invalid basic auth");return{username:t,password:a}}},im}var sm={},i3;function mme(){if(i3)return sm;i3=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.BearerToken=void 0;const e=/^Bearer /i;return sm.BearerToken={toAuthorizationHeader:n=>{if(n!=null)return`Bearer ${n}`},fromAuthorizationHeader:n=>n.replace(e,"").trim()},sm}var o3;function _me(){return o3||(o3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BearerToken=e.BasicAuth=void 0;var n=gme();Object.defineProperty(e,"BasicAuth",{enumerable:!0,get:function(){return n.BasicAuth}});var o=mme();Object.defineProperty(e,"BearerToken",{enumerable:!0,get:function(){return o.BearerToken}})})(o1)),o1}var s1={},tf={},s3;function VK(){if(s3)return tf;s3=1;var e=tf&&tf.__awaiter||function(n,o,i,u){function t(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function s(m){try{f(u.next(m))}catch(b){a(b)}}function l(m){try{f(u.throw(m))}catch(b){a(b)}}function f(m){m.done?r(m.value):t(m.value).then(s,l)}f((u=u.apply(n,o||[])).next())})};return Object.defineProperty(tf,"__esModule",{value:!0}),tf.EndpointSupplier=void 0,tf.EndpointSupplier={get:(n,o)=>e(void 0,void 0,void 0,function*(){return typeof n=="function"?n(o):n})},tf}var qc={},u1={},u3;function GK(){return u3||(u3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.ConsoleLogger=e.LogLevel=void 0,e.createLogger=u,e.LogLevel={Debug:"debug",Info:"info",Warn:"warn",Error:"error"};const n={[e.LogLevel.Debug]:1,[e.LogLevel.Info]:2,[e.LogLevel.Warn]:3,[e.LogLevel.Error]:4};class o{debug(a,...s){console.debug(a,...s)}info(a,...s){console.info(a,...s)}warn(a,...s){console.warn(a,...s)}error(a,...s){console.error(a,...s)}}e.ConsoleLogger=o;class i{constructor(a){this.level=n[a.level],this.logger=a.logger,this.silent=a.silent}shouldLog(a){return!this.silent&&this.level<=n[a]}isDebug(){return this.shouldLog(e.LogLevel.Debug)}debug(a,...s){this.isDebug()&&this.logger.debug(a,...s)}isInfo(){return this.shouldLog(e.LogLevel.Info)}info(a,...s){this.isInfo()&&this.logger.info(a,...s)}isWarn(){return this.shouldLog(e.LogLevel.Warn)}warn(a,...s){this.isWarn()&&this.logger.warn(a,...s)}isError(){return this.shouldLog(e.LogLevel.Error)}error(a,...s){this.isError()&&this.logger.error(a,...s)}}e.Logger=i;function u(r){var a,s,l;return r==null?t:r instanceof i?r:(r=r??{},(a=r.level)!==null&&a!==void 0||(r.level=e.LogLevel.Info),(s=r.logger)!==null&&s!==void 0||(r.logger=new o),(l=r.silent)!==null&&l!==void 0||(r.silent=!0),new i(r))}const t=new i({level:e.LogLevel.Info,logger:new o,silent:!0})})(u1)),u1}var fv={},hv={},l3;function e0(){if(l3)return hv;l3=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.toQueryString=i;const e={arrayFormat:"indices",encode:!0};function n(u,t){if(u===void 0||u===null)return"";const r=String(u);return t?encodeURIComponent(r):r}function o(u,t="",r){const a=[];for(const[s,l]of Object.entries(u)){const f=t?`${t}[${s}]`:s;if(l!==void 0)if(Array.isArray(l)){if(l.length===0)continue;for(let m=0;m<l.length;m++){const b=l[m];if(b!==void 0)if(typeof b=="object"&&!Array.isArray(b)&&b!==null){const _=r.arrayFormat==="indices"?`${f}[${m}]`:f;a.push(...o(b,_,r))}else{const _=r.arrayFormat==="indices"?`${f}[${m}]`:f,p=r.encode?encodeURIComponent(_):_;a.push(`${p}=${n(b,r.encode)}`)}}}else if(typeof l=="object"&&l!==null){if(Object.keys(l).length===0)continue;a.push(...o(l,f,r))}else{const m=r.encode?encodeURIComponent(f):f;a.push(`${m}=${n(l,r.encode)}`)}}return a}function i(u,t){return u==null||typeof u!="object"?"":o(u,"",Object.assign(Object.assign({},e),t)).join("&")}return hv}var c3;function yme(){if(c3)return fv;c3=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.createRequestUrl=n;const e=e0();function n(o,i){const u=(0,e.toQueryString)(i,{arrayFormat:"repeat"});return u?`${o}?${u}`:o}return fv}var Ih={},zh={},pv={},d3;function vme(){if(d3)return pv;d3=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.getBinaryResponse=e;function e(n){const o={get bodyUsed(){return n.bodyUsed},stream:()=>n.body,arrayBuffer:n.arrayBuffer.bind(n),blob:n.blob.bind(n)};return"bytes"in n&&typeof n.bytes=="function"&&(o.bytes=n.bytes.bind(n)),o}return pv}var gv={},f3;function bme(){if(f3)return gv;f3=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.isResponseWithBody=e;function e(n){return n.body!=null}return gv}var h3;function HK(){if(h3)return zh;h3=1;var e=zh&&zh.__awaiter||function(t,r,a,s){function l(f){return f instanceof a?f:new a(function(m){m(f)})}return new(a||(a=Promise))(function(f,m){function b(y){try{p(s.next(y))}catch(v){m(v)}}function _(y){try{p(s.throw(y))}catch(v){m(v)}}function p(y){y.done?f(y.value):l(y.value).then(b,_)}p((s=s.apply(t,r||[])).next())})};Object.defineProperty(zh,"__esModule",{value:!0}),zh.getResponseBody=u;const n=v_(),o=vme(),i=bme();function u(t,r){return e(this,void 0,void 0,function*(){if(!(0,i.isResponseWithBody)(t))return;switch(r){case"binary-response":return(0,o.getBinaryResponse)(t);case"blob":return yield t.blob();case"arrayBuffer":return yield t.arrayBuffer();case"sse":return t.body;case"streaming":return t.body;case"text":return yield t.text()}const a=yield t.text();if(a.length>0)try{return(0,n.fromJson)(a)}catch{return{ok:!1,error:{reason:"non-json",statusCode:t.status,rawBody:a}}}})}return zh}var p3;function wme(){if(p3)return Ih;p3=1;var e=Ih&&Ih.__awaiter||function(u,t,r,a){function s(l){return l instanceof r?l:new r(function(f){f(l)})}return new(r||(r=Promise))(function(l,f){function m(p){try{_(a.next(p))}catch(y){f(y)}}function b(p){try{_(a.throw(p))}catch(y){f(y)}}function _(p){p.done?l(p.value):s(p.value).then(m,b)}_((a=a.apply(u,t||[])).next())})};Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.getErrorResponseBody=i;const n=v_(),o=HK();function i(u){return e(this,void 0,void 0,function*(){var t,r,a;let s=(t=u.headers.get("Content-Type"))===null||t===void 0?void 0:t.toLowerCase();if(s==null||s.length===0)return(0,o.getResponseBody)(u);switch(s.indexOf(";")!==-1&&(s=(a=(r=s.split(";")[0])===null||r===void 0?void 0:r.trim())!==null&&a!==void 0?a:""),s){case"application/hal+json":case"application/json":case"application/ld+json":case"application/problem+json":case"application/vnd.api+json":case"text/json":{const l=yield u.text();return l.length>0?(0,n.fromJson)(l):void 0}default:if(s.startsWith("application/vnd.")&&s.endsWith("+json")){const l=yield u.text();return l.length>0?(0,n.fromJson)(l):void 0}return yield u.text()}})}return Ih}var qh={},g3;function Ome(){if(g3)return qh;g3=1;var e=qh&&qh.__awaiter||function(o,i,u,t){function r(a){return a instanceof u?a:new u(function(s){s(a)})}return new(u||(u=Promise))(function(a,s){function l(b){try{m(t.next(b))}catch(_){s(_)}}function f(b){try{m(t.throw(b))}catch(_){s(_)}}function m(b){b.done?a(b.value):r(b.value).then(l,f)}m((t=t.apply(o,i||[])).next())})};Object.defineProperty(qh,"__esModule",{value:!0}),qh.getFetchFn=n;function n(){return e(this,void 0,void 0,function*(){return fetch})}return qh}var Bh={},m3;function Sme(){if(m3)return Bh;m3=1;var e=Bh&&Bh.__awaiter||function(u,t,r,a){function s(l){return l instanceof r?l:new r(function(f){f(l)})}return new(r||(r=Promise))(function(l,f){function m(p){try{_(a.next(p))}catch(y){f(y)}}function b(p){try{_(a.throw(p))}catch(y){f(y)}}function _(p){p.done?l(p.value):s(p.value).then(m,b)}_((a=a.apply(u,t||[])).next())})};Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.getRequestBody=i;const n=v_(),o=e0();function i(u){return e(this,arguments,void 0,function*({body:t,type:r}){return r==="form"?(0,o.toQueryString)(t,{arrayFormat:"repeat",encode:!0}):r.includes("json")?(0,n.toJson)(t):t})}return Bh}var rf={},um={},_3;function Eme(){if(_3)return um;_3=1,Object.defineProperty(um,"__esModule",{value:!0}),um.getTimeoutSignal=n,um.anySignal=o;const e="timeout";function n(i){const u=new AbortController,t=setTimeout(()=>u.abort(e),i);return{signal:u.signal,abortId:t}}function o(...i){const u=i.length===1&&Array.isArray(i[0])?i[0]:i,t=new AbortController;for(const r of u){if(r.aborted){t.abort(r?.reason);break}r.addEventListener("abort",()=>t.abort(r?.reason),{signal:t.signal})}return t.signal}return um}var y3;function Rme(){if(y3)return rf;y3=1;var e=rf&&rf.__awaiter||function(i,u,t,r){function a(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function f(_){try{b(r.next(_))}catch(p){l(p)}}function m(_){try{b(r.throw(_))}catch(p){l(p)}}function b(_){_.done?s(_.value):a(_.value).then(f,m)}b((r=r.apply(i,u||[])).next())})};Object.defineProperty(rf,"__esModule",{value:!0}),rf.makeRequest=void 0;const n=Eme(),o=(i,u,t,r,a,s,l,f,m)=>e(void 0,void 0,void 0,function*(){const b=[];let _;if(s!=null){const{signal:v,abortId:S}=(0,n.getTimeoutSignal)(s);_=S,b.push(v)}l!=null&&b.push(l);const p=(0,n.anySignal)(b),y=yield i(u,{method:t,headers:r,body:a,signal:p,credentials:f?"include":void 0,duplex:m});return _!=null&&clearTimeout(_),y});return rf.makeRequest=o,rf}var Bc={},Lh={},v3;function jme(){return v3||(v3=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.Headers=void 0,typeof globalThis.Headers<"u"?Lh.Headers=globalThis.Headers:Lh.Headers=class KK{constructor(n){if(this.headers=new Map,n)if(n instanceof KK)n.forEach((o,i)=>this.append(i,o));else if(Array.isArray(n))for(const[o,i]of n)if(typeof o=="string"&&typeof i=="string")this.append(o,i);else throw new TypeError("Each header entry must be a [string, string] tuple");else for(const[o,i]of Object.entries(n))if(typeof i=="string")this.append(o,i);else throw new TypeError("Header values must be strings")}append(n,o){const i=n.toLowerCase(),u=this.headers.get(i)||[];this.headers.set(i,[...u,o])}delete(n){const o=n.toLowerCase();this.headers.delete(o)}get(n){const o=n.toLowerCase(),i=this.headers.get(o);return i?i.join(", "):null}has(n){const o=n.toLowerCase();return this.headers.has(o)}set(n,o){const i=n.toLowerCase();this.headers.set(i,[o])}forEach(n,o){const i=o?n.bind(o):n;this.headers.forEach((u,t)=>i(u.join(", "),t,this))}getSetCookie(){return this.headers.get("set-cookie")||[]}*entries(){for(const[n,o]of this.headers.entries())yield[n,o.join(", ")]}*keys(){yield*this.headers.keys()}*values(){for(const n of this.headers.values())yield n.join(", ")}[Symbol.iterator](){return this.entries()}}),Lh}var b3;function kK(){if(b3)return Bc;b3=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.unknownRawResponse=Bc.abortRawResponse=void 0,Bc.toRawResponse=n;const e=jme();Bc.abortRawResponse={headers:new e.Headers,redirected:!1,status:499,statusText:"Client Closed Request",type:"error",url:""},Bc.unknownRawResponse={headers:new e.Headers,redirected:!1,status:0,statusText:"Unknown Error",type:"error",url:""};function n(o){return{headers:o.headers,redirected:o.redirected,status:o.status,statusText:o.statusText,type:o.type,url:o.url}}return Bc}var Uh={},w3;function Cme(){if(w3)return Uh;w3=1;var e=Uh&&Uh.__awaiter||function(l,f,m,b){function _(p){return p instanceof m?p:new m(function(y){y(p)})}return new(m||(m=Promise))(function(p,y){function v(j){try{R(b.next(j))}catch(A){y(A)}}function S(j){try{R(b.throw(j))}catch(A){y(A)}}function R(j){j.done?p(j.value):_(j.value).then(v,S)}R((b=b.apply(l,f||[])).next())})};Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.requestWithRetries=s;const n=1e3,o=6e4,i=2,u=.2;function t(l){const f=1+Math.random()*u;return l*f}function r(l){const f=1+(Math.random()-.5)*u;return l*f}function a(l,f){const m=l.headers.get("Retry-After");if(m){const _=parseInt(m,10);if(!Number.isNaN(_)&&_>0)return Math.min(_*1e3,o);const p=new Date(m);if(!Number.isNaN(p.getTime())){const y=p.getTime()-Date.now();if(y>0)return Math.min(Math.max(y,0),o)}}const b=l.headers.get("X-RateLimit-Reset");if(b){const _=parseInt(b,10);if(!Number.isNaN(_)){const p=_*1e3-Date.now();if(p>0)return t(Math.min(p,o))}}return r(Math.min(n*Math.pow(2,f),o))}function s(l){return e(this,arguments,void 0,function*(f,m=i){let b=yield f();for(let _=0;_<m&&([408,429].includes(b.status)||b.status>=500);++_){const p=a(b,_);yield new Promise(y=>setTimeout(y,p)),b=yield f()}return b})}return Uh}var O3;function Tme(){if(O3)return qc;O3=1;var e=qc&&qc.__awaiter||function(j,A,x,M){function D(P){return P instanceof x?P:new x(function(F){F(P)})}return new(x||(x=Promise))(function(P,F){function B(H){try{w(M.next(H))}catch(Y){F(Y)}}function q(H){try{w(M.throw(H))}catch(Y){F(Y)}}function w(H){H.done?P(H.value):D(H.value).then(B,q)}w((M=M.apply(j,A||[])).next())})};Object.defineProperty(qc,"__esModule",{value:!0}),qc.fetcher=void 0,qc.fetcherImpl=R;const n=v_(),o=GK(),i=yme(),u=VK(),t=wme(),r=Ome(),a=Sme(),s=HK(),l=Rme(),f=kK(),m=Cme(),b=new Set(["authorization","www-authenticate","x-api-key","api-key","apikey","x-api-token","x-auth-token","auth-token","cookie","set-cookie","proxy-authorization","proxy-authenticate","x-csrf-token","x-xsrf-token","x-session-token","x-access-token"]);function _(j){const A={};for(const[x,M]of Object.entries(j))b.has(x.toLowerCase())?A[x]="[REDACTED]":A[x]=M;return A}const p=new Set(["api_key","api-key","apikey","token","access_token","access-token","auth_token","auth-token","password","passwd","secret","api_secret","api-secret","apisecret","key","session","session_id","session-id"]);function y(j){if(j==null)return j;const A={};for(const[x,M]of Object.entries(j))p.has(x.toLowerCase())?A[x]="[REDACTED]":A[x]=M;return A}function v(j){const A=j.indexOf("://");if(A===-1)return j;const x=A+3,M=j.indexOf("/",x);let D=j.indexOf("?",x),P=j.indexOf("#",x);const F=Math.min(M===-1?j.length:M,D===-1?j.length:D,P===-1?j.length:P);let B=-1;for(let k=x;k<F;k++)j[k]==="@"&&(B=k);if(B!==-1&&(j=`${j.slice(0,x)}[REDACTED]@${j.slice(B+1)}`),D=j.indexOf("?"),D===-1)return j;P=j.indexOf("#",D);const q=P!==-1?P:j.length,w=j.slice(D+1,q);if(w.length===0)return j;const H=w.toLowerCase();if(!(H.includes("token")||H.includes("key")||H.includes("password")||H.includes("passwd")||H.includes("secret")||H.includes("session")||H.includes("auth")))return j;const W=[],$=w.split("&");for(const k of $){const Q=k.indexOf("=");if(Q===-1){W.push(k);continue}const re=k.slice(0,Q);let T=p.has(re.toLowerCase());if(!T&&re.includes("%"))try{const I=decodeURIComponent(re);T=p.has(I.toLowerCase())}catch{}W.push(T?`${re}=[REDACTED]`:k)}return j.slice(0,D+1)+W.join("&")+j.slice(q)}function S(j){return e(this,void 0,void 0,function*(){var A;const x={};if(j.body!==void 0&&j.contentType!=null&&(x["Content-Type"]=j.contentType),j.headers==null)return x;for(const[M,D]of Object.entries(j.headers)){const P=yield u.EndpointSupplier.get(D,{endpointMetadata:(A=j.endpointMetadata)!==null&&A!==void 0?A:{}});if(typeof P=="string"){x[M]=P;continue}P!=null&&(x[M]=`${P}`)}return x})}function R(j){return e(this,void 0,void 0,function*(){var A,x,M;const D=(0,i.createRequestUrl)(j.url,j.queryParameters),P=yield(0,a.getRequestBody)({body:j.body,type:(A=j.requestType)!==null&&A!==void 0?A:"other"}),F=(x=j.fetchFn)!==null&&x!==void 0?x:yield(0,r.getFetchFn)(),B=yield S(j),q=(0,o.createLogger)(j.logging);if(q.isDebug()){const w={method:j.method,url:v(D),headers:_(B),queryParameters:y(j.queryParameters),hasBody:P!=null};q.debug("Making HTTP request",w)}try{const w=yield(0,m.requestWithRetries)(()=>e(this,void 0,void 0,function*(){return(0,l.makeRequest)(F,D,j.method,B,P,j.timeoutMs,j.abortSignal,j.withCredentials,j.duplex)}),j.maxRetries);if(w.status>=200&&w.status<400){if(q.isDebug()){const H={method:j.method,url:v(D),statusCode:w.status,responseHeaders:_(Object.fromEntries(w.headers.entries()))};q.debug("HTTP request succeeded",H)}return{ok:!0,body:yield(0,s.getResponseBody)(w,j.responseType),headers:w.headers,rawResponse:(0,f.toRawResponse)(w)}}else{if(q.isError()){const H={method:j.method,url:v(D),statusCode:w.status,responseHeaders:_(Object.fromEntries(w.headers.entries()))};q.error("HTTP request failed with error status",H)}return{ok:!1,error:{reason:"status-code",statusCode:w.status,body:yield(0,t.getErrorResponseBody)(w)},rawResponse:(0,f.toRawResponse)(w)}}}catch(w){if(!((M=j.abortSignal)===null||M===void 0)&&M.aborted){if(q.isError()){const H={method:j.method,url:v(D)};q.error("HTTP request was aborted",H)}return{ok:!1,error:{reason:"unknown",errorMessage:"The user aborted a request"},rawResponse:f.abortRawResponse}}else if(w instanceof Error&&w.name==="AbortError"){if(q.isError()){const H={method:j.method,url:v(D),timeoutMs:j.timeoutMs};q.error("HTTP request timed out",H)}return{ok:!1,error:{reason:"timeout"},rawResponse:f.abortRawResponse}}else if(w instanceof Error){if(q.isError()){const H={method:j.method,url:v(D),errorMessage:w.message};q.error("HTTP request failed with error",H)}return{ok:!1,error:{reason:"unknown",errorMessage:w.message},rawResponse:f.unknownRawResponse}}if(q.isError()){const H={method:j.method,url:v(D),error:(0,n.toJson)(w)};q.error("HTTP request failed with unknown error",H)}return{ok:!1,error:{reason:"unknown",errorMessage:(0,n.toJson)(w)},rawResponse:f.unknownRawResponse}}})}return qc.fetcher=R,qc}var mv={},S3;function Mme(){if(S3)return mv;S3=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.getHeader=e;function e(n,o){for(const[i,u]of Object.entries(n))if(i.toLowerCase()===o.toLowerCase())return u}return mv}var nf={},E3;function xme(){if(E3)return nf;E3=1;var e=nf&&nf.__awaiter||function(o,i,u,t){function r(a){return a instanceof u?a:new u(function(s){s(a)})}return new(u||(u=Promise))(function(a,s){function l(b){try{m(t.next(b))}catch(_){s(_)}}function f(b){try{m(t.throw(b))}catch(_){s(_)}}function m(b){b.done?a(b.value):r(b.value).then(l,f)}m((t=t.apply(o,i||[])).next())})};Object.defineProperty(nf,"__esModule",{value:!0}),nf.HttpResponsePromise=void 0;let n=class Kh extends Promise{constructor(i){super(u=>{u(void 0)}),this.innerPromise=i}static fromFunction(i,...u){return new Kh(i(...u))}static interceptFunction(i){return(...u)=>Kh.fromPromise(i(...u))}static fromPromise(i){return new Kh(i)}static fromExecutor(i){const u=new Promise(i);return new Kh(u)}static fromResult(i){const u=Promise.resolve(i);return new Kh(u)}unwrap(){return this.unwrappedPromise||(this.unwrappedPromise=this.innerPromise.then(({data:i})=>i)),this.unwrappedPromise}then(i,u){return this.unwrap().then(i,u)}catch(i){return this.unwrap().catch(i)}finally(i){return this.unwrap().finally(i)}withRawResponse(){return e(this,void 0,void 0,function*(){return yield this.innerPromise})}};return nf.HttpResponsePromise=n,nf}var af={},R3;function Pme(){if(R3)return af;R3=1;var e=af&&af.__awaiter||function(n,o,i,u){function t(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function s(m){try{f(u.next(m))}catch(b){a(b)}}function l(m){try{f(u.throw(m))}catch(b){a(b)}}function f(m){m.done?r(m.value):t(m.value).then(s,l)}f((u=u.apply(n,o||[])).next())})};return Object.defineProperty(af,"__esModule",{value:!0}),af.Supplier=void 0,af.Supplier={get:n=>e(void 0,void 0,void 0,function*(){return typeof n=="function"?n():n})},af}var j3;function Ame(){return j3||(j3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Supplier=e.unknownRawResponse=e.toRawResponse=e.abortRawResponse=e.HttpResponsePromise=e.getHeader=e.fetcher=e.EndpointSupplier=void 0;var n=VK();Object.defineProperty(e,"EndpointSupplier",{enumerable:!0,get:function(){return n.EndpointSupplier}});var o=Tme();Object.defineProperty(e,"fetcher",{enumerable:!0,get:function(){return o.fetcher}});var i=Mme();Object.defineProperty(e,"getHeader",{enumerable:!0,get:function(){return i.getHeader}});var u=xme();Object.defineProperty(e,"HttpResponsePromise",{enumerable:!0,get:function(){return u.HttpResponsePromise}});var t=kK();Object.defineProperty(e,"abortRawResponse",{enumerable:!0,get:function(){return t.abortRawResponse}}),Object.defineProperty(e,"toRawResponse",{enumerable:!0,get:function(){return t.toRawResponse}}),Object.defineProperty(e,"unknownRawResponse",{enumerable:!0,get:function(){return t.unknownRawResponse}});var r=Pme();Object.defineProperty(e,"Supplier",{enumerable:!0,get:function(){return r.Supplier}})})(s1)),s1}var of={},sn={};const C3=i_(Dge);var T3;function Nme(){if(T3)return sn;T3=1;var e=sn&&sn.__createBinding||(Object.create?(function(D,P,F,B){B===void 0&&(B=F);var q=Object.getOwnPropertyDescriptor(P,F);(!q||("get"in q?!P.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return P[F]}}),Object.defineProperty(D,B,q)}):(function(D,P,F,B){B===void 0&&(B=F),D[B]=P[F]})),n=sn&&sn.__setModuleDefault||(Object.create?(function(D,P){Object.defineProperty(D,"default",{enumerable:!0,value:P})}):function(D,P){D.default=P}),o=sn&&sn.__importStar||(function(){var D=function(P){return D=Object.getOwnPropertyNames||function(F){var B=[];for(var q in F)Object.prototype.hasOwnProperty.call(F,q)&&(B[B.length]=q);return B},D(P)};return function(P){if(P&&P.__esModule)return P;var F={};if(P!=null)for(var B=D(P),q=0;q<B.length;q++)B[q]!=="default"&&e(F,P,B[q]);return n(F,P),F}})(),i=sn&&sn.__awaiter||function(D,P,F,B){function q(w){return w instanceof F?w:new F(function(H){H(w)})}return new(F||(F=Promise))(function(w,H){function Y(k){try{$(B.next(k))}catch(Q){H(Q)}}function W(k){try{$(B.throw(k))}catch(Q){H(Q)}}function $(k){k.done?w(k.value):q(k.value).then(Y,W)}$((B=B.apply(D,P||[])).next())})};Object.defineProperty(sn,"__esModule",{value:!0}),sn.toBinaryUploadRequest=u,sn.toMultipartDataPart=t;function u(D){return i(this,void 0,void 0,function*(){const{data:P,filename:F,contentLength:B,contentType:q}=yield r(D),w={body:P,headers:{}};return F&&(w.headers["Content-Disposition"]=`attachment; filename="${F}"`),q&&(w.headers["Content-Type"]=q),B!=null&&(w.headers["Content-Length"]=B.toString()),w})}function t(D){return i(this,void 0,void 0,function*(){const{data:P,filename:F,contentType:B}=yield r(D,{noSniffFileSize:!0});return{data:P,filename:F,contentType:B}})}function r(D){return i(this,arguments,void 0,function*(P,{noSniffFileSize:F}={}){var B,q,w,H,Y;if(a(P))return r({data:P},{noSniffFileSize:F});if("path"in P){const W=yield Promise.resolve().then(()=>o(C3));if(!W||!W.createReadStream)throw new Error("File path uploads are not supported in this environment.");const $=W.createReadStream(P.path),k=(B=P.contentLength)!==null&&B!==void 0?B:F===!0?void 0:yield s(P.path),Q=(q=P.filename)!==null&&q!==void 0?q:b(P.path);return{data:$,filename:Q,contentType:P.contentType,contentLength:k}}if("data"in P){const W=P.data,$=(w=P.contentLength)!==null&&w!==void 0?w:yield f(W,{noSniffFileSize:F}),k=(H=P.filename)!==null&&H!==void 0?H:l(W);return{data:W,filename:k,contentType:(Y=P.contentType)!==null&&Y!==void 0?Y:m(W),contentLength:$}}throw new Error(`Invalid FileUpload of type ${typeof P}: ${JSON.stringify(P)}`)})}function a(D){return S(D)||R(D)||j(D)||A(D)||x(D)||M(D)||y(D)||v(D)}function s(D){return i(this,void 0,void 0,function*(){try{const P=yield Promise.resolve().then(()=>o(C3));return!P||!P.promises||!P.promises.stat?void 0:(yield P.promises.stat(D)).size}catch{return}})}function l(D){if(_(D))return D.name;if(p(D))return b(D.path.toString())}function f(D){return i(this,arguments,void 0,function*(P,{noSniffFileSize:F}={}){if(S(P))return P.length;if(R(P)||j(P))return P.byteLength;if(x(P)||M(P))return P.size;if(F!==!0&&p(P))return yield s(P.path.toString())})}function m(D){if(x(D)||M(D))return D.type}function b(D){const P=D.lastIndexOf("/"),F=D.lastIndexOf("\\"),B=Math.max(P,F);return B>=0?D.substring(B+1):D}function _(D){return typeof D=="object"&&D!=null&&"name"in D}function p(D){return typeof D=="object"&&D!=null&&"path"in D}function y(D){return typeof D=="object"&&D!=null&&("read"in D||"pipe"in D)}function v(D){return typeof D=="object"&&D!=null&&"getReader"in D}function S(D){return typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(D)}function R(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(D)}function j(D){return typeof ArrayBuffer<"u"&&D instanceof ArrayBuffer}function A(D){return typeof Uint8Array<"u"&&D instanceof Uint8Array}function x(D){return typeof Blob<"u"&&D instanceof Blob}function M(D){return typeof File<"u"&&D instanceof File}return sn}var l1={},M3;function Dme(){return M3||(M3=1,Object.defineProperty(l1,"__esModule",{value:!0})),l1}var x3;function Ime(){return x3||(x3=1,(function(e){var n=of&&of.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=of&&of.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Nme(),e),o(Dme(),e)})(of)),of}var sf={},_v={},P3;function zme(){if(P3)return _v;P3=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.encodeAsFormParameter=n;const e=e0();function n(o){const u=(0,e.toQueryString)(o,{encode:!1}).split("&").map(t=>{const[r,a]=t.split("=");return[r,a]});return Object.fromEntries(u)}return _v}var gr={},c1={},lm={},A3;function qme(){if(A3)return lm;A3=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.RUNTIME=void 0,lm.RUNTIME=e();function e(){var n,o,i,u,t;return typeof window<"u"&&typeof window.document<"u"?{type:"browser",version:window.navigator.userAgent}:typeof globalThis<"u"&&((n=globalThis?.navigator)===null||n===void 0?void 0:n.userAgent)==="Cloudflare-Workers"?{type:"workerd"}:typeof EdgeRuntime=="string"?{type:"edge-runtime"}:typeof self=="object"&&typeof self?.importScripts=="function"&&(((o=self.constructor)===null||o===void 0?void 0:o.name)==="DedicatedWorkerGlobalScope"||((i=self.constructor)===null||i===void 0?void 0:i.name)==="ServiceWorkerGlobalScope"||((u=self.constructor)===null||u===void 0?void 0:u.name)==="SharedWorkerGlobalScope")?{type:"web-worker"}:typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u"?{type:"deno",version:Deno.version.deno}:typeof Bun<"u"&&typeof Bun.version<"u"?{type:"bun",version:Bun.version}:typeof process<"u"&&"version"in process&&!!process.version&&"versions"in process&&!!(!((t=process.versions)===null||t===void 0)&&t.node)?{type:"node",version:process.versions.node,parsedVersion:Number(process.versions.node.split(".")[0])}:typeof navigator<"u"&&navigator?.product==="ReactNative"?{type:"react-native"}:{type:"unknown"}}return lm}var N3;function WM(){return N3||(N3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RUNTIME=void 0;var n=qme();Object.defineProperty(e,"RUNTIME",{enumerable:!0,get:function(){return n.RUNTIME}})})(c1)),c1}var d1,D3;function Bme(){if(D3)return d1;D3=1;var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,u=(b,_)=>{for(var p in _)e(b,p,{get:_[p],enumerable:!0})},t=(b,_,p,y)=>{if(_&&typeof _=="object"||typeof _=="function")for(let v of o(_))!i.call(b,v)&&v!==p&&e(b,v,{get:()=>_[v],enumerable:!(y=n(_,v))||y.enumerable});return b},r=b=>t(e({},"__esModule",{value:!0}),b),a={};u(a,{Blob:()=>f,File:()=>m,FormData:()=>l}),d1=r(a);var s=(function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:window})(),{FormData:l,Blob:f,File:m}=s;return d1}var f1,I3;function Lme(){if(I3)return f1;I3=1;var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,u=ue=>{throw TypeError(ue)},t=(ue,ge)=>{for(var be in ge)e(ue,be,{get:ge[be],enumerable:!0})},r=(ue,ge,be,ae)=>{if(ge&&typeof ge=="object"||typeof ge=="function")for(let oe of o(ge))!i.call(ue,oe)&&oe!==be&&e(ue,oe,{get:()=>ge[oe],enumerable:!(ae=n(ge,oe))||ae.enumerable});return ue},a=ue=>r(e({},"__esModule",{value:!0}),ue),s=(ue,ge,be)=>ge.has(ue)||u("Cannot "+be),l=(ue,ge,be)=>(s(ue,ge,"read from private field"),be?be.call(ue):ge.get(ue)),f=(ue,ge,be)=>ge.has(ue)?u("Cannot add the same private member more than once"):ge instanceof WeakSet?ge.add(ue):ge.set(ue,be),m=(ue,ge,be,ae)=>(s(ue,ge,"write to private field"),ge.set(ue,be),be),b=(ue,ge,be)=>(s(ue,ge,"access private method"),be),_={};t(_,{FormDataEncoder:()=>Z,isFile:()=>F,isFormData:()=>B}),f1=a(_);var p=65536;function*y(ue){if(ue.byteLength<=p){yield ue;return}let ge=0;for(;ge<ue.byteLength;){const be=Math.min(ue.byteLength-ge,p),ae=ue.buffer.slice(ge,ge+be);ge+=ae.byteLength,yield new Uint8Array(ae)}}var v="abcdefghijklmnopqrstuvwxyz0123456789";function S(){let ue=16,ge="";for(;ue--;)ge+=v[Math.random()*v.length<<0];return ge}var R=ue=>String(ue).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),j=ue=>typeof ue=="function",A=ue=>!!ue&&typeof ue=="object"&&!Array.isArray(ue)&&j(ue.getReader),x=ue=>j(ue[Symbol.asyncIterator]);async function*M(ue){const ge=ue.getReader();for(;;){const{done:be,value:ae}=await ge.read();if(be)break;yield ae}}async function*D(ue){for await(const ge of ue)yield*y(ge)}var P=ue=>{if(x(ue))return D(ue);if(A(ue))return D(M(ue));throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},F=ue=>!!(ue&&typeof ue=="object"&&j(ue.constructor)&&ue[Symbol.toStringTag]==="File"&&j(ue.stream)&&ue.name!=null),B=ue=>!!(ue&&j(ue.constructor)&&ue[Symbol.toStringTag]==="FormData"&&j(ue.append)&&j(ue.getAll)&&j(ue.entries)&&j(ue[Symbol.iterator])),q=ue=>Object.prototype.toString.call(ue).slice(8,-1).toLowerCase();function w(ue){if(q(ue)!=="object")return!1;const ge=Object.getPrototypeOf(ue);return ge==null?!0:ge.constructor?.toString?.()===Object.toString()}var H=ue=>String(ue).replace(/\r|\n/g,(ge,be,ae)=>ge==="\r"&&ae[be+1]!==`
`||ge===`
`&&ae[be-1]!=="\r"?`\r
`:ge);function Y(ue,ge){if(typeof ge=="string"){for(const[be,ae]of Object.entries(ue))if(ge.toLowerCase()===be.toLowerCase())return ae}}var W=ue=>new Proxy(ue,{get:(ge,be)=>Y(ge,be),has:(ge,be)=>Y(ge,be)!==void 0}),$={enableAdditionalHeaders:!1},k={writable:!1,configurable:!1},Q,re,T,I,K,ee,fe,_e,V,U,X,Z=class{constructor(ue,ge,be){if(f(this,V),f(this,Q,`\r
`),f(this,re),f(this,T),f(this,I,"-".repeat(2)),f(this,K,new TextEncoder),f(this,ee),f(this,fe),f(this,_e),!B(ue))throw new TypeError("Expected first argument to be a FormData instance.");let ae;if(w(ge)?be=ge:ae=ge,ae||(ae=`form-data-encoder-${S()}`),typeof ae!="string")throw new TypeError("Expected boundary argument to be a string.");if(be&&!w(be))throw new TypeError("Expected options argument to be an object.");m(this,fe,Array.from(ue.entries())),m(this,_e,{...$,...be}),m(this,re,l(this,K).encode(l(this,Q))),m(this,T,l(this,re).byteLength),this.boundary=ae,this.contentType=`multipart/form-data; boundary=${this.boundary}`,m(this,ee,l(this,K).encode(`${l(this,I)}${this.boundary}${l(this,I)}${l(this,Q).repeat(2)}`));const oe={"Content-Type":this.contentType},ve=b(this,V,X).call(this);ve&&(this.contentLength=ve,oe["Content-Length"]=ve),this.headers=W(Object.freeze(oe)),Object.defineProperties(this,{boundary:k,contentType:k,contentLength:k,headers:k})}*values(){for(const[ue,ge]of l(this,fe)){const be=F(ge)?ge:l(this,K).encode(H(ge));yield b(this,V,U).call(this,ue,be),yield be,yield l(this,re)}yield l(this,ee)}async*encode(){for(const ue of this.values())F(ue)?yield*P(ue.stream()):yield*y(ue)}[Symbol.iterator](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};return Q=new WeakMap,re=new WeakMap,T=new WeakMap,I=new WeakMap,K=new WeakMap,ee=new WeakMap,fe=new WeakMap,_e=new WeakMap,V=new WeakSet,U=function(ue,ge){let be="";if(be+=`${l(this,I)}${this.boundary}${l(this,Q)}`,be+=`Content-Disposition: form-data; name="${R(ue)}"`,F(ge)&&(be+=`; filename="${R(ge.name)}"${l(this,Q)}`,be+=`Content-Type: ${ge.type||"application/octet-stream"}`),l(this,_e).enableAdditionalHeaders===!0){const ae=F(ge)?ge.size:ge.byteLength;ae!=null&&!isNaN(ae)&&(be+=`${l(this,Q)}Content-Length: ${ae}`)}return l(this,K).encode(`${be}${l(this,Q).repeat(2)}`)},X=function(){let ue=0;for(const[ge,be]of l(this,fe)){const ae=F(be)?be:l(this,K).encode(H(be)),oe=F(ae)?ae.size:ae.byteLength;if(oe==null||isNaN(oe))return;ue+=b(this,V,U).call(this,ge,ae).byteLength,ue+=oe,ue+=l(this,T)}return String(ue+l(this,ee).byteLength)},f1}var h1,z3;function Ume(){return z3||(z3=1,h1=typeof self=="object"?self.FormData:window.FormData),h1}var q3;function $me(){if(q3)return gr;q3=1;var e=gr&&gr.__createBinding||(Object.create?(function(f,m,b,_){_===void 0&&(_=b);var p=Object.getOwnPropertyDescriptor(m,b);(!p||("get"in p?!m.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(f,_,p)}):(function(f,m,b,_){_===void 0&&(_=b),f[_]=m[b]})),n=gr&&gr.__setModuleDefault||(Object.create?(function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}):function(f,m){f.default=m}),o=gr&&gr.__importStar||(function(){var f=function(m){return f=Object.getOwnPropertyNames||function(b){var _=[];for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(_[_.length]=p);return _},f(m)};return function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var _=f(m),p=0;p<_.length;p++)_[p]!=="default"&&e(b,m,_[p]);return n(b,m),b}})(),i=gr&&gr.__awaiter||function(f,m,b,_){function p(y){return y instanceof b?y:new b(function(v){v(y)})}return new(b||(b=Promise))(function(y,v){function S(A){try{j(_.next(A))}catch(x){v(x)}}function R(A){try{j(_.throw(A))}catch(x){v(x)}}function j(A){A.done?y(A.value):p(A.value).then(S,R)}j((_=_.apply(f,m||[])).next())})};Object.defineProperty(gr,"__esModule",{value:!0}),gr.WebFormData=gr.Node16FormData=gr.Node18FormData=void 0,gr.newFormData=r;const u=WM();function t(f){return typeof f=="object"&&f!=null&&"name"in f}function r(){return i(this,void 0,void 0,function*(){let f;return u.RUNTIME.type==="node"&&u.RUNTIME.parsedVersion!=null&&u.RUNTIME.parsedVersion>=18?f=new a:u.RUNTIME.type==="node"?f=new s:f=new l,yield f.setup(),f})}class a{setup(){return i(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>o(Bme()))).FormData})}append(m,b){var _;(_=this.fd)===null||_===void 0||_.append(m,b)}appendFile(m,b,_){return i(this,void 0,void 0,function*(){var p,y;_==null&&t(b)&&(_=b.name),b instanceof(yield Promise.resolve().then(()=>o(eb()))).Readable?(p=this.fd)===null||p===void 0||p.append(m,{type:void 0,name:_,[Symbol.toStringTag]:"File",stream(){return b}}):(y=this.fd)===null||y===void 0||y.append(m,b,_)})}getRequest(){return i(this,void 0,void 0,function*(){const m=new(yield Promise.resolve().then(()=>o(Lme()))).FormDataEncoder(this.fd);return{body:yield(yield Promise.resolve().then(()=>o(eb()))).Readable.from(m),headers:m.headers,duplex:"half"}})}}gr.Node18FormData=a;class s{setup(){return i(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>o(Ume()))).default})}append(m,b){var _;(_=this.fd)===null||_===void 0||_.append(m,b)}appendFile(m,b,_){return i(this,void 0,void 0,function*(){var p,y;_==null&&t(b)&&(_=b.name);let v;b instanceof(yield Promise.resolve().then(()=>o(eb()))).Readable?v=b:v=Buffer.from(yield b.arrayBuffer()),_==null?(p=this.fd)===null||p===void 0||p.append(m,v):(y=this.fd)===null||y===void 0||y.append(m,v,{filename:_})})}getRequest(){return{body:this.fd,headers:this.fd?this.fd.getHeaders():{}}}}gr.Node16FormData=s;class l{setup(){return i(this,void 0,void 0,function*(){this.fd=new FormData})}append(m,b){var _;(_=this.fd)===null||_===void 0||_.append(m,b)}appendFile(m,b,_){return i(this,void 0,void 0,function*(){var p;_==null&&t(b)&&(_=b.name),(p=this.fd)===null||p===void 0||p.append(m,new Blob([b]),_)})}getRequest(){return{body:this.fd,headers:{}}}}return gr.WebFormData=l,gr}var B3;function Fme(){return B3||(B3=1,(function(e){var n=sf&&sf.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),o=sf&&sf.__exportStar||function(u,t){for(var r in u)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&n(t,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.encodeAsFormParameter=void 0;var i=zme();Object.defineProperty(e,"encodeAsFormParameter",{enumerable:!0,get:function(){return i.encodeAsFormParameter}}),o($me(),e)})(sf)),sf}var uf={},L3;function Vme(){return L3||(L3=1,(function(e){var n=uf&&uf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=uf&&uf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(GK(),e)})(uf)),uf}var lf={},cf={},p1={},yv={},cm={},U3;function _r(){return U3||(U3=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.SchemaType=void 0,cm.SchemaType={BIGINT:"bigint",DATE:"date",ENUM:"enum",LIST:"list",STRING_LITERAL:"stringLiteral",BOOLEAN_LITERAL:"booleanLiteral",OBJECT:"object",ANY:"any",BOOLEAN:"boolean",NUMBER:"number",STRING:"string",UNKNOWN:"unknown",NEVER:"never",RECORD:"record",SET:"set",UNION:"union",UNDISCRIMINATED_UNION:"undiscriminatedUnion",NULLABLE:"nullable",OPTIONAL:"optional",OPTIONAL_NULLABLE:"optionalNullable"}),cm}var vv={},$3;function Zr(){if($3)return vv;$3=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.getErrorMessageForIncorrectType=e;function e(o,i){return`Expected ${i}. Received ${n(o)}.`}function n(o){if(Array.isArray(o))return"list";if(o===null)return"null";if(o instanceof BigInt)return"BigInt";switch(typeof o){case"string":return`"${o}"`;case"bigint":case"number":case"boolean":case"undefined":return`${o}`}return typeof o}return vv}var bv={},F3;function sc(){if(F3)return bv;F3=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.maybeSkipValidation=e;function e(o){return Object.assign(Object.assign({},o),{json:n(o.json),parse:n(o.parse)})}function n(o){return(i,u)=>{const t=o(i,u),{skipValidation:r=!1}=u??{};return!t.ok&&r?(console.warn(["Failed to validate.",...t.errors.map(a=>"  - "+(a.path.length>0?`${a.path.join(".")}: ${a.message}`:a.message))].join(`
`)),{ok:!0,value:i}):t}}return bv}var g1={},Lc={},dm={},wv={},V3;function YK(){if(V3)return wv;V3=1,Object.defineProperty(wv,"__esModule",{value:!0}),wv.stringifyValidationError=e;function e(n){return n.path.length===0?n.message:`${n.path.join(" -> ")}: ${n.message}`}return wv}var G3;function JK(){if(G3)return dm;G3=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.JsonError=void 0;const e=YK();let n=class WK extends Error{constructor(i){super(i.map(e.stringifyValidationError).join("; ")),this.errors=i,Object.setPrototypeOf(this,WK.prototype)}};return dm.JsonError=n,dm}var fm={},H3;function QK(){if(H3)return fm;H3=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.ParseError=void 0;const e=YK();let n=class ZK extends Error{constructor(i){super(i.map(e.stringifyValidationError).join("; ")),this.errors=i,Object.setPrototypeOf(this,ZK.prototype)}};return fm.ParseError=n,fm}var K3;function Gme(){if(K3)return Lc;K3=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.getSchemaUtils=i,Lc.nullable=u,Lc.optional=t,Lc.optionalNullable=r,Lc.transform=a;const e=_r(),n=JK(),o=QK();function i(s){return{nullable:()=>u(s),optional:()=>t(s),optionalNullable:()=>r(s),transform:l=>a(s,l),parseOrThrow:(l,f)=>{const m=s.parse(l,f);if(m.ok)return m.value;throw new o.ParseError(m.errors)},jsonOrThrow:(l,f)=>{const m=s.json(l,f);if(m.ok)return m.value;throw new n.JsonError(m.errors)}}}function u(s){const l={parse:(f,m)=>f==null?{ok:!0,value:null}:s.parse(f,m),json:(f,m)=>f==null?{ok:!0,value:null}:s.json(f,m),getType:()=>e.SchemaType.NULLABLE};return Object.assign(Object.assign({},l),i(l))}function t(s){const l={parse:(f,m)=>f==null?{ok:!0,value:void 0}:s.parse(f,m),json:(f,m)=>m?.omitUndefined&&f===void 0?{ok:!0,value:void 0}:f==null?{ok:!0,value:null}:s.json(f,m),getType:()=>e.SchemaType.OPTIONAL};return Object.assign(Object.assign({},l),i(l))}function r(s){const l={parse:(f,m)=>f===void 0?{ok:!0,value:void 0}:f===null?{ok:!0,value:null}:s.parse(f,m),json:(f,m)=>f===void 0?{ok:!0,value:void 0}:f===null?{ok:!0,value:null}:s.json(f,m),getType:()=>e.SchemaType.OPTIONAL_NULLABLE};return Object.assign(Object.assign({},l),i(l))}function a(s,l){const f={parse:(m,b)=>{const _=s.parse(m,b);return _.ok?{ok:!0,value:l.transform(_.value)}:_},json:(m,b)=>{const _=l.untransform(m);return s.json(_,b)},getType:()=>s.getType()};return Object.assign(Object.assign({},f),i(f))}return Lc}var k3;function On(){return k3||(k3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=e.JsonError=e.transform=e.optional=e.getSchemaUtils=void 0;var n=Gme();Object.defineProperty(e,"getSchemaUtils",{enumerable:!0,get:function(){return n.getSchemaUtils}}),Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return n.optional}}),Object.defineProperty(e,"transform",{enumerable:!0,get:function(){return n.transform}});var o=JK();Object.defineProperty(e,"JsonError",{enumerable:!0,get:function(){return o.JsonError}});var i=QK();Object.defineProperty(e,"ParseError",{enumerable:!0,get:function(){return i.ParseError}})})(g1)),g1}var Y3;function Hme(){if(Y3)return yv;Y3=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.bigint=u;const e=_r(),n=Zr(),o=sc(),i=On();function u(){const t={parse:(r,{breadcrumbsPrefix:a=[]}={})=>typeof r=="bigint"?{ok:!0,value:r}:typeof r=="number"?{ok:!0,value:BigInt(r)}:{ok:!1,errors:[{path:a,message:(0,n.getErrorMessageForIncorrectType)(r,"bigint | number")}]},json:(r,{breadcrumbsPrefix:a=[]}={})=>typeof r!="bigint"?{ok:!1,errors:[{path:a,message:(0,n.getErrorMessageForIncorrectType)(r,"bigint")}]}:{ok:!0,value:r},getType:()=>e.SchemaType.BIGINT};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(t)),(0,i.getSchemaUtils)(t))}return yv}var W3;function Kme(){return W3||(W3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bigint=void 0;var n=Hme();Object.defineProperty(e,"bigint",{enumerable:!0,get:function(){return n.bigint}})})(p1)),p1}var m1={},Ov={},J3;function kme(){if(J3)return Ov;J3=1,Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.date=t;const e=_r(),n=Zr(),o=sc(),i=On(),u=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function t(){const r={parse:(a,{breadcrumbsPrefix:s=[]}={})=>typeof a!="string"?{ok:!1,errors:[{path:s,message:(0,n.getErrorMessageForIncorrectType)(a,"string")}]}:u.test(a)?{ok:!0,value:new Date(a)}:{ok:!1,errors:[{path:s,message:(0,n.getErrorMessageForIncorrectType)(a,"ISO 8601 date string")}]},json:(a,{breadcrumbsPrefix:s=[]}={})=>a instanceof Date?{ok:!0,value:a.toISOString()}:{ok:!1,errors:[{path:s,message:(0,n.getErrorMessageForIncorrectType)(a,"Date object")}]},getType:()=>e.SchemaType.DATE};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(r)),(0,i.getSchemaUtils)(r))}return Ov}var Z3;function Yme(){return Z3||(Z3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.date=void 0;var n=kme();Object.defineProperty(e,"date",{enumerable:!0,get:function(){return n.date}})})(m1)),m1}var _1={},Sv={},Ev={},Q3;function uc(){if(Q3)return Ev;Q3=1,Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.createIdentitySchemaCreator=o;const e=On(),n=sc();function o(i,u){return()=>{const t={parse:u,json:u,getType:()=>i};return Object.assign(Object.assign({},(0,n.maybeSkipValidation)(t)),(0,e.getSchemaUtils)(t))}}return Ev}var X3;function Wme(){if(X3)return Sv;X3=1,Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.enum_=i;const e=_r(),n=uc(),o=Zr();function i(u){const t=new Set(u);return(0,n.createIdentitySchemaCreator)(e.SchemaType.ENUM,(a,{allowUnrecognizedEnumValues:s,breadcrumbsPrefix:l=[]}={})=>typeof a!="string"?{ok:!1,errors:[{path:l,message:(0,o.getErrorMessageForIncorrectType)(a,"string")}]}:!t.has(a)&&!s?{ok:!1,errors:[{path:l,message:(0,o.getErrorMessageForIncorrectType)(a,"enum")}]}:{ok:!0,value:a})()}return Sv}var e$;function XK(){return e$||(e$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enum_=void 0;var n=Wme();Object.defineProperty(e,"enum_",{enumerable:!0,get:function(){return n.enum_}})})(_1)),_1}var y1={},$h={},t$;function ek(){if(t$)return $h;t$=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.lazy=n,$h.constructLazyBaseSchema=o,$h.getMemoizedSchema=i;const e=On();function n(u){const t=o(u);return Object.assign(Object.assign({},t),(0,e.getSchemaUtils)(t))}function o(u){return{parse:(t,r)=>i(u).parse(t,r),json:(t,r)=>i(u).json(t,r),getType:()=>i(u).getType()}}function i(u){const t=u;return t.__zurg_memoized==null&&(t.__zurg_memoized=u()),t.__zurg_memoized}return $h}var Rv={},v1={},hm={},jv={},r$;function tk(){if(r$)return jv;r$=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.entries=e;function e(n){return Object.entries(n)}return jv}var Cv={},n$;function rk(){if(n$)return Cv;n$=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.filterObject=e;function e(n,o){const i=new Set(o);return Object.entries(n).reduce((u,[t,r])=>(i.has(t)&&(u[t]=r),u),{})}return Cv}var Tv={},a$;function t0(){if(a$)return Tv;a$=1,Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.isPlainObject=e;function e(n){if(typeof n!="object"||n===null)return!1;if(Object.getPrototypeOf(n)===null)return!0;let o=n;for(;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(n)===o}return Tv}var Mv={},i$;function nk(){if(i$)return Mv;i$=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.keys=e;function e(n){return Object.keys(n)}return Mv}var xv={},o$;function Jme(){if(o$)return xv;o$=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.partition=e;function e(n,o){const i=[],u=[];for(const t of n)o(t)?i.push(t):u.push(t);return[i,u]}return xv}var b1={},pm={},s$;function Zme(){if(s$)return pm;s$=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.getObjectLikeUtils=u,pm.withParsedProperties=t;const e=rk(),n=Zr(),o=t0(),i=On();function u(r){return{withParsedProperties:a=>t(r,a)}}function t(r,a){const s={parse:(l,f)=>{const m=r.parse(l,f);if(!m.ok)return m;const b=Object.entries(a).reduce((_,[p,y])=>Object.assign(Object.assign({},_),{[p]:typeof y=="function"?y(m.value):y}),{});return{ok:!0,value:Object.assign(Object.assign({},m.value),b)}},json:(l,f)=>{var m;if(!(0,o.isPlainObject)(l))return{ok:!1,errors:[{path:(m=f?.breadcrumbsPrefix)!==null&&m!==void 0?m:[],message:(0,n.getErrorMessageForIncorrectType)(l,"object")}]};const b=new Set(Object.keys(a)),_=(0,e.filterObject)(l,Object.keys(l).filter(p=>!b.has(p)));return r.json(_,f)},getType:()=>r.getType()};return Object.assign(Object.assign(Object.assign({},s),(0,i.getSchemaUtils)(s)),u(s))}return pm}var u$;function r0(){return u$||(u$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withParsedProperties=e.getObjectLikeUtils=void 0;var n=Zme();Object.defineProperty(e,"getObjectLikeUtils",{enumerable:!0,get:function(){return n.getObjectLikeUtils}}),Object.defineProperty(e,"withParsedProperties",{enumerable:!0,get:function(){return n.withParsedProperties}})})(b1)),b1}var gm={},l$;function ak(){if(l$)return gm;l$=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.property=e,gm.isProperty=n;function e(o,i){return{rawKey:o,valueSchema:i,isProperty:!0}}function n(o){return o.isProperty}return gm}var c$;function ik(){if(c$)return hm;c$=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.object=m,hm.getObjectUtils=_;const e=_r(),n=tk(),o=rk(),i=Zr(),u=t0(),t=nk(),r=sc(),a=Jme(),s=r0(),l=On(),f=ak();function m(S){const R={_getRawProperties:()=>Object.entries(S).map(([j,A])=>(0,f.isProperty)(A)?A.rawKey:j),_getParsedProperties:()=>(0,t.keys)(S),parse:(j,A)=>{const x={},M=[];for(const[D,P]of(0,n.entries)(S)){const F=(0,f.isProperty)(P)?P.rawKey:D,B=(0,f.isProperty)(P)?P.valueSchema:P,q={rawKey:F,parsedKey:D,valueSchema:B};x[F]=q,y(B)&&M.push(F)}return b({value:j,requiredKeys:M,getProperty:D=>{const P=x[D];if(P!=null)return{transformedKey:P.parsedKey,transform:F=>{var B;return P.valueSchema.parse(F,Object.assign(Object.assign({},A),{breadcrumbsPrefix:[...(B=A?.breadcrumbsPrefix)!==null&&B!==void 0?B:[],D]}))}}},unrecognizedObjectKeys:A?.unrecognizedObjectKeys,skipValidation:A?.skipValidation,breadcrumbsPrefix:A?.breadcrumbsPrefix,omitUndefined:A?.omitUndefined})},json:(j,A)=>{const x=[];for(const[M,D]of(0,n.entries)(S)){const P=(0,f.isProperty)(D)?D.valueSchema:D;y(P)&&x.push(M)}return b({value:j,requiredKeys:x,getProperty:M=>{const D=S[M];if(D!=null)return(0,f.isProperty)(D)?{transformedKey:D.rawKey,transform:P=>{var F;return D.valueSchema.json(P,Object.assign(Object.assign({},A),{breadcrumbsPrefix:[...(F=A?.breadcrumbsPrefix)!==null&&F!==void 0?F:[],M]}))}}:{transformedKey:M,transform:P=>{var F;return D.json(P,Object.assign(Object.assign({},A),{breadcrumbsPrefix:[...(F=A?.breadcrumbsPrefix)!==null&&F!==void 0?F:[],M]}))}}},unrecognizedObjectKeys:A?.unrecognizedObjectKeys,skipValidation:A?.skipValidation,breadcrumbsPrefix:A?.breadcrumbsPrefix,omitUndefined:A?.omitUndefined})},getType:()=>e.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},(0,r.maybeSkipValidation)(R)),(0,l.getSchemaUtils)(R)),(0,s.getObjectLikeUtils)(R)),_(R))}function b({value:S,requiredKeys:R,getProperty:j,unrecognizedObjectKeys:A="fail",skipValidation:x=!1,breadcrumbsPrefix:M=[]}){if(!(0,u.isPlainObject)(S))return{ok:!1,errors:[{path:M,message:(0,i.getErrorMessageForIncorrectType)(S,"object")}]};const D=new Set(R),P=[],F={};for(const[B,q]of Object.entries(S)){const w=j(B);if(w!=null){D.delete(B);const H=w.transform(q);H.ok?F[w.transformedKey]=H.value:(F[B]=q,P.push(...H.errors))}else switch(A){case"fail":P.push({path:[...M,B],message:`Unexpected key "${B}"`});break;case"strip":break;case"passthrough":F[B]=q;break}}return P.push(...R.filter(B=>D.has(B)).map(B=>({path:M,message:`Missing required key "${B}"`}))),P.length===0||x?{ok:!0,value:F}:{ok:!1,errors:P}}function _(S){return{extend:R=>{const j={_getParsedProperties:()=>[...S._getParsedProperties(),...R._getParsedProperties()],_getRawProperties:()=>[...S._getRawProperties(),...R._getRawProperties()],parse:(A,x)=>p({extensionKeys:R._getRawProperties(),value:A,transformBase:M=>S.parse(M,x),transformExtension:M=>R.parse(M,x)}),json:(A,x)=>p({extensionKeys:R._getParsedProperties(),value:A,transformBase:M=>S.json(M,x),transformExtension:M=>R.json(M,x)}),getType:()=>e.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},j),(0,l.getSchemaUtils)(j)),(0,s.getObjectLikeUtils)(j)),_(j))},passthrough:()=>{const R={_getParsedProperties:()=>S._getParsedProperties(),_getRawProperties:()=>S._getRawProperties(),parse:(j,A)=>{const x=S.parse(j,Object.assign(Object.assign({},A),{unrecognizedObjectKeys:"passthrough"}));return x.ok?{ok:!0,value:Object.assign(Object.assign({},j),x.value)}:x},json:(j,A)=>{const x=S.json(j,Object.assign(Object.assign({},A),{unrecognizedObjectKeys:"passthrough"}));return x.ok?{ok:!0,value:Object.assign(Object.assign({},j),x.value)}:x},getType:()=>e.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},R),(0,l.getSchemaUtils)(R)),(0,s.getObjectLikeUtils)(R)),_(R))}}}function p({extensionKeys:S,value:R,transformBase:j,transformExtension:A}){const x=new Set(S),[M,D]=(0,a.partition)((0,t.keys)(R),B=>x.has(B)),P=j((0,o.filterObject)(R,D)),F=A((0,o.filterObject)(R,M));return P.ok&&F.ok?{ok:!0,value:Object.assign(Object.assign({},P.value),F.value)}:{ok:!1,errors:[...P.ok?[]:P.errors,...F.ok?[]:F.errors]}}function y(S){return!v(S)}function v(S){switch(S.getType()){case e.SchemaType.ANY:case e.SchemaType.UNKNOWN:case e.SchemaType.OPTIONAL:case e.SchemaType.OPTIONAL_NULLABLE:return!0;default:return!1}}return hm}var Pv={},d$;function Qme(){if(d$)return Pv;d$=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.objectWithoutOptionalProperties=n;const e=ik();function n(o){return(0,e.object)(o)}return Pv}var f$;function ok(){return f$||(f$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.property=e.isProperty=e.objectWithoutOptionalProperties=e.object=e.getObjectUtils=void 0;var n=ik();Object.defineProperty(e,"getObjectUtils",{enumerable:!0,get:function(){return n.getObjectUtils}}),Object.defineProperty(e,"object",{enumerable:!0,get:function(){return n.object}});var o=Qme();Object.defineProperty(e,"objectWithoutOptionalProperties",{enumerable:!0,get:function(){return o.objectWithoutOptionalProperties}});var i=ak();Object.defineProperty(e,"isProperty",{enumerable:!0,get:function(){return i.isProperty}}),Object.defineProperty(e,"property",{enumerable:!0,get:function(){return i.property}})})(v1)),v1}var h$;function Xme(){if(h$)return Rv;h$=1,Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.lazyObject=u;const e=ok(),n=r0(),o=On(),i=ek();function u(t){const r=Object.assign(Object.assign({},(0,i.constructLazyBaseSchema)(t)),{_getRawProperties:()=>(0,i.getMemoizedSchema)(t)._getRawProperties(),_getParsedProperties:()=>(0,i.getMemoizedSchema)(t)._getParsedProperties()});return Object.assign(Object.assign(Object.assign(Object.assign({},r),(0,o.getSchemaUtils)(r)),(0,n.getObjectLikeUtils)(r)),(0,e.getObjectUtils)(r))}return Rv}var p$;function e_e(){return p$||(p$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lazyObject=e.lazy=void 0;var n=ek();Object.defineProperty(e,"lazy",{enumerable:!0,get:function(){return n.lazy}});var o=Xme();Object.defineProperty(e,"lazyObject",{enumerable:!0,get:function(){return o.lazyObject}})})(y1)),y1}var w1={},Av={},g$;function t_e(){if(g$)return Av;g$=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.list=u;const e=_r(),n=Zr(),o=sc(),i=On();function u(r){const a={parse:(s,l)=>t(s,(f,m)=>{var b;return r.parse(f,Object.assign(Object.assign({},l),{breadcrumbsPrefix:[...(b=l?.breadcrumbsPrefix)!==null&&b!==void 0?b:[],`[${m}]`]}))}),json:(s,l)=>t(s,(f,m)=>{var b;return r.json(f,Object.assign(Object.assign({},l),{breadcrumbsPrefix:[...(b=l?.breadcrumbsPrefix)!==null&&b!==void 0?b:[],`[${m}]`]}))}),getType:()=>e.SchemaType.LIST};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(a)),(0,i.getSchemaUtils)(a))}function t(r,a){return Array.isArray(r)?r.map((l,f)=>a(l,f)).reduce((l,f)=>{if(l.ok&&f.ok)return{ok:!0,value:[...l.value,f.value]};const m=[];return l.ok||m.push(...l.errors),f.ok||m.push(...f.errors),{ok:!1,errors:m}},{ok:!0,value:[]}):{ok:!1,errors:[{message:(0,n.getErrorMessageForIncorrectType)(r,"list"),path:[]}]}}return Av}var m$;function sk(){return m$||(m$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.list=void 0;var n=t_e();Object.defineProperty(e,"list",{enumerable:!0,get:function(){return n.list}})})(w1)),w1}var O1={},Nv={},_$;function r_e(){if(_$)return Nv;_$=1,Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.booleanLiteral=i;const e=_r(),n=uc(),o=Zr();function i(u){return(0,n.createIdentitySchemaCreator)(e.SchemaType.BOOLEAN_LITERAL,(r,{breadcrumbsPrefix:a=[]}={})=>r===u?{ok:!0,value:u}:{ok:!1,errors:[{path:a,message:(0,o.getErrorMessageForIncorrectType)(r,`${u.toString()}`)}]})()}return Nv}var Dv={},y$;function n_e(){if(y$)return Dv;y$=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.stringLiteral=i;const e=_r(),n=uc(),o=Zr();function i(u){return(0,n.createIdentitySchemaCreator)(e.SchemaType.STRING_LITERAL,(r,{breadcrumbsPrefix:a=[]}={})=>r===u?{ok:!0,value:u}:{ok:!1,errors:[{path:a,message:(0,o.getErrorMessageForIncorrectType)(r,`"${u}"`)}]})()}return Dv}var v$;function a_e(){return v$||(v$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringLiteral=e.booleanLiteral=void 0;var n=r_e();Object.defineProperty(e,"booleanLiteral",{enumerable:!0,get:function(){return n.booleanLiteral}});var o=n_e();Object.defineProperty(e,"stringLiteral",{enumerable:!0,get:function(){return o.stringLiteral}})})(O1)),O1}var S1={},mm={},b$;function i_e(){if(b$)return mm;b$=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.any=void 0;const e=_r(),n=uc();return mm.any=(0,n.createIdentitySchemaCreator)(e.SchemaType.ANY,o=>({ok:!0,value:o})),mm}var _m={},w$;function o_e(){if(w$)return _m;w$=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.boolean=void 0;const e=_r(),n=uc(),o=Zr();return _m.boolean=(0,n.createIdentitySchemaCreator)(e.SchemaType.BOOLEAN,(i,{breadcrumbsPrefix:u=[]}={})=>typeof i=="boolean"?{ok:!0,value:i}:{ok:!1,errors:[{path:u,message:(0,o.getErrorMessageForIncorrectType)(i,"boolean")}]}),_m}var ym={},O$;function s_e(){if(O$)return ym;O$=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.never=void 0;const e=_r(),n=uc();return ym.never=(0,n.createIdentitySchemaCreator)(e.SchemaType.NEVER,(o,{breadcrumbsPrefix:i=[]}={})=>({ok:!1,errors:[{path:i,message:"Expected never"}]})),ym}var vm={},S$;function u_e(){if(S$)return vm;S$=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.number=void 0;const e=_r(),n=uc(),o=Zr();return vm.number=(0,n.createIdentitySchemaCreator)(e.SchemaType.NUMBER,(i,{breadcrumbsPrefix:u=[]}={})=>typeof i=="number"?{ok:!0,value:i}:{ok:!1,errors:[{path:u,message:(0,o.getErrorMessageForIncorrectType)(i,"number")}]}),vm}var bm={},E$;function l_e(){if(E$)return bm;E$=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.string=void 0;const e=_r(),n=uc(),o=Zr();return bm.string=(0,n.createIdentitySchemaCreator)(e.SchemaType.STRING,(i,{breadcrumbsPrefix:u=[]}={})=>typeof i=="string"?{ok:!0,value:i}:{ok:!1,errors:[{path:u,message:(0,o.getErrorMessageForIncorrectType)(i,"string")}]}),bm}var wm={},R$;function c_e(){if(R$)return wm;R$=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.unknown=void 0;const e=_r(),n=uc();return wm.unknown=(0,n.createIdentitySchemaCreator)(e.SchemaType.UNKNOWN,o=>({ok:!0,value:o})),wm}var j$;function d_e(){return j$||(j$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unknown=e.string=e.number=e.never=e.boolean=e.any=void 0;var n=i_e();Object.defineProperty(e,"any",{enumerable:!0,get:function(){return n.any}});var o=o_e();Object.defineProperty(e,"boolean",{enumerable:!0,get:function(){return o.boolean}});var i=s_e();Object.defineProperty(e,"never",{enumerable:!0,get:function(){return i.never}});var u=u_e();Object.defineProperty(e,"number",{enumerable:!0,get:function(){return u.number}});var t=l_e();Object.defineProperty(e,"string",{enumerable:!0,get:function(){return t.string}});var r=c_e();Object.defineProperty(e,"unknown",{enumerable:!0,get:function(){return r.unknown}})})(S1)),S1}var E1={},Iv={},C$;function f_e(){if(C$)return Iv;C$=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.record=r;const e=_r(),n=tk(),o=Zr(),i=t0(),u=sc(),t=On();function r(s,l){const f={parse:(m,b)=>a({value:m,isKeyNumeric:s.getType()===e.SchemaType.NUMBER,transformKey:_=>{var p;return s.parse(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(p=b?.breadcrumbsPrefix)!==null&&p!==void 0?p:[],`${_} (key)`]}))},transformValue:(_,p)=>{var y;return l.parse(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(y=b?.breadcrumbsPrefix)!==null&&y!==void 0?y:[],`${p}`]}))},breadcrumbsPrefix:b?.breadcrumbsPrefix}),json:(m,b)=>a({value:m,isKeyNumeric:s.getType()===e.SchemaType.NUMBER,transformKey:_=>{var p;return s.json(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(p=b?.breadcrumbsPrefix)!==null&&p!==void 0?p:[],`${_} (key)`]}))},transformValue:(_,p)=>{var y;return l.json(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(y=b?.breadcrumbsPrefix)!==null&&y!==void 0?y:[],`${p}`]}))},breadcrumbsPrefix:b?.breadcrumbsPrefix}),getType:()=>e.SchemaType.RECORD};return Object.assign(Object.assign({},(0,u.maybeSkipValidation)(f)),(0,t.getSchemaUtils)(f))}function a({value:s,isKeyNumeric:l,transformKey:f,transformValue:m,breadcrumbsPrefix:b=[]}){return(0,i.isPlainObject)(s)?(0,n.entries)(s).reduce((_,[p,y])=>{if(y===void 0)return _;const v=_;let S=p;if(l){const x=p.length>0?Number(p):NaN;Number.isNaN(x)||(S=x)}const R=f(S),j=m(y,S);if(v.ok&&R.ok&&j.ok)return{ok:!0,value:Object.assign(Object.assign({},v.value),{[R.value]:j.value})};const A=[];return v.ok||A.push(...v.errors),R.ok||A.push(...R.errors),j.ok||A.push(...j.errors),{ok:!1,errors:A}},{ok:!0,value:{}}):{ok:!1,errors:[{path:b,message:(0,o.getErrorMessageForIncorrectType)(s,"object")}]}}return Iv}var T$;function h_e(){return T$||(T$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.record=void 0;var n=f_e();Object.defineProperty(e,"record",{enumerable:!0,get:function(){return n.record}})})(E1)),E1}var R1={},zv={},M$;function p_e(){if(M$)return zv;M$=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.set=t;const e=_r(),n=Zr(),o=sc(),i=sk(),u=On();function t(r){const a=(0,i.list)(r),s={parse:(l,f)=>{const m=a.parse(l,f);return m.ok?{ok:!0,value:new Set(m.value)}:m},json:(l,f)=>{var m;return l instanceof Set?a.json([...l],f):{ok:!1,errors:[{path:(m=f?.breadcrumbsPrefix)!==null&&m!==void 0?m:[],message:(0,n.getErrorMessageForIncorrectType)(l,"Set")}]}},getType:()=>e.SchemaType.SET};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(s)),(0,u.getSchemaUtils)(s))}return zv}var x$;function g_e(){return x$||(x$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.set=void 0;var n=p_e();Object.defineProperty(e,"set",{enumerable:!0,get:function(){return n.set}})})(R1)),R1}var j1={},qv={},P$;function m_e(){if(P$)return qv;P$=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.undiscriminatedUnion=i;const e=_r(),n=sc(),o=On();function i(t){const r={parse:(a,s)=>u((l,f)=>l.parse(a,f),t,s),json:(a,s)=>u((l,f)=>l.json(a,f),t,s),getType:()=>e.SchemaType.UNDISCRIMINATED_UNION};return Object.assign(Object.assign({},(0,n.maybeSkipValidation)(r)),(0,o.getSchemaUtils)(r))}function u(t,r,a){const s=[];for(const[l,f]of r.entries()){const m=t(f,Object.assign(Object.assign({},a),{skipValidation:!1}));if(m.ok)return m;for(const b of m.errors)s.push({path:b.path,message:`[Variant ${l}] ${b.message}`})}return{ok:!1,errors:s}}return qv}var A$;function __e(){return A$||(A$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.undiscriminatedUnion=void 0;var n=m_e();Object.defineProperty(e,"undiscriminatedUnion",{enumerable:!0,get:function(){return n.undiscriminatedUnion}})})(j1)),j1}var C1={},Bv={},N$;function y_e(){if(N$)return Bv;N$=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.discriminant=e;function e(n,o){return{parsedDiscriminant:n,rawDiscriminant:o}}return Bv}var Fh={},D$;function v_e(){if(D$)return Fh;D$=1;var e=Fh&&Fh.__rest||function(m,b){var _={};for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&b.indexOf(p)<0&&(_[p]=m[p]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,p=Object.getOwnPropertySymbols(m);y<p.length;y++)b.indexOf(p[y])<0&&Object.prototype.propertyIsEnumerable.call(m,p[y])&&(_[p[y]]=m[p[y]]);return _};Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.union=l;const n=_r(),o=Zr(),i=t0(),u=nk(),t=sc(),r=XK(),a=r0(),s=On();function l(m,b){const _=typeof m=="string"?m:m.rawDiscriminant,p=typeof m=="string"?m:m.parsedDiscriminant,y=(0,r.enum_)((0,u.keys)(b)),v={parse:(S,R)=>f({value:S,discriminant:_,transformedDiscriminant:p,transformDiscriminantValue:j=>{var A;return y.parse(j,{allowUnrecognizedEnumValues:R?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(A=R?.breadcrumbsPrefix)!==null&&A!==void 0?A:[],_]})},getAdditionalPropertiesSchema:j=>b[j],allowUnrecognizedUnionMembers:R?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(j,A)=>A.parse(j,R),breadcrumbsPrefix:R?.breadcrumbsPrefix}),json:(S,R)=>f({value:S,discriminant:p,transformedDiscriminant:_,transformDiscriminantValue:j=>{var A;return y.json(j,{allowUnrecognizedEnumValues:R?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(A=R?.breadcrumbsPrefix)!==null&&A!==void 0?A:[],p]})},getAdditionalPropertiesSchema:j=>b[j],allowUnrecognizedUnionMembers:R?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(j,A)=>A.json(j,R),breadcrumbsPrefix:R?.breadcrumbsPrefix}),getType:()=>n.SchemaType.UNION};return Object.assign(Object.assign(Object.assign({},(0,t.maybeSkipValidation)(v)),(0,s.getSchemaUtils)(v)),(0,a.getObjectLikeUtils)(v))}function f({value:m,discriminant:b,transformedDiscriminant:_,transformDiscriminantValue:p,getAdditionalPropertiesSchema:y,allowUnrecognizedUnionMembers:v=!1,transformAdditionalProperties:S,breadcrumbsPrefix:R=[]}){if(!(0,i.isPlainObject)(m))return{ok:!1,errors:[{path:R,message:(0,o.getErrorMessageForIncorrectType)(m,"object")}]};const j=m,A=b,x=j[A],M=e(j,[typeof A=="symbol"?A:A+""]);if(x==null)return{ok:!1,errors:[{path:R,message:`Missing discriminant ("${b}")`}]};const D=p(x);if(!D.ok)return{ok:!1,errors:D.errors};const P=y(D.value);if(P==null)return v?{ok:!0,value:Object.assign({[_]:D.value},M)}:{ok:!1,errors:[{path:[...R,b],message:"Unexpected discriminant value"}]};const F=S(M,P);return F.ok?{ok:!0,value:Object.assign({[_]:x},F.value)}:F}return Fh}var I$;function b_e(){return I$||(I$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.union=e.discriminant=void 0;var n=y_e();Object.defineProperty(e,"discriminant",{enumerable:!0,get:function(){return n.discriminant}});var o=v_e();Object.defineProperty(e,"union",{enumerable:!0,get:function(){return o.union}})})(C1)),C1}var z$;function w_e(){return z$||(z$=1,(function(e){var n=cf&&cf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=cf&&cf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Kme(),e),o(Yme(),e),o(XK(),e),o(e_e(),e),o(sk(),e),o(a_e(),e),o(ok(),e),o(r0(),e),o(d_e(),e),o(h_e(),e),o(On(),e),o(g_e(),e),o(__e(),e),o(b_e(),e)})(cf)),cf}var q$;function O_e(){return q$||(q$=1,(function(e){var n=lf&&lf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=lf&&lf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(w_e(),e)})(lf)),lf}var T1={},Gr={},B$;function uk(){if(B$)return Gr;B$=1;var e=Gr&&Gr.__awaiter||function(s,l,f,m){function b(_){return _ instanceof f?_:new f(function(p){p(_)})}return new(f||(f=Promise))(function(_,p){function y(R){try{S(m.next(R))}catch(j){p(j)}}function v(R){try{S(m.throw(R))}catch(j){p(j)}}function S(R){R.done?_(R.value):b(R.value).then(y,v)}S((m=m.apply(s,l||[])).next())})},n=Gr&&Gr.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s[Symbol.asyncIterator],f;return l?l.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),f={},m("next"),m("throw"),m("return"),f[Symbol.asyncIterator]=function(){return this},f);function m(_){f[_]=s[_]&&function(p){return new Promise(function(y,v){p=s[_](p),b(y,v,p.done,p.value)})}}function b(_,p,y,v){Promise.resolve(v).then(function(S){_({value:S,done:y})},p)}},o=Gr&&Gr.__await||function(s){return this instanceof o?(this.v=s,this):new o(s)},i=Gr&&Gr.__asyncGenerator||function(s,l,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=f.apply(s,l||[]),b,_=[];return b=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",p),b[Symbol.asyncIterator]=function(){return this},b;function p(x){return function(M){return Promise.resolve(M).then(x,j)}}function y(x,M){m[x]&&(b[x]=function(D){return new Promise(function(P,F){_.push([x,D,P,F])>1||v(x,D)})},M&&(b[x]=M(b[x])))}function v(x,M){try{S(m[x](M))}catch(D){A(_[0][3],D)}}function S(x){x.value instanceof o?Promise.resolve(x.value.v).then(R,j):A(_[0][2],x)}function R(x){v("next",x)}function j(x){v("throw",x)}function A(x,M){x(M),_.shift(),_.length&&v(_[0][0],_[0][1])}};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Stream=void 0,Gr.readableStreamAsyncIterable=a;const u=WM(),t="data:";let r=class{constructor({stream:l,parse:f,eventShape:m,signal:b}){this.controller=new AbortController,this.stream=l,this.parse=f,m.type==="sse"?(this.prefix=t,this.messageTerminator=`
`,this.streamTerminator=m.streamTerminator):this.messageTerminator=m.messageTerminator,b?.addEventListener("abort",()=>this.controller.abort()),typeof TextDecoder<"u"&&(this.decoder=new TextDecoder("utf-8"))}iterMessages(){return i(this,arguments,function*(){var f,m,b,_;this.controller.signal;const p=a(this.stream);let y="",v=!1;try{for(var S=!0,R=n(p),j;j=yield o(R.next()),f=j.done,!f;S=!0){_=j.value,S=!1;const A=_;y+=this.decodeChunk(A);let x;for(;(x=y.indexOf(this.messageTerminator))>=0;){let M=y.slice(0,x);if(y=y.slice(x+this.messageTerminator.length),!M.trim())continue;if(!v&&this.prefix!=null){const P=M.indexOf(this.prefix);if(P===-1)continue;v=!0,M=M.slice(P+this.prefix.length)}if(this.streamTerminator!=null&&M.includes(this.streamTerminator))return yield o(void 0);const D=yield o(this.parse(JSON.parse(M)));yield yield o(D),v=!1}}}catch(A){m={error:A}}finally{try{!S&&!f&&(b=R.return)&&(yield o(b.call(R)))}finally{if(m)throw m.error}}})}[Symbol.asyncIterator](){return i(this,arguments,function*(){var f,m,b,_;try{for(var p=!0,y=n(this.iterMessages()),v;v=yield o(y.next()),f=v.done,!f;p=!0)_=v.value,p=!1,yield yield o(_)}catch(S){m={error:S}}finally{try{!p&&!f&&(b=y.return)&&(yield o(b.call(y)))}finally{if(m)throw m.error}}})}decodeChunk(l){let f="";return this.decoder!=null?f+=this.decoder.decode(l,{stream:!0}):u.RUNTIME.type==="node"&&typeof l<"u"&&(f+=Buffer.isBuffer(l)?l:Buffer.from(l)),f}};Gr.Stream=r;function a(s){if(s[Symbol.asyncIterator])return s;const l=s.getReader();return{next(){return e(this,void 0,void 0,function*(){try{const f=yield l.read();return f?.done&&l.releaseLock(),f}catch(f){throw l.releaseLock(),f}})},return(){return e(this,void 0,void 0,function*(){const f=l.cancel();return l.releaseLock(),yield f,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}return Gr}var L$;function S_e(){return L$||(L$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stream=void 0;var n=uk();Object.defineProperty(e,"Stream",{enumerable:!0,get:function(){return n.Stream}})})(T1)),T1}var M1={},Lv={},U$;function E_e(){if(U$)return Lv;U$=1,Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.encodePathParam=e;function e(n){if(n===null)return"null";switch(typeof n){case"undefined":return"undefined";case"string":case"number":case"boolean":break;default:n=String(n);break}return encodeURIComponent(n)}return Lv}var Uv={},$$;function R_e(){if($$)return Uv;$$=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.join=e;function e(u,...t){if(!u)return"";if(t.length===0)return u;if(u.includes("://")){let r;try{r=new URL(u)}catch{return n(u,...t)}const a=t[t.length-1],s=a?.endsWith("/");for(const l of t){const f=i(l);f&&(r.pathname=o(r.pathname,f))}return s&&!r.pathname.endsWith("/")&&(r.pathname+="/"),r.toString()}return n(u,...t)}function n(u,...t){if(t.length===0)return u;let r=u;const a=t[t.length-1],s=a?.endsWith("/");for(const l of t){const f=i(l);f&&(r=o(r,f))}return s&&!r.endsWith("/")&&(r+="/"),r}function o(u,t){return u.endsWith("/")?u+t:`${u}/${t}`}function i(u){if(!u)return u;let t=0,r=u.length;return u.startsWith("/")&&(t=1),u.endsWith("/")&&(r=u.length-1),t===0&&r===u.length?u:u.slice(t,r)}return Uv}var F$;function j_e(){return F$||(F$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toQueryString=e.join=e.encodePathParam=void 0;var n=E_e();Object.defineProperty(e,"encodePathParam",{enumerable:!0,get:function(){return n.encodePathParam}});var o=R_e();Object.defineProperty(e,"join",{enumerable:!0,get:function(){return o.join}});var i=e0();Object.defineProperty(e,"toQueryString",{enumerable:!0,get:function(){return i.toQueryString}})})(M1)),M1}var V$;function ie(){return V$||(V$=1,(function(e){var n=ca&&ca.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=ca&&ca.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=ca&&ca.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)},u=ca&&ca.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})();Object.defineProperty(e,"__esModule",{value:!0}),e.url=e.serialization=e.logging=e.file=void 0,i(_me(),e),i(FK(),e),i(Ame(),e),e.file=u(Ime()),i(Fme(),e),e.logging=u(Vme()),i(WM(),e),e.serialization=u(O_e()),i(S_e(),e),e.url=u(j_e())})(ca)),ca}var mr={},G$;function C_e(){if(G$)return mr;G$=1;var e=mr&&mr.__awaiter||function(p,y,v,S){function R(j){return j instanceof v?j:new v(function(A){A(j)})}return new(v||(v=Promise))(function(j,A){function x(P){try{D(S.next(P))}catch(F){A(F)}}function M(P){try{D(S.throw(P))}catch(F){A(F)}}function D(P){P.done?j(P.value):R(P.value).then(x,M)}D((S=S.apply(p,y||[])).next())})},n=mr&&mr.__asyncValues||function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=p[Symbol.asyncIterator],v;return y?y.call(p):(p=typeof __values=="function"?__values(p):p[Symbol.iterator](),v={},S("next"),S("throw"),S("return"),v[Symbol.asyncIterator]=function(){return this},v);function S(j){v[j]=p[j]&&function(A){return new Promise(function(x,M){A=p[j](A),R(x,M,A.done,A.value)})}}function R(j,A,x,M){Promise.resolve(M).then(function(D){j({value:D,done:x})},A)}},o=mr&&mr.__await||function(p){return this instanceof o?(this.v=p,this):new o(p)},i=mr&&mr.__asyncGenerator||function(p,y,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S=v.apply(p,y||[]),R,j=[];return R=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),x("next"),x("throw"),x("return",A),R[Symbol.asyncIterator]=function(){return this},R;function A(q){return function(w){return Promise.resolve(w).then(q,F)}}function x(q,w){S[q]&&(R[q]=function(H){return new Promise(function(Y,W){j.push([q,H,Y,W])>1||M(q,H)})},w&&(R[q]=w(R[q])))}function M(q,w){try{D(S[q](w))}catch(H){B(j[0][3],H)}}function D(q){q.value instanceof o?Promise.resolve(q.value.v).then(P,F):B(j[0][2],q)}function P(q){M("next",q)}function F(q){M("throw",q)}function B(q,w){q(w),j.shift(),j.length&&M(j[0][0],j[0][1])}};Object.defineProperty(mr,"__esModule",{value:!0}),mr.LineDecoder=mr.StreamUtils=void 0,mr._iterSSEMessages=r,mr._decodeChunks=m,mr.readableStreamAsyncIterable=_;const u=Wt();class t{constructor(y,v){this.iterator=y,this.controller=v}static fromSSEResponse(y,v){let S=!1;function R(){return i(this,arguments,function*(){var A,x,M,D;if(S)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");S=!0;let P=!1;try{try{for(var F=!0,B=n(r(y,v)),q;q=yield o(B.next()),A=q.done,!A;F=!0){D=q.value,F=!1;const w=D;if(!P){if(w.data.startsWith("[DONE]")){P=!0;continue}if(w.event===null){let H;try{H=JSON.parse(w.data)}catch(Y){throw console.error("Could not parse message into JSON:",w.data),console.error("From chunk:",w.raw),Y}if(H&&H.error)throw new u.CohereError({message:`Error: ${H.error}`});yield yield o(H)}else{let H;try{H=JSON.parse(w.data)}catch(Y){throw console.error("Could not parse message into JSON:",w.data),console.error("From chunk:",w.raw),Y}if(w.event=="error")throw new u.CohereError({message:`Error: ${H.message}, ${H.error}`});yield yield o({event:w.event,data:H})}}}}catch(w){x={error:w}}finally{try{!F&&!A&&(M=B.return)&&(yield o(M.call(B)))}finally{if(x)throw x.error}}P=!0}catch(w){if(w instanceof Error&&w.name==="AbortError")return yield o(void 0);throw w}finally{P||v?.abort()}})}return new t(R,v)}static fromReadableStream(y,v){let S=!1;function R(){return i(this,arguments,function*(){var x,M,D,P;const F=new f,B=_(y);try{for(var q=!0,w=n(B),H;H=yield o(w.next()),x=H.done,!x;q=!0){P=H.value,q=!1;const Y=P;for(const W of F.decode(Y))yield yield o(W)}}catch(Y){M={error:Y}}finally{try{!q&&!x&&(D=w.return)&&(yield o(D.call(w)))}finally{if(M)throw M.error}}for(const Y of F.flush())yield yield o(Y)})}function j(){return i(this,arguments,function*(){var x,M,D,P;if(S)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");S=!0;let F=!1;try{try{for(var B=!0,q=n(R()),w;w=yield o(q.next()),x=w.done,!x;B=!0){P=w.value,B=!1;const H=P;F||H&&(yield yield o(JSON.parse(H)))}}catch(H){M={error:H}}finally{try{!B&&!x&&(D=q.return)&&(yield o(D.call(q)))}finally{if(M)throw M.error}}F=!0}catch(H){if(H instanceof Error&&H.name==="AbortError")return yield o(void 0);throw H}finally{F||v?.abort()}})}return new t(j,v)}[Symbol.asyncIterator](){return this.iterator()}tee(){const y=[],v=[],S=this.iterator(),R=j=>({next:()=>{if(j.length===0){const A=S.next();y.push(A),v.push(A)}return j.shift()}});return[new t(()=>R(y),this.controller),new t(()=>R(v),this.controller)]}toReadableStream(){const y=this;let v;const S=new TextEncoder;return new ReadableStream({start(){return e(this,void 0,void 0,function*(){v=y[Symbol.asyncIterator]()})},pull(R){return e(this,void 0,void 0,function*(){try{const{value:j,done:A}=yield v.next();if(A)return R.close();const x=S.encode(JSON.stringify(j)+`
`);R.enqueue(x)}catch(j){R.error(j)}})},cancel(){return e(this,void 0,void 0,function*(){var R;yield(R=v.return)===null||R===void 0?void 0:R.call(v)})}})}}mr.StreamUtils=t;function r(p,y){return i(this,arguments,function*(){var S,R,j,A;if(!p.body)throw y?.abort(),new u.CohereError({message:"Attempted to iterate over a response with no body"});const x=new l,M=new f,D=_(p.body);try{for(var P=!0,F=n(a(D)),B;B=yield o(F.next()),S=B.done,!S;P=!0){A=B.value,P=!1;const q=A;for(const w of M.decode(q)){const H=x.decode(w);H&&(yield yield o(H))}}}catch(q){R={error:q}}finally{try{!P&&!S&&(j=F.return)&&(yield o(j.call(F)))}finally{if(R)throw R.error}}for(const q of M.flush()){const w=x.decode(q);w&&(yield yield o(w))}})}function a(p){return i(this,arguments,function*(){var v,S,R,j;let A=new Uint8Array;try{for(var x=!0,M=n(p),D;D=yield o(M.next()),v=D.done,!v;x=!0){j=D.value,x=!1;const P=j;if(P==null)continue;const F=P instanceof ArrayBuffer?new Uint8Array(P):typeof P=="string"?new TextEncoder().encode(P):P;let B=new Uint8Array(A.length+F.length);B.set(A),B.set(F,A.length),A=B;let q;for(;(q=s(A))!==-1;)yield yield o(A.slice(0,q)),A=A.slice(q)}}catch(P){S={error:P}}finally{try{!x&&!v&&(R=M.return)&&(yield o(R.call(M)))}finally{if(S)throw S.error}}A.length>0&&(yield yield o(A))})}function s(p){for(let S=0;S<p.length-2;S++){if(p[S]===10&&p[S+1]===10||p[S]===13&&p[S+1]===13)return S+2;if(p[S]===13&&p[S+1]===10&&S+3<p.length&&p[S+2]===13&&p[S+3]===10)return S+4}return-1}class l{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(y){if(y.endsWith("\r")&&(y=y.substring(0,y.length-1)),!y){if(!this.event&&!this.data.length)return null;const j={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],j}if(this.chunks.push(y),y.startsWith(":"))return null;let[v,S,R]=b(y,":");return R.startsWith(" ")&&(R=R.substring(1)),v==="event"?this.event=R:v==="data"&&this.data.push(R),null}}class f{constructor(){this.buffer=[],this.trailingCR=!1}decode(y){let v=this.decodeText(y);if(this.trailingCR&&(v="\r"+v,this.trailingCR=!1),v.endsWith("\r")&&(this.trailingCR=!0,v=v.slice(0,-1)),!v)return[];const S=f.NEWLINE_CHARS.has(v[v.length-1]||"");let R=v.split(f.NEWLINE_REGEXP);return S&&R.pop(),R.length===1&&!S?(this.buffer.push(R[0]),[]):(this.buffer.length>0&&(R=[this.buffer.join("")+R[0],...R.slice(1)],this.buffer=[]),S||(this.buffer=[R.pop()||""]),R)}decodeText(y){var v;if(y==null)return"";if(typeof y=="string")return y;if(typeof Buffer<"u"){if(y instanceof Buffer)return y.toString();if(y instanceof Uint8Array)return Buffer.from(y).toString();throw new u.CohereError({message:`Unexpected: received non-Uint8Array (${y.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`})}if(typeof TextDecoder<"u"){if(y instanceof Uint8Array||y instanceof ArrayBuffer)return(v=this.textDecoder)!==null&&v!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(y);throw new u.CohereError({message:`Unexpected: received non-Uint8Array/ArrayBuffer (${y.constructor.name}) in a web platform. Please report this error.`})}throw new u.CohereError({message:"Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error."})}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const y=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,y}}mr.LineDecoder=f,f.NEWLINE_CHARS=new Set([`
`,"\r"]),f.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function m(p){const y=new f,v=[];for(const S of p)v.push(...y.decode(S));return v}function b(p,y){const v=p.indexOf(y);return v!==-1?[p.substring(0,v),y,p.substring(v+y.length)]:[p,"",""]}function _(p){if(p[Symbol.asyncIterator])return p;const y=p.getReader();return{next(){return e(this,void 0,void 0,function*(){try{const v=yield y.read();return v?.done&&y.releaseLock(),v}catch(v){throw y.releaseLock(),v}})},return(){return e(this,void 0,void 0,function*(){const v=y.cancel();return y.releaseLock(),yield v,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}return mr}var df={},ff={},x1={},da={},fa={},H$;function JM(){if(H$)return fa;H$=1;var e=fa&&fa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=fa&&fa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=fa&&fa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fa,"__esModule",{value:!0}),fa.ChatConnector=void 0;const i=o(ie());return fa.ChatConnector=i.serialization.object({id:i.serialization.string(),userAccessToken:i.serialization.property("user_access_token",i.serialization.string().optional()),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional()),options:i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional()}),fa}var ha={},K$;function w_(){if(K$)return ha;K$=1;var e=ha&&ha.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ha&&ha.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ha&&ha.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ha,"__esModule",{value:!0}),ha.ChatDocument=void 0;const i=o(ie());return ha.ChatDocument=i.serialization.record(i.serialization.string(),i.serialization.string()),ha}var pa={},k$;function lk(){if(k$)return pa;k$=1;var e=pa&&pa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=pa&&pa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=pa&&pa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(pa,"__esModule",{value:!0}),pa.ChatRequestCitationQuality=void 0;const i=o(ie());return pa.ChatRequestCitationQuality=i.serialization.enum_(["ENABLED","DISABLED","FAST","ACCURATE","OFF"]),pa}var ga={},Y$;function ck(){if(Y$)return ga;Y$=1;var e=ga&&ga.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ga&&ga.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ga&&ga.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ga,"__esModule",{value:!0}),ga.ChatRequestPromptTruncation=void 0;const i=o(ie());return ga.ChatRequestPromptTruncation=i.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"]),ga}var ma={},W$;function dk(){if(W$)return ma;W$=1;var e=ma&&ma.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ma&&ma.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ma&&ma.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ma,"__esModule",{value:!0}),ma.ChatRequestSafetyMode=void 0;const i=o(ie());return ma.ChatRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","NONE"]),ma}var _a={},ya={},va={},J$;function O_(){if(J$)return va;J$=1;var e=va&&va.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=va&&va.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=va&&va.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(va,"__esModule",{value:!0}),va.ToolCall=void 0;const i=o(ie());return va.ToolCall=i.serialization.object({name:i.serialization.string(),parameters:i.serialization.record(i.serialization.string(),i.serialization.unknown())}),va}var Z$;function fk(){if(Z$)return ya;Z$=1;var e=ya&&ya.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ya&&ya.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ya&&ya.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ya,"__esModule",{value:!0}),ya.ChatMessage=void 0;const i=o(ie()),u=O_();return ya.ChatMessage=i.serialization.object({message:i.serialization.string(),toolCalls:i.serialization.property("tool_calls",i.serialization.list(u.ToolCall).optional())}),ya}var ba={},wa={},Q$;function n0(){if(Q$)return wa;Q$=1;var e=wa&&wa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=wa&&wa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=wa&&wa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(wa,"__esModule",{value:!0}),wa.ToolResult=void 0;const i=o(ie()),u=O_();return wa.ToolResult=i.serialization.object({call:u.ToolCall,outputs:i.serialization.list(i.serialization.record(i.serialization.string(),i.serialization.unknown()))}),wa}var X$;function hk(){if(X$)return ba;X$=1;var e=ba&&ba.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ba&&ba.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ba&&ba.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ba,"__esModule",{value:!0}),ba.ChatToolMessage=void 0;const i=o(ie()),u=n0();return ba.ChatToolMessage=i.serialization.object({toolResults:i.serialization.property("tool_results",i.serialization.list(u.ToolResult).optional())}),ba}var e5;function a0(){if(e5)return _a;e5=1;var e=_a&&_a.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=_a&&_a.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=_a&&_a.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(_a,"__esModule",{value:!0}),_a.Message=void 0;const i=o(ie()),u=fk(),t=hk();return _a.Message=i.serialization.union("role",{CHATBOT:u.ChatMessage,SYSTEM:u.ChatMessage,USER:u.ChatMessage,TOOL:t.ChatToolMessage}).transform({transform:r=>r,untransform:r=>r}),_a}var Oa={},Sa={},t5;function pk(){if(t5)return Sa;t5=1;var e=Sa&&Sa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Sa&&Sa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Sa&&Sa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.ChatTextResponseFormat=void 0;const i=o(ie());return Sa.ChatTextResponseFormat=i.serialization.object({}),Sa}var Ea={},r5;function gk(){if(r5)return Ea;r5=1;var e=Ea&&Ea.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ea&&Ea.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ea&&Ea.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.JsonResponseFormat=void 0;const i=o(ie());return Ea.JsonResponseFormat=i.serialization.object({schema:i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional()}),Ea}var n5;function ZM(){if(n5)return Oa;n5=1;var e=Oa&&Oa.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Oa&&Oa.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Oa&&Oa.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.ResponseFormat=void 0;const i=o(ie()),u=pk(),t=gk();return Oa.ResponseFormat=i.serialization.union("type",{text:u.ChatTextResponseFormat,json_object:t.JsonResponseFormat}).transform({transform:r=>r,untransform:r=>r}),Oa}var Ra={},ja={},a5;function mk(){if(a5)return ja;a5=1;var e=ja&&ja.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ja&&ja.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ja&&ja.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ja,"__esModule",{value:!0}),ja.ToolParameterDefinitionsValue=void 0;const i=o(ie());return ja.ToolParameterDefinitionsValue=i.serialization.object({description:i.serialization.string().optional(),type:i.serialization.string(),required:i.serialization.boolean().optional()}),ja}var i5;function QM(){if(i5)return Ra;i5=1;var e=Ra&&Ra.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ra&&Ra.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ra&&Ra.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.Tool=void 0;const i=o(ie()),u=mk();return Ra.Tool=i.serialization.object({name:i.serialization.string(),description:i.serialization.string(),parameterDefinitions:i.serialization.property("parameter_definitions",i.serialization.record(i.serialization.string(),u.ToolParameterDefinitionsValue).optional())}),Ra}var o5;function T_e(){if(o5)return da;o5=1;var e=da&&da.__createBinding||(Object.create?(function(_,p,y,v){v===void 0&&(v=y);var S=Object.getOwnPropertyDescriptor(p,y);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(_,v,S)}):(function(_,p,y,v){v===void 0&&(v=y),_[v]=p[y]})),n=da&&da.__setModuleDefault||(Object.create?(function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}):function(_,p){_.default=p}),o=da&&da.__importStar||(function(){var _=function(p){return _=Object.getOwnPropertyNames||function(y){var v=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[v.length]=S);return v},_(p)};return function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var v=_(p),S=0;S<v.length;S++)v[S]!=="default"&&e(y,p,v[S]);return n(y,p),y}})();Object.defineProperty(da,"__esModule",{value:!0}),da.ChatRequest=void 0;const i=o(ie()),u=JM(),t=w_(),r=lk(),a=ck(),s=dk(),l=a0(),f=ZM(),m=QM(),b=n0();return da.ChatRequest=i.serialization.object({message:i.serialization.string(),model:i.serialization.string().optional(),preamble:i.serialization.string().optional(),chatHistory:i.serialization.property("chat_history",i.serialization.list(l.Message).optional()),conversationId:i.serialization.property("conversation_id",i.serialization.string().optional()),promptTruncation:i.serialization.property("prompt_truncation",a.ChatRequestPromptTruncation.optional()),connectors:i.serialization.list(u.ChatConnector).optional(),searchQueriesOnly:i.serialization.property("search_queries_only",i.serialization.boolean().optional()),documents:i.serialization.list(t.ChatDocument).optional(),citationQuality:i.serialization.property("citation_quality",r.ChatRequestCitationQuality.optional()),temperature:i.serialization.number().optional(),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),maxInputTokens:i.serialization.property("max_input_tokens",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),seed:i.serialization.number().optional(),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional()),tools:i.serialization.list(m.Tool).optional(),toolResults:i.serialization.property("tool_results",i.serialization.list(b.ToolResult).optional()),forceSingleStep:i.serialization.property("force_single_step",i.serialization.boolean().optional()),responseFormat:i.serialization.property("response_format",f.ResponseFormat.optional()),safetyMode:i.serialization.property("safety_mode",s.ChatRequestSafetyMode.optional())}),da}var Ca={},Ta={},s5;function _k(){if(s5)return Ta;s5=1;var e=Ta&&Ta.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ta&&Ta.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ta&&Ta.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.ChatStreamRequestCitationQuality=void 0;const i=o(ie());return Ta.ChatStreamRequestCitationQuality=i.serialization.enum_(["ENABLED","DISABLED","FAST","ACCURATE","OFF"]),Ta}var Ma={},u5;function yk(){if(u5)return Ma;u5=1;var e=Ma&&Ma.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ma&&Ma.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ma&&Ma.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.ChatStreamRequestPromptTruncation=void 0;const i=o(ie());return Ma.ChatStreamRequestPromptTruncation=i.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"]),Ma}var xa={},l5;function vk(){if(l5)return xa;l5=1;var e=xa&&xa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=xa&&xa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=xa&&xa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(xa,"__esModule",{value:!0}),xa.ChatStreamRequestSafetyMode=void 0;const i=o(ie());return xa.ChatStreamRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","NONE"]),xa}var c5;function M_e(){if(c5)return Ca;c5=1;var e=Ca&&Ca.__createBinding||(Object.create?(function(_,p,y,v){v===void 0&&(v=y);var S=Object.getOwnPropertyDescriptor(p,y);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(_,v,S)}):(function(_,p,y,v){v===void 0&&(v=y),_[v]=p[y]})),n=Ca&&Ca.__setModuleDefault||(Object.create?(function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}):function(_,p){_.default=p}),o=Ca&&Ca.__importStar||(function(){var _=function(p){return _=Object.getOwnPropertyNames||function(y){var v=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[v.length]=S);return v},_(p)};return function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var v=_(p),S=0;S<v.length;S++)v[S]!=="default"&&e(y,p,v[S]);return n(y,p),y}})();Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.ChatStreamRequest=void 0;const i=o(ie()),u=JM(),t=w_(),r=_k(),a=yk(),s=vk(),l=a0(),f=ZM(),m=QM(),b=n0();return Ca.ChatStreamRequest=i.serialization.object({message:i.serialization.string(),model:i.serialization.string().optional(),preamble:i.serialization.string().optional(),chatHistory:i.serialization.property("chat_history",i.serialization.list(l.Message).optional()),conversationId:i.serialization.property("conversation_id",i.serialization.string().optional()),promptTruncation:i.serialization.property("prompt_truncation",a.ChatStreamRequestPromptTruncation.optional()),connectors:i.serialization.list(u.ChatConnector).optional(),searchQueriesOnly:i.serialization.property("search_queries_only",i.serialization.boolean().optional()),documents:i.serialization.list(t.ChatDocument).optional(),citationQuality:i.serialization.property("citation_quality",r.ChatStreamRequestCitationQuality.optional()),temperature:i.serialization.number().optional(),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),maxInputTokens:i.serialization.property("max_input_tokens",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),seed:i.serialization.number().optional(),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional()),tools:i.serialization.list(m.Tool).optional(),toolResults:i.serialization.property("tool_results",i.serialization.list(b.ToolResult).optional()),forceSingleStep:i.serialization.property("force_single_step",i.serialization.boolean().optional()),responseFormat:i.serialization.property("response_format",f.ResponseFormat.optional()),safetyMode:i.serialization.property("safety_mode",s.ChatStreamRequestSafetyMode.optional())}),Ca}var Pa={},Aa={},d5;function bk(){if(d5)return Aa;d5=1;var e=Aa&&Aa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Aa&&Aa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Aa&&Aa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.ClassifyExample=void 0;const i=o(ie());return Aa.ClassifyExample=i.serialization.object({text:i.serialization.string().optional(),label:i.serialization.string().optional()}),Aa}var Na={},f5;function wk(){if(f5)return Na;f5=1;var e=Na&&Na.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Na&&Na.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Na&&Na.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Na,"__esModule",{value:!0}),Na.ClassifyRequestTruncate=void 0;const i=o(ie());return Na.ClassifyRequestTruncate=i.serialization.enum_(["NONE","START","END"]),Na}var h5;function x_e(){if(h5)return Pa;h5=1;var e=Pa&&Pa.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Pa&&Pa.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Pa&&Pa.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.ClassifyRequest=void 0;const i=o(ie()),u=bk(),t=wk();return Pa.ClassifyRequest=i.serialization.object({inputs:i.serialization.list(i.serialization.string()),examples:i.serialization.list(u.ClassifyExample).optional(),model:i.serialization.string().optional(),preset:i.serialization.string().optional(),truncate:t.ClassifyRequestTruncate.optional()}),Pa}var Da={},p5;function P_e(){if(p5)return Da;p5=1;var e=Da&&Da.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Da&&Da.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Da&&Da.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Da,"__esModule",{value:!0}),Da.DetokenizeRequest=void 0;const i=o(ie());return Da.DetokenizeRequest=i.serialization.object({tokens:i.serialization.list(i.serialization.number()),model:i.serialization.string()}),Da}var Ia={},za={},g5;function i0(){if(g5)return za;g5=1;var e=za&&za.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=za&&za.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=za&&za.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(za,"__esModule",{value:!0}),za.EmbeddingType=void 0;const i=o(ie());return za.EmbeddingType=i.serialization.enum_(["float","int8","uint8","binary","ubinary","base64"]),za}var qa={},m5;function o0(){if(m5)return qa;m5=1;var e=qa&&qa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=qa&&qa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=qa&&qa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(qa,"__esModule",{value:!0}),qa.EmbedInputType=void 0;const i=o(ie());return qa.EmbedInputType=i.serialization.enum_(["search_document","search_query","classification","clustering","image"]),qa}var Ba={},_5;function Ok(){if(_5)return Ba;_5=1;var e=Ba&&Ba.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ba&&Ba.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ba&&Ba.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.EmbedRequestTruncate=void 0;const i=o(ie());return Ba.EmbedRequestTruncate=i.serialization.enum_(["NONE","START","END"]),Ba}var y5;function A_e(){if(y5)return Ia;y5=1;var e=Ia&&Ia.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Ia&&Ia.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ia&&Ia.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.EmbedRequest=void 0;const i=o(ie()),u=i0(),t=o0(),r=Ok();return Ia.EmbedRequest=i.serialization.object({texts:i.serialization.list(i.serialization.string()).optional(),images:i.serialization.list(i.serialization.string()).optional(),model:i.serialization.string().optional(),inputType:i.serialization.property("input_type",t.EmbedInputType.optional()),embeddingTypes:i.serialization.property("embedding_types",i.serialization.list(u.EmbeddingType).optional()),truncate:r.EmbedRequestTruncate.optional()}),Ia}var La={},Ua={},v5;function Sk(){if(v5)return Ua;v5=1;var e=Ua&&Ua.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ua&&Ua.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ua&&Ua.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.GenerateRequestReturnLikelihoods=void 0;const i=o(ie());return Ua.GenerateRequestReturnLikelihoods=i.serialization.enum_(["GENERATION","ALL","NONE"]),Ua}var $a={},b5;function Ek(){if(b5)return $a;b5=1;var e=$a&&$a.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=$a&&$a.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=$a&&$a.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($a,"__esModule",{value:!0}),$a.GenerateRequestTruncate=void 0;const i=o(ie());return $a.GenerateRequestTruncate=i.serialization.enum_(["NONE","START","END"]),$a}var w5;function N_e(){if(w5)return La;w5=1;var e=La&&La.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=La&&La.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=La&&La.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(La,"__esModule",{value:!0}),La.GenerateRequest=void 0;const i=o(ie()),u=Sk(),t=Ek();return La.GenerateRequest=i.serialization.object({prompt:i.serialization.string(),model:i.serialization.string().optional(),numGenerations:i.serialization.property("num_generations",i.serialization.number().optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),truncate:t.GenerateRequestTruncate.optional(),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),preset:i.serialization.string().optional(),endSequences:i.serialization.property("end_sequences",i.serialization.list(i.serialization.string()).optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),returnLikelihoods:i.serialization.property("return_likelihoods",u.GenerateRequestReturnLikelihoods.optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional())}),La}var Fa={},Va={},O5;function Rk(){if(O5)return Va;O5=1;var e=Va&&Va.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Va&&Va.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Va&&Va.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Va,"__esModule",{value:!0}),Va.GenerateStreamRequestReturnLikelihoods=void 0;const i=o(ie());return Va.GenerateStreamRequestReturnLikelihoods=i.serialization.enum_(["GENERATION","ALL","NONE"]),Va}var Ga={},S5;function jk(){if(S5)return Ga;S5=1;var e=Ga&&Ga.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ga&&Ga.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ga&&Ga.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.GenerateStreamRequestTruncate=void 0;const i=o(ie());return Ga.GenerateStreamRequestTruncate=i.serialization.enum_(["NONE","START","END"]),Ga}var E5;function D_e(){if(E5)return Fa;E5=1;var e=Fa&&Fa.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Fa&&Fa.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Fa&&Fa.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.GenerateStreamRequest=void 0;const i=o(ie()),u=Rk(),t=jk();return Fa.GenerateStreamRequest=i.serialization.object({prompt:i.serialization.string(),model:i.serialization.string().optional(),numGenerations:i.serialization.property("num_generations",i.serialization.number().optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),truncate:t.GenerateStreamRequestTruncate.optional(),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),preset:i.serialization.string().optional(),endSequences:i.serialization.property("end_sequences",i.serialization.list(i.serialization.string()).optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),returnLikelihoods:i.serialization.property("return_likelihoods",u.GenerateStreamRequestReturnLikelihoods.optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional())}),Fa}var Ha={},Ka={},ka={},R5;function Ck(){if(R5)return ka;R5=1;var e=ka&&ka.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ka&&ka.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ka&&ka.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ka,"__esModule",{value:!0}),ka.RerankDocument=void 0;const i=o(ie());return ka.RerankDocument=i.serialization.record(i.serialization.string(),i.serialization.string()),ka}var j5;function Tk(){if(j5)return Ka;j5=1;var e=Ka&&Ka.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ka&&Ka.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ka&&Ka.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.RerankRequestDocumentsItem=void 0;const i=o(ie()),u=Ck();return Ka.RerankRequestDocumentsItem=i.serialization.undiscriminatedUnion([i.serialization.string(),u.RerankDocument]),Ka}var C5;function I_e(){if(C5)return Ha;C5=1;var e=Ha&&Ha.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ha&&Ha.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ha&&Ha.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.RerankRequest=void 0;const i=o(ie()),u=Tk();return Ha.RerankRequest=i.serialization.object({model:i.serialization.string().optional(),query:i.serialization.string(),documents:i.serialization.list(u.RerankRequestDocumentsItem),topN:i.serialization.property("top_n",i.serialization.number().optional()),rankFields:i.serialization.property("rank_fields",i.serialization.list(i.serialization.string()).optional()),returnDocuments:i.serialization.property("return_documents",i.serialization.boolean().optional()),maxChunksPerDoc:i.serialization.property("max_chunks_per_doc",i.serialization.number().optional())}),Ha}var Ya={},Wa={},T5;function Mk(){if(T5)return Wa;T5=1;var e=Wa&&Wa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Wa&&Wa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Wa&&Wa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.SummarizeRequestExtractiveness=void 0;const i=o(ie());return Wa.SummarizeRequestExtractiveness=i.serialization.enum_(["low","medium","high"]),Wa}var Ja={},M5;function xk(){if(M5)return Ja;M5=1;var e=Ja&&Ja.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ja&&Ja.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ja&&Ja.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.SummarizeRequestFormat=void 0;const i=o(ie());return Ja.SummarizeRequestFormat=i.serialization.enum_(["paragraph","bullets"]),Ja}var Za={},x5;function Pk(){if(x5)return Za;x5=1;var e=Za&&Za.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Za&&Za.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Za&&Za.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Za,"__esModule",{value:!0}),Za.SummarizeRequestLength=void 0;const i=o(ie());return Za.SummarizeRequestLength=i.serialization.enum_(["short","medium","long"]),Za}var P5;function z_e(){if(P5)return Ya;P5=1;var e=Ya&&Ya.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Ya&&Ya.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ya&&Ya.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.SummarizeRequest=void 0;const i=o(ie()),u=Mk(),t=xk(),r=Pk();return Ya.SummarizeRequest=i.serialization.object({text:i.serialization.string(),length:r.SummarizeRequestLength.optional(),format:t.SummarizeRequestFormat.optional(),model:i.serialization.string().optional(),extractiveness:u.SummarizeRequestExtractiveness.optional(),temperature:i.serialization.number().optional(),additionalCommand:i.serialization.property("additional_command",i.serialization.string().optional())}),Ya}var Qa={},A5;function q_e(){if(A5)return Qa;A5=1;var e=Qa&&Qa.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Qa&&Qa.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Qa&&Qa.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.TokenizeRequest=void 0;const i=o(ie());return Qa.TokenizeRequest=i.serialization.object({text:i.serialization.string(),model:i.serialization.string()}),Qa}var N5;function B_e(){return N5||(N5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizeRequest=e.SummarizeRequest=e.RerankRequest=e.GenerateStreamRequest=e.GenerateRequest=e.EmbedRequest=e.DetokenizeRequest=e.ClassifyRequest=e.ChatStreamRequest=e.ChatRequest=void 0;var n=T_e();Object.defineProperty(e,"ChatRequest",{enumerable:!0,get:function(){return n.ChatRequest}});var o=M_e();Object.defineProperty(e,"ChatStreamRequest",{enumerable:!0,get:function(){return o.ChatStreamRequest}});var i=x_e();Object.defineProperty(e,"ClassifyRequest",{enumerable:!0,get:function(){return i.ClassifyRequest}});var u=P_e();Object.defineProperty(e,"DetokenizeRequest",{enumerable:!0,get:function(){return u.DetokenizeRequest}});var t=A_e();Object.defineProperty(e,"EmbedRequest",{enumerable:!0,get:function(){return t.EmbedRequest}});var r=N_e();Object.defineProperty(e,"GenerateRequest",{enumerable:!0,get:function(){return r.GenerateRequest}});var a=D_e();Object.defineProperty(e,"GenerateStreamRequest",{enumerable:!0,get:function(){return a.GenerateStreamRequest}});var s=I_e();Object.defineProperty(e,"RerankRequest",{enumerable:!0,get:function(){return s.RerankRequest}});var l=z_e();Object.defineProperty(e,"SummarizeRequest",{enumerable:!0,get:function(){return l.SummarizeRequest}});var f=q_e();Object.defineProperty(e,"TokenizeRequest",{enumerable:!0,get:function(){return f.TokenizeRequest}})})(x1)),x1}var D5;function L_e(){return D5||(D5=1,(function(e){var n=ff&&ff.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=ff&&ff.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(B_e(),e)})(ff)),ff}var Xa={},hf={},pf={},ei={},ti={},I5;function Ak(){if(I5)return ti;I5=1;var e=ti&&ti.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ti&&ti.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ti&&ti.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ti,"__esModule",{value:!0}),ti.BatchStatus=void 0;const i=o(ie());return ti.BatchStatus=i.serialization.enum_(["BATCH_STATUS_UNSPECIFIED","BATCH_STATUS_QUEUED","BATCH_STATUS_IN_PROGRESS","BATCH_STATUS_CANCELING","BATCH_STATUS_COMPLETED","BATCH_STATUS_FAILED","BATCH_STATUS_CANCELED"]),ti}var z5;function s0(){if(z5)return ei;z5=1;var e=ei&&ei.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ei&&ei.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ei&&ei.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ei,"__esModule",{value:!0}),ei.Batch=void 0;const i=o(ie()),u=Ak();return ei.Batch=i.serialization.object({id:i.serialization.string().optional(),name:i.serialization.string(),creatorId:i.serialization.property("creator_id",i.serialization.string().optional()),orgId:i.serialization.property("org_id",i.serialization.string().optional()),status:u.BatchStatus.optional(),createdAt:i.serialization.property("created_at",i.serialization.date().optional()),updatedAt:i.serialization.property("updated_at",i.serialization.date().optional()),inputDatasetId:i.serialization.property("input_dataset_id",i.serialization.string()),outputDatasetId:i.serialization.property("output_dataset_id",i.serialization.string().optional()),inputTokens:i.serialization.property("input_tokens",i.serialization.string().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.string().optional()),model:i.serialization.string(),numRecords:i.serialization.property("num_records",i.serialization.number().optional()),numSuccessfulRecords:i.serialization.property("num_successful_records",i.serialization.number().optional()),numFailedRecords:i.serialization.property("num_failed_records",i.serialization.number().optional()),statusReason:i.serialization.property("status_reason",i.serialization.string().optional())}),ei}var ri={},q5;function U_e(){if(q5)return ri;q5=1;var e=ri&&ri.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ri&&ri.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ri&&ri.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ri,"__esModule",{value:!0}),ri.CancelBatchResponse=void 0;const i=o(ie());return ri.CancelBatchResponse=i.serialization.record(i.serialization.string(),i.serialization.unknown()),ri}var ni={},B5;function $_e(){if(B5)return ni;B5=1;var e=ni&&ni.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ni&&ni.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ni&&ni.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ni,"__esModule",{value:!0}),ni.CreateBatchResponse=void 0;const i=o(ie()),u=s0();return ni.CreateBatchResponse=i.serialization.object({batch:u.Batch}),ni}var ai={},L5;function F_e(){if(L5)return ai;L5=1;var e=ai&&ai.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ai&&ai.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ai&&ai.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ai,"__esModule",{value:!0}),ai.GetBatchResponse=void 0;const i=o(ie()),u=s0();return ai.GetBatchResponse=i.serialization.object({batch:u.Batch}),ai}var ii={},U5;function V_e(){if(U5)return ii;U5=1;var e=ii&&ii.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ii&&ii.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ii&&ii.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ii,"__esModule",{value:!0}),ii.ListBatchesResponse=void 0;const i=o(ie()),u=s0();return ii.ListBatchesResponse=i.serialization.object({batches:i.serialization.list(u.Batch).optional(),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional())}),ii}var $5;function Nk(){return $5||($5=1,(function(e){var n=pf&&pf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=pf&&pf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(s0(),e),o(Ak(),e),o(U_e(),e),o($_e(),e),o(F_e(),e),o(V_e(),e)})(pf)),pf}var F5;function G_e(){return F5||(F5=1,(function(e){var n=hf&&hf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=hf&&hf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Nk(),e)})(hf)),hf}var gf={},mf={},P1={},oi={},si={},V5;function XM(){if(V5)return si;V5=1;var e=si&&si.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=si&&si.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=si&&si.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(si,"__esModule",{value:!0}),si.CreateConnectorOAuth=void 0;const i=o(ie());return si.CreateConnectorOAuth=i.serialization.object({clientId:i.serialization.property("client_id",i.serialization.string().optional()),clientSecret:i.serialization.property("client_secret",i.serialization.string().optional()),authorizeUrl:i.serialization.property("authorize_url",i.serialization.string().optional()),tokenUrl:i.serialization.property("token_url",i.serialization.string().optional()),scope:i.serialization.string().optional()}),si}var ui={},li={},G5;function Dk(){if(G5)return li;G5=1;var e=li&&li.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=li&&li.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=li&&li.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(li,"__esModule",{value:!0}),li.AuthTokenType=void 0;const i=o(ie());return li.AuthTokenType=i.serialization.enum_(["bearer","basic","noscheme"]),li}var H5;function ex(){if(H5)return ui;H5=1;var e=ui&&ui.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ui&&ui.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ui&&ui.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ui,"__esModule",{value:!0}),ui.CreateConnectorServiceAuth=void 0;const i=o(ie()),u=Dk();return ui.CreateConnectorServiceAuth=i.serialization.object({type:u.AuthTokenType,token:i.serialization.string()}),ui}var K5;function H_e(){if(K5)return oi;K5=1;var e=oi&&oi.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=oi&&oi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=oi&&oi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(oi,"__esModule",{value:!0}),oi.CreateConnectorRequest=void 0;const i=o(ie()),u=XM(),t=ex();return oi.CreateConnectorRequest=i.serialization.object({name:i.serialization.string(),description:i.serialization.string().optional(),url:i.serialization.string(),excludes:i.serialization.list(i.serialization.string()).optional(),oauth:u.CreateConnectorOAuth.optional(),active:i.serialization.boolean().optional(),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional()),serviceAuth:i.serialization.property("service_auth",t.CreateConnectorServiceAuth.optional())}),oi}var ci={},k5;function K_e(){if(k5)return ci;k5=1;var e=ci&&ci.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ci&&ci.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ci&&ci.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ci,"__esModule",{value:!0}),ci.UpdateConnectorRequest=void 0;const i=o(ie()),u=XM(),t=ex();return ci.UpdateConnectorRequest=i.serialization.object({name:i.serialization.string().optional(),url:i.serialization.string().optional(),excludes:i.serialization.list(i.serialization.string()).optional(),oauth:u.CreateConnectorOAuth.optional(),active:i.serialization.boolean().optional(),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional()),serviceAuth:i.serialization.property("service_auth",t.CreateConnectorServiceAuth.optional())}),ci}var Y5;function Ik(){return Y5||(Y5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateConnectorRequest=e.CreateConnectorRequest=void 0;var n=H_e();Object.defineProperty(e,"CreateConnectorRequest",{enumerable:!0,get:function(){return n.CreateConnectorRequest}});var o=K_e();Object.defineProperty(e,"UpdateConnectorRequest",{enumerable:!0,get:function(){return o.UpdateConnectorRequest}})})(P1)),P1}var W5;function k_e(){return W5||(W5=1,(function(e){var n=mf&&mf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=mf&&mf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Ik(),e)})(mf)),mf}var J5;function Y_e(){return J5||(J5=1,(function(e){var n=gf&&gf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=gf&&gf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(k_e(),e)})(gf)),gf}var _f={},di={},fi={},Z5;function W_e(){if(Z5)return fi;Z5=1;var e=fi&&fi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=fi&&fi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=fi&&fi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fi,"__esModule",{value:!0}),fi.Response=void 0;const i=o(ie());return fi.Response=i.serialization.record(i.serialization.string(),i.serialization.unknown()),fi}var Q5;function J_e(){if(Q5)return di;Q5=1;var e=di&&di.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),n=di&&di.__setModuleDefault||(Object.create?(function(i,u){Object.defineProperty(i,"default",{enumerable:!0,value:u})}):function(i,u){i.default=u}),o=di&&di.__importStar||(function(){var i=function(u){return i=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},i(u)};return function(u){if(u&&u.__esModule)return u;var t={};if(u!=null)for(var r=i(u),a=0;a<r.length;a++)r[a]!=="default"&&e(t,u,r[a]);return n(t,u),t}})();return Object.defineProperty(di,"__esModule",{value:!0}),di.delete=void 0,di.delete=o(W_e()),di}var yf={},hi={},X5;function Z_e(){if(X5)return hi;X5=1;var e=hi&&hi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=hi&&hi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=hi&&hi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(hi,"__esModule",{value:!0}),hi.DatasetsCreateResponse=void 0;const i=o(ie());return hi.DatasetsCreateResponse=i.serialization.object({id:i.serialization.string().optional()}),hi}var pi={},gi={},mi={},e6;function zk(){if(e6)return mi;e6=1;var e=mi&&mi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=mi&&mi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=mi&&mi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(mi,"__esModule",{value:!0}),mi.DatasetPart=void 0;const i=o(ie());return mi.DatasetPart=i.serialization.object({id:i.serialization.string(),name:i.serialization.string(),url:i.serialization.string().optional(),index:i.serialization.number().optional(),sizeBytes:i.serialization.property("size_bytes",i.serialization.number().optional()),numRows:i.serialization.property("num_rows",i.serialization.number().optional()),originalUrl:i.serialization.property("original_url",i.serialization.string().optional()),samples:i.serialization.list(i.serialization.string()).optional()}),mi}var _i={},t6;function qk(){if(t6)return _i;t6=1;var e=_i&&_i.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=_i&&_i.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=_i&&_i.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(_i,"__esModule",{value:!0}),_i.DatasetType=void 0;const i=o(ie());return _i.DatasetType=i.serialization.enum_(["embed-input","embed-result","cluster-result","cluster-outliers","reranker-finetune-input","single-label-classification-finetune-input","chat-finetune-input","multi-label-classification-finetune-input","batch-chat-input","batch-openai-chat-input","batch-embed-v2-input","batch-chat-v2-input"]),_i}var yi={},r6;function Bk(){if(r6)return yi;r6=1;var e=yi&&yi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=yi&&yi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=yi&&yi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(yi,"__esModule",{value:!0}),yi.DatasetValidationStatus=void 0;const i=o(ie());return yi.DatasetValidationStatus=i.serialization.enum_(["unknown","queued","processing","failed","validated","skipped"]),yi}var n6;function tx(){if(n6)return gi;n6=1;var e=gi&&gi.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=gi&&gi.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=gi&&gi.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(gi,"__esModule",{value:!0}),gi.Dataset=void 0;const i=o(ie()),u=zk(),t=qk(),r=Bk();return gi.Dataset=i.serialization.object({id:i.serialization.string(),name:i.serialization.string(),createdAt:i.serialization.property("created_at",i.serialization.date()),updatedAt:i.serialization.property("updated_at",i.serialization.date()),datasetType:i.serialization.property("dataset_type",t.DatasetType),validationStatus:i.serialization.property("validation_status",r.DatasetValidationStatus),validationError:i.serialization.property("validation_error",i.serialization.string().optional()),schema:i.serialization.string().optional(),requiredFields:i.serialization.property("required_fields",i.serialization.list(i.serialization.string()).optional()),preserveFields:i.serialization.property("preserve_fields",i.serialization.list(i.serialization.string()).optional()),datasetParts:i.serialization.property("dataset_parts",i.serialization.list(u.DatasetPart).optional()),validationWarnings:i.serialization.property("validation_warnings",i.serialization.list(i.serialization.string()).optional())}),gi}var a6;function Q_e(){if(a6)return pi;a6=1;var e=pi&&pi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=pi&&pi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=pi&&pi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(pi,"__esModule",{value:!0}),pi.DatasetsGetResponse=void 0;const i=o(ie()),u=tx();return pi.DatasetsGetResponse=i.serialization.object({dataset:u.Dataset}),pi}var vi={},i6;function X_e(){if(i6)return vi;i6=1;var e=vi&&vi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=vi&&vi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=vi&&vi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(vi,"__esModule",{value:!0}),vi.DatasetsGetUsageResponse=void 0;const i=o(ie());return vi.DatasetsGetUsageResponse=i.serialization.object({organizationUsage:i.serialization.property("organization_usage",i.serialization.number().optional())}),vi}var bi={},o6;function eye(){if(o6)return bi;o6=1;var e=bi&&bi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=bi&&bi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=bi&&bi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(bi,"__esModule",{value:!0}),bi.DatasetsListResponse=void 0;const i=o(ie()),u=tx();return bi.DatasetsListResponse=i.serialization.object({datasets:i.serialization.list(u.Dataset).optional()}),bi}var s6;function Lk(){return s6||(s6=1,(function(e){var n=yf&&yf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=yf&&yf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Z_e(),e),o(Q_e(),e),o(X_e(),e),o(eye(),e)})(yf)),yf}var u6;function tye(){return u6||(u6=1,(function(e){var n=_f&&_f.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=_f&&_f.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(J_e(),e),o(Lk(),e)})(_f)),_f}var vf={},bf={},A1={},wi={},Oi={},l6;function Uk(){if(l6)return Oi;l6=1;var e=Oi&&Oi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Oi&&Oi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Oi&&Oi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.CreateEmbedJobRequestTruncate=void 0;const i=o(ie());return Oi.CreateEmbedJobRequestTruncate=i.serialization.enum_(["START","END"]),Oi}var c6;function rye(){if(c6)return wi;c6=1;var e=wi&&wi.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=wi&&wi.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=wi&&wi.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(wi,"__esModule",{value:!0}),wi.CreateEmbedJobRequest=void 0;const i=o(ie()),u=i0(),t=o0(),r=Uk();return wi.CreateEmbedJobRequest=i.serialization.object({model:i.serialization.string(),datasetId:i.serialization.property("dataset_id",i.serialization.string()),inputType:i.serialization.property("input_type",t.EmbedInputType),name:i.serialization.string().optional(),embeddingTypes:i.serialization.property("embedding_types",i.serialization.list(u.EmbeddingType).optional()),truncate:r.CreateEmbedJobRequestTruncate.optional()}),wi}var d6;function $k(){return d6||(d6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CreateEmbedJobRequest=void 0;var n=rye();Object.defineProperty(e,"CreateEmbedJobRequest",{enumerable:!0,get:function(){return n.CreateEmbedJobRequest}})})(A1)),A1}var f6;function nye(){return f6||(f6=1,(function(e){var n=bf&&bf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=bf&&bf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o($k(),e)})(bf)),bf}var wf={},h6;function Fk(){return h6||(h6=1,(function(e){var n=wf&&wf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=wf&&wf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Uk(),e)})(wf)),wf}var p6;function aye(){return p6||(p6=1,(function(e){var n=vf&&vf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=vf&&vf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(nye(),e),o(Fk(),e)})(vf)),vf}var Of={},Sf={},N1={},Si={},Ei={},Ri={},ji={},g6;function Vk(){if(g6)return ji;g6=1;var e=ji&&ji.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ji&&ji.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ji&&ji.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ji,"__esModule",{value:!0}),ji.BaseType=void 0;const i=o(ie());return ji.BaseType=i.serialization.enum_(["BASE_TYPE_UNSPECIFIED","BASE_TYPE_GENERATIVE","BASE_TYPE_CLASSIFICATION","BASE_TYPE_RERANK","BASE_TYPE_CHAT"]),ji}var Ci={},m6;function Gk(){if(m6)return Ci;m6=1;var e=Ci&&Ci.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ci&&Ci.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ci&&Ci.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.Strategy=void 0;const i=o(ie());return Ci.Strategy=i.serialization.enum_(["STRATEGY_UNSPECIFIED","STRATEGY_VANILLA","STRATEGY_TFEW"]),Ci}var _6;function Hk(){if(_6)return Ri;_6=1;var e=Ri&&Ri.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Ri&&Ri.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ri&&Ri.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.BaseModel=void 0;const i=o(ie()),u=Vk(),t=Gk();return Ri.BaseModel=i.serialization.object({name:i.serialization.string().optional(),version:i.serialization.string().optional(),baseType:i.serialization.property("base_type",u.BaseType),strategy:t.Strategy.optional()}),Ri}var Ti={},Mi={},y6;function Kk(){if(y6)return Mi;y6=1;var e=Mi&&Mi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Mi&&Mi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Mi&&Mi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.LoraTargetModules=void 0;const i=o(ie());return Mi.LoraTargetModules=i.serialization.enum_(["LORA_TARGET_MODULES_UNSPECIFIED","LORA_TARGET_MODULES_QV","LORA_TARGET_MODULES_QKVO","LORA_TARGET_MODULES_QKVO_FFN"]),Mi}var v6;function kk(){if(v6)return Ti;v6=1;var e=Ti&&Ti.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ti&&Ti.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ti&&Ti.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Hyperparameters=void 0;const i=o(ie()),u=Kk();return Ti.Hyperparameters=i.serialization.object({earlyStoppingPatience:i.serialization.property("early_stopping_patience",i.serialization.number().optional()),earlyStoppingThreshold:i.serialization.property("early_stopping_threshold",i.serialization.number().optional()),trainBatchSize:i.serialization.property("train_batch_size",i.serialization.number().optional()),trainEpochs:i.serialization.property("train_epochs",i.serialization.number().optional()),learningRate:i.serialization.property("learning_rate",i.serialization.number().optional()),loraAlpha:i.serialization.property("lora_alpha",i.serialization.number().optional()),loraRank:i.serialization.property("lora_rank",i.serialization.number().optional()),loraTargetModules:i.serialization.property("lora_target_modules",u.LoraTargetModules.optional())}),Ti}var xi={},b6;function Yk(){if(b6)return xi;b6=1;var e=xi&&xi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=xi&&xi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=xi&&xi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(xi,"__esModule",{value:!0}),xi.WandbConfig=void 0;const i=o(ie());return xi.WandbConfig=i.serialization.object({project:i.serialization.string(),apiKey:i.serialization.property("api_key",i.serialization.string()),entity:i.serialization.string().optional()}),xi}var w6;function rx(){if(w6)return Ei;w6=1;var e=Ei&&Ei.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Ei&&Ei.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ei&&Ei.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.Settings=void 0;const i=o(ie()),u=Hk(),t=kk(),r=Yk();return Ei.Settings=i.serialization.object({baseModel:i.serialization.property("base_model",u.BaseModel),datasetId:i.serialization.property("dataset_id",i.serialization.string()),hyperparameters:t.Hyperparameters.optional(),multiLabel:i.serialization.property("multi_label",i.serialization.boolean().optional()),wandb:r.WandbConfig.optional()}),Ei}var Pi={},O6;function u0(){if(O6)return Pi;O6=1;var e=Pi&&Pi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Pi&&Pi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Pi&&Pi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.Status=void 0;const i=o(ie());return Pi.Status=i.serialization.enum_(["STATUS_UNSPECIFIED","STATUS_FINETUNING","STATUS_DEPLOYING_API","STATUS_READY","STATUS_FAILED","STATUS_DELETED","STATUS_TEMPORARILY_OFFLINE","STATUS_PAUSED","STATUS_QUEUED"]),Pi}var S6;function iye(){if(S6)return Si;S6=1;var e=Si&&Si.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Si&&Si.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Si&&Si.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Si,"__esModule",{value:!0}),Si.FinetuningUpdateFinetunedModelRequest=void 0;const i=o(ie()),u=rx(),t=u0();return Si.FinetuningUpdateFinetunedModelRequest=i.serialization.object({name:i.serialization.string(),settings:u.Settings,status:t.Status.optional()}),Si}var E6;function Wk(){return E6||(E6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinetuningUpdateFinetunedModelRequest=void 0;var n=iye();Object.defineProperty(e,"FinetuningUpdateFinetunedModelRequest",{enumerable:!0,get:function(){return n.FinetuningUpdateFinetunedModelRequest}})})(N1)),N1}var R6;function oye(){return R6||(R6=1,(function(e){var n=Sf&&Sf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Sf&&Sf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Wk(),e)})(Sf)),Sf}var Ai={},Ef={},Rf={},Ni={},Di={},j6;function S_(){if(j6)return Di;j6=1;var e=Di&&Di.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Di&&Di.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Di&&Di.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Di,"__esModule",{value:!0}),Di.FinetunedModel=void 0;const i=o(ie()),u=rx(),t=u0();return Di.FinetunedModel=i.serialization.object({id:i.serialization.string().optional(),name:i.serialization.string(),creatorId:i.serialization.property("creator_id",i.serialization.string().optional()),organizationId:i.serialization.property("organization_id",i.serialization.string().optional()),settings:u.Settings,status:t.Status.optional(),createdAt:i.serialization.property("created_at",i.serialization.date().optional()),updatedAt:i.serialization.property("updated_at",i.serialization.date().optional()),completedAt:i.serialization.property("completed_at",i.serialization.date().optional()),lastUsed:i.serialization.property("last_used",i.serialization.date().optional())}),Di}var C6;function sye(){if(C6)return Ni;C6=1;var e=Ni&&Ni.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ni&&Ni.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ni&&Ni.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.CreateFinetunedModelResponse=void 0;const i=o(ie()),u=S_();return Ni.CreateFinetunedModelResponse=i.serialization.object({finetunedModel:i.serialization.property("finetuned_model",u.FinetunedModel.optional())}),Ni}var Ii={},T6;function uye(){if(T6)return Ii;T6=1;var e=Ii&&Ii.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ii&&Ii.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ii&&Ii.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.DeleteFinetunedModelResponse=void 0;const i=o(ie());return Ii.DeleteFinetunedModelResponse=i.serialization.record(i.serialization.string(),i.serialization.unknown()),Ii}var zi={},M6;function Jk(){if(M6)return zi;M6=1;var e=zi&&zi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=zi&&zi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=zi&&zi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(zi,"__esModule",{value:!0}),zi.Event=void 0;const i=o(ie()),u=u0();return zi.Event=i.serialization.object({userId:i.serialization.property("user_id",i.serialization.string().optional()),status:u.Status.optional(),createdAt:i.serialization.property("created_at",i.serialization.date().optional())}),zi}var qi={},x6;function lye(){if(x6)return qi;x6=1;var e=qi&&qi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=qi&&qi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=qi&&qi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(qi,"__esModule",{value:!0}),qi.GetFinetunedModelResponse=void 0;const i=o(ie()),u=S_();return qi.GetFinetunedModelResponse=i.serialization.object({finetunedModel:i.serialization.property("finetuned_model",u.FinetunedModel.optional())}),qi}var Bi={},P6;function cye(){if(P6)return Bi;P6=1;var e=Bi&&Bi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Bi&&Bi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Bi&&Bi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.ListEventsResponse=void 0;const i=o(ie()),u=Jk();return Bi.ListEventsResponse=i.serialization.object({events:i.serialization.list(u.Event).optional(),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional()),totalSize:i.serialization.property("total_size",i.serialization.number().optional())}),Bi}var Li={},A6;function dye(){if(A6)return Li;A6=1;var e=Li&&Li.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Li&&Li.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Li&&Li.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Li,"__esModule",{value:!0}),Li.ListFinetunedModelsResponse=void 0;const i=o(ie()),u=S_();return Li.ListFinetunedModelsResponse=i.serialization.object({finetunedModels:i.serialization.property("finetuned_models",i.serialization.list(u.FinetunedModel).optional()),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional()),totalSize:i.serialization.property("total_size",i.serialization.number().optional())}),Li}var Ui={},$i={},N6;function Zk(){if(N6)return $i;N6=1;var e=$i&&$i.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=$i&&$i.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=$i&&$i.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($i,"__esModule",{value:!0}),$i.TrainingStepMetrics=void 0;const i=o(ie());return $i.TrainingStepMetrics=i.serialization.object({createdAt:i.serialization.property("created_at",i.serialization.date().optional()),stepNumber:i.serialization.property("step_number",i.serialization.number().optional()),metrics:i.serialization.record(i.serialization.string(),i.serialization.number()).optional()}),$i}var D6;function fye(){if(D6)return Ui;D6=1;var e=Ui&&Ui.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ui&&Ui.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ui&&Ui.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.ListTrainingStepMetricsResponse=void 0;const i=o(ie()),u=Zk();return Ui.ListTrainingStepMetricsResponse=i.serialization.object({stepMetrics:i.serialization.property("step_metrics",i.serialization.list(u.TrainingStepMetrics).optional()),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional())}),Ui}var Fi={},I6;function hye(){if(I6)return Fi;I6=1;var e=Fi&&Fi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Fi&&Fi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Fi&&Fi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.UpdateFinetunedModelResponse=void 0;const i=o(ie()),u=S_();return Fi.UpdateFinetunedModelResponse=i.serialization.object({finetunedModel:i.serialization.property("finetuned_model",u.FinetunedModel.optional())}),Fi}var z6;function Qk(){return z6||(z6=1,(function(e){var n=Rf&&Rf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Rf&&Rf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Hk(),e),o(Vk(),e),o(sye(),e),o(uye(),e),o(Jk(),e),o(S_(),e),o(lye(),e),o(kk(),e),o(cye(),e),o(dye(),e),o(fye(),e),o(Kk(),e),o(rx(),e),o(u0(),e),o(Gk(),e),o(Zk(),e),o(hye(),e),o(Yk(),e)})(Rf)),Rf}var q6;function pye(){return q6||(q6=1,(function(e){var n=Ef&&Ef.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Ef&&Ef.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Qk(),e)})(Ef)),Ef}var B6;function gye(){return B6||(B6=1,(function(e){var n=Ai&&Ai.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=Ai&&Ai.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=Ai&&Ai.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})(),u=Ai&&Ai.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.finetuning=void 0,e.finetuning=i(pye()),u(Qk(),e)})(Ai)),Ai}var L6;function mye(){return L6||(L6=1,(function(e){var n=Of&&Of.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Of&&Of.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(oye(),e),o(gye(),e)})(Of)),Of}var jf={},Cf={},D1={},Vi={},Gi={},Hi={},Ki={},ki={},Yi={},Wi={},U6;function gp(){if(U6)return Wi;U6=1;var e=Wi&&Wi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Wi&&Wi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Wi&&Wi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.ChatTextContent=void 0;const i=o(ie());return Wi.ChatTextContent=i.serialization.object({text:i.serialization.string()}),Wi}var Ji={},$6;function nx(){if($6)return Ji;$6=1;var e=Ji&&Ji.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ji&&Ji.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ji&&Ji.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.ChatThinkingContent=void 0;const i=o(ie());return Ji.ChatThinkingContent=i.serialization.object({thinking:i.serialization.string()}),Ji}var F6;function Xk(){if(F6)return Yi;F6=1;var e=Yi&&Yi.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Yi&&Yi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Yi&&Yi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.AssistantMessageV2ContentItem=void 0;const i=o(ie()),u=gp(),t=nx();return Yi.AssistantMessageV2ContentItem=i.serialization.union("type",{text:u.ChatTextContent,thinking:t.ChatThinkingContent}).transform({transform:r=>r,untransform:r=>r}),Yi}var V6;function eY(){if(V6)return ki;V6=1;var e=ki&&ki.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ki&&ki.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ki&&ki.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ki,"__esModule",{value:!0}),ki.AssistantMessageV2Content=void 0;const i=o(ie()),u=Xk();return ki.AssistantMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(u.AssistantMessageV2ContentItem)]),ki}var Zi={},Qi={},G6;function tY(){if(G6)return Qi;G6=1;var e=Qi&&Qi.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Qi&&Qi.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Qi&&Qi.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.CitationType=void 0;const i=o(ie());return Qi.CitationType=i.serialization.enum_(["TEXT_CONTENT","THINKING_CONTENT","PLAN"]),Qi}var Xi={},eo={},H6;function rY(){if(H6)return eo;H6=1;var e=eo&&eo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=eo&&eo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=eo&&eo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(eo,"__esModule",{value:!0}),eo.ChatDocumentSource=void 0;const i=o(ie());return eo.ChatDocumentSource=i.serialization.object({id:i.serialization.string().optional(),document:i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional()}),eo}var to={},K6;function nY(){if(K6)return to;K6=1;var e=to&&to.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=to&&to.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=to&&to.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(to,"__esModule",{value:!0}),to.ChatToolSource=void 0;const i=o(ie());return to.ChatToolSource=i.serialization.object({id:i.serialization.string().optional(),toolOutput:i.serialization.property("tool_output",i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional())}),to}var k6;function aY(){if(k6)return Xi;k6=1;var e=Xi&&Xi.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Xi&&Xi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Xi&&Xi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Source=void 0;const i=o(ie()),u=rY(),t=nY();return Xi.Source=i.serialization.union("type",{tool:t.ChatToolSource,document:u.ChatDocumentSource}).transform({transform:r=>r,untransform:r=>r}),Xi}var Y6;function l0(){if(Y6)return Zi;Y6=1;var e=Zi&&Zi.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Zi&&Zi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Zi&&Zi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Citation=void 0;const i=o(ie()),u=tY(),t=aY();return Zi.Citation=i.serialization.object({start:i.serialization.number().optional(),end:i.serialization.number().optional(),text:i.serialization.string().optional(),sources:i.serialization.list(t.Source).optional(),contentIndex:i.serialization.property("content_index",i.serialization.number().optional()),type:u.CitationType.optional()}),Zi}var ro={},no={},W6;function iY(){if(W6)return no;W6=1;var e=no&&no.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=no&&no.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=no&&no.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(no,"__esModule",{value:!0}),no.ToolCallV2Function=void 0;const i=o(ie());return no.ToolCallV2Function=i.serialization.object({name:i.serialization.string().optional(),arguments:i.serialization.string().optional()}),no}var J6;function c0(){if(J6)return ro;J6=1;var e=ro&&ro.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ro&&ro.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ro&&ro.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ro,"__esModule",{value:!0}),ro.ToolCallV2=void 0;const i=o(ie()),u=iY();return ro.ToolCallV2=i.serialization.object({id:i.serialization.string(),type:i.serialization.stringLiteral("function"),function:u.ToolCallV2Function.optional()}),ro}var Z6;function oY(){if(Z6)return Ki;Z6=1;var e=Ki&&Ki.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Ki&&Ki.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ki&&Ki.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.AssistantMessage=void 0;const i=o(ie()),u=eY(),t=l0(),r=c0();return Ki.AssistantMessage=i.serialization.object({toolCalls:i.serialization.property("tool_calls",i.serialization.list(r.ToolCallV2).optional()),toolPlan:i.serialization.property("tool_plan",i.serialization.string().optional()),content:u.AssistantMessageV2Content.optional(),citations:i.serialization.list(t.Citation).optional()}),Ki}var ao={},io={},oo={},Q6;function sY(){if(Q6)return oo;Q6=1;var e=oo&&oo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=oo&&oo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=oo&&oo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(oo,"__esModule",{value:!0}),oo.SystemMessageV2ContentItem=void 0;const i=o(ie()),u=gp();return oo.SystemMessageV2ContentItem=i.serialization.union("type",{text:u.ChatTextContent}).transform({transform:t=>t,untransform:t=>t}),oo}var X6;function uY(){if(X6)return io;X6=1;var e=io&&io.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=io&&io.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=io&&io.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(io,"__esModule",{value:!0}),io.SystemMessageV2Content=void 0;const i=o(ie()),u=sY();return io.SystemMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(u.SystemMessageV2ContentItem)]),io}var eF;function lY(){if(eF)return ao;eF=1;var e=ao&&ao.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ao&&ao.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ao&&ao.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ao,"__esModule",{value:!0}),ao.SystemMessageV2=void 0;const i=o(ie()),u=uY();return ao.SystemMessageV2=i.serialization.object({content:u.SystemMessageV2Content}),ao}var so={},uo={},lo={},co={},fo={},tF;function d0(){if(tF)return fo;tF=1;var e=fo&&fo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=fo&&fo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=fo&&fo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fo,"__esModule",{value:!0}),fo.Document=void 0;const i=o(ie());return fo.Document=i.serialization.object({data:i.serialization.record(i.serialization.string(),i.serialization.unknown()),id:i.serialization.string().optional()}),fo}var rF;function cY(){if(rF)return co;rF=1;var e=co&&co.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=co&&co.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=co&&co.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(co,"__esModule",{value:!0}),co.DocumentContent=void 0;const i=o(ie()),u=d0();return co.DocumentContent=i.serialization.object({document:u.Document}),co}var nF;function dY(){if(nF)return lo;nF=1;var e=lo&&lo.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=lo&&lo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=lo&&lo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(lo,"__esModule",{value:!0}),lo.ToolContent=void 0;const i=o(ie()),u=gp(),t=cY();return lo.ToolContent=i.serialization.union("type",{text:u.ChatTextContent,document:t.DocumentContent}).transform({transform:r=>r,untransform:r=>r}),lo}var aF;function fY(){if(aF)return uo;aF=1;var e=uo&&uo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=uo&&uo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=uo&&uo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(uo,"__esModule",{value:!0}),uo.ToolMessageV2Content=void 0;const i=o(ie()),u=dY();return uo.ToolMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(u.ToolContent)]),uo}var iF;function hY(){if(iF)return so;iF=1;var e=so&&so.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=so&&so.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=so&&so.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(so,"__esModule",{value:!0}),so.ToolMessageV2=void 0;const i=o(ie()),u=fY();return so.ToolMessageV2=i.serialization.object({toolCallId:i.serialization.property("tool_call_id",i.serialization.string()),content:u.ToolMessageV2Content}),so}var ho={},po={},go={},mo={},_o={},yo={},oF;function pY(){if(oF)return yo;oF=1;var e=yo&&yo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=yo&&yo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=yo&&yo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(yo,"__esModule",{value:!0}),yo.ImageUrlDetail=void 0;const i=o(ie());return yo.ImageUrlDetail=i.serialization.enum_(["auto","low","high"]),yo}var sF;function gY(){if(sF)return _o;sF=1;var e=_o&&_o.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=_o&&_o.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=_o&&_o.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(_o,"__esModule",{value:!0}),_o.ImageUrl=void 0;const i=o(ie()),u=pY();return _o.ImageUrl=i.serialization.object({url:i.serialization.string(),detail:u.ImageUrlDetail.optional()}),_o}var uF;function mY(){if(uF)return mo;uF=1;var e=mo&&mo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=mo&&mo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=mo&&mo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(mo,"__esModule",{value:!0}),mo.ImageContent=void 0;const i=o(ie()),u=gY();return mo.ImageContent=i.serialization.object({imageUrl:i.serialization.property("image_url",u.ImageUrl)}),mo}var lF;function _Y(){if(lF)return go;lF=1;var e=go&&go.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=go&&go.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=go&&go.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(go,"__esModule",{value:!0}),go.Content=void 0;const i=o(ie()),u=gp(),t=mY();return go.Content=i.serialization.union("type",{text:u.ChatTextContent,image_url:t.ImageContent}).transform({transform:r=>r,untransform:r=>r}),go}var cF;function yY(){if(cF)return po;cF=1;var e=po&&po.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=po&&po.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=po&&po.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(po,"__esModule",{value:!0}),po.UserMessageV2Content=void 0;const i=o(ie()),u=_Y();return po.UserMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(u.Content)]),po}var dF;function vY(){if(dF)return ho;dF=1;var e=ho&&ho.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ho&&ho.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ho&&ho.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ho,"__esModule",{value:!0}),ho.UserMessageV2=void 0;const i=o(ie()),u=yY();return ho.UserMessageV2=i.serialization.object({content:u.UserMessageV2Content}),ho}var fF;function bY(){if(fF)return Hi;fF=1;var e=Hi&&Hi.__createBinding||(Object.create?(function(s,l,f,m){m===void 0&&(m=f);var b=Object.getOwnPropertyDescriptor(l,f);(!b||("get"in b?!l.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(s,m,b)}):(function(s,l,f,m){m===void 0&&(m=f),s[m]=l[f]})),n=Hi&&Hi.__setModuleDefault||(Object.create?(function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}):function(s,l){s.default=l}),o=Hi&&Hi.__importStar||(function(){var s=function(l){return s=Object.getOwnPropertyNames||function(f){var m=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(m[m.length]=b);return m},s(l)};return function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var m=s(l),b=0;b<m.length;b++)m[b]!=="default"&&e(f,l,m[b]);return n(f,l),f}})();Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.ChatMessageV2=void 0;const i=o(ie()),u=oY(),t=lY(),r=hY(),a=vY();return Hi.ChatMessageV2=i.serialization.union("role",{user:a.UserMessageV2,assistant:u.AssistantMessage,system:t.SystemMessageV2,tool:r.ToolMessageV2}).transform({transform:s=>s,untransform:s=>s}),Hi}var hF;function ax(){if(hF)return Gi;hF=1;var e=Gi&&Gi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Gi&&Gi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Gi&&Gi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.ChatMessages=void 0;const i=o(ie()),u=bY();return Gi.ChatMessages=i.serialization.list(u.ChatMessageV2),Gi}var vo={},bo={},pF;function wY(){if(pF)return bo;pF=1;var e=bo&&bo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=bo&&bo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=bo&&bo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(bo,"__esModule",{value:!0}),bo.CitationOptionsMode=void 0;const i=o(ie());return bo.CitationOptionsMode=i.serialization.enum_(["ENABLED","DISABLED","FAST","ACCURATE","OFF"]),bo}var gF;function ix(){if(gF)return vo;gF=1;var e=vo&&vo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=vo&&vo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=vo&&vo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(vo,"__esModule",{value:!0}),vo.CitationOptions=void 0;const i=o(ie()),u=wY();return vo.CitationOptions=i.serialization.object({mode:u.CitationOptionsMode.optional()}),vo}var wo={},Oo={},mF;function OY(){if(mF)return Oo;mF=1;var e=Oo&&Oo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Oo&&Oo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Oo&&Oo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.ChatTextResponseFormatV2=void 0;const i=o(ie());return Oo.ChatTextResponseFormatV2=i.serialization.object({}),Oo}var So={},_F;function SY(){if(_F)return So;_F=1;var e=So&&So.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=So&&So.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=So&&So.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(So,"__esModule",{value:!0}),So.JsonResponseFormatV2=void 0;const i=o(ie());return So.JsonResponseFormatV2=i.serialization.object({jsonSchema:i.serialization.property("json_schema",i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional())}),So}var yF;function ox(){if(yF)return wo;yF=1;var e=wo&&wo.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=wo&&wo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=wo&&wo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(wo,"__esModule",{value:!0}),wo.ResponseFormatV2=void 0;const i=o(ie()),u=OY(),t=SY();return wo.ResponseFormatV2=i.serialization.union("type",{text:u.ChatTextResponseFormatV2,json_object:t.JsonResponseFormatV2}).transform({transform:r=>r,untransform:r=>r}),wo}var Eo={},Ro={},vF;function EY(){if(vF)return Ro;vF=1;var e=Ro&&Ro.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ro&&Ro.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ro&&Ro.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.ThinkingType=void 0;const i=o(ie());return Ro.ThinkingType=i.serialization.enum_(["enabled","disabled"]),Ro}var bF;function sx(){if(bF)return Eo;bF=1;var e=Eo&&Eo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Eo&&Eo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Eo&&Eo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.Thinking=void 0;const i=o(ie()),u=EY();return Eo.Thinking=i.serialization.object({type:u.ThinkingType,tokenBudget:i.serialization.property("token_budget",i.serialization.number().optional())}),Eo}var jo={},Co={},wF;function RY(){if(wF)return Co;wF=1;var e=Co&&Co.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Co&&Co.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Co&&Co.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Co,"__esModule",{value:!0}),Co.ToolV2Function=void 0;const i=o(ie());return Co.ToolV2Function=i.serialization.object({name:i.serialization.string(),description:i.serialization.string().optional(),parameters:i.serialization.record(i.serialization.string(),i.serialization.unknown())}),Co}var OF;function ux(){if(OF)return jo;OF=1;var e=jo&&jo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=jo&&jo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=jo&&jo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(jo,"__esModule",{value:!0}),jo.ToolV2=void 0;const i=o(ie()),u=RY();return jo.ToolV2=i.serialization.object({type:i.serialization.stringLiteral("function"),function:u.ToolV2Function.optional()}),jo}var To={},SF;function jY(){if(SF)return To;SF=1;var e=To&&To.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=To&&To.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=To&&To.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(To,"__esModule",{value:!0}),To.V2ChatRequestDocumentsItem=void 0;const i=o(ie()),u=d0();return To.V2ChatRequestDocumentsItem=i.serialization.undiscriminatedUnion([i.serialization.string(),u.Document]),To}var Mo={},EF;function CY(){if(EF)return Mo;EF=1;var e=Mo&&Mo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Mo&&Mo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Mo&&Mo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.V2ChatRequestSafetyMode=void 0;const i=o(ie());return Mo.V2ChatRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","OFF"]),Mo}var xo={},RF;function TY(){if(RF)return xo;RF=1;var e=xo&&xo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=xo&&xo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=xo&&xo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(xo,"__esModule",{value:!0}),xo.V2ChatRequestToolChoice=void 0;const i=o(ie());return xo.V2ChatRequestToolChoice=i.serialization.enum_(["REQUIRED","NONE"]),xo}var jF;function _ye(){if(jF)return Vi;jF=1;var e=Vi&&Vi.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),n=Vi&&Vi.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),o=Vi&&Vi.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&e(p,_,y[v]);return n(p,_),p}})();Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.V2ChatRequest=void 0;const i=o(ie()),u=ax(),t=ix(),r=ox(),a=sx(),s=ux(),l=jY(),f=CY(),m=TY();return Vi.V2ChatRequest=i.serialization.object({model:i.serialization.string(),messages:u.ChatMessages,tools:i.serialization.list(s.ToolV2).optional(),strictTools:i.serialization.property("strict_tools",i.serialization.boolean().optional()),documents:i.serialization.list(l.V2ChatRequestDocumentsItem).optional(),citationOptions:i.serialization.property("citation_options",t.CitationOptions.optional()),responseFormat:i.serialization.property("response_format",r.ResponseFormatV2.optional()),safetyMode:i.serialization.property("safety_mode",f.V2ChatRequestSafetyMode.optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),logprobs:i.serialization.boolean().optional(),toolChoice:i.serialization.property("tool_choice",m.V2ChatRequestToolChoice.optional()),thinking:a.Thinking.optional(),priority:i.serialization.number().optional()}),Vi}var Po={},Ao={},CF;function MY(){if(CF)return Ao;CF=1;var e=Ao&&Ao.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ao&&Ao.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ao&&Ao.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.V2ChatStreamRequestDocumentsItem=void 0;const i=o(ie()),u=d0();return Ao.V2ChatStreamRequestDocumentsItem=i.serialization.undiscriminatedUnion([i.serialization.string(),u.Document]),Ao}var No={},TF;function xY(){if(TF)return No;TF=1;var e=No&&No.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=No&&No.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=No&&No.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(No,"__esModule",{value:!0}),No.V2ChatStreamRequestSafetyMode=void 0;const i=o(ie());return No.V2ChatStreamRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","OFF"]),No}var Do={},MF;function PY(){if(MF)return Do;MF=1;var e=Do&&Do.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Do&&Do.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Do&&Do.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Do,"__esModule",{value:!0}),Do.V2ChatStreamRequestToolChoice=void 0;const i=o(ie());return Do.V2ChatStreamRequestToolChoice=i.serialization.enum_(["REQUIRED","NONE"]),Do}var xF;function yye(){if(xF)return Po;xF=1;var e=Po&&Po.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),n=Po&&Po.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),o=Po&&Po.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&e(p,_,y[v]);return n(p,_),p}})();Object.defineProperty(Po,"__esModule",{value:!0}),Po.V2ChatStreamRequest=void 0;const i=o(ie()),u=ax(),t=ix(),r=ox(),a=sx(),s=ux(),l=MY(),f=xY(),m=PY();return Po.V2ChatStreamRequest=i.serialization.object({model:i.serialization.string(),messages:u.ChatMessages,tools:i.serialization.list(s.ToolV2).optional(),strictTools:i.serialization.property("strict_tools",i.serialization.boolean().optional()),documents:i.serialization.list(l.V2ChatStreamRequestDocumentsItem).optional(),citationOptions:i.serialization.property("citation_options",t.CitationOptions.optional()),responseFormat:i.serialization.property("response_format",r.ResponseFormatV2.optional()),safetyMode:i.serialization.property("safety_mode",f.V2ChatStreamRequestSafetyMode.optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),logprobs:i.serialization.boolean().optional(),toolChoice:i.serialization.property("tool_choice",m.V2ChatStreamRequestToolChoice.optional()),thinking:a.Thinking.optional(),priority:i.serialization.number().optional()}),Po}var Io={},zo={},qo={},Bo={},Lo={},PF;function AY(){if(PF)return Lo;PF=1;var e=Lo&&Lo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Lo&&Lo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Lo&&Lo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.EmbedImageUrl=void 0;const i=o(ie());return Lo.EmbedImageUrl=i.serialization.object({url:i.serialization.string()}),Lo}var AF;function NY(){if(AF)return Bo;AF=1;var e=Bo&&Bo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Bo&&Bo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Bo&&Bo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.EmbedImage=void 0;const i=o(ie()),u=AY();return Bo.EmbedImage=i.serialization.object({imageUrl:i.serialization.property("image_url",u.EmbedImageUrl.optional())}),Bo}var Uo={},NF;function DY(){if(NF)return Uo;NF=1;var e=Uo&&Uo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Uo&&Uo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Uo&&Uo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.EmbedText=void 0;const i=o(ie());return Uo.EmbedText=i.serialization.object({text:i.serialization.string().optional()}),Uo}var DF;function IY(){if(DF)return qo;DF=1;var e=qo&&qo.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=qo&&qo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=qo&&qo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(qo,"__esModule",{value:!0}),qo.EmbedContent=void 0;const i=o(ie()),u=NY(),t=DY();return qo.EmbedContent=i.serialization.union("type",{image_url:u.EmbedImage,text:t.EmbedText}).transform({transform:r=>r,untransform:r=>r}),qo}var IF;function zY(){if(IF)return zo;IF=1;var e=zo&&zo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=zo&&zo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=zo&&zo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(zo,"__esModule",{value:!0}),zo.EmbedInput=void 0;const i=o(ie()),u=IY();return zo.EmbedInput=i.serialization.object({content:i.serialization.list(u.EmbedContent)}),zo}var $o={},zF;function qY(){if(zF)return $o;zF=1;var e=$o&&$o.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=$o&&$o.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=$o&&$o.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($o,"__esModule",{value:!0}),$o.V2EmbedRequestTruncate=void 0;const i=o(ie());return $o.V2EmbedRequestTruncate=i.serialization.enum_(["NONE","START","END"]),$o}var qF;function vye(){if(qF)return Io;qF=1;var e=Io&&Io.__createBinding||(Object.create?(function(s,l,f,m){m===void 0&&(m=f);var b=Object.getOwnPropertyDescriptor(l,f);(!b||("get"in b?!l.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(s,m,b)}):(function(s,l,f,m){m===void 0&&(m=f),s[m]=l[f]})),n=Io&&Io.__setModuleDefault||(Object.create?(function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}):function(s,l){s.default=l}),o=Io&&Io.__importStar||(function(){var s=function(l){return s=Object.getOwnPropertyNames||function(f){var m=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(m[m.length]=b);return m},s(l)};return function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var m=s(l),b=0;b<m.length;b++)m[b]!=="default"&&e(f,l,m[b]);return n(f,l),f}})();Object.defineProperty(Io,"__esModule",{value:!0}),Io.V2EmbedRequest=void 0;const i=o(ie()),u=i0(),t=zY(),r=o0(),a=qY();return Io.V2EmbedRequest=i.serialization.object({texts:i.serialization.list(i.serialization.string()).optional(),images:i.serialization.list(i.serialization.string()).optional(),model:i.serialization.string(),inputType:i.serialization.property("input_type",r.EmbedInputType),inputs:i.serialization.list(t.EmbedInput).optional(),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),outputDimension:i.serialization.property("output_dimension",i.serialization.number().optional()),embeddingTypes:i.serialization.property("embedding_types",i.serialization.list(u.EmbeddingType).optional()),truncate:a.V2EmbedRequestTruncate.optional(),priority:i.serialization.number().optional()}),Io}var Fo={},BF;function bye(){if(BF)return Fo;BF=1;var e=Fo&&Fo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Fo&&Fo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Fo&&Fo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.V2RerankRequest=void 0;const i=o(ie());return Fo.V2RerankRequest=i.serialization.object({model:i.serialization.string(),query:i.serialization.string(),documents:i.serialization.list(i.serialization.string()),topN:i.serialization.property("top_n",i.serialization.number().optional()),maxTokensPerDoc:i.serialization.property("max_tokens_per_doc",i.serialization.number().optional()),priority:i.serialization.number().optional()}),Fo}var LF;function BY(){return LF||(LF=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.V2RerankRequest=e.V2EmbedRequest=e.V2ChatStreamRequest=e.V2ChatRequest=void 0;var n=_ye();Object.defineProperty(e,"V2ChatRequest",{enumerable:!0,get:function(){return n.V2ChatRequest}});var o=yye();Object.defineProperty(e,"V2ChatStreamRequest",{enumerable:!0,get:function(){return o.V2ChatStreamRequest}});var i=vye();Object.defineProperty(e,"V2EmbedRequest",{enumerable:!0,get:function(){return i.V2EmbedRequest}});var u=bye();Object.defineProperty(e,"V2RerankRequest",{enumerable:!0,get:function(){return u.V2RerankRequest}})})(D1)),D1}var UF;function wye(){return UF||(UF=1,(function(e){var n=Cf&&Cf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Cf&&Cf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(BY(),e)})(Cf)),Cf}var Tf={},Vo={},Go={},Ho={},$F;function LY(){if($F)return Ho;$F=1;var e=Ho&&Ho.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Ho&&Ho.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ho&&Ho.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.AssistantMessageResponseContentItem=void 0;const i=o(ie()),u=gp(),t=nx();return Ho.AssistantMessageResponseContentItem=i.serialization.union("type",{text:u.ChatTextContent,thinking:t.ChatThinkingContent}).transform({transform:r=>r,untransform:r=>r}),Ho}var FF;function UY(){if(FF)return Go;FF=1;var e=Go&&Go.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Go&&Go.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Go&&Go.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Go,"__esModule",{value:!0}),Go.AssistantMessageResponse=void 0;const i=o(ie()),u=LY(),t=l0(),r=c0();return Go.AssistantMessageResponse=i.serialization.object({role:i.serialization.stringLiteral("assistant"),toolCalls:i.serialization.property("tool_calls",i.serialization.list(r.ToolCallV2).optional()),toolPlan:i.serialization.property("tool_plan",i.serialization.string().optional()),content:i.serialization.list(u.AssistantMessageResponseContentItem).optional(),citations:i.serialization.list(t.Citation).optional()}),Go}var Ko={},VF;function lx(){if(VF)return Ko;VF=1;var e=Ko&&Ko.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ko&&Ko.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ko&&Ko.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.ChatFinishReason=void 0;const i=o(ie());return Ko.ChatFinishReason=i.serialization.enum_(["COMPLETE","STOP_SEQUENCE","MAX_TOKENS","TOOL_CALL","ERROR","TIMEOUT"]),Ko}var ko={},GF;function cx(){if(GF)return ko;GF=1;var e=ko&&ko.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ko&&ko.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ko&&ko.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ko,"__esModule",{value:!0}),ko.LogprobItem=void 0;const i=o(ie());return ko.LogprobItem=i.serialization.object({text:i.serialization.string().optional(),tokenIds:i.serialization.property("token_ids",i.serialization.list(i.serialization.number())),logprobs:i.serialization.list(i.serialization.number()).optional()}),ko}var Yo={},Wo={},HF;function $Y(){if(HF)return Wo;HF=1;var e=Wo&&Wo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Wo&&Wo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Wo&&Wo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.UsageBilledUnits=void 0;const i=o(ie());return Wo.UsageBilledUnits=i.serialization.object({inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional()),searchUnits:i.serialization.property("search_units",i.serialization.number().optional()),classifications:i.serialization.number().optional()}),Wo}var Jo={},KF;function FY(){if(KF)return Jo;KF=1;var e=Jo&&Jo.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Jo&&Jo.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Jo&&Jo.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.UsageTokens=void 0;const i=o(ie());return Jo.UsageTokens=i.serialization.object({inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional())}),Jo}var kF;function dx(){if(kF)return Yo;kF=1;var e=Yo&&Yo.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Yo&&Yo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Yo&&Yo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.Usage=void 0;const i=o(ie()),u=$Y(),t=FY();return Yo.Usage=i.serialization.object({billedUnits:i.serialization.property("billed_units",u.UsageBilledUnits.optional()),tokens:t.UsageTokens.optional(),cachedTokens:i.serialization.property("cached_tokens",i.serialization.number().optional())}),Yo}var YF;function Oye(){if(YF)return Vo;YF=1;var e=Vo&&Vo.__createBinding||(Object.create?(function(s,l,f,m){m===void 0&&(m=f);var b=Object.getOwnPropertyDescriptor(l,f);(!b||("get"in b?!l.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(s,m,b)}):(function(s,l,f,m){m===void 0&&(m=f),s[m]=l[f]})),n=Vo&&Vo.__setModuleDefault||(Object.create?(function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}):function(s,l){s.default=l}),o=Vo&&Vo.__importStar||(function(){var s=function(l){return s=Object.getOwnPropertyNames||function(f){var m=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(m[m.length]=b);return m},s(l)};return function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var m=s(l),b=0;b<m.length;b++)m[b]!=="default"&&e(f,l,m[b]);return n(f,l),f}})();Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.V2ChatResponse=void 0;const i=o(ie()),u=UY(),t=lx(),r=cx(),a=dx();return Vo.V2ChatResponse=i.serialization.object({id:i.serialization.string(),finishReason:i.serialization.property("finish_reason",t.ChatFinishReason),message:u.AssistantMessageResponse,usage:a.Usage.optional(),logprobs:i.serialization.list(r.LogprobItem).optional()}),Vo}var Zo={},Qo={},Xo={},es={},ts={},WF;function VY(){if(WF)return ts;WF=1;var e=ts&&ts.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ts&&ts.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ts&&ts.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ts,"__esModule",{value:!0}),ts.ChatContentDeltaEventDeltaMessageContent=void 0;const i=o(ie());return ts.ChatContentDeltaEventDeltaMessageContent=i.serialization.object({thinking:i.serialization.string().optional(),text:i.serialization.string().optional()}),ts}var JF;function GY(){if(JF)return es;JF=1;var e=es&&es.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=es&&es.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=es&&es.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(es,"__esModule",{value:!0}),es.ChatContentDeltaEventDeltaMessage=void 0;const i=o(ie()),u=VY();return es.ChatContentDeltaEventDeltaMessage=i.serialization.object({content:u.ChatContentDeltaEventDeltaMessageContent.optional()}),es}var ZF;function HY(){if(ZF)return Xo;ZF=1;var e=Xo&&Xo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Xo&&Xo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Xo&&Xo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.ChatContentDeltaEventDelta=void 0;const i=o(ie()),u=GY();return Xo.ChatContentDeltaEventDelta=i.serialization.object({message:u.ChatContentDeltaEventDeltaMessage.optional()}),Xo}var rs={},QF;function Un(){if(QF)return rs;QF=1;var e=rs&&rs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=rs&&rs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=rs&&rs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(rs,"__esModule",{value:!0}),rs.ChatStreamEventType=void 0;const i=o(ie());return rs.ChatStreamEventType=i.serialization.object({}),rs}var XF;function KY(){if(XF)return Qo;XF=1;var e=Qo&&Qo.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Qo&&Qo.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Qo&&Qo.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.ChatContentDeltaEvent=void 0;const i=o(ie()),u=HY(),t=Un(),r=cx();return Qo.ChatContentDeltaEvent=i.serialization.object({index:i.serialization.number().optional(),delta:u.ChatContentDeltaEventDelta.optional(),logprobs:r.LogprobItem.optional()}).extend(t.ChatStreamEventType),Qo}var ns={},e9;function kY(){if(e9)return ns;e9=1;var e=ns&&ns.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ns&&ns.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ns&&ns.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ns,"__esModule",{value:!0}),ns.ChatContentEndEvent=void 0;const i=o(ie()),u=Un();return ns.ChatContentEndEvent=i.serialization.object({index:i.serialization.number().optional()}).extend(u.ChatStreamEventType),ns}var as={},is={},os={},ss={},us={},t9;function YY(){if(t9)return us;t9=1;var e=us&&us.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=us&&us.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=us&&us.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(us,"__esModule",{value:!0}),us.ChatContentStartEventDeltaMessageContentType=void 0;const i=o(ie());return us.ChatContentStartEventDeltaMessageContentType=i.serialization.enum_(["text","thinking"]),us}var r9;function WY(){if(r9)return ss;r9=1;var e=ss&&ss.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ss&&ss.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ss&&ss.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ss,"__esModule",{value:!0}),ss.ChatContentStartEventDeltaMessageContent=void 0;const i=o(ie()),u=YY();return ss.ChatContentStartEventDeltaMessageContent=i.serialization.object({thinking:i.serialization.string().optional(),text:i.serialization.string().optional(),type:u.ChatContentStartEventDeltaMessageContentType.optional()}),ss}var n9;function JY(){if(n9)return os;n9=1;var e=os&&os.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=os&&os.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=os&&os.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(os,"__esModule",{value:!0}),os.ChatContentStartEventDeltaMessage=void 0;const i=o(ie()),u=WY();return os.ChatContentStartEventDeltaMessage=i.serialization.object({content:u.ChatContentStartEventDeltaMessageContent.optional()}),os}var a9;function ZY(){if(a9)return is;a9=1;var e=is&&is.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=is&&is.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=is&&is.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(is,"__esModule",{value:!0}),is.ChatContentStartEventDelta=void 0;const i=o(ie()),u=JY();return is.ChatContentStartEventDelta=i.serialization.object({message:u.ChatContentStartEventDeltaMessage.optional()}),is}var i9;function QY(){if(i9)return as;i9=1;var e=as&&as.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=as&&as.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=as&&as.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(as,"__esModule",{value:!0}),as.ChatContentStartEvent=void 0;const i=o(ie()),u=ZY(),t=Un();return as.ChatContentStartEvent=i.serialization.object({index:i.serialization.number().optional(),delta:u.ChatContentStartEventDelta.optional()}).extend(t.ChatStreamEventType),as}var ls={},cs={},o9;function El(){if(o9)return cs;o9=1;var e=cs&&cs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=cs&&cs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=cs&&cs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(cs,"__esModule",{value:!0}),cs.ChatStreamEvent=void 0;const i=o(ie());return cs.ChatStreamEvent=i.serialization.object({}),cs}var s9;function fx(){if(s9)return ls;s9=1;var e=ls&&ls.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ls&&ls.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ls&&ls.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ls,"__esModule",{value:!0}),ls.ChatDebugEvent=void 0;const i=o(ie()),u=El();return ls.ChatDebugEvent=i.serialization.object({prompt:i.serialization.string().optional()}).extend(u.ChatStreamEvent),ls}var ds={},fs={},u9;function XY(){if(u9)return fs;u9=1;var e=fs&&fs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=fs&&fs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=fs&&fs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(fs,"__esModule",{value:!0}),fs.ChatMessageEndEventDelta=void 0;const i=o(ie()),u=lx(),t=dx();return fs.ChatMessageEndEventDelta=i.serialization.object({error:i.serialization.string().optional(),finishReason:i.serialization.property("finish_reason",u.ChatFinishReason.optional()),usage:t.Usage.optional()}),fs}var l9;function eW(){if(l9)return ds;l9=1;var e=ds&&ds.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ds&&ds.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ds&&ds.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ds,"__esModule",{value:!0}),ds.ChatMessageEndEvent=void 0;const i=o(ie()),u=XY(),t=Un();return ds.ChatMessageEndEvent=i.serialization.object({id:i.serialization.string().optional(),delta:u.ChatMessageEndEventDelta.optional()}).extend(t.ChatStreamEventType),ds}var hs={},ps={},gs={},c9;function tW(){if(c9)return gs;c9=1;var e=gs&&gs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=gs&&gs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=gs&&gs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(gs,"__esModule",{value:!0}),gs.ChatMessageStartEventDeltaMessage=void 0;const i=o(ie());return gs.ChatMessageStartEventDeltaMessage=i.serialization.object({role:i.serialization.stringLiteral("assistant").optional()}),gs}var d9;function rW(){if(d9)return ps;d9=1;var e=ps&&ps.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ps&&ps.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ps&&ps.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ps,"__esModule",{value:!0}),ps.ChatMessageStartEventDelta=void 0;const i=o(ie()),u=tW();return ps.ChatMessageStartEventDelta=i.serialization.object({message:u.ChatMessageStartEventDeltaMessage.optional()}),ps}var f9;function nW(){if(f9)return hs;f9=1;var e=hs&&hs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=hs&&hs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=hs&&hs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(hs,"__esModule",{value:!0}),hs.ChatMessageStartEvent=void 0;const i=o(ie()),u=rW(),t=Un();return hs.ChatMessageStartEvent=i.serialization.object({id:i.serialization.string().optional(),delta:u.ChatMessageStartEventDelta.optional()}).extend(t.ChatStreamEventType),hs}var ms={},_s={},ys={},vs={},bs={},h9;function aW(){if(h9)return bs;h9=1;var e=bs&&bs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=bs&&bs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=bs&&bs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(bs,"__esModule",{value:!0}),bs.ChatToolCallDeltaEventDeltaMessageToolCallsFunction=void 0;const i=o(ie());return bs.ChatToolCallDeltaEventDeltaMessageToolCallsFunction=i.serialization.object({arguments:i.serialization.string().optional()}),bs}var p9;function iW(){if(p9)return vs;p9=1;var e=vs&&vs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=vs&&vs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=vs&&vs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(vs,"__esModule",{value:!0}),vs.ChatToolCallDeltaEventDeltaMessageToolCalls=void 0;const i=o(ie()),u=aW();return vs.ChatToolCallDeltaEventDeltaMessageToolCalls=i.serialization.object({function:u.ChatToolCallDeltaEventDeltaMessageToolCallsFunction.optional()}),vs}var g9;function oW(){if(g9)return ys;g9=1;var e=ys&&ys.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ys&&ys.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ys&&ys.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ys,"__esModule",{value:!0}),ys.ChatToolCallDeltaEventDeltaMessage=void 0;const i=o(ie()),u=iW();return ys.ChatToolCallDeltaEventDeltaMessage=i.serialization.object({toolCalls:i.serialization.property("tool_calls",u.ChatToolCallDeltaEventDeltaMessageToolCalls.optional())}),ys}var m9;function sW(){if(m9)return _s;m9=1;var e=_s&&_s.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=_s&&_s.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=_s&&_s.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(_s,"__esModule",{value:!0}),_s.ChatToolCallDeltaEventDelta=void 0;const i=o(ie()),u=oW();return _s.ChatToolCallDeltaEventDelta=i.serialization.object({message:u.ChatToolCallDeltaEventDeltaMessage.optional()}),_s}var _9;function uW(){if(_9)return ms;_9=1;var e=ms&&ms.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ms&&ms.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ms&&ms.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ms,"__esModule",{value:!0}),ms.ChatToolCallDeltaEvent=void 0;const i=o(ie()),u=Un(),t=sW();return ms.ChatToolCallDeltaEvent=i.serialization.object({index:i.serialization.number().optional(),delta:t.ChatToolCallDeltaEventDelta.optional()}).extend(u.ChatStreamEventType),ms}var ws={},y9;function lW(){if(y9)return ws;y9=1;var e=ws&&ws.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ws&&ws.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ws&&ws.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(ws,"__esModule",{value:!0}),ws.ChatToolCallEndEvent=void 0;const i=o(ie()),u=Un();return ws.ChatToolCallEndEvent=i.serialization.object({index:i.serialization.number().optional()}).extend(u.ChatStreamEventType),ws}var Os={},Ss={},Es={},v9;function cW(){if(v9)return Es;v9=1;var e=Es&&Es.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Es&&Es.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Es&&Es.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Es,"__esModule",{value:!0}),Es.ChatToolCallStartEventDeltaMessage=void 0;const i=o(ie()),u=c0();return Es.ChatToolCallStartEventDeltaMessage=i.serialization.object({toolCalls:i.serialization.property("tool_calls",u.ToolCallV2.optional())}),Es}var b9;function dW(){if(b9)return Ss;b9=1;var e=Ss&&Ss.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ss&&Ss.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ss&&Ss.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.ChatToolCallStartEventDelta=void 0;const i=o(ie()),u=cW();return Ss.ChatToolCallStartEventDelta=i.serialization.object({message:u.ChatToolCallStartEventDeltaMessage.optional()}),Ss}var w9;function fW(){if(w9)return Os;w9=1;var e=Os&&Os.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Os&&Os.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Os&&Os.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Os,"__esModule",{value:!0}),Os.ChatToolCallStartEvent=void 0;const i=o(ie()),u=Un(),t=dW();return Os.ChatToolCallStartEvent=i.serialization.object({index:i.serialization.number().optional(),delta:t.ChatToolCallStartEventDelta.optional()}).extend(u.ChatStreamEventType),Os}var Rs={},js={},Cs={},O9;function hW(){if(O9)return Cs;O9=1;var e=Cs&&Cs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Cs&&Cs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Cs&&Cs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.ChatToolPlanDeltaEventDeltaMessage=void 0;const i=o(ie());return Cs.ChatToolPlanDeltaEventDeltaMessage=i.serialization.object({toolPlan:i.serialization.property("tool_plan",i.serialization.string().optional())}),Cs}var S9;function pW(){if(S9)return js;S9=1;var e=js&&js.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=js&&js.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=js&&js.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(js,"__esModule",{value:!0}),js.ChatToolPlanDeltaEventDelta=void 0;const i=o(ie()),u=hW();return js.ChatToolPlanDeltaEventDelta=i.serialization.object({message:u.ChatToolPlanDeltaEventDeltaMessage.optional()}),js}var E9;function gW(){if(E9)return Rs;E9=1;var e=Rs&&Rs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Rs&&Rs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Rs&&Rs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.ChatToolPlanDeltaEvent=void 0;const i=o(ie()),u=Un(),t=pW();return Rs.ChatToolPlanDeltaEvent=i.serialization.object({delta:t.ChatToolPlanDeltaEventDelta.optional()}).extend(u.ChatStreamEventType),Rs}var Ts={},R9;function mW(){if(R9)return Ts;R9=1;var e=Ts&&Ts.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ts&&Ts.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ts&&Ts.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.CitationEndEvent=void 0;const i=o(ie()),u=Un();return Ts.CitationEndEvent=i.serialization.object({index:i.serialization.number().optional()}).extend(u.ChatStreamEventType),Ts}var Ms={},xs={},Ps={},j9;function _W(){if(j9)return Ps;j9=1;var e=Ps&&Ps.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ps&&Ps.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ps&&Ps.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.CitationStartEventDeltaMessage=void 0;const i=o(ie()),u=l0();return Ps.CitationStartEventDeltaMessage=i.serialization.object({citations:u.Citation.optional()}),Ps}var C9;function yW(){if(C9)return xs;C9=1;var e=xs&&xs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=xs&&xs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=xs&&xs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(xs,"__esModule",{value:!0}),xs.CitationStartEventDelta=void 0;const i=o(ie()),u=_W();return xs.CitationStartEventDelta=i.serialization.object({message:u.CitationStartEventDeltaMessage.optional()}),xs}var T9;function vW(){if(T9)return Ms;T9=1;var e=Ms&&Ms.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Ms&&Ms.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ms&&Ms.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.CitationStartEvent=void 0;const i=o(ie()),u=Un(),t=yW();return Ms.CitationStartEvent=i.serialization.object({index:i.serialization.number().optional(),delta:t.CitationStartEventDelta.optional()}).extend(u.ChatStreamEventType),Ms}var M9;function Sye(){if(M9)return Zo;M9=1;var e=Zo&&Zo.__createBinding||(Object.create?(function(v,S,R,j){j===void 0&&(j=R);var A=Object.getOwnPropertyDescriptor(S,R);(!A||("get"in A?!S.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return S[R]}}),Object.defineProperty(v,j,A)}):(function(v,S,R,j){j===void 0&&(j=R),v[j]=S[R]})),n=Zo&&Zo.__setModuleDefault||(Object.create?(function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}):function(v,S){v.default=S}),o=Zo&&Zo.__importStar||(function(){var v=function(S){return v=Object.getOwnPropertyNames||function(R){var j=[];for(var A in R)Object.prototype.hasOwnProperty.call(R,A)&&(j[j.length]=A);return j},v(S)};return function(S){if(S&&S.__esModule)return S;var R={};if(S!=null)for(var j=v(S),A=0;A<j.length;A++)j[A]!=="default"&&e(R,S,j[A]);return n(R,S),R}})();Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.V2ChatStreamResponse=void 0;const i=o(ie()),u=KY(),t=kY(),r=QY(),a=fx(),s=eW(),l=nW(),f=uW(),m=lW(),b=fW(),_=gW(),p=mW(),y=vW();return Zo.V2ChatStreamResponse=i.serialization.union("type",{"message-start":l.ChatMessageStartEvent,"content-start":r.ChatContentStartEvent,"content-delta":u.ChatContentDeltaEvent,"content-end":t.ChatContentEndEvent,"tool-plan-delta":_.ChatToolPlanDeltaEvent,"tool-call-start":b.ChatToolCallStartEvent,"tool-call-delta":f.ChatToolCallDeltaEvent,"tool-call-end":m.ChatToolCallEndEvent,"citation-start":y.CitationStartEvent,"citation-end":p.CitationEndEvent,"message-end":s.ChatMessageEndEvent,debug:a.ChatDebugEvent}).transform({transform:v=>v,untransform:v=>v}),Zo}var As={},Ns={},Ds={},x9;function bW(){if(x9)return Ds;x9=1;var e=Ds&&Ds.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ds&&Ds.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ds&&Ds.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.ApiMetaApiVersion=void 0;const i=o(ie());return Ds.ApiMetaApiVersion=i.serialization.object({version:i.serialization.string(),isDeprecated:i.serialization.property("is_deprecated",i.serialization.boolean().optional()),isExperimental:i.serialization.property("is_experimental",i.serialization.boolean().optional())}),Ds}var Is={},P9;function wW(){if(P9)return Is;P9=1;var e=Is&&Is.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Is&&Is.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Is&&Is.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Is,"__esModule",{value:!0}),Is.ApiMetaBilledUnits=void 0;const i=o(ie());return Is.ApiMetaBilledUnits=i.serialization.object({images:i.serialization.number().optional(),inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional()),searchUnits:i.serialization.property("search_units",i.serialization.number().optional()),classifications:i.serialization.number().optional()}),Is}var zs={},A9;function OW(){if(A9)return zs;A9=1;var e=zs&&zs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=zs&&zs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=zs&&zs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(zs,"__esModule",{value:!0}),zs.ApiMetaTokens=void 0;const i=o(ie());return zs.ApiMetaTokens=i.serialization.object({inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional())}),zs}var N9;function Sn(){if(N9)return Ns;N9=1;var e=Ns&&Ns.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Ns&&Ns.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ns&&Ns.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.ApiMeta=void 0;const i=o(ie()),u=bW(),t=wW(),r=OW();return Ns.ApiMeta=i.serialization.object({apiVersion:i.serialization.property("api_version",u.ApiMetaApiVersion.optional()),billedUnits:i.serialization.property("billed_units",t.ApiMetaBilledUnits.optional()),tokens:r.ApiMetaTokens.optional(),cachedTokens:i.serialization.property("cached_tokens",i.serialization.number().optional()),warnings:i.serialization.list(i.serialization.string()).optional()}),Ns}var qs={},D9;function SW(){if(D9)return qs;D9=1;var e=qs&&qs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=qs&&qs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=qs&&qs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(qs,"__esModule",{value:!0}),qs.V2RerankResponseResultsItem=void 0;const i=o(ie());return qs.V2RerankResponseResultsItem=i.serialization.object({index:i.serialization.number(),relevanceScore:i.serialization.property("relevance_score",i.serialization.number())}),qs}var I9;function Eye(){if(I9)return As;I9=1;var e=As&&As.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=As&&As.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=As&&As.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(As,"__esModule",{value:!0}),As.V2RerankResponse=void 0;const i=o(ie()),u=Sn(),t=SW();return As.V2RerankResponse=i.serialization.object({id:i.serialization.string().optional(),results:i.serialization.list(t.V2RerankResponseResultsItem),meta:u.ApiMeta.optional()}),As}var z9;function EW(){return z9||(z9=1,(function(e){var n=Tf&&Tf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Tf&&Tf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(jY(),e),o(CY(),e),o(TY(),e),o(Oye(),e),o(MY(),e),o(xY(),e),o(PY(),e),o(Sye(),e),o(qY(),e),o(Eye(),e),o(SW(),e)})(Tf)),Tf}var q9;function Rye(){return q9||(q9=1,(function(e){var n=jf&&jf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=jf&&jf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(wye(),e),o(EW(),e)})(jf)),jf}var B9;function jye(){return B9||(B9=1,(function(e){var n=Xa&&Xa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=Xa&&Xa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=Xa&&Xa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&n(a,r,s[l]);return o(a,r),a}})(),u=Xa&&Xa.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.v2=e.finetuning=e.embedJobs=e.datasets=e.connectors=e.batches=void 0,e.batches=i(G_e()),u(Nk(),e),e.connectors=i(Y_e()),u(Ik(),e),e.datasets=i(tye()),u(Lk(),e),e.embedJobs=i(aye()),u($k(),e),u(Fk(),e),e.finetuning=i(mye()),u(Wk(),e),e.v2=i(Rye()),u(BY(),e),u(EW(),e)})(Xa)),Xa}var Mf={},Bs={},Ls={},L9;function RW(){if(L9)return Ls;L9=1;var e=Ls&&Ls.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ls&&Ls.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ls&&Ls.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.ChatCitationType=void 0;const i=o(ie());return Ls.ChatCitationType=i.serialization.enum_(["TEXT_CONTENT","PLAN"]),Ls}var U9;function hx(){if(U9)return Bs;U9=1;var e=Bs&&Bs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Bs&&Bs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Bs&&Bs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.ChatCitation=void 0;const i=o(ie()),u=RW();return Bs.ChatCitation=i.serialization.object({start:i.serialization.number(),end:i.serialization.number(),text:i.serialization.string(),documentIds:i.serialization.property("document_ids",i.serialization.list(i.serialization.string())),type:u.ChatCitationType.optional()}),Bs}var Us={},$9;function jW(){if($9)return Us;$9=1;var e=Us&&Us.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Us&&Us.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Us&&Us.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Us,"__esModule",{value:!0}),Us.ChatCitationGenerationEvent=void 0;const i=o(ie()),u=hx(),t=El();return Us.ChatCitationGenerationEvent=i.serialization.object({citations:i.serialization.list(u.ChatCitation)}).extend(t.ChatStreamEvent),Us}var $s={},F9;function Cye(){if(F9)return $s;F9=1;var e=$s&&$s.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=$s&&$s.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=$s&&$s.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($s,"__esModule",{value:!0}),$s.ChatDataMetrics=void 0;const i=o(ie());return $s.ChatDataMetrics=i.serialization.object({numTrainTurns:i.serialization.property("num_train_turns",i.serialization.number().optional()),numEvalTurns:i.serialization.property("num_eval_turns",i.serialization.number().optional()),preamble:i.serialization.string().optional()}),$s}var Fs={},Vs={},V9;function f0(){if(V9)return Vs;V9=1;var e=Vs&&Vs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Vs&&Vs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Vs&&Vs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.ChatSearchQuery=void 0;const i=o(ie());return Vs.ChatSearchQuery=i.serialization.object({text:i.serialization.string(),generationId:i.serialization.property("generation_id",i.serialization.string())}),Vs}var G9;function CW(){if(G9)return Fs;G9=1;var e=Fs&&Fs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Fs&&Fs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Fs&&Fs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.ChatSearchQueriesGenerationEvent=void 0;const i=o(ie()),u=f0(),t=El();return Fs.ChatSearchQueriesGenerationEvent=i.serialization.object({searchQueries:i.serialization.property("search_queries",i.serialization.list(u.ChatSearchQuery))}).extend(t.ChatStreamEvent),Fs}var Gs={},Hs={},H9;function TW(){if(H9)return Hs;H9=1;var e=Hs&&Hs.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Hs&&Hs.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Hs&&Hs.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.ChatSearchResultConnector=void 0;const i=o(ie());return Hs.ChatSearchResultConnector=i.serialization.object({id:i.serialization.string()}),Hs}var K9;function px(){if(K9)return Gs;K9=1;var e=Gs&&Gs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Gs&&Gs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Gs&&Gs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.ChatSearchResult=void 0;const i=o(ie()),u=f0(),t=TW();return Gs.ChatSearchResult=i.serialization.object({searchQuery:i.serialization.property("search_query",u.ChatSearchQuery.optional()),connector:t.ChatSearchResultConnector,documentIds:i.serialization.property("document_ids",i.serialization.list(i.serialization.string())),errorMessage:i.serialization.property("error_message",i.serialization.string().optional()),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional())}),Gs}var Ks={},k9;function MW(){if(k9)return Ks;k9=1;var e=Ks&&Ks.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Ks&&Ks.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ks&&Ks.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.ChatSearchResultsEvent=void 0;const i=o(ie()),u=w_(),t=px(),r=El();return Ks.ChatSearchResultsEvent=i.serialization.object({searchResults:i.serialization.property("search_results",i.serialization.list(t.ChatSearchResult).optional()),documents:i.serialization.list(u.ChatDocument).optional()}).extend(r.ChatStreamEvent),Ks}var ks={},Ys={},Y9;function xW(){if(Y9)return Ys;Y9=1;var e=Ys&&Ys.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ys&&Ys.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ys&&Ys.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.ChatStreamEndEventFinishReason=void 0;const i=o(ie());return Ys.ChatStreamEndEventFinishReason=i.serialization.enum_(["COMPLETE","ERROR_LIMIT","MAX_TOKENS","ERROR","ERROR_TOXIC"]),Ys}var Ws={},Js={},W9;function E_(){if(W9)return Js;W9=1;var e=Js&&Js.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Js&&Js.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Js&&Js.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Js,"__esModule",{value:!0}),Js.FinishReason=void 0;const i=o(ie());return Js.FinishReason=i.serialization.enum_(["COMPLETE","STOP_SEQUENCE","ERROR","ERROR_TOXIC","ERROR_LIMIT","USER_CANCEL","MAX_TOKENS","TIMEOUT"]),Js}var J9;function PW(){if(J9)return Ws;J9=1;var e=Ws&&Ws.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),n=Ws&&Ws.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),o=Ws&&Ws.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&e(p,_,y[v]);return n(p,_),p}})();Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.NonStreamedChatResponse=void 0;const i=o(ie()),u=Sn(),t=hx(),r=w_(),a=f0(),s=px(),l=E_(),f=a0(),m=O_();return Ws.NonStreamedChatResponse=i.serialization.object({text:i.serialization.string(),generationId:i.serialization.property("generation_id",i.serialization.string().optional()),responseId:i.serialization.property("response_id",i.serialization.string().optional()),citations:i.serialization.list(t.ChatCitation).optional(),documents:i.serialization.list(r.ChatDocument).optional(),isSearchRequired:i.serialization.property("is_search_required",i.serialization.boolean().optional()),searchQueries:i.serialization.property("search_queries",i.serialization.list(a.ChatSearchQuery).optional()),searchResults:i.serialization.property("search_results",i.serialization.list(s.ChatSearchResult).optional()),finishReason:i.serialization.property("finish_reason",l.FinishReason.optional()),toolCalls:i.serialization.property("tool_calls",i.serialization.list(m.ToolCall).optional()),chatHistory:i.serialization.property("chat_history",i.serialization.list(f.Message).optional()),meta:u.ApiMeta.optional()}),Ws}var Z9;function AW(){if(Z9)return ks;Z9=1;var e=ks&&ks.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=ks&&ks.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=ks&&ks.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(ks,"__esModule",{value:!0}),ks.ChatStreamEndEvent=void 0;const i=o(ie()),u=xW(),t=El(),r=PW();return ks.ChatStreamEndEvent=i.serialization.object({finishReason:i.serialization.property("finish_reason",u.ChatStreamEndEventFinishReason),response:r.NonStreamedChatResponse}).extend(t.ChatStreamEvent),ks}var Zs={},Q9;function NW(){if(Q9)return Zs;Q9=1;var e=Zs&&Zs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Zs&&Zs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Zs&&Zs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.ChatStreamStartEvent=void 0;const i=o(ie()),u=El();return Zs.ChatStreamStartEvent=i.serialization.object({generationId:i.serialization.property("generation_id",i.serialization.string())}).extend(u.ChatStreamEvent),Zs}var Qs={},X9;function DW(){if(X9)return Qs;X9=1;var e=Qs&&Qs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Qs&&Qs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Qs&&Qs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.ChatTextGenerationEvent=void 0;const i=o(ie()),u=El();return Qs.ChatTextGenerationEvent=i.serialization.object({text:i.serialization.string()}).extend(u.ChatStreamEvent),Qs}var Xs={},eu={},e8;function IW(){if(e8)return eu;e8=1;var e=eu&&eu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=eu&&eu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=eu&&eu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(eu,"__esModule",{value:!0}),eu.ToolCallDelta=void 0;const i=o(ie());return eu.ToolCallDelta=i.serialization.object({name:i.serialization.string().optional(),index:i.serialization.number().optional(),parameters:i.serialization.string().optional(),text:i.serialization.string().optional()}),eu}var t8;function zW(){if(t8)return Xs;t8=1;var e=Xs&&Xs.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Xs&&Xs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Xs&&Xs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.ChatToolCallsChunkEvent=void 0;const i=o(ie()),u=El(),t=IW();return Xs.ChatToolCallsChunkEvent=i.serialization.object({toolCallDelta:i.serialization.property("tool_call_delta",t.ToolCallDelta),text:i.serialization.string().optional()}).extend(u.ChatStreamEvent),Xs}var tu={},r8;function qW(){if(r8)return tu;r8=1;var e=tu&&tu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=tu&&tu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=tu&&tu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(tu,"__esModule",{value:!0}),tu.ChatToolCallsGenerationEvent=void 0;const i=o(ie()),u=El(),t=O_();return tu.ChatToolCallsGenerationEvent=i.serialization.object({text:i.serialization.string().optional(),toolCalls:i.serialization.property("tool_calls",i.serialization.list(t.ToolCall))}).extend(u.ChatStreamEvent),tu}var ru={},n8;function Tye(){if(n8)return ru;n8=1;var e=ru&&ru.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ru&&ru.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ru&&ru.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ru,"__esModule",{value:!0}),ru.CheckApiKeyResponse=void 0;const i=o(ie());return ru.CheckApiKeyResponse=i.serialization.object({valid:i.serialization.boolean(),organizationId:i.serialization.property("organization_id",i.serialization.string().optional()),ownerId:i.serialization.property("owner_id",i.serialization.string().optional())}),ru}var nu={},au={},a8;function BW(){if(a8)return au;a8=1;var e=au&&au.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=au&&au.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=au&&au.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(au,"__esModule",{value:!0}),au.LabelMetric=void 0;const i=o(ie());return au.LabelMetric=i.serialization.object({totalExamples:i.serialization.property("total_examples",i.serialization.number().optional()),label:i.serialization.string().optional(),samples:i.serialization.list(i.serialization.string()).optional()}),au}var i8;function Mye(){if(i8)return nu;i8=1;var e=nu&&nu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=nu&&nu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=nu&&nu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(nu,"__esModule",{value:!0}),nu.ClassifyDataMetrics=void 0;const i=o(ie()),u=BW();return nu.ClassifyDataMetrics=i.serialization.object({labelMetrics:i.serialization.property("label_metrics",i.serialization.list(u.LabelMetric).optional())}),nu}var iu={},ou={},su={},o8;function LW(){if(o8)return su;o8=1;var e=su&&su.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=su&&su.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=su&&su.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(su,"__esModule",{value:!0}),su.ClassifyResponseClassificationsItemClassificationType=void 0;const i=o(ie());return su.ClassifyResponseClassificationsItemClassificationType=i.serialization.enum_(["single-label","multi-label"]),su}var uu={},s8;function UW(){if(s8)return uu;s8=1;var e=uu&&uu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=uu&&uu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=uu&&uu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(uu,"__esModule",{value:!0}),uu.ClassifyResponseClassificationsItemLabelsValue=void 0;const i=o(ie());return uu.ClassifyResponseClassificationsItemLabelsValue=i.serialization.object({confidence:i.serialization.number().optional()}),uu}var u8;function $W(){if(u8)return ou;u8=1;var e=ou&&ou.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=ou&&ou.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ou&&ou.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(ou,"__esModule",{value:!0}),ou.ClassifyResponseClassificationsItem=void 0;const i=o(ie()),u=LW(),t=UW();return ou.ClassifyResponseClassificationsItem=i.serialization.object({id:i.serialization.string(),input:i.serialization.string().optional(),prediction:i.serialization.string().optional(),predictions:i.serialization.list(i.serialization.string()),confidence:i.serialization.number().optional(),confidences:i.serialization.list(i.serialization.number()),labels:i.serialization.record(i.serialization.string(),t.ClassifyResponseClassificationsItemLabelsValue),classificationType:i.serialization.property("classification_type",u.ClassifyResponseClassificationsItemClassificationType)}),ou}var l8;function xye(){if(l8)return iu;l8=1;var e=iu&&iu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=iu&&iu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=iu&&iu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(iu,"__esModule",{value:!0}),iu.ClassifyResponse=void 0;const i=o(ie()),u=Sn(),t=$W();return iu.ClassifyResponse=i.serialization.object({id:i.serialization.string(),classifications:i.serialization.list(t.ClassifyResponseClassificationsItem),meta:u.ApiMeta.optional()}),iu}var lu={},c8;function FW(){if(c8)return lu;c8=1;var e=lu&&lu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=lu&&lu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=lu&&lu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(lu,"__esModule",{value:!0}),lu.CompatibleEndpoint=void 0;const i=o(ie());return lu.CompatibleEndpoint=i.serialization.enum_(["chat","embed","classify","summarize","rerank","rate","generate"]),lu}var cu={},du={},d8;function VW(){if(d8)return du;d8=1;var e=du&&du.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=du&&du.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=du&&du.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(du,"__esModule",{value:!0}),du.ConnectorAuthStatus=void 0;const i=o(ie());return du.ConnectorAuthStatus=i.serialization.enum_(["valid","expired"]),du}var fu={},f8;function GW(){if(f8)return fu;f8=1;var e=fu&&fu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=fu&&fu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=fu&&fu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fu,"__esModule",{value:!0}),fu.ConnectorOAuth=void 0;const i=o(ie());return fu.ConnectorOAuth=i.serialization.object({clientId:i.serialization.property("client_id",i.serialization.string().optional()),clientSecret:i.serialization.property("client_secret",i.serialization.string().optional()),authorizeUrl:i.serialization.property("authorize_url",i.serialization.string()),tokenUrl:i.serialization.property("token_url",i.serialization.string()),scope:i.serialization.string().optional()}),fu}var h8;function R_(){if(h8)return cu;h8=1;var e=cu&&cu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=cu&&cu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=cu&&cu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(cu,"__esModule",{value:!0}),cu.Connector=void 0;const i=o(ie()),u=VW(),t=GW();return cu.Connector=i.serialization.object({id:i.serialization.string(),organizationId:i.serialization.property("organization_id",i.serialization.string().optional()),name:i.serialization.string(),description:i.serialization.string().optional(),url:i.serialization.string().optional(),createdAt:i.serialization.property("created_at",i.serialization.date()),updatedAt:i.serialization.property("updated_at",i.serialization.date()),excludes:i.serialization.list(i.serialization.string()).optional(),authType:i.serialization.property("auth_type",i.serialization.string().optional()),oauth:t.ConnectorOAuth.optional(),authStatus:i.serialization.property("auth_status",u.ConnectorAuthStatus.optional()),active:i.serialization.boolean().optional(),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional())}),cu}var hu={},p8;function Pye(){if(p8)return hu;p8=1;var e=hu&&hu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=hu&&hu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=hu&&hu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(hu,"__esModule",{value:!0}),hu.CreateConnectorResponse=void 0;const i=o(ie()),u=R_();return hu.CreateConnectorResponse=i.serialization.object({connector:u.Connector}),hu}var pu={},g8;function Aye(){if(g8)return pu;g8=1;var e=pu&&pu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=pu&&pu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=pu&&pu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(pu,"__esModule",{value:!0}),pu.CreateEmbedJobResponse=void 0;const i=o(ie()),u=Sn();return pu.CreateEmbedJobResponse=i.serialization.object({jobId:i.serialization.property("job_id",i.serialization.string()),meta:u.ApiMeta.optional()}),pu}var gu={},m8;function Nye(){if(m8)return gu;m8=1;var e=gu&&gu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=gu&&gu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=gu&&gu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(gu,"__esModule",{value:!0}),gu.DeleteConnectorResponse=void 0;const i=o(ie());return gu.DeleteConnectorResponse=i.serialization.record(i.serialization.string(),i.serialization.unknown()),gu}var mu={},_8;function Dye(){if(_8)return mu;_8=1;var e=mu&&mu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=mu&&mu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=mu&&mu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(mu,"__esModule",{value:!0}),mu.DetokenizeResponse=void 0;const i=o(ie()),u=Sn();return mu.DetokenizeResponse=i.serialization.object({text:i.serialization.string(),meta:u.ApiMeta.optional()}),mu}var _u={},yu={},y8;function HW(){if(y8)return yu;y8=1;var e=yu&&yu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=yu&&yu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=yu&&yu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(yu,"__esModule",{value:!0}),yu.EmbedByTypeResponseEmbeddings=void 0;const i=o(ie());return yu.EmbedByTypeResponseEmbeddings=i.serialization.object({float:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),int8:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),uint8:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),binary:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),ubinary:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),base64:i.serialization.list(i.serialization.string()).optional()}),yu}var vu={},v8;function gx(){if(v8)return vu;v8=1;var e=vu&&vu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=vu&&vu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=vu&&vu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(vu,"__esModule",{value:!0}),vu.Image=void 0;const i=o(ie());return vu.Image=i.serialization.object({width:i.serialization.number(),height:i.serialization.number(),format:i.serialization.string(),bitDepth:i.serialization.property("bit_depth",i.serialization.number())}),vu}var b8;function KW(){if(b8)return _u;b8=1;var e=_u&&_u.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=_u&&_u.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=_u&&_u.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(_u,"__esModule",{value:!0}),_u.EmbedByTypeResponse=void 0;const i=o(ie()),u=Sn(),t=HW(),r=gx();return _u.EmbedByTypeResponse=i.serialization.object({id:i.serialization.string(),embeddings:t.EmbedByTypeResponseEmbeddings,texts:i.serialization.list(i.serialization.string()).optional(),images:i.serialization.list(r.Image).optional(),meta:u.ApiMeta.optional()}),_u}var bu={},w8;function kW(){if(w8)return bu;w8=1;var e=bu&&bu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=bu&&bu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=bu&&bu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(bu,"__esModule",{value:!0}),bu.EmbedFloatsResponse=void 0;const i=o(ie()),u=Sn(),t=gx();return bu.EmbedFloatsResponse=i.serialization.object({id:i.serialization.string(),embeddings:i.serialization.list(i.serialization.list(i.serialization.number())),texts:i.serialization.list(i.serialization.string()),images:i.serialization.list(t.Image).optional(),meta:u.ApiMeta.optional()}),bu}var wu={},Ou={},O8;function YW(){if(O8)return Ou;O8=1;var e=Ou&&Ou.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ou&&Ou.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ou&&Ou.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.EmbedJobStatus=void 0;const i=o(ie());return Ou.EmbedJobStatus=i.serialization.enum_(["processing","complete","cancelling","cancelled","failed"]),Ou}var Su={},S8;function WW(){if(S8)return Su;S8=1;var e=Su&&Su.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Su&&Su.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Su&&Su.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Su,"__esModule",{value:!0}),Su.EmbedJobTruncate=void 0;const i=o(ie());return Su.EmbedJobTruncate=i.serialization.enum_(["START","END"]),Su}var E8;function JW(){if(E8)return wu;E8=1;var e=wu&&wu.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=wu&&wu.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=wu&&wu.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(wu,"__esModule",{value:!0}),wu.EmbedJob=void 0;const i=o(ie()),u=Sn(),t=YW(),r=WW();return wu.EmbedJob=i.serialization.object({jobId:i.serialization.property("job_id",i.serialization.string()),name:i.serialization.string().optional(),status:t.EmbedJobStatus,createdAt:i.serialization.property("created_at",i.serialization.date()),inputDatasetId:i.serialization.property("input_dataset_id",i.serialization.string()),outputDatasetId:i.serialization.property("output_dataset_id",i.serialization.string().optional()),model:i.serialization.string(),truncate:r.EmbedJobTruncate,meta:u.ApiMeta.optional()}),wu}var Eu={},R8;function Iye(){if(R8)return Eu;R8=1;var e=Eu&&Eu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Eu&&Eu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Eu&&Eu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.EmbedResponse=void 0;const i=o(ie()),u=KW(),t=kW();return Eu.EmbedResponse=i.serialization.union(i.serialization.discriminant("responseType","response_type"),{embeddings_floats:t.EmbedFloatsResponse,embeddings_by_type:u.EmbedByTypeResponse}).transform({transform:r=>r,untransform:r=>r}),Eu}var Ru={},j8;function ZW(){if(j8)return Ru;j8=1;var e=Ru&&Ru.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Ru&&Ru.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Ru&&Ru.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.FinetuneDatasetMetrics=void 0;const i=o(ie());return Ru.FinetuneDatasetMetrics=i.serialization.object({trainableTokenCount:i.serialization.property("trainable_token_count",i.serialization.number().optional()),totalExamples:i.serialization.property("total_examples",i.serialization.number().optional()),trainExamples:i.serialization.property("train_examples",i.serialization.number().optional()),trainSizeBytes:i.serialization.property("train_size_bytes",i.serialization.number().optional()),evalExamples:i.serialization.property("eval_examples",i.serialization.number().optional()),evalSizeBytes:i.serialization.property("eval_size_bytes",i.serialization.number().optional())}),Ru}var ju={},Cu={},Tu={},C8;function QW(){if(C8)return Tu;C8=1;var e=Tu&&Tu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Tu&&Tu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Tu&&Tu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.SingleGenerationInStream=void 0;const i=o(ie()),u=E_();return Tu.SingleGenerationInStream=i.serialization.object({id:i.serialization.string(),text:i.serialization.string(),index:i.serialization.number().optional(),finishReason:i.serialization.property("finish_reason",u.FinishReason)}),Tu}var T8;function XW(){if(T8)return Cu;T8=1;var e=Cu&&Cu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Cu&&Cu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Cu&&Cu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.GenerateStreamEndResponse=void 0;const i=o(ie()),u=QW();return Cu.GenerateStreamEndResponse=i.serialization.object({id:i.serialization.string(),prompt:i.serialization.string().optional(),generations:i.serialization.list(u.SingleGenerationInStream).optional()}),Cu}var Mu={},M8;function h0(){if(M8)return Mu;M8=1;var e=Mu&&Mu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Mu&&Mu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Mu&&Mu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.GenerateStreamEvent=void 0;const i=o(ie());return Mu.GenerateStreamEvent=i.serialization.object({}),Mu}var x8;function eJ(){if(x8)return ju;x8=1;var e=ju&&ju.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=ju&&ju.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=ju&&ju.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(ju,"__esModule",{value:!0}),ju.GenerateStreamEnd=void 0;const i=o(ie()),u=E_(),t=XW(),r=h0();return ju.GenerateStreamEnd=i.serialization.object({isFinished:i.serialization.property("is_finished",i.serialization.boolean()),finishReason:i.serialization.property("finish_reason",u.FinishReason.optional()),response:t.GenerateStreamEndResponse}).extend(r.GenerateStreamEvent),ju}var xu={},P8;function tJ(){if(P8)return xu;P8=1;var e=xu&&xu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=xu&&xu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=xu&&xu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(xu,"__esModule",{value:!0}),xu.GenerateStreamError=void 0;const i=o(ie()),u=E_(),t=h0();return xu.GenerateStreamError=i.serialization.object({index:i.serialization.number().optional(),isFinished:i.serialization.property("is_finished",i.serialization.boolean()),finishReason:i.serialization.property("finish_reason",u.FinishReason),err:i.serialization.string()}).extend(t.GenerateStreamEvent),xu}var Pu={},Au={},A8;function rJ(){if(A8)return Au;A8=1;var e=Au&&Au.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Au&&Au.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Au&&Au.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Au,"__esModule",{value:!0}),Au.GenerateStreamText=void 0;const i=o(ie()),u=h0();return Au.GenerateStreamText=i.serialization.object({text:i.serialization.string(),index:i.serialization.number().optional(),isFinished:i.serialization.property("is_finished",i.serialization.boolean())}).extend(u.GenerateStreamEvent),Au}var N8;function zye(){if(N8)return Pu;N8=1;var e=Pu&&Pu.__createBinding||(Object.create?(function(a,s,l,f){f===void 0&&(f=l);var m=Object.getOwnPropertyDescriptor(s,l);(!m||("get"in m?!s.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(a,f,m)}):(function(a,s,l,f){f===void 0&&(f=l),a[f]=s[l]})),n=Pu&&Pu.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Pu&&Pu.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(l){var f=[];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(f[f.length]=m);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var f=a(s),m=0;m<f.length;m++)f[m]!=="default"&&e(l,s,f[m]);return n(l,s),l}})();Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.GenerateStreamedResponse=void 0;const i=o(ie()),u=eJ(),t=tJ(),r=rJ();return Pu.GenerateStreamedResponse=i.serialization.union(i.serialization.discriminant("eventType","event_type"),{"text-generation":r.GenerateStreamText,"stream-end":u.GenerateStreamEnd,"stream-error":t.GenerateStreamError}).transform({transform:a=>a,untransform:a=>a}),Pu}var Nu={},Du={},Iu={},D8;function nJ(){if(D8)return Iu;D8=1;var e=Iu&&Iu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Iu&&Iu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Iu&&Iu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.SingleGenerationTokenLikelihoodsItem=void 0;const i=o(ie());return Iu.SingleGenerationTokenLikelihoodsItem=i.serialization.object({token:i.serialization.string(),likelihood:i.serialization.number()}),Iu}var I8;function aJ(){if(I8)return Du;I8=1;var e=Du&&Du.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Du&&Du.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Du&&Du.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Du,"__esModule",{value:!0}),Du.SingleGeneration=void 0;const i=o(ie()),u=nJ();return Du.SingleGeneration=i.serialization.object({id:i.serialization.string(),text:i.serialization.string(),index:i.serialization.number().optional(),likelihood:i.serialization.number().optional(),tokenLikelihoods:i.serialization.property("token_likelihoods",i.serialization.list(u.SingleGenerationTokenLikelihoodsItem).optional())}),Du}var z8;function qye(){if(z8)return Nu;z8=1;var e=Nu&&Nu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Nu&&Nu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Nu&&Nu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.Generation=void 0;const i=o(ie()),u=Sn(),t=aJ();return Nu.Generation=i.serialization.object({id:i.serialization.string(),prompt:i.serialization.string().optional(),generations:i.serialization.list(t.SingleGeneration),meta:u.ApiMeta.optional()}),Nu}var zu={},q8;function Bye(){if(q8)return zu;q8=1;var e=zu&&zu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=zu&&zu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=zu&&zu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(zu,"__esModule",{value:!0}),zu.GetConnectorResponse=void 0;const i=o(ie()),u=R_();return zu.GetConnectorResponse=i.serialization.object({connector:u.Connector}),zu}var qu={},B8;function iJ(){if(B8)return qu;B8=1;var e=qu&&qu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=qu&&qu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=qu&&qu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(qu,"__esModule",{value:!0}),qu.GetModelResponse=void 0;const i=o(ie()),u=FW();return qu.GetModelResponse=i.serialization.object({name:i.serialization.string().optional(),isDeprecated:i.serialization.property("is_deprecated",i.serialization.boolean().optional()),endpoints:i.serialization.list(u.CompatibleEndpoint).optional(),finetuned:i.serialization.boolean().optional(),contextLength:i.serialization.property("context_length",i.serialization.number().optional()),tokenizerUrl:i.serialization.property("tokenizer_url",i.serialization.string().optional()),defaultEndpoints:i.serialization.property("default_endpoints",i.serialization.list(u.CompatibleEndpoint).optional()),features:i.serialization.list(i.serialization.string()).optional()}),qu}var Bu={},L8;function Lye(){if(L8)return Bu;L8=1;var e=Bu&&Bu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Bu&&Bu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Bu&&Bu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.ListConnectorsResponse=void 0;const i=o(ie()),u=R_();return Bu.ListConnectorsResponse=i.serialization.object({connectors:i.serialization.list(u.Connector),totalCount:i.serialization.property("total_count",i.serialization.number().optional())}),Bu}var Lu={},U8;function Uye(){if(U8)return Lu;U8=1;var e=Lu&&Lu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Lu&&Lu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Lu&&Lu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.ListEmbedJobResponse=void 0;const i=o(ie()),u=JW();return Lu.ListEmbedJobResponse=i.serialization.object({embedJobs:i.serialization.property("embed_jobs",i.serialization.list(u.EmbedJob).optional())}),Lu}var Uu={},$8;function $ye(){if($8)return Uu;$8=1;var e=Uu&&Uu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Uu&&Uu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Uu&&Uu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.ListModelsResponse=void 0;const i=o(ie()),u=iJ();return Uu.ListModelsResponse=i.serialization.object({models:i.serialization.list(u.GetModelResponse),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional())}),Uu}var $u={},F8;function Fye(){if(F8)return $u;F8=1;var e=$u&&$u.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=$u&&$u.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=$u&&$u.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty($u,"__esModule",{value:!0}),$u.Metrics=void 0;const i=o(ie()),u=ZW();return $u.Metrics=i.serialization.object({finetuneDatasetMetrics:i.serialization.property("finetune_dataset_metrics",u.FinetuneDatasetMetrics.optional())}),$u}var Fu={},V8;function Vye(){if(V8)return Fu;V8=1;var e=Fu&&Fu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Fu&&Fu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Fu&&Fu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.OAuthAuthorizeResponse=void 0;const i=o(ie());return Fu.OAuthAuthorizeResponse=i.serialization.object({redirectUrl:i.serialization.property("redirect_url",i.serialization.string().optional())}),Fu}var Vu={},G8;function Gye(){if(G8)return Vu;G8=1;var e=Vu&&Vu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Vu&&Vu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Vu&&Vu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.ParseInfo=void 0;const i=o(ie());return Vu.ParseInfo=i.serialization.object({separator:i.serialization.string().optional(),delimiter:i.serialization.string().optional()}),Vu}var Gu={},H8;function Hye(){if(H8)return Gu;H8=1;var e=Gu&&Gu.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=Gu&&Gu.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=Gu&&Gu.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.RerankerDataMetrics=void 0;const i=o(ie());return Gu.RerankerDataMetrics=i.serialization.object({numTrainQueries:i.serialization.property("num_train_queries",i.serialization.number().optional()),numTrainRelevantPassages:i.serialization.property("num_train_relevant_passages",i.serialization.number().optional()),numTrainHardNegatives:i.serialization.property("num_train_hard_negatives",i.serialization.number().optional()),numEvalQueries:i.serialization.property("num_eval_queries",i.serialization.number().optional()),numEvalRelevantPassages:i.serialization.property("num_eval_relevant_passages",i.serialization.number().optional()),numEvalHardNegatives:i.serialization.property("num_eval_hard_negatives",i.serialization.number().optional())}),Gu}var Hu={},Ku={},ku={},K8;function oJ(){if(K8)return ku;K8=1;var e=ku&&ku.__createBinding||(Object.create?(function(u,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(u,a,s)}):(function(u,t,r,a){a===void 0&&(a=r),u[a]=t[r]})),n=ku&&ku.__setModuleDefault||(Object.create?(function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}):function(u,t){u.default=t}),o=ku&&ku.__importStar||(function(){var u=function(t){return u=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},u(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=u(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ku,"__esModule",{value:!0}),ku.RerankResponseResultsItemDocument=void 0;const i=o(ie());return ku.RerankResponseResultsItemDocument=i.serialization.object({text:i.serialization.string()}),ku}var k8;function sJ(){if(k8)return Ku;k8=1;var e=Ku&&Ku.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ku&&Ku.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ku&&Ku.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.RerankResponseResultsItem=void 0;const i=o(ie()),u=oJ();return Ku.RerankResponseResultsItem=i.serialization.object({document:u.RerankResponseResultsItemDocument.optional(),index:i.serialization.number(),relevanceScore:i.serialization.property("relevance_score",i.serialization.number())}),Ku}var Y8;function Kye(){if(Y8)return Hu;Y8=1;var e=Hu&&Hu.__createBinding||(Object.create?(function(r,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,l,f)}):(function(r,a,s,l){l===void 0&&(l=s),r[l]=a[s]})),n=Hu&&Hu.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Hu&&Hu.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var l=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[l.length]=f);return l},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var l=r(a),f=0;f<l.length;f++)l[f]!=="default"&&e(s,a,l[f]);return n(s,a),s}})();Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.RerankResponse=void 0;const i=o(ie()),u=Sn(),t=sJ();return Hu.RerankResponse=i.serialization.object({id:i.serialization.string().optional(),results:i.serialization.list(t.RerankResponseResultsItem),meta:u.ApiMeta.optional()}),Hu}var Yu={},W8;function kye(){if(W8)return Yu;W8=1;var e=Yu&&Yu.__createBinding||(Object.create?(function(_,p,y,v){v===void 0&&(v=y);var S=Object.getOwnPropertyDescriptor(p,y);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(_,v,S)}):(function(_,p,y,v){v===void 0&&(v=y),_[v]=p[y]})),n=Yu&&Yu.__setModuleDefault||(Object.create?(function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}):function(_,p){_.default=p}),o=Yu&&Yu.__importStar||(function(){var _=function(p){return _=Object.getOwnPropertyNames||function(y){var v=[];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[v.length]=S);return v},_(p)};return function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var v=_(p),S=0;S<v.length;S++)v[S]!=="default"&&e(y,p,v[S]);return n(y,p),y}})();Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.StreamedChatResponse=void 0;const i=o(ie()),u=jW(),t=fx(),r=CW(),a=MW(),s=AW(),l=NW(),f=DW(),m=zW(),b=qW();return Yu.StreamedChatResponse=i.serialization.union(i.serialization.discriminant("eventType","event_type"),{"stream-start":l.ChatStreamStartEvent,"search-queries-generation":r.ChatSearchQueriesGenerationEvent,"search-results":a.ChatSearchResultsEvent,"text-generation":f.ChatTextGenerationEvent,"citation-generation":u.ChatCitationGenerationEvent,"tool-calls-generation":b.ChatToolCallsGenerationEvent,"stream-end":s.ChatStreamEndEvent,"tool-calls-chunk":m.ChatToolCallsChunkEvent,debug:t.ChatDebugEvent}).transform({transform:_=>_,untransform:_=>_}),Yu}var Wu={},J8;function Yye(){if(J8)return Wu;J8=1;var e=Wu&&Wu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Wu&&Wu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Wu&&Wu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.SummarizeResponse=void 0;const i=o(ie()),u=Sn();return Wu.SummarizeResponse=i.serialization.object({id:i.serialization.string().optional(),summary:i.serialization.string().optional(),meta:u.ApiMeta.optional()}),Wu}var Ju={},Z8;function Wye(){if(Z8)return Ju;Z8=1;var e=Ju&&Ju.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ju&&Ju.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ju&&Ju.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.TokenizeResponse=void 0;const i=o(ie()),u=Sn();return Ju.TokenizeResponse=i.serialization.object({tokens:i.serialization.list(i.serialization.number()),tokenStrings:i.serialization.property("token_strings",i.serialization.list(i.serialization.string())),meta:u.ApiMeta.optional()}),Ju}var Zu={},Q8;function Jye(){if(Q8)return Zu;Q8=1;var e=Zu&&Zu.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(r,a);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,l)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Zu&&Zu.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Zu&&Zu.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),l=0;l<s.length;l++)s[l]!=="default"&&e(a,r,s[l]);return n(a,r),a}})();Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.UpdateConnectorResponse=void 0;const i=o(ie()),u=R_();return Zu.UpdateConnectorResponse=i.serialization.object({connector:u.Connector}),Zu}var X8;function Zye(){return X8||(X8=1,(function(e){var n=Mf&&Mf.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=Mf&&Mf.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Sn(),e),o(bW(),e),o(wW(),e),o(OW(),e),o(oY(),e),o(UY(),e),o(LY(),e),o(eY(),e),o(Xk(),e),o(Dk(),e),o(hx(),e),o(jW(),e),o(RW(),e),o(JM(),e),o(KY(),e),o(HY(),e),o(GY(),e),o(VY(),e),o(kY(),e),o(QY(),e),o(ZY(),e),o(JY(),e),o(WY(),e),o(YY(),e),o(Cye(),e),o(fx(),e),o(w_(),e),o(rY(),e),o(lx(),e),o(fk(),e),o(eW(),e),o(XY(),e),o(nW(),e),o(rW(),e),o(tW(),e),o(ax(),e),o(bY(),e),o(lk(),e),o(ck(),e),o(dk(),e),o(CW(),e),o(f0(),e),o(px(),e),o(TW(),e),o(MW(),e),o(AW(),e),o(xW(),e),o(El(),e),o(Un(),e),o(_k(),e),o(yk(),e),o(vk(),e),o(NW(),e),o(gp(),e),o(DW(),e),o(pk(),e),o(OY(),e),o(nx(),e),o(uW(),e),o(sW(),e),o(oW(),e),o(iW(),e),o(aW(),e),o(lW(),e),o(fW(),e),o(dW(),e),o(cW(),e),o(zW(),e),o(qW(),e),o(hk(),e),o(gW(),e),o(pW(),e),o(hW(),e),o(nY(),e),o(Tye(),e),o(l0(),e),o(mW(),e),o(ix(),e),o(wY(),e),o(vW(),e),o(yW(),e),o(_W(),e),o(tY(),e),o(Mye(),e),o(bk(),e),o(wk(),e),o(xye(),e),o($W(),e),o(LW(),e),o(UW(),e),o(FW(),e),o(R_(),e),o(VW(),e),o(GW(),e),o(_Y(),e),o(XM(),e),o(Pye(),e),o(ex(),e),o(Aye(),e),o(tx(),e),o(zk(),e),o(qk(),e),o(Bk(),e),o(Nye(),e),o(Dye(),e),o(d0(),e),o(cY(),e),o(KW(),e),o(HW(),e),o(IY(),e),o(i0(),e),o(kW(),e),o(NY(),e),o(AY(),e),o(zY(),e),o(o0(),e),o(JW(),e),o(YW(),e),o(WW(),e),o(Ok(),e),o(Iye(),e),o(DY(),e),o(ZW(),e),o(E_(),e),o(Sk(),e),o(Ek(),e),o(eJ(),e),o(XW(),e),o(tJ(),e),o(h0(),e),o(zye(),e),o(Rk(),e),o(jk(),e),o(rJ(),e),o(qye(),e),o(Bye(),e),o(iJ(),e),o(gx(),e),o(mY(),e),o(gY(),e),o(pY(),e),o(gk(),e),o(SY(),e),o(BW(),e),o(Lye(),e),o(Uye(),e),o($ye(),e),o(cx(),e),o(a0(),e),o(Fye(),e),o(PW(),e),o(Vye(),e),o(Gye(),e),o(Ck(),e),o(Hye(),e),o(Tk(),e),o(Kye(),e),o(sJ(),e),o(oJ(),e),o(ZM(),e),o(ox(),e),o(aJ(),e),o(QW(),e),o(nJ(),e),o(aY(),e),o(kye(),e),o(Mk(),e),o(xk(),e),o(Pk(),e),o(Yye(),e),o(lY(),e),o(uY(),e),o(sY(),e),o(sx(),e),o(EY(),e),o(Wye(),e),o(QM(),e),o(O_(),e),o(IW(),e),o(c0(),e),o(iY(),e),o(dY(),e),o(hY(),e),o(fY(),e),o(mk(),e),o(n0(),e),o(ux(),e),o(RY(),e),o(Jye(),e),o(dx(),e),o($Y(),e),o(FY(),e),o(vY(),e),o(yY(),e)})(Mf)),Mf}var eV;function lc(){return eV||(eV=1,(function(e){var n=df&&df.__createBinding||(Object.create?(function(i,u,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(u,t);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[t]}}),Object.defineProperty(i,r,a)}):(function(i,u,t,r){r===void 0&&(r=t),i[r]=u[t]})),o=df&&df.__exportStar||function(i,u){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(u,t)&&n(u,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(L_e(),e),o(jye(),e),o(Zye(),e)})(df)),df}var tV;function uJ(){return tV||(tV=1,(function(e){var n={},o=on&&on.__createBinding||(Object.create?(function(F,B,q,w){w===void 0&&(w=q);var H=Object.getOwnPropertyDescriptor(B,q);(!H||("get"in H?!B.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return B[q]}}),Object.defineProperty(F,w,H)}):(function(F,B,q,w){w===void 0&&(w=q),F[w]=B[q]})),i=on&&on.__setModuleDefault||(Object.create?(function(F,B){Object.defineProperty(F,"default",{enumerable:!0,value:B})}):function(F,B){F.default=B}),u=on&&on.__importStar||(function(){var F=function(B){return F=Object.getOwnPropertyNames||function(q){var w=[];for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(w[w.length]=H);return w},F(B)};return function(B){if(B&&B.__esModule)return B;var q={};if(B!=null)for(var w=F(B),H=0;H<w.length;H++)w[H]!=="default"&&o(q,B,w[H]);return i(q,B),q}})(),t=on&&on.__awaiter||function(F,B,q,w){function H(Y){return Y instanceof q?Y:new q(function(W){W(Y)})}return new(q||(q=Promise))(function(Y,W){function $(re){try{Q(w.next(re))}catch(T){W(T)}}function k(re){try{Q(w.throw(re))}catch(T){W(T)}}function Q(re){re.done?Y(re.value):H(re.value).then($,k)}Q((w=w.apply(F,B||[])).next())})},r=on&&on.__asyncValues||function(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B=F[Symbol.asyncIterator],q;return B?B.call(F):(F=typeof __values=="function"?__values(F):F[Symbol.iterator](),q={},w("next"),w("throw"),w("return"),q[Symbol.asyncIterator]=function(){return this},q);function w(Y){q[Y]=F[Y]&&function(W){return new Promise(function($,k){W=F[Y](W),H($,k,W.done,W.value)})}}function H(Y,W,$,k){Promise.resolve(k).then(function(Q){Y({value:Q,done:$})},W)}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchOverride=e.parseAWSEvent=e.getAuthHeaders=e.getUrl=e.mapResponseFromBedrock=void 0;const a=wpe,s=Bge,l=kge,f=ume,m=eb(),b=ie(),_=uk(),p=C_e(),y=u(lc()),v=(F,B)=>t(void 0,void 0,void 0,function*(){const q=Object.assign({},n);try{return F(),yield B()}finally{n=q}}),S={1:{chat:y.StreamedChatResponse,generate:y.GenerateStreamedResponse},2:{chat:y.V2ChatStreamResponse,generate:y.GenerateStreamedResponse}},R={1:{chat:y.NonStreamedChatResponse,embed:y.EmbedResponse,generate:y.Generation,rerank:y.RerankResponse},2:{chat:y.V2ChatResponse,embed:y.EmbedByTypeResponse,generate:y.Generation,rerank:y.V2RerankResponse}},j=(F,B,q,w)=>t(void 0,void 0,void 0,function*(){const H=F?S[q][B]:R[q][B],Y={unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]},W=yield H.parseOrThrow(w,Y);return H.jsonOrThrow(W,Y)});e.mapResponseFromBedrock=j;const A=(F,B,q,w)=>{const H={bedrock:w?"invoke-with-response-stream":"invoke",sagemaker:w?"invocations-response-stream":"invocations"}[F];return{bedrock:`https://${F}-runtime.${B}.amazonaws.com/model/${q}/${H}`,sagemaker:`https://runtime.sagemaker.${B}.amazonaws.com/endpoints/${q}/${H}`}[F]};e.getUrl=A;const x=(F,B,q,w,H,Y)=>t(void 0,void 0,void 0,function*(){const W=(0,s.fromNodeProviderChain)(),$=yield v(()=>{Y.awsAccessKey&&(n.AWS_ACCESS_KEY_ID=Y.awsAccessKey),Y.awsSecretKey&&(n.AWS_SECRET_ACCESS_KEY=Y.awsSecretKey),Y.awsSessionToken&&(n.AWS_SESSION_TOKEN=Y.awsSessionToken)},()=>W()),k=new f.SignatureV4({service:H,region:Y.awsRegion,credentials:$,sha256:a.Sha256});delete q.connection,q.host=F.hostname;const Q=new l.HttpRequest({method:B.toUpperCase(),protocol:F.protocol,path:F.pathname,headers:q,body:w});return(yield k.sign(Q)).headers});e.getAuthHeaders=x;const M=F=>{const B=/{[^\}]*}/,q=F.match(B);if(q?.[0]){const w=JSON.parse(q[0]);if(w.bytes){const H=Buffer.from(w.bytes,"base64").toString("utf-8"),Y=JSON.parse(H);if(Y.event_type)return Y}}};e.parseAWSEvent=M;const D=F=>({v1:1,v2:2})[F]||1,P=(F,{awsRegion:B,awsAccessKey:q,awsSecretKey:w,awsSessionToken:H})=>Y=>t(void 0,void 0,void 0,function*(){var W,$,k,Q;const re=Y.url.split("/"),T=re.pop(),I=D(re.pop()),K=Y.body;console.assert(K.model,"model is required");const ee=!!K.stream,fe=(0,e.getUrl)(F,B,K.model,ee);T==="rerank"&&(K.api_version=I),delete K.stream,delete K.model,delete Y.headers.Authorization,Y.headers.Host=new URL(fe).hostname;const _e=yield(0,e.getAuthHeaders)(new URL(fe),Y.method,Y.headers,JSON.stringify(K),F,{awsRegion:B,awsAccessKey:q,awsSecretKey:w,awsSessionToken:H});Y.url=fe,Y.headers=_e;const V=yield(0,b.fetcher)(Y);if(!V.ok)return V;try{if(ee){const ue=(0,_.readableStreamAsyncIterable)(V.body),ge=new p.LineDecoder,be=new m.PassThrough;try{for(var U=!0,X=r(ue),Z;Z=yield X.next(),W=Z.done,!W;U=!0){Q=Z.value,U=!1;const ae=Q;for(const oe of ge.decode(ae)){const ve=(0,e.parseAWSEvent)(oe);if(ve){const Ce=yield(0,e.mapResponseFromBedrock)(ee,T,I,ve);be.push(JSON.stringify(Ce)+`
`)}}}}catch(ae){$={error:ae}}finally{try{!U&&!W&&(k=X.return)&&(yield k.call(X))}finally{if($)throw $.error}}for(const ae of ge.flush()){const oe=(0,e.parseAWSEvent)(ae);if(oe){const ve=yield(0,e.mapResponseFromBedrock)(ee,T,I,oe);be.push(JSON.stringify(ve)+`
`)}}return be.end(),{ok:!0,body:be,rawResponse:V.rawResponse}}else{const ue=yield V.body;return{ok:!0,body:yield(0,e.mapResponseFromBedrock)(ee,T,I,ue),rawResponse:V.rawResponse}}}catch(ue){throw ue}});e.fetchOverride=P})(on)),on}var xf={},Pr={},un={},Om={},rV;function sd(){if(rV)return Om;rV=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.mergeHeaders=e,Om.mergeOnlyDefinedHeaders=n;function e(...o){const i={};for(const[u,t]of o.filter(r=>r!=null).flatMap(r=>Object.entries(r))){const r=u.toLowerCase();t!=null?i[r]=t:r in i&&delete i[r]}return i}function n(...o){const i={};for(const[u,t]of o.filter(r=>r!=null).flatMap(r=>Object.entries(r))){const r=u.toLowerCase();t!=null&&(i[r]=t)}return i}return Om}var Sm={},nV;function cc(){return nV||(nV=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.CohereEnvironment=void 0,Sm.CohereEnvironment={Production:"https://api.cohere.com"}),Sm}var aV;function Qye(){if(aV)return un;aV=1;var e={},n=un&&un.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=un&&un.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=un&&un.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=un&&un.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(M){try{x(y.next(M))}catch(D){R(D)}}function A(M){try{x(y.throw(M))}catch(D){R(D)}}function x(M){M.done?S(M.value):v(M.value).then(j,A)}x((y=y.apply(b,_||[])).next())})};Object.defineProperty(un,"__esModule",{value:!0}),un.Batches=void 0;const t=i(ie()),r=sd(),a=i(cc()),s=i(Wt()),l=i(lc()),f=i(ic());class m{constructor(_={}){this._options=_}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,A,x,M,D,P,F,B;const{pageSize:q,pageToken:w,orderBy:H}=_,Y={};q!=null&&(Y.page_size=q.toString()),w!=null&&(Y.page_token=w),H!=null&&(Y.order_by=H);const W=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),$=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/batches"),method:"GET",headers:W,queryParameters:Object.assign(Object.assign({},Y),p?.queryParams),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if($.ok)return{data:l.ListBatchesResponse.parseOrThrow($.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:$.rawResponse};if($.error.reason==="status-code")switch($.error.statusCode){case 400:throw new f.BadRequestError($.error.body,$.rawResponse);case 401:throw new f.UnauthorizedError($.error.body,$.rawResponse);case 403:throw new f.ForbiddenError($.error.body,$.rawResponse);case 404:throw new f.NotFoundError($.error.body,$.rawResponse);case 500:throw new f.InternalServerError($.error.body,$.rawResponse);case 503:throw new f.ServiceUnavailableError($.error.body,$.rawResponse);default:throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.body,rawResponse:$.rawResponse})}switch($.error.reason){case"non-json":throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.rawBody,rawResponse:$.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v2/batches.");case"unknown":throw new s.CohereError({message:$.error.errorMessage,rawResponse:$.rawResponse})}})}create(_,p){return t.HttpResponsePromise.fromPromise(this.__create(_,p))}__create(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/batches"),method:"POST",headers:q,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.Batch.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.CreateBatchResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/batches.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}retrieve(_,p){return t.HttpResponsePromise.fromPromise(this.__retrieve(_,p))}__retrieve(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v2/batches/${t.url.encodePathParam(_)}`),method:"GET",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.GetBatchResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v2/batches/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}cancel(_,p){return t.HttpResponsePromise.fromPromise(this.__cancel(_,p))}__cancel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v2/batches/${t.url.encodePathParam(_)}:cancel`),method:"POST",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.CancelBatchResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/batches/{id}/:cancel.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return un.Batches=m,un}var ln={},iV;function Xye(){if(iV)return ln;iV=1;var e={},n=ln&&ln.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=ln&&ln.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=ln&&ln.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=ln&&ln.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(M){try{x(y.next(M))}catch(D){R(D)}}function A(M){try{x(y.throw(M))}catch(D){R(D)}}function x(M){M.done?S(M.value):v(M.value).then(j,A)}x((y=y.apply(b,_||[])).next())})};Object.defineProperty(ln,"__esModule",{value:!0}),ln.Connectors=void 0;const t=i(ie()),r=sd(),a=i(cc()),s=i(Wt()),l=i(lc()),f=i(ic());class m{constructor(_={}){this._options=_}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,A,x,M,D,P,F,B;const{limit:q,offset:w}=_,H={};q!=null&&(H.limit=q.toString()),w!=null&&(H.offset=w.toString());const Y=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),W=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/connectors"),method:"GET",headers:Y,queryParameters:Object.assign(Object.assign({},H),p?.queryParams),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(W.ok)return{data:l.ListConnectorsResponse.parseOrThrow(W.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:W.rawResponse};if(W.error.reason==="status-code")switch(W.error.statusCode){case 400:throw new f.BadRequestError(W.error.body,W.rawResponse);case 401:throw new f.UnauthorizedError(W.error.body,W.rawResponse);case 403:throw new f.ForbiddenError(W.error.body,W.rawResponse);case 404:throw new f.NotFoundError(W.error.body,W.rawResponse);case 422:throw new f.UnprocessableEntityError(W.error.body,W.rawResponse);case 429:throw new f.TooManyRequestsError(W.error.body,W.rawResponse);case 498:throw new f.InvalidTokenError(W.error.body,W.rawResponse);case 499:throw new f.ClientClosedRequestError(W.error.body,W.rawResponse);case 500:throw new f.InternalServerError(W.error.body,W.rawResponse);case 501:throw new f.NotImplementedError(W.error.body,W.rawResponse);case 503:throw new f.ServiceUnavailableError(W.error.body,W.rawResponse);case 504:throw new f.GatewayTimeoutError(W.error.body,W.rawResponse);default:throw new s.CohereError({statusCode:W.error.statusCode,body:W.error.body,rawResponse:W.rawResponse})}switch(W.error.reason){case"non-json":throw new s.CohereError({statusCode:W.error.statusCode,body:W.error.rawBody,rawResponse:W.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/connectors.");case"unknown":throw new s.CohereError({message:W.error.errorMessage,rawResponse:W.rawResponse})}})}create(_,p){return t.HttpResponsePromise.fromPromise(this.__create(_,p))}__create(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/connectors"),method:"POST",headers:q,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.CreateConnectorRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.CreateConnectorResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/connectors.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(_)}`),method:"GET",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.GetConnectorResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/connectors/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}delete(_,p){return t.HttpResponsePromise.fromPromise(this.__delete(_,p))}__delete(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(_)}`),method:"DELETE",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.DeleteConnectorResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling DELETE /v1/connectors/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}update(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__update(_,p,y))}__update(_){return u(this,arguments,void 0,function*(p,y={},v){var S,R,j,A,x,M,D,P,F,B,q,w;const H=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName}),v?.headers),Y=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((M=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&M!==void 0?M:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(p)}`),method:"PATCH",headers:H,contentType:"application/json",queryParameters:v?.queryParams,requestType:"json",body:l.UpdateConnectorRequest.jsonOrThrow(y,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(B=v?.maxRetries)!==null&&B!==void 0?B:(q=this._options)===null||q===void 0?void 0:q.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if(Y.ok)return{data:l.UpdateConnectorResponse.parseOrThrow(Y.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:Y.rawResponse};if(Y.error.reason==="status-code")switch(Y.error.statusCode){case 400:throw new f.BadRequestError(Y.error.body,Y.rawResponse);case 401:throw new f.UnauthorizedError(Y.error.body,Y.rawResponse);case 403:throw new f.ForbiddenError(Y.error.body,Y.rawResponse);case 404:throw new f.NotFoundError(Y.error.body,Y.rawResponse);case 422:throw new f.UnprocessableEntityError(Y.error.body,Y.rawResponse);case 429:throw new f.TooManyRequestsError(Y.error.body,Y.rawResponse);case 498:throw new f.InvalidTokenError(Y.error.body,Y.rawResponse);case 499:throw new f.ClientClosedRequestError(Y.error.body,Y.rawResponse);case 500:throw new f.InternalServerError(Y.error.body,Y.rawResponse);case 501:throw new f.NotImplementedError(Y.error.body,Y.rawResponse);case 503:throw new f.ServiceUnavailableError(Y.error.body,Y.rawResponse);case 504:throw new f.GatewayTimeoutError(Y.error.body,Y.rawResponse);default:throw new s.CohereError({statusCode:Y.error.statusCode,body:Y.error.body,rawResponse:Y.rawResponse})}switch(Y.error.reason){case"non-json":throw new s.CohereError({statusCode:Y.error.statusCode,body:Y.error.rawBody,rawResponse:Y.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling PATCH /v1/connectors/{id}.");case"unknown":throw new s.CohereError({message:Y.error.errorMessage,rawResponse:Y.rawResponse})}})}oAuthAuthorize(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__oAuthAuthorize(_,p,y))}__oAuthAuthorize(_){return u(this,arguments,void 0,function*(p,y={},v){var S,R,j,A,x,M,D,P,F,B,q,w;const{afterTokenRedirect:H}=y,Y={};H!=null&&(Y.after_token_redirect=H);const W=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName}),v?.headers),$=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((M=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&M!==void 0?M:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(p)}/oauth/authorize`),method:"POST",headers:W,queryParameters:Object.assign(Object.assign({},Y),v?.queryParams),timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(B=v?.maxRetries)!==null&&B!==void 0?B:(q=this._options)===null||q===void 0?void 0:q.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if($.ok)return{data:l.OAuthAuthorizeResponse.parseOrThrow($.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:$.rawResponse};if($.error.reason==="status-code")switch($.error.statusCode){case 400:throw new f.BadRequestError($.error.body,$.rawResponse);case 401:throw new f.UnauthorizedError($.error.body,$.rawResponse);case 403:throw new f.ForbiddenError($.error.body,$.rawResponse);case 404:throw new f.NotFoundError($.error.body,$.rawResponse);case 422:throw new f.UnprocessableEntityError($.error.body,$.rawResponse);case 429:throw new f.TooManyRequestsError($.error.body,$.rawResponse);case 498:throw new f.InvalidTokenError($.error.body,$.rawResponse);case 499:throw new f.ClientClosedRequestError($.error.body,$.rawResponse);case 500:throw new f.InternalServerError($.error.body,$.rawResponse);case 501:throw new f.NotImplementedError($.error.body,$.rawResponse);case 503:throw new f.ServiceUnavailableError($.error.body,$.rawResponse);case 504:throw new f.GatewayTimeoutError($.error.body,$.rawResponse);default:throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.body,rawResponse:$.rawResponse})}switch($.error.reason){case"non-json":throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.rawBody,rawResponse:$.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/connectors/{id}/oauth/authorize.");case"unknown":throw new s.CohereError({message:$.error.errorMessage,rawResponse:$.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return ln.Connectors=m,ln}var cn={},oV;function eve(){if(oV)return cn;oV=1;var e={},n=cn&&cn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=cn&&cn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=cn&&cn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=cn&&cn.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(M){try{x(y.next(M))}catch(D){R(D)}}function A(M){try{x(y.throw(M))}catch(D){R(D)}}function x(M){M.done?S(M.value):v(M.value).then(j,A)}x((y=y.apply(b,_||[])).next())})};Object.defineProperty(cn,"__esModule",{value:!0}),cn.Datasets=void 0;const t=i(ie()),r=sd(),a=i(cc()),s=i(Wt()),l=i(lc()),f=i(ic());class m{constructor(_={}){this._options=_}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,A,x,M,D,P,F,B;const{datasetType:q,before:w,after:H,limit:Y,offset:W,validationStatus:$}=_,k={};q!=null&&(k.datasetType=q),w!=null&&(k.before=w.toISOString()),H!=null&&(k.after=H.toISOString()),Y!=null&&(k.limit=Y.toString()),W!=null&&(k.offset=W.toString()),$!=null&&(k.validationStatus=l.DatasetValidationStatus.jsonOrThrow($,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}));const Q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),re=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/datasets"),method:"GET",headers:Q,queryParameters:Object.assign(Object.assign({},k),p?.queryParams),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(re.ok)return{data:l.DatasetsListResponse.parseOrThrow(re.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:re.rawResponse};if(re.error.reason==="status-code")switch(re.error.statusCode){case 400:throw new f.BadRequestError(re.error.body,re.rawResponse);case 401:throw new f.UnauthorizedError(re.error.body,re.rawResponse);case 403:throw new f.ForbiddenError(re.error.body,re.rawResponse);case 404:throw new f.NotFoundError(re.error.body,re.rawResponse);case 422:throw new f.UnprocessableEntityError(re.error.body,re.rawResponse);case 429:throw new f.TooManyRequestsError(re.error.body,re.rawResponse);case 498:throw new f.InvalidTokenError(re.error.body,re.rawResponse);case 499:throw new f.ClientClosedRequestError(re.error.body,re.rawResponse);case 500:throw new f.InternalServerError(re.error.body,re.rawResponse);case 501:throw new f.NotImplementedError(re.error.body,re.rawResponse);case 503:throw new f.ServiceUnavailableError(re.error.body,re.rawResponse);case 504:throw new f.GatewayTimeoutError(re.error.body,re.rawResponse);default:throw new s.CohereError({statusCode:re.error.statusCode,body:re.error.body,rawResponse:re.rawResponse})}switch(re.error.reason){case"non-json":throw new s.CohereError({statusCode:re.error.statusCode,body:re.error.rawBody,rawResponse:re.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/datasets.");case"unknown":throw new s.CohereError({message:re.error.errorMessage,rawResponse:re.rawResponse})}})}create(_,p,y,v){return t.HttpResponsePromise.fromPromise(this.__create(_,p,y,v))}__create(_,p,y,v){return u(this,void 0,void 0,function*(){var S,R,j,A,x,M,D,P,F,B,q,w;const H={};H.name=y.name,H.type=l.DatasetType.jsonOrThrow(y.type,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),y.keepOriginalFile!=null&&(H.keep_original_file=y.keepOriginalFile.toString()),y.skipMalformedInput!=null&&(H.skip_malformed_input=y.skipMalformedInput.toString()),y.keepFields!=null&&(Array.isArray(y.keepFields)?H.keep_fields=y.keepFields.map(Q=>Q):H.keep_fields=y.keepFields),y.optionalFields!=null&&(Array.isArray(y.optionalFields)?H.optional_fields=y.optionalFields.map(Q=>Q):H.optional_fields=y.optionalFields),y.textSeparator!=null&&(H.text_separator=y.textSeparator),y.csvDelimiter!=null&&(H.csv_delimiter=y.csvDelimiter);const Y=yield t.newFormData();yield Y.appendFile("data",_),p!=null&&(yield Y.appendFile("eval_data",p));const W=yield Y.getRequest(),$=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)(Object.assign({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName},W.headers)),v?.headers),k=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((M=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&M!==void 0?M:a.CohereEnvironment.Production,"v1/datasets"),method:"POST",headers:$,queryParameters:Object.assign(Object.assign({},H),v?.queryParams),requestType:"file",duplex:W.duplex,body:W.body,timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(B=v?.maxRetries)!==null&&B!==void 0?B:(q=this._options)===null||q===void 0?void 0:q.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if(k.ok)return{data:l.DatasetsCreateResponse.parseOrThrow(k.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:k.rawResponse};if(k.error.reason==="status-code")switch(k.error.statusCode){case 400:throw new f.BadRequestError(k.error.body,k.rawResponse);case 401:throw new f.UnauthorizedError(k.error.body,k.rawResponse);case 403:throw new f.ForbiddenError(k.error.body,k.rawResponse);case 404:throw new f.NotFoundError(k.error.body,k.rawResponse);case 422:throw new f.UnprocessableEntityError(k.error.body,k.rawResponse);case 429:throw new f.TooManyRequestsError(k.error.body,k.rawResponse);case 498:throw new f.InvalidTokenError(k.error.body,k.rawResponse);case 499:throw new f.ClientClosedRequestError(k.error.body,k.rawResponse);case 500:throw new f.InternalServerError(k.error.body,k.rawResponse);case 501:throw new f.NotImplementedError(k.error.body,k.rawResponse);case 503:throw new f.ServiceUnavailableError(k.error.body,k.rawResponse);case 504:throw new f.GatewayTimeoutError(k.error.body,k.rawResponse);default:throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.body,rawResponse:k.rawResponse})}switch(k.error.reason){case"non-json":throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.rawBody,rawResponse:k.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/datasets.");case"unknown":throw new s.CohereError({message:k.error.errorMessage,rawResponse:k.rawResponse})}})}getUsage(_){return t.HttpResponsePromise.fromPromise(this.__getUsage(_))}__getUsage(_){return u(this,void 0,void 0,function*(){var p,y,v,S,R,j,A,x,M,D,P,F;const B=(0,r.mergeHeaders)((p=this._options)===null||p===void 0?void 0:p.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(y=_?.clientName)!==null&&y!==void 0?y:(v=this._options)===null||v===void 0?void 0:v.clientName}),_?.headers),q=yield((S=this._options.fetcher)!==null&&S!==void 0?S:t.fetcher)({url:t.url.join((j=(R=yield t.Supplier.get(this._options.baseUrl))!==null&&R!==void 0?R:yield t.Supplier.get(this._options.environment))!==null&&j!==void 0?j:a.CohereEnvironment.Production,"v1/datasets/usage"),method:"GET",headers:B,queryParameters:_?.queryParams,timeoutMs:((M=(A=_?.timeoutInSeconds)!==null&&A!==void 0?A:(x=this._options)===null||x===void 0?void 0:x.timeoutInSeconds)!==null&&M!==void 0?M:300)*1e3,maxRetries:(D=_?.maxRetries)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.maxRetries,abortSignal:_?.abortSignal,fetchFn:(F=this._options)===null||F===void 0?void 0:F.fetch,logging:this._options.logging});if(q.ok)return{data:l.DatasetsGetUsageResponse.parseOrThrow(q.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:q.rawResponse};if(q.error.reason==="status-code")switch(q.error.statusCode){case 400:throw new f.BadRequestError(q.error.body,q.rawResponse);case 401:throw new f.UnauthorizedError(q.error.body,q.rawResponse);case 403:throw new f.ForbiddenError(q.error.body,q.rawResponse);case 404:throw new f.NotFoundError(q.error.body,q.rawResponse);case 422:throw new f.UnprocessableEntityError(q.error.body,q.rawResponse);case 429:throw new f.TooManyRequestsError(q.error.body,q.rawResponse);case 498:throw new f.InvalidTokenError(q.error.body,q.rawResponse);case 499:throw new f.ClientClosedRequestError(q.error.body,q.rawResponse);case 500:throw new f.InternalServerError(q.error.body,q.rawResponse);case 501:throw new f.NotImplementedError(q.error.body,q.rawResponse);case 503:throw new f.ServiceUnavailableError(q.error.body,q.rawResponse);case 504:throw new f.GatewayTimeoutError(q.error.body,q.rawResponse);default:throw new s.CohereError({statusCode:q.error.statusCode,body:q.error.body,rawResponse:q.rawResponse})}switch(q.error.reason){case"non-json":throw new s.CohereError({statusCode:q.error.statusCode,body:q.error.rawBody,rawResponse:q.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/datasets/usage.");case"unknown":throw new s.CohereError({message:q.error.errorMessage,rawResponse:q.rawResponse})}})}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/datasets/${t.url.encodePathParam(_)}`),method:"GET",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.DatasetsGetResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/datasets/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}delete(_,p){return t.HttpResponsePromise.fromPromise(this.__delete(_,p))}__delete(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/datasets/${t.url.encodePathParam(_)}`),method:"DELETE",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.datasets.delete.Response.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling DELETE /v1/datasets/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return cn.Datasets=m,cn}var dn={},sV;function tve(){if(sV)return dn;sV=1;var e={},n=dn&&dn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=dn&&dn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=dn&&dn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=dn&&dn.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(M){try{x(y.next(M))}catch(D){R(D)}}function A(M){try{x(y.throw(M))}catch(D){R(D)}}function x(M){M.done?S(M.value):v(M.value).then(j,A)}x((y=y.apply(b,_||[])).next())})};Object.defineProperty(dn,"__esModule",{value:!0}),dn.EmbedJobs=void 0;const t=i(ie()),r=sd(),a=i(cc()),s=i(Wt()),l=i(lc()),f=i(ic());class m{constructor(_={}){this._options=_}list(_){return t.HttpResponsePromise.fromPromise(this.__list(_))}__list(_){return u(this,void 0,void 0,function*(){var p,y,v,S,R,j,A,x,M,D,P,F;const B=(0,r.mergeHeaders)((p=this._options)===null||p===void 0?void 0:p.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(y=_?.clientName)!==null&&y!==void 0?y:(v=this._options)===null||v===void 0?void 0:v.clientName}),_?.headers),q=yield((S=this._options.fetcher)!==null&&S!==void 0?S:t.fetcher)({url:t.url.join((j=(R=yield t.Supplier.get(this._options.baseUrl))!==null&&R!==void 0?R:yield t.Supplier.get(this._options.environment))!==null&&j!==void 0?j:a.CohereEnvironment.Production,"v1/embed-jobs"),method:"GET",headers:B,queryParameters:_?.queryParams,timeoutMs:((M=(A=_?.timeoutInSeconds)!==null&&A!==void 0?A:(x=this._options)===null||x===void 0?void 0:x.timeoutInSeconds)!==null&&M!==void 0?M:300)*1e3,maxRetries:(D=_?.maxRetries)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.maxRetries,abortSignal:_?.abortSignal,fetchFn:(F=this._options)===null||F===void 0?void 0:F.fetch,logging:this._options.logging});if(q.ok)return{data:l.ListEmbedJobResponse.parseOrThrow(q.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:q.rawResponse};if(q.error.reason==="status-code")switch(q.error.statusCode){case 400:throw new f.BadRequestError(q.error.body,q.rawResponse);case 401:throw new f.UnauthorizedError(q.error.body,q.rawResponse);case 403:throw new f.ForbiddenError(q.error.body,q.rawResponse);case 404:throw new f.NotFoundError(q.error.body,q.rawResponse);case 422:throw new f.UnprocessableEntityError(q.error.body,q.rawResponse);case 429:throw new f.TooManyRequestsError(q.error.body,q.rawResponse);case 498:throw new f.InvalidTokenError(q.error.body,q.rawResponse);case 499:throw new f.ClientClosedRequestError(q.error.body,q.rawResponse);case 500:throw new f.InternalServerError(q.error.body,q.rawResponse);case 501:throw new f.NotImplementedError(q.error.body,q.rawResponse);case 503:throw new f.ServiceUnavailableError(q.error.body,q.rawResponse);case 504:throw new f.GatewayTimeoutError(q.error.body,q.rawResponse);default:throw new s.CohereError({statusCode:q.error.statusCode,body:q.error.body,rawResponse:q.rawResponse})}switch(q.error.reason){case"non-json":throw new s.CohereError({statusCode:q.error.statusCode,body:q.error.rawBody,rawResponse:q.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/embed-jobs.");case"unknown":throw new s.CohereError({message:q.error.errorMessage,rawResponse:q.rawResponse})}})}create(_,p){return t.HttpResponsePromise.fromPromise(this.__create(_,p))}__create(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/embed-jobs"),method:"POST",headers:q,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.CreateEmbedJobRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.CreateEmbedJobResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/embed-jobs.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/embed-jobs/${t.url.encodePathParam(_)}`),method:"GET",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.EmbedJob.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/embed-jobs/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}cancel(_,p){return t.HttpResponsePromise.fromPromise(this.__cancel(_,p))}__cancel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/embed-jobs/${t.url.encodePathParam(_)}/cancel`),method:"POST",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:void 0,rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/embed-jobs/{id}/cancel.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return dn.EmbedJobs=m,dn}var fn={},uV;function rve(){if(uV)return fn;uV=1;var e={},n=fn&&fn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=fn&&fn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=fn&&fn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=fn&&fn.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(M){try{x(y.next(M))}catch(D){R(D)}}function A(M){try{x(y.throw(M))}catch(D){R(D)}}function x(M){M.done?S(M.value):v(M.value).then(j,A)}x((y=y.apply(b,_||[])).next())})};Object.defineProperty(fn,"__esModule",{value:!0}),fn.Finetuning=void 0;const t=i(ie()),r=sd(),a=i(cc()),s=i(Wt()),l=i(lc()),f=i(ic());class m{constructor(_={}){this._options=_}listFinetunedModels(_={},p){return t.HttpResponsePromise.fromPromise(this.__listFinetunedModels(_,p))}__listFinetunedModels(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,A,x,M,D,P,F,B;const{pageSize:q,pageToken:w,orderBy:H}=_,Y={};q!=null&&(Y.page_size=q.toString()),w!=null&&(Y.page_token=w),H!=null&&(Y.order_by=H);const W=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),$=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"GET",headers:W,queryParameters:Object.assign(Object.assign({},Y),p?.queryParams),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if($.ok)return{data:l.finetuning.ListFinetunedModelsResponse.parseOrThrow($.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:$.rawResponse};if($.error.reason==="status-code")switch($.error.statusCode){case 400:throw new f.BadRequestError($.error.body,$.rawResponse);case 401:throw new f.UnauthorizedError($.error.body,$.rawResponse);case 403:throw new f.ForbiddenError($.error.body,$.rawResponse);case 404:throw new f.NotFoundError($.error.body,$.rawResponse);case 500:throw new f.InternalServerError($.error.body,$.rawResponse);case 503:throw new f.ServiceUnavailableError($.error.body,$.rawResponse);default:throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.body,rawResponse:$.rawResponse})}switch($.error.reason){case"non-json":throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.rawBody,rawResponse:$.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models.");case"unknown":throw new s.CohereError({message:$.error.errorMessage,rawResponse:$.rawResponse})}})}createFinetunedModel(_,p){return t.HttpResponsePromise.fromPromise(this.__createFinetunedModel(_,p))}__createFinetunedModel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"POST",headers:q,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.finetuning.FinetunedModel.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.finetuning.CreateFinetunedModelResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/finetuning/finetuned-models.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}getFinetunedModel(_,p){return t.HttpResponsePromise.fromPromise(this.__getFinetunedModel(_,p))}__getFinetunedModel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(_)}`),method:"GET",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.finetuning.GetFinetunedModelResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}deleteFinetunedModel(_,p){return t.HttpResponsePromise.fromPromise(this.__deleteFinetunedModel(_,p))}__deleteFinetunedModel(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(_)}`),method:"DELETE",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.finetuning.DeleteFinetunedModelResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling DELETE /v1/finetuning/finetuned-models/{id}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}updateFinetunedModel(_,p,y){return t.HttpResponsePromise.fromPromise(this.__updateFinetunedModel(_,p,y))}__updateFinetunedModel(_,p,y){return u(this,void 0,void 0,function*(){var v,S,R,j,A,x,M,D,P,F,B,q;const w=(0,r.mergeHeaders)((v=this._options)===null||v===void 0?void 0:v.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(S=y?.clientName)!==null&&S!==void 0?S:(R=this._options)===null||R===void 0?void 0:R.clientName}),y?.headers),H=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((x=(A=yield t.Supplier.get(this._options.baseUrl))!==null&&A!==void 0?A:yield t.Supplier.get(this._options.environment))!==null&&x!==void 0?x:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(_)}`),method:"PATCH",headers:w,contentType:"application/json",queryParameters:y?.queryParams,requestType:"json",body:l.FinetuningUpdateFinetunedModelRequest.jsonOrThrow(p,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((P=(M=y?.timeoutInSeconds)!==null&&M!==void 0?M:(D=this._options)===null||D===void 0?void 0:D.timeoutInSeconds)!==null&&P!==void 0?P:300)*1e3,maxRetries:(F=y?.maxRetries)!==null&&F!==void 0?F:(B=this._options)===null||B===void 0?void 0:B.maxRetries,abortSignal:y?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(H.ok)return{data:l.finetuning.UpdateFinetunedModelResponse.parseOrThrow(H.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:H.rawResponse};if(H.error.reason==="status-code")switch(H.error.statusCode){case 400:throw new f.BadRequestError(H.error.body,H.rawResponse);case 401:throw new f.UnauthorizedError(H.error.body,H.rawResponse);case 403:throw new f.ForbiddenError(H.error.body,H.rawResponse);case 404:throw new f.NotFoundError(H.error.body,H.rawResponse);case 500:throw new f.InternalServerError(H.error.body,H.rawResponse);case 503:throw new f.ServiceUnavailableError(H.error.body,H.rawResponse);default:throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.body,rawResponse:H.rawResponse})}switch(H.error.reason){case"non-json":throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.rawBody,rawResponse:H.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling PATCH /v1/finetuning/finetuned-models/{id}.");case"unknown":throw new s.CohereError({message:H.error.errorMessage,rawResponse:H.rawResponse})}})}listEvents(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__listEvents(_,p,y))}__listEvents(_){return u(this,arguments,void 0,function*(p,y={},v){var S,R,j,A,x,M,D,P,F,B,q,w;const{pageSize:H,pageToken:Y,orderBy:W}=y,$={};H!=null&&($.page_size=H.toString()),Y!=null&&($.page_token=Y),W!=null&&($.order_by=W);const k=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName}),v?.headers),Q=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((M=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&M!==void 0?M:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(p)}/events`),method:"GET",headers:k,queryParameters:Object.assign(Object.assign({},$),v?.queryParams),timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(B=v?.maxRetries)!==null&&B!==void 0?B:(q=this._options)===null||q===void 0?void 0:q.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if(Q.ok)return{data:l.finetuning.ListEventsResponse.parseOrThrow(Q.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:Q.rawResponse};if(Q.error.reason==="status-code")switch(Q.error.statusCode){case 400:throw new f.BadRequestError(Q.error.body,Q.rawResponse);case 401:throw new f.UnauthorizedError(Q.error.body,Q.rawResponse);case 403:throw new f.ForbiddenError(Q.error.body,Q.rawResponse);case 404:throw new f.NotFoundError(Q.error.body,Q.rawResponse);case 500:throw new f.InternalServerError(Q.error.body,Q.rawResponse);case 503:throw new f.ServiceUnavailableError(Q.error.body,Q.rawResponse);default:throw new s.CohereError({statusCode:Q.error.statusCode,body:Q.error.body,rawResponse:Q.rawResponse})}switch(Q.error.reason){case"non-json":throw new s.CohereError({statusCode:Q.error.statusCode,body:Q.error.rawBody,rawResponse:Q.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models/{finetuned_model_id}/events.");case"unknown":throw new s.CohereError({message:Q.error.errorMessage,rawResponse:Q.rawResponse})}})}listTrainingStepMetrics(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__listTrainingStepMetrics(_,p,y))}__listTrainingStepMetrics(_){return u(this,arguments,void 0,function*(p,y={},v){var S,R,j,A,x,M,D,P,F,B,q,w;const{pageSize:H,pageToken:Y}=y,W={};H!=null&&(W.page_size=H.toString()),Y!=null&&(W.page_token=Y);const $=(0,r.mergeHeaders)((S=this._options)===null||S===void 0?void 0:S.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(R=v?.clientName)!==null&&R!==void 0?R:(j=this._options)===null||j===void 0?void 0:j.clientName}),v?.headers),k=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((M=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&M!==void 0?M:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(p)}/training-step-metrics`),method:"GET",headers:$,queryParameters:Object.assign(Object.assign({},W),v?.queryParams),timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(B=v?.maxRetries)!==null&&B!==void 0?B:(q=this._options)===null||q===void 0?void 0:q.maxRetries,abortSignal:v?.abortSignal,fetchFn:(w=this._options)===null||w===void 0?void 0:w.fetch,logging:this._options.logging});if(k.ok)return{data:l.finetuning.ListTrainingStepMetricsResponse.parseOrThrow(k.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:k.rawResponse};if(k.error.reason==="status-code")switch(k.error.statusCode){case 400:throw new f.BadRequestError(k.error.body,k.rawResponse);case 401:throw new f.UnauthorizedError(k.error.body,k.rawResponse);case 403:throw new f.ForbiddenError(k.error.body,k.rawResponse);case 404:throw new f.NotFoundError(k.error.body,k.rawResponse);case 500:throw new f.InternalServerError(k.error.body,k.rawResponse);case 503:throw new f.ServiceUnavailableError(k.error.body,k.rawResponse);default:throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.body,rawResponse:k.rawResponse})}switch(k.error.reason){case"non-json":throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.rawBody,rawResponse:k.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models/{finetuned_model_id}/training-step-metrics.");case"unknown":throw new s.CohereError({message:k.error.errorMessage,rawResponse:k.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return fn.Finetuning=m,fn}var hn={},lV;function nve(){if(lV)return hn;lV=1;var e={},n=hn&&hn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=hn&&hn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=hn&&hn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=hn&&hn.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(M){try{x(y.next(M))}catch(D){R(D)}}function A(M){try{x(y.throw(M))}catch(D){R(D)}}function x(M){M.done?S(M.value):v(M.value).then(j,A)}x((y=y.apply(b,_||[])).next())})};Object.defineProperty(hn,"__esModule",{value:!0}),hn.Models=void 0;const t=i(ie()),r=sd(),a=i(cc()),s=i(Wt()),l=i(lc()),f=i(ic());class m{constructor(_={}){this._options=_}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/models/${t.url.encodePathParam(_)}`),method:"GET",headers:q,queryParameters:p?.queryParams,timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.GetModelResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/models/{model}.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return u(this,arguments,void 0,function*(_={},p){var y,v,S,R,j,A,x,M,D,P,F,B;const{pageSize:q,pageToken:w,endpoint:H,defaultOnly:Y}=_,W={};q!=null&&(W.page_size=q.toString()),w!=null&&(W.page_token=w),H!=null&&(W.endpoint=l.CompatibleEndpoint.jsonOrThrow(H,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),Y!=null&&(W.default_only=Y.toString());const $=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),k=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/models"),method:"GET",headers:$,queryParameters:Object.assign(Object.assign({},W),p?.queryParams),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(k.ok)return{data:l.ListModelsResponse.parseOrThrow(k.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:k.rawResponse};if(k.error.reason==="status-code")switch(k.error.statusCode){case 400:throw new f.BadRequestError(k.error.body,k.rawResponse);case 401:throw new f.UnauthorizedError(k.error.body,k.rawResponse);case 403:throw new f.ForbiddenError(k.error.body,k.rawResponse);case 404:throw new f.NotFoundError(k.error.body,k.rawResponse);case 422:throw new f.UnprocessableEntityError(k.error.body,k.rawResponse);case 429:throw new f.TooManyRequestsError(k.error.body,k.rawResponse);case 498:throw new f.InvalidTokenError(k.error.body,k.rawResponse);case 499:throw new f.ClientClosedRequestError(k.error.body,k.rawResponse);case 500:throw new f.InternalServerError(k.error.body,k.rawResponse);case 501:throw new f.NotImplementedError(k.error.body,k.rawResponse);case 503:throw new f.ServiceUnavailableError(k.error.body,k.rawResponse);case 504:throw new f.GatewayTimeoutError(k.error.body,k.rawResponse);default:throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.body,rawResponse:k.rawResponse})}switch(k.error.reason){case"non-json":throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.rawBody,rawResponse:k.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/models.");case"unknown":throw new s.CohereError({message:k.error.errorMessage,rawResponse:k.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return hn.Models=m,hn}var pn={},cV;function lJ(){if(cV)return pn;cV=1;var e={},n=pn&&pn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=pn&&pn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=pn&&pn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),u=pn&&pn.__awaiter||function(b,_,p,y){function v(S){return S instanceof p?S:new p(function(R){R(S)})}return new(p||(p=Promise))(function(S,R){function j(M){try{x(y.next(M))}catch(D){R(D)}}function A(M){try{x(y.throw(M))}catch(D){R(D)}}function x(M){M.done?S(M.value):v(M.value).then(j,A)}x((y=y.apply(b,_||[])).next())})};Object.defineProperty(pn,"__esModule",{value:!0}),pn.V2=void 0;const t=i(ie()),r=sd(),a=i(cc()),s=i(Wt()),l=i(lc()),f=i(ic());class m{constructor(_={}){this._options=_}chatStream(_,p){return t.HttpResponsePromise.fromPromise(this.__chatStream(_,p))}__chatStream(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:q,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:Object.assign(Object.assign({},l.V2ChatStreamRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:new t.Stream({stream:w.body,parse:H=>u(this,void 0,void 0,function*(){return l.V2ChatStreamResponse.parseOrThrow(H,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:p?.abortSignal,eventShape:{type:"sse",streamTerminator:"[DONE]"}}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/chat.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}chat(_,p){return t.HttpResponsePromise.fromPromise(this.__chat(_,p))}__chat(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:q,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:Object.assign(Object.assign({},l.V2ChatRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.V2ChatResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/chat.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}embed(_,p){return t.HttpResponsePromise.fromPromise(this.__embed(_,p))}__embed(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/embed"),method:"POST",headers:q,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.V2EmbedRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.EmbedByTypeResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/embed.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}rerank(_,p){return t.HttpResponsePromise.fromPromise(this.__rerank(_,p))}__rerank(_,p){return u(this,void 0,void 0,function*(){var y,v,S,R,j,A,x,M,D,P,F,B;const q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(S=this._options)===null||S===void 0?void 0:S.clientName}),p?.headers),w=yield((R=this._options.fetcher)!==null&&R!==void 0?R:t.fetcher)({url:t.url.join((A=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/rerank"),method:"POST",headers:q,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:l.V2RerankRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(x=p?.timeoutInSeconds)!==null&&x!==void 0?x:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(w.ok)return{data:l.V2RerankResponse.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if(w.error.reason==="status-code")switch(w.error.statusCode){case 400:throw new f.BadRequestError(w.error.body,w.rawResponse);case 401:throw new f.UnauthorizedError(w.error.body,w.rawResponse);case 403:throw new f.ForbiddenError(w.error.body,w.rawResponse);case 404:throw new f.NotFoundError(w.error.body,w.rawResponse);case 422:throw new f.UnprocessableEntityError(w.error.body,w.rawResponse);case 429:throw new f.TooManyRequestsError(w.error.body,w.rawResponse);case 498:throw new f.InvalidTokenError(w.error.body,w.rawResponse);case 499:throw new f.ClientClosedRequestError(w.error.body,w.rawResponse);case 500:throw new f.InternalServerError(w.error.body,w.rawResponse);case 501:throw new f.NotImplementedError(w.error.body,w.rawResponse);case 503:throw new f.ServiceUnavailableError(w.error.body,w.rawResponse);case 504:throw new f.GatewayTimeoutError(w.error.body,w.rawResponse);default:throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}switch(w.error.reason){case"non-json":throw new s.CohereError({statusCode:w.error.statusCode,body:w.error.rawBody,rawResponse:w.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/rerank.");case"unknown":throw new s.CohereError({message:w.error.errorMessage,rawResponse:w.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return pn.V2=m,pn}var dV;function mx(){if(dV)return Pr;dV=1;var e={},n=Pr&&Pr.__createBinding||(Object.create?(function(A,x,M,D){D===void 0&&(D=M);var P=Object.getOwnPropertyDescriptor(x,M);(!P||("get"in P?!x.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return x[M]}}),Object.defineProperty(A,D,P)}):(function(A,x,M,D){D===void 0&&(D=M),A[D]=x[M]})),o=Pr&&Pr.__setModuleDefault||(Object.create?(function(A,x){Object.defineProperty(A,"default",{enumerable:!0,value:x})}):function(A,x){A.default=x}),i=Pr&&Pr.__importStar||(function(){var A=function(x){return A=Object.getOwnPropertyNames||function(M){var D=[];for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(D[D.length]=P);return D},A(x)};return function(x){if(x&&x.__esModule)return x;var M={};if(x!=null)for(var D=A(x),P=0;P<D.length;P++)D[P]!=="default"&&n(M,x,D[P]);return o(M,x),M}})(),u=Pr&&Pr.__awaiter||function(A,x,M,D){function P(F){return F instanceof M?F:new M(function(B){B(F)})}return new(M||(M=Promise))(function(F,B){function q(Y){try{H(D.next(Y))}catch(W){B(W)}}function w(Y){try{H(D.throw(Y))}catch(W){B(W)}}function H(Y){Y.done?F(Y.value):P(Y.value).then(q,w)}H((D=D.apply(A,x||[])).next())})},t=Pr&&Pr.__rest||function(A,x){var M={};for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&x.indexOf(D)<0&&(M[D]=A[D]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,D=Object.getOwnPropertySymbols(A);P<D.length;P++)x.indexOf(D[P])<0&&Object.prototype.propertyIsEnumerable.call(A,D[P])&&(M[D[P]]=A[D[P]]);return M};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.CohereClient=void 0;const r=i(ic()),a=Qye(),s=Xye(),l=eve(),f=tve(),m=rve(),b=nve(),_=lJ(),p=i(ie()),y=sd(),v=i(cc()),S=i(Wt()),R=i(lc());class j{constructor(x={}){this._options=Object.assign(Object.assign({},x),{logging:p.logging.createLogger(x?.logging),headers:(0,y.mergeHeaders)({"X-Client-Name":x?.clientName,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.20.0","User-Agent":"cohere-ai/7.20.0","X-Fern-Runtime":p.RUNTIME.type,"X-Fern-Runtime-Version":p.RUNTIME.version},x?.headers)})}get v2(){var x;return(x=this._v2)!==null&&x!==void 0?x:this._v2=new _.V2(this._options)}get batches(){var x;return(x=this._batches)!==null&&x!==void 0?x:this._batches=new a.Batches(this._options)}get embedJobs(){var x;return(x=this._embedJobs)!==null&&x!==void 0?x:this._embedJobs=new f.EmbedJobs(this._options)}get datasets(){var x;return(x=this._datasets)!==null&&x!==void 0?x:this._datasets=new l.Datasets(this._options)}get connectors(){var x;return(x=this._connectors)!==null&&x!==void 0?x:this._connectors=new s.Connectors(this._options)}get models(){var x;return(x=this._models)!==null&&x!==void 0?x:this._models=new b.Models(this._options)}get finetuning(){var x;return(x=this._finetuning)!==null&&x!==void 0?x:this._finetuning=new m.Finetuning(this._options)}chatStream(x,M){return p.HttpResponsePromise.fromPromise(this.__chatStream(x,M))}__chatStream(x,M){return u(this,void 0,void 0,function*(){var D,P,F,B,q,w,H,Y,W,$,k,Q;const{accepts:re}=x,T=t(x,["accepts"]),I=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),Accepts:re??void 0,"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),K=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:I,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:Object.assign(Object.assign({},R.ChatStreamRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(K.ok)return{data:new p.Stream({stream:K.body,parse:ee=>u(this,void 0,void 0,function*(){return R.StreamedChatResponse.parseOrThrow(ee,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:M?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}}),rawResponse:K.rawResponse};if(K.error.reason==="status-code")switch(K.error.statusCode){case 400:throw new r.BadRequestError(K.error.body,K.rawResponse);case 401:throw new r.UnauthorizedError(K.error.body,K.rawResponse);case 403:throw new r.ForbiddenError(K.error.body,K.rawResponse);case 404:throw new r.NotFoundError(K.error.body,K.rawResponse);case 422:throw new r.UnprocessableEntityError(K.error.body,K.rawResponse);case 429:throw new r.TooManyRequestsError(K.error.body,K.rawResponse);case 498:throw new r.InvalidTokenError(K.error.body,K.rawResponse);case 499:throw new r.ClientClosedRequestError(K.error.body,K.rawResponse);case 500:throw new r.InternalServerError(K.error.body,K.rawResponse);case 501:throw new r.NotImplementedError(K.error.body,K.rawResponse);case 503:throw new r.ServiceUnavailableError(K.error.body,K.rawResponse);case 504:throw new r.GatewayTimeoutError(K.error.body,K.rawResponse);default:throw new S.CohereError({statusCode:K.error.statusCode,body:K.error.body,rawResponse:K.rawResponse})}switch(K.error.reason){case"non-json":throw new S.CohereError({statusCode:K.error.statusCode,body:K.error.rawBody,rawResponse:K.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/chat.");case"unknown":throw new S.CohereError({message:K.error.errorMessage,rawResponse:K.rawResponse})}})}chat(x,M){return p.HttpResponsePromise.fromPromise(this.__chat(x,M))}__chat(x,M){return u(this,void 0,void 0,function*(){var D,P,F,B,q,w,H,Y,W,$,k,Q;const{accepts:re}=x,T=t(x,["accepts"]),I=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),Accepts:re??void 0,"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),K=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:I,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:Object.assign(Object.assign({},R.ChatRequest.jsonOrThrow(T,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(K.ok)return{data:R.NonStreamedChatResponse.parseOrThrow(K.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:K.rawResponse};if(K.error.reason==="status-code")switch(K.error.statusCode){case 400:throw new r.BadRequestError(K.error.body,K.rawResponse);case 401:throw new r.UnauthorizedError(K.error.body,K.rawResponse);case 403:throw new r.ForbiddenError(K.error.body,K.rawResponse);case 404:throw new r.NotFoundError(K.error.body,K.rawResponse);case 422:throw new r.UnprocessableEntityError(K.error.body,K.rawResponse);case 429:throw new r.TooManyRequestsError(K.error.body,K.rawResponse);case 498:throw new r.InvalidTokenError(K.error.body,K.rawResponse);case 499:throw new r.ClientClosedRequestError(K.error.body,K.rawResponse);case 500:throw new r.InternalServerError(K.error.body,K.rawResponse);case 501:throw new r.NotImplementedError(K.error.body,K.rawResponse);case 503:throw new r.ServiceUnavailableError(K.error.body,K.rawResponse);case 504:throw new r.GatewayTimeoutError(K.error.body,K.rawResponse);default:throw new S.CohereError({statusCode:K.error.statusCode,body:K.error.body,rawResponse:K.rawResponse})}switch(K.error.reason){case"non-json":throw new S.CohereError({statusCode:K.error.statusCode,body:K.error.rawBody,rawResponse:K.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/chat.");case"unknown":throw new S.CohereError({message:K.error.errorMessage,rawResponse:K.rawResponse})}})}generateStream(x,M){return p.HttpResponsePromise.fromPromise(this.__generateStream(x,M))}__generateStream(x,M){return u(this,void 0,void 0,function*(){var D,P,F,B,q,w,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),T=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:re,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:Object.assign(Object.assign({},R.GenerateStreamRequest.jsonOrThrow(x,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(T.ok)return{data:new p.Stream({stream:T.body,parse:I=>u(this,void 0,void 0,function*(){return R.GenerateStreamedResponse.parseOrThrow(I,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:M?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}}),rawResponse:T.rawResponse};if(T.error.reason==="status-code")switch(T.error.statusCode){case 400:throw new r.BadRequestError(T.error.body,T.rawResponse);case 401:throw new r.UnauthorizedError(T.error.body,T.rawResponse);case 403:throw new r.ForbiddenError(T.error.body,T.rawResponse);case 404:throw new r.NotFoundError(T.error.body,T.rawResponse);case 422:throw new r.UnprocessableEntityError(T.error.body,T.rawResponse);case 429:throw new r.TooManyRequestsError(T.error.body,T.rawResponse);case 498:throw new r.InvalidTokenError(T.error.body,T.rawResponse);case 499:throw new r.ClientClosedRequestError(T.error.body,T.rawResponse);case 500:throw new r.InternalServerError(T.error.body,T.rawResponse);case 501:throw new r.NotImplementedError(T.error.body,T.rawResponse);case 503:throw new r.ServiceUnavailableError(T.error.body,T.rawResponse);case 504:throw new r.GatewayTimeoutError(T.error.body,T.rawResponse);default:throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.body,rawResponse:T.rawResponse})}switch(T.error.reason){case"non-json":throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.rawBody,rawResponse:T.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/generate.");case"unknown":throw new S.CohereError({message:T.error.errorMessage,rawResponse:T.rawResponse})}})}generate(x,M){return p.HttpResponsePromise.fromPromise(this.__generate(x,M))}__generate(x,M){return u(this,void 0,void 0,function*(){var D,P,F,B,q,w,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),T=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:re,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:Object.assign(Object.assign({},R.GenerateRequest.jsonOrThrow(x,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(T.ok)return{data:R.Generation.parseOrThrow(T.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:T.rawResponse};if(T.error.reason==="status-code")switch(T.error.statusCode){case 400:throw new r.BadRequestError(T.error.body,T.rawResponse);case 401:throw new r.UnauthorizedError(T.error.body,T.rawResponse);case 403:throw new r.ForbiddenError(T.error.body,T.rawResponse);case 404:throw new r.NotFoundError(T.error.body,T.rawResponse);case 422:throw new r.UnprocessableEntityError(T.error.body,T.rawResponse);case 429:throw new r.TooManyRequestsError(T.error.body,T.rawResponse);case 498:throw new r.InvalidTokenError(T.error.body,T.rawResponse);case 499:throw new r.ClientClosedRequestError(T.error.body,T.rawResponse);case 500:throw new r.InternalServerError(T.error.body,T.rawResponse);case 501:throw new r.NotImplementedError(T.error.body,T.rawResponse);case 503:throw new r.ServiceUnavailableError(T.error.body,T.rawResponse);case 504:throw new r.GatewayTimeoutError(T.error.body,T.rawResponse);default:throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.body,rawResponse:T.rawResponse})}switch(T.error.reason){case"non-json":throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.rawBody,rawResponse:T.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/generate.");case"unknown":throw new S.CohereError({message:T.error.errorMessage,rawResponse:T.rawResponse})}})}embed(x={},M){return p.HttpResponsePromise.fromPromise(this.__embed(x,M))}__embed(){return u(this,arguments,void 0,function*(x={},M){var D,P,F,B,q,w,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),T=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/embed"),method:"POST",headers:re,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:R.EmbedRequest.jsonOrThrow(x,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(T.ok)return{data:R.EmbedResponse.parseOrThrow(T.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:T.rawResponse};if(T.error.reason==="status-code")switch(T.error.statusCode){case 400:throw new r.BadRequestError(T.error.body,T.rawResponse);case 401:throw new r.UnauthorizedError(T.error.body,T.rawResponse);case 403:throw new r.ForbiddenError(T.error.body,T.rawResponse);case 404:throw new r.NotFoundError(T.error.body,T.rawResponse);case 422:throw new r.UnprocessableEntityError(T.error.body,T.rawResponse);case 429:throw new r.TooManyRequestsError(T.error.body,T.rawResponse);case 498:throw new r.InvalidTokenError(T.error.body,T.rawResponse);case 499:throw new r.ClientClosedRequestError(T.error.body,T.rawResponse);case 500:throw new r.InternalServerError(T.error.body,T.rawResponse);case 501:throw new r.NotImplementedError(T.error.body,T.rawResponse);case 503:throw new r.ServiceUnavailableError(T.error.body,T.rawResponse);case 504:throw new r.GatewayTimeoutError(T.error.body,T.rawResponse);default:throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.body,rawResponse:T.rawResponse})}switch(T.error.reason){case"non-json":throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.rawBody,rawResponse:T.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/embed.");case"unknown":throw new S.CohereError({message:T.error.errorMessage,rawResponse:T.rawResponse})}})}rerank(x,M){return p.HttpResponsePromise.fromPromise(this.__rerank(x,M))}__rerank(x,M){return u(this,void 0,void 0,function*(){var D,P,F,B,q,w,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),T=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/rerank"),method:"POST",headers:re,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:R.RerankRequest.jsonOrThrow(x,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(T.ok)return{data:R.RerankResponse.parseOrThrow(T.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:T.rawResponse};if(T.error.reason==="status-code")switch(T.error.statusCode){case 400:throw new r.BadRequestError(T.error.body,T.rawResponse);case 401:throw new r.UnauthorizedError(T.error.body,T.rawResponse);case 403:throw new r.ForbiddenError(T.error.body,T.rawResponse);case 404:throw new r.NotFoundError(T.error.body,T.rawResponse);case 422:throw new r.UnprocessableEntityError(T.error.body,T.rawResponse);case 429:throw new r.TooManyRequestsError(T.error.body,T.rawResponse);case 498:throw new r.InvalidTokenError(T.error.body,T.rawResponse);case 499:throw new r.ClientClosedRequestError(T.error.body,T.rawResponse);case 500:throw new r.InternalServerError(T.error.body,T.rawResponse);case 501:throw new r.NotImplementedError(T.error.body,T.rawResponse);case 503:throw new r.ServiceUnavailableError(T.error.body,T.rawResponse);case 504:throw new r.GatewayTimeoutError(T.error.body,T.rawResponse);default:throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.body,rawResponse:T.rawResponse})}switch(T.error.reason){case"non-json":throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.rawBody,rawResponse:T.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/rerank.");case"unknown":throw new S.CohereError({message:T.error.errorMessage,rawResponse:T.rawResponse})}})}classify(x,M){return p.HttpResponsePromise.fromPromise(this.__classify(x,M))}__classify(x,M){return u(this,void 0,void 0,function*(){var D,P,F,B,q,w,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),T=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/classify"),method:"POST",headers:re,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:R.ClassifyRequest.jsonOrThrow(x,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(T.ok)return{data:R.ClassifyResponse.parseOrThrow(T.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:T.rawResponse};if(T.error.reason==="status-code")switch(T.error.statusCode){case 400:throw new r.BadRequestError(T.error.body,T.rawResponse);case 401:throw new r.UnauthorizedError(T.error.body,T.rawResponse);case 403:throw new r.ForbiddenError(T.error.body,T.rawResponse);case 404:throw new r.NotFoundError(T.error.body,T.rawResponse);case 422:throw new r.UnprocessableEntityError(T.error.body,T.rawResponse);case 429:throw new r.TooManyRequestsError(T.error.body,T.rawResponse);case 498:throw new r.InvalidTokenError(T.error.body,T.rawResponse);case 499:throw new r.ClientClosedRequestError(T.error.body,T.rawResponse);case 500:throw new r.InternalServerError(T.error.body,T.rawResponse);case 501:throw new r.NotImplementedError(T.error.body,T.rawResponse);case 503:throw new r.ServiceUnavailableError(T.error.body,T.rawResponse);case 504:throw new r.GatewayTimeoutError(T.error.body,T.rawResponse);default:throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.body,rawResponse:T.rawResponse})}switch(T.error.reason){case"non-json":throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.rawBody,rawResponse:T.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/classify.");case"unknown":throw new S.CohereError({message:T.error.errorMessage,rawResponse:T.rawResponse})}})}summarize(x,M){return p.HttpResponsePromise.fromPromise(this.__summarize(x,M))}__summarize(x,M){return u(this,void 0,void 0,function*(){var D,P,F,B,q,w,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),T=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/summarize"),method:"POST",headers:re,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:R.SummarizeRequest.jsonOrThrow(x,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(T.ok)return{data:R.SummarizeResponse.parseOrThrow(T.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:T.rawResponse};if(T.error.reason==="status-code")switch(T.error.statusCode){case 400:throw new r.BadRequestError(T.error.body,T.rawResponse);case 401:throw new r.UnauthorizedError(T.error.body,T.rawResponse);case 403:throw new r.ForbiddenError(T.error.body,T.rawResponse);case 404:throw new r.NotFoundError(T.error.body,T.rawResponse);case 422:throw new r.UnprocessableEntityError(T.error.body,T.rawResponse);case 429:throw new r.TooManyRequestsError(T.error.body,T.rawResponse);case 498:throw new r.InvalidTokenError(T.error.body,T.rawResponse);case 499:throw new r.ClientClosedRequestError(T.error.body,T.rawResponse);case 500:throw new r.InternalServerError(T.error.body,T.rawResponse);case 501:throw new r.NotImplementedError(T.error.body,T.rawResponse);case 503:throw new r.ServiceUnavailableError(T.error.body,T.rawResponse);case 504:throw new r.GatewayTimeoutError(T.error.body,T.rawResponse);default:throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.body,rawResponse:T.rawResponse})}switch(T.error.reason){case"non-json":throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.rawBody,rawResponse:T.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/summarize.");case"unknown":throw new S.CohereError({message:T.error.errorMessage,rawResponse:T.rawResponse})}})}tokenize(x,M){return p.HttpResponsePromise.fromPromise(this.__tokenize(x,M))}__tokenize(x,M){return u(this,void 0,void 0,function*(){var D,P,F,B,q,w,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),T=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/tokenize"),method:"POST",headers:re,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:R.TokenizeRequest.jsonOrThrow(x,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(T.ok)return{data:R.TokenizeResponse.parseOrThrow(T.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:T.rawResponse};if(T.error.reason==="status-code")switch(T.error.statusCode){case 400:throw new r.BadRequestError(T.error.body,T.rawResponse);case 401:throw new r.UnauthorizedError(T.error.body,T.rawResponse);case 403:throw new r.ForbiddenError(T.error.body,T.rawResponse);case 404:throw new r.NotFoundError(T.error.body,T.rawResponse);case 422:throw new r.UnprocessableEntityError(T.error.body,T.rawResponse);case 429:throw new r.TooManyRequestsError(T.error.body,T.rawResponse);case 498:throw new r.InvalidTokenError(T.error.body,T.rawResponse);case 499:throw new r.ClientClosedRequestError(T.error.body,T.rawResponse);case 500:throw new r.InternalServerError(T.error.body,T.rawResponse);case 501:throw new r.NotImplementedError(T.error.body,T.rawResponse);case 503:throw new r.ServiceUnavailableError(T.error.body,T.rawResponse);case 504:throw new r.GatewayTimeoutError(T.error.body,T.rawResponse);default:throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.body,rawResponse:T.rawResponse})}switch(T.error.reason){case"non-json":throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.rawBody,rawResponse:T.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/tokenize.");case"unknown":throw new S.CohereError({message:T.error.errorMessage,rawResponse:T.rawResponse})}})}detokenize(x,M){return p.HttpResponsePromise.fromPromise(this.__detokenize(x,M))}__detokenize(x,M){return u(this,void 0,void 0,function*(){var D,P,F,B,q,w,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=M?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),M?.headers),T=yield((B=this._options.fetcher)!==null&&B!==void 0?B:p.fetcher)({url:p.url.join((w=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&w!==void 0?w:v.CohereEnvironment.Production,"v1/detokenize"),method:"POST",headers:re,contentType:"application/json",queryParameters:M?.queryParams,requestType:"json",body:R.DetokenizeRequest.jsonOrThrow(x,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=M?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=M?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:M?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(T.ok)return{data:R.DetokenizeResponse.parseOrThrow(T.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:T.rawResponse};if(T.error.reason==="status-code")switch(T.error.statusCode){case 400:throw new r.BadRequestError(T.error.body,T.rawResponse);case 401:throw new r.UnauthorizedError(T.error.body,T.rawResponse);case 403:throw new r.ForbiddenError(T.error.body,T.rawResponse);case 404:throw new r.NotFoundError(T.error.body,T.rawResponse);case 422:throw new r.UnprocessableEntityError(T.error.body,T.rawResponse);case 429:throw new r.TooManyRequestsError(T.error.body,T.rawResponse);case 498:throw new r.InvalidTokenError(T.error.body,T.rawResponse);case 499:throw new r.ClientClosedRequestError(T.error.body,T.rawResponse);case 500:throw new r.InternalServerError(T.error.body,T.rawResponse);case 501:throw new r.NotImplementedError(T.error.body,T.rawResponse);case 503:throw new r.ServiceUnavailableError(T.error.body,T.rawResponse);case 504:throw new r.GatewayTimeoutError(T.error.body,T.rawResponse);default:throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.body,rawResponse:T.rawResponse})}switch(T.error.reason){case"non-json":throw new S.CohereError({statusCode:T.error.statusCode,body:T.error.rawBody,rawResponse:T.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/detokenize.");case"unknown":throw new S.CohereError({message:T.error.errorMessage,rawResponse:T.rawResponse})}})}checkApiKey(x){return p.HttpResponsePromise.fromPromise(this.__checkApiKey(x))}__checkApiKey(x){return u(this,void 0,void 0,function*(){var M,D,P,F,B,q,w,H,Y,W,$,k;const Q=(0,y.mergeHeaders)((M=this._options)===null||M===void 0?void 0:M.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(D=x?.clientName)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.clientName}),x?.headers),re=yield((F=this._options.fetcher)!==null&&F!==void 0?F:p.fetcher)({url:p.url.join((q=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&q!==void 0?q:v.CohereEnvironment.Production,"v1/check-api-key"),method:"POST",headers:Q,queryParameters:x?.queryParams,timeoutMs:((Y=(w=x?.timeoutInSeconds)!==null&&w!==void 0?w:(H=this._options)===null||H===void 0?void 0:H.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(W=x?.maxRetries)!==null&&W!==void 0?W:($=this._options)===null||$===void 0?void 0:$.maxRetries,abortSignal:x?.abortSignal,fetchFn:(k=this._options)===null||k===void 0?void 0:k.fetch,logging:this._options.logging});if(re.ok)return{data:R.CheckApiKeyResponse.parseOrThrow(re.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:re.rawResponse};if(re.error.reason==="status-code")switch(re.error.statusCode){case 400:throw new r.BadRequestError(re.error.body,re.rawResponse);case 401:throw new r.UnauthorizedError(re.error.body,re.rawResponse);case 403:throw new r.ForbiddenError(re.error.body,re.rawResponse);case 404:throw new r.NotFoundError(re.error.body,re.rawResponse);case 422:throw new r.UnprocessableEntityError(re.error.body,re.rawResponse);case 429:throw new r.TooManyRequestsError(re.error.body,re.rawResponse);case 498:throw new r.InvalidTokenError(re.error.body,re.rawResponse);case 499:throw new r.ClientClosedRequestError(re.error.body,re.rawResponse);case 500:throw new r.InternalServerError(re.error.body,re.rawResponse);case 501:throw new r.NotImplementedError(re.error.body,re.rawResponse);case 503:throw new r.ServiceUnavailableError(re.error.body,re.rawResponse);case 504:throw new r.GatewayTimeoutError(re.error.body,re.rawResponse);default:throw new S.CohereError({statusCode:re.error.statusCode,body:re.error.body,rawResponse:re.rawResponse})}switch(re.error.reason){case"non-json":throw new S.CohereError({statusCode:re.error.statusCode,body:re.error.rawBody,rawResponse:re.rawResponse});case"timeout":throw new S.CohereTimeoutError("Timeout exceeded when calling POST /v1/check-api-key.");case"unknown":throw new S.CohereError({message:re.error.errorMessage,rawResponse:re.rawResponse})}})}_getAuthorizationHeader(){return u(this,void 0,void 0,function*(){var x;const M=(x=yield p.Supplier.get(this._options.token))!==null&&x!==void 0?x:process==null?void 0:e.CO_API_KEY;if(M!=null)return`Bearer ${M}`})}}return Pr.CohereClient=j,Pr}var Em={},fV;function cJ(){if(fV)return Em;fV=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.CohereClientV2=void 0;const e=lJ(),n=mx();class o{constructor(u){this._options=u,this.client=new n.CohereClient(this._options),this.clientV2=new e.V2(this._options),this.chat=this.clientV2.chat.bind(this.clientV2),this.chatStream=this.clientV2.chatStream.bind(this.clientV2),this.embed=this.clientV2.embed.bind(this.clientV2),this.rerank=this.clientV2.rerank.bind(this.clientV2),this.generateStream=this.client.generateStream.bind(this.clientV2),this.generate=this.client.generate.bind(this.clientV2),this.classify=this.client.classify.bind(this.clientV2),this.summarize=this.client.summarize.bind(this.clientV2),this.tokenize=this.client.tokenize.bind(this.clientV2),this.detokenize=this.client.detokenize.bind(this.clientV2),this.checkApiKey=this.client.checkApiKey.bind(this.clientV2),this.embedJobs=this.client.embedJobs,this.datasets=this.client.datasets,this.connectors=this.client.connectors,this.models=this.client.models,this.finetuning=this.client.finetuning,this.batches=this.client.batches}}return Em.CohereClientV2=o,Em}var hV;function dJ(){if(hV)return xf;hV=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.AwsClientV2=xf.AwsClient=void 0;const e=mx(),n=cJ();let o=class extends e.CohereClient{constructor(t){t.token="n/a",super(t)}};xf.AwsClient=o;class i extends n.CohereClientV2{constructor(t){t.token="n/a",super(t)}}return xf.AwsClientV2=i,xf}var pV;function ave(){if(pV)return ef;pV=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.BedrockClientV2=ef.BedrockClient=void 0;const e=uJ(),n=dJ();let o=class extends n.AwsClient{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,e.fetchOverride)("bedrock",t)}))}};ef.BedrockClient=o;class i extends n.AwsClientV2{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,e.fetchOverride)("bedrock",t)}))}}return ef.BedrockClientV2=i,ef}var Rm={},gV;function ive(){if(gV)return Rm;gV=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.CustomClient=void 0;const e=mx();let n=class extends e.CohereClient{constructor(i={}){var u,t;try{const r=/\/v1\/?$/,a=(u=i.environment)===null||u===void 0?void 0:u.toString().replace(r,"");a!==((t=i.environment)===null||t===void 0?void 0:t.toString())&&(i.environment=a)}catch{}super(i),this._options=i}};return Rm.CustomClient=n,Rm}var Pf={},mV;function ove(){if(mV)return Pf;mV=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.SagemakerClientV2=Pf.SagemakerClient=void 0;const e=dJ(),n=uJ();let o=class extends e.AwsClient{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,n.fetchOverride)("sagemaker",t)}))}};Pf.SagemakerClient=o;class i extends e.AwsClientV2{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,n.fetchOverride)("sagemaker",t)}))}}return Pf.SagemakerClientV2=i,Pf}var _V;function sve(){return _V||(_V=1,(function(e){var n=Kl&&Kl.__createBinding||(Object.create?(function(f,m,b,_){_===void 0&&(_=b);var p=Object.getOwnPropertyDescriptor(m,b);(!p||("get"in p?!m.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(f,_,p)}):(function(f,m,b,_){_===void 0&&(_=b),f[_]=m[b]})),o=Kl&&Kl.__setModuleDefault||(Object.create?(function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}):function(f,m){f.default=m}),i=Kl&&Kl.__importStar||(function(){var f=function(m){return f=Object.getOwnPropertyNames||function(b){var _=[];for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(_[_.length]=p);return _},f(m)};return function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var _=f(m),p=0;p<_.length;p++)_[p]!=="default"&&n(b,m,_[p]);return o(b,m),b}})();Object.defineProperty(e,"__esModule",{value:!0}),e.SagemakerClientV2=e.SagemakerClient=e.CohereTimeoutError=e.CohereError=e.CohereEnvironment=e.CohereClient=e.CohereClientV2=e.BedrockClientV2=e.BedrockClient=e.Cohere=void 0,e.Cohere=i(ic());var u=ave();Object.defineProperty(e,"BedrockClient",{enumerable:!0,get:function(){return u.BedrockClient}}),Object.defineProperty(e,"BedrockClientV2",{enumerable:!0,get:function(){return u.BedrockClientV2}});var t=cJ();Object.defineProperty(e,"CohereClientV2",{enumerable:!0,get:function(){return t.CohereClientV2}});var r=ive();Object.defineProperty(e,"CohereClient",{enumerable:!0,get:function(){return r.CustomClient}});var a=cc();Object.defineProperty(e,"CohereEnvironment",{enumerable:!0,get:function(){return a.CohereEnvironment}});var s=Wt();Object.defineProperty(e,"CohereError",{enumerable:!0,get:function(){return s.CohereError}}),Object.defineProperty(e,"CohereTimeoutError",{enumerable:!0,get:function(){return s.CohereTimeoutError}});var l=ove();Object.defineProperty(e,"SagemakerClient",{enumerable:!0,get:function(){return l.SagemakerClient}}),Object.defineProperty(e,"SagemakerClientV2",{enumerable:!0,get:function(){return l.SagemakerClientV2}})})(Kl)),Kl}var uve=sve();function _x(e){if(e?.client)return e.client;const n=e?.apiKey??wl("COHERE_API_KEY");if(!n)throw new Error("COHERE_API_KEY must be set");return new uve.CohereClient({token:n})}function yV(e){const n=[];let o=[];typeof e=="string"?o=[{output:e}]:e instanceof Map||typeof e=="object"&&e!==null&&!Array.isArray(e)?o=[e]:Array.isArray(e)||(o=[{output:e}]);for(let i of o)!(i instanceof Map)&&(typeof i!="object"||i===null)&&(i={output:i}),n.push(i);return n}function $v(e,n){const o=t=>{switch(t){case"system":return"SYSTEM";case"human":return"USER";case"ai":return"CHATBOT";case"tool":return"TOOL";default:throw new Error(`Unknown message type: '${t}'. Accepted types: 'human', 'ai', 'system', 'tool'`)}},i=t=>{if(typeof t=="string")return t;throw new Error(`ChatCohere does not support non text message content. Received: ${JSON.stringify(t,null,2)}`)},u=t=>Kc(t)&&t.tool_calls?t.tool_calls.map(r=>({name:r.name,parameters:r.args})):[];if(e._getType().toLowerCase()==="ai")return{role:o(e._getType()),message:i(e.content),toolCalls:u(e)};if(e._getType().toLowerCase()==="tool")return{role:o(e._getType()),message:i(e.content),toolResults:n};if(e._getType().toLowerCase()==="human"||e._getType().toLowerCase()==="system")return{role:o(e._getType()),message:i(e.content)};throw new Error("Got unknown message type. Supported types are AIMessage, ToolMessage, HumanMessage, and SystemMessage")}function lve(e){return"name"in e&&"description"in e&&"parameterDefinitions"in e}function vV(e){return e._getType()==="tool"}function bV(e){const n="properties"in e?e.properties:{};let o="required"in e?e.required:[];const i={};return Object.keys(n).forEach(u=>{i[u]=n[u],o===void 0&&(o=[]),i[u].required=o.includes(u)}),i}function cve(e){if(e){if(e.every(lve))return e;if(e.every(HH))return e.map(n=>({name:n.function.name,description:n.function.description??"",parameterDefinitions:bV(n.function.parameters)}));if(e.every(IM))return e.map(n=>{const o=Zc(n.schema)?Xl(n.schema):n.schema;return{name:n.name,description:n.description??"",parameterDefinitions:bV(o)}});throw new Error("Can not pass in a mix of tool schema types to ChatCohere.")}else return}var dve=class extends Fb{static lc_name(){return"ChatCohere"}lc_serializable=!0;client;model="command-r-plus";temperature=.3;streaming=!1;streamUsage=!0;constructor(e){super(e??{}),this.client=_x(e),this.model=e?.model??this.model,this.temperature=e?.temperature??this.temperature,this.streaming=e?.streaming??this.streaming,this.streamUsage=e?.streamUsage??this.streamUsage}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"cohere",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.temperature??void 0,ls_max_tokens:typeof n.maxTokens=="number"?n.maxTokens:void 0,ls_stop:Array.isArray(n.stopSequences)?n.stopSequences:void 0}}_llmType(){return"cohere"}invocationParams(e){if(e.tool_choice)throw new Error("'tool_choice' call option is not supported by ChatCohere.");const n={model:this.model,preamble:e.preamble,conversationId:e.conversationId,promptTruncation:e.promptTruncation,connectors:e.connectors,searchQueriesOnly:e.searchQueriesOnly,documents:e.documents,temperature:e.temperature??this.temperature,forceSingleStep:e.forceSingleStep,tools:e.tools};return Object.fromEntries(Object.entries(n).filter(([,o])=>o!==void 0))}bindTools(e,n){return this.withConfig({tools:cve(e),...n})}_getChatRequest(e,n){const o=this.invocationParams(n),i=this._messagesToCohereToolResultsCurrChatTurn(e),u=[];let t="",r=[];if(o.forceSingleStep){t="";for(let s=0;s<e.length-1;s+=1){const l=e[s];if(!(Kc(l)&&l.tool_calls))if(l._getType().toLowerCase()==="tool"){if(r=r.concat(this._messageToCohereToolResults(e,s)),s===e.length-1||e[s+1]._getType().toLowerCase()!=="tool"){const f=$v(l,r);u.push(f),r=[]}}else u.push($v(l,[]))}for(let s=e.length-1;s>=0;s-=1){const l=e[s];if(l._getType().toLowerCase()==="human"&&l.content){t=l.content.toString();break}}}else{for(let s=0;s<e.length-1;s+=1){const l=e[s];if(l._getType().toLowerCase()==="tool"){if(r=r.concat(this._messageToCohereToolResults(e,s)),s===e.length-1||e[s+1]._getType().toLowerCase()!=="tool"){const f=$v(l,r);u.push(f),r=[]}}else u.push($v(l,[]))}t=i.length>0?"":e[e.length-1].content.toString()}return{message:t,chatHistory:u,toolResults:i.length>0?i:void 0,...o}}_getCurrChatTurnMessages(e){const n=[];for(let o=e.length-1;o>=0;o-=1){const i=e[o];if(n.push(i),i._getType().toLowerCase()==="human")break}return n.reverse()}_messagesToCohereToolResultsCurrChatTurn(e){const n=[],o=this._getCurrChatTurnMessages(e);for(const i of o)if(vV(i)){const u=i,t=o.filter(r=>Kc(r)&&r.tool_calls!==void 0);if(t.length>0){const r=t[t.length-1];r.tool_calls&&n.push(...r.tool_calls.filter(a=>a.id===u.tool_call_id).map(a=>({call:{name:a.name,parameters:a.args},outputs:yV(u.content)})))}}return n}_messageToCohereToolResults(e,n){const o=[],i=e[n];if(!vV(i))throw new Error("The message index does not correspond to an instance of ToolMessage");const t=e.slice(0,n).filter(r=>Kc(r)&&r.tool_calls).slice(-1)[0];return t.tool_calls&&o.push(...t.tool_calls.filter(r=>r.id===i.tool_call_id).map(r=>({call:{name:r.name,parameters:r.args},outputs:yV(i.content)}))),o}_formatCohereToolCalls(e=null){if(!e)return[];const n=[];for(const o of e)n.push({id:Fc().substring(0,32),function:{name:o.name,arguments:o.parameters},type:"function"});return n}_convertCohereToolCallToLangchain(e){return e.map(n=>({name:n.function.name,args:n.function.arguments,id:n.id,type:"tool_call"}))}async _generate(e,n,o){const i={},u=this._getChatRequest(e,n);if(this.streaming){const l=this._streamResponseChunks(e,n,o),f={};for await(const b of l){const _=b.generationInfo?.completion??0;f[_]===void 0?f[_]=b:f[_]=f[_].concat(b)}return{generations:Object.entries(f).sort(([b],[_])=>parseInt(b,10)-parseInt(_,10)).map(([b,_])=>_),llmOutput:{estimatedTokenUsage:i}}}const t=await this.caller.callWithOptions({signal:n.signal},async()=>{let l;try{l=await this.client.chat(u)}catch(f){throw f.status=f.status??f.statusCode,f}return l});if(t.meta?.tokens){const{inputTokens:l,outputTokens:f}=t.meta.tokens;f&&(i.completionTokens=(i.completionTokens??0)+f),l&&(i.promptTokens=(i.promptTokens??0)+l),i.totalTokens=(i.totalTokens??0)+(i.promptTokens??0)+(i.completionTokens??0)}const r={...t};delete r.text,t.toolCalls&&t.toolCalls.length>0&&(r.toolCalls=this._formatCohereToolCalls(t.toolCalls));let a=[];return"toolCalls"in r&&(a=this._convertCohereToolCallToLangchain(r.toolCalls)),{generations:[{text:t.text,message:new Sr({content:t.text,additional_kwargs:r,tool_calls:a,usage_metadata:{input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens??0}}),generationInfo:r}],llmOutput:{estimatedTokenUsage:i}}}async*_streamResponseChunks(e,n,o){const i=this._getChatRequest(e,n),u=await this.caller.call(async()=>{let t;try{t=await this.client.chatStream(i)}catch(r){throw r.status=r.status??r.statusCode,r}return t});for await(const t of u)if(t.eventType==="text-generation")yield new Wc({text:t.text,message:new Bn({content:t.text})}),await o?.handleLLMNewToken(t.text);else if(t.eventType!=="stream-end")yield new Wc({text:"",message:new Bn({content:"",additional_kwargs:{...t}}),generationInfo:{...t}});else if(t.eventType==="stream-end"&&(this.streamUsage||n.streamUsage)){const r=t.response.meta?.tokens?.inputTokens??0,a=t.response.meta?.tokens?.outputTokens??0,s={...t.response};t.response.toolCalls&&t.response.toolCalls.length>0&&(s.toolCalls=this._formatCohereToolCalls(t.response.toolCalls));let l=[];const f=s.toolCalls??[];f.length>0&&(l=f.map(m=>({name:m.function.name,args:m.function.arguments,id:m.id,index:m.index,type:"tool_call_chunk"}))),yield new Wc({text:"",message:new Bn({content:"",additional_kwargs:{eventType:"stream-end"},tool_call_chunks:l,usage_metadata:{input_tokens:r,output_tokens:a,total_tokens:r+a}}),generationInfo:{eventType:"stream-end",...s}})}}_combineLLMOutput(...e){return e.reduce((n,o)=>{if(o&&o.estimatedTokenUsage){let i=n.estimatedTokenUsage?.completionTokens??0,u=n.estimatedTokenUsage?.promptTokens??0,t=n.estimatedTokenUsage?.totalTokens??0;i+=o.estimatedTokenUsage.completionTokens??0,u+=o.estimatedTokenUsage.promptTokens??0,t+=o.estimatedTokenUsage.totalTokens??0,n.estimatedTokenUsage={completionTokens:i,promptTokens:u,totalTokens:t}}return n},{estimatedTokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}},fve={};ct(fve,{BaseLLM:()=>fJ,LLM:()=>hve});var fJ=class Nm extends xM{lc_namespace=["langchain","llms",this._llmType()];async invoke(n,o){const i=Nm._convertInputToPromptValue(n);return(await this.generatePrompt([i],o,o?.callbacks)).generations[0][0].text}async*_streamResponseChunks(n,o,i){throw new Error("Not implemented.")}_separateRunnableConfigFromCallOptionsCompat(n){const[o,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=o.signal,[o,i]}async*_streamIterator(n,o){if(this._streamResponseChunks===Nm.prototype._streamResponseChunks)yield this.invoke(n,o);else{const i=Nm._convertInputToPromptValue(n),[u,t]=this._separateRunnableConfigFromCallOptionsCompat(o),r=await Yr.configure(u.callbacks,this.callbacks,u.tags,this.tags,u.metadata,this.metadata,{verbose:this.verbose}),a={options:t,invocation_params:this?.invocationParams(t),batch_size:1},s=await r?.handleLLMStart(this.toJSON(),[i.toString()],u.runId,void 0,a,void 0,void 0,u.runName);let l=new np({text:""});try{for await(const f of this._streamResponseChunks(i.toString(),t,s?.[0]))l?l=l.concat(f):l=f,typeof f.text=="string"&&(yield f.text)}catch(f){throw await Promise.all((s??[]).map(m=>m?.handleLLMError(f))),f}await Promise.all((s??[]).map(f=>f?.handleLLMEnd({generations:[[l]]})))}}async generatePrompt(n,o,i){const u=n.map(t=>t.toString());return this.generate(u,o,i)}invocationParams(n){return{}}_flattenLLMResult(n){const o=[];for(let i=0;i<n.generations.length;i+=1){const u=n.generations[i];if(i===0)o.push({generations:[u],llmOutput:n.llmOutput});else{const t=n.llmOutput?{...n.llmOutput,tokenUsage:{}}:void 0;o.push({generations:[u],llmOutput:t})}}return o}async _generateUncached(n,o,i,u){let t;if(u!==void 0&&u.length===n.length)t=u;else{const l=await Yr.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),f={options:o,invocation_params:this?.invocationParams(o),batch_size:n.length};t=await l?.handleLLMStart(this.toJSON(),n,i.runId,void 0,f,void 0,void 0,i?.runName)}const r=!!t?.[0].handlers.find(cM);let a;if(r&&n.length===1&&this._streamResponseChunks!==Nm.prototype._streamResponseChunks)try{const l=await this._streamResponseChunks(n[0],o,t?.[0]);let f;for await(const m of l)f===void 0?f=m:f=rd(f,m);if(f===void 0)throw new Error("Received empty response from chat model call.");a={generations:[[f]],llmOutput:{}},await t?.[0].handleLLMEnd(a)}catch(l){throw await t?.[0].handleLLMError(l),l}else{try{a=await this._generate(n,o,t?.[0])}catch(f){throw await Promise.all((t??[]).map(m=>m?.handleLLMError(f))),f}const l=this._flattenLLMResult(a);await Promise.all((t??[]).map((f,m)=>f?.handleLLMEnd(l[m])))}const s=t?.map(l=>l.runId)||void 0;return Object.defineProperty(a,Wm,{value:s?{runIds:s}:void 0,configurable:!0}),a}async _generateCached({prompts:n,cache:o,llmStringKey:i,parsedOptions:u,handledOptions:t,runId:r}){const a=await Yr.configure(t.callbacks,this.callbacks,t.tags,this.tags,t.metadata,this.metadata,{verbose:this.verbose}),s={options:u,invocation_params:this?.invocationParams(u),batch_size:n.length},l=await a?.handleLLMStart(this.toJSON(),n,r,void 0,s,void 0,void 0,t?.runName),f=[],b=(await Promise.allSettled(n.map(async(y,v)=>{const S=await o.lookup(y,i);return S==null&&f.push(v),S}))).map((y,v)=>({result:y,runManager:l?.[v]})).filter(({result:y})=>y.status==="fulfilled"&&y.value!=null||y.status==="rejected"),_=[];await Promise.all(b.map(async({result:y,runManager:v},S)=>{if(y.status==="fulfilled"){const R=y.value;return _[S]=R.map(j=>(j.generationInfo={...j.generationInfo,tokenUsage:{}},j)),R.length&&await v?.handleLLMNewToken(R[0].text),v?.handleLLMEnd({generations:[R]},void 0,void 0,void 0,{cached:!0})}else return await v?.handleLLMError(y.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(y.reason)}));const p={generations:_,missingPromptIndices:f,startedRunManagers:l};return Object.defineProperty(p,Wm,{value:l?{runIds:l?.map(y=>y.runId)}:void 0,configurable:!0}),p}async generate(n,o,i){if(!Array.isArray(n))throw new Error("Argument 'prompts' is expected to be a string[]");let u;Array.isArray(o)?u={stop:o}:u=o;const[t,r]=this._separateRunnableConfigFromCallOptionsCompat(u);if(t.callbacks=t.callbacks??i,!this.cache)return this._generateUncached(n,r,t);const{cache:a}=this,s=this._getSerializedCacheKeyParametersForCall(r),{generations:l,missingPromptIndices:f,startedRunManagers:m}=await this._generateCached({prompts:n,cache:a,llmStringKey:s,parsedOptions:r,handledOptions:t,runId:t.runId});let b={};if(f.length>0){const _=await this._generateUncached(f.map(p=>n[p]),r,t,m!==void 0?f.map(p=>m?.[p]):void 0);await Promise.all(_.generations.map(async(p,y)=>{const v=f[y];return l[v]=p,a.update(n[v],s,p)})),b=_.llmOutput??{}}return{generations:l,llmOutput:b}}_identifyingParams(){return{}}_modelType(){return"base_llm"}},hve=class extends fJ{async _generate(e,n,o){return{generations:await Promise.all(e.map((u,t)=>this._call(u,{...n,promptIndex:t},o).then(r=>[{text:r}])))}}},pve={};ct(pve,{Embeddings:()=>hJ});var hJ=class{caller;constructor(e){this.caller=new p_(e??{})}},gve={};ct(gve,{chunkArray:()=>pJ});const pJ=(e,n)=>e.reduce((o,i,u)=>{const t=Math.floor(u/n),r=o[t]||[];return o[t]=r.concat([i]),o},[]);var jm=class extends hJ{model;batchSize=48;embeddingTypes=["float"];client;constructor(e){const n={maxConcurrency:2,...e};if(super(n),this.client=_x(n),this.model=n?.model??this.model,!this.model)throw new Error("Model not specified for CohereEmbeddings instance. Please provide a model name from the options here: https://docs.cohere.com/reference/embed");this.batchSize=n?.batchSize??this.batchSize,this.embeddingTypes=n?.embeddingTypes??this.embeddingTypes}async embedDocuments(e){const n=pJ(e,this.batchSize),o=n.map(t=>this.embeddingWithRetry({model:this.model,texts:t,inputType:"search_document",embeddingTypes:this.embeddingTypes})),i=await Promise.all(o),u=[];for(let t=0;t<i.length;t+=1){const r=n[t],{embeddings:a}=i[t];for(let s=0;s<r.length;s+=1)"float"in a&&a.float?u.push(a.float[s]):Array.isArray(a)&&u.push(a[s])}return u}async embedQuery(e){const{embeddings:n}=await this.embeddingWithRetry({model:this.model,texts:[e],inputType:"search_query",embeddingTypes:this.embeddingTypes});if("float"in n&&n.float)return n.float[0];if(Array.isArray(n))return n[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(n,null,2)}`)}async embed(e){const{embeddings:n}=await this.embeddingWithRetry(e);if("float"in n&&n.float)return n.float[0];if(Array.isArray(n))return n[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(n,null,2)}`)}async embeddingWithRetry(e){return this.caller.call(async()=>{let n;try{n=await this.client.embed(e)}catch(o){throw o.status=o.status??o.statusCode,o}return n})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}},mve={};ct(mve,{BaseDocumentCompressor:()=>gJ});var gJ=class{static isBaseDocumentCompressor(e){return e?.compressDocuments!==void 0}},wV=class extends gJ{model;topN=3;client;maxChunksPerDoc;constructor(e){if(super(),this.client=_x(e),this.model=e?.model??this.model,!this.model)throw new Error("Model not specified for CohereRerank instance. Please provide a model name from the options here: https://docs.cohere.com/reference/rerank");this.topN=e?.topN??this.topN,this.maxChunksPerDoc=e?.maxChunksPerDoc}async compressDocuments(e,n){if(e==null||e.length===0)return[];const o=e.map(t=>t.pageContent),{results:i}=await this.client.rerank({model:this.model,query:n,documents:o,topN:this.topN,maxChunksPerDoc:this.maxChunksPerDoc}),u=[];for(let t=0;t<i.length;t+=1){const r=i[t],a=e[r.index];a.metadata.relevanceScore=r.relevanceScore,u.push(a)}return u}async rerank(e,n,o){const i=e.map(l=>typeof l=="string"?l:l.pageContent),u=o?.model??this.model,t=o?.topN??this.topN,r=o?.maxChunksPerDoc??this.maxChunksPerDoc,{results:a}=await this.client.rerank({model:u,query:n,documents:i,topN:t,maxChunksPerDoc:r});return a.map(l=>({index:l.index,relevanceScore:l.relevanceScore}))}};function Ar(e,n,o){return n==="groq"?new ule({apiKey:e,model:o}):new dve({apiKey:e,model:o})}function OV({isOpen:e,onClose:n}){const{apiKey:o,provider:i,setApiKey:u,setAvailableModels:t}=Nr(),[r,a]=Ze.useState(i),[s,l]=Ze.useState(o||""),[f,m]=Ze.useState(!1),[b,_]=Ze.useState(o?"success":"idle"),[p,y]=Ze.useState(o?" API key loaded from storage":"");if(!e)return null;const v=async()=>{if(s.trim()){m(!0),_("idle"),y("");try{const j=r==="groq"?"llama-3.1-8b-instant":"command-a-03-2025";await Ar(s.trim(),r,j).invoke("Hi");let x=[];r==="groq"?x=["llama-3.1-8b-instant","llama-3.1-70b-versatile","llama-3.2-1b-preview","llama-3.2-3b-preview","mixtral-8x7b-32768","gemma2-9b-it"]:r==="cohere"&&(x=["command-a-03-2025","command-r-plus-08-2024","command-r-08-2024","command-r7b-12-2024"]),t(x),_("success"),y(` API key validated! Found ${x.length} available models`)}catch(j){_("error"),y(j instanceof Error?` Validation failed: ${j.message}`:" Invalid API key or network error")}finally{m(!1)}}},S=()=>{s.trim()&&b==="success"&&((s.trim()!==o||r!==i)&&u(s.trim(),r),n())},R={groq:{name:"Groq",url:"https://console.groq.com/keys",description:"Fastest inference, great for real-time demos"},cohere:{name:"Cohere",url:"https://dashboard.cohere.com/api-keys",description:"Excellent for RAG and embeddings"}};return C.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4 pointer-events-auto",children:C.jsxs("div",{className:"relative max-w-2xl w-full max-h-[90vh] overflow-y-auto pointer-events-auto",children:[C.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl pointer-events-none -z-10",children:[...Array(10)].map((j,A)=>C.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${8+Math.random()*4}s`}},A))}),C.jsxs("div",{className:"relative holo-border rounded-2xl bg-gradient-to-br from-slate-900/95 via-blue-900/40 to-purple-900/40 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/30 pointer-events-auto",children:[C.jsxs("div",{className:"sticky top-0 backdrop-blur-md bg-gradient-to-r from-cyan-500/10 to-purple-500/10 border-b border-cyan-500/30 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg shadow-lg",style:{boxShadow:"0 0 20px rgba(0, 212, 255, 0.5)"},children:C.jsx(DX,{className:"w-6 h-6 text-white"})}),C.jsx("h2",{className:"text-2xl font-bold heading-font neon-cyan tracking-wider",children:"API CONFIGURATION"})]}),C.jsx("button",{onClick:n,className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10",children:C.jsx($V,{className:"w-5 h-5 text-white"})})]}),C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsx("div",{className:"border border-cyan-500/30 rounded-xl p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 backdrop-blur-sm",children:C.jsx("p",{className:"text-sm text-cyan-100",children:o?' Your API key is securely stored in your browser. You can update it below or click "Save & Continue" to keep using the current key.':"Your API key is stored locally in your browser and never sent to any server except the LLM provider you choose."})}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-cyan-400 mb-3 uppercase tracking-wide",children:"Select Provider"}),C.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.keys(R).map(j=>C.jsx("button",{onClick:()=>{a(j),(j!==i||!o)&&(_("idle"),y(""))},className:`text-left p-4 rounded-xl border-2 transition-all hover-lift ${r===j?"border-cyan-400 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 shadow-neural":"border-white/20 glass hover:glass-strong hover:border-cyan-500/50"}`,children:C.jsxs("div",{className:"flex items-start justify-between",children:[C.jsxs("div",{children:[C.jsx("div",{className:"font-bold text-white text-lg",children:R[j].name}),C.jsx("div",{className:"text-sm text-white/70 mt-1",children:R[j].description})]}),C.jsx("a",{href:R[j].url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",onClick:A=>A.stopPropagation(),children:C.jsx(CX,{className:"w-5 h-5"})})]})},j))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-cyan-400 mb-2 uppercase tracking-wide",children:"API Key"}),C.jsx("input",{type:"password",value:s,onChange:j=>{l(j.target.value),_("idle"),y("")},placeholder:"Enter your API key",className:"w-full px-4 py-3 glass border border-cyan-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white placeholder-white/40 transition-all"}),C.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Get your API key from"," ",C.jsx("a",{href:R[r].url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 hover:underline",children:R[r].name})]})]}),p&&C.jsx("div",{className:`p-4 rounded-xl border-2 ${b==="success"?"bg-gradient-to-r from-green-500/20 to-cyan-500/20 border-green-400/50 text-green-100":"bg-gradient-to-r from-red-500/20 to-orange-500/20 border-red-400/50 text-red-100"}`,children:C.jsxs("div",{className:"flex items-center gap-2",children:[b==="success"?C.jsx(zV,{className:"w-5 h-5"}):C.jsx(IV,{className:"w-5 h-5"}),C.jsx("span",{className:"text-sm font-medium",children:p})]})}),C.jsxs("div",{className:"flex gap-3 pt-4",children:[C.jsx("button",{onClick:v,disabled:!s.trim()||f,className:"relative z-10 flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 disabled:from-slate-600 disabled:to-slate-700 text-white rounded-xl font-bold transition-all hover-lift disabled:cursor-not-allowed inline-flex items-center justify-center gap-2 shadow-lg pointer-events-auto",children:f?C.jsxs(C.Fragment,{children:[C.jsx(qV,{className:"w-4 h-4 animate-spin"}),"VALIDATING..."]}):"VALIDATE API KEY"}),C.jsx("button",{onClick:S,disabled:!s.trim()||b!=="success",className:"relative z-10 flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-slate-600 disabled:to-slate-700 text-white rounded-xl font-bold transition-all hover-lift disabled:cursor-not-allowed shadow-lg pointer-events-auto",children:"SAVE & CONTINUE"})]}),C.jsx("button",{onClick:n,className:"w-full px-6 py-3 glass hover:glass-strong border border-white/20 hover:border-white/40 text-white rounded-xl font-semibold transition-all hover-lift",children:"Cancel"})]})]})]})})}function _ve(){const{selectedModel:e,availableModels:n,setSelectedModel:o,provider:i}=Nr();if(n.length===0)return null;const t={groq:"from-orange-500 to-red-600",cohere:"from-blue-500 to-cyan-600"}[i]||"from-purple-500 to-blue-600";return C.jsxs("div",{className:"flex items-center gap-2 glass rounded-lg px-3 py-2 border border-white/10 hover:border-white/20 transition-all",children:[C.jsx("div",{className:`p-1.5 bg-gradient-to-br ${t} rounded-lg`,children:C.jsx(VT,{className:"w-3 h-3 text-white"})}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"text-xs text-white/50 uppercase tracking-wide",children:i||"Model"}),C.jsx("select",{value:e,onChange:r=>o(r.target.value),className:"text-sm bg-transparent text-white font-medium focus:outline-none cursor-pointer hover:text-gradient-neural transition-colors",children:n.map(r=>C.jsx("option",{value:r,className:"bg-slate-900 text-white",children:r},r))})]})]})}function NT(){const{language:e,setLanguage:n}=Nr(),o=i=>{n(i),document.documentElement.dir=i==="he"?"rtl":"ltr",document.documentElement.lang=i};return C.jsxs("div",{className:"flex items-center gap-1 glass rounded-lg p-1 border border-white/10 min-w-[140px]",children:[C.jsxs("button",{onClick:()=>o("en"),className:`flex items-center justify-center gap-1.5 px-2.5 py-1.5 rounded-md transition-all flex-1 min-w-[64px] ${e==="en"?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg":"text-white/60 hover:text-white hover:bg-white/10"}`,title:"English",children:[C.jsx("span",{className:"text-base leading-none",children:""}),C.jsx("span",{className:"text-sm font-medium",children:"EN"})]}),C.jsxs("button",{onClick:()=>o("he"),className:`flex items-center justify-center gap-1.5 px-2.5 py-1.5 rounded-md transition-all flex-1 min-w-[64px] ${e==="he"?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg":"text-white/60 hover:text-white hover:bg-white/10"}`,title:"",children:[C.jsx("span",{className:"text-base leading-none",children:""}),C.jsx("span",{className:"text-sm font-medium",children:"HE"})]})]})}function DT(){const{theme:e,setTheme:n}=Nr();return Ze.useEffect(()=>{document.documentElement.classList.toggle("light",e==="light"),document.documentElement.classList.toggle("dark",e==="dark")},[e]),C.jsx("button",{onClick:()=>n(e==="dark"?"light":"dark"),className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10",title:e==="dark"?"Switch to Light Mode":"Switch to Dark Mode",children:e==="dark"?C.jsx(eee,{className:"w-5 h-5 text-yellow-400"}):C.jsx(KX,{className:"w-5 h-5 text-blue-400"})})}const yve={en:{home:"Home",agents:"Agents",features:"Features",blog:"Blog",contact:"Contact",progress:"Progress",repo:"Repo",agentsDropdown:{progressiveLabs:"8 Progressive Labs",progressiveLabsDesc:"From basic components to orchestrator agents",interactiveLearning:"Interactive Learning",interactiveLearningDesc:"Hands-on code cells with real LLM integration",multiAgent:"Multi-Agent Systems",multiAgentDesc:"Learn collaboration and orchestration patterns"},featuresDropdown:{browserBased:"100% Browser-Based",browserBasedDesc:"No backend needed - runs entirely in your browser",monacoEditor:"Monaco Editor",monacoEditorDesc:"Professional code editing experience",progressTracking:"Progress Tracking",progressTrackingDesc:"Save your progress with localStorage",langchain:"LangChain.js",langchainDesc:"Industry-standard agent framework"},homepage:{subtitle:"Master the art of building AI agents",welcomeTitle:"WELCOME TO YOUR AI AGENTS TRAINING",aiBuilder:"AI Builder, Speaker & Educator",whatYouLearn:"What You'll Learn",infoTitle:"INFO",infoText:"This interactive training platform runs entirely in your browser using your API keys. Your keys are stored in local storage and never sent to any server expect for the LLM provider.",getStarted:"CONFIGURE API KEY & START LEARNING",skipForNow:"SKIP FOR NOW",footerCopyright:" 2025 Yuval Avidani. All rights reserved",footerTagline:"Founder of YUV.AI - Making AI practical, personal, and powerful"},labs:{agentComponents:"Agent Components",agentComponentsDesc:"Learn about different agent components",simplePrompt:"Simple Prompt/Response",simplePromptDesc:"Simple prompts & prompt responses",conversationMemory:"Conversation Memory",conversationMemoryDesc:"Conversational memory, build conversation context",customPrompts:"Custom System Prompts",customPromptsDesc:"Custom system prompts for specialized agent behavior",knowledgeBase:"Knowledge Base",knowledgeBaseDesc:"A comprehensive implementation of knowledge AI agents",ragWikipedia:"RAG with Wikipedia",ragWikipediaDesc:"RAG integration with Wikipedia and vector search",multiAgentCollab:"Multi-Agent Collaboration",multiAgentCollabDesc:"Multi-agent systems with orchestration patterns",orchestrator:"Orchestrator Agent",orchestratorDesc:"Orchestrator agent with multi-agent routing"},apiModal:{title:"API CONFIGURATION",infoStored:' Your API key is securely stored in your browser. You can update it below or click "Save & Continue" to keep using the current key.',infoNotStored:"Your API key is stored locally in your browser and never sent to any server except the LLM provider you choose.",selectProvider:"Select Provider",groqName:"Groq",groqDesc:"Fastest inference, great for real-time demos",cohereName:"Cohere",cohereDesc:"Excellent for RAG and embeddings",apiKeyLabel:"API Key",apiKeyPlaceholder:"Enter your API key",getApiKey:"Get your API key from",validateKey:"VALIDATE API KEY",validating:"VALIDATING...",saveAndContinue:"SAVE & CONTINUE",cancel:"Cancel"}},he:{home:"",agents:"",features:"",blog:"",contact:" ",progress:"",repo:"",agentsDropdown:{progressiveLabs:"8  ",progressiveLabsDesc:"    ",interactiveLearning:" ",interactiveLearningDesc:"     LLM ",multiAgent:" -",multiAgentDesc:"    "},featuresDropdown:{browserBased:"100%  ",browserBasedDesc:"   -    ",monacoEditor:" Monaco",monacoEditorDesc:"   ",progressTracking:" ",progressTrackingDesc:"     localStorage",langchain:"LangChain.js",langchainDesc:"   "},homepage:{subtitle:"    AI",welcomeTitle:"    -AI ",aiBuilder:" AI,  ",whatYouLearn:" ",infoTitle:"",infoText:"        -API  .   -Local Storage       (LLM)  .",getStarted:"  API  ",skipForNow:" ",footerCopyright:" 2025  .   ",footerTagline:" YUV.AI -  AI ,  "},labs:{agentComponents:" ",agentComponentsDesc:"    ",simplePrompt:"/ ",simplePromptDesc:"   ",conversationMemory:" ",conversationMemoryDesc:" ,   ",customPrompts:"  ",customPromptsDesc:"     ",knowledgeBase:" ",knowledgeBaseDesc:"    AI ",ragWikipedia:"RAG  ",ragWikipediaDesc:" RAG    ",multiAgentCollab:"  -",multiAgentCollabDesc:" -   ",orchestrator:" ",orchestratorDesc:"    -"},apiModal:{title:" API",infoStored:'  -API      .         " "     .',infoNotStored:" -API             -LLM .",selectProvider:" ",groqName:"Groq",groqDesc:"  ,    ",cohereName:"Cohere",cohereDesc:" -RAG -embeddings",apiKeyLabel:" API",apiKeyPlaceholder:"   -API ",getApiKey:"   -API  ",validateKey:"  API",validating:"...",saveAndContinue:" ",cancel:""}}};function He(e,n){const o=n.split(".");let i=yve[e];for(const u of o)if(i&&typeof i=="object")i=i[u];else return n;return typeof i=="string"?i:n}function vve({onGetStarted:e,onSkip:n,onLabSelect:o}){const{language:i}=Nr(),u=[{id:1,title:He(i,"labs.agentComponents"),description:He(i,"labs.agentComponentsDesc"),icon:LV,color:"cyan",bgClass:"bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 border-cyan-400/40"},{id:2,title:He(i,"labs.simplePrompt"),description:He(i,"labs.simplePromptDesc"),icon:RD,color:"purple",bgClass:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 border-purple-400/40"},{id:3,title:He(i,"labs.conversationMemory"),description:He(i,"labs.conversationMemoryDesc"),icon:DV,color:"orange",bgClass:"bg-gradient-to-br from-orange-500/20 to-orange-600/20 border-orange-400/40"},{id:4,title:He(i,"labs.customPrompts"),description:He(i,"labs.customPromptsDesc"),icon:RD,color:"pink",bgClass:"bg-gradient-to-br from-pink-500/20 to-pink-600/20 border-pink-400/40"},{id:5,title:He(i,"labs.knowledgeBase"),description:He(i,"labs.knowledgeBaseDesc"),icon:FT,color:"blue",bgClass:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 border-blue-400/40"},{id:6,title:He(i,"labs.ragWikipedia"),description:He(i,"labs.ragWikipediaDesc"),icon:xX,color:"green",bgClass:"bg-gradient-to-br from-green-500/20 to-green-600/20 border-green-400/40"},{id:7,title:He(i,"labs.multiAgentCollab"),description:He(i,"labs.multiAgentCollabDesc"),icon:UV,color:"red",bgClass:"bg-gradient-to-br from-red-500/20 to-red-600/20 border-red-400/40"},{id:8,title:He(i,"labs.orchestrator"),description:He(i,"labs.orchestratorDesc"),icon:BV,color:"yellow",bgClass:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 border-yellow-400/40"}];return C.jsxs("div",{className:"min-h-screen relative overflow-hidden tech-grid",children:[[...Array(20)].map((t,r)=>C.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},r)),C.jsx("header",{className:"relative z-20 border-b border-cyan-500/20 backdrop-blur-md bg-black/20",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[C.jsx("div",{className:"flex items-center gap-3",children:C.jsx("img",{src:"logo.png",alt:"YUV.AI Logo",className:"h-8 sm:h-10 md:h-12 w-auto"})}),C.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-base font-medium",children:[C.jsx("button",{className:"text-white hover:text-cyan-400 transition-colors",children:He(i,"home")}),C.jsxs("div",{className:"relative group",children:[C.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:[He(i,"agents")," ",C.jsx(ib,{className:"w-4 h-4"})]}),C.jsxs("div",{className:"absolute left-0 mt-2 w-64 py-2 bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"agentsDropdown.progressiveLabs")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"agentsDropdown.progressiveLabsDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"agentsDropdown.interactiveLearning")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"agentsDropdown.interactiveLearningDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"agentsDropdown.multiAgent")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"agentsDropdown.multiAgentDesc")})]})]})]}),C.jsxs("div",{className:"relative group",children:[C.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:[He(i,"features")," ",C.jsx(ib,{className:"w-4 h-4"})]}),C.jsxs("div",{className:"absolute left-0 mt-2 w-64 py-2 bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"featuresDropdown.browserBased")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"featuresDropdown.browserBasedDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"featuresDropdown.monacoEditor")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"featuresDropdown.monacoEditorDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"featuresDropdown.progressTracking")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"featuresDropdown.progressTrackingDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"featuresDropdown.langchain")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"featuresDropdown.langchainDesc")})]})]})]}),C.jsx("a",{href:"https://blog.yuv.ai",target:"_blank",rel:"noopener noreferrer",className:"text-white/70 hover:text-white transition-colors",children:He(i,"blog")}),C.jsx("a",{href:"https://linktr.ee/yuvai",target:"_blank",rel:"noopener noreferrer",className:"text-white/70 hover:text-white transition-colors",children:He(i,"contact")})]}),C.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[C.jsx(NT,{}),C.jsx(DT,{}),C.jsxs("a",{href:"https://github.com/hoodini/agents-training",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10 text-sm text-white/80 hover:text-white",title:"View Repository",children:[C.jsx(L1,{className:"w-4 h-4"}),C.jsx("span",{children:"Repo"})]})]})]})}),C.jsx("section",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12",children:C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"relative",children:C.jsx("img",{src:"hero.jpg",alt:"AI Agents 101",className:"w-full max-w-5xl h-auto object-contain mx-auto hero-glow rounded-2xl sm:rounded-3xl"})}),C.jsx("h2",{className:"text-center text-xl sm:text-2xl md:text-3xl lg:text-4xl font-semibold text-white/90 mt-6 sm:mt-8 px-4",children:He(i,"homepage.subtitle")})]})}),C.jsx("section",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 mb-8 sm:mb-12",children:C.jsx("div",{className:"holo-border rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 bg-gradient-to-br from-purple-900/40 to-blue-900/40 backdrop-blur-xl",children:C.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 sm:gap-8",children:[C.jsx("div",{className:"relative flex-shrink-0 w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full bg-gradient-to-br from-cyan-500 via-purple-500 to-pink-500 p-1",style:{boxShadow:"0 0 30px rgba(0, 212, 255, 0.6), 0 0 50px rgba(168, 85, 247, 0.5), 0 0 70px rgba(236, 72, 153, 0.3)"},children:C.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-transparent",children:C.jsx("img",{src:"round-avatar.jpg",alt:"Yuval Avidani",className:"w-full h-full object-contain"})})}),C.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[C.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl heading-font neon-cyan mb-2 sm:mb-3 tracking-wider",children:He(i,"homepage.welcomeTitle")}),C.jsx("p",{className:"text-2xl sm:text-2xl md:text-3xl font-bold text-white mb-3",children:"Yuval Avidani"}),C.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3 sm:gap-4 mb-3",children:[C.jsx("a",{href:"https://yuv.ai",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:C.jsx(BX,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),C.jsx("a",{href:"https://github.com/hoodini",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:C.jsx(L1,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),C.jsx("a",{href:"https://linkedin.com/in/yuval-avidani-87081474",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:C.jsx(UX,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),C.jsx("a",{href:"https://x.com/yuvalav",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:C.jsx(aee,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),C.jsx("a",{href:"https://instagram.com/yuval_770",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:C.jsx(AX,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),C.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:C.jsx(uee,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),C.jsx("p",{className:"text-lg sm:text-xl md:text-xl text-white/90 font-medium",children:He(i,"homepage.aiBuilder")})]})]})})}),C.jsxs("section",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 mb-8 sm:mb-12",children:[C.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold heading-font text-white text-center mb-8 sm:mb-12",children:He(i,"homepage.whatYouLearn")}),C.jsxs("div",{className:"hidden md:flex flex-col items-center gap-2",children:[C.jsx("div",{className:"flex justify-center gap-4",children:u.slice(0,3).map((t,r)=>{const a=t.icon,s={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return C.jsx("div",{className:"hexagon relative group cursor-pointer",style:{animationDelay:`${r*.1}s`,color:s[t.color]},onClick:()=>o&&o(t.id),children:C.jsxs("div",{className:`hexagon-content ${t.bgClass} relative overflow-visible transition-all duration-300 group-hover:scale-105`,children:[C.jsx("div",{className:"absolute top-8 left-8 w-14 h-14 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-2xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${s[t.color]}60`},children:t.id}),C.jsx(a,{className:`w-24 h-24 mb-3 neon-${t.color}`,style:{filter:`drop-shadow(0 0 12px ${s[t.color]})`}}),C.jsx("h3",{className:"text-lg font-bold text-white mb-2 text-center px-4 leading-tight",children:t.title}),C.jsx("p",{className:"text-xs text-white/70 text-center px-4 leading-snug",children:t.description})]})},t.id)})}),C.jsx("div",{className:"flex justify-center gap-4",children:u.slice(3,5).map((t,r)=>{const a=t.icon,s={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return C.jsx("div",{className:"hexagon relative group cursor-pointer",style:{animationDelay:`${(r+3)*.1}s`,color:s[t.color]},onClick:()=>o&&o(t.id),children:C.jsxs("div",{className:`hexagon-content ${t.bgClass} relative overflow-visible transition-all duration-300 group-hover:scale-105`,children:[C.jsx("div",{className:"absolute top-8 left-8 w-14 h-14 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-2xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${s[t.color]}60`},children:t.id}),C.jsx(a,{className:`w-24 h-24 mb-3 neon-${t.color}`,style:{filter:`drop-shadow(0 0 12px ${s[t.color]})`}}),C.jsx("h3",{className:"text-lg font-bold text-white mb-2 text-center px-4 leading-tight",children:t.title}),C.jsx("p",{className:"text-xs text-white/70 text-center px-4 leading-snug",children:t.description})]})},t.id)})}),C.jsx("div",{className:"flex justify-center gap-4",children:u.slice(5).map((t,r)=>{const a=t.icon,s={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return C.jsx("div",{className:"hexagon relative group cursor-pointer",style:{animationDelay:`${(r+4)*.1}s`,color:s[t.color]},onClick:()=>o&&o(t.id),children:C.jsxs("div",{className:`hexagon-content ${t.bgClass} relative overflow-visible transition-all duration-300 group-hover:scale-105`,children:[C.jsx("div",{className:"absolute top-8 left-8 w-14 h-14 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-2xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${s[t.color]}60`},children:t.id}),C.jsx(a,{className:`w-24 h-24 mb-3 neon-${t.color}`,style:{filter:`drop-shadow(0 0 12px ${s[t.color]})`}}),C.jsx("h3",{className:"text-lg font-bold text-white mb-2 text-center px-4 leading-tight",children:t.title}),C.jsx("p",{className:"text-xs text-white/70 text-center px-4 leading-snug",children:t.description})]})},t.id)})})]}),C.jsx("div",{className:"md:hidden grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:u.map(t=>{const r=t.icon,a={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return C.jsxs("div",{className:`${t.bgClass} rounded-2xl p-6 border-2 transition-all duration-300 hover:scale-105 relative cursor-pointer`,onClick:()=>o&&o(t.id),children:[C.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${a[t.color]}60`},children:t.id}),C.jsx(r,{className:"w-16 h-16 mb-4",style:{color:a[t.color],filter:`drop-shadow(0 0 8px ${a[t.color]})`}}),C.jsx("h3",{className:"text-xl font-bold text-white mb-3 leading-tight",children:t.title}),C.jsx("p",{className:"text-sm text-white/70 leading-relaxed",children:t.description})]},t.id)})})]}),C.jsx("section",{className:"relative z-10 max-w-3xl mx-auto px-4 sm:px-6 mb-8 sm:mb-12",children:C.jsxs("div",{className:"border-2 border-cyan-500/30 rounded-xl sm:rounded-2xl p-6 sm:p-8 bg-gradient-to-br from-blue-900/30 to-purple-900/30 backdrop-blur-xl",children:[C.jsx("div",{className:"text-xs sm:text-sm text-cyan-400 font-mono mb-2 sm:mb-3",children:He(i,"homepage.infoTitle")}),C.jsx("p",{className:"text-base sm:text-lg text-white/80 mb-6 leading-relaxed",children:He(i,"homepage.infoText")}),C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx("button",{onClick:e,className:"w-full px-6 py-4 rounded-xl bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold text-base sm:text-lg transition-all duration-300 hover-lift shadow-lg shadow-blue-500/30",children:He(i,"homepage.getStarted")}),C.jsx("button",{onClick:n,className:"w-full px-6 py-4 rounded-xl bg-white/10 hover:bg-white/20 text-white/80 hover:text-white font-semibold text-base sm:text-lg transition-all duration-300 border border-white/20",children:He(i,"homepage.skipForNow")})]})]})}),C.jsxs("footer",{className:"relative z-10 border-t border-cyan-500/20 py-6 sm:py-8 text-center px-4",children:[C.jsx("p",{className:"text-white/60 text-sm sm:text-base mb-2",children:He(i,"homepage.footerCopyright")}),C.jsx("p",{className:"text-white/50 text-sm sm:text-base",children:He(i,"homepage.footerTagline")})]})]})}var yx={};(function e(n,o,i,u){var t=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=(function(){if(!n.OffscreenCanvas)return!1;try{var T=new OffscreenCanvas(1,1),I=T.getContext("2d");I.fillRect(0,0,1,1);var K=T.transferToImageBitmap();I.createPattern(K,"no-repeat")}catch{return!1}return!0})();function s(){}function l(T){var I=o.exports.Promise,K=I!==void 0?I:n.Promise;return typeof K=="function"?new K(T):(T(s,s),null)}var f=(function(T,I){return{transform:function(K){if(T)return K;if(I.has(K))return I.get(K);var ee=new OffscreenCanvas(K.width,K.height),fe=ee.getContext("2d");return fe.drawImage(K,0,0),I.set(K,ee),ee},clear:function(){I.clear()}}})(a,new Map),m=(function(){var T=Math.floor(16.666666666666668),I,K,ee={},fe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(I=function(_e){var V=Math.random();return ee[V]=requestAnimationFrame(function U(X){fe===X||fe+T-1<X?(fe=X,delete ee[V],_e()):ee[V]=requestAnimationFrame(U)}),V},K=function(_e){ee[_e]&&cancelAnimationFrame(ee[_e])}):(I=function(_e){return setTimeout(_e,T)},K=function(_e){return clearTimeout(_e)}),{frame:I,cancel:K}})(),b=(function(){var T,I,K={};function ee(fe){function _e(V,U){fe.postMessage({options:V||{},callback:U})}fe.init=function(U){var X=U.transferControlToOffscreen();fe.postMessage({canvas:X},[X])},fe.fire=function(U,X,Z){if(I)return _e(U,null),I;var ue=Math.random().toString(36).slice(2);return I=l(function(ge){function be(ae){ae.data.callback===ue&&(delete K[ue],fe.removeEventListener("message",be),I=null,f.clear(),Z(),ge())}fe.addEventListener("message",be),_e(U,ue),K[ue]=be.bind(null,{data:{callback:ue}})}),I},fe.reset=function(){fe.postMessage({reset:!0});for(var U in K)K[U](),delete K[U]}}return function(){if(T)return T;if(!i&&t){var fe=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([fe])))}catch(_e){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",_e),null}ee(T)}return T}})(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(T,I){return I?I(T):T}function y(T){return T!=null}function v(T,I,K){return p(T&&y(T[I])?T[I]:_[I],K)}function S(T){return T<0?0:Math.floor(T)}function R(T,I){return Math.floor(Math.random()*(I-T))+T}function j(T){return parseInt(T,16)}function A(T){return T.map(x)}function x(T){var I=String(T).replace(/[^0-9a-f]/gi,"");return I.length<6&&(I=I[0]+I[0]+I[1]+I[1]+I[2]+I[2]),{r:j(I.substring(0,2)),g:j(I.substring(2,4)),b:j(I.substring(4,6))}}function M(T){var I=v(T,"origin",Object);return I.x=v(I,"x",Number),I.y=v(I,"y",Number),I}function D(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function P(T){var I=T.getBoundingClientRect();T.width=I.width,T.height=I.height}function F(T){var I=document.createElement("canvas");return I.style.position="fixed",I.style.top="0px",I.style.left="0px",I.style.pointerEvents="none",I.style.zIndex=T,I}function B(T,I,K,ee,fe,_e,V,U,X){T.save(),T.translate(I,K),T.rotate(_e),T.scale(ee,fe),T.arc(0,0,1,V,U,X),T.restore()}function q(T){var I=T.angle*(Math.PI/180),K=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-I+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function w(T,I){I.x+=Math.cos(I.angle2D)*I.velocity+I.drift,I.y+=Math.sin(I.angle2D)*I.velocity+I.gravity,I.velocity*=I.decay,I.flat?(I.wobble=0,I.wobbleX=I.x+10*I.scalar,I.wobbleY=I.y+10*I.scalar,I.tiltSin=0,I.tiltCos=0,I.random=1):(I.wobble+=I.wobbleSpeed,I.wobbleX=I.x+10*I.scalar*Math.cos(I.wobble),I.wobbleY=I.y+10*I.scalar*Math.sin(I.wobble),I.tiltAngle+=.1,I.tiltSin=Math.sin(I.tiltAngle),I.tiltCos=Math.cos(I.tiltAngle),I.random=Math.random()+2);var K=I.tick++/I.totalTicks,ee=I.x+I.random*I.tiltCos,fe=I.y+I.random*I.tiltSin,_e=I.wobbleX+I.random*I.tiltCos,V=I.wobbleY+I.random*I.tiltSin;if(T.fillStyle="rgba("+I.color.r+", "+I.color.g+", "+I.color.b+", "+(1-K)+")",T.beginPath(),r&&I.shape.type==="path"&&typeof I.shape.path=="string"&&Array.isArray(I.shape.matrix))T.fill(k(I.shape.path,I.shape.matrix,I.x,I.y,Math.abs(_e-ee)*.1,Math.abs(V-fe)*.1,Math.PI/10*I.wobble));else if(I.shape.type==="bitmap"){var U=Math.PI/10*I.wobble,X=Math.abs(_e-ee)*.1,Z=Math.abs(V-fe)*.1,ue=I.shape.bitmap.width*I.scalar,ge=I.shape.bitmap.height*I.scalar,be=new DOMMatrix([Math.cos(U)*X,Math.sin(U)*X,-Math.sin(U)*Z,Math.cos(U)*Z,I.x,I.y]);be.multiplySelf(new DOMMatrix(I.shape.matrix));var ae=T.createPattern(f.transform(I.shape.bitmap),"no-repeat");ae.setTransform(be),T.globalAlpha=1-K,T.fillStyle=ae,T.fillRect(I.x-ue/2,I.y-ge/2,ue,ge),T.globalAlpha=1}else if(I.shape==="circle")T.ellipse?T.ellipse(I.x,I.y,Math.abs(_e-ee)*I.ovalScalar,Math.abs(V-fe)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI):B(T,I.x,I.y,Math.abs(_e-ee)*I.ovalScalar,Math.abs(V-fe)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI);else if(I.shape==="star")for(var oe=Math.PI/2*3,ve=4*I.scalar,Ce=8*I.scalar,Pe=I.x,Ae=I.y,de=5,pe=Math.PI/de;de--;)Pe=I.x+Math.cos(oe)*Ce,Ae=I.y+Math.sin(oe)*Ce,T.lineTo(Pe,Ae),oe+=pe,Pe=I.x+Math.cos(oe)*ve,Ae=I.y+Math.sin(oe)*ve,T.lineTo(Pe,Ae),oe+=pe;else T.moveTo(Math.floor(I.x),Math.floor(I.y)),T.lineTo(Math.floor(I.wobbleX),Math.floor(fe)),T.lineTo(Math.floor(_e),Math.floor(V)),T.lineTo(Math.floor(ee),Math.floor(I.wobbleY));return T.closePath(),T.fill(),I.tick<I.totalTicks}function H(T,I,K,ee,fe){var _e=I.slice(),V=T.getContext("2d"),U,X,Z=l(function(ue){function ge(){U=X=null,V.clearRect(0,0,ee.width,ee.height),f.clear(),fe(),ue()}function be(){i&&!(ee.width===u.width&&ee.height===u.height)&&(ee.width=T.width=u.width,ee.height=T.height=u.height),!ee.width&&!ee.height&&(K(T),ee.width=T.width,ee.height=T.height),V.clearRect(0,0,ee.width,ee.height),_e=_e.filter(function(ae){return w(V,ae)}),_e.length?U=m.frame(be):ge()}U=m.frame(be),X=ge});return{addFettis:function(ue){return _e=_e.concat(ue),Z},canvas:T,promise:Z,reset:function(){U&&m.cancel(U),X&&X()}}}function Y(T,I){var K=!T,ee=!!v(I||{},"resize"),fe=!1,_e=v(I,"disableForReducedMotion",Boolean),V=t&&!!v(I||{},"useWorker"),U=V?b():null,X=K?D:P,Z=T&&U?!!T.__confetti_initialized:!1,ue=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ge;function be(oe,ve,Ce){for(var Pe=v(oe,"particleCount",S),Ae=v(oe,"angle",Number),de=v(oe,"spread",Number),pe=v(oe,"startVelocity",Number),De=v(oe,"decay",Number),ye=v(oe,"gravity",Number),Ie=v(oe,"drift",Number),$e=v(oe,"colors",A),Ne=v(oe,"ticks",Number),ze=v(oe,"shapes"),G=v(oe,"scalar"),N=!!v(oe,"flat"),z=M(oe),ne=Pe,ce=[],Ee=T.width*z.x,Te=T.height*z.y;ne--;)ce.push(q({x:Ee,y:Te,angle:Ae,spread:de,startVelocity:pe,color:$e[ne%$e.length],shape:ze[R(0,ze.length)],ticks:Ne,decay:De,gravity:ye,drift:Ie,scalar:G,flat:N}));return ge?ge.addFettis(ce):(ge=H(T,ce,X,ve,Ce),ge.promise)}function ae(oe){var ve=_e||v(oe,"disableForReducedMotion",Boolean),Ce=v(oe,"zIndex",Number);if(ve&&ue)return l(function(pe){pe()});K&&ge?T=ge.canvas:K&&!T&&(T=F(Ce),document.body.appendChild(T)),ee&&!Z&&X(T);var Pe={width:T.width,height:T.height};U&&!Z&&U.init(T),Z=!0,U&&(T.__confetti_initialized=!0);function Ae(){if(U){var pe={getBoundingClientRect:function(){if(!K)return T.getBoundingClientRect()}};X(pe),U.postMessage({resize:{width:pe.width,height:pe.height}});return}Pe.width=Pe.height=null}function de(){ge=null,ee&&(fe=!1,n.removeEventListener("resize",Ae)),K&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,Z=!1)}return ee&&!fe&&(fe=!0,n.addEventListener("resize",Ae,!1)),U?U.fire(oe,Pe,de):be(oe,Pe,de)}return ae.reset=function(){U&&U.reset(),ge&&ge.reset()},ae}var W;function $(){return W||(W=Y(null,{useWorker:!0,resize:!0})),W}function k(T,I,K,ee,fe,_e,V){var U=new Path2D(T),X=new Path2D;X.addPath(U,new DOMMatrix(I));var Z=new Path2D;return Z.addPath(X,new DOMMatrix([Math.cos(V)*fe,Math.sin(V)*fe,-Math.sin(V)*_e,Math.cos(V)*_e,K,ee])),Z}function Q(T){if(!r)throw new Error("path confetti are not supported in this browser");var I,K;typeof T=="string"?I=T:(I=T.path,K=T.matrix);var ee=new Path2D(I),fe=document.createElement("canvas"),_e=fe.getContext("2d");if(!K){for(var V=1e3,U=V,X=V,Z=0,ue=0,ge,be,ae=0;ae<V;ae+=2)for(var oe=0;oe<V;oe+=2)_e.isPointInPath(ee,ae,oe,"nonzero")&&(U=Math.min(U,ae),X=Math.min(X,oe),Z=Math.max(Z,ae),ue=Math.max(ue,oe));ge=Z-U,be=ue-X;var ve=10,Ce=Math.min(ve/ge,ve/be);K=[Ce,0,0,Ce,-Math.round(ge/2+U)*Ce,-Math.round(be/2+X)*Ce]}return{type:"path",path:I,matrix:K}}function re(T){var I,K=1,ee="#000000",fe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?I=T:(I=T.text,K="scalar"in T?T.scalar:K,fe="fontFamily"in T?T.fontFamily:fe,ee="color"in T?T.color:ee);var _e=10*K,V=""+_e+"px "+fe,U=new OffscreenCanvas(_e,_e),X=U.getContext("2d");X.font=V;var Z=X.measureText(I),ue=Math.ceil(Z.actualBoundingBoxRight+Z.actualBoundingBoxLeft),ge=Math.ceil(Z.actualBoundingBoxAscent+Z.actualBoundingBoxDescent),be=2,ae=Z.actualBoundingBoxLeft+be,oe=Z.actualBoundingBoxAscent+be;ue+=be+be,ge+=be+be,U=new OffscreenCanvas(ue,ge),X=U.getContext("2d"),X.font=V,X.fillStyle=ee,X.fillText(I,ae,oe);var ve=1/K;return{type:"bitmap",bitmap:U.transferToImageBitmap(),matrix:[ve,0,0,ve,-ue*ve/2,-ge*ve/2]}}o.exports=function(){return $().apply(this,arguments)},o.exports.reset=function(){$().reset()},o.exports.create=Y,o.exports.shapeFromPath=Q,o.exports.shapeFromText=re})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),yx,!1);const SV=yx.exports;yx.exports.create;function ud(){const n=Date.now()+3e3,o={startVelocity:30,spread:360,ticks:60,zIndex:9999};function i(t,r){return Math.random()*(r-t)+t}const u=setInterval(function(){const t=n-Date.now();if(t<=0)return clearInterval(u);const r=50*(t/3e3);SV({...o,particleCount:r,origin:{x:i(.1,.3),y:Math.random()-.2}}),SV({...o,particleCount:r,origin:{x:i(.7,.9),y:Math.random()-.2}})},250)}const bve=8;function ld({labId:e}){const{markLabCompleteAndAdvance:n,labProgress:o}=Nr(),i=o[e],u=()=>{ud(),n(e,bve)};return C.jsx("div",{className:"flex justify-end mt-8",children:C.jsxs("button",{onClick:u,disabled:i,className:`inline-flex items-center gap-2 px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-bold text-base sm:text-lg transition-all hover-lift shadow-2xl uppercase tracking-wide ${i?"bg-gradient-to-r from-green-600/50 to-cyan-600/50 cursor-not-allowed opacity-70":"bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-500 hover:to-cyan-500"} text-white`,style:i?{}:{boxShadow:"0 0 30px rgba(34, 197, 94, 0.4)"},children:[C.jsx(OX,{className:"w-5 h-5 sm:w-6 sm:h-6"}),C.jsx("span",{className:"hidden sm:inline",children:i?"Lab Completed!":"Complete Lab & Continue"}),C.jsx("span",{className:"sm:hidden",children:i?"Completed!":"Complete"}),!i&&C.jsx(hX,{className:"w-5 h-5 sm:w-6 sm:h-6"})]})})}function mJ(){return C.jsxs("div",{className:"max-w-4xl mx-auto",children:[C.jsxs("div",{className:"mb-8 pb-6 border-b border-cyan-500/30",children:[C.jsx("h1",{className:"text-5xl font-bold heading-font neon-cyan mb-4 tracking-wider",children:"LAB 1: UNDERSTANDING AI AGENT COMPONENTS"}),C.jsx("p",{className:"text-xl text-white/80 font-medium",children:"Learn the three core components that make up an AI agent"})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-br from-purple-900/40 to-blue-900/40 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/30",children:[C.jsx("h2",{className:"text-3xl font-semibold text-gradient-neural mb-4",children:"What is an AI Agent?"}),C.jsx("p",{className:"text-white/80 text-lg leading-relaxed",children:"An AI agent is a system that can perceive its environment, make decisions, and take actions to achieve specific goals. Unlike simple chatbots, agents can use tools, remember context, and work autonomously."})]}),C.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-br from-slate-900/90 to-cyan-900/30 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/30",children:[C.jsxs("h2",{className:"text-3xl font-semibold text-white mb-4 flex items-center gap-3",children:[C.jsx("span",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 text-white rounded-xl text-lg font-black shadow-lg",style:{boxShadow:"0 0 20px rgba(0, 212, 255, 0.5)"},children:"1"}),"Large Language Model (LLM)"]}),C.jsx("p",{className:"text-white/80 text-lg mb-4 leading-relaxed",children:'The "brain" of the agent. The LLM processes input, reasons about what to do, and generates responses. Examples include GPT-4, Claude, Llama, Mistral, and others.'}),C.jsx("div",{className:"glass border border-cyan-500/30 rounded-xl p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10",children:C.jsxs("p",{className:"text-sm text-cyan-100 font-mono leading-relaxed",children:[C.jsx("strong",{className:"text-cyan-400",children:"Key capabilities:"}),C.jsx("br",{})," Natural language understanding",C.jsx("br",{})," Reasoning and decision-making",C.jsx("br",{})," Context interpretation",C.jsx("br",{})," Response generation"]})})]}),C.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-br from-slate-900/90 to-purple-900/30 backdrop-blur-xl shadow-2xl border-2 border-purple-500/30",children:[C.jsxs("h2",{className:"text-3xl font-semibold text-white mb-4 flex items-center gap-3",children:[C.jsx("span",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-xl text-lg font-black shadow-lg",style:{boxShadow:"0 0 20px rgba(168, 85, 247, 0.5)"},children:"2"}),"Tools"]}),C.jsx("p",{className:"text-white/80 text-lg mb-4 leading-relaxed",children:"Tools extend the agent's capabilities beyond text generation. They allow agents to interact with external systems, APIs, databases, calculators, search engines, and more."}),C.jsx("div",{className:"glass border border-purple-500/30 rounded-xl p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10",children:C.jsxs("p",{className:"text-sm text-purple-100 font-mono leading-relaxed",children:[C.jsx("strong",{className:"text-purple-400",children:"Example tools:"}),C.jsx("br",{})," Web search (Google, Bing)",C.jsx("br",{})," Calculator for math operations",C.jsx("br",{})," Database queries",C.jsx("br",{})," API calls (weather, stock prices, etc.)",C.jsx("br",{})," File system operations",C.jsx("br",{})," Code execution"]})})]}),C.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-br from-slate-900/90 to-green-900/30 backdrop-blur-xl shadow-2xl border-2 border-green-500/30",children:[C.jsxs("h2",{className:"text-3xl font-semibold text-white mb-4 flex items-center gap-3",children:[C.jsx("span",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-green-500 to-cyan-600 text-white rounded-xl text-lg font-black shadow-lg",style:{boxShadow:"0 0 20px rgba(34, 197, 94, 0.5)"},children:"3"}),"Memory"]}),C.jsx("p",{className:"text-white/80 text-lg mb-4 leading-relaxed",children:"Memory allows agents to remember previous interactions, maintain context across conversations, and learn from past experiences. This makes agents feel more intelligent and personalized."}),C.jsx("div",{className:"glass border border-green-500/30 rounded-xl p-4 bg-gradient-to-r from-green-500/10 to-cyan-500/10",children:C.jsxs("p",{className:"text-sm text-green-100 font-mono leading-relaxed",children:[C.jsx("strong",{className:"text-green-400",children:"Types of memory:"}),C.jsx("br",{})," Short-term: Recent conversation history",C.jsx("br",{})," Long-term: Persistent knowledge across sessions",C.jsx("br",{})," Working memory: Context window for current task",C.jsx("br",{})," Vector/Semantic memory: Knowledge base with embeddings"]})})]}),C.jsxs("section",{className:"holo-border rounded-xl p-6 bg-gradient-to-r from-cyan-900/40 to-purple-900/40 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/40",children:[C.jsx("h2",{className:"text-3xl font-semibold text-gradient-neural mb-6",children:"How They Work Together"}),C.jsxs("div",{className:"space-y-3 text-white/90 text-lg",children:[C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),C.jsx("p",{children:"User sends a query to the agent"})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),C.jsxs("p",{children:["Agent checks ",C.jsx("strong",{children:"memory"})," for relevant context"]})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),C.jsxs("p",{children:[C.jsx("strong",{children:"LLM"})," processes the query and decides if tools are needed"]})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),C.jsxs("p",{children:["Agent calls appropriate ",C.jsx("strong",{children:"tools"})," to gather information"]})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"5"}),C.jsxs("p",{children:[C.jsx("strong",{children:"LLM"})," synthesizes tool results with context from memory"]})]}),C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold",children:"6"}),C.jsx("p",{children:"Agent responds to user and updates memory"})]})]})]}),C.jsx(ld,{labId:1})]})]})}function EV(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,i=Array(n);o<n;o++)i[o]=e[o];return i}function wve(e){if(Array.isArray(e))return e}function Ove(e,n,o){return(n=Mve(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function Sve(e,n){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,u,t,r,a=[],s=!0,l=!1;try{if(t=(o=o.call(e)).next,n!==0)for(;!(s=(i=t.call(o)).done)&&(a.push(i.value),a.length!==n);s=!0);}catch(f){l=!0,u=f}finally{try{if(!s&&o.return!=null&&(r=o.return(),Object(r)!==r))return}finally{if(l)throw u}}return a}}function Eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),o.push.apply(o,i)}return o}function jV(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?RV(Object(o),!0).forEach(function(i){Ove(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):RV(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function Rve(e,n){if(e==null)return{};var o,i,u=jve(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(i=0;i<t.length;i++)o=t[i],n.indexOf(o)===-1&&{}.propertyIsEnumerable.call(e,o)&&(u[o]=e[o])}return u}function jve(e,n){if(e==null)return{};var o={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.indexOf(i)!==-1)continue;o[i]=e[i]}return o}function Cve(e,n){return wve(e)||Sve(e,n)||xve(e,n)||Eve()}function Tve(e,n){if(typeof e!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Mve(e){var n=Tve(e,"string");return typeof n=="symbol"?n:n+""}function xve(e,n){if(e){if(typeof e=="string")return EV(e,n);var o={}.toString.call(e).slice(8,-1);return o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set"?Array.from(e):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?EV(e,n):void 0}}function Pve(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function CV(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),o.push.apply(o,i)}return o}function TV(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?CV(Object(o),!0).forEach(function(i){Pve(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):CV(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function Ave(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(i){return n.reduceRight(function(u,t){return t(u)},i)}}function Dm(e){return function n(){for(var o=this,i=arguments.length,u=new Array(i),t=0;t<i;t++)u[t]=arguments[t];return u.length>=e.length?e.apply(this,u):function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n.apply(o,[].concat(u,a))}}}function Sb(e){return{}.toString.call(e).includes("Object")}function Nve(e){return!Object.keys(e).length}function e_(e){return typeof e=="function"}function Dve(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Ive(e,n){return Sb(n)||Jc("changeType"),Object.keys(n).some(function(o){return!Dve(e,o)})&&Jc("changeField"),n}function zve(e){e_(e)||Jc("selectorType")}function qve(e){e_(e)||Sb(e)||Jc("handlerType"),Sb(e)&&Object.values(e).some(function(n){return!e_(n)})&&Jc("handlersType")}function Bve(e){e||Jc("initialIsRequired"),Sb(e)||Jc("initialType"),Nve(e)&&Jc("initialContent")}function Lve(e,n){throw new Error(e[n]||e.default)}var Uve={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Jc=Dm(Lve)(Uve),Fv={changes:Ive,selector:zve,handler:qve,initial:Bve};function $ve(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Fv.initial(e),Fv.handler(n);var o={current:e},i=Dm(Gve)(o,n),u=Dm(Vve)(o),t=Dm(Fv.changes)(e),r=Dm(Fve)(o);function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Fv.selector(l),l(o.current)}function s(l){Ave(i,u,t,r)(l)}return[a,s]}function Fve(e,n){return e_(n)?n(e.current):n}function Vve(e,n){return e.current=TV(TV({},e.current),n),n}function Gve(e,n,o){return e_(n)?n(e.current):Object.keys(o).forEach(function(i){var u;return(u=n[i])===null||u===void 0?void 0:u.call(n,e.current[i])}),o}var Hve={create:$ve},Kve={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function kve(e){return function n(){for(var o=this,i=arguments.length,u=new Array(i),t=0;t<i;t++)u[t]=arguments[t];return u.length>=e.length?e.apply(this,u):function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n.apply(o,[].concat(u,a))}}}function Yve(e){return{}.toString.call(e).includes("Object")}function Wve(e){return e||MV("configIsRequired"),Yve(e)||MV("configType"),e.urls?(Jve(),{paths:{vs:e.urls.monacoBase}}):e}function Jve(){console.warn(_J.deprecation)}function Zve(e,n){throw new Error(e[n]||e.default)}var _J={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},MV=kve(Zve)(_J),Qve={config:Wve},Xve=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(u){return o.reduceRight(function(t,r){return r(t)},u)}};function yJ(e,n){return Object.keys(n).forEach(function(o){n[o]instanceof Object&&e[o]&&Object.assign(n[o],yJ(e[o],n[o]))}),jV(jV({},e),n)}var ebe={type:"cancelation",msg:"operation is manually canceled"};function I1(e){var n=!1,o=new Promise(function(i,u){e.then(function(t){return n?u(ebe):i(t)}),e.catch(u)});return o.cancel=function(){return n=!0},o}var tbe=["monaco"],rbe=Hve.create({config:Kve,isInitialized:!1,resolve:null,reject:null,monaco:null}),vJ=Cve(rbe,2),j_=vJ[0],p0=vJ[1];function nbe(e){var n=Qve.config(e),o=n.monaco,i=Rve(n,tbe);p0(function(u){return{config:yJ(u.config,i),monaco:o}})}function abe(){var e=j_(function(n){var o=n.monaco,i=n.isInitialized,u=n.resolve;return{monaco:o,isInitialized:i,resolve:u}});if(!e.isInitialized){if(p0({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),I1(z1);if(window.monaco&&window.monaco.editor)return bJ(window.monaco),e.resolve(window.monaco),I1(z1);Xve(ibe,sbe)(ube)}return I1(z1)}function ibe(e){return document.body.appendChild(e)}function obe(e){var n=document.createElement("script");return e&&(n.src=e),n}function sbe(e){var n=j_(function(i){var u=i.config,t=i.reject;return{config:u,reject:t}}),o=obe("".concat(n.config.paths.vs,"/loader.js"));return o.onload=function(){return e()},o.onerror=n.reject,o}function ube(){var e=j_(function(o){var i=o.config,u=o.resolve,t=o.reject;return{config:i,resolve:u,reject:t}}),n=window.require;n.config(e.config),n(["vs/editor/editor.main"],function(o){var i=o.m||o;bJ(i),e.resolve(i)},function(o){e.reject(o)})}function bJ(e){j_().monaco||p0({monaco:e})}function lbe(){return j_(function(e){var n=e.monaco;return n})}var z1=new Promise(function(e,n){return p0({resolve:e,reject:n})}),wJ={config:nbe,init:abe,__getMonacoInstance:lbe},cbe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},q1=cbe,dbe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},fbe=dbe;function hbe({children:e}){return _l.createElement("div",{style:fbe.container},e)}var pbe=hbe,gbe=pbe;function mbe({width:e,height:n,isEditorReady:o,loading:i,_ref:u,className:t,wrapperProps:r}){return _l.createElement("section",{style:{...q1.wrapper,width:e,height:n},...r},!o&&_l.createElement(gbe,null,i),_l.createElement("div",{ref:u,style:{...q1.fullWidth,...!o&&q1.hide},className:t}))}var _be=mbe,OJ=Ze.memo(_be);function ybe(e){Ze.useEffect(e,[])}var SJ=ybe;function vbe(e,n,o=!0){let i=Ze.useRef(!0);Ze.useEffect(i.current||!o?()=>{i.current=!1}:e,n)}var mn=vbe;function Fm(){}function Jh(e,n,o,i){return bbe(e,i)||wbe(e,n,o,i)}function bbe(e,n){return e.editor.getModel(EJ(e,n))}function wbe(e,n,o,i){return e.editor.createModel(n,o,i?EJ(e,i):void 0)}function EJ(e,n){return e.Uri.parse(n)}function Obe({original:e,modified:n,language:o,originalLanguage:i,modifiedLanguage:u,originalModelPath:t,modifiedModelPath:r,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:s=!1,theme:l="light",loading:f="Loading...",options:m={},height:b="100%",width:_="100%",className:p,wrapperProps:y={},beforeMount:v=Fm,onMount:S=Fm}){let[R,j]=Ze.useState(!1),[A,x]=Ze.useState(!0),M=Ze.useRef(null),D=Ze.useRef(null),P=Ze.useRef(null),F=Ze.useRef(S),B=Ze.useRef(v),q=Ze.useRef(!1);SJ(()=>{let W=wJ.init();return W.then($=>(D.current=$)&&x(!1)).catch($=>$?.type!=="cancelation"&&console.error("Monaco initialization: error:",$)),()=>M.current?Y():W.cancel()}),mn(()=>{if(M.current&&D.current){let W=M.current.getOriginalEditor(),$=Jh(D.current,e||"",i||o||"text",t||"");$!==W.getModel()&&W.setModel($)}},[t],R),mn(()=>{if(M.current&&D.current){let W=M.current.getModifiedEditor(),$=Jh(D.current,n||"",u||o||"text",r||"");$!==W.getModel()&&W.setModel($)}},[r],R),mn(()=>{let W=M.current.getModifiedEditor();W.getOption(D.current.editor.EditorOption.readOnly)?W.setValue(n||""):n!==W.getValue()&&(W.executeEdits("",[{range:W.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),W.pushUndoStop())},[n],R),mn(()=>{M.current?.getModel()?.original.setValue(e||"")},[e],R),mn(()=>{let{original:W,modified:$}=M.current.getModel();D.current.editor.setModelLanguage(W,i||o||"text"),D.current.editor.setModelLanguage($,u||o||"text")},[o,i,u],R),mn(()=>{D.current?.editor.setTheme(l)},[l],R),mn(()=>{M.current?.updateOptions(m)},[m],R);let w=Ze.useCallback(()=>{if(!D.current)return;B.current(D.current);let W=Jh(D.current,e||"",i||o||"text",t||""),$=Jh(D.current,n||"",u||o||"text",r||"");M.current?.setModel({original:W,modified:$})},[o,n,u,e,i,t,r]),H=Ze.useCallback(()=>{!q.current&&P.current&&(M.current=D.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...m}),w(),D.current?.editor.setTheme(l),j(!0),q.current=!0)},[m,l,w]);Ze.useEffect(()=>{R&&F.current(M.current,D.current)},[R]),Ze.useEffect(()=>{!A&&!R&&H()},[A,R,H]);function Y(){let W=M.current?.getModel();a||W?.original?.dispose(),s||W?.modified?.dispose(),M.current?.dispose()}return _l.createElement(OJ,{width:_,height:b,isEditorReady:R,loading:f,_ref:P,className:p,wrapperProps:y})}var Sbe=Obe;Ze.memo(Sbe);function Ebe(e){let n=Ze.useRef();return Ze.useEffect(()=>{n.current=e},[e]),n.current}var Rbe=Ebe,Vv=new Map;function jbe({defaultValue:e,defaultLanguage:n,defaultPath:o,value:i,language:u,path:t,theme:r="light",line:a,loading:s="Loading...",options:l={},overrideServices:f={},saveViewState:m=!0,keepCurrentModel:b=!1,width:_="100%",height:p="100%",className:y,wrapperProps:v={},beforeMount:S=Fm,onMount:R=Fm,onChange:j,onValidate:A=Fm}){let[x,M]=Ze.useState(!1),[D,P]=Ze.useState(!0),F=Ze.useRef(null),B=Ze.useRef(null),q=Ze.useRef(null),w=Ze.useRef(R),H=Ze.useRef(S),Y=Ze.useRef(),W=Ze.useRef(i),$=Rbe(t),k=Ze.useRef(!1),Q=Ze.useRef(!1);SJ(()=>{let I=wJ.init();return I.then(K=>(F.current=K)&&P(!1)).catch(K=>K?.type!=="cancelation"&&console.error("Monaco initialization: error:",K)),()=>B.current?T():I.cancel()}),mn(()=>{let I=Jh(F.current,e||i||"",n||u||"",t||o||"");I!==B.current?.getModel()&&(m&&Vv.set($,B.current?.saveViewState()),B.current?.setModel(I),m&&B.current?.restoreViewState(Vv.get(t)))},[t],x),mn(()=>{B.current?.updateOptions(l)},[l],x),mn(()=>{!B.current||i===void 0||(B.current.getOption(F.current.editor.EditorOption.readOnly)?B.current.setValue(i):i!==B.current.getValue()&&(Q.current=!0,B.current.executeEdits("",[{range:B.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),B.current.pushUndoStop(),Q.current=!1))},[i],x),mn(()=>{let I=B.current?.getModel();I&&u&&F.current?.editor.setModelLanguage(I,u)},[u],x),mn(()=>{a!==void 0&&B.current?.revealLine(a)},[a],x),mn(()=>{F.current?.editor.setTheme(r)},[r],x);let re=Ze.useCallback(()=>{if(!(!q.current||!F.current)&&!k.current){H.current(F.current);let I=t||o,K=Jh(F.current,i||e||"",n||u||"",I||"");B.current=F.current?.editor.create(q.current,{model:K,automaticLayout:!0,...l},f),m&&B.current.restoreViewState(Vv.get(I)),F.current.editor.setTheme(r),a!==void 0&&B.current.revealLine(a),M(!0),k.current=!0}},[e,n,o,i,u,t,l,f,m,r,a]);Ze.useEffect(()=>{x&&w.current(B.current,F.current)},[x]),Ze.useEffect(()=>{!D&&!x&&re()},[D,x,re]),W.current=i,Ze.useEffect(()=>{x&&j&&(Y.current?.dispose(),Y.current=B.current?.onDidChangeModelContent(I=>{Q.current||j(B.current.getValue(),I)}))},[x,j]),Ze.useEffect(()=>{if(x){let I=F.current.editor.onDidChangeMarkers(K=>{let ee=B.current.getModel()?.uri;if(ee&&K.find(fe=>fe.path===ee.path)){let fe=F.current.editor.getModelMarkers({resource:ee});A?.(fe)}});return()=>{I?.dispose()}}return()=>{}},[x,A]);function T(){Y.current?.dispose(),b?m&&Vv.set(t,B.current.saveViewState()):B.current.getModel()?.dispose(),B.current.dispose()}return _l.createElement(OJ,{width:_,height:p,isEditorReady:x,loading:s,_ref:q,className:y,wrapperProps:v})}var Cbe=jbe,Tbe=Ze.memo(Cbe),Mbe=Tbe;function vt({title:e,initialCode:n,language:o="typescript",editable:i=!0,description:u,onExecute:t,autoRun:r=!1}){const[a,s]=Ze.useState(n),[l,f]=Ze.useState(!1),[m,b]=Ze.useState(null),[_,p]=Ze.useState([]),[y,v]=Ze.useState(!1);Ze.useEffect(()=>{r&&t&&!m&&S()},[r]);const S=async()=>{if(t){f(!0),b(null),p([]);try{const R=await t(a);b(R),R.error?p([R.error]):p([R.output])}catch(R){const j=R instanceof Error?R.message:"Unknown error";b({output:"",error:j,timestamp:Date.now()}),p([j])}finally{f(!1),v(!0)}}};return C.jsx("div",{className:"group relative animate-fade-in",children:C.jsxs("div",{className:"relative rounded-2xl overflow-hidden glass-strong shadow-neural border-2 border-white/10 transition-all duration-300 hover:border-white/20 hover-lift",children:[C.jsxs("div",{className:"flex items-center justify-between px-4 py-3 glass border-b border-white/10 backdrop-blur-xl",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-red-500 to-red-600 hover:shadow-lg hover:shadow-red-500/50 transition-all cursor-pointer"}),C.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-500 hover:shadow-lg hover:shadow-yellow-500/50 transition-all cursor-pointer"}),C.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-green-400 to-green-500 hover:shadow-lg hover:shadow-green-500/50 transition-all cursor-pointer"})]}),C.jsxs("div",{className:"flex items-center gap-2 text-white/60",children:[C.jsx(ree,{className:"w-4 h-4 text-gradient-neural"}),C.jsx("span",{className:"text-sm font-mono text-white/80",children:e||"code-editor"})]})]}),C.jsxs("button",{onClick:S,disabled:l||!t,className:"inline-flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-emerald-500 via-green-500 to-teal-600 hover:from-emerald-600 hover:via-green-600 hover:to-teal-700 disabled:from-slate-700 disabled:to-slate-800 text-white text-sm font-bold rounded-lg transition-all duration-200 shadow-luxury disabled:cursor-not-allowed hover-lift disabled:opacity-50 relative overflow-hidden group/btn",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-600 to-emerald-600 opacity-0 group-hover/btn:opacity-100 transition-opacity"}),l?C.jsxs(C.Fragment,{children:[C.jsx(qV,{className:"w-4 h-4 animate-spin relative z-10"}),C.jsx("span",{className:"font-mono relative z-10",children:"Running..."})]}):C.jsxs(C.Fragment,{children:[C.jsx(WX,{className:"w-4 h-4 relative z-10"}),C.jsx("span",{className:"font-mono relative z-10",children:"Run Code"})]})]})]}),u&&C.jsx("div",{className:"px-4 py-3 glass border-b border-white/10",children:C.jsxs("p",{className:"text-sm text-cyan-300 font-mono",children:["// ",u]})}),C.jsx("div",{className:"relative",children:C.jsx(Mbe,{height:"350px",language:o,value:a,onChange:R=>i&&s(R||""),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:15,fontFamily:"'Fira Code', 'Consolas', 'Monaco', monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:!i,tabSize:2,padding:{top:16,bottom:16},smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",wordWrap:"on",wrappingIndent:"indent"}})}),m&&C.jsxs("div",{className:`border-t border-white/10 glass backdrop-blur-xl transition-all duration-300 ${y?"max-h-[600px]":"max-h-0"} overflow-hidden`,children:[C.jsxs("div",{className:"p-5 overflow-y-auto max-h-[550px]",children:[C.jsx("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-white/10",children:m.error?C.jsxs(C.Fragment,{children:[C.jsx(IV,{className:"w-5 h-5 text-red-400"}),C.jsx("span",{className:"text-base font-mono font-bold text-red-400",children:"Error"})]}):C.jsxs(C.Fragment,{children:[C.jsx(_X,{className:"w-5 h-5 text-green-400"}),C.jsx("span",{className:"text-base font-mono font-bold text-gradient-neural",children:"Success"})]})}),C.jsx("div",{className:"font-mono text-base space-y-2 leading-relaxed",children:_.map((R,j)=>C.jsx("div",{className:`animate-fade-in ${m?.error?"text-red-300":"text-emerald-300"}`,style:{animationDelay:`${j*30}ms`},children:R||""},j))})]}),C.jsx("button",{onClick:()=>v(!y),className:"w-full py-2.5 text-sm text-white/60 hover:text-white/90 glass border-t border-white/10 transition-all font-mono font-semibold",children:y?" Collapse Output":" Expand Output"})]})]})})}const xbe=8;function Pbe(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Nr(),u=()=>n==="groq"?"ChatGroq":"ChatCohere",t=()=>n==="groq"?"import { ChatGroq } from '@langchain/groq';":"import { ChatCohere } from '@langchain/cohere';",r=`// Step 1: Import the LangChain ${u()} class
${t()}

console.log(' LangChain imported successfully!');`,a=`// Step 2: Create an LLM instance with your API key
const llm = new ${u()}({
  apiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  model: '${o}',
});

console.log(' LLM instance created with model: ${o}');`,s=`// Step 3: Define your prompt
const prompt = "What are the three main components of an AI agent?";

console.log(' Prompt ready:', prompt);`,l=`// Step 4: Get a response from the LLM
const llm = new ${u()}({
  apiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  model: '${o}',
});

const prompt = "What are the three main components of an AI agent?";
const response = await llm.invoke(prompt);

console.log('Response:', response.content);`,f=`// Complete Example: Simple Prompt/Response Agent
${t()}

// Initialize the LLM
const llm = new ${u()}({
  apiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  model: '${o}',
});

// Send a prompt and get response
const prompt = "Explain what an AI agent is in one sentence.";
const response = await llm.invoke(prompt);

console.log('Agent Response:', response.content);`,m=async()=>{try{return{output:" LangChain imported successfully!",timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");return{output:` LLM instance created with model: ${o}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{return{output:" Prompt ready: What are the three main components of an AI agent?",timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");return{output:`Response: ${(await Ar(e,n,o).invoke("What are the three main components of an AI agent?")).content}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const R=await Ar(e,n,o).invoke("Explain what an AI agent is in one sentence.");return ud(),i(2,xbe),{output:`Agent Response: ${R.content}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}};return C.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[C.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[C.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:C.jsx(cee,{className:"w-8 h-8 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 2: Simple Prompt/Response Agent"}),C.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Learn the basics of interacting with an LLM"})]})]}),C.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[C.jsx(Gf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),C.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[C.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),C.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"How to import and initialize a LangChain LLM"}),C.jsx("li",{children:"Sending a simple prompt to the AI"}),C.jsx("li",{children:"Receiving and displaying the response"}),C.jsx("li",{children:"Understanding the basic request/response cycle"})]})]})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Import LangChain"})]}),C.jsx(vt,{title:"step-1-import",initialCode:r,description:`First, we import the ${u()} class from LangChain`,onExecute:m})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create LLM Instance"})]}),C.jsx(vt,{title:"step-2-create-llm",initialCode:a,description:"Initialize the LLM with your API key and selected model",onExecute:b})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Define Your Prompt"})]}),C.jsx(vt,{title:"step-3-prompt",initialCode:s,description:"Create a simple question to ask the AI",onExecute:_})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Get AI Response"})]}),C.jsx(vt,{title:"step-4-response",initialCode:l,description:"Send the prompt and receive the AI's response",onExecute:p})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"5"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Example"})]}),C.jsx(vt,{title:"complete-agent",initialCode:f,description:"Put it all together - your first working AI agent!",onExecute:y})]}),C.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[C.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Congratulations!"}),C.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've created your first AI agent! This simple prompt/response pattern is the foundation for all AI agents. In the next labs, we'll add memory, tools, and more complex behaviors."})]}),C.jsx(ld,{labId:2})]})}const Abe=8;function Nbe(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Nr(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Import required message types
import { ChatOpenAI } from '@langchain/openai';
import { SystemMessage, HumanMessage } from '@langchain/core/messages';

console.log(' Message types imported successfully!');`,r=`// Step 2: Create a system prompt to define agent personality
const systemPrompt = new SystemMessage(\`You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies. Always be encouraging and patient.\`);

console.log(' System prompt created!');
console.log('Role:', 'AI Tutor');`,a=`// Step 3: Create the user's question
const userPrompt = new HumanMessage("What is machine learning?");

console.log(' User prompt ready!');
console.log('Question:', userPrompt.content);`,s=`// Step 4: Combine system and user messages
const systemPrompt = new SystemMessage(\`You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies.\`);
const userPrompt = new HumanMessage("What is machine learning?");

const messages = [systemPrompt, userPrompt];

console.log(' Messages array created!');
console.log('Total messages:', messages.length);`,l=`// Step 5: Send to LLM and get response
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const systemPrompt = new SystemMessage(\`You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies.\`);
const userPrompt = new HumanMessage("What is machine learning?");
const messages = [systemPrompt, userPrompt];

const response = await llm.invoke(messages);

console.log('Agent Response:', response.content);`,f=`// Complete Example: Try a different personality!
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

// Try this pirate personality!
const systemPrompt = new SystemMessage(\`You are a pirate AI assistant. You speak like a pirate and use nautical terms. You're helpful but always stay in character. End responses with "Arrr!"\`);
const userPrompt = new HumanMessage("How do I learn programming?");

const messages = [systemPrompt, userPrompt];
const response = await llm.invoke(messages);

console.log('Pirate Agent Response:', response.content);`,m=async()=>{try{return{output:" Message types imported successfully!",timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{return{output:` System prompt created!
Role: AI Tutor`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{return{output:` User prompt ready!
Question: ${new It("What is machine learning?").content}`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{const S=new lr("You are an expert AI tutor."),R=new It("What is machine learning?");return{output:` Messages array created!
Total messages: ${[S,R].length}`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const S=Ar(e,n,o),R=new lr("You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies."),j=new It("What is machine learning?"),A=[R,j];return{output:`Agent Response: ${(await S.invoke(A)).content}`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}},v=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const S=Ar(e,n,o),R=new lr(`You are a pirate AI assistant. You speak like a pirate and use nautical terms. You're helpful but always stay in character. End responses with "Arrr!"`),j=new It("How do I learn programming?"),A=[R,j],x=await S.invoke(A);return ud(),i(3,Abe),{output:`Pirate Agent Response: ${x.content}`,timestamp:Date.now()}}catch(S){return{output:"",error:S instanceof Error?S.message:"Unknown error",timestamp:Date.now()}}};return C.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[C.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[C.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:C.jsx(VT,{className:"w-8 h-8 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 3: Custom System Prompts"}),C.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Shape your agent's personality and behavior"})]})]}),C.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[C.jsx(Gf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),C.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[C.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),C.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"How to use SystemMessage to define agent personality"}),C.jsx("li",{children:"Combining system prompts with user messages"}),C.jsx("li",{children:"Creating different agent behaviors (tutor, pirate, expert)"}),C.jsx("li",{children:"Understanding how system prompts guide responses"})]})]})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Import Message Types"})]}),C.jsx(vt,{title:"step-1-imports",initialCode:t,description:"Import SystemMessage and HumanMessage from LangChain",onExecute:m})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create System Prompt"})]}),C.jsx(vt,{title:"step-2-system-prompt",initialCode:r,description:"Define the agent's role, personality, and expertise",onExecute:b})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create User Message"})]}),C.jsx(vt,{title:"step-3-user-prompt",initialCode:a,description:"Create the user's question or request",onExecute:_})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Combine Messages"})]}),C.jsx(vt,{title:"step-4-combine",initialCode:s,description:"Put system and user messages into an array",onExecute:p})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"5"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Get Agent Response"})]}),C.jsx(vt,{title:"step-5-response",initialCode:l,description:"Send messages to the LLM and see how system prompt shapes the response",onExecute:y})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"6"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Try a Different Personality"})]}),C.jsx(vt,{title:"complete-pirate-agent",initialCode:f,description:"Experiment with a pirate personality - see how system prompts change behavior!",onExecute:v})]}),C.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 rounded-xl p-6 border border-yellow-200 dark:border-yellow-800",children:[C.jsx("h3",{className:"font-semibold text-yellow-900 dark:text-yellow-100 mb-3",children:" Pro Tips for System Prompts"}),C.jsxs("ul",{className:"space-y-2 text-yellow-800 dark:text-yellow-200 text-sm",children:[C.jsx("li",{children:" Be specific about the role and expertise level"}),C.jsx("li",{children:" Include output format requirements (JSON, bullet points, etc.)"}),C.jsx("li",{children:" Add constraints (word limits, language style, tone)"}),C.jsx("li",{children:" Test different system prompts to find what works best"}),C.jsx("li",{children:" Keep system prompts concise but informative"})]})]}),C.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[C.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Great Work!"}),C.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've learned how to shape your agent's personality! System prompts are powerful tools for controlling agent behavior. Next, you'll learn how to add memory to make conversations more natural."})]}),C.jsx(ld,{labId:3})]})}const Dbe=8;function Ibe(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Nr(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Import message types for memory
import { HumanMessage, AIMessage } from '@langchain/core/messages';

console.log(' Message types imported!');
console.log('We will use arrays to store conversation history');`,r=`// Step 2: Create a messages array to store history
const messages = [];

console.log(' Messages array created!');
console.log('This array will act as our memory');`,a=`// Step 3: Add first user message and get response
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const messages = [];
messages.push(new HumanMessage("My name is Yuval and I teach AI agents"));

const response1 = await llm.invoke(messages);
messages.push(new AIMessage(response1.content.toString()));

console.log('Turn 1:');
console.log('User: My name is Yuval and I teach AI agents');
console.log('Agent:', response1.content);
console.log('');
console.log('Messages in memory:', messages.length);`,s=`// Step 4: Second turn - agent remembers!
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const messages = [];
messages.push(new HumanMessage("My name is Yuval and I teach AI agents"));
const response1 = await llm.invoke(messages);
messages.push(new AIMessage(response1.content.toString()));

// Ask about name - should remember!
messages.push(new HumanMessage("What's my name?"));
const response2 = await llm.invoke(messages);
messages.push(new AIMessage(response2.content.toString()));

console.log('Turn 2:');
console.log('User: What\\'s my name?');
console.log('Agent:', response2.content);
console.log('');
console.log('Messages in memory:', messages.length);`,l=`// Complete Example: Full conversation with memory
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

// Initialize conversation memory
const messages = [];

// Turn 1: Introduce yourself
messages.push(new HumanMessage("My name is Yuval and I teach AI agents"));
const response1 = await llm.invoke(messages);
messages.push(new AIMessage(response1.content.toString()));

// Turn 2: Ask about name
messages.push(new HumanMessage("What's my name?"));
const response2 = await llm.invoke(messages);
messages.push(new AIMessage(response2.content.toString()));

// Turn 3: Ask about profession
messages.push(new HumanMessage("What do I teach?"));
const response3 = await llm.invoke(messages);

console.log('Turn 1:');
console.log('User: My name is Yuval and I teach AI agents');
console.log('Agent:', response1.content);
console.log('');
console.log('Turn 2:');
console.log('User: What\\'s my name?');
console.log('Agent:', response2.content);
console.log('');
console.log('Turn 3:');
console.log('User: What do I teach?');
console.log('Agent:', response3.content);
console.log('');
console.log(' Agent remembered context across all turns!');`,f=async()=>{try{return{output:` Message types imported!
We will use arrays to store conversation history`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},m=async()=>{try{return{output:` Messages array created!
This array will act as our memory`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const y=Ar(e,n,o),v=[];v.push(new It("My name is Yuval and I teach AI agents"));const S=await y.invoke(v);return v.push(new Sr(S.content.toString())),{output:`Turn 1:
User: My name is Yuval and I teach AI agents
Agent: ${S.content}

Messages in memory: ${v.length}`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const y=Ar(e,n,o),v=[];v.push(new It("My name is Yuval and I teach AI agents"));const S=await y.invoke(v);v.push(new Sr(S.content.toString())),v.push(new It("What's my name?"));const R=await y.invoke(v);return v.push(new Sr(R.content.toString())),{output:`Turn 2:
User: What's my name?
Agent: ${R.content}

Messages in memory: ${v.length}`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const y=Ar(e,n,o),v=[];v.push(new It("My name is Yuval and I teach AI agents"));const S=await y.invoke(v);v.push(new Sr(S.content.toString())),v.push(new It("What's my name?"));const R=await y.invoke(v);v.push(new Sr(R.content.toString())),v.push(new It("What do I teach?"));const j=await y.invoke(v);return ud(),i(4,Dbe),{output:`Turn 1:
User: My name is Yuval and I teach AI agents
Agent: ${S.content}

Turn 2:
User: What's my name?
Agent: ${R.content}

Turn 3:
User: What do I teach?
Agent: ${j.content}

 Agent remembered context across all turns!`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}};return C.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[C.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[C.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl shadow-lg",children:C.jsx(DV,{className:"w-8 h-8 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 4: Conversation Memory"}),C.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Make your agent remember previous messages"})]})]}),C.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[C.jsx(Gf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),C.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[C.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),C.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"How to store conversation history in message arrays"}),C.jsx("li",{children:"Adding HumanMessage and AIMessage to memory"}),C.jsx("li",{children:"Building multi-turn conversations"}),C.jsx("li",{children:"How agents use past context to answer new questions"})]})]})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Import Message Types"})]}),C.jsx(vt,{title:"step-1-imports",initialCode:t,description:"Import HumanMessage and AIMessage for conversation memory",onExecute:f})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create Memory Array"})]}),C.jsx(vt,{title:"step-2-memory",initialCode:r,description:"Initialize an array to store conversation history",onExecute:m})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"First Turn - Store Message"})]}),C.jsx(vt,{title:"step-3-turn1",initialCode:a,description:"Send first message and store both user and AI responses",onExecute:b})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Second Turn - Agent Remembers!"})]}),C.jsx(vt,{title:"step-4-turn2",initialCode:s,description:"Ask a question that requires memory - watch the magic!",onExecute:_})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"5"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Multi-Turn Conversation"})]}),C.jsx(vt,{title:"complete-memory-agent",initialCode:l,description:"Full conversation with memory - the agent remembers everything!",onExecute:p})]}),C.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[C.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-100 mb-3",children:" How Memory Works"}),C.jsxs("ul",{className:"space-y-2 text-purple-800 dark:text-purple-200 text-sm",children:[C.jsx("li",{children:" Each message (user and AI) is stored in an array"}),C.jsx("li",{children:" The entire array is sent to the LLM with each new message"}),C.jsx("li",{children:" The LLM can reference previous messages to maintain context"}),C.jsx("li",{children:" This allows for natural, coherent conversations"}),C.jsx("li",{children:" More messages = more tokens = higher cost (manage carefully!)"})]})]}),C.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[C.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Excellent Progress!"}),C.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've learned how to give your agent memory! This is crucial for building conversational AI systems. Next, you'll learn how to give your agent access to external knowledge bases."})]}),C.jsx(ld,{labId:4})]})}var C_=class extends qt{lc_serializable=!0;lc_namespace=["langchain_core","prompts",this._getPromptType()];get lc_attributes(){return{partialVariables:void 0}}inputVariables;outputParser;partialVariables;metadata;tags;constructor(e){super(e);const{inputVariables:n}=e;if(n.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const n=this.partialVariables??{},o={};for(const[u,t]of Object.entries(n))typeof t=="string"?o[u]=t:o[u]=await t();return{...o,...e}}async invoke(e,n){const o={...this.metadata,...n?.metadata},i=[...this.tags??[],...n?.tags??[]];return this._callWithConfig(u=>this.formatPromptValue(u),e,{...n,tags:i,metadata:o,runType:"prompt"})}},t_=class extends C_{async formatPromptValue(e){const n=await this.format(e);return new CM(n)}};var zbe=Object.prototype.toString,mp=Array.isArray||function(n){return zbe.call(n)==="[object Array]"};function vx(e){return typeof e=="function"}function qbe(e){return mp(e)?"array":typeof e}function B1(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function xV(e,n){return e!=null&&typeof e=="object"&&n in e}function Bbe(e,n){return e!=null&&typeof e!="object"&&e.hasOwnProperty&&e.hasOwnProperty(n)}var Lbe=RegExp.prototype.test;function Ube(e,n){return Lbe.call(e,n)}var $be=/\S/;function Fbe(e){return!Ube($be,e)}var Vbe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Gbe(e){return String(e).replace(/[&<>"'`=\/]/g,function(o){return Vbe[o]})}var Hbe=/\s*/,Kbe=/\s+/,PV=/\s*=/,kbe=/\s*\}/,Ybe=/#|\^|\/|>|\{|&|=|!/;function Wbe(e,n){if(!e)return[];var o=!1,i=[],u=[],t=[],r=!1,a=!1,s="",l=0;function f(){if(r&&!a)for(;t.length;)delete u[t.pop()];else t=[];r=!1,a=!1}var m,b,_;function p(P){if(typeof P=="string"&&(P=P.split(Kbe,2)),!mp(P)||P.length!==2)throw new Error("Invalid tags: "+P);m=new RegExp(B1(P[0])+"\\s*"),b=new RegExp("\\s*"+B1(P[1])),_=new RegExp("\\s*"+B1("}"+P[1]))}p(n||Jr.tags);for(var y=new T_(e),v,S,R,j,A,x;!y.eos();){if(v=y.pos,R=y.scanUntil(m),R)for(var M=0,D=R.length;M<D;++M)j=R.charAt(M),Fbe(j)?(t.push(u.length),s+=j):(a=!0,o=!0,s+=" "),u.push(["text",j,v,v+1]),v+=1,j===`
`&&(f(),s="",l=0,o=!1);if(!y.scan(m))break;if(r=!0,S=y.scan(Ybe)||"name",y.scan(Hbe),S==="="?(R=y.scanUntil(PV),y.scan(PV),y.scanUntil(b)):S==="{"?(R=y.scanUntil(_),y.scan(kbe),y.scanUntil(b),S="&"):R=y.scanUntil(b),!y.scan(b))throw new Error("Unclosed tag at "+y.pos);if(S==">"?A=[S,R,v,y.pos,s,l,o]:A=[S,R,v,y.pos],l++,u.push(A),S==="#"||S==="^")i.push(A);else if(S==="/"){if(x=i.pop(),!x)throw new Error('Unopened section "'+R+'" at '+v);if(x[1]!==R)throw new Error('Unclosed section "'+x[1]+'" at '+v)}else S==="name"||S==="{"||S==="&"?a=!0:S==="="&&p(R)}if(f(),x=i.pop(),x)throw new Error('Unclosed section "'+x[1]+'" at '+y.pos);return Zbe(Jbe(u))}function Jbe(e){for(var n=[],o,i,u=0,t=e.length;u<t;++u)o=e[u],o&&(o[0]==="text"&&i&&i[0]==="text"?(i[1]+=o[1],i[3]=o[3]):(n.push(o),i=o));return n}function Zbe(e){for(var n=[],o=n,i=[],u,t,r=0,a=e.length;r<a;++r)switch(u=e[r],u[0]){case"#":case"^":o.push(u),i.push(u),o=u[4]=[];break;case"/":t=i.pop(),t[5]=u[2],o=i.length>0?i[i.length-1][4]:n;break;default:o.push(u)}return n}function T_(e){this.string=e,this.tail=e,this.pos=0}T_.prototype.eos=function(){return this.tail===""};T_.prototype.scan=function(n){var o=this.tail.match(n);if(!o||o.index!==0)return"";var i=o[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i};T_.prototype.scanUntil=function(n){var o=this.tail.search(n),i;switch(o){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,o),this.tail=this.tail.substring(o)}return this.pos+=i.length,i};function up(e,n){this.view=e,this.cache={".":this.view},this.parent=n}up.prototype.push=function(n){return new up(n,this)};up.prototype.lookup=function(n){var o=this.cache,i;if(o.hasOwnProperty(n))i=o[n];else{for(var u=this,t,r,a,s=!1;u;){if(n.indexOf(".")>0)for(t=u.view,r=n.split("."),a=0;t!=null&&a<r.length;)a===r.length-1&&(s=xV(t,r[a])||Bbe(t,r[a])),t=t[r[a++]];else t=u.view[n],s=xV(u.view,n);if(s){i=t;break}u=u.parent}o[n]=i}return vx(i)&&(i=i.call(this.view)),i};function zr(){this.templateCache={_cache:{},set:function(n,o){this._cache[n]=o},get:function(n){return this._cache[n]},clear:function(){this._cache={}}}}zr.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};zr.prototype.parse=function(n,o){var i=this.templateCache,u=n+":"+(o||Jr.tags).join(":"),t=typeof i<"u",r=t?i.get(u):void 0;return r==null&&(r=Wbe(n,o),t&&i.set(u,r)),r};zr.prototype.render=function(n,o,i,u){var t=this.getConfigTags(u),r=this.parse(n,t),a=o instanceof up?o:new up(o,void 0);return this.renderTokens(r,a,i,n,u)};zr.prototype.renderTokens=function(n,o,i,u,t){for(var r="",a,s,l,f=0,m=n.length;f<m;++f)l=void 0,a=n[f],s=a[0],s==="#"?l=this.renderSection(a,o,i,u,t):s==="^"?l=this.renderInverted(a,o,i,u,t):s===">"?l=this.renderPartial(a,o,i,t):s==="&"?l=this.unescapedValue(a,o):s==="name"?l=this.escapedValue(a,o,t):s==="text"&&(l=this.rawValue(a)),l!==void 0&&(r+=l);return r};zr.prototype.renderSection=function(n,o,i,u,t){var r=this,a="",s=o.lookup(n[1]);function l(b){return r.render(b,o,i,t)}if(s){if(mp(s))for(var f=0,m=s.length;f<m;++f)a+=this.renderTokens(n[4],o.push(s[f]),i,u,t);else if(typeof s=="object"||typeof s=="string"||typeof s=="number")a+=this.renderTokens(n[4],o.push(s),i,u,t);else if(vx(s)){if(typeof u!="string")throw new Error("Cannot use higher-order sections without the original template");s=s.call(o.view,u.slice(n[3],n[5]),l),s!=null&&(a+=s)}else a+=this.renderTokens(n[4],o,i,u,t);return a}};zr.prototype.renderInverted=function(n,o,i,u,t){var r=o.lookup(n[1]);if(!r||mp(r)&&r.length===0)return this.renderTokens(n[4],o,i,u,t)};zr.prototype.indentPartial=function(n,o,i){for(var u=o.replace(/[^ \t]/g,""),t=n.split(`
`),r=0;r<t.length;r++)t[r].length&&(r>0||!i)&&(t[r]=u+t[r]);return t.join(`
`)};zr.prototype.renderPartial=function(n,o,i,u){if(i){var t=this.getConfigTags(u),r=vx(i)?i(n[1]):i[n[1]];if(r!=null){var a=n[6],s=n[5],l=n[4],f=r;s==0&&l&&(f=this.indentPartial(r,l,a));var m=this.parse(f,t);return this.renderTokens(m,o,i,f,u)}}};zr.prototype.unescapedValue=function(n,o){var i=o.lookup(n[1]);if(i!=null)return i};zr.prototype.escapedValue=function(n,o,i){var u=this.getConfigEscape(i)||Jr.escape,t=o.lookup(n[1]);if(t!=null)return typeof t=="number"&&u===Jr.escape?String(t):u(t)};zr.prototype.rawValue=function(n){return n[1]};zr.prototype.getConfigTags=function(n){return mp(n)?n:n&&typeof n=="object"?n.tags:void 0};zr.prototype.getConfigEscape=function(n){if(n&&typeof n=="object"&&!mp(n))return n.escape};var Jr={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){r_.templateCache=e},get templateCache(){return r_.templateCache}},r_=new zr;Jr.clearCache=function(){return r_.clearCache()};Jr.parse=function(n,o){return r_.parse(n,o)};Jr.render=function(n,o,i,u){if(typeof n!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+qbe(n)+'" was given as the first argument for mustache#render(template, view, partials)');return r_.render(n,o,i,u)};Jr.escape=Gbe;Jr.Scanner=T_;Jr.Context=up;Jr.Writer=zr;function RJ(){Jr.escape=e=>e}const n_=e=>{const n=e.split(""),o=[],i=(t,r)=>{for(let a=r;a<n.length;a+=1)if(t.includes(n[a]))return a;return-1};let u=0;for(;u<n.length;)if(n[u]==="{"&&u+1<n.length&&n[u+1]==="{")o.push({type:"literal",text:"{"}),u+=2;else if(n[u]==="}"&&u+1<n.length&&n[u+1]==="}")o.push({type:"literal",text:"}"}),u+=2;else if(n[u]==="{"){const t=i("}",u);if(t<0)throw new Error("Unclosed '{' in template.");o.push({type:"variable",name:n.slice(u+1,t).join("")}),u=t+1}else{if(n[u]==="}")throw new Error("Single '}' in template.");{const t=i("{}",u),r=(t<0?n.slice(u):n.slice(u,t)).join("");o.push({type:"literal",text:r}),u=t<0?n.length:t}}return o},jJ=(e,n=[])=>{const o=[];for(const i of e)if(i[0]==="name"){const u=i[1].includes(".")?i[1].split(".")[0]:i[1];o.push({type:"variable",name:u})}else if(["#","&","^",">"].includes(i[0])){if(o.push({type:"variable",name:i[1]}),i[0]==="#"&&i.length>4&&Array.isArray(i[4])){const u=[...n,i[1]],t=jJ(i[4],u);o.push(...t)}}else o.push({type:"literal",text:i[1]});return o},Eb=e=>{RJ();const n=Jr.parse(e);return jJ(n)},CJ=(e,n)=>n_(e).reduce((o,i)=>{if(i.type==="variable"){if(i.name in n){const u=typeof n[i.name]=="string"?n[i.name]:JSON.stringify(n[i.name]);return o+u}throw new Error(`(f-string) Missing value for input ${i.name}`)}return o+i.text},""),TJ=(e,n)=>(RJ(),Jr.render(e,n)),Rb={"f-string":CJ,mustache:TJ},MJ={"f-string":n_,mustache:Eb},nl=(e,n,o)=>{try{return Rb[n](e,o)}catch(i){throw Pb(i,"INVALID_PROMPT_INPUT")}},jb=(e,n)=>MJ[n](e),M_=(e,n,o)=>{if(!(n in Rb)){const i=Object.keys(Rb);throw new Error(`Invalid template format. Got \`${n}\`;
                         should be one of ${i}`)}try{const i=o.reduce((u,t)=>(u[t]="foo",u),{});Array.isArray(e)?e.forEach(u=>{if(u.type==="text"&&"text"in u&&typeof u.text=="string")nl(u.text,n,i);else if(u.type==="image_url"){if(typeof u.image_url=="string")nl(u.image_url,n,i);else if(typeof u.image_url=="object"&&u.image_url!==null&&"url"in u.image_url&&typeof u.image_url.url=="string"){const t=u.image_url.url;nl(t,n,i)}}else throw new Error(`Invalid message template received. ${JSON.stringify(u,null,2)}`)}):nl(e,n,i)}catch(i){throw new Error(`Invalid prompt schema: ${i.message}`)}};var _n=class Im extends t_{static lc_name(){return"PromptTemplate"}template;templateFormat="f-string";validateTemplate=!0;additionalContentFields;constructor(n){if(super(n),n.templateFormat==="mustache"&&n.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,n),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),M_(this.template,this.templateFormat,o)}}_getPromptType(){return"prompt"}async format(n){const o=await this.mergePartialAndUserVariables(n);return nl(this.template,this.templateFormat,o)}static fromExamples(n,o,i,u=`

`,t=""){const r=[t,...n,o].join(u);return new Im({inputVariables:i,template:r})}static fromTemplate(n,o){const{templateFormat:i="f-string",...u}=o??{},t=new Set;return jb(n,i).forEach(r=>{r.type==="variable"&&t.add(r.name)}),new Im({inputVariables:[...t],templateFormat:i,template:n,...u})}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new Im(u)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(n){if(!n.template)throw new Error("Prompt template must have a template");return new Im({inputVariables:n.input_variables,template:n.template,templateFormat:n.template_format})}},tb=class xJ extends C_{static lc_name(){return"ImagePromptTemplate"}lc_namespace=["langchain_core","prompts","image"];template;templateFormat="f-string";validateTemplate=!0;additionalContentFields;constructor(n){if(super(n),this.template=n.template,this.templateFormat=n.templateFormat??this.templateFormat,this.validateTemplate=n.validateTemplate??this.validateTemplate,this.additionalContentFields=n.additionalContentFields,this.validateTemplate){let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),M_([{type:"image_url",image_url:this.template}],this.templateFormat,o)}}_getPromptType(){return"prompt"}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new xJ(u)}async format(n){const o={};for(const[r,a]of Object.entries(this.template))typeof a=="string"?o[r]=nl(a,this.templateFormat,n):o[r]=a;const i=n.url||o.url,u=n.detail||o.detail;if(!i)throw new Error("Must provide either an image URL.");if(typeof i!="string")throw new Error("url must be a string.");const t={url:i};return u&&(t.detail=u),t}async formatPromptValue(n){const o=await this.format(n);return new IH(o)}},IT=class extends qt{lc_namespace=["langchain_core","prompts","dict"];lc_serializable=!0;template;templateFormat;inputVariables;static lc_name(){return"DictPromptTemplate"}constructor(e){const n=e.templateFormat??"f-string",o=zT(e.template,n);super({inputVariables:o,...e}),this.template=e.template,this.templateFormat=n,this.inputVariables=o}async format(e){return qT(this.template,e,this.templateFormat)}async invoke(e){return await this._callWithConfig(this.format.bind(this),e,{runType:"prompt"})}};function zT(e,n){const o=[];for(const i of Object.values(e))if(typeof i=="string")jb(i,n).forEach(u=>{u.type==="variable"&&o.push(u.name)});else if(Array.isArray(i))for(const u of i)typeof u=="string"?jb(u,n).forEach(t=>{t.type==="variable"&&o.push(t.name)}):typeof u=="object"&&o.push(...zT(u,n));else typeof i=="object"&&i!==null&&o.push(...zT(i,n));return Array.from(new Set(o))}function qT(e,n,o){const i={};for(const[u,t]of Object.entries(e))if(typeof t=="string")i[u]=nl(t,o,n);else if(Array.isArray(t)){const r=[];for(const a of t)typeof a=="string"?r.push(nl(a,o,n)):typeof a=="object"&&r.push(qT(a,n,o));i[u]=r}else typeof t=="object"&&t!==null?i[u]=qT(t,n,o):i[u]=t;return i}var g0=class extends qt{lc_namespace=["langchain_core","prompts","chat"];lc_serializable=!0;async invoke(e,n){return this._callWithConfig(o=>this.formatMessages(o),e,{...n,runType:"prompt"})}},BT=class extends g0{static lc_name(){return"MessagesPlaceholder"}variableName;optional;constructor(e){typeof e=="string"&&(e={variableName:e}),super(e),this.variableName=e.variableName,this.optional=e.optional??!1}get inputVariables(){return[this.variableName]}async formatMessages(e){const n=e[this.variableName];if(this.optional&&!n)return[];if(!n){const i=new Error(`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);throw i.name="InputFormatError",i}let o;try{Array.isArray(n)?o=n.map(kc):o=[kc(n)]}catch(i){const u=typeof n=="string"?n:JSON.stringify(n,null,2),t=new Error([`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,`Received value: ${u}`,`Additional message: ${i.message}`].join(`

`));throw t.name="InputFormatError",t.lc_error_code=i.lc_error_code,t}return o}},PJ=class extends g0{prompt;constructor(e){"prompt"in e||(e={prompt:e}),super(e),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}},bx=class extends C_{constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){const n=await this.formatMessages(e);return new TM(n)}},AJ=class extends PJ{static lc_name(){return"ChatMessagePromptTemplate"}role;constructor(e,n){"prompt"in e||(e={prompt:e,role:n}),super(e),this.role=e.role}async format(e){return new ac(await this.prompt.format(e),this.role)}static fromTemplate(e,n,o){return new this(_n.fromTemplate(e,{templateFormat:o?.templateFormat}),n)}};function Qbe(e){return e===null||typeof e!="object"||Array.isArray(e)?!1:Object.keys(e).length===1&&"text"in e&&typeof e.text=="string"}function Xbe(e){return e===null||typeof e!="object"||Array.isArray(e)?!1:"image_url"in e&&(typeof e.image_url=="string"||typeof e.image_url=="object"&&e.image_url!==null&&"url"in e.image_url&&typeof e.image_url.url=="string")}var wx=class extends g0{lc_namespace=["langchain_core","prompts","chat"];lc_serializable=!0;inputVariables=[];additionalOptions={};prompt;messageClass;static _messageClass(){throw new Error("Can not invoke _messageClass from inside _StringImageMessagePromptTemplate")}chatMessageClass;constructor(e,n){if("prompt"in e||(e={prompt:e}),super(e),this.prompt=e.prompt,Array.isArray(this.prompt)){let o=[];this.prompt.forEach(i=>{"inputVariables"in i&&(o=o.concat(i.inputVariables))}),this.inputVariables=o}else this.inputVariables=this.prompt.inputVariables;this.additionalOptions=n??this.additionalOptions}createMessage(e){const n=this.constructor;if(n._messageClass()){const o=n._messageClass();return new o({content:e})}else if(n.chatMessageClass){const o=n.chatMessageClass();return new o({content:e,role:this.getRoleFromMessageClass(o.lc_name())})}else throw new Error("No message class defined")}getRoleFromMessageClass(e){switch(e){case"HumanMessage":return"human";case"AIMessage":return"ai";case"SystemMessage":return"system";case"ChatMessage":return"chat";default:throw new Error("Invalid message class name")}}static fromTemplate(e,n){if(typeof e=="string")return new this(_n.fromTemplate(e,n));const o=[];for(const i of e)if(typeof i=="string")o.push(_n.fromTemplate(i,n));else if(i!==null)if(Qbe(i)){let u="";typeof i.text=="string"&&(u=i.text??"");const t={...n,additionalContentFields:i};o.push(_n.fromTemplate(u,t))}else if(Xbe(i)){let u=i.image_url??"",t,r=[];if(typeof u=="string"){let a;n?.templateFormat==="mustache"?a=Eb(u):a=n_(u);const s=a.flatMap(l=>l.type==="variable"?[l.name]:[]);if((s?.length??0)>0){if(s.length>1)throw new Error(`Only one format variable allowed per image template.
Got: ${s}
From: ${u}`);r=[s[0]]}else r=[];u={url:u},t=new tb({template:u,inputVariables:r,templateFormat:n?.templateFormat,additionalContentFields:i})}else if(typeof u=="object"){if("url"in u){let a;n?.templateFormat==="mustache"?a=Eb(u.url):a=n_(u.url),r=a.flatMap(s=>s.type==="variable"?[s.name]:[])}else r=[];t=new tb({template:u,inputVariables:r,templateFormat:n?.templateFormat,additionalContentFields:i})}else throw new Error("Invalid image template");o.push(t)}else typeof i=="object"&&o.push(new IT({template:i,templateFormat:n?.templateFormat}));return new this({prompt:o,additionalOptions:n})}async format(e){if(this.prompt instanceof t_){const n=await this.prompt.format(e);return this.createMessage(n)}else{const n=[];for(const o of this.prompt){let i={};if(!("inputVariables"in o))throw new Error(`Prompt ${o} does not have inputVariables defined.`);for(const u of o.inputVariables)i||(i={[u]:e[u]}),i={...i,[u]:e[u]};if(o instanceof t_){const u=await o.format(i);let t;"additionalContentFields"in o&&(t=o.additionalContentFields),u!==""&&n.push({...t,type:"text",text:u})}else if(o instanceof tb){const u=await o.format(i);let t;"additionalContentFields"in o&&(t=o.additionalContentFields),n.push({...t,type:"image_url",image_url:u})}else if(o instanceof IT){const u=await o.format(i);let t;"additionalContentFields"in o&&(t=o.additionalContentFields),n.push({...t,...u})}}return this.createMessage(n)}}async formatMessages(e){return[await this.format(e)]}},Ox=class extends wx{static _messageClass(){return It}static lc_name(){return"HumanMessagePromptTemplate"}},NJ=class extends wx{static _messageClass(){return Sr}static lc_name(){return"AIMessagePromptTemplate"}},DJ=class extends wx{static _messageClass(){return lr}static lc_name(){return"SystemMessagePromptTemplate"}};function e0e(e){return typeof e.formatMessages=="function"}function t0e(e,n){if(e0e(e)||Yl(e))return e;if(Array.isArray(e)&&e[0]==="placeholder"){const u=e[1];if(n?.templateFormat==="mustache"&&typeof u=="string"&&u.slice(0,2)==="{{"&&u.slice(-2)==="}}"){const t=u.slice(2,-2);return new BT({variableName:t,optional:!0})}else if(typeof u=="string"&&u[0]==="{"&&u[u.length-1]==="}"){const t=u.slice(1,-1);return new BT({variableName:t,optional:!0})}throw new Error(`Invalid placeholder template for format ${n?.templateFormat??'"f-string"'}: "${e[1]}". Expected a variable name surrounded by ${n?.templateFormat==="mustache"?"double":"single"} curly braces.`)}const o=kc(e);let i;if(typeof o.content=="string"?i=o.content:i=o.content.map(u=>"text"in u?{...u,text:u.text}:"image_url"in u?{...u,image_url:u.image_url}:u),o._getType()==="human")return Ox.fromTemplate(i,n);if(o._getType()==="ai")return NJ.fromTemplate(i,n);if(o._getType()==="system")return DJ.fromTemplate(i,n);if(ac.isInstance(o))return AJ.fromTemplate(o.content,o.role,n);throw new Error(`Could not coerce message prompt template from input. Received message type: "${o._getType()}".`)}function r0e(e){return e.constructor.lc_name()==="MessagesPlaceholder"}var Sx=class rb extends bx{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}promptMessages;validateTemplate=!0;templateFormat="f-string";constructor(n){if(super(n),n.templateFormat==="mustache"&&n.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,n),this.validateTemplate){const o=new Set;for(const a of this.promptMessages)if(!(a instanceof qn))for(const s of a.inputVariables)o.add(s);const i=this.inputVariables,u=new Set(this.partialVariables?i.concat(Object.keys(this.partialVariables)):i),t=new Set([...u].filter(a=>!o.has(a)));if(t.size>0)throw new Error(`Input variables \`${[...t]}\` are not used in any of the prompt messages.`);const r=new Set([...o].filter(a=>!u.has(a)));if(r.size>0)throw new Error(`Input variables \`${[...r]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async _parseImagePrompts(n,o){if(typeof n.content=="string")return n;const i=await Promise.all(n.content.map(async u=>{if(u.type!=="image_url")return u;let t="";typeof u.image_url=="string"?t=u.image_url:typeof u.image_url=="object"&&u.image_url!==null&&"url"in u.image_url&&typeof u.image_url.url=="string"&&(t=u.image_url.url);const a=await _n.fromTemplate(t,{templateFormat:this.templateFormat}).format(o);return typeof u.image_url=="object"&&u.image_url!==null&&"url"in u.image_url?u.image_url.url=a:u.image_url=a,u}));return n.content=i,n}async formatMessages(n){const o=await this.mergePartialAndUserVariables(n);let i=[];for(const u of this.promptMessages)if(u instanceof qn)i.push(await this._parseImagePrompts(u,o));else{let t;this.templateFormat==="mustache"?t={...o}:t=u.inputVariables.reduce((a,s)=>{if(!(s in o)&&!(r0e(u)&&u.optional))throw Pb(new Error(`Missing value for input variable \`${s.toString()}\``),"INVALID_PROMPT_INPUT");return a[s]=o[s],a},{});const r=await u.formatMessages(t);i=i.concat(r)}return i}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new rb(u)}static fromTemplate(n,o){const i=_n.fromTemplate(n,o),u=new Ox({prompt:i});return this.fromMessages([u])}static fromMessages(n,o){const i=n.reduce((r,a)=>r.concat(a instanceof rb?a.promptMessages:[t0e(a,o)]),[]),u=n.reduce((r,a)=>a instanceof rb?Object.assign(r,a.partialVariables):r,Object.create(null)),t=new Set;for(const r of i)if(!(r instanceof qn))for(const a of r.inputVariables)a in u||t.add(a);return new this({...o,inputVariables:[...t],promptMessages:i,partialVariables:u,templateFormat:o?.templateFormat})}},n0e=class LT extends t_{lc_serializable=!1;examples;exampleSelector;examplePrompt;suffix="";exampleSeparator=`

`;prefix="";templateFormat="f-string";validateTemplate=!0;constructor(n){if(super(n),Object.assign(this,n),this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),M_(this.prefix+this.suffix,this.templateFormat,o)}}_getPromptType(){return"few_shot"}static lc_name(){return"FewShotPromptTemplate"}async getExamples(n){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(n);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new LT(u)}async format(n){const o=await this.mergePartialAndUserVariables(n),i=await this.getExamples(o),u=await Promise.all(i.map(r=>this.examplePrompt.format(r))),t=[this.prefix,...u,this.suffix].join(this.exampleSeparator);return nl(t,this.templateFormat,o)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(this.outputParser!==void 0)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(n){const{example_prompt:o}=n;if(!o)throw new Error("Missing example prompt");const i=await _n.deserialize(o);let u;if(Array.isArray(n.examples))u=n.examples;else throw new Error("Invalid examples format. Only list or string are supported.");return new LT({inputVariables:n.input_variables,examplePrompt:i,examples:u,exampleSeparator:n.example_separator,prefix:n.prefix,suffix:n.suffix,templateFormat:n.template_format})}},a0e=class IJ extends bx{lc_serializable=!0;examples;exampleSelector;examplePrompt;suffix="";exampleSeparator=`

`;prefix="";templateFormat="f-string";validateTemplate=!0;_getPromptType(){return"few_shot_chat"}static lc_name(){return"FewShotChatMessagePromptTemplate"}constructor(n){if(super(n),this.examples=n.examples,this.examplePrompt=n.examplePrompt,this.exampleSeparator=n.exampleSeparator??`

`,this.exampleSelector=n.exampleSelector,this.prefix=n.prefix??"",this.suffix=n.suffix??"",this.templateFormat=n.templateFormat??"f-string",this.validateTemplate=n.validateTemplate??!0,this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),M_(this.prefix+this.suffix,this.templateFormat,o)}}async getExamples(n){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(n);throw new Error("One of 'examples' and 'example_selector' should be provided")}async formatMessages(n){const o=await this.mergePartialAndUserVariables(n);let i=await this.getExamples(o);i=i.map(t=>{const r={};return this.examplePrompt.inputVariables.forEach(a=>{r[a]=t[a]}),r});const u=[];for(const t of i){const r=await this.examplePrompt.formatMessages(t);u.push(...r)}return u}async format(n){const o=await this.mergePartialAndUserVariables(n),i=await this.getExamples(o),t=(await Promise.all(i.map(a=>this.examplePrompt.formatMessages(a)))).flat().map(a=>a.content),r=[this.prefix,...t,this.suffix].join(this.exampleSeparator);return nl(r,this.templateFormat,o)}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},u={...this,inputVariables:o,partialVariables:i};return new IJ(u)}},i0e=class nb extends C_{static lc_name(){return"PipelinePromptTemplate"}pipelinePrompts;finalPrompt;constructor(n){super({...n,inputVariables:[]}),this.pipelinePrompts=n.pipelinePrompts,this.finalPrompt=n.finalPrompt,this.inputVariables=this.computeInputValues()}computeInputValues(){const n=this.pipelinePrompts.map(i=>i.name),o=this.pipelinePrompts.map(i=>i.prompt.inputVariables.filter(u=>!n.includes(u))).flat();return[...new Set(o)]}static extractRequiredInputValues(n,o){return o.reduce((i,u)=>(i[u]=n[u],i),{})}async formatPipelinePrompts(n){const o=await this.mergePartialAndUserVariables(n);for(const{name:i,prompt:u}of this.pipelinePrompts){const t=nb.extractRequiredInputValues(o,u.inputVariables);u instanceof Sx?o[i]=await u.formatMessages(t):o[i]=await u.format(t)}return nb.extractRequiredInputValues(o,this.finalPrompt.inputVariables)}async formatPromptValue(n){return this.finalPrompt.formatPromptValue(await this.formatPipelinePrompts(n))}async format(n){return this.finalPrompt.format(await this.formatPipelinePrompts(n))}async partial(n){const o={...this};return o.inputVariables=this.inputVariables.filter(i=>!(i in n)),o.partialVariables={...this.partialVariables??{},...n},new nb(o)}serialize(){throw new Error("Not implemented.")}_getPromptType(){return"pipeline"}};function AV(e){return typeof e=="object"&&e!=null&&"withStructuredOutput"in e&&typeof e.withStructuredOutput=="function"}function o0e(e){return typeof e=="object"&&e!=null&&"lc_id"in e&&Array.isArray(e.lc_id)&&e.lc_id.join("/")==="langchain_core/runnables/RunnableBinding"}var s0e=class zJ extends Sx{schema;method;lc_namespace=["langchain_core","prompts","structured"];get lc_aliases(){return{...super.lc_aliases,schema:"schema_"}}constructor(n){super(n),this.schema=n.schema,this.method=n.method}pipe(n){if(AV(n))return super.pipe(n.withStructuredOutput(this.schema));if(o0e(n)&&AV(n.bound))return super.pipe(new Ff({bound:n.bound.withStructuredOutput(this.schema,...this.method?[{method:this.method}]:[]),kwargs:n.kwargs??{},config:n.config,configFactories:n.configFactories}));throw new Error('Structured prompts need to be piped to a language model that supports the "withStructuredOutput()" method.')}static fromMessagesAndSchema(n,o,i){return zJ.fromMessages(n,{schema:o,method:i})}},u0e={};ct(u0e,{AIMessagePromptTemplate:()=>NJ,BaseChatPromptTemplate:()=>bx,BaseMessagePromptTemplate:()=>g0,BaseMessageStringPromptTemplate:()=>PJ,BasePromptTemplate:()=>C_,BaseStringPromptTemplate:()=>t_,ChatMessagePromptTemplate:()=>AJ,ChatPromptTemplate:()=>Sx,DEFAULT_FORMATTER_MAPPING:()=>Rb,DEFAULT_PARSER_MAPPING:()=>MJ,DictPromptTemplate:()=>IT,FewShotChatMessagePromptTemplate:()=>a0e,FewShotPromptTemplate:()=>n0e,HumanMessagePromptTemplate:()=>Ox,ImagePromptTemplate:()=>tb,MessagesPlaceholder:()=>BT,PipelinePromptTemplate:()=>i0e,PromptTemplate:()=>_n,StructuredPrompt:()=>s0e,SystemMessagePromptTemplate:()=>DJ,checkValidTemplate:()=>M_,interpolateFString:()=>CJ,interpolateMustache:()=>TJ,parseFString:()=>n_,parseMustache:()=>Eb,parseTemplate:()=>jb,renderTemplate:()=>nl});const l0e=8;function c0e(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Nr(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`YUV.AI Knowledge Base:
- Founded by Yuval Avidani, an AI Builder and Speaker
- Specializes in AI agents, LLMs, and generative AI training
- Offers workshops for companies in UK, EU, and Israel
- Created Logan AI - an orchestration layer for multi-agent systems
- 17 years of experience in tech, development, research, and cyber security
- Based in Israel
- Active on LinkedIn, X (@yuvalav), and Instagram (@yuval_770)
- Website: https://yuv.ai
- GitHub: @hoodini
- Part of GitHub Stars program`,r=`// Step 1: Define your knowledge base
const knowledgeBase = \`${t}\`;

console.log(' Knowledge base loaded!');
console.log('Total length:', knowledgeBase.length, 'characters');`,a=`// Step 2: Import PromptTemplate for structured prompts
import { PromptTemplate } from '@langchain/core/prompts';

const template = \`You are a helpful assistant with access to the following knowledge base.
Answer the user's question using ONLY information from the knowledge base.
If the answer is not in the knowledge base, say "I don't have that information."

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);

console.log(' Prompt template created!');
console.log('Template variables:', prompt.inputVariables);`,s=`// Step 3: Format the prompt with knowledge and question
import { PromptTemplate } from '@langchain/core/prompts';

const knowledgeBase = \`${t}\`;

const template = \`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);
const formattedPrompt = await prompt.format({
  knowledge: knowledgeBase,
  question: "Who founded YUV.AI?"
});

console.log(' Prompt formatted!');
console.log('Question: Who founded YUV.AI?');`,l=`// Step 4: Query the knowledge base
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const knowledgeBase = \`${t}\`;

const template = \`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);
const formattedPrompt = await prompt.format({
  knowledge: knowledgeBase,
  question: "Who founded YUV.AI?"
});

const response = await llm.invoke(formattedPrompt);

console.log('Question: Who founded YUV.AI?');
console.log('Answer:', response.content);`,f=`// Complete Example: Knowledge Base Agent
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const knowledgeBase = \`${t}\`;

const template = \`You are a helpful assistant. Answer using ONLY the knowledge base.
If the answer is not in the knowledge base, say "I don't have that information."

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);

// Ask multiple questions
const questions = [
  "What is Logan AI?",
  "Where is YUV.AI based?",
  "What is Yuval's favorite color?" // Not in knowledge base
];

for (const question of questions) {
  const formattedPrompt = await prompt.format({
    knowledge: knowledgeBase,
    question
  });
  const response = await llm.invoke(formattedPrompt);
  console.log('Q:', question);
  console.log('A:', response.content);
  console.log('');
}`,m=async()=>{try{return{output:` Knowledge base loaded!
Total length: ${t.length} characters`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{return{output:` Prompt template created!
Template variables: ${_n.fromTemplate(`You are a helpful assistant with access to the following knowledge base.
Answer the user's question using ONLY information from the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`).inputVariables.join(", ")}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{return await _n.fromTemplate(`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`).format({knowledge:t,question:"Who founded YUV.AI?"}),{output:` Prompt formatted!
Question: Who founded YUV.AI?`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const v=Ar(e,n,o),j=await _n.fromTemplate(`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`).format({knowledge:t,question:"Who founded YUV.AI?"});return{output:`Question: Who founded YUV.AI?
Answer: ${(await v.invoke(j)).content}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const v=Ar(e,n,o),R=_n.fromTemplate(`You are a helpful assistant. Answer using ONLY the knowledge base.
If the answer is not in the knowledge base, say "I don't have that information."

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`),j=["What is Logan AI?","Where is YUV.AI based?","What is Yuval's favorite color?"];let A="";for(const x of j){const M=await R.format({knowledge:t,question:x}),D=await v.invoke(M);A+=`Q: ${x}
A: ${D.content}

`}return ud(),i(5,l0e),{output:A,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}};return C.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[C.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[C.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl shadow-lg",children:C.jsx(FT,{className:"w-8 h-8 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 5: Knowledge Base Integration"}),C.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Give your agent access to specific knowledge"})]})]}),C.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[C.jsx(Gf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),C.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[C.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),C.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"Creating a simple knowledge base with text"}),C.jsx("li",{children:"Using PromptTemplate to inject knowledge"}),C.jsx("li",{children:"Constraining agents to answer only from provided knowledge"}),C.jsx("li",{children:"Handling questions outside the knowledge base"})]})]})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Define Knowledge Base"})]}),C.jsx(vt,{title:"step-1-knowledge",initialCode:r,description:"Create a text-based knowledge base with relevant information",onExecute:m})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create Prompt Template"})]}),C.jsx(vt,{title:"step-2-template",initialCode:a,description:"Use PromptTemplate to structure your prompts with variables",onExecute:b})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Format Prompt with Data"})]}),C.jsx(vt,{title:"step-3-format",initialCode:s,description:"Inject knowledge and question into the template",onExecute:_})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Query the Knowledge Base"})]}),C.jsx(vt,{title:"step-4-query",initialCode:l,description:"Send formatted prompt to LLM and get knowledge-based answer",onExecute:p})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"5"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Knowledge Base Agent"})]}),C.jsx(vt,{title:"complete-kb-agent",initialCode:f,description:"Test with multiple questions - see how it handles unknown info!",onExecute:y})]}),C.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-emerald-50 dark:from-teal-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-teal-200 dark:border-teal-800",children:[C.jsx("h3",{className:"font-semibold text-teal-900 dark:text-teal-100 mb-3",children:" Knowledge Base Tips"}),C.jsxs("ul",{className:"space-y-2 text-teal-800 dark:text-teal-200 text-sm",children:[C.jsx("li",{children:" Keep knowledge organized and structured"}),C.jsx("li",{children:" Instruct the agent to admit when it doesn't know"}),C.jsx("li",{children:" For large knowledge bases, use vector databases (next lab!)"}),C.jsx("li",{children:" Update knowledge base regularly for accuracy"}),C.jsx("li",{children:" Test with questions both inside and outside the knowledge"})]})]}),C.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[C.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Knowledge Unlocked!"}),C.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've learned how to give your agent access to specific knowledge! Next, you'll learn about RAG (Retrieval Augmented Generation) with vector search for handling large knowledge bases."})]}),C.jsx(ld,{labId:5})]})}var d0e=Object.defineProperty,f0e=(e,n)=>{for(var o in n)d0e(e,o,{get:n[o],enumerable:!0})};function h0e(e,n){let o=0,i=0,u=0;for(let t=0;t<e.length;t++)o+=e[t]*n[t],i+=e[t]*e[t],u+=n[t]*n[t];return o/(Math.sqrt(i)*Math.sqrt(u))}var Wl=class{pageContent;metadata;id;constructor(e){this.pageContent=e.pageContent!==void 0?e.pageContent.toString():"",this.metadata=e.metadata??{},this.id=e.id}},qJ=class extends qt{lc_namespace=["langchain_core","documents","transformers"];invoke(e,n){return this.transformDocuments(e)}},p0e=class extends qJ{async transformDocuments(e){const n=[];for(const o of e){const i=await this._transformDocument(o);n.push(i)}return n}},g0e={};ct(g0e,{BaseDocumentTransformer:()=>qJ,Document:()=>Wl,MappingDocumentTransformer:()=>p0e});var m0e={};ct(m0e,{BaseRetriever:()=>BJ});var BJ=class extends qt{callbacks;tags;metadata;verbose;constructor(e){super(e),this.callbacks=e?.callbacks,this.tags=e?.tags??[],this.metadata=e?.metadata??{},this.verbose=e?.verbose??!1}_getRelevantDocuments(e,n){throw new Error("Not implemented!")}async invoke(e,n){const o=Et(dH(n)),u=await(await Yr.configure(o.callbacks,this.callbacks,o.tags,this.tags,o.metadata,this.metadata,{verbose:this.verbose}))?.handleRetrieverStart(this.toJSON(),e,o.runId,void 0,void 0,void 0,o.runName);try{const t=await this._getRelevantDocuments(e,u);return await u?.handleRetrieverEnd(t),t}catch(t){throw await u?.handleRetrieverError(t),t}}},_0e={};ct(_0e,{SaveableVectorStore:()=>y0e,VectorStore:()=>Ex,VectorStoreRetriever:()=>ab});var ab=class extends BJ{static lc_name(){return"VectorStoreRetriever"}get lc_namespace(){return["langchain_core","vectorstores"]}vectorStore;k=4;searchType="similarity";searchKwargs;filter;_vectorstoreType(){return this.vectorStore._vectorstoreType()}constructor(e){super(e),this.vectorStore=e.vectorStore,this.k=e.k??this.k,this.searchType=e.searchType??this.searchType,this.filter=e.filter,e.searchType==="mmr"&&(this.searchKwargs=e.searchKwargs)}async _getRelevantDocuments(e,n){if(this.searchType==="mmr"){if(typeof this.vectorStore.maxMarginalRelevanceSearch!="function")throw new Error(`The vector store backing this retriever, ${this._vectorstoreType()} does not support max marginal relevance search.`);return this.vectorStore.maxMarginalRelevanceSearch(e,{k:this.k,filter:this.filter,...this.searchKwargs},n?.getChild("vectorstore"))}return this.vectorStore.similaritySearch(e,this.k,this.filter,n?.getChild("vectorstore"))}async addDocuments(e,n){return this.vectorStore.addDocuments(e,n)}},Ex=class extends Uf{lc_namespace=["langchain","vectorstores",this._vectorstoreType()];embeddings;constructor(e,n){super(n),this.embeddings=e}async delete(e){throw new Error("Not implemented.")}async similaritySearch(e,n=4,o=void 0,i=void 0){return(await this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),n,o)).map(t=>t[0])}async similaritySearchWithScore(e,n=4,o=void 0,i=void 0){return this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),n,o)}static fromTexts(e,n,o,i){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}static fromDocuments(e,n,o){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}asRetriever(e,n,o,i,u,t){if(typeof e=="number")return new ab({vectorStore:this,k:e,filter:n,tags:[...i??[],this._vectorstoreType()],metadata:u,verbose:t,callbacks:o});{const r={vectorStore:this,k:e?.k,filter:e?.filter,tags:[...e?.tags??[],this._vectorstoreType()],metadata:e?.metadata,verbose:e?.verbose,callbacks:e?.callbacks,searchType:e?.searchType};return e?.searchType==="mmr"?new ab({...r,searchKwargs:e.searchKwargs}):new ab({...r})}}},y0e=class extends Ex{static load(e,n){throw new Error("Not implemented")}};function v0e(e,n){let o=0,i=0,u=0;for(let t=0;t<e.length;t++)o+=e[t]*n[t],i+=e[t]*e[t],u+=n[t]*n[t];return o/(Math.sqrt(i)*Math.sqrt(u))}function b0e(e,n){let o=0;for(let i=0;i<e.length;i++)o+=e[i]*n[i];return o}function w0e(e,n){let o=0;for(let i=0;i<e.length;i++)o+=(e[i]-n[i])*(e[i]-n[i]);return o}function O0e(e,n){return Math.sqrt(w0e(e,n))}var S0e={};ct(S0e,{cosineSimilarity:()=>UT,euclideanDistance:()=>j0e,innerProduct:()=>R0e,matrixFunc:()=>m0,maximalMarginalRelevance:()=>LJ,normalize:()=>E0e});function m0(e,n,o){if(e.length===0||e[0].length===0||n.length===0||n[0].length===0)return[[]];if(e[0].length!==n[0].length)throw new Error(`Number of columns in X and Y must be the same. X has shape ${[e.length,e[0].length]} and Y has shape ${[n.length,n[0].length]}.`);return e.map(i=>n.map(u=>o(i,u)).map(u=>Number.isNaN(u)?0:u))}function E0e(e,n=!1){const o=C0e(e);return e.map(i=>i.map(u=>n?1-u/o:u/o))}function UT(e,n){return m0(e,n,v0e)}function R0e(e,n){return m0(e,n,b0e)}function j0e(e,n){return m0(e,n,O0e)}function LJ(e,n,o=.5,i=4){if(Math.min(i,n.length)<=0)return[];const u=Array.isArray(e[0])?e:[e],t=UT(u,n)[0],r=UJ(t).maxIndex,a=[n[r]],s=[r];for(;s.length<Math.min(i,n.length);){let l=-1/0,f=-1;const m=UT(n,a);t.forEach((b,_)=>{if(s.includes(_))return;const p=Math.max(...m[_]),y=o*b-(1-o)*p;y>l&&(l=y,f=_)}),a.push(n[f]),s.push(f)}return s}function UJ(e){if(e.length===0)return{maxIndex:-1,maxValue:NaN};let n=e[0],o=0;for(let i=1;i<e.length;i+=1)e[i]>n&&(o=i,n=e[i]);return{maxIndex:o,maxValue:n}}function C0e(e){return e.reduce((n,o)=>Math.max(n,UJ(o).maxValue),0)}var T0e={};f0e(T0e,{MemoryVectorStore:()=>zm});var zm=class $J extends Ex{memoryVectors=[];similarity;_vectorstoreType(){return"memory"}constructor(n,{similarity:o,...i}={}){super(n,i),this.similarity=o??h0e}async addDocuments(n){const o=n.map(({pageContent:i})=>i);return this.addVectors(await this.embeddings.embedDocuments(o),n)}async addVectors(n,o){const i=n.map((u,t)=>({content:o[t].pageContent,embedding:u,metadata:o[t].metadata,id:o[t].id}));this.memoryVectors=this.memoryVectors.concat(i)}async _queryVectors(n,o,i){const u=r=>{if(!i)return!0;const a=new Wl({metadata:r.metadata,pageContent:r.content,id:r.id});return i(a)};return this.memoryVectors.filter(u).map((r,a)=>({similarity:this.similarity(n,r.embedding),index:a,metadata:r.metadata,content:r.content,embedding:r.embedding,id:r.id})).sort((r,a)=>r.similarity>a.similarity?-1:0).slice(0,o)}async similaritySearchVectorWithScore(n,o,i){return(await this._queryVectors(n,o,i)).map(r=>[new Wl({metadata:r.metadata,pageContent:r.content,id:r.id}),r.similarity])}async maxMarginalRelevanceSearch(n,o){const i=await this.embeddings.embedQuery(n),u=await this._queryVectors(i,o.fetchK??20,o.filter),t=u.map(a=>a.embedding);return LJ(i,t,o.lambda,o.k).map(a=>new Wl({metadata:u[a].metadata,pageContent:u[a].content,id:u[a].id}))}static async fromTexts(n,o,i,u){const t=[];for(let r=0;r<n.length;r+=1){const a=Array.isArray(o)?o[r]:o,s=new Wl({pageContent:n[r],metadata:a});t.push(s)}return $J.fromDocuments(t,i,u)}static async fromDocuments(n,o,i){const u=new this(o,i);return await u.addDocuments(n),u}static async fromExistingIndex(n,o){return new this(n,o)}};const M0e=8;function x0e(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Nr(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=["Large Language Models (LLMs) are neural networks trained on massive amounts of text data. They can understand and generate human-like text. Popular examples include GPT-4, Claude, and Llama.","Vector embeddings are numerical representations of text that capture semantic meaning. Similar texts have similar embedding vectors, which enables semantic search.","RAG (Retrieval-Augmented Generation) combines information retrieval with text generation. It retrieves relevant documents from a knowledge base and uses them as context for the LLM.","Cohere provides enterprise-grade AI models including embeddings, reranking, and generation. Their embed-english-v3.0 model creates high-quality semantic embeddings.","Reranking improves search results by re-scoring retrieved documents based on relevance to the query. Cohere's rerank model achieves state-of-the-art performance.","Semantic similarity is measured using cosine similarity between embedding vectors. Scores range from -1 (opposite) to 1 (identical), with higher scores indicating greater similarity.","Chunking is the process of splitting long documents into smaller pieces. Good chunk size balances context (larger chunks) with precision (smaller chunks). Common sizes: 256-1024 tokens.","Vector databases like Pinecone, Weaviate, and Chroma store embeddings efficiently and enable fast similarity search at scale. They're essential for production RAG systems."],r=`// Step 1: Document Chunking - See How Documents are Split
const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data. They can understand and generate human-like text. Popular examples include GPT-4, Claude, and Llama.",
  "Vector embeddings are numerical representations of text that capture semantic meaning. Similar texts have similar embedding vectors, which enables semantic search.",
  "RAG (Retrieval-Augmented Generation) combines information retrieval with text generation. It retrieves relevant documents from a knowledge base and uses them as context for the LLM.",
  "Cohere provides enterprise-grade AI models including embeddings, reranking, and generation. Their embed-english-v3.0 model creates high-quality semantic embeddings.",
];

console.log(' Total Documents:', documents.length);
console.log('\\n--- Document Chunks ---');
documents.forEach((doc, i) => {
  console.log(\`\\nChunk \${i + 1}:\`);
  console.log(\`Length: \${doc.length} characters\`);
  console.log(\`Preview: \${doc.substring(0, 80)}...\`);
});

console.log('\\n Documents chunked and ready for embedding!');`,a=`// Step 2: Create Embeddings - See the Magic of Vector Representation!
import { CohereEmbeddings } from '@langchain/cohere';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

// Embed a single query to see what embeddings look like
const query = "What are embeddings?";
const queryEmbedding = await embeddings.embedQuery(query);

console.log(' EMBEDDING VISUALIZATION');
console.log('Query:', query);
console.log('\\nEmbedding Details:');
console.log('- Dimensions:', queryEmbedding.length);
console.log('- Type: Float32 vector');
console.log('\\nFirst 10 dimensions:', queryEmbedding.slice(0, 10).map(n => n.toFixed(4)));
console.log('Last 10 dimensions:', queryEmbedding.slice(-10).map(n => n.toFixed(4)));
console.log('\\n This vector captures the MEANING of your query!');
console.log(' Similar texts will have similar vectors!');`,s=`// Step 3: Build Vector Store - Create Searchable Knowledge Base
import { CohereEmbeddings } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
];

// Convert to LangChain Document objects
const docs = documents.map(text => new Document({ pageContent: text }));

// Create vector store - this embeds ALL documents!
console.log(' Embedding all documents...');
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

console.log(\`\\n Created vector store with \${documents.length} documents\`);
console.log(' Each document is now a vector in semantic space');
console.log(' Ready for similarity search!');`,l=`// Step 4: Similarity Search - Find Relevant Documents
import { CohereEmbeddings } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
  "Semantic similarity is measured using cosine similarity between vectors.",
  "Chunking splits long documents into smaller pieces for better retrieval.",
];

const docs = documents.map(text => new Document({ pageContent: text }));
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

// Perform similarity search with scores!
const query = "How do you measure if two texts are similar?";
const results = await vectorStore.similaritySearchWithScore(query, 3);

console.log(' SIMILARITY SEARCH RESULTS');
console.log('Query:', query);
console.log('\\nTop 3 Most Relevant Documents:\\n');

results.forEach(([doc, score], i) => {
  console.log(\`Rank \${i + 1}: (Similarity: \${score.toFixed(4)})\`);
  console.log(\`"\${doc.pageContent}"\`);
  console.log('');
});

console.log(' Higher scores = more relevant!');`,f=`// Step 5: Cohere Reranking - Boost Accuracy with Advanced Reranking!
import { CohereEmbeddings, CohereRerank } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
  "Semantic similarity is measured using cosine similarity between vectors.",
  "Chunking splits long documents into smaller pieces for better retrieval.",
  "Reranking improves search results by re-scoring based on true relevance.",
  "Vector databases enable fast similarity search at production scale.",
];

const docs = documents.map(text => new Document({ pageContent: text }));
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

const query = "How can I improve search accuracy?";

// Step 1: Get initial results from vector search
const initialResults = await vectorStore.similaritySearchWithScore(query, 5);

console.log(' BEFORE RERANKING (Vector Search Only):\\n');
initialResults.forEach(([doc, score], i) => {
  console.log(\`\${i + 1}. Score: \${score.toFixed(4)} | \${doc.pageContent.substring(0, 60)}...\`);
});

// Step 2: Rerank with Cohere for better relevance
const reranker = new CohereRerank({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'rerank-english-v3.0',
  topN: 3,
});

const rerankedDocs = await reranker.compressDocuments(
  initialResults.map(([doc]) => doc),
  query
);

console.log('\\n AFTER RERANKING (Cohere Rerank):\\n');
rerankedDocs.forEach((doc, i) => {
  const relevanceScore = doc.metadata.relevanceScore || 0;
  console.log(\`\${i + 1}. Relevance: \${relevanceScore.toFixed(4)} | \${doc.pageContent.substring(0, 60)}...\`);
});

console.log('\\n Reranking found the MOST relevant results!');
console.log(' Notice how "Reranking improves search" moved to the top!');`,m=`// Step 6: Complete RAG System - Question Answering with Retrieved Context
import { CohereEmbeddings, CohereRerank } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';
import { PromptTemplate } from '@langchain/core/prompts';

const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
  "Semantic similarity is measured using cosine similarity between vectors.",
  "Chunking splits long documents into smaller pieces for better retrieval.",
  "Reranking improves search results by re-scoring based on true relevance.",
  "Vector databases enable fast similarity search at production scale.",
];

const docs = documents.map(text => new Document({ pageContent: text }));
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

const query = "What is RAG and how does it work?";

// Retrieve and rerank
const initialResults = await vectorStore.similaritySearchWithScore(query, 5);
const reranker = new CohereRerank({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'rerank-english-v3.0',
  topN: 3,
});
const relevantDocs = await reranker.compressDocuments(
  initialResults.map(([doc]) => doc),
  query
);

// Generate answer using retrieved context
const context = relevantDocs.map(doc => doc.pageContent).join('\\n');
const template = \`Answer the question using ONLY the context below.

CONTEXT:
{context}

QUESTION: {question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);
const formattedPrompt = await prompt.format({ context, question: query });
const answer = await llm.invoke(formattedPrompt);

console.log(' Question:', query);
console.log('\\n Retrieved Context (Top 3 after reranking):\\n');
relevantDocs.forEach((doc, i) => {
  console.log(\`\${i + 1}. \${doc.pageContent}\`);
});
console.log('\\n Generated Answer:\\n');
console.log(answer.content);
console.log('\\n Complete RAG pipeline: Retrieve  Rerank  Generate!');`,b=async()=>{try{let R=` Total Documents: ${t.length}

--- Document Chunks ---`;return t.slice(0,4).forEach((j,A)=>{R+=`

Chunk ${A+1}:`,R+=`
Length: ${j.length} characters`,R+=`
Preview: ${j.substring(0,80)}...`}),R+=`

 Documents chunked and ready for embedding!`,{output:R,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const R=new jm({apiKey:e,model:"embed-english-v3.0"}),j="What are embeddings?",A=await R.embedQuery(j);return{output:` EMBEDDING VISUALIZATION
Query: ${j}

Embedding Details:
- Dimensions: ${A.length}
- Type: Float32 vector

First 10 dimensions: ${A.slice(0,10).map(M=>M.toFixed(4)).join(", ")}
Last 10 dimensions: ${A.slice(-10).map(M=>M.toFixed(4)).join(", ")}

 This vector captures the MEANING of your query!
 Similar texts will have similar vectors!`,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const R=new jm({apiKey:e,model:"embed-english-v3.0"}),j=t.slice(0,4).map(x=>new Wl({pageContent:x})),A=` Embedding all documents...
`;return await zm.fromDocuments(j,R),{output:A+`
 Created vector store with ${j.length} documents
 Each document is now a vector in semantic space
 Ready for similarity search!`,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const R=new jm({apiKey:e,model:"embed-english-v3.0"}),j=t.slice(0,6).map(P=>new Wl({pageContent:P})),A=await zm.fromDocuments(j,R),x="How do you measure if two texts are similar?",M=await A.similaritySearchWithScore(x,3);let D=` SIMILARITY SEARCH RESULTS
`;return D+=`Query: ${x}

Top 3 Most Relevant Documents:

`,M.forEach(([P,F],B)=>{D+=`Rank ${B+1}: (Similarity: ${F.toFixed(4)})
`,D+=`"${P.pageContent}"

`}),D+=" Higher scores = more relevant!",{output:D,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},v=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const R=new jm({apiKey:e,model:"embed-english-v3.0"}),j=t.map(B=>new Wl({pageContent:B})),A=await zm.fromDocuments(j,R),x="How can I improve search accuracy?",M=await A.similaritySearchWithScore(x,5);let D=` BEFORE RERANKING (Vector Search Only):

`;M.forEach(([B,q],w)=>{D+=`${w+1}. Score: ${q.toFixed(4)} | ${B.pageContent.substring(0,60)}...
`});const F=await new wV({apiKey:e,model:"rerank-english-v3.0",topN:3}).compressDocuments(M.map(([B])=>B),x);return D+=`
 AFTER RERANKING (Cohere Rerank):

`,F.forEach((B,q)=>{const w=B.metadata.relevanceScore||0;D+=`${q+1}. Relevance: ${w.toFixed(4)} | ${B.pageContent.substring(0,60)}...
`}),D+=`
 Reranking found the MOST relevant results!`,D+=`
 Notice how "Reranking improves search" moved to the top!`,{output:D,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}},S=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const R=Ar(e,n,o),j=new jm({apiKey:e,model:"embed-english-v3.0"}),A=t.map($=>new Wl({pageContent:$})),x=await zm.fromDocuments(A,j),M="What is RAG and how does it work?",D=await x.similaritySearchWithScore(M,5),F=await new wV({apiKey:e,model:"rerank-english-v3.0",topN:3}).compressDocuments(D.map(([$])=>$),M),B=F.map($=>$.pageContent).join(`
`),H=await _n.fromTemplate(`Answer the question using ONLY the context below.

CONTEXT:
{context}

QUESTION: {question}

ANSWER:`).format({context:B,question:M}),Y=await R.invoke(H);let W=` Question: ${M}

 Retrieved Context (Top 3 after reranking):

`;return F.forEach(($,k)=>{W+=`${k+1}. ${$.pageContent}
`}),W+=`
 Generated Answer:

`,W+=Y.content,W+=`

 Complete RAG pipeline: Retrieve  Rerank  Generate!`,ud(),i(6,M0e),{output:W,timestamp:Date.now()}}catch(R){return{output:"",error:R instanceof Error?R.message:"Unknown error",timestamp:Date.now()}}};return C.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[C.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[C.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl shadow-lg",children:C.jsx(jD,{className:"w-8 h-8 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 6: RAG Deep Dive"}),C.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Master embeddings, vector search, and reranking"})]})]}),C.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[C.jsx(Gf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),C.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[C.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn in depth:"}),C.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"How document chunking works and why it matters"}),C.jsx("li",{children:"What embeddings look like under the hood (actual vectors!)"}),C.jsx("li",{children:"Similarity search with cosine similarity scores"}),C.jsx("li",{children:"Cohere reranking for improved accuracy"}),C.jsx("li",{children:"Complete RAG pipeline with real code"})]})]})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),C.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[C.jsx(zX,{className:"w-5 h-5"}),"Document Chunking"]})]}),C.jsx(vt,{title:"step-1-chunking",initialCode:r,description:"See how documents are split into chunks for processing",onExecute:b})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),C.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[C.jsx(VT,{className:"w-5 h-5"}),"Vector Embeddings Revealed"]})]}),C.jsx(vt,{title:"step-2-embeddings",initialCode:a,description:"See actual embedding vectors - the magic behind semantic search!",onExecute:_})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"3"}),C.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[C.jsx(FT,{className:"w-5 h-5"}),"Build Vector Store"]})]}),C.jsx(vt,{title:"step-3-vectorstore",initialCode:s,description:"Create a searchable vector database from documents",onExecute:p})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"4"}),C.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[C.jsx(jD,{className:"w-5 h-5"}),"Similarity Search"]})]}),C.jsx(vt,{title:"step-4-similarity",initialCode:l,description:"Find relevant documents using vector similarity with scores!",onExecute:y})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"5"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Cohere Reranking"})]}),C.jsx(vt,{title:"step-5-reranking",initialCode:f,description:"Boost accuracy with Cohere's state-of-the-art reranking!",onExecute:v})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"6"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete RAG System"})]}),C.jsx(vt,{title:"complete-rag-system",initialCode:m,description:"Full RAG pipeline: Chunk  Embed  Search  Rerank  Generate!",onExecute:S})]}),C.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/20 dark:to-purple-900/20 rounded-xl p-6 border border-violet-200 dark:border-violet-800",children:[C.jsx("h3",{className:"font-semibold text-violet-900 dark:text-violet-100 mb-3",children:" What You Just Learned"}),C.jsxs("ul",{className:"space-y-2 text-violet-800 dark:text-violet-200 text-sm",children:[C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Chunking:"})," How to split documents into processable pieces"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Embeddings:"})," Saw actual vector representations (1024 dimensions!)"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Vector Search:"})," Understanding cosine similarity scores"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Reranking:"})," Cohere's advanced relevance scoring"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"RAG Pipeline:"})," End-to-end retrieval and generation"]})]})]}),C.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[C.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:" Production RAG Tips"}),C.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-200 text-sm",children:[C.jsx("li",{children:" Use production vector databases: Pinecone, Weaviate, Chroma, or Qdrant"}),C.jsx("li",{children:" Optimal chunk size: 256-512 tokens with 50-100 token overlap"}),C.jsx("li",{children:" Always rerank your top results for best accuracy"}),C.jsx("li",{children:" Cache embeddings to reduce API costs"}),C.jsx("li",{children:" Monitor retrieval quality with metrics"})]})]}),C.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[C.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" RAG Mastered!"}),C.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You now understand RAG deeply - from raw text to semantic vectors to intelligent retrieval! This powers ChatGPT plugins, documentation bots, and enterprise AI systems. Next: multi-agent collaboration!"})]}),C.jsx(ld,{labId:6})]})}const P0e=8;function A0e(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Nr(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Create specialized agents with different roles
const researcherPrompt = "You are a research specialist. Gather and summarize facts.";
const writerPrompt = "You are a creative writer. Write engaging content.";

console.log(' Researcher agent: Gathers facts');
console.log(' Writer agent: Creates content');
console.log(' Each agent has unique expertise');`,r=`// Step 2: Researcher agent gathers information
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const researcherMessages = [
  new SystemMessage("You are a research specialist. Provide 3 key facts about the topic."),
  new HumanMessage("Research: AI Agents")
];

const research = await llm.invoke(researcherMessages);

console.log('Researcher Output:');
console.log(research.content);`,a=`// Step 3: Writer agent creates content from research
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

// First: Researcher gathers facts
const researcherMessages = [
  new SystemMessage("You are a research specialist. Provide 3 key facts about the topic."),
  new HumanMessage("Research: AI Agents")
];
const research = await llm.invoke(researcherMessages);

// Then: Writer creates article from facts
const writerMessages = [
  new SystemMessage("You are a creative writer. Write a short engaging paragraph using these facts."),
  new HumanMessage(\`Facts: \${research.content}\`)
];
const article = await llm.invoke(writerMessages);

console.log('Research Phase:');
console.log(research.content);
console.log('');
console.log('Writing Phase:');
console.log(article.content);`,s=async()=>{try{return{output:` Researcher agent: Gathers facts
 Writer agent: Creates content
 Each agent has unique expertise`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}},l=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const m=Ar(e,n,o),b=[new lr("You are a research specialist. Provide 3 key facts about the topic."),new It("Research: AI Agents")];return{output:`Researcher Output:
${(await m.invoke(b)).content}`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}},f=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const m=Ar(e,n,o),b=[new lr("You are a research specialist. Provide 3 key facts about the topic."),new It("Research: AI Agents")],_=await m.invoke(b),p=[new lr("You are a creative writer. Write a short engaging paragraph using these facts."),new It(`Facts: ${_.content}`)],y=await m.invoke(p);return ud(),i(7,P0e),{output:`Research Phase:
${_.content}

Writing Phase:
${y.content}`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}};return C.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[C.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[C.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg",children:C.jsx(UV,{className:"w-8 h-8 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 7: Multi-Agent Collaboration"}),C.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Multiple AI agents working together"})]})]}),C.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[C.jsx(Gf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),C.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[C.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),C.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"Creating multiple agents with different roles"}),C.jsx("li",{children:"Coordinating agent workflows"}),C.jsx("li",{children:"Passing outputs between agents"}),C.jsx("li",{children:"Building complex multi-agent systems"})]})]})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Define Agent Roles"})]}),C.jsx(vt,{title:"step-1-roles",initialCode:t,description:"Create specialized agents with unique system prompts",onExecute:s})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Researcher Agent"})]}),C.jsx(vt,{title:"step-2-researcher",initialCode:r,description:"First agent gathers facts and information",onExecute:l})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"3"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Multi-Agent Workflow"})]}),C.jsx(vt,{title:"complete-collaboration",initialCode:a,description:"Researcher  Writer pipeline - agents collaborating!",onExecute:f})]}),C.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[C.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:" Multi-Agent Patterns"}),C.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-200 text-sm",children:[C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Pipeline:"})," Sequential processing (Agent A  Agent B  Agent C)"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Parallel:"})," Multiple agents work simultaneously"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Hierarchical:"})," Manager agent coordinates worker agents"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Collaborative:"})," Agents debate and refine outputs together"]})]})]}),C.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[C.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Collaboration Unlocked!"}),C.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm",children:"You've built a multi-agent system! Combining specialized agents creates powerful workflows. Next, you'll learn about orchestrator agents that intelligently route requests!"})]}),C.jsx(ld,{labId:7})]})}const N0e=8;function D0e(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Nr(),u=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Understand orchestrator concept
// An orchestrator agent:
// 1. Receives user request
// 2. Analyzes the request type
// 3. Routes to the appropriate specialist agent
// 4. Returns the specialist's response

console.log(' Orchestrator = Smart Router');
console.log(' Routes requests to right specialist');
console.log(' Like a manager delegating tasks');`,r=`// Step 2: Create routing logic
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const userQuery = "What are the benefits of AI agents?";

// Router analyzes query and decides which agent to use
const routerMessages = [
  new SystemMessage(\`You are a router. Analyze the query and respond with ONLY one word:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions
- "GENERAL" for general information\`),
  new HumanMessage(userQuery)
];

const routing = await llm.invoke(routerMessages);

console.log('Query:', userQuery);
console.log('Route to:', routing.content, 'agent');`,a=`// Step 3: Complete orchestrator with routing
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${u()}
});

const userQuery = "How do I implement an AI agent with memory?";

// Step 1: Router decides which specialist
const routerMessages = [
  new SystemMessage(\`You are a router. Respond with ONLY:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions\`),
  new HumanMessage(userQuery)
];
const routing = await llm.invoke(routerMessages);

// Step 2: Route to appropriate specialist
let specialistMessages;
if (routing.content.includes('TECHNICAL')) {
  specialistMessages = [
    new SystemMessage("You are a technical AI expert. Provide code examples and implementation details."),
    new HumanMessage(userQuery)
  ];
} else {
  specialistMessages = [
    new SystemMessage("You are a business AI strategist. Focus on ROI and business value."),
    new HumanMessage(userQuery)
  ];
}

const response = await llm.invoke(specialistMessages);

console.log('Query:', userQuery);
console.log('Routed to:', routing.content);
console.log('');
console.log('Specialist Response:');
console.log(response.content);`,s=async()=>{try{return{output:` Orchestrator = Smart Router
 Routes requests to right specialist
 Like a manager delegating tasks`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}},l=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const m=Ar(e,n,o),b="What are the benefits of AI agents?",_=[new lr(`You are a router. Analyze the query and respond with ONLY one word:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions
- "GENERAL" for general information`),new It(b)],p=await m.invoke(_);return{output:`Query: ${b}
Route to: ${p.content} agent`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}},f=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const m=Ar(e,n,o),b="How do I implement an AI agent with memory?",_=[new lr(`You are a router. Respond with ONLY:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions`),new It(b)],p=await m.invoke(_);let y;p.content.toString().includes("TECHNICAL")?y=[new lr("You are a technical AI expert. Provide code examples and implementation details."),new It(b)]:y=[new lr("You are a business AI strategist. Focus on ROI and business value."),new It(b)];const v=await m.invoke(y);return ud(),i(8,N0e),{output:`Query: ${b}
Routed to: ${p.content}

Specialist Response:
${v.content}`,timestamp:Date.now()}}catch(m){return{output:"",error:m instanceof Error?m.message:"Unknown error",timestamp:Date.now()}}};return C.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[C.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[C.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[C.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl shadow-lg",children:C.jsx(BV,{className:"w-8 h-8 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 8: Orchestrator Agent"}),C.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Intelligent routing to specialist agents"})]})]}),C.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[C.jsx(Gf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),C.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[C.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),C.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"Creating an orchestrator/router agent"}),C.jsx("li",{children:"Analyzing user intent to route requests"}),C.jsx("li",{children:"Connecting multiple specialist agents"}),C.jsx("li",{children:"Building intelligent agent architectures"})]})]})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"1"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Orchestrator Concept"})]}),C.jsx(vt,{title:"step-1-concept",initialCode:t,description:"Understanding the orchestrator pattern",onExecute:s})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg",children:"2"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Router Logic"})]}),C.jsx(vt,{title:"step-2-router",initialCode:r,description:"Analyze queries and route to the right specialist",onExecute:l})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-600 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg animate-pulse-glow",children:"3"}),C.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Orchestrator"})]}),C.jsx(vt,{title:"complete-orchestrator",initialCode:a,description:"Full orchestrator system with routing and specialists!",onExecute:f})]}),C.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-6 border border-amber-200 dark:border-amber-800",children:[C.jsx("h3",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-3",children:" Orchestrator Use Cases"}),C.jsxs("ul",{className:"space-y-2 text-amber-800 dark:text-amber-200 text-sm",children:[C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Customer Support:"})," Route to billing, technical, or sales specialists"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Content Creation:"})," Route to research, writing, or editing agents"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Data Analysis:"})," Route to SQL, visualization, or reporting agents"]}),C.jsxs("li",{children:[" ",C.jsx("strong",{children:"Complex Workflows:"})," Coordinate multi-step processes efficiently"]})]})]}),C.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[C.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:" Congratulations - You're an AI Agent Expert!"}),C.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm mb-3",children:"You've completed all 8 labs! You now understand:"}),C.jsxs("ul",{className:"space-y-1 text-green-800 dark:text-green-200 text-sm list-disc list-inside",children:[C.jsx("li",{children:"AI Agent components (LLM, Tools, Memory)"}),C.jsx("li",{children:"Prompt/Response patterns"}),C.jsx("li",{children:"System prompts and personality"}),C.jsx("li",{children:"Conversation memory"}),C.jsx("li",{children:"Knowledge base integration"}),C.jsx("li",{children:"RAG (Retrieval-Augmented Generation)"}),C.jsx("li",{children:"Multi-agent collaboration"}),C.jsx("li",{children:"Orchestrator patterns"})]}),C.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm mt-3",children:"You're ready to build production AI agent systems! "})]}),C.jsx(ld,{labId:8})]})}const Gv=[{id:1,title:"Agent Components",component:mJ},{id:2,title:"Simple Prompt/Response",component:Pbe},{id:3,title:"Custom System Prompts",component:Nbe},{id:4,title:"Conversation Memory",component:Ibe},{id:5,title:"Knowledge Base",component:c0e},{id:6,title:"RAG with Wikipedia",component:x0e},{id:7,title:"Multi-Agent Collaboration",component:A0e},{id:8,title:"Orchestrator Agent",component:D0e}];function I0e(){const{currentLab:e,apiKey:n,labProgress:o,language:i,theme:u,setCurrentLab:t}=Nr(),[r,a]=Ze.useState(!1),[s,l]=Ze.useState(!0),[f,m]=Ze.useState(!n);Ze.useEffect(()=>{document.documentElement.dir=i==="he"?"rtl":"ltr",document.documentElement.lang=i},[i]),Ze.useEffect(()=>{document.documentElement.classList.toggle("light",u==="light"),document.documentElement.classList.toggle("dark",u==="dark")},[u]);const b=Gv.find(y=>y.id===e)?.component||mJ,_=Object.values(o).filter(Boolean).length,p=_/Gv.length*100;return f?C.jsxs(C.Fragment,{children:[C.jsx(vve,{onGetStarted:()=>{a(!0),m(!1)},onSkip:()=>m(!1),onLabSelect:y=>{t(y),m(!1)}}),C.jsx(OV,{isOpen:r,onClose:()=>a(!1)})]}):C.jsxs("div",{className:"h-screen flex flex-col tech-grid",children:[C.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[...Array(15)].map((y,v)=>C.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},v))}),C.jsx("header",{className:"relative z-20 border-b border-cyan-500/20 backdrop-blur-md bg-black/20 sticky top-0",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 flex flex-col lg:flex-row items-start lg:items-center lg:justify-between gap-4",children:[C.jsxs("div",{className:"w-full lg:w-auto flex items-center justify-between",children:[C.jsx("button",{onClick:()=>m(!0),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",title:"Return to Homepage",children:C.jsx("img",{src:"logo.png",alt:"YUV.AI Logo",className:"h-8 sm:h-10 md:h-12 w-auto"})}),C.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[C.jsx(NT,{}),C.jsx(DT,{}),C.jsx("button",{onClick:()=>l(!s),className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10",title:"Toggle Menu",children:s?C.jsx($V,{className:"w-5 h-5 text-white"}):C.jsx(VX,{className:"w-5 h-5 text-white"})})]})]}),C.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-base font-medium",children:[C.jsx("button",{onClick:()=>m(!0),className:"text-white hover:text-cyan-400 transition-colors",children:He(i,"home")}),C.jsxs("div",{className:"relative group",children:[C.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:[He(i,"agents")," ",C.jsx(ib,{className:"w-4 h-4"})]}),C.jsxs("div",{className:"absolute left-0 mt-2 w-64 py-2 bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"agentsDropdown.progressiveLabs")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"agentsDropdown.progressiveLabsDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"agentsDropdown.interactiveLearning")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"agentsDropdown.interactiveLearningDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"agentsDropdown.multiAgent")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"agentsDropdown.multiAgentDesc")})]})]})]}),C.jsxs("div",{className:"relative group",children:[C.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:[He(i,"features")," ",C.jsx(ib,{className:"w-4 h-4"})]}),C.jsxs("div",{className:"absolute left-0 mt-2 w-64 py-2 bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"featuresDropdown.browserBased")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"featuresDropdown.browserBasedDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"featuresDropdown.monacoEditor")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"featuresDropdown.monacoEditorDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"featuresDropdown.progressTracking")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"featuresDropdown.progressTrackingDesc")})]}),C.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[C.jsx("div",{className:"font-semibold text-white mb-1",children:He(i,"featuresDropdown.langchain")}),C.jsx("div",{className:"text-xs text-white/60",children:He(i,"featuresDropdown.langchainDesc")})]})]})]}),C.jsx("a",{href:"https://blog.yuv.ai",target:"_blank",rel:"noopener noreferrer",className:"text-white/70 hover:text-white transition-colors",children:He(i,"blog")}),C.jsx("a",{href:"https://linktr.ee/yuvai",target:"_blank",rel:"noopener noreferrer",className:"text-white/70 hover:text-white transition-colors",children:He(i,"contact")})]}),C.jsxs("div",{className:"hidden lg:flex items-center gap-3 md:gap-4",children:[C.jsx(NT,{}),C.jsx(DT,{}),C.jsxs("a",{href:"https://github.com/hoodini/agents-training",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10 text-sm text-white/80 hover:text-white",title:"View Repository",children:[C.jsx(L1,{className:"w-4 h-4"}),C.jsx("span",{children:"Repo"})]}),C.jsx(_ve,{}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("span",{className:"text-sm md:text-base text-white/60",children:[He(i,"progress"),":"]}),C.jsx("div",{className:"w-24 md:w-32 h-2 glass rounded-full overflow-hidden border border-white/20",children:C.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 via-blue-500 to-cyan-500 transition-all duration-300 shadow-neural",style:{width:`${p}%`}})}),C.jsxs("span",{className:"text-sm md:text-base font-bold text-gradient-neural",children:[_,"/",Gv.length]})]}),C.jsx("button",{onClick:()=>a(!0),className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10",title:"API Settings",children:C.jsx(LV,{className:"w-5 h-5 text-white"})})]})]})}),C.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[C.jsx("aside",{className:`${s?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 w-72 transition-transform duration-300 lg:block`,children:C.jsx(vee,{labs:Gv})}),s&&C.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>l(!1)}),C.jsx("main",{className:"relative flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 z-10",children:C.jsx(b,{})})]}),C.jsx(OV,{isOpen:r,onClose:()=>a(!1)})]})}oX.createRoot(document.getElementById("root")).render(C.jsx(Ze.StrictMode,{children:C.jsx(I0e,{})}));export{qM as F,ype as S,Yb as _,X0e as a,Q0e as b,Xpe as c,Z0e as d,xge as e,Upe as f,qf as g,uK as h,_pe as i,_2 as n,ewe as p,Vpe as s,Fpe as t};
