import{a5 as Qe,b as U,e as ye,L as qe,N as Se,S as Ee,t as Ge,U as Je,v as Xe,f as Ze,R as Ye,P as et,h as tt,c as ne,T as C,r as st,i as rt,E as nt,j as ot,k as it,l as at,p as ct,m as dt,A as lt,n as ut,o as mt,q as ht,D as pt,u as ft,w as gt,x as yt,y as St,z as Et,B as bt,F as wt,G as Pt,H as Tt,I as At,J as xt,a as Ct,K as Rt,M as Dt,O as It,Q as _t,V as Nt,W as $t,X as kt,Y as vt,Z as Mt,_ as Ut,$ as Ft,a0 as Ot,a1 as zt,a2 as Lt,a3 as Ht,a4 as jt,C as Wt,g as Kt}from"./index-Zyd9E3Gl.js";import{f as H,t as be,d as Vt,n as we,s as Bt,F as Qt}from"./index-DYd6YQDx.js";import{t as qt}from"./toUtf8.browser-CyauOOnS.js";function oe(s){return encodeURIComponent(s).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const j="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",W="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",K="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",Pe="(\\d?\\d)",Te="(\\d{4})",Gt=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),Jt=new RegExp(`^${j}, ${Pe} ${W} ${Te} ${K} GMT$`),Xt=new RegExp(`^${j}, ${Pe}-${W}-(\\d\\d) ${K} GMT$`),Zt=new RegExp(`^${j} ${W} ( [1-9]|\\d\\d) ${K} ${Te}$`),Yt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],es=s=>{if(s==null)return;let t=NaN;if(typeof s=="number")t=s;else if(typeof s=="string"){if(!/^-?\d*\.?\d+$/.test(s))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(s)}else typeof s=="object"&&s.tag===1&&(t=s.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},ts=s=>{if(s==null)return;if(typeof s!="string")throw new TypeError("RFC3339 timestamps must be strings");const t=Gt.exec(s);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${s}`);const[,e,r,n,o,i,a,,c,d]=t;x(r,1,12),x(n,1,31),x(o,0,23),x(i,0,59),x(a,0,60);const u=new Date(Date.UTC(Number(e),Number(r)-1,Number(n),Number(o),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(u.setUTCFullYear(Number(e)),d.toUpperCase()!="Z"){const[,f,w,E]=/([+-])(\d\d):(\d\d)/.exec(d)||[void 0,"+",0,0],R=f==="-"?1:-1;u.setTime(u.getTime()+R*(Number(w)*60*60*1e3+Number(E)*60*1e3))}return u},ss=s=>{if(s==null)return;if(typeof s!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,e,r,n,o,i,a,c;if((c=Jt.exec(s))?[,t,e,r,n,o,i,a]=c:(c=Xt.exec(s))?([,t,e,r,n,o,i,a]=c,r=(Number(r)+1900).toString()):(c=Zt.exec(s))&&([,e,t,n,o,i,a,r]=c),r&&i){const d=Date.UTC(Number(r),Yt.indexOf(e),Number(t),Number(n),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);x(t,1,31),x(n,0,23),x(o,0,59),x(i,0,60);const u=new Date(d);return u.setUTCFullYear(Number(r)),u}throw new TypeError(`Invalid RFC7231 date-time value ${s}.`)};function x(s,t,e){const r=Number(s);if(r<t||r>e)throw new Error(`Value ${r} out of range [${t}, ${e}]`)}const rs=s=>{const t=s.length,e=[];let r=!1,n,o=0;for(let i=0;i<t;++i){const a=s[i];switch(a){case'"':n!=="\\"&&(r=!r);break;case",":r||(e.push(s.slice(o,i)),o=i+1);break}n=a}return e.push(s.slice(o)),e.map(i=>{i=i.trim();const a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})};class ns extends Qe{settings;constructor(t){super(),this.settings=t}read(t,e){const r=U.of(t);if(r.isListSchema())return rs(e).map(n=>this.read(r.getValueSchema(),n));if(r.isBlobSchema())return(this.serdeContext?.base64Decoder??H)(e);if(r.isTimestampSchema())switch(ye(r,this.settings)){case 5:return ts(e);case 6:return ss(e);case 7:return es(e);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",e),new Date(e)}if(r.isStringSchema()){const n=r.getMergedTraits().mediaType;let o=e;if(n)return r.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(n==="application/json"||n.endsWith("+json"))&&(o=qe.from(o)),o}return r.isNumericSchema()?Number(e):r.isBigIntegerSchema()?BigInt(e):r.isBigDecimalSchema()?new Se(e,"bigDecimal"):r.isBooleanSchema()?String(e).toLowerCase()==="true":e}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??qt)((this.serdeContext?.base64Decoder??H)(t))}}const Ae=s=>{const t="#text";for(const e in s)s.hasOwnProperty(e)&&s[e][t]!==void 0?s[e]=s[e][t]:typeof s[e]=="object"&&s[e]!==null&&(s[e]=Ae(s[e]));return s};let O;function os(s){O||(O=new DOMParser);const t=O.parseFromString(s,"application/xml");if(t.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const e=r=>{if(r.nodeType===Node.TEXT_NODE&&r.textContent?.trim())return r.textContent;if(r.nodeType===Node.ELEMENT_NODE){const n=r;if(n.attributes.length===0&&n.childNodes.length===0)return"";const o={},i=Array.from(n.attributes);for(const c of i)o[`${c.name}`]=c.value;const a=Array.from(n.childNodes);for(const c of a){const d=e(c);if(d!=null){const u=c.nodeName;if(a.length===1&&i.length===0&&u==="#text")return d;o[u]?Array.isArray(o[u])?o[u].push(d):o[u]=[o[u],d]:o[u]=d}else if(a.length===1&&i.length===0)return n.textContent}return o}return null};return{[t.documentElement.nodeName]:e(t.documentElement)}}class is extends Ee{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new ns(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,e,r){const n=U.of(t),o=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(o).find(d=>!!d.getMemberTraits().eventPayload)){const d={},u=Object.keys(o)[0];return o[u].isBlobSchema()?d[u]=e:d[u]=this.read(o[u],e),d}const a=(this.serdeContext?.utf8Encoder??Ge)(e),c=this.parseXml(a);return this.readSchema(t,r?c[r]:c)}readSchema(t,e){const r=U.of(t);if(r.isUnitSchema())return;const n=r.getMergedTraits();if(r.isListSchema()&&!Array.isArray(e))return this.readSchema(r,[e]);if(e==null)return e;if(typeof e=="object"){const o=!!n.sparse,i=!!n.xmlFlattened;if(r.isListSchema()){const c=r.getValueSchema(),d=[],u=c.getMergedTraits().xmlName??"member",f=i?e:(e[0]??e)[u],w=Array.isArray(f)?f:[f];for(const E of w)(E!=null||o)&&d.push(this.readSchema(c,E));return d}const a={};if(r.isMapSchema()){const c=r.getKeySchema(),d=r.getValueSchema();let u;i?u=Array.isArray(e)?e:[e]:u=Array.isArray(e.entry)?e.entry:[e.entry];const f=c.getMergedTraits().xmlName??"key",w=d.getMergedTraits().xmlName??"value";for(const E of u){const R=E[f],F=E[w];(F!=null||o)&&(a[R]=this.readSchema(d,F))}return a}if(r.isStructSchema()){const c=r.isUnionSchema();let d;c&&(d=new Je(e,a));for(const[u,f]of r.structIterator()){const w=f.getMergedTraits(),E=w.httpPayload?w.xmlName??f.getName():f.getMemberTraits().xmlName??u;c&&d.mark(E),e[E]!=null&&(a[u]=this.readSchema(f,e[E]))}return c&&d.writeUnknown(),a}if(r.isDocumentSchema())return e;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${r.getName(!0)}`)}return r.isListSchema()?[]:r.isMapSchema()||r.isStructSchema()?{}:this.stringDeserializer.read(r,e)}parseXml(t){if(t.length){let e;try{e=os(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}const r="#text",n=Object.keys(e)[0],o=e[n];return o[r]&&(o[n]=o[r],delete o[r]),Ae(o)}return{}}}class as extends Ee{settings;buffer;constructor(t){super(),this.settings=t}write(t,e,r=""){this.buffer===void 0&&(this.buffer="");const n=U.of(t);if(r&&!r.endsWith(".")&&(r+="."),n.isBlobSchema())(typeof e=="string"||e instanceof Uint8Array)&&(this.writeKey(r),this.writeValue((this.serdeContext?.base64Encoder??be)(e)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())e!=null?(this.writeKey(r),this.writeValue(String(e))):n.isIdempotencyToken()&&(this.writeKey(r),this.writeValue(Xe()));else if(n.isBigIntegerSchema())e!=null&&(this.writeKey(r),this.writeValue(String(e)));else if(n.isBigDecimalSchema())e!=null&&(this.writeKey(r),this.writeValue(e instanceof Se?e.string:String(e)));else if(n.isTimestampSchema()){if(e instanceof Date)switch(this.writeKey(r),ye(n,this.settings)){case 5:this.writeValue(e.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(Vt(e));break;case 7:this.writeValue(String(e.getTime()/1e3));break}}else if(n.isDocumentSchema())Array.isArray(e)?this.write(79,e,r):e instanceof Date?this.write(4,e,r):e instanceof Uint8Array?this.write(21,e,r):e&&typeof e=="object"?this.write(143,e,r):(this.writeKey(r),this.writeValue(String(e)));else if(n.isListSchema()){if(Array.isArray(e))if(e.length===0)this.settings.serializeEmptyLists&&(this.writeKey(r),this.writeValue(""));else{const o=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened;let a=1;for(const c of e){if(c==null)continue;const d=this.getKey("member",o.getMergedTraits().xmlName),u=i?`${r}${a}`:`${r}${d}.${a}`;this.write(o,c,u),++a}}}else if(n.isMapSchema()){if(e&&typeof e=="object"){const o=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened;let c=1;for(const[d,u]of Object.entries(e)){if(u==null)continue;const f=this.getKey("key",o.getMergedTraits().xmlName),w=a?`${r}${c}.${f}`:`${r}entry.${c}.${f}`,E=this.getKey("value",i.getMergedTraits().xmlName),R=a?`${r}${c}.${E}`:`${r}entry.${c}.${E}`;this.write(o,d,w),this.write(i,u,R),++c}}}else if(n.isStructSchema()){if(e&&typeof e=="object"){let o=!1;for(const[i,a]of Ze(n,e)){if(e[i]==null&&!a.isIdempotencyToken())continue;const c=this.getKey(i,a.getMergedTraits().xmlName),d=`${r}${c}`;this.write(a,e[i],d),o=!0}if(!o&&n.isUnionSchema()){const{$unknown:i}=e;if(Array.isArray(i)){const[a,c]=i,d=`${r}${a}`;this.write(15,c,d)}}}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");const t=this.buffer;return delete this.buffer,t}getKey(t,e){const r=e??t;return this.settings.capitalizeKeys?r[0].toUpperCase()+r.slice(1):r}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${oe(t)}=`}writeValue(t){this.buffer+=oe(t)}}class cs extends Ye{options;serializer;deserializer;mixin=new et;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;const e={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new as(e),this.deserializer=new is(e)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,e,r){const n=await super.serializeRequest(t,e,r);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(tt(t.input)==="unit"||!n.body)&&(n.body="");const o=t.name.split("#")[1]??t.name;return n.body=`Action=${o}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(t,e,r){const n=this.deserializer,o=U.of(t.output),i={};if(r.statusCode>=300){const f=await ne(r.body,e);f.byteLength>0&&Object.assign(i,await n.read(15,f)),await this.handleError(t,e,r,i,this.deserializeMetadata(r))}for(const f in r.headers){const w=r.headers[f];delete r.headers[f],r.headers[f.toLowerCase()]=w}const a=t.name.split("#")[1]??t.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,d=await ne(r.body,e);return d.byteLength>0&&Object.assign(i,await n.read(o,d,c)),{$metadata:this.deserializeMetadata(r),...i}}useNestedResult(){return!0}async handleError(t,e,r,n,o){const i=this.loadQueryErrorCode(r,n)??"Unknown",a=this.loadQueryError(n),c=this.loadQueryErrorMessage(n);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};const{errorSchema:d,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,r,a,o,this.mixin.findQueryCompatibleError),f=U.of(d),w=C.for(d[1]).getErrorCtor(d)??Error,E=new w(c),R={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(const[F,se]of f.structIterator()){const re=se.getMergedTraits().xmlName??F,Be=a[re]??n[re];R[F]=this.deserializer.readSchema(se,Be)}throw this.mixin.decorateServiceException(Object.assign(E,u,{$fault:f.getMergedTraits().error,message:c},R),n)}loadQueryErrorCode(t,e){const r=(e.Errors?.[0]?.Error??e.Errors?.Error??e.Error)?.Code;if(r!==void 0)return r;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){const e=this.loadQueryError(t);return e?.message??e?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}const ds=async(s,t,e)=>({operation:rt(t).operation,region:await we(s.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ls(s){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:s.region},propertiesExtractor:(t,e)=>({signingProperties:{config:t,context:e}})}}function us(s){return{schemeId:"smithy.api#noAuth"}}const ms=s=>{const t=[];return s.operation==="AssumeRoleWithWebIdentity"?t.push(us()):t.push(ls(s)),t},hs=s=>Object.assign(s,{stsClientCtor:Me}),ps=s=>{const t=hs(s),e=st(t);return Object.assign(e,{authSchemePreference:we(s.authSchemePreference??[])})},fs=s=>Object.assign(s,{useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,useGlobalEndpoint:s.useGlobalEndpoint??!1,defaultSigningName:"sts"}),gs={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},ys="3.958.0",Ss={version:ys},Es=s=>new TextEncoder().encode(s),bs=s=>{if(typeof s=="string")return s;if(typeof s!="object"||typeof s.byteOffset!="number"||typeof s.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(s)},xe="required",l="type",m="fn",h="argv",I="ref",ie=!1,z=!0,D="booleanEquals",y="stringEquals",Ce="sigv4",Re="sts",De="us-east-1",g="endpoint",ae="https://sts.{Region}.{PartitionResult#dnsSuffix}",T="tree",M="error",V="getAttr",ce={[xe]:!1,[l]:"string"},L={[xe]:!0,default:!1,[l]:"boolean"},Ie={[I]:"Endpoint"},de={[m]:"isSet",[h]:[{[I]:"Region"}]},S={[I]:"Region"},le={[m]:"aws.partition",[h]:[S],assign:"PartitionResult"},_e={[I]:"UseFIPS"},Ne={[I]:"UseDualStack"},b={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Ce,signingName:Re,signingRegion:De}]},headers:{}},P={},ue={conditions:[{[m]:y,[h]:[S,"aws-global"]}],[g]:b,[l]:g},$e={[m]:D,[h]:[_e,!0]},ke={[m]:D,[h]:[Ne,!0]},me={[m]:V,[h]:[{[I]:"PartitionResult"},"supportsFIPS"]},ve={[I]:"PartitionResult"},he={[m]:D,[h]:[!0,{[m]:V,[h]:[ve,"supportsDualStack"]}]},pe=[{[m]:"isSet",[h]:[Ie]}],fe=[$e],ge=[ke],ws={parameters:{Region:ce,UseDualStack:L,UseFIPS:L,Endpoint:ce,UseGlobalEndpoint:L},rules:[{conditions:[{[m]:D,[h]:[{[I]:"UseGlobalEndpoint"},z]},{[m]:"not",[h]:pe},de,le,{[m]:D,[h]:[_e,ie]},{[m]:D,[h]:[Ne,ie]}],rules:[{conditions:[{[m]:y,[h]:[S,"ap-northeast-1"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"ap-south-1"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"ap-southeast-1"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"ap-southeast-2"]}],endpoint:b,[l]:g},ue,{conditions:[{[m]:y,[h]:[S,"ca-central-1"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"eu-central-1"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"eu-north-1"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"eu-west-1"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"eu-west-2"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"eu-west-3"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"sa-east-1"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,De]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"us-east-2"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"us-west-1"]}],endpoint:b,[l]:g},{conditions:[{[m]:y,[h]:[S,"us-west-2"]}],endpoint:b,[l]:g},{endpoint:{url:ae,properties:{authSchemes:[{name:Ce,signingName:Re,signingRegion:"{Region}"}]},headers:P},[l]:g}],[l]:T},{conditions:pe,rules:[{conditions:fe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[l]:M},{conditions:ge,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[l]:M},{endpoint:{url:Ie,properties:P,headers:P},[l]:g}],[l]:T},{conditions:[de],rules:[{conditions:[le],rules:[{conditions:[$e,ke],rules:[{conditions:[{[m]:D,[h]:[z,me]},he],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:P,headers:P},[l]:g}],[l]:T},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[l]:M}],[l]:T},{conditions:fe,rules:[{conditions:[{[m]:D,[h]:[me,z]}],rules:[{conditions:[{[m]:y,[h]:[{[m]:V,[h]:[ve,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:P,headers:P},[l]:g},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:P,headers:P},[l]:g}],[l]:T},{error:"FIPS is enabled but this partition does not support FIPS",[l]:M}],[l]:T},{conditions:ge,rules:[{conditions:[he],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:P,headers:P},[l]:g}],[l]:T},{error:"DualStack is enabled but this partition does not support DualStack",[l]:M}],[l]:T},ue,{endpoint:{url:ae,properties:P,headers:P},[l]:g}],[l]:T}],[l]:T},{error:"Invalid Configuration: Missing Region",[l]:M}]},Ps=ws,Ts=new nt({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),As=(s,t={})=>Ts.get(s,()=>ot(Ps,{endpointParams:s,logger:t.logger}));at.aws=it;const xs=s=>({apiVersion:"2011-06-15",base64Decoder:s?.base64Decoder??H,base64Encoder:s?.base64Encoder??be,disableHostPrefix:s?.disableHostPrefix??!1,endpointProvider:s?.endpointProvider??As,extensions:s?.extensions??[],httpAuthSchemeProvider:s?.httpAuthSchemeProvider??ms,httpAuthSchemes:s?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new lt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ut}],logger:s?.logger??new dt,protocol:s?.protocol??cs,protocolSettings:s?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:s?.serviceId??"STS",urlParser:s?.urlParser??ct,utf8Decoder:s?.utf8Decoder??Es,utf8Encoder:s?.utf8Encoder??bs}),Cs=s=>{const t=mt(s),e=()=>t().then(wt),r=xs(s);return{...r,...s,runtime:"browser",defaultsMode:t,bodyLengthChecker:s?.bodyLengthChecker??St,credentialDefaultProvider:s?.credentialDefaultProvider??(n=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:s?.defaultUserAgentProvider??yt({serviceId:r.serviceId,clientVersion:Ss.version}),maxAttempts:s?.maxAttempts??gt,region:s?.region??ft("Region is missing"),requestHandler:Qt.create(s?.requestHandler??e),retryMode:s?.retryMode??(async()=>(await e()).retryMode||pt),sha256:s?.sha256??ht,streamCollector:s?.streamCollector??Bt,useDualstackEndpoint:s?.useDualstackEndpoint??(()=>Promise.resolve(bt)),useFipsEndpoint:s?.useFipsEndpoint??(()=>Promise.resolve(Et))}},Rs=s=>({setHttpHandler(t){s.httpHandler=t},httpHandler(){return s.httpHandler},updateHttpClientConfig(t,e){s.httpHandler?.updateHttpClientConfig(t,e)},httpHandlerConfigs(){return s.httpHandler.httpHandlerConfigs()}}),Ds=s=>({httpHandler:s.httpHandler()}),Is=s=>{const t=s.httpAuthSchemes;let e=s.httpAuthSchemeProvider,r=s.credentials;return{setHttpAuthScheme(n){const o=t.findIndex(i=>i.schemeId===n.schemeId);o===-1?t.push(n):t.splice(o,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){e=n},httpAuthSchemeProvider(){return e},setCredentials(n){r=n},credentials(){return r}}},_s=s=>({httpAuthSchemes:s.httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials()}),Ns=(s,t)=>{const e=Object.assign(Pt(s),Tt(s),Rs(s),Is(s));return t.forEach(r=>r.configure(e)),Object.assign(s,At(e),xt(e),Ds(e),_s(e))};class Me extends Ct{config;constructor(...[t]){const e=Cs(t||{});super(e),this.initConfig=e;const r=fs(e),n=Rt(r),o=Dt(n),i=It(o),a=Lt(i),c=_t(a),d=ps(c),u=Ns(d,t?.extensions||[]);this.config=u,this.middlewareStack.use(Nt(this.config)),this.middlewareStack.use($t(this.config)),this.middlewareStack.use(kt(this.config)),this.middlewareStack.use(vt(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(Ut(this.config)),this.middlewareStack.use(Ft(this.config)),this.middlewareStack.use(Ot(this.config,{httpAuthSchemeParametersProvider:ds,identityProviderConfigProvider:async f=>new Ht({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(zt(this.config))}destroy(){super.destroy()}}class A extends jt{constructor(t){super(t),Object.setPrototypeOf(this,A.prototype)}}class B extends A{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,B.prototype)}}class Q extends A{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,Q.prototype)}}class q extends A{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,q.prototype)}}class G extends A{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,G.prototype)}}class J extends A{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,J.prototype)}}class X extends A{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,X.prototype)}}class Z extends A{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,Z.prototype)}}const $s="Arn",ks="AccessKeyId",vs="AssumeRole",Ms="AssumedRoleId",Us="AssumeRoleRequest",Fs="AssumeRoleResponse",Y="AssumedRoleUser",Os="AssumeRoleWithWebIdentity",zs="AssumeRoleWithWebIdentityRequest",Ls="AssumeRoleWithWebIdentityResponse",Hs="Audience",ee="Credentials",js="ContextAssertion",Ue="DurationSeconds",Ws="Expiration",Ks="ExternalId",Vs="ExpiredTokenException",Bs="IDPCommunicationErrorException",Qs="IDPRejectedClaimException",qs="InvalidIdentityTokenException",Gs="Key",Js="MalformedPolicyDocumentException",Fe="Policy",Oe="PolicyArns",Xs="ProviderArn",Zs="ProvidedContexts",Ys="ProvidedContextsListType",er="ProvidedContext",tr="PolicyDescriptorType",sr="ProviderId",ze="PackedPolicySize",rr="PackedPolicyTooLargeException",nr="Provider",Le="RoleArn",or="RegionDisabledException",He="RoleSessionName",ir="SecretAccessKey",ar="SubjectFromWebIdentityToken",te="SourceIdentity",cr="SerialNumber",dr="SessionToken",lr="Tags",ur="TokenCode",mr="TransitiveTagKeys",hr="Tag",pr="Value",fr="WebIdentityToken",gr="arn",yr="accessKeySecretType",_="awsQueryError",N="client",Sr="clientTokenType",$="error",k="httpError",v="message",Er="policyDescriptorListType",je="smithy.ts.sdk.synthetic.com.amazonaws.sts",br="tagListType",p="com.amazonaws.sts";var wr=[0,p,yr,8,0],Pr=[0,p,Sr,8,0],We=[3,p,Y,0,[Ms,$s],[0,0]],Tr=[3,p,Us,0,[Le,He,Oe,Fe,Ue,lr,mr,Ks,cr,ur,te,Zs],[0,0,()=>Ve,0,1,()=>zr,64,0,0,0,0,()=>Or]],Ar=[3,p,Fs,0,[ee,Y,ze,te],[[()=>Ke,0],()=>We,1,0]],xr=[3,p,zs,0,[Le,He,fr,sr,Oe,Fe,Ue],[0,0,[()=>Pr,0],0,()=>Ve,0,1]],Cr=[3,p,Ls,0,[ee,ar,Y,ze,nr,Hs,te],[[()=>Ke,0],0,()=>We,1,0,0,0]],Ke=[3,p,ee,0,[ks,ir,dr,Ws],[0,[()=>wr,0],0,4]],Rr=[-3,p,Vs,{[_]:["ExpiredTokenException",400],[$]:N,[k]:400},[v],[0]];C.for(p).registerError(Rr,B);var Dr=[-3,p,Bs,{[_]:["IDPCommunicationError",400],[$]:N,[k]:400},[v],[0]];C.for(p).registerError(Dr,Z);var Ir=[-3,p,Qs,{[_]:["IDPRejectedClaim",403],[$]:N,[k]:403},[v],[0]];C.for(p).registerError(Ir,J);var _r=[-3,p,qs,{[_]:["InvalidIdentityToken",400],[$]:N,[k]:400},[v],[0]];C.for(p).registerError(_r,X);var Nr=[-3,p,Js,{[_]:["MalformedPolicyDocument",400],[$]:N,[k]:400},[v],[0]];C.for(p).registerError(Nr,Q);var $r=[-3,p,rr,{[_]:["PackedPolicyTooLarge",400],[$]:N,[k]:400},[v],[0]];C.for(p).registerError($r,q);var kr=[3,p,tr,0,[gr],[0]],vr=[3,p,er,0,[Xs,js],[0,0]],Mr=[-3,p,or,{[_]:["RegionDisabledException",403],[$]:N,[k]:403},[v],[0]];C.for(p).registerError(Mr,G);var Ur=[3,p,hr,0,[Gs,pr],[0,0]],Fr=[-3,je,"STSServiceException",0,[],[]];C.for(je).registerError(Fr,A);var Ve=[1,p,Er,0,()=>kr],Or=[1,p,Ys,0,()=>vr],zr=[1,p,br,0,()=>Ur],Lr=[9,p,vs,0,()=>Tr,()=>Ar],Vr=[9,p,Os,0,()=>xr,()=>Cr];class Hr extends Wt.classBuilder().ep(gs).m(function(t,e,r,n){return[Kt(r,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(Lr).build(){}const Br=Object.freeze(Object.defineProperty({__proto__:null,AssumeRoleCommand:Hr,STSClient:Me},Symbol.toStringTag,{value:"Module"}));export{Vr as A,Ke as C,Rr as E,Dr as I,Nr as M,$r as P,Mr as R,Me as S,Ur as T,A as a,Hr as b,gs as c,We as d,Tr as e,Ar as f,xr as g,Cr as h,Ir as i,_r as j,kr as k,vr as l,Fr as m,Lr as n,B as o,Q as p,q,G as r,J as s,X as t,Z as u,Br as v};
