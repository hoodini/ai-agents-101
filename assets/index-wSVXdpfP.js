const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/loadCognitoIdentity-DmY1NLsp.js","assets/index-BOOKvepY.js","assets/loadSts-B0UXAcQj.js","assets/toUtf8.browser-CyauOOnS.js","assets/index-DvG0SPyG.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const t of l)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(l){const t={};return l.integrity&&(t.integrity=l.integrity),l.referrerPolicy&&(t.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?t.credentials="include":l.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(l){if(l.ep)return;l.ep=!0;const t=o(l);fetch(l.href,t)}})();function s_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l_(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var o=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var l=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,l.get?l:{enumerable:!0,get:function(){return e[i]}})}),o}var MS={exports:{}},um={};var vD;function iX(){if(vD)return um;vD=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(i,l,t){var r=null;if(t!==void 0&&(r=""+t),l.key!==void 0&&(r=""+l.key),"key"in l){t={};for(var a in l)a!=="key"&&(t[a]=l[a])}else t=l;return l=t.ref,{$$typeof:e,type:i,key:r,ref:l!==void 0?l:null,props:t}}return um.Fragment=n,um.jsx=o,um.jsxs=o,um}var bD;function oX(){return bD||(bD=1,MS.exports=iX()),MS.exports}var w=oX(),PS={exports:{}},nt={};var wD;function sX(){if(wD)return nt;wD=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),t=Symbol.for("react.consumer"),r=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function _(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function E(I,K,ee){this.props=I,this.context=K,this.refs=v,this.updater=ee||p}E.prototype.isReactComponent={},E.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function j(){}j.prototype=E.prototype;function x(I,K,ee){this.props=I,this.context=K,this.refs=v,this.updater=ee||p}var A=x.prototype=new j;A.constructor=x,y(A,E.prototype),A.isPureReactComponent=!0;var M=Array.isArray;function T(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function F(I,K,ee){var fe=ee.ref;return{$$typeof:e,type:I,key:K,ref:fe!==void 0?fe:null,props:ee}}function q(I,K){return F(I.type,K,I.props)}function B(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function S(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ee){return K[ee]})}var H=/\/+/g;function Y(I,K){return typeof I=="object"&&I!==null&&I.key!=null?S(""+I.key):K.toString(36)}function W(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(T,T):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function $(I,K,ee,fe,_e){var V=typeof I;(V==="undefined"||V==="boolean")&&(I=null);var U=!1;if(I===null)U=!0;else switch(V){case"bigint":case"string":case"number":U=!0;break;case"object":switch(I.$$typeof){case e:case n:U=!0;break;case f:return U=I._init,$(U(I._payload),K,ee,fe,_e)}}if(U)return _e=_e(I),U=fe===""?"."+Y(I,0):fe,M(_e)?(ee="",U!=null&&(ee=U.replace(H,"$&/")+"/"),$(_e,K,ee,"",function(le){return le})):_e!=null&&(B(_e)&&(_e=q(_e,ee+(_e.key==null||I&&I.key===_e.key?"":(""+_e.key).replace(H,"$&/")+"/")+U)),K.push(_e)),1;U=0;var X=fe===""?".":fe+":";if(M(I))for(var Z=0;Z<I.length;Z++)fe=I[Z],V=X+Y(fe,Z),U+=$(fe,K,ee,V,_e);else if(Z=_(I),typeof Z=="function")for(I=Z.call(I),Z=0;!(fe=I.next()).done;)fe=fe.value,V=X+Y(fe,Z++),U+=$(fe,K,ee,V,_e);else if(V==="object"){if(typeof I.then=="function")return $(W(I),K,ee,fe,_e);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return U}function k(I,K,ee){if(I==null)return I;var fe=[],_e=0;return $(I,fe,"","",function(V){return K.call(ee,V,_e++)}),fe}function Q(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(ee){(I._status===0||I._status===-1)&&(I._status=1,I._result=ee)},function(ee){(I._status===0||I._status===-1)&&(I._status=2,I._result=ee)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var re=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},C={map:k,forEach:function(I,K,ee){k(I,function(){K.apply(this,arguments)},ee)},count:function(I){var K=0;return k(I,function(){K++}),K},toArray:function(I){return k(I,function(K){return K})||[]},only:function(I){if(!B(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return nt.Activity=g,nt.Children=C,nt.Component=E,nt.Fragment=o,nt.Profiler=l,nt.PureComponent=x,nt.StrictMode=i,nt.Suspense=s,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,nt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},nt.cache=function(I){return function(){return I.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(I,K,ee){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var fe=y({},I.props),_e=I.key;if(K!=null)for(V in K.key!==void 0&&(_e=""+K.key),K)!P.call(K,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&K.ref===void 0||(fe[V]=K[V]);var V=arguments.length-2;if(V===1)fe.children=ee;else if(1<V){for(var U=Array(V),X=0;X<V;X++)U[X]=arguments[X+2];fe.children=U}return F(I.type,_e,fe)},nt.createContext=function(I){return I={$$typeof:r,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:t,_context:I},I},nt.createElement=function(I,K,ee){var fe,_e={},V=null;if(K!=null)for(fe in K.key!==void 0&&(V=""+K.key),K)P.call(K,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(_e[fe]=K[fe]);var U=arguments.length-2;if(U===1)_e.children=ee;else if(1<U){for(var X=Array(U),Z=0;Z<U;Z++)X[Z]=arguments[Z+2];_e.children=X}if(I&&I.defaultProps)for(fe in U=I.defaultProps,U)_e[fe]===void 0&&(_e[fe]=U[fe]);return F(I,V,_e)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(I){return{$$typeof:a,render:I}},nt.isValidElement=B,nt.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:Q}},nt.memo=function(I,K){return{$$typeof:u,type:I,compare:K===void 0?null:K}},nt.startTransition=function(I){var K=D.T,ee={};D.T=ee;try{var fe=I(),_e=D.S;_e!==null&&_e(ee,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(T,re)}catch(V){re(V)}finally{K!==null&&ee.types!==null&&(K.types=ee.types),D.T=K}},nt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},nt.use=function(I){return D.H.use(I)},nt.useActionState=function(I,K,ee){return D.H.useActionState(I,K,ee)},nt.useCallback=function(I,K){return D.H.useCallback(I,K)},nt.useContext=function(I){return D.H.useContext(I)},nt.useDebugValue=function(){},nt.useDeferredValue=function(I,K){return D.H.useDeferredValue(I,K)},nt.useEffect=function(I,K){return D.H.useEffect(I,K)},nt.useEffectEvent=function(I){return D.H.useEffectEvent(I)},nt.useId=function(){return D.H.useId()},nt.useImperativeHandle=function(I,K,ee){return D.H.useImperativeHandle(I,K,ee)},nt.useInsertionEffect=function(I,K){return D.H.useInsertionEffect(I,K)},nt.useLayoutEffect=function(I,K){return D.H.useLayoutEffect(I,K)},nt.useMemo=function(I,K){return D.H.useMemo(I,K)},nt.useOptimistic=function(I,K){return D.H.useOptimistic(I,K)},nt.useReducer=function(I,K,ee){return D.H.useReducer(I,K,ee)},nt.useRef=function(I){return D.H.useRef(I)},nt.useState=function(I){return D.H.useState(I)},nt.useSyncExternalStore=function(I,K,ee){return D.H.useSyncExternalStore(I,K,ee)},nt.useTransition=function(){return D.H.useTransition()},nt.version="19.2.3",nt}var SD;function k1(){return SD||(SD=1,PS.exports=sX()),PS.exports}var Je=k1();const yu=s_(Je);var AS={exports:{}},cm={},NS={exports:{}},DS={};var OD;function lX(){return OD||(OD=1,(function(e){function n($,k){var Q=$.length;$.push(k);e:for(;0<Q;){var re=Q-1>>>1,C=$[re];if(0<l(C,k))$[re]=k,$[Q]=C,Q=re;else break e}}function o($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var k=$[0],Q=$.pop();if(Q!==k){$[0]=Q;e:for(var re=0,C=$.length,I=C>>>1;re<I;){var K=2*(re+1)-1,ee=$[K],fe=K+1,_e=$[fe];if(0>l(ee,Q))fe<C&&0>l(_e,ee)?($[re]=_e,$[fe]=Q,re=fe):($[re]=ee,$[K]=Q,re=K);else if(fe<C&&0>l(_e,Q))$[re]=_e,$[fe]=Q,re=fe;else break e}}return k}function l($,k){var Q=$.sortIndex-k.sortIndex;return Q!==0?Q:$.id-k.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var t=performance;e.unstable_now=function(){return t.now()}}else{var r=Date,a=r.now();e.unstable_now=function(){return r.now()-a}}var s=[],u=[],f=1,g=null,b=3,_=!1,p=!1,y=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function A($){for(var k=o(u);k!==null;){if(k.callback===null)i(u);else if(k.startTime<=$)i(u),k.sortIndex=k.expirationTime,n(s,k);else break;k=o(u)}}function M($){if(y=!1,A($),!p)if(o(s)!==null)p=!0,T||(T=!0,S());else{var k=o(u);k!==null&&W(M,k.startTime-$)}}var T=!1,D=-1,P=5,F=-1;function q(){return v?!0:!(e.unstable_now()-F<P)}function B(){if(v=!1,T){var $=e.unstable_now();F=$;var k=!0;try{e:{p=!1,y&&(y=!1,j(D),D=-1),_=!0;var Q=b;try{t:{for(A($),g=o(s);g!==null&&!(g.expirationTime>$&&q());){var re=g.callback;if(typeof re=="function"){g.callback=null,b=g.priorityLevel;var C=re(g.expirationTime<=$);if($=e.unstable_now(),typeof C=="function"){g.callback=C,A($),k=!0;break t}g===o(s)&&i(s),A($)}else i(s);g=o(s)}if(g!==null)k=!0;else{var I=o(u);I!==null&&W(M,I.startTime-$),k=!1}}break e}finally{g=null,b=Q,_=!1}k=void 0}}finally{k?S():T=!1}}}var S;if(typeof x=="function")S=function(){x(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=B,S=function(){Y.postMessage(null)}}else S=function(){E(B,0)};function W($,k){D=E(function(){$(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var k=3;break;default:k=b}var Q=b;b=k;try{return $()}finally{b=Q}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function($,k){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=b;b=$;try{return k()}finally{b=Q}},e.unstable_scheduleCallback=function($,k,Q){var re=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,$){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Q+C,$={id:f++,callback:k,priorityLevel:$,startTime:Q,expirationTime:C,sortIndex:-1},Q>re?($.sortIndex=Q,n(u,$),o(s)===null&&$===o(u)&&(y?(j(D),D=-1):y=!0,W(M,Q-re))):($.sortIndex=C,n(s,$),p||_||(p=!0,T||(T=!0,S()))),$},e.unstable_shouldYield=q,e.unstable_wrapCallback=function($){var k=b;return function(){var Q=b;b=k;try{return $.apply(this,arguments)}finally{b=Q}}}})(DS)),DS}var ED;function uX(){return ED||(ED=1,NS.exports=lX()),NS.exports}var IS={exports:{}},Rr={};var RD;function cX(){if(RD)return Rr;RD=1;var e=k1();function n(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function t(s,u,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:s,containerInfo:u,implementation:f}}var r=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(s,u){if(s==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rr.createPortal=function(s,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(n(299));return t(s,u,null,f)},Rr.flushSync=function(s){var u=r.T,f=i.p;try{if(r.T=null,i.p=2,s)return s()}finally{r.T=u,i.p=f,i.d.f()}},Rr.preconnect=function(s,u){typeof s=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(s,u))},Rr.prefetchDNS=function(s){typeof s=="string"&&i.d.D(s)},Rr.preinit=function(s,u){if(typeof s=="string"&&u&&typeof u.as=="string"){var f=u.as,g=a(f,u.crossOrigin),b=typeof u.integrity=="string"?u.integrity:void 0,_=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?i.d.S(s,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):f==="script"&&i.d.X(s,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Rr.preinitModule=function(s,u){if(typeof s=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=a(u.as,u.crossOrigin);i.d.M(s,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(s)},Rr.preload=function(s,u){if(typeof s=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,g=a(f,u.crossOrigin);i.d.L(s,f,{crossOrigin:g,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Rr.preloadModule=function(s,u){if(typeof s=="string")if(u){var f=a(u.as,u.crossOrigin);i.d.m(s,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(s)},Rr.requestFormReset=function(s){i.d.r(s)},Rr.unstable_batchedUpdates=function(s,u){return s(u)},Rr.useFormState=function(s,u,f){return r.H.useFormState(s,u,f)},Rr.useFormStatus=function(){return r.H.useHostTransitionStatus()},Rr.version="19.2.3",Rr}var jD;function dX(){if(jD)return IS.exports;jD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),IS.exports=cX(),IS.exports}var xD;function fX(){if(xD)return cm;xD=1;var e=uX(),n=k1(),o=dX();function i(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function t(c){var d=c,h=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(h=d.return),c=d.return;while(c)}return d.tag===3?h:null}function r(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function s(c){if(t(c)!==c)throw Error(i(188))}function u(c){var d=c.alternate;if(!d){if(d=t(c),d===null)throw Error(i(188));return d!==c?null:c}for(var h=c,m=d;;){var O=h.return;if(O===null)break;var R=O.alternate;if(R===null){if(m=O.return,m!==null){h=m;continue}break}if(O.child===R.child){for(R=O.child;R;){if(R===h)return s(O),c;if(R===m)return s(O),d;R=R.sibling}throw Error(i(188))}if(h.return!==m.return)h=O,m=R;else{for(var L=!1,J=O.child;J;){if(J===h){L=!0,h=O,m=R;break}if(J===m){L=!0,m=O,h=R;break}J=J.sibling}if(!L){for(J=R.child;J;){if(J===h){L=!0,h=R,m=O;break}if(J===m){L=!0,m=R,h=O;break}J=J.sibling}if(!L)throw Error(i(189))}}if(h.alternate!==m)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?c:d}function f(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=f(c),d!==null)return d;c=c.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),x=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function S(c){return c===null||typeof c!="object"?null:(c=B&&c[B]||c["@@iterator"],typeof c=="function"?c:null)}var H=Symbol.for("react.client.reference");function Y(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===H?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case E:return"Profiler";case v:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList";case F:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case p:return"Portal";case x:return c.displayName||"Context";case j:return(c._context.displayName||"Context")+".Consumer";case A:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case D:return d=c.displayName||null,d!==null?d:Y(c.type)||"Memo";case P:d=c._payload,c=c._init;try{return Y(c(d))}catch{}}return null}var W=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},re=[],C=-1;function I(c){return{current:c}}function K(c){0>C||(c.current=re[C],re[C]=null,C--)}function ee(c,d){C++,re[C]=c.current,c.current=d}var fe=I(null),_e=I(null),V=I(null),U=I(null);function X(c,d){switch(ee(V,d),ee(_e,c),ee(fe,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?FN(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=FN(d),c=VN(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}K(fe),ee(fe,c)}function Z(){K(fe),K(_e),K(V)}function le(c){c.memoizedState!==null&&ee(U,c);var d=fe.current,h=VN(d,c.type);d!==h&&(ee(_e,c),ee(fe,h))}function me(c){_e.current===c&&(K(fe),K(_e)),U.current===c&&(K(U),im._currentValue=Q)}var we,ae;function oe(c){if(we===void 0)try{throw Error()}catch(h){var d=h.stack.trim().match(/\n( *(at )?)/);we=d&&d[1]||"",ae=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+c+ae}var ve=!1;function Ce(c,d){if(!c||ve)return"";ve=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(d){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(je){var Ee=je}Reflect.construct(c,[],Pe)}else{try{Pe.call()}catch(je){Ee=je}c.call(Pe.prototype)}}else{try{throw Error()}catch(je){Ee=je}(Pe=c())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(je){if(je&&Ee&&typeof je.stack=="string")return[je.stack,Ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=m.DetermineComponentFrameRoot(),L=R[0],J=R[1];if(L&&J){var ue=L.split(`
`),Oe=J.split(`
`);for(O=m=0;m<ue.length&&!ue[m].includes("DetermineComponentFrameRoot");)m++;for(;O<Oe.length&&!Oe[O].includes("DetermineComponentFrameRoot");)O++;if(m===ue.length||O===Oe.length)for(m=ue.length-1,O=Oe.length-1;1<=m&&0<=O&&ue[m]!==Oe[O];)O--;for(;1<=m&&0<=O;m--,O--)if(ue[m]!==Oe[O]){if(m!==1||O!==1)do if(m--,O--,0>O||ue[m]!==Oe[O]){var xe=`
`+ue[m].replace(" at new "," at ");return c.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",c.displayName)),xe}while(1<=m&&0<=O);break}}}finally{ve=!1,Error.prepareStackTrace=h}return(h=c?c.displayName||c.name:"")?oe(h):""}function Ae(c,d){switch(c.tag){case 26:case 27:case 5:return oe(c.type);case 16:return oe("Lazy");case 13:return c.child!==d&&d!==null?oe("Suspense Fallback"):oe("Suspense");case 19:return oe("SuspenseList");case 0:case 15:return Ce(c.type,!1);case 11:return Ce(c.type.render,!1);case 1:return Ce(c.type,!0);case 31:return oe("Activity");default:return""}}function Ne(c){try{var d="",h=null;do d+=Ae(c,h),h=c,c=c.return;while(c);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var de=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,Ie=e.unstable_cancelCallback,ye=e.unstable_shouldYield,ze=e.unstable_requestPaint,Fe=e.unstable_now,De=e.unstable_getCurrentPriorityLevel,Be=e.unstable_ImmediatePriority,G=e.unstable_UserBlockingPriority,N=e.unstable_NormalPriority,z=e.unstable_LowPriority,ne=e.unstable_IdlePriority,ce=e.log,Re=e.unstable_setDisableYieldValue,Te=null,tt=null;function yt(c){if(typeof ce=="function"&&Re(c),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Te,c)}catch{}}var ut=Math.clz32?Math.clz32:N_,zt=Math.log,wt=Math.LN2;function N_(c){return c>>>=0,c===0?32:31-(zt(c)/wt|0)|0}var Wf=256,hd=262144,hc=4194304;function xu(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Jf(c,d,h){var m=c.pendingLanes;if(m===0)return 0;var O=0,R=c.suspendedLanes,L=c.pingedLanes;c=c.warmLanes;var J=m&134217727;return J!==0?(m=J&~R,m!==0?O=xu(m):(L&=J,L!==0?O=xu(L):h||(h=J&~c,h!==0&&(O=xu(h))))):(J=m&~R,J!==0?O=xu(J):L!==0?O=xu(L):h||(h=m&~c,h!==0&&(O=xu(h)))),O===0?0:d!==0&&d!==O&&(d&R)===0&&(R=O&-O,h=d&-d,R>=h||R===32&&(h&4194048)!==0)?d:O}function Cu(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function D_(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function te(){var c=hc;return hc<<=1,(hc&62914560)===0&&(hc=4194304),c}function se(c){for(var d=[],h=0;31>h;h++)d.push(c);return d}function qe(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function $e(c,d,h,m,O,R){var L=c.pendingLanes;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=h,c.entangledLanes&=h,c.errorRecoveryDisabledLanes&=h,c.shellSuspendCounter=0;var J=c.entanglements,ue=c.expirationTimes,Oe=c.hiddenUpdates;for(h=L&~h;0<h;){var xe=31-ut(h),Pe=1<<xe;J[xe]=0,ue[xe]=-1;var Ee=Oe[xe];if(Ee!==null)for(Oe[xe]=null,xe=0;xe<Ee.length;xe++){var je=Ee[xe];je!==null&&(je.lane&=-536870913)}h&=~Pe}m!==0&&ke(c,m,0),R!==0&&O===0&&c.tag!==0&&(c.suspendedLanes|=R&~(L&~d))}function ke(c,d,h){c.pendingLanes|=d,c.suspendedLanes&=~d;var m=31-ut(d);c.entangledLanes|=d,c.entanglements[m]=c.entanglements[m]|1073741824|h&261930}function ir(c,d){var h=c.entangledLanes|=d;for(c=c.entanglements;h;){var m=31-ut(h),O=1<<m;O&d|c[m]&d&&(c[m]|=d),h&=~O}}function Cr(c,d){var h=d&-d;return h=(h&42)!==0?1:Zf(h),(h&(c.suspendedLanes|d))!==0?0:h}function Zf(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function $n(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function vp(){var c=k.p;return c!==0?c:(c=window.event,c===void 0?32:fD(c.type))}function I_(c,d){var h=k.p;try{return k.p=c,d()}finally{k.p=h}}var Fn=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Fn,dr="__reactProps$"+Fn,cu="__reactContainer$"+Fn,pd="__reactEvents$"+Fn,md="__reactListeners$"+Fn,Tu="__reactHandles$"+Fn,En="__reactResources$"+Fn,bp="__reactMarker$"+Fn;function S0(c){delete c[Qt],delete c[dr],delete c[pd],delete c[md],delete c[Tu]}function Qf(c){var d=c[Qt];if(d)return d;for(var h=c.parentNode;h;){if(d=h[cu]||h[Qt]){if(h=d.alternate,d.child!==null||h!==null&&h.child!==null)for(c=JN(c);c!==null;){if(h=c[Qt])return h;c=JN(c)}return d}c=h,h=c.parentNode}return null}function Xf(c){if(c=c[Qt]||c[cu]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function wp(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(i(33))}function eh(c){var d=c[En];return d||(d=c[En]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function fr(c){c[bp]=!0}var MM=new Set,PM={};function gd(c,d){th(c,d),th(c+"Capture",d)}function th(c,d){for(PM[c]=d,c=0;c<d.length;c++)MM.add(d[c])}var JJ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),AM={},NM={};function ZJ(c){return de.call(NM,c)?!0:de.call(AM,c)?!1:JJ.test(c)?NM[c]=!0:(AM[c]=!0,!1)}function z_(c,d,h){if(ZJ(d))if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var m=d.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+h)}}function B_(c,d,h){if(h===null)c.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+h)}}function Mu(c,d,h,m){if(m===null)c.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttributeNS(d,h,""+m)}}function Rn(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function DM(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function QJ(c,d,h){var m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var O=m.get,R=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return O.call(this)},set:function(L){h=""+L,R.call(this,L)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function O0(c){if(!c._valueTracker){var d=DM(c)?"checked":"value";c._valueTracker=QJ(c,d,""+c[d])}}function IM(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var h=d.getValue(),m="";return c&&(m=DM(c)?c.checked?"true":"false":c.value),c=m,c!==h?(d.setValue(c),!0):!1}function q_(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var XJ=/[\n"\\]/g;function jn(c){return c.replace(XJ,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function E0(c,d,h,m,O,R,L,J){c.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?c.type=L:c.removeAttribute("type"),d!=null?L==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Rn(d)):c.value!==""+Rn(d)&&(c.value=""+Rn(d)):L!=="submit"&&L!=="reset"||c.removeAttribute("value"),d!=null?R0(c,L,Rn(d)):h!=null?R0(c,L,Rn(h)):m!=null&&c.removeAttribute("value"),O==null&&R!=null&&(c.defaultChecked=!!R),O!=null&&(c.checked=O&&typeof O!="function"&&typeof O!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?c.name=""+Rn(J):c.removeAttribute("name")}function zM(c,d,h,m,O,R,L,J){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(c.type=R),d!=null||h!=null){if(!(R!=="submit"&&R!=="reset"||d!=null)){O0(c);return}h=h!=null?""+Rn(h):"",d=d!=null?""+Rn(d):h,J||d===c.value||(c.value=d),c.defaultValue=d}m=m??O,m=typeof m!="function"&&typeof m!="symbol"&&!!m,c.checked=J?c.checked:!!m,c.defaultChecked=!!m,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(c.name=L),O0(c)}function R0(c,d,h){d==="number"&&q_(c.ownerDocument)===c||c.defaultValue===""+h||(c.defaultValue=""+h)}function rh(c,d,h,m){if(c=c.options,d){d={};for(var O=0;O<h.length;O++)d["$"+h[O]]=!0;for(h=0;h<c.length;h++)O=d.hasOwnProperty("$"+c[h].value),c[h].selected!==O&&(c[h].selected=O),O&&m&&(c[h].defaultSelected=!0)}else{for(h=""+Rn(h),d=null,O=0;O<c.length;O++){if(c[O].value===h){c[O].selected=!0,m&&(c[O].defaultSelected=!0);return}d!==null||c[O].disabled||(d=c[O])}d!==null&&(d.selected=!0)}}function BM(c,d,h){if(d!=null&&(d=""+Rn(d),d!==c.value&&(c.value=d),h==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=h!=null?""+Rn(h):""}function qM(c,d,h,m){if(d==null){if(m!=null){if(h!=null)throw Error(i(92));if(W(m)){if(1<m.length)throw Error(i(93));m=m[0]}h=m}h==null&&(h=""),d=h}h=Rn(d),c.defaultValue=h,m=c.textContent,m===h&&m!==""&&m!==null&&(c.value=m),O0(c)}function nh(c,d){if(d){var h=c.firstChild;if(h&&h===c.lastChild&&h.nodeType===3){h.nodeValue=d;return}}c.textContent=d}var eZ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function LM(c,d,h){var m=d.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":m?c.setProperty(d,h):typeof h!="number"||h===0||eZ.has(d)?d==="float"?c.cssFloat=h:c[d]=(""+h).trim():c[d]=h+"px"}function UM(c,d,h){if(d!=null&&typeof d!="object")throw Error(i(62));if(c=c.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||d!=null&&d.hasOwnProperty(m)||(m.indexOf("--")===0?c.setProperty(m,""):m==="float"?c.cssFloat="":c[m]="");for(var O in d)m=d[O],d.hasOwnProperty(O)&&h[O]!==m&&LM(c,O,m)}else for(var R in d)d.hasOwnProperty(R)&&LM(c,R,d[R])}function j0(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tZ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rZ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function L_(c){return rZ.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Pu(){}var x0=null;function C0(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ah=null,ih=null;function $M(c){var d=Xf(c);if(d&&(c=d.stateNode)){var h=c[dr]||null;e:switch(c=d.stateNode,d.type){case"input":if(E0(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),d=h.name,h.type==="radio"&&d!=null){for(h=c;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+jn(""+d)+'"][type="radio"]'),d=0;d<h.length;d++){var m=h[d];if(m!==c&&m.form===c.form){var O=m[dr]||null;if(!O)throw Error(i(90));E0(m,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<h.length;d++)m=h[d],m.form===c.form&&IM(m)}break e;case"textarea":BM(c,h.value,h.defaultValue);break e;case"select":d=h.value,d!=null&&rh(c,!!h.multiple,d,!1)}}}var T0=!1;function FM(c,d,h){if(T0)return c(d,h);T0=!0;try{var m=c(d);return m}finally{if(T0=!1,(ah!==null||ih!==null)&&(jy(),ah&&(d=ah,c=ih,ih=ah=null,$M(d),c)))for(d=0;d<c.length;d++)$M(c[d])}}function Sp(c,d){var h=c.stateNode;if(h===null)return null;var m=h[dr]||null;if(m===null)return null;h=m[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(c=c.type,m=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!m;break e;default:c=!1}if(c)return null;if(h&&typeof h!="function")throw Error(i(231,d,typeof h));return h}var Au=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M0=!1;if(Au)try{var Op={};Object.defineProperty(Op,"passive",{get:function(){M0=!0}}),window.addEventListener("test",Op,Op),window.removeEventListener("test",Op,Op)}catch{M0=!1}var pc=null,P0=null,U_=null;function VM(){if(U_)return U_;var c,d=P0,h=d.length,m,O="value"in pc?pc.value:pc.textContent,R=O.length;for(c=0;c<h&&d[c]===O[c];c++);var L=h-c;for(m=1;m<=L&&d[h-m]===O[R-m];m++);return U_=O.slice(c,1<m?1-m:void 0)}function $_(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function F_(){return!0}function GM(){return!1}function Br(c){function d(h,m,O,R,L){this._reactName=h,this._targetInst=O,this.type=m,this.nativeEvent=R,this.target=L,this.currentTarget=null;for(var J in c)c.hasOwnProperty(J)&&(h=c[J],this[J]=h?h(R):R[J]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?F_:GM,this.isPropagationStopped=GM,this}return g(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=F_)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=F_)},persist:function(){},isPersistent:F_}),d}var _d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V_=Br(_d),Ep=g({},_d,{view:0,detail:0}),nZ=Br(Ep),A0,N0,Rp,G_=g({},Ep,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I0,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Rp&&(Rp&&c.type==="mousemove"?(A0=c.screenX-Rp.screenX,N0=c.screenY-Rp.screenY):N0=A0=0,Rp=c),A0)},movementY:function(c){return"movementY"in c?c.movementY:N0}}),HM=Br(G_),aZ=g({},G_,{dataTransfer:0}),iZ=Br(aZ),oZ=g({},Ep,{relatedTarget:0}),D0=Br(oZ),sZ=g({},_d,{animationName:0,elapsedTime:0,pseudoElement:0}),lZ=Br(sZ),uZ=g({},_d,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),cZ=Br(uZ),dZ=g({},_d,{data:0}),KM=Br(dZ),fZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mZ(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=pZ[c])?!!d[c]:!1}function I0(){return mZ}var gZ=g({},Ep,{key:function(c){if(c.key){var d=fZ[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=$_(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?hZ[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I0,charCode:function(c){return c.type==="keypress"?$_(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?$_(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),_Z=Br(gZ),yZ=g({},G_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kM=Br(yZ),vZ=g({},Ep,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I0}),bZ=Br(vZ),wZ=g({},_d,{propertyName:0,elapsedTime:0,pseudoElement:0}),SZ=Br(wZ),OZ=g({},G_,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),EZ=Br(OZ),RZ=g({},_d,{newState:0,oldState:0}),jZ=Br(RZ),xZ=[9,13,27,32],z0=Au&&"CompositionEvent"in window,jp=null;Au&&"documentMode"in document&&(jp=document.documentMode);var CZ=Au&&"TextEvent"in window&&!jp,YM=Au&&(!z0||jp&&8<jp&&11>=jp),WM=" ",JM=!1;function ZM(c,d){switch(c){case"keyup":return xZ.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QM(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var oh=!1;function TZ(c,d){switch(c){case"compositionend":return QM(d);case"keypress":return d.which!==32?null:(JM=!0,WM);case"textInput":return c=d.data,c===WM&&JM?null:c;default:return null}}function MZ(c,d){if(oh)return c==="compositionend"||!z0&&ZM(c,d)?(c=VM(),U_=P0=pc=null,oh=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return YM&&d.locale!=="ko"?null:d.data;default:return null}}var PZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XM(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!PZ[c.type]:d==="textarea"}function eP(c,d,h,m){ah?ih?ih.push(m):ih=[m]:ah=m,d=Ny(d,"onChange"),0<d.length&&(h=new V_("onChange","change",null,h,m),c.push({event:h,listeners:d}))}var xp=null,Cp=null;function AZ(c){zN(c,0)}function H_(c){var d=wp(c);if(IM(d))return c}function tP(c,d){if(c==="change")return d}var rP=!1;if(Au){var B0;if(Au){var q0="oninput"in document;if(!q0){var nP=document.createElement("div");nP.setAttribute("oninput","return;"),q0=typeof nP.oninput=="function"}B0=q0}else B0=!1;rP=B0&&(!document.documentMode||9<document.documentMode)}function aP(){xp&&(xp.detachEvent("onpropertychange",iP),Cp=xp=null)}function iP(c){if(c.propertyName==="value"&&H_(Cp)){var d=[];eP(d,Cp,c,C0(c)),FM(AZ,d)}}function NZ(c,d,h){c==="focusin"?(aP(),xp=d,Cp=h,xp.attachEvent("onpropertychange",iP)):c==="focusout"&&aP()}function DZ(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return H_(Cp)}function IZ(c,d){if(c==="click")return H_(d)}function zZ(c,d){if(c==="input"||c==="change")return H_(d)}function BZ(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Qr=typeof Object.is=="function"?Object.is:BZ;function Tp(c,d){if(Qr(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var h=Object.keys(c),m=Object.keys(d);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var O=h[m];if(!de.call(d,O)||!Qr(c[O],d[O]))return!1}return!0}function oP(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function sP(c,d){var h=oP(c);c=0;for(var m;h;){if(h.nodeType===3){if(m=c+h.textContent.length,c<=d&&m>=d)return{node:h,offset:d-c};c=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=oP(h)}}function lP(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?lP(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function uP(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=q_(c.document);d instanceof c.HTMLIFrameElement;){try{var h=typeof d.contentWindow.location.href=="string"}catch{h=!1}if(h)c=d.contentWindow;else break;d=q_(c.document)}return d}function L0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var qZ=Au&&"documentMode"in document&&11>=document.documentMode,sh=null,U0=null,Mp=null,$0=!1;function cP(c,d,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;$0||sh==null||sh!==q_(m)||(m=sh,"selectionStart"in m&&L0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Mp&&Tp(Mp,m)||(Mp=m,m=Ny(U0,"onSelect"),0<m.length&&(d=new V_("onSelect","select",null,d,h),c.push({event:d,listeners:m}),d.target=sh)))}function yd(c,d){var h={};return h[c.toLowerCase()]=d.toLowerCase(),h["Webkit"+c]="webkit"+d,h["Moz"+c]="moz"+d,h}var lh={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionrun:yd("Transition","TransitionRun"),transitionstart:yd("Transition","TransitionStart"),transitioncancel:yd("Transition","TransitionCancel"),transitionend:yd("Transition","TransitionEnd")},F0={},dP={};Au&&(dP=document.createElement("div").style,"AnimationEvent"in window||(delete lh.animationend.animation,delete lh.animationiteration.animation,delete lh.animationstart.animation),"TransitionEvent"in window||delete lh.transitionend.transition);function vd(c){if(F0[c])return F0[c];if(!lh[c])return c;var d=lh[c],h;for(h in d)if(d.hasOwnProperty(h)&&h in dP)return F0[c]=d[h];return c}var fP=vd("animationend"),hP=vd("animationiteration"),pP=vd("animationstart"),LZ=vd("transitionrun"),UZ=vd("transitionstart"),$Z=vd("transitioncancel"),mP=vd("transitionend"),gP=new Map,V0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");V0.push("scrollEnd");function Vn(c,d){gP.set(c,d),gd(d,[c])}var K_=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},xn=[],uh=0,G0=0;function k_(){for(var c=uh,d=G0=uh=0;d<c;){var h=xn[d];xn[d++]=null;var m=xn[d];xn[d++]=null;var O=xn[d];xn[d++]=null;var R=xn[d];if(xn[d++]=null,m!==null&&O!==null){var L=m.pending;L===null?O.next=O:(O.next=L.next,L.next=O),m.pending=O}R!==0&&_P(h,O,R)}}function Y_(c,d,h,m){xn[uh++]=c,xn[uh++]=d,xn[uh++]=h,xn[uh++]=m,G0|=m,c.lanes|=m,c=c.alternate,c!==null&&(c.lanes|=m)}function H0(c,d,h,m){return Y_(c,d,h,m),W_(c)}function bd(c,d){return Y_(c,null,null,d),W_(c)}function _P(c,d,h){c.lanes|=h;var m=c.alternate;m!==null&&(m.lanes|=h);for(var O=!1,R=c.return;R!==null;)R.childLanes|=h,m=R.alternate,m!==null&&(m.childLanes|=h),R.tag===22&&(c=R.stateNode,c===null||c._visibility&1||(O=!0)),c=R,R=R.return;return c.tag===3?(R=c.stateNode,O&&d!==null&&(O=31-ut(h),c=R.hiddenUpdates,m=c[O],m===null?c[O]=[d]:m.push(d),d.lane=h|536870912),R):null}function W_(c){if(50<Qp)throw Qp=0,eS=null,Error(i(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var ch={};function FZ(c,d,h,m){this.tag=c,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(c,d,h,m){return new FZ(c,d,h,m)}function K0(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Nu(c,d){var h=c.alternate;return h===null?(h=Xr(c.tag,d,c.key,c.mode),h.elementType=c.elementType,h.type=c.type,h.stateNode=c.stateNode,h.alternate=c,c.alternate=h):(h.pendingProps=d,h.type=c.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=c.flags&65011712,h.childLanes=c.childLanes,h.lanes=c.lanes,h.child=c.child,h.memoizedProps=c.memoizedProps,h.memoizedState=c.memoizedState,h.updateQueue=c.updateQueue,d=c.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},h.sibling=c.sibling,h.index=c.index,h.ref=c.ref,h.refCleanup=c.refCleanup,h}function yP(c,d){c.flags&=65011714;var h=c.alternate;return h===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,d=h.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function J_(c,d,h,m,O,R){var L=0;if(m=c,typeof c=="function")K0(c)&&(L=1);else if(typeof c=="string")L=kQ(c,h,fe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case F:return c=Xr(31,h,d,O),c.elementType=F,c.lanes=R,c;case y:return wd(h.children,O,R,d);case v:L=8,O|=24;break;case E:return c=Xr(12,h,d,O|2),c.elementType=E,c.lanes=R,c;case M:return c=Xr(13,h,d,O),c.elementType=M,c.lanes=R,c;case T:return c=Xr(19,h,d,O),c.elementType=T,c.lanes=R,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case x:L=10;break e;case j:L=9;break e;case A:L=11;break e;case D:L=14;break e;case P:L=16,m=null;break e}L=29,h=Error(i(130,c===null?"null":typeof c,"")),m=null}return d=Xr(L,h,d,O),d.elementType=c,d.type=m,d.lanes=R,d}function wd(c,d,h,m){return c=Xr(7,c,m,d),c.lanes=h,c}function k0(c,d,h){return c=Xr(6,c,null,d),c.lanes=h,c}function vP(c){var d=Xr(18,null,null,0);return d.stateNode=c,d}function Y0(c,d,h){return d=Xr(4,c.children!==null?c.children:[],c.key,d),d.lanes=h,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var bP=new WeakMap;function Cn(c,d){if(typeof c=="object"&&c!==null){var h=bP.get(c);return h!==void 0?h:(d={value:c,source:d,stack:Ne(d)},bP.set(c,d),d)}return{value:c,source:d,stack:Ne(d)}}var dh=[],fh=0,Z_=null,Pp=0,Tn=[],Mn=0,mc=null,du=1,fu="";function Du(c,d){dh[fh++]=Pp,dh[fh++]=Z_,Z_=c,Pp=d}function wP(c,d,h){Tn[Mn++]=du,Tn[Mn++]=fu,Tn[Mn++]=mc,mc=c;var m=du;c=fu;var O=32-ut(m)-1;m&=~(1<<O),h+=1;var R=32-ut(d)+O;if(30<R){var L=O-O%5;R=(m&(1<<L)-1).toString(32),m>>=L,O-=L,du=1<<32-ut(d)+O|h<<O|m,fu=R+c}else du=1<<R|h<<O|m,fu=c}function W0(c){c.return!==null&&(Du(c,1),wP(c,1,0))}function J0(c){for(;c===Z_;)Z_=dh[--fh],dh[fh]=null,Pp=dh[--fh],dh[fh]=null;for(;c===mc;)mc=Tn[--Mn],Tn[Mn]=null,fu=Tn[--Mn],Tn[Mn]=null,du=Tn[--Mn],Tn[Mn]=null}function SP(c,d){Tn[Mn++]=du,Tn[Mn++]=fu,Tn[Mn++]=mc,du=d.id,fu=d.overflow,mc=c}var yr=null,Lt=null,_t=!1,gc=null,Pn=!1,Z0=Error(i(519));function _c(c){var d=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ap(Cn(d,c)),Z0}function OP(c){var d=c.stateNode,h=c.type,m=c.memoizedProps;switch(d[Qt]=c,d[dr]=m,h){case"dialog":pt("cancel",d),pt("close",d);break;case"iframe":case"object":case"embed":pt("load",d);break;case"video":case"audio":for(h=0;h<em.length;h++)pt(em[h],d);break;case"source":pt("error",d);break;case"img":case"image":case"link":pt("error",d),pt("load",d);break;case"details":pt("toggle",d);break;case"input":pt("invalid",d),zM(d,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":pt("invalid",d);break;case"textarea":pt("invalid",d),qM(d,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||d.textContent===""+h||m.suppressHydrationWarning===!0||UN(d.textContent,h)?(m.popover!=null&&(pt("beforetoggle",d),pt("toggle",d)),m.onScroll!=null&&pt("scroll",d),m.onScrollEnd!=null&&pt("scrollend",d),m.onClick!=null&&(d.onclick=Pu),d=!0):d=!1,d||_c(c,!0)}function EP(c){for(yr=c.return;yr;)switch(yr.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:yr=yr.return}}function hh(c){if(c!==yr)return!1;if(!_t)return EP(c),_t=!0,!1;var d=c.tag,h;if((h=d!==3&&d!==27)&&((h=d===5)&&(h=c.type,h=!(h!=="form"&&h!=="button")||mS(c.type,c.memoizedProps)),h=!h),h&&Lt&&_c(c),EP(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Lt=WN(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Lt=WN(c)}else d===27?(d=Lt,Pc(c.type)?(c=bS,bS=null,Lt=c):Lt=d):Lt=yr?Nn(c.stateNode.nextSibling):null;return!0}function Sd(){Lt=yr=null,_t=!1}function Q0(){var c=gc;return c!==null&&($r===null?$r=c:$r.push.apply($r,c),gc=null),c}function Ap(c){gc===null?gc=[c]:gc.push(c)}var X0=I(null),Od=null,Iu=null;function yc(c,d,h){ee(X0,d._currentValue),d._currentValue=h}function zu(c){c._currentValue=X0.current,K(X0)}function ew(c,d,h){for(;c!==null;){var m=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,m!==null&&(m.childLanes|=d)):m!==null&&(m.childLanes&d)!==d&&(m.childLanes|=d),c===h)break;c=c.return}}function tw(c,d,h,m){var O=c.child;for(O!==null&&(O.return=c);O!==null;){var R=O.dependencies;if(R!==null){var L=O.child;R=R.firstContext;e:for(;R!==null;){var J=R;R=O;for(var ue=0;ue<d.length;ue++)if(J.context===d[ue]){R.lanes|=h,J=R.alternate,J!==null&&(J.lanes|=h),ew(R.return,h,c),m||(L=null);break e}R=J.next}}else if(O.tag===18){if(L=O.return,L===null)throw Error(i(341));L.lanes|=h,R=L.alternate,R!==null&&(R.lanes|=h),ew(L,h,c),L=null}else L=O.child;if(L!==null)L.return=O;else for(L=O;L!==null;){if(L===c){L=null;break}if(O=L.sibling,O!==null){O.return=L.return,L=O;break}L=L.return}O=L}}function ph(c,d,h,m){c=null;for(var O=d,R=!1;O!==null;){if(!R){if((O.flags&524288)!==0)R=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var L=O.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var J=O.type;Qr(O.pendingProps.value,L.value)||(c!==null?c.push(J):c=[J])}}else if(O===U.current){if(L=O.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(c!==null?c.push(im):c=[im])}O=O.return}c!==null&&tw(d,c,h,m),d.flags|=262144}function Q_(c){for(c=c.firstContext;c!==null;){if(!Qr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Ed(c){Od=c,Iu=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function vr(c){return RP(Od,c)}function X_(c,d){return Od===null&&Ed(c),RP(c,d)}function RP(c,d){var h=d._currentValue;if(d={context:d,memoizedValue:h,next:null},Iu===null){if(c===null)throw Error(i(308));Iu=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Iu=Iu.next=d;return h}var VZ=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(h,m){c.push(m)}};this.abort=function(){d.aborted=!0,c.forEach(function(h){return h()})}},GZ=e.unstable_scheduleCallback,HZ=e.unstable_NormalPriority,Xt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rw(){return{controller:new VZ,data:new Map,refCount:0}}function Np(c){c.refCount--,c.refCount===0&&GZ(HZ,function(){c.controller.abort()})}var Dp=null,nw=0,mh=0,gh=null;function KZ(c,d){if(Dp===null){var h=Dp=[];nw=0,mh=oS(),gh={status:"pending",value:void 0,then:function(m){h.push(m)}}}return nw++,d.then(jP,jP),d}function jP(){if(--nw===0&&Dp!==null){gh!==null&&(gh.status="fulfilled");var c=Dp;Dp=null,mh=0,gh=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function kZ(c,d){var h=[],m={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return c.then(function(){m.status="fulfilled",m.value=d;for(var O=0;O<h.length;O++)(0,h[O])(d)},function(O){for(m.status="rejected",m.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),m}var xP=$.S;$.S=function(c,d){cN=Fe(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&KZ(c,d),xP!==null&&xP(c,d)};var Rd=I(null);function aw(){var c=Rd.current;return c!==null?c:Dt.pooledCache}function ey(c,d){d===null?ee(Rd,Rd.current):ee(Rd,d.pool)}function CP(){var c=aw();return c===null?null:{parent:Xt._currentValue,pool:c}}var _h=Error(i(460)),iw=Error(i(474)),ty=Error(i(542)),ry={then:function(){}};function TP(c){return c=c.status,c==="fulfilled"||c==="rejected"}function MP(c,d,h){switch(h=c[h],h===void 0?c.push(d):h!==d&&(d.then(Pu,Pu),d=h),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,AP(c),c;default:if(typeof d.status=="string")d.then(Pu,Pu);else{if(c=Dt,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=d,c.status="pending",c.then(function(m){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=m}},function(m){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=m}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,AP(c),c}throw xd=d,_h}}function jd(c){try{var d=c._init;return d(c._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(xd=h,_h):h}}var xd=null;function PP(){if(xd===null)throw Error(i(459));var c=xd;return xd=null,c}function AP(c){if(c===_h||c===ty)throw Error(i(483))}var yh=null,Ip=0;function ny(c){var d=Ip;return Ip+=1,yh===null&&(yh=[]),MP(yh,c,d)}function zp(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function ay(c,d){throw d.$$typeof===b?Error(i(525)):(c=Object.prototype.toString.call(d),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function NP(c){function d(ge,he){if(c){var Se=ge.deletions;Se===null?(ge.deletions=[he],ge.flags|=16):Se.push(he)}}function h(ge,he){if(!c)return null;for(;he!==null;)d(ge,he),he=he.sibling;return null}function m(ge){for(var he=new Map;ge!==null;)ge.key!==null?he.set(ge.key,ge):he.set(ge.index,ge),ge=ge.sibling;return he}function O(ge,he){return ge=Nu(ge,he),ge.index=0,ge.sibling=null,ge}function R(ge,he,Se){return ge.index=Se,c?(Se=ge.alternate,Se!==null?(Se=Se.index,Se<he?(ge.flags|=67108866,he):Se):(ge.flags|=67108866,he)):(ge.flags|=1048576,he)}function L(ge){return c&&ge.alternate===null&&(ge.flags|=67108866),ge}function J(ge,he,Se,Me){return he===null||he.tag!==6?(he=k0(Se,ge.mode,Me),he.return=ge,he):(he=O(he,Se),he.return=ge,he)}function ue(ge,he,Se,Me){var Xe=Se.type;return Xe===y?xe(ge,he,Se.props.children,Me,Se.key):he!==null&&(he.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&jd(Xe)===he.type)?(he=O(he,Se.props),zp(he,Se),he.return=ge,he):(he=J_(Se.type,Se.key,Se.props,null,ge.mode,Me),zp(he,Se),he.return=ge,he)}function Oe(ge,he,Se,Me){return he===null||he.tag!==4||he.stateNode.containerInfo!==Se.containerInfo||he.stateNode.implementation!==Se.implementation?(he=Y0(Se,ge.mode,Me),he.return=ge,he):(he=O(he,Se.children||[]),he.return=ge,he)}function xe(ge,he,Se,Me,Xe){return he===null||he.tag!==7?(he=wd(Se,ge.mode,Me,Xe),he.return=ge,he):(he=O(he,Se),he.return=ge,he)}function Pe(ge,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=k0(""+he,ge.mode,Se),he.return=ge,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return Se=J_(he.type,he.key,he.props,null,ge.mode,Se),zp(Se,he),Se.return=ge,Se;case p:return he=Y0(he,ge.mode,Se),he.return=ge,he;case P:return he=jd(he),Pe(ge,he,Se)}if(W(he)||S(he))return he=wd(he,ge.mode,Se,null),he.return=ge,he;if(typeof he.then=="function")return Pe(ge,ny(he),Se);if(he.$$typeof===x)return Pe(ge,X_(ge,he),Se);ay(ge,he)}return null}function Ee(ge,he,Se,Me){var Xe=he!==null?he.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Xe!==null?null:J(ge,he,""+Se,Me);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case _:return Se.key===Xe?ue(ge,he,Se,Me):null;case p:return Se.key===Xe?Oe(ge,he,Se,Me):null;case P:return Se=jd(Se),Ee(ge,he,Se,Me)}if(W(Se)||S(Se))return Xe!==null?null:xe(ge,he,Se,Me,null);if(typeof Se.then=="function")return Ee(ge,he,ny(Se),Me);if(Se.$$typeof===x)return Ee(ge,he,X_(ge,Se),Me);ay(ge,Se)}return null}function je(ge,he,Se,Me,Xe){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return ge=ge.get(Se)||null,J(he,ge,""+Me,Xe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:return ge=ge.get(Me.key===null?Se:Me.key)||null,ue(he,ge,Me,Xe);case p:return ge=ge.get(Me.key===null?Se:Me.key)||null,Oe(he,ge,Me,Xe);case P:return Me=jd(Me),je(ge,he,Se,Me,Xe)}if(W(Me)||S(Me))return ge=ge.get(Se)||null,xe(he,ge,Me,Xe,null);if(typeof Me.then=="function")return je(ge,he,Se,ny(Me),Xe);if(Me.$$typeof===x)return je(ge,he,Se,X_(he,Me),Xe);ay(he,Me)}return null}function He(ge,he,Se,Me){for(var Xe=null,St=null,We=he,lt=he=0,gt=null;We!==null&&lt<Se.length;lt++){We.index>lt?(gt=We,We=null):gt=We.sibling;var Ot=Ee(ge,We,Se[lt],Me);if(Ot===null){We===null&&(We=gt);break}c&&We&&Ot.alternate===null&&d(ge,We),he=R(Ot,he,lt),St===null?Xe=Ot:St.sibling=Ot,St=Ot,We=gt}if(lt===Se.length)return h(ge,We),_t&&Du(ge,lt),Xe;if(We===null){for(;lt<Se.length;lt++)We=Pe(ge,Se[lt],Me),We!==null&&(he=R(We,he,lt),St===null?Xe=We:St.sibling=We,St=We);return _t&&Du(ge,lt),Xe}for(We=m(We);lt<Se.length;lt++)gt=je(We,ge,lt,Se[lt],Me),gt!==null&&(c&&gt.alternate!==null&&We.delete(gt.key===null?lt:gt.key),he=R(gt,he,lt),St===null?Xe=gt:St.sibling=gt,St=gt);return c&&We.forEach(function(zc){return d(ge,zc)}),_t&&Du(ge,lt),Xe}function rt(ge,he,Se,Me){if(Se==null)throw Error(i(151));for(var Xe=null,St=null,We=he,lt=he=0,gt=null,Ot=Se.next();We!==null&&!Ot.done;lt++,Ot=Se.next()){We.index>lt?(gt=We,We=null):gt=We.sibling;var zc=Ee(ge,We,Ot.value,Me);if(zc===null){We===null&&(We=gt);break}c&&We&&zc.alternate===null&&d(ge,We),he=R(zc,he,lt),St===null?Xe=zc:St.sibling=zc,St=zc,We=gt}if(Ot.done)return h(ge,We),_t&&Du(ge,lt),Xe;if(We===null){for(;!Ot.done;lt++,Ot=Se.next())Ot=Pe(ge,Ot.value,Me),Ot!==null&&(he=R(Ot,he,lt),St===null?Xe=Ot:St.sibling=Ot,St=Ot);return _t&&Du(ge,lt),Xe}for(We=m(We);!Ot.done;lt++,Ot=Se.next())Ot=je(We,ge,lt,Ot.value,Me),Ot!==null&&(c&&Ot.alternate!==null&&We.delete(Ot.key===null?lt:Ot.key),he=R(Ot,he,lt),St===null?Xe=Ot:St.sibling=Ot,St=Ot);return c&&We.forEach(function(aX){return d(ge,aX)}),_t&&Du(ge,lt),Xe}function Nt(ge,he,Se,Me){if(typeof Se=="object"&&Se!==null&&Se.type===y&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case _:e:{for(var Xe=Se.key;he!==null;){if(he.key===Xe){if(Xe=Se.type,Xe===y){if(he.tag===7){h(ge,he.sibling),Me=O(he,Se.props.children),Me.return=ge,ge=Me;break e}}else if(he.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&jd(Xe)===he.type){h(ge,he.sibling),Me=O(he,Se.props),zp(Me,Se),Me.return=ge,ge=Me;break e}h(ge,he);break}else d(ge,he);he=he.sibling}Se.type===y?(Me=wd(Se.props.children,ge.mode,Me,Se.key),Me.return=ge,ge=Me):(Me=J_(Se.type,Se.key,Se.props,null,ge.mode,Me),zp(Me,Se),Me.return=ge,ge=Me)}return L(ge);case p:e:{for(Xe=Se.key;he!==null;){if(he.key===Xe)if(he.tag===4&&he.stateNode.containerInfo===Se.containerInfo&&he.stateNode.implementation===Se.implementation){h(ge,he.sibling),Me=O(he,Se.children||[]),Me.return=ge,ge=Me;break e}else{h(ge,he);break}else d(ge,he);he=he.sibling}Me=Y0(Se,ge.mode,Me),Me.return=ge,ge=Me}return L(ge);case P:return Se=jd(Se),Nt(ge,he,Se,Me)}if(W(Se))return He(ge,he,Se,Me);if(S(Se)){if(Xe=S(Se),typeof Xe!="function")throw Error(i(150));return Se=Xe.call(Se),rt(ge,he,Se,Me)}if(typeof Se.then=="function")return Nt(ge,he,ny(Se),Me);if(Se.$$typeof===x)return Nt(ge,he,X_(ge,Se),Me);ay(ge,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint"?(Se=""+Se,he!==null&&he.tag===6?(h(ge,he.sibling),Me=O(he,Se),Me.return=ge,ge=Me):(h(ge,he),Me=k0(Se,ge.mode,Me),Me.return=ge,ge=Me),L(ge)):h(ge,he)}return function(ge,he,Se,Me){try{Ip=0;var Xe=Nt(ge,he,Se,Me);return yh=null,Xe}catch(We){if(We===_h||We===ty)throw We;var St=Xr(29,We,null,ge.mode);return St.lanes=Me,St.return=ge,St}}}var Cd=NP(!0),DP=NP(!1),vc=!1;function ow(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sw(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function bc(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function wc(c,d,h){var m=c.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var O=m.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),m.pending=d,d=W_(c),_P(c,null,h),d}return Y_(c,m,d,h),W_(c)}function Bp(c,d,h){if(d=d.updateQueue,d!==null&&(d=d.shared,(h&4194048)!==0)){var m=d.lanes;m&=c.pendingLanes,h|=m,d.lanes=h,ir(c,h)}}function lw(c,d){var h=c.updateQueue,m=c.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var O=null,R=null;if(h=h.firstBaseUpdate,h!==null){do{var L={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};R===null?O=R=L:R=R.next=L,h=h.next}while(h!==null);R===null?O=R=d:R=R.next=d}else O=R=d;h={baseState:m.baseState,firstBaseUpdate:O,lastBaseUpdate:R,shared:m.shared,callbacks:m.callbacks},c.updateQueue=h;return}c=h.lastBaseUpdate,c===null?h.firstBaseUpdate=d:c.next=d,h.lastBaseUpdate=d}var uw=!1;function qp(){if(uw){var c=gh;if(c!==null)throw c}}function Lp(c,d,h,m){uw=!1;var O=c.updateQueue;vc=!1;var R=O.firstBaseUpdate,L=O.lastBaseUpdate,J=O.shared.pending;if(J!==null){O.shared.pending=null;var ue=J,Oe=ue.next;ue.next=null,L===null?R=Oe:L.next=Oe,L=ue;var xe=c.alternate;xe!==null&&(xe=xe.updateQueue,J=xe.lastBaseUpdate,J!==L&&(J===null?xe.firstBaseUpdate=Oe:J.next=Oe,xe.lastBaseUpdate=ue))}if(R!==null){var Pe=O.baseState;L=0,xe=Oe=ue=null,J=R;do{var Ee=J.lane&-536870913,je=Ee!==J.lane;if(je?(mt&Ee)===Ee:(m&Ee)===Ee){Ee!==0&&Ee===mh&&(uw=!0),xe!==null&&(xe=xe.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var He=c,rt=J;Ee=d;var Nt=h;switch(rt.tag){case 1:if(He=rt.payload,typeof He=="function"){Pe=He.call(Nt,Pe,Ee);break e}Pe=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=rt.payload,Ee=typeof He=="function"?He.call(Nt,Pe,Ee):He,Ee==null)break e;Pe=g({},Pe,Ee);break e;case 2:vc=!0}}Ee=J.callback,Ee!==null&&(c.flags|=64,je&&(c.flags|=8192),je=O.callbacks,je===null?O.callbacks=[Ee]:je.push(Ee))}else je={lane:Ee,tag:J.tag,payload:J.payload,callback:J.callback,next:null},xe===null?(Oe=xe=je,ue=Pe):xe=xe.next=je,L|=Ee;if(J=J.next,J===null){if(J=O.shared.pending,J===null)break;je=J,J=je.next,je.next=null,O.lastBaseUpdate=je,O.shared.pending=null}}while(!0);xe===null&&(ue=Pe),O.baseState=ue,O.firstBaseUpdate=Oe,O.lastBaseUpdate=xe,R===null&&(O.shared.lanes=0),jc|=L,c.lanes=L,c.memoizedState=Pe}}function IP(c,d){if(typeof c!="function")throw Error(i(191,c));c.call(d)}function zP(c,d){var h=c.callbacks;if(h!==null)for(c.callbacks=null,c=0;c<h.length;c++)IP(h[c],d)}var vh=I(null),iy=I(0);function BP(c,d){c=Hu,ee(iy,c),ee(vh,d),Hu=c|d.baseLanes}function cw(){ee(iy,Hu),ee(vh,vh.current)}function dw(){Hu=iy.current,K(vh),K(iy)}var en=I(null),An=null;function Sc(c){var d=c.alternate;ee(Jt,Jt.current&1),ee(en,c),An===null&&(d===null||vh.current!==null||d.memoizedState!==null)&&(An=c)}function fw(c){ee(Jt,Jt.current),ee(en,c),An===null&&(An=c)}function qP(c){c.tag===22?(ee(Jt,Jt.current),ee(en,c),An===null&&(An=c)):Oc()}function Oc(){ee(Jt,Jt.current),ee(en,en.current)}function tn(c){K(en),An===c&&(An=null),K(Jt)}var Jt=I(0);function oy(c){for(var d=c;d!==null;){if(d.tag===13){var h=d.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||yS(h)||vS(h)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Bu=0,st=null,Pt=null,er=null,sy=!1,bh=!1,Td=!1,ly=0,Up=0,wh=null,YZ=0;function Kt(){throw Error(i(321))}function hw(c,d){if(d===null)return!1;for(var h=0;h<d.length&&h<c.length;h++)if(!Qr(c[h],d[h]))return!1;return!0}function pw(c,d,h,m,O,R){return Bu=R,st=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,$.H=c===null||c.memoizedState===null?wA:Tw,Td=!1,R=h(m,O),Td=!1,bh&&(R=UP(d,h,m,O)),LP(c),R}function LP(c){$.H=Vp;var d=Pt!==null&&Pt.next!==null;if(Bu=0,er=Pt=st=null,sy=!1,Up=0,wh=null,d)throw Error(i(300));c===null||tr||(c=c.dependencies,c!==null&&Q_(c)&&(tr=!0))}function UP(c,d,h,m){st=c;var O=0;do{if(bh&&(wh=null),Up=0,bh=!1,25<=O)throw Error(i(301));if(O+=1,er=Pt=null,c.updateQueue!=null){var R=c.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}$.H=SA,R=d(h,m)}while(bh);return R}function WZ(){var c=$.H,d=c.useState()[0];return d=typeof d.then=="function"?$p(d):d,c=c.useState()[0],(Pt!==null?Pt.memoizedState:null)!==c&&(st.flags|=1024),d}function mw(){var c=ly!==0;return ly=0,c}function gw(c,d,h){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~h}function _w(c){if(sy){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}sy=!1}Bu=0,er=Pt=st=null,bh=!1,Up=ly=0,wh=null}function Tr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?st.memoizedState=er=c:er=er.next=c,er}function Zt(){if(Pt===null){var c=st.alternate;c=c!==null?c.memoizedState:null}else c=Pt.next;var d=er===null?st.memoizedState:er.next;if(d!==null)er=d,Pt=c;else{if(c===null)throw st.alternate===null?Error(i(467)):Error(i(310));Pt=c,c={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},er===null?st.memoizedState=er=c:er=er.next=c}return er}function uy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $p(c){var d=Up;return Up+=1,wh===null&&(wh=[]),c=MP(wh,c,d),d=st,(er===null?d.memoizedState:er.next)===null&&(d=d.alternate,$.H=d===null||d.memoizedState===null?wA:Tw),c}function cy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return $p(c);if(c.$$typeof===x)return vr(c)}throw Error(i(438,String(c)))}function yw(c){var d=null,h=st.updateQueue;if(h!==null&&(d=h.memoCache),d==null){var m=st.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(d={data:m.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),h===null&&(h=uy(),st.updateQueue=h),h.memoCache=d,h=d.data[d.index],h===void 0)for(h=d.data[d.index]=Array(c),m=0;m<c;m++)h[m]=q;return d.index++,h}function qu(c,d){return typeof d=="function"?d(c):d}function dy(c){var d=Zt();return vw(d,Pt,c)}function vw(c,d,h){var m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=h;var O=c.baseQueue,R=m.pending;if(R!==null){if(O!==null){var L=O.next;O.next=R.next,R.next=L}d.baseQueue=O=R,m.pending=null}if(R=c.baseState,O===null)c.memoizedState=R;else{d=O.next;var J=L=null,ue=null,Oe=d,xe=!1;do{var Pe=Oe.lane&-536870913;if(Pe!==Oe.lane?(mt&Pe)===Pe:(Bu&Pe)===Pe){var Ee=Oe.revertLane;if(Ee===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Pe===mh&&(xe=!0);else if((Bu&Ee)===Ee){Oe=Oe.next,Ee===mh&&(xe=!0);continue}else Pe={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ue===null?(J=ue=Pe,L=R):ue=ue.next=Pe,st.lanes|=Ee,jc|=Ee;Pe=Oe.action,Td&&h(R,Pe),R=Oe.hasEagerState?Oe.eagerState:h(R,Pe)}else Ee={lane:Pe,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ue===null?(J=ue=Ee,L=R):ue=ue.next=Ee,st.lanes|=Pe,jc|=Pe;Oe=Oe.next}while(Oe!==null&&Oe!==d);if(ue===null?L=R:ue.next=J,!Qr(R,c.memoizedState)&&(tr=!0,xe&&(h=gh,h!==null)))throw h;c.memoizedState=R,c.baseState=L,c.baseQueue=ue,m.lastRenderedState=R}return O===null&&(m.lanes=0),[c.memoizedState,m.dispatch]}function bw(c){var d=Zt(),h=d.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var m=h.dispatch,O=h.pending,R=d.memoizedState;if(O!==null){h.pending=null;var L=O=O.next;do R=c(R,L.action),L=L.next;while(L!==O);Qr(R,d.memoizedState)||(tr=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),h.lastRenderedState=R}return[R,m]}function $P(c,d,h){var m=st,O=Zt(),R=_t;if(R){if(h===void 0)throw Error(i(407));h=h()}else h=d();var L=!Qr((Pt||O).memoizedState,h);if(L&&(O.memoizedState=h,tr=!0),O=O.queue,Ow(GP.bind(null,m,O,c),[c]),O.getSnapshot!==d||L||er!==null&&er.memoizedState.tag&1){if(m.flags|=2048,Sh(9,{destroy:void 0},VP.bind(null,m,O,h,d),null),Dt===null)throw Error(i(349));R||(Bu&127)!==0||FP(m,d,h)}return h}function FP(c,d,h){c.flags|=16384,c={getSnapshot:d,value:h},d=st.updateQueue,d===null?(d=uy(),st.updateQueue=d,d.stores=[c]):(h=d.stores,h===null?d.stores=[c]:h.push(c))}function VP(c,d,h,m){d.value=h,d.getSnapshot=m,HP(d)&&KP(c)}function GP(c,d,h){return h(function(){HP(d)&&KP(c)})}function HP(c){var d=c.getSnapshot;c=c.value;try{var h=d();return!Qr(c,h)}catch{return!0}}function KP(c){var d=bd(c,2);d!==null&&Fr(d,c,2)}function ww(c){var d=Tr();if(typeof c=="function"){var h=c;if(c=h(),Td){yt(!0);try{h()}finally{yt(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:c},d}function kP(c,d,h,m){return c.baseState=h,vw(c,Pt,typeof m=="function"?m:qu)}function JZ(c,d,h,m,O){if(py(c))throw Error(i(485));if(c=d.action,c!==null){var R={payload:O,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){R.listeners.push(L)}};$.T!==null?h(!0):R.isTransition=!1,m(R),h=d.pending,h===null?(R.next=d.pending=R,YP(d,R)):(R.next=h.next,d.pending=h.next=R)}}function YP(c,d){var h=d.action,m=d.payload,O=c.state;if(d.isTransition){var R=$.T,L={};$.T=L;try{var J=h(O,m),ue=$.S;ue!==null&&ue(L,J),WP(c,d,J)}catch(Oe){Sw(c,d,Oe)}finally{R!==null&&L.types!==null&&(R.types=L.types),$.T=R}}else try{R=h(O,m),WP(c,d,R)}catch(Oe){Sw(c,d,Oe)}}function WP(c,d,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){JP(c,d,m)},function(m){return Sw(c,d,m)}):JP(c,d,h)}function JP(c,d,h){d.status="fulfilled",d.value=h,ZP(d),c.state=h,d=c.pending,d!==null&&(h=d.next,h===d?c.pending=null:(h=h.next,d.next=h,YP(c,h)))}function Sw(c,d,h){var m=c.pending;if(c.pending=null,m!==null){m=m.next;do d.status="rejected",d.reason=h,ZP(d),d=d.next;while(d!==m)}c.action=null}function ZP(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function QP(c,d){return d}function XP(c,d){if(_t){var h=Dt.formState;if(h!==null){e:{var m=st;if(_t){if(Lt){t:{for(var O=Lt,R=Pn;O.nodeType!==8;){if(!R){O=null;break t}if(O=Nn(O.nextSibling),O===null){O=null;break t}}R=O.data,O=R==="F!"||R==="F"?O:null}if(O){Lt=Nn(O.nextSibling),m=O.data==="F!";break e}}_c(m)}m=!1}m&&(d=h[0])}}return h=Tr(),h.memoizedState=h.baseState=d,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QP,lastRenderedState:d},h.queue=m,h=yA.bind(null,st,m),m.dispatch=h,m=ww(!1),R=Cw.bind(null,st,!1,m.queue),m=Tr(),O={state:d,dispatch:null,action:c,pending:null},m.queue=O,h=JZ.bind(null,st,O,R,h),O.dispatch=h,m.memoizedState=c,[d,h,!1]}function eA(c){var d=Zt();return tA(d,Pt,c)}function tA(c,d,h){if(d=vw(c,d,QP)[0],c=dy(qu)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var m=$p(d)}catch(L){throw L===_h?ty:L}else m=d;d=Zt();var O=d.queue,R=O.dispatch;return h!==d.memoizedState&&(st.flags|=2048,Sh(9,{destroy:void 0},ZZ.bind(null,O,h),null)),[m,R,c]}function ZZ(c,d){c.action=d}function rA(c){var d=Zt(),h=Pt;if(h!==null)return tA(d,h,c);Zt(),d=d.memoizedState,h=Zt();var m=h.queue.dispatch;return h.memoizedState=c,[d,m,!1]}function Sh(c,d,h,m){return c={tag:c,create:h,deps:m,inst:d,next:null},d=st.updateQueue,d===null&&(d=uy(),st.updateQueue=d),h=d.lastEffect,h===null?d.lastEffect=c.next=c:(m=h.next,h.next=c,c.next=m,d.lastEffect=c),c}function nA(){return Zt().memoizedState}function fy(c,d,h,m){var O=Tr();st.flags|=c,O.memoizedState=Sh(1|d,{destroy:void 0},h,m===void 0?null:m)}function hy(c,d,h,m){var O=Zt();m=m===void 0?null:m;var R=O.memoizedState.inst;Pt!==null&&m!==null&&hw(m,Pt.memoizedState.deps)?O.memoizedState=Sh(d,R,h,m):(st.flags|=c,O.memoizedState=Sh(1|d,R,h,m))}function aA(c,d){fy(8390656,8,c,d)}function Ow(c,d){hy(2048,8,c,d)}function QZ(c){st.flags|=4;var d=st.updateQueue;if(d===null)d=uy(),st.updateQueue=d,d.events=[c];else{var h=d.events;h===null?d.events=[c]:h.push(c)}}function iA(c){var d=Zt().memoizedState;return QZ({ref:d,nextImpl:c}),function(){if((jt&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}function oA(c,d){return hy(4,2,c,d)}function sA(c,d){return hy(4,4,c,d)}function lA(c,d){if(typeof d=="function"){c=c();var h=d(c);return function(){typeof h=="function"?h():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function uA(c,d,h){h=h!=null?h.concat([c]):null,hy(4,4,lA.bind(null,d,c),h)}function Ew(){}function cA(c,d){var h=Zt();d=d===void 0?null:d;var m=h.memoizedState;return d!==null&&hw(d,m[1])?m[0]:(h.memoizedState=[c,d],c)}function dA(c,d){var h=Zt();d=d===void 0?null:d;var m=h.memoizedState;if(d!==null&&hw(d,m[1]))return m[0];if(m=c(),Td){yt(!0);try{c()}finally{yt(!1)}}return h.memoizedState=[m,d],m}function Rw(c,d,h){return h===void 0||(Bu&1073741824)!==0&&(mt&261930)===0?c.memoizedState=d:(c.memoizedState=h,c=fN(),st.lanes|=c,jc|=c,h)}function fA(c,d,h,m){return Qr(h,d)?h:vh.current!==null?(c=Rw(c,h,m),Qr(c,d)||(tr=!0),c):(Bu&42)===0||(Bu&1073741824)!==0&&(mt&261930)===0?(tr=!0,c.memoizedState=h):(c=fN(),st.lanes|=c,jc|=c,d)}function hA(c,d,h,m,O){var R=k.p;k.p=R!==0&&8>R?R:8;var L=$.T,J={};$.T=J,Cw(c,!1,d,h);try{var ue=O(),Oe=$.S;if(Oe!==null&&Oe(J,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var xe=kZ(ue,m);Fp(c,d,xe,an(c))}else Fp(c,d,m,an(c))}catch(Pe){Fp(c,d,{then:function(){},status:"rejected",reason:Pe},an())}finally{k.p=R,L!==null&&J.types!==null&&(L.types=J.types),$.T=L}}function XZ(){}function jw(c,d,h,m){if(c.tag!==5)throw Error(i(476));var O=pA(c).queue;hA(c,O,d,Q,h===null?XZ:function(){return mA(c),h(m)})}function pA(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:Q},next:null};var h={};return d.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:h},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function mA(c){var d=pA(c);d.next===null&&(d=c.alternate.memoizedState),Fp(c,d.next.queue,{},an())}function xw(){return vr(im)}function gA(){return Zt().memoizedState}function _A(){return Zt().memoizedState}function eQ(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var h=an();c=bc(h);var m=wc(d,c,h);m!==null&&(Fr(m,d,h),Bp(m,d,h)),d={cache:rw()},c.payload=d;return}d=d.return}}function tQ(c,d,h){var m=an();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},py(c)?vA(d,h):(h=H0(c,d,h,m),h!==null&&(Fr(h,c,m),bA(h,d,m)))}function yA(c,d,h){var m=an();Fp(c,d,h,m)}function Fp(c,d,h,m){var O={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(py(c))vA(d,O);else{var R=c.alternate;if(c.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var L=d.lastRenderedState,J=R(L,h);if(O.hasEagerState=!0,O.eagerState=J,Qr(J,L))return Y_(c,d,O,0),Dt===null&&k_(),!1}catch{}if(h=H0(c,d,O,m),h!==null)return Fr(h,c,m),bA(h,d,m),!0}return!1}function Cw(c,d,h,m){if(m={lane:2,revertLane:oS(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},py(c)){if(d)throw Error(i(479))}else d=H0(c,h,m,2),d!==null&&Fr(d,c,2)}function py(c){var d=c.alternate;return c===st||d!==null&&d===st}function vA(c,d){bh=sy=!0;var h=c.pending;h===null?d.next=d:(d.next=h.next,h.next=d),c.pending=d}function bA(c,d,h){if((h&4194048)!==0){var m=d.lanes;m&=c.pendingLanes,h|=m,d.lanes=h,ir(c,h)}}var Vp={readContext:vr,use:cy,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};Vp.useEffectEvent=Kt;var wA={readContext:vr,use:cy,useCallback:function(c,d){return Tr().memoizedState=[c,d===void 0?null:d],c},useContext:vr,useEffect:aA,useImperativeHandle:function(c,d,h){h=h!=null?h.concat([c]):null,fy(4194308,4,lA.bind(null,d,c),h)},useLayoutEffect:function(c,d){return fy(4194308,4,c,d)},useInsertionEffect:function(c,d){fy(4,2,c,d)},useMemo:function(c,d){var h=Tr();d=d===void 0?null:d;var m=c();if(Td){yt(!0);try{c()}finally{yt(!1)}}return h.memoizedState=[m,d],m},useReducer:function(c,d,h){var m=Tr();if(h!==void 0){var O=h(d);if(Td){yt(!0);try{h(d)}finally{yt(!1)}}}else O=d;return m.memoizedState=m.baseState=O,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:O},m.queue=c,c=c.dispatch=tQ.bind(null,st,c),[m.memoizedState,c]},useRef:function(c){var d=Tr();return c={current:c},d.memoizedState=c},useState:function(c){c=ww(c);var d=c.queue,h=yA.bind(null,st,d);return d.dispatch=h,[c.memoizedState,h]},useDebugValue:Ew,useDeferredValue:function(c,d){var h=Tr();return Rw(h,c,d)},useTransition:function(){var c=ww(!1);return c=hA.bind(null,st,c.queue,!0,!1),Tr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,h){var m=st,O=Tr();if(_t){if(h===void 0)throw Error(i(407));h=h()}else{if(h=d(),Dt===null)throw Error(i(349));(mt&127)!==0||FP(m,d,h)}O.memoizedState=h;var R={value:h,getSnapshot:d};return O.queue=R,aA(GP.bind(null,m,R,c),[c]),m.flags|=2048,Sh(9,{destroy:void 0},VP.bind(null,m,R,h,d),null),h},useId:function(){var c=Tr(),d=Dt.identifierPrefix;if(_t){var h=fu,m=du;h=(m&~(1<<32-ut(m)-1)).toString(32)+h,d="_"+d+"R_"+h,h=ly++,0<h&&(d+="H"+h.toString(32)),d+="_"}else h=YZ++,d="_"+d+"r_"+h.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:xw,useFormState:XP,useActionState:XP,useOptimistic:function(c){var d=Tr();d.memoizedState=d.baseState=c;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=h,d=Cw.bind(null,st,!0,h),h.dispatch=d,[c,d]},useMemoCache:yw,useCacheRefresh:function(){return Tr().memoizedState=eQ.bind(null,st)},useEffectEvent:function(c){var d=Tr(),h={impl:c};return d.memoizedState=h,function(){if((jt&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},Tw={readContext:vr,use:cy,useCallback:cA,useContext:vr,useEffect:Ow,useImperativeHandle:uA,useInsertionEffect:oA,useLayoutEffect:sA,useMemo:dA,useReducer:dy,useRef:nA,useState:function(){return dy(qu)},useDebugValue:Ew,useDeferredValue:function(c,d){var h=Zt();return fA(h,Pt.memoizedState,c,d)},useTransition:function(){var c=dy(qu)[0],d=Zt().memoizedState;return[typeof c=="boolean"?c:$p(c),d]},useSyncExternalStore:$P,useId:gA,useHostTransitionStatus:xw,useFormState:eA,useActionState:eA,useOptimistic:function(c,d){var h=Zt();return kP(h,Pt,c,d)},useMemoCache:yw,useCacheRefresh:_A};Tw.useEffectEvent=iA;var SA={readContext:vr,use:cy,useCallback:cA,useContext:vr,useEffect:Ow,useImperativeHandle:uA,useInsertionEffect:oA,useLayoutEffect:sA,useMemo:dA,useReducer:bw,useRef:nA,useState:function(){return bw(qu)},useDebugValue:Ew,useDeferredValue:function(c,d){var h=Zt();return Pt===null?Rw(h,c,d):fA(h,Pt.memoizedState,c,d)},useTransition:function(){var c=bw(qu)[0],d=Zt().memoizedState;return[typeof c=="boolean"?c:$p(c),d]},useSyncExternalStore:$P,useId:gA,useHostTransitionStatus:xw,useFormState:rA,useActionState:rA,useOptimistic:function(c,d){var h=Zt();return Pt!==null?kP(h,Pt,c,d):(h.baseState=c,[c,h.queue.dispatch])},useMemoCache:yw,useCacheRefresh:_A};SA.useEffectEvent=iA;function Mw(c,d,h,m){d=c.memoizedState,h=h(m,d),h=h==null?d:g({},d,h),c.memoizedState=h,c.lanes===0&&(c.updateQueue.baseState=h)}var Pw={enqueueSetState:function(c,d,h){c=c._reactInternals;var m=an(),O=bc(m);O.payload=d,h!=null&&(O.callback=h),d=wc(c,O,m),d!==null&&(Fr(d,c,m),Bp(d,c,m))},enqueueReplaceState:function(c,d,h){c=c._reactInternals;var m=an(),O=bc(m);O.tag=1,O.payload=d,h!=null&&(O.callback=h),d=wc(c,O,m),d!==null&&(Fr(d,c,m),Bp(d,c,m))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var h=an(),m=bc(h);m.tag=2,d!=null&&(m.callback=d),d=wc(c,m,h),d!==null&&(Fr(d,c,h),Bp(d,c,h))}};function OA(c,d,h,m,O,R,L){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(m,R,L):d.prototype&&d.prototype.isPureReactComponent?!Tp(h,m)||!Tp(O,R):!0}function EA(c,d,h,m){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(h,m),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(h,m),d.state!==c&&Pw.enqueueReplaceState(d,d.state,null)}function Md(c,d){var h=d;if("ref"in d){h={};for(var m in d)m!=="ref"&&(h[m]=d[m])}if(c=c.defaultProps){h===d&&(h=g({},h));for(var O in c)h[O]===void 0&&(h[O]=c[O])}return h}function RA(c){K_(c)}function jA(c){console.error(c)}function xA(c){K_(c)}function my(c,d){try{var h=c.onUncaughtError;h(d.value,{componentStack:d.stack})}catch(m){setTimeout(function(){throw m})}}function CA(c,d,h){try{var m=c.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Aw(c,d,h){return h=bc(h),h.tag=3,h.payload={element:null},h.callback=function(){my(c,d)},h}function TA(c){return c=bc(c),c.tag=3,c}function MA(c,d,h,m){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var R=m.value;c.payload=function(){return O(R)},c.callback=function(){CA(d,h,m)}}var L=h.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(c.callback=function(){CA(d,h,m),typeof O!="function"&&(xc===null?xc=new Set([this]):xc.add(this));var J=m.stack;this.componentDidCatch(m.value,{componentStack:J!==null?J:""})})}function rQ(c,d,h,m,O){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(d=h.alternate,d!==null&&ph(d,h,O,!0),h=en.current,h!==null){switch(h.tag){case 31:case 13:return An===null?xy():h.alternate===null&&kt===0&&(kt=3),h.flags&=-257,h.flags|=65536,h.lanes=O,m===ry?h.flags|=16384:(d=h.updateQueue,d===null?h.updateQueue=new Set([m]):d.add(m),nS(c,m,O)),!1;case 22:return h.flags|=65536,m===ry?h.flags|=16384:(d=h.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=d):(h=d.retryQueue,h===null?d.retryQueue=new Set([m]):h.add(m)),nS(c,m,O)),!1}throw Error(i(435,h.tag))}return nS(c,m,O),xy(),!1}if(_t)return d=en.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,m!==Z0&&(c=Error(i(422),{cause:m}),Ap(Cn(c,h)))):(m!==Z0&&(d=Error(i(423),{cause:m}),Ap(Cn(d,h))),c=c.current.alternate,c.flags|=65536,O&=-O,c.lanes|=O,m=Cn(m,h),O=Aw(c.stateNode,m,O),lw(c,O),kt!==4&&(kt=2)),!1;var R=Error(i(520),{cause:m});if(R=Cn(R,h),Zp===null?Zp=[R]:Zp.push(R),kt!==4&&(kt=2),d===null)return!0;m=Cn(m,h),h=d;do{switch(h.tag){case 3:return h.flags|=65536,c=O&-O,h.lanes|=c,c=Aw(h.stateNode,m,c),lw(h,c),!1;case 1:if(d=h.type,R=h.stateNode,(h.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(xc===null||!xc.has(R))))return h.flags|=65536,O&=-O,h.lanes|=O,O=TA(O),MA(O,c,h,m),lw(h,O),!1}h=h.return}while(h!==null);return!1}var Nw=Error(i(461)),tr=!1;function br(c,d,h,m){d.child=c===null?DP(d,null,h,m):Cd(d,c.child,h,m)}function PA(c,d,h,m,O){h=h.render;var R=d.ref;if("ref"in m){var L={};for(var J in m)J!=="ref"&&(L[J]=m[J])}else L=m;return Ed(d),m=pw(c,d,h,L,R,O),J=mw(),c!==null&&!tr?(gw(c,d,O),Lu(c,d,O)):(_t&&J&&W0(d),d.flags|=1,br(c,d,m,O),d.child)}function AA(c,d,h,m,O){if(c===null){var R=h.type;return typeof R=="function"&&!K0(R)&&R.defaultProps===void 0&&h.compare===null?(d.tag=15,d.type=R,NA(c,d,R,m,O)):(c=J_(h.type,null,m,d,d.mode,O),c.ref=d.ref,c.return=d,d.child=c)}if(R=c.child,!$w(c,O)){var L=R.memoizedProps;if(h=h.compare,h=h!==null?h:Tp,h(L,m)&&c.ref===d.ref)return Lu(c,d,O)}return d.flags|=1,c=Nu(R,m),c.ref=d.ref,c.return=d,d.child=c}function NA(c,d,h,m,O){if(c!==null){var R=c.memoizedProps;if(Tp(R,m)&&c.ref===d.ref)if(tr=!1,d.pendingProps=m=R,$w(c,O))(c.flags&131072)!==0&&(tr=!0);else return d.lanes=c.lanes,Lu(c,d,O)}return Dw(c,d,h,m,O)}function DA(c,d,h,m){var O=m.children,R=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((d.flags&128)!==0){if(R=R!==null?R.baseLanes|h:h,c!==null){for(m=d.child=c.child,O=0;m!==null;)O=O|m.lanes|m.childLanes,m=m.sibling;m=O&~R}else m=0,d.child=null;return IA(c,d,R,h,m)}if((h&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&ey(d,R!==null?R.cachePool:null),R!==null?BP(d,R):cw(),qP(d);else return m=d.lanes=536870912,IA(c,d,R!==null?R.baseLanes|h:h,h,m)}else R!==null?(ey(d,R.cachePool),BP(d,R),Oc(),d.memoizedState=null):(c!==null&&ey(d,null),cw(),Oc());return br(c,d,O,h),d.child}function Gp(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function IA(c,d,h,m,O){var R=aw();return R=R===null?null:{parent:Xt._currentValue,pool:R},d.memoizedState={baseLanes:h,cachePool:R},c!==null&&ey(d,null),cw(),qP(d),c!==null&&ph(c,d,m,!0),d.childLanes=O,null}function gy(c,d){return d=yy({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function zA(c,d,h){return Cd(d,c.child,null,h),c=gy(d,d.pendingProps),c.flags|=2,tn(d),d.memoizedState=null,c}function nQ(c,d,h){var m=d.pendingProps,O=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(_t){if(m.mode==="hidden")return c=gy(d,m),d.lanes=536870912,Gp(null,c);if(fw(d),(c=Lt)?(c=YN(c,Pn),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:mc!==null?{id:du,overflow:fu}:null,retryLane:536870912,hydrationErrors:null},h=vP(c),h.return=d,d.child=h,yr=d,Lt=null)):c=null,c===null)throw _c(d);return d.lanes=536870912,null}return gy(d,m)}var R=c.memoizedState;if(R!==null){var L=R.dehydrated;if(fw(d),O)if(d.flags&256)d.flags&=-257,d=zA(c,d,h);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(i(558));else if(tr||ph(c,d,h,!1),O=(h&c.childLanes)!==0,tr||O){if(m=Dt,m!==null&&(L=Cr(m,h),L!==0&&L!==R.retryLane))throw R.retryLane=L,bd(c,L),Fr(m,c,L),Nw;xy(),d=zA(c,d,h)}else c=R.treeContext,Lt=Nn(L.nextSibling),yr=d,_t=!0,gc=null,Pn=!1,c!==null&&SP(d,c),d=gy(d,m),d.flags|=4096;return d}return c=Nu(c.child,{mode:m.mode,children:m.children}),c.ref=d.ref,d.child=c,c.return=d,c}function _y(c,d){var h=d.ref;if(h===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(c===null||c.ref!==h)&&(d.flags|=4194816)}}function Dw(c,d,h,m,O){return Ed(d),h=pw(c,d,h,m,void 0,O),m=mw(),c!==null&&!tr?(gw(c,d,O),Lu(c,d,O)):(_t&&m&&W0(d),d.flags|=1,br(c,d,h,O),d.child)}function BA(c,d,h,m,O,R){return Ed(d),d.updateQueue=null,h=UP(d,m,h,O),LP(c),m=mw(),c!==null&&!tr?(gw(c,d,R),Lu(c,d,R)):(_t&&m&&W0(d),d.flags|=1,br(c,d,h,R),d.child)}function qA(c,d,h,m,O){if(Ed(d),d.stateNode===null){var R=ch,L=h.contextType;typeof L=="object"&&L!==null&&(R=vr(L)),R=new h(m,R),d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=Pw,d.stateNode=R,R._reactInternals=d,R=d.stateNode,R.props=m,R.state=d.memoizedState,R.refs={},ow(d),L=h.contextType,R.context=typeof L=="object"&&L!==null?vr(L):ch,R.state=d.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(Mw(d,h,L,m),R.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(L=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),L!==R.state&&Pw.enqueueReplaceState(R,R.state,null),Lp(d,m,R,O),qp(),R.state=d.memoizedState),typeof R.componentDidMount=="function"&&(d.flags|=4194308),m=!0}else if(c===null){R=d.stateNode;var J=d.memoizedProps,ue=Md(h,J);R.props=ue;var Oe=R.context,xe=h.contextType;L=ch,typeof xe=="object"&&xe!==null&&(L=vr(xe));var Pe=h.getDerivedStateFromProps;xe=typeof Pe=="function"||typeof R.getSnapshotBeforeUpdate=="function",J=d.pendingProps!==J,xe||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(J||Oe!==L)&&EA(d,R,m,L),vc=!1;var Ee=d.memoizedState;R.state=Ee,Lp(d,m,R,O),qp(),Oe=d.memoizedState,J||Ee!==Oe||vc?(typeof Pe=="function"&&(Mw(d,h,Pe,m),Oe=d.memoizedState),(ue=vc||OA(d,h,ue,m,Ee,Oe,L))?(xe||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(d.flags|=4194308)):(typeof R.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=m,d.memoizedState=Oe),R.props=m,R.state=Oe,R.context=L,m=ue):(typeof R.componentDidMount=="function"&&(d.flags|=4194308),m=!1)}else{R=d.stateNode,sw(c,d),L=d.memoizedProps,xe=Md(h,L),R.props=xe,Pe=d.pendingProps,Ee=R.context,Oe=h.contextType,ue=ch,typeof Oe=="object"&&Oe!==null&&(ue=vr(Oe)),J=h.getDerivedStateFromProps,(Oe=typeof J=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(L!==Pe||Ee!==ue)&&EA(d,R,m,ue),vc=!1,Ee=d.memoizedState,R.state=Ee,Lp(d,m,R,O),qp();var je=d.memoizedState;L!==Pe||Ee!==je||vc||c!==null&&c.dependencies!==null&&Q_(c.dependencies)?(typeof J=="function"&&(Mw(d,h,J,m),je=d.memoizedState),(xe=vc||OA(d,h,xe,m,Ee,je,ue)||c!==null&&c.dependencies!==null&&Q_(c.dependencies))?(Oe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,je,ue),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,je,ue)),typeof R.componentDidUpdate=="function"&&(d.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof R.componentDidUpdate!="function"||L===c.memoizedProps&&Ee===c.memoizedState||(d.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&Ee===c.memoizedState||(d.flags|=1024),d.memoizedProps=m,d.memoizedState=je),R.props=m,R.state=je,R.context=ue,m=xe):(typeof R.componentDidUpdate!="function"||L===c.memoizedProps&&Ee===c.memoizedState||(d.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&Ee===c.memoizedState||(d.flags|=1024),m=!1)}return R=m,_y(c,d),m=(d.flags&128)!==0,R||m?(R=d.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:R.render(),d.flags|=1,c!==null&&m?(d.child=Cd(d,c.child,null,O),d.child=Cd(d,null,h,O)):br(c,d,h,O),d.memoizedState=R.state,c=d.child):c=Lu(c,d,O),c}function LA(c,d,h,m){return Sd(),d.flags|=256,br(c,d,h,m),d.child}var Iw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zw(c){return{baseLanes:c,cachePool:CP()}}function Bw(c,d,h){return c=c!==null?c.childLanes&~h:0,d&&(c|=nn),c}function UA(c,d,h){var m=d.pendingProps,O=!1,R=(d.flags&128)!==0,L;if((L=R)||(L=c!==null&&c.memoizedState===null?!1:(Jt.current&2)!==0),L&&(O=!0,d.flags&=-129),L=(d.flags&32)!==0,d.flags&=-33,c===null){if(_t){if(O?Sc(d):Oc(),(c=Lt)?(c=YN(c,Pn),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:mc!==null?{id:du,overflow:fu}:null,retryLane:536870912,hydrationErrors:null},h=vP(c),h.return=d,d.child=h,yr=d,Lt=null)):c=null,c===null)throw _c(d);return vS(c)?d.lanes=32:d.lanes=536870912,null}var J=m.children;return m=m.fallback,O?(Oc(),O=d.mode,J=yy({mode:"hidden",children:J},O),m=wd(m,O,h,null),J.return=d,m.return=d,J.sibling=m,d.child=J,m=d.child,m.memoizedState=zw(h),m.childLanes=Bw(c,L,h),d.memoizedState=Iw,Gp(null,m)):(Sc(d),qw(d,J))}var ue=c.memoizedState;if(ue!==null&&(J=ue.dehydrated,J!==null)){if(R)d.flags&256?(Sc(d),d.flags&=-257,d=Lw(c,d,h)):d.memoizedState!==null?(Oc(),d.child=c.child,d.flags|=128,d=null):(Oc(),J=m.fallback,O=d.mode,m=yy({mode:"visible",children:m.children},O),J=wd(J,O,h,null),J.flags|=2,m.return=d,J.return=d,m.sibling=J,d.child=m,Cd(d,c.child,null,h),m=d.child,m.memoizedState=zw(h),m.childLanes=Bw(c,L,h),d.memoizedState=Iw,d=Gp(null,m));else if(Sc(d),vS(J)){if(L=J.nextSibling&&J.nextSibling.dataset,L)var Oe=L.dgst;L=Oe,m=Error(i(419)),m.stack="",m.digest=L,Ap({value:m,source:null,stack:null}),d=Lw(c,d,h)}else if(tr||ph(c,d,h,!1),L=(h&c.childLanes)!==0,tr||L){if(L=Dt,L!==null&&(m=Cr(L,h),m!==0&&m!==ue.retryLane))throw ue.retryLane=m,bd(c,m),Fr(L,c,m),Nw;yS(J)||xy(),d=Lw(c,d,h)}else yS(J)?(d.flags|=192,d.child=c.child,d=null):(c=ue.treeContext,Lt=Nn(J.nextSibling),yr=d,_t=!0,gc=null,Pn=!1,c!==null&&SP(d,c),d=qw(d,m.children),d.flags|=4096);return d}return O?(Oc(),J=m.fallback,O=d.mode,ue=c.child,Oe=ue.sibling,m=Nu(ue,{mode:"hidden",children:m.children}),m.subtreeFlags=ue.subtreeFlags&65011712,Oe!==null?J=Nu(Oe,J):(J=wd(J,O,h,null),J.flags|=2),J.return=d,m.return=d,m.sibling=J,d.child=m,Gp(null,m),m=d.child,J=c.child.memoizedState,J===null?J=zw(h):(O=J.cachePool,O!==null?(ue=Xt._currentValue,O=O.parent!==ue?{parent:ue,pool:ue}:O):O=CP(),J={baseLanes:J.baseLanes|h,cachePool:O}),m.memoizedState=J,m.childLanes=Bw(c,L,h),d.memoizedState=Iw,Gp(c.child,m)):(Sc(d),h=c.child,c=h.sibling,h=Nu(h,{mode:"visible",children:m.children}),h.return=d,h.sibling=null,c!==null&&(L=d.deletions,L===null?(d.deletions=[c],d.flags|=16):L.push(c)),d.child=h,d.memoizedState=null,h)}function qw(c,d){return d=yy({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function yy(c,d){return c=Xr(22,c,null,d),c.lanes=0,c}function Lw(c,d,h){return Cd(d,c.child,null,h),c=qw(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function $A(c,d,h){c.lanes|=d;var m=c.alternate;m!==null&&(m.lanes|=d),ew(c.return,d,h)}function Uw(c,d,h,m,O,R){var L=c.memoizedState;L===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:O,treeForkCount:R}:(L.isBackwards=d,L.rendering=null,L.renderingStartTime=0,L.last=m,L.tail=h,L.tailMode=O,L.treeForkCount=R)}function FA(c,d,h){var m=d.pendingProps,O=m.revealOrder,R=m.tail;m=m.children;var L=Jt.current,J=(L&2)!==0;if(J?(L=L&1|2,d.flags|=128):L&=1,ee(Jt,L),br(c,d,m,h),m=_t?Pp:0,!J&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&$A(c,h,d);else if(c.tag===19)$A(c,h,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(O){case"forwards":for(h=d.child,O=null;h!==null;)c=h.alternate,c!==null&&oy(c)===null&&(O=h),h=h.sibling;h=O,h===null?(O=d.child,d.child=null):(O=h.sibling,h.sibling=null),Uw(d,!1,O,h,R,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=d.child,d.child=null;O!==null;){if(c=O.alternate,c!==null&&oy(c)===null){d.child=O;break}c=O.sibling,O.sibling=h,h=O,O=c}Uw(d,!0,h,null,R,m);break;case"together":Uw(d,!1,null,null,void 0,m);break;default:d.memoizedState=null}return d.child}function Lu(c,d,h){if(c!==null&&(d.dependencies=c.dependencies),jc|=d.lanes,(h&d.childLanes)===0)if(c!==null){if(ph(c,d,h,!1),(h&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(i(153));if(d.child!==null){for(c=d.child,h=Nu(c,c.pendingProps),d.child=h,h.return=d;c.sibling!==null;)c=c.sibling,h=h.sibling=Nu(c,c.pendingProps),h.return=d;h.sibling=null}return d.child}function $w(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Q_(c)))}function aQ(c,d,h){switch(d.tag){case 3:X(d,d.stateNode.containerInfo),yc(d,Xt,c.memoizedState.cache),Sd();break;case 27:case 5:le(d);break;case 4:X(d,d.stateNode.containerInfo);break;case 10:yc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,fw(d),null;break;case 13:var m=d.memoizedState;if(m!==null)return m.dehydrated!==null?(Sc(d),d.flags|=128,null):(h&d.child.childLanes)!==0?UA(c,d,h):(Sc(d),c=Lu(c,d,h),c!==null?c.sibling:null);Sc(d);break;case 19:var O=(c.flags&128)!==0;if(m=(h&d.childLanes)!==0,m||(ph(c,d,h,!1),m=(h&d.childLanes)!==0),O){if(m)return FA(c,d,h);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),ee(Jt,Jt.current),m)break;return null;case 22:return d.lanes=0,DA(c,d,h,d.pendingProps);case 24:yc(d,Xt,c.memoizedState.cache)}return Lu(c,d,h)}function VA(c,d,h){if(c!==null)if(c.memoizedProps!==d.pendingProps)tr=!0;else{if(!$w(c,h)&&(d.flags&128)===0)return tr=!1,aQ(c,d,h);tr=(c.flags&131072)!==0}else tr=!1,_t&&(d.flags&1048576)!==0&&wP(d,Pp,d.index);switch(d.lanes=0,d.tag){case 16:e:{var m=d.pendingProps;if(c=jd(d.elementType),d.type=c,typeof c=="function")K0(c)?(m=Md(c,m),d.tag=1,d=qA(null,d,c,m,h)):(d.tag=0,d=Dw(null,d,c,m,h));else{if(c!=null){var O=c.$$typeof;if(O===A){d.tag=11,d=PA(null,d,c,m,h);break e}else if(O===D){d.tag=14,d=AA(null,d,c,m,h);break e}}throw d=Y(c)||c,Error(i(306,d,""))}}return d;case 0:return Dw(c,d,d.type,d.pendingProps,h);case 1:return m=d.type,O=Md(m,d.pendingProps),qA(c,d,m,O,h);case 3:e:{if(X(d,d.stateNode.containerInfo),c===null)throw Error(i(387));m=d.pendingProps;var R=d.memoizedState;O=R.element,sw(c,d),Lp(d,m,null,h);var L=d.memoizedState;if(m=L.cache,yc(d,Xt,m),m!==R.cache&&tw(d,[Xt],h,!0),qp(),m=L.element,R.isDehydrated)if(R={element:m,isDehydrated:!1,cache:L.cache},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){d=LA(c,d,m,h);break e}else if(m!==O){O=Cn(Error(i(424)),d),Ap(O),d=LA(c,d,m,h);break e}else for(c=d.stateNode.containerInfo,c.nodeType===9?c=c.body:c=c.nodeName==="HTML"?c.ownerDocument.body:c,Lt=Nn(c.firstChild),yr=d,_t=!0,gc=null,Pn=!0,h=DP(d,null,m,h),d.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Sd(),m===O){d=Lu(c,d,h);break e}br(c,d,m,h)}d=d.child}return d;case 26:return _y(c,d),c===null?(h=eD(d.type,null,d.pendingProps,null))?d.memoizedState=h:_t||(h=d.type,c=d.pendingProps,m=Dy(V.current).createElement(h),m[Qt]=d,m[dr]=c,wr(m,h,c),fr(m),d.stateNode=m):d.memoizedState=eD(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return le(d),c===null&&_t&&(m=d.stateNode=ZN(d.type,d.pendingProps,V.current),yr=d,Pn=!0,O=Lt,Pc(d.type)?(bS=O,Lt=Nn(m.firstChild)):Lt=O),br(c,d,d.pendingProps.children,h),_y(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&_t&&((O=m=Lt)&&(m=DQ(m,d.type,d.pendingProps,Pn),m!==null?(d.stateNode=m,yr=d,Lt=Nn(m.firstChild),Pn=!1,O=!0):O=!1),O||_c(d)),le(d),O=d.type,R=d.pendingProps,L=c!==null?c.memoizedProps:null,m=R.children,mS(O,R)?m=null:L!==null&&mS(O,L)&&(d.flags|=32),d.memoizedState!==null&&(O=pw(c,d,WZ,null,null,h),im._currentValue=O),_y(c,d),br(c,d,m,h),d.child;case 6:return c===null&&_t&&((c=h=Lt)&&(h=IQ(h,d.pendingProps,Pn),h!==null?(d.stateNode=h,yr=d,Lt=null,c=!0):c=!1),c||_c(d)),null;case 13:return UA(c,d,h);case 4:return X(d,d.stateNode.containerInfo),m=d.pendingProps,c===null?d.child=Cd(d,null,m,h):br(c,d,m,h),d.child;case 11:return PA(c,d,d.type,d.pendingProps,h);case 7:return br(c,d,d.pendingProps,h),d.child;case 8:return br(c,d,d.pendingProps.children,h),d.child;case 12:return br(c,d,d.pendingProps.children,h),d.child;case 10:return m=d.pendingProps,yc(d,d.type,m.value),br(c,d,m.children,h),d.child;case 9:return O=d.type._context,m=d.pendingProps.children,Ed(d),O=vr(O),m=m(O),d.flags|=1,br(c,d,m,h),d.child;case 14:return AA(c,d,d.type,d.pendingProps,h);case 15:return NA(c,d,d.type,d.pendingProps,h);case 19:return FA(c,d,h);case 31:return nQ(c,d,h);case 22:return DA(c,d,h,d.pendingProps);case 24:return Ed(d),m=vr(Xt),c===null?(O=aw(),O===null&&(O=Dt,R=rw(),O.pooledCache=R,R.refCount++,R!==null&&(O.pooledCacheLanes|=h),O=R),d.memoizedState={parent:m,cache:O},ow(d),yc(d,Xt,O)):((c.lanes&h)!==0&&(sw(c,d),Lp(d,null,null,h),qp()),O=c.memoizedState,R=d.memoizedState,O.parent!==m?(O={parent:m,cache:m},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),yc(d,Xt,m)):(m=R.cache,yc(d,Xt,m),m!==O.cache&&tw(d,[Xt],h,!0))),br(c,d,d.pendingProps.children,h),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function Uu(c){c.flags|=4}function Fw(c,d,h,m,O){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(O&335544128)===O)if(c.stateNode.complete)c.flags|=8192;else if(gN())c.flags|=8192;else throw xd=ry,iw}else c.flags&=-16777217}function GA(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!iD(d))if(gN())c.flags|=8192;else throw xd=ry,iw}function vy(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?te():536870912,c.lanes|=d,jh|=d)}function Hp(c,d){if(!_t)switch(c.tailMode){case"hidden":d=c.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?c.tail=null:h.sibling=null;break;case"collapsed":h=c.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:m.sibling=null}}function Ut(c){var d=c.alternate!==null&&c.alternate.child===c.child,h=0,m=0;if(d)for(var O=c.child;O!==null;)h|=O.lanes|O.childLanes,m|=O.subtreeFlags&65011712,m|=O.flags&65011712,O.return=c,O=O.sibling;else for(O=c.child;O!==null;)h|=O.lanes|O.childLanes,m|=O.subtreeFlags,m|=O.flags,O.return=c,O=O.sibling;return c.subtreeFlags|=m,c.childLanes=h,d}function iQ(c,d,h){var m=d.pendingProps;switch(J0(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(d),null;case 1:return Ut(d),null;case 3:return h=d.stateNode,m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),zu(Xt),Z(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(c===null||c.child===null)&&(hh(d)?Uu(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Q0())),Ut(d),null;case 26:var O=d.type,R=d.memoizedState;return c===null?(Uu(d),R!==null?(Ut(d),GA(d,R)):(Ut(d),Fw(d,O,null,m,h))):R?R!==c.memoizedState?(Uu(d),Ut(d),GA(d,R)):(Ut(d),d.flags&=-16777217):(c=c.memoizedProps,c!==m&&Uu(d),Ut(d),Fw(d,O,c,m,h)),null;case 27:if(me(d),h=V.current,O=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==m&&Uu(d);else{if(!m){if(d.stateNode===null)throw Error(i(166));return Ut(d),null}c=fe.current,hh(d)?OP(d):(c=ZN(O,m,h),d.stateNode=c,Uu(d))}return Ut(d),null;case 5:if(me(d),O=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==m&&Uu(d);else{if(!m){if(d.stateNode===null)throw Error(i(166));return Ut(d),null}if(R=fe.current,hh(d))OP(d);else{var L=Dy(V.current);switch(R){case 1:R=L.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:R=L.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":R=L.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":R=L.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":R=L.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof m.is=="string"?L.createElement("select",{is:m.is}):L.createElement("select"),m.multiple?R.multiple=!0:m.size&&(R.size=m.size);break;default:R=typeof m.is=="string"?L.createElement(O,{is:m.is}):L.createElement(O)}}R[Qt]=d,R[dr]=m;e:for(L=d.child;L!==null;){if(L.tag===5||L.tag===6)R.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===d)break e;for(;L.sibling===null;){if(L.return===null||L.return===d)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}d.stateNode=R;e:switch(wr(R,O,m),O){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Uu(d)}}return Ut(d),Fw(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,h),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==m&&Uu(d);else{if(typeof m!="string"&&d.stateNode===null)throw Error(i(166));if(c=V.current,hh(d)){if(c=d.stateNode,h=d.memoizedProps,m=null,O=yr,O!==null)switch(O.tag){case 27:case 5:m=O.memoizedProps}c[Qt]=d,c=!!(c.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||UN(c.nodeValue,h)),c||_c(d,!0)}else c=Dy(c).createTextNode(m),c[Qt]=d,d.stateNode=c}return Ut(d),null;case 31:if(h=d.memoizedState,c===null||c.memoizedState!==null){if(m=hh(d),h!==null){if(c===null){if(!m)throw Error(i(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(557));c[Qt]=d}else Sd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ut(d),c=!1}else h=Q0(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=h),c=!0;if(!c)return d.flags&256?(tn(d),d):(tn(d),null);if((d.flags&128)!==0)throw Error(i(558))}return Ut(d),null;case 13:if(m=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(O=hh(d),m!==null&&m.dehydrated!==null){if(c===null){if(!O)throw Error(i(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(i(317));O[Qt]=d}else Sd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ut(d),O=!1}else O=Q0(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(tn(d),d):(tn(d),null)}return tn(d),(d.flags&128)!==0?(d.lanes=h,d):(h=m!==null,c=c!==null&&c.memoizedState!==null,h&&(m=d.child,O=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(O=m.alternate.memoizedState.cachePool.pool),R=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(R=m.memoizedState.cachePool.pool),R!==O&&(m.flags|=2048)),h!==c&&h&&(d.child.flags|=8192),vy(d,d.updateQueue),Ut(d),null);case 4:return Z(),c===null&&cS(d.stateNode.containerInfo),Ut(d),null;case 10:return zu(d.type),Ut(d),null;case 19:if(K(Jt),m=d.memoizedState,m===null)return Ut(d),null;if(O=(d.flags&128)!==0,R=m.rendering,R===null)if(O)Hp(m,!1);else{if(kt!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(R=oy(c),R!==null){for(d.flags|=128,Hp(m,!1),c=R.updateQueue,d.updateQueue=c,vy(d,c),d.subtreeFlags=0,c=h,h=d.child;h!==null;)yP(h,c),h=h.sibling;return ee(Jt,Jt.current&1|2),_t&&Du(d,m.treeForkCount),d.child}c=c.sibling}m.tail!==null&&Fe()>Ey&&(d.flags|=128,O=!0,Hp(m,!1),d.lanes=4194304)}else{if(!O)if(c=oy(R),c!==null){if(d.flags|=128,O=!0,c=c.updateQueue,d.updateQueue=c,vy(d,c),Hp(m,!0),m.tail===null&&m.tailMode==="hidden"&&!R.alternate&&!_t)return Ut(d),null}else 2*Fe()-m.renderingStartTime>Ey&&h!==536870912&&(d.flags|=128,O=!0,Hp(m,!1),d.lanes=4194304);m.isBackwards?(R.sibling=d.child,d.child=R):(c=m.last,c!==null?c.sibling=R:d.child=R,m.last=R)}return m.tail!==null?(c=m.tail,m.rendering=c,m.tail=c.sibling,m.renderingStartTime=Fe(),c.sibling=null,h=Jt.current,ee(Jt,O?h&1|2:h&1),_t&&Du(d,m.treeForkCount),c):(Ut(d),null);case 22:case 23:return tn(d),dw(),m=d.memoizedState!==null,c!==null?c.memoizedState!==null!==m&&(d.flags|=8192):m&&(d.flags|=8192),m?(h&536870912)!==0&&(d.flags&128)===0&&(Ut(d),d.subtreeFlags&6&&(d.flags|=8192)):Ut(d),h=d.updateQueue,h!==null&&vy(d,h.retryQueue),h=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),m=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(m=d.memoizedState.cachePool.pool),m!==h&&(d.flags|=2048),c!==null&&K(Rd),null;case 24:return h=null,c!==null&&(h=c.memoizedState.cache),d.memoizedState.cache!==h&&(d.flags|=2048),zu(Xt),Ut(d),null;case 25:return null;case 30:return null}throw Error(i(156,d.tag))}function oQ(c,d){switch(J0(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return zu(Xt),Z(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return me(d),null;case 31:if(d.memoizedState!==null){if(tn(d),d.alternate===null)throw Error(i(340));Sd()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(tn(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(i(340));Sd()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return K(Jt),null;case 4:return Z(),null;case 10:return zu(d.type),null;case 22:case 23:return tn(d),dw(),c!==null&&K(Rd),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return zu(Xt),null;case 25:return null;default:return null}}function HA(c,d){switch(J0(d),d.tag){case 3:zu(Xt),Z();break;case 26:case 27:case 5:me(d);break;case 4:Z();break;case 31:d.memoizedState!==null&&tn(d);break;case 13:tn(d);break;case 19:K(Jt);break;case 10:zu(d.type);break;case 22:case 23:tn(d),dw(),c!==null&&K(Rd);break;case 24:zu(Xt)}}function Kp(c,d){try{var h=d.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var O=m.next;h=O;do{if((h.tag&c)===c){m=void 0;var R=h.create,L=h.inst;m=R(),L.destroy=m}h=h.next}while(h!==O)}}catch(J){Tt(d,d.return,J)}}function Ec(c,d,h){try{var m=d.updateQueue,O=m!==null?m.lastEffect:null;if(O!==null){var R=O.next;m=R;do{if((m.tag&c)===c){var L=m.inst,J=L.destroy;if(J!==void 0){L.destroy=void 0,O=d;var ue=h,Oe=J;try{Oe()}catch(xe){Tt(O,ue,xe)}}}m=m.next}while(m!==R)}}catch(xe){Tt(d,d.return,xe)}}function KA(c){var d=c.updateQueue;if(d!==null){var h=c.stateNode;try{zP(d,h)}catch(m){Tt(c,c.return,m)}}}function kA(c,d,h){h.props=Md(c.type,c.memoizedProps),h.state=c.memoizedState;try{h.componentWillUnmount()}catch(m){Tt(c,d,m)}}function kp(c,d){try{var h=c.ref;if(h!==null){switch(c.tag){case 26:case 27:case 5:var m=c.stateNode;break;case 30:m=c.stateNode;break;default:m=c.stateNode}typeof h=="function"?c.refCleanup=h(m):h.current=m}}catch(O){Tt(c,d,O)}}function hu(c,d){var h=c.ref,m=c.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(O){Tt(c,d,O)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){Tt(c,d,O)}else h.current=null}function YA(c){var d=c.type,h=c.memoizedProps,m=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(O){Tt(c,c.return,O)}}function Vw(c,d,h){try{var m=c.stateNode;CQ(m,c.type,h,d),m[dr]=d}catch(O){Tt(c,c.return,O)}}function WA(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Pc(c.type)||c.tag===4}function Gw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||WA(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Pc(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Hw(c,d,h){var m=c.tag;if(m===5||m===6)c=c.stateNode,d?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(c,d):(d=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,d.appendChild(c),h=h._reactRootContainer,h!=null||d.onclick!==null||(d.onclick=Pu));else if(m!==4&&(m===27&&Pc(c.type)&&(h=c.stateNode,d=null),c=c.child,c!==null))for(Hw(c,d,h),c=c.sibling;c!==null;)Hw(c,d,h),c=c.sibling}function by(c,d,h){var m=c.tag;if(m===5||m===6)c=c.stateNode,d?h.insertBefore(c,d):h.appendChild(c);else if(m!==4&&(m===27&&Pc(c.type)&&(h=c.stateNode),c=c.child,c!==null))for(by(c,d,h),c=c.sibling;c!==null;)by(c,d,h),c=c.sibling}function JA(c){var d=c.stateNode,h=c.memoizedProps;try{for(var m=c.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);wr(d,m,h),d[Qt]=c,d[dr]=h}catch(R){Tt(c,c.return,R)}}var $u=!1,rr=!1,Kw=!1,ZA=typeof WeakSet=="function"?WeakSet:Set,hr=null;function sQ(c,d){if(c=c.containerInfo,hS=$y,c=uP(c),L0(c)){if("selectionStart"in c)var h={start:c.selectionStart,end:c.selectionEnd};else e:{h=(h=c.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var O=m.anchorOffset,R=m.focusNode;m=m.focusOffset;try{h.nodeType,R.nodeType}catch{h=null;break e}var L=0,J=-1,ue=-1,Oe=0,xe=0,Pe=c,Ee=null;t:for(;;){for(var je;Pe!==h||O!==0&&Pe.nodeType!==3||(J=L+O),Pe!==R||m!==0&&Pe.nodeType!==3||(ue=L+m),Pe.nodeType===3&&(L+=Pe.nodeValue.length),(je=Pe.firstChild)!==null;)Ee=Pe,Pe=je;for(;;){if(Pe===c)break t;if(Ee===h&&++Oe===O&&(J=L),Ee===R&&++xe===m&&(ue=L),(je=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=je}h=J===-1||ue===-1?null:{start:J,end:ue}}else h=null}h=h||{start:0,end:0}}else h=null;for(pS={focusedElem:c,selectionRange:h},$y=!1,hr=d;hr!==null;)if(d=hr,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,hr=c;else for(;hr!==null;){switch(d=hr,R=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(h=0;h<c.length;h++)O=c[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&R!==null){c=void 0,h=d,O=R.memoizedProps,R=R.memoizedState,m=h.stateNode;try{var He=Md(h.type,O);c=m.getSnapshotBeforeUpdate(He,R),m.__reactInternalSnapshotBeforeUpdate=c}catch(rt){Tt(h,h.return,rt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,h=c.nodeType,h===9)_S(c);else if(h===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":_S(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=d.sibling,c!==null){c.return=d.return,hr=c;break}hr=d.return}}function QA(c,d,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Vu(c,h),m&4&&Kp(5,h);break;case 1:if(Vu(c,h),m&4)if(c=h.stateNode,d===null)try{c.componentDidMount()}catch(L){Tt(h,h.return,L)}else{var O=Md(h.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(O,d,c.__reactInternalSnapshotBeforeUpdate)}catch(L){Tt(h,h.return,L)}}m&64&&KA(h),m&512&&kp(h,h.return);break;case 3:if(Vu(c,h),m&64&&(c=h.updateQueue,c!==null)){if(d=null,h.child!==null)switch(h.child.tag){case 27:case 5:d=h.child.stateNode;break;case 1:d=h.child.stateNode}try{zP(c,d)}catch(L){Tt(h,h.return,L)}}break;case 27:d===null&&m&4&&JA(h);case 26:case 5:Vu(c,h),d===null&&m&4&&YA(h),m&512&&kp(h,h.return);break;case 12:Vu(c,h);break;case 31:Vu(c,h),m&4&&tN(c,h);break;case 13:Vu(c,h),m&4&&rN(c,h),m&64&&(c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(h=gQ.bind(null,h),zQ(c,h))));break;case 22:if(m=h.memoizedState!==null||$u,!m){d=d!==null&&d.memoizedState!==null||rr,O=$u;var R=rr;$u=m,(rr=d)&&!R?Gu(c,h,(h.subtreeFlags&8772)!==0):Vu(c,h),$u=O,rr=R}break;case 30:break;default:Vu(c,h)}}function XA(c){var d=c.alternate;d!==null&&(c.alternate=null,XA(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&S0(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var $t=null,qr=!1;function Fu(c,d,h){for(h=h.child;h!==null;)eN(c,d,h),h=h.sibling}function eN(c,d,h){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Te,h)}catch{}switch(h.tag){case 26:rr||hu(h,d),Fu(c,d,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:rr||hu(h,d);var m=$t,O=qr;Pc(h.type)&&($t=h.stateNode,qr=!1),Fu(c,d,h),rm(h.stateNode),$t=m,qr=O;break;case 5:rr||hu(h,d);case 6:if(m=$t,O=qr,$t=null,Fu(c,d,h),$t=m,qr=O,$t!==null)if(qr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(h.stateNode)}catch(R){Tt(h,d,R)}else try{$t.removeChild(h.stateNode)}catch(R){Tt(h,d,R)}break;case 18:$t!==null&&(qr?(c=$t,KN(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,h.stateNode),Dh(c)):KN($t,h.stateNode));break;case 4:m=$t,O=qr,$t=h.stateNode.containerInfo,qr=!0,Fu(c,d,h),$t=m,qr=O;break;case 0:case 11:case 14:case 15:Ec(2,h,d),rr||Ec(4,h,d),Fu(c,d,h);break;case 1:rr||(hu(h,d),m=h.stateNode,typeof m.componentWillUnmount=="function"&&kA(h,d,m)),Fu(c,d,h);break;case 21:Fu(c,d,h);break;case 22:rr=(m=rr)||h.memoizedState!==null,Fu(c,d,h),rr=m;break;default:Fu(c,d,h)}}function tN(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Dh(c)}catch(h){Tt(d,d.return,h)}}}function rN(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Dh(c)}catch(h){Tt(d,d.return,h)}}function lQ(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new ZA),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new ZA),d;default:throw Error(i(435,c.tag))}}function wy(c,d){var h=lQ(c);d.forEach(function(m){if(!h.has(m)){h.add(m);var O=_Q.bind(null,c,m);m.then(O,O)}})}function Lr(c,d){var h=d.deletions;if(h!==null)for(var m=0;m<h.length;m++){var O=h[m],R=c,L=d,J=L;e:for(;J!==null;){switch(J.tag){case 27:if(Pc(J.type)){$t=J.stateNode,qr=!1;break e}break;case 5:$t=J.stateNode,qr=!1;break e;case 3:case 4:$t=J.stateNode.containerInfo,qr=!0;break e}J=J.return}if($t===null)throw Error(i(160));eN(R,L,O),$t=null,qr=!1,R=O.alternate,R!==null&&(R.return=null),O.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)nN(d,c),d=d.sibling}var Gn=null;function nN(c,d){var h=c.alternate,m=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Lr(d,c),Ur(c),m&4&&(Ec(3,c,c.return),Kp(3,c),Ec(5,c,c.return));break;case 1:Lr(d,c),Ur(c),m&512&&(rr||h===null||hu(h,h.return)),m&64&&$u&&(c=c.updateQueue,c!==null&&(m=c.callbacks,m!==null&&(h=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var O=Gn;if(Lr(d,c),Ur(c),m&512&&(rr||h===null||hu(h,h.return)),m&4){var R=h!==null?h.memoizedState:null;if(m=c.memoizedState,h===null)if(m===null)if(c.stateNode===null){e:{m=c.type,h=c.memoizedProps,O=O.ownerDocument||O;t:switch(m){case"title":R=O.getElementsByTagName("title")[0],(!R||R[bp]||R[Qt]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=O.createElement(m),O.head.insertBefore(R,O.querySelector("head > title"))),wr(R,m,h),R[Qt]=c,fr(R),m=R;break e;case"link":var L=nD("link","href",O).get(m+(h.href||""));if(L){for(var J=0;J<L.length;J++)if(R=L[J],R.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&R.getAttribute("rel")===(h.rel==null?null:h.rel)&&R.getAttribute("title")===(h.title==null?null:h.title)&&R.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){L.splice(J,1);break t}}R=O.createElement(m),wr(R,m,h),O.head.appendChild(R);break;case"meta":if(L=nD("meta","content",O).get(m+(h.content||""))){for(J=0;J<L.length;J++)if(R=L[J],R.getAttribute("content")===(h.content==null?null:""+h.content)&&R.getAttribute("name")===(h.name==null?null:h.name)&&R.getAttribute("property")===(h.property==null?null:h.property)&&R.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&R.getAttribute("charset")===(h.charSet==null?null:h.charSet)){L.splice(J,1);break t}}R=O.createElement(m),wr(R,m,h),O.head.appendChild(R);break;default:throw Error(i(468,m))}R[Qt]=c,fr(R),m=R}c.stateNode=m}else aD(O,c.type,c.stateNode);else c.stateNode=rD(O,m,c.memoizedProps);else R!==m?(R===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):R.count--,m===null?aD(O,c.type,c.stateNode):rD(O,m,c.memoizedProps)):m===null&&c.stateNode!==null&&Vw(c,c.memoizedProps,h.memoizedProps)}break;case 27:Lr(d,c),Ur(c),m&512&&(rr||h===null||hu(h,h.return)),h!==null&&m&4&&Vw(c,c.memoizedProps,h.memoizedProps);break;case 5:if(Lr(d,c),Ur(c),m&512&&(rr||h===null||hu(h,h.return)),c.flags&32){O=c.stateNode;try{nh(O,"")}catch(He){Tt(c,c.return,He)}}m&4&&c.stateNode!=null&&(O=c.memoizedProps,Vw(c,O,h!==null?h.memoizedProps:O)),m&1024&&(Kw=!0);break;case 6:if(Lr(d,c),Ur(c),m&4){if(c.stateNode===null)throw Error(i(162));m=c.memoizedProps,h=c.stateNode;try{h.nodeValue=m}catch(He){Tt(c,c.return,He)}}break;case 3:if(By=null,O=Gn,Gn=Iy(d.containerInfo),Lr(d,c),Gn=O,Ur(c),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Dh(d.containerInfo)}catch(He){Tt(c,c.return,He)}Kw&&(Kw=!1,aN(c));break;case 4:m=Gn,Gn=Iy(c.stateNode.containerInfo),Lr(d,c),Ur(c),Gn=m;break;case 12:Lr(d,c),Ur(c);break;case 31:Lr(d,c),Ur(c),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,wy(c,m)));break;case 13:Lr(d,c),Ur(c),c.child.flags&8192&&c.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Oy=Fe()),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,wy(c,m)));break;case 22:O=c.memoizedState!==null;var ue=h!==null&&h.memoizedState!==null,Oe=$u,xe=rr;if($u=Oe||O,rr=xe||ue,Lr(d,c),rr=xe,$u=Oe,Ur(c),m&8192)e:for(d=c.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(h===null||ue||$u||rr||Pd(c)),h=null,d=c;;){if(d.tag===5||d.tag===26){if(h===null){ue=h=d;try{if(R=ue.stateNode,O)L=R.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{J=ue.stateNode;var Pe=ue.memoizedProps.style,Ee=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;J.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(He){Tt(ue,ue.return,He)}}}else if(d.tag===6){if(h===null){ue=d;try{ue.stateNode.nodeValue=O?"":ue.memoizedProps}catch(He){Tt(ue,ue.return,He)}}}else if(d.tag===18){if(h===null){ue=d;try{var je=ue.stateNode;O?kN(je,!0):kN(ue.stateNode,!1)}catch(He){Tt(ue,ue.return,He)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}m&4&&(m=c.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,wy(c,h))));break;case 19:Lr(d,c),Ur(c),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,wy(c,m)));break;case 30:break;case 21:break;default:Lr(d,c),Ur(c)}}function Ur(c){var d=c.flags;if(d&2){try{for(var h,m=c.return;m!==null;){if(WA(m)){h=m;break}m=m.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var O=h.stateNode,R=Gw(c);by(c,R,O);break;case 5:var L=h.stateNode;h.flags&32&&(nh(L,""),h.flags&=-33);var J=Gw(c);by(c,J,L);break;case 3:case 4:var ue=h.stateNode.containerInfo,Oe=Gw(c);Hw(c,Oe,ue);break;default:throw Error(i(161))}}catch(xe){Tt(c,c.return,xe)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function aN(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;aN(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Vu(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)QA(c,d.alternate,d),d=d.sibling}function Pd(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Ec(4,d,d.return),Pd(d);break;case 1:hu(d,d.return);var h=d.stateNode;typeof h.componentWillUnmount=="function"&&kA(d,d.return,h),Pd(d);break;case 27:rm(d.stateNode);case 26:case 5:hu(d,d.return),Pd(d);break;case 22:d.memoizedState===null&&Pd(d);break;case 30:Pd(d);break;default:Pd(d)}c=c.sibling}}function Gu(c,d,h){for(h=h&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var m=d.alternate,O=c,R=d,L=R.flags;switch(R.tag){case 0:case 11:case 15:Gu(O,R,h),Kp(4,R);break;case 1:if(Gu(O,R,h),m=R,O=m.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Oe){Tt(m,m.return,Oe)}if(m=R,O=m.updateQueue,O!==null){var J=m.stateNode;try{var ue=O.shared.hiddenCallbacks;if(ue!==null)for(O.shared.hiddenCallbacks=null,O=0;O<ue.length;O++)IP(ue[O],J)}catch(Oe){Tt(m,m.return,Oe)}}h&&L&64&&KA(R),kp(R,R.return);break;case 27:JA(R);case 26:case 5:Gu(O,R,h),h&&m===null&&L&4&&YA(R),kp(R,R.return);break;case 12:Gu(O,R,h);break;case 31:Gu(O,R,h),h&&L&4&&tN(O,R);break;case 13:Gu(O,R,h),h&&L&4&&rN(O,R);break;case 22:R.memoizedState===null&&Gu(O,R,h),kp(R,R.return);break;case 30:break;default:Gu(O,R,h)}d=d.sibling}}function kw(c,d){var h=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==h&&(c!=null&&c.refCount++,h!=null&&Np(h))}function Yw(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Np(c))}function Hn(c,d,h,m){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)iN(c,d,h,m),d=d.sibling}function iN(c,d,h,m){var O=d.flags;switch(d.tag){case 0:case 11:case 15:Hn(c,d,h,m),O&2048&&Kp(9,d);break;case 1:Hn(c,d,h,m);break;case 3:Hn(c,d,h,m),O&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Np(c)));break;case 12:if(O&2048){Hn(c,d,h,m),c=d.stateNode;try{var R=d.memoizedProps,L=R.id,J=R.onPostCommit;typeof J=="function"&&J(L,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ue){Tt(d,d.return,ue)}}else Hn(c,d,h,m);break;case 31:Hn(c,d,h,m);break;case 13:Hn(c,d,h,m);break;case 23:break;case 22:R=d.stateNode,L=d.alternate,d.memoizedState!==null?R._visibility&2?Hn(c,d,h,m):Yp(c,d):R._visibility&2?Hn(c,d,h,m):(R._visibility|=2,Oh(c,d,h,m,(d.subtreeFlags&10256)!==0||!1)),O&2048&&kw(L,d);break;case 24:Hn(c,d,h,m),O&2048&&Yw(d.alternate,d);break;default:Hn(c,d,h,m)}}function Oh(c,d,h,m,O){for(O=O&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var R=c,L=d,J=h,ue=m,Oe=L.flags;switch(L.tag){case 0:case 11:case 15:Oh(R,L,J,ue,O),Kp(8,L);break;case 23:break;case 22:var xe=L.stateNode;L.memoizedState!==null?xe._visibility&2?Oh(R,L,J,ue,O):Yp(R,L):(xe._visibility|=2,Oh(R,L,J,ue,O)),O&&Oe&2048&&kw(L.alternate,L);break;case 24:Oh(R,L,J,ue,O),O&&Oe&2048&&Yw(L.alternate,L);break;default:Oh(R,L,J,ue,O)}d=d.sibling}}function Yp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var h=c,m=d,O=m.flags;switch(m.tag){case 22:Yp(h,m),O&2048&&kw(m.alternate,m);break;case 24:Yp(h,m),O&2048&&Yw(m.alternate,m);break;default:Yp(h,m)}d=d.sibling}}var Wp=8192;function Eh(c,d,h){if(c.subtreeFlags&Wp)for(c=c.child;c!==null;)oN(c,d,h),c=c.sibling}function oN(c,d,h){switch(c.tag){case 26:Eh(c,d,h),c.flags&Wp&&c.memoizedState!==null&&YQ(h,Gn,c.memoizedState,c.memoizedProps);break;case 5:Eh(c,d,h);break;case 3:case 4:var m=Gn;Gn=Iy(c.stateNode.containerInfo),Eh(c,d,h),Gn=m;break;case 22:c.memoizedState===null&&(m=c.alternate,m!==null&&m.memoizedState!==null?(m=Wp,Wp=16777216,Eh(c,d,h),Wp=m):Eh(c,d,h));break;default:Eh(c,d,h)}}function sN(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Jp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var m=d[h];hr=m,uN(m,c)}sN(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)lN(c),c=c.sibling}function lN(c){switch(c.tag){case 0:case 11:case 15:Jp(c),c.flags&2048&&Ec(9,c,c.return);break;case 3:Jp(c);break;case 12:Jp(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,Sy(c)):Jp(c);break;default:Jp(c)}}function Sy(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var m=d[h];hr=m,uN(m,c)}sN(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Ec(8,d,d.return),Sy(d);break;case 22:h=d.stateNode,h._visibility&2&&(h._visibility&=-3,Sy(d));break;default:Sy(d)}c=c.sibling}}function uN(c,d){for(;hr!==null;){var h=hr;switch(h.tag){case 0:case 11:case 15:Ec(8,h,d);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Np(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,hr=m;else e:for(h=c;hr!==null;){m=hr;var O=m.sibling,R=m.return;if(XA(m),m===h){hr=null;break e}if(O!==null){O.return=R,hr=O;break e}hr=R}}}var uQ={getCacheForType:function(c){var d=vr(Xt),h=d.data.get(c);return h===void 0&&(h=c(),d.data.set(c,h)),h},cacheSignal:function(){return vr(Xt).controller.signal}},cQ=typeof WeakMap=="function"?WeakMap:Map,jt=0,Dt=null,ht=null,mt=0,Ct=0,rn=null,Rc=!1,Rh=!1,Ww=!1,Hu=0,kt=0,jc=0,Ad=0,Jw=0,nn=0,jh=0,Zp=null,$r=null,Zw=!1,Oy=0,cN=0,Ey=1/0,Ry=null,xc=null,or=0,Cc=null,xh=null,Ku=0,Qw=0,Xw=null,dN=null,Qp=0,eS=null;function an(){return(jt&2)!==0&&mt!==0?mt&-mt:$.T!==null?oS():vp()}function fN(){if(nn===0)if((mt&536870912)===0||_t){var c=hd;hd<<=1,(hd&3932160)===0&&(hd=262144),nn=c}else nn=536870912;return c=en.current,c!==null&&(c.flags|=32),nn}function Fr(c,d,h){(c===Dt&&(Ct===2||Ct===9)||c.cancelPendingCommit!==null)&&(Ch(c,0),Tc(c,mt,nn,!1)),qe(c,h),((jt&2)===0||c!==Dt)&&(c===Dt&&((jt&2)===0&&(Ad|=h),kt===4&&Tc(c,mt,nn,!1)),pu(c))}function hN(c,d,h){if((jt&6)!==0)throw Error(i(327));var m=!h&&(d&127)===0&&(d&c.expiredLanes)===0||Cu(c,d),O=m?hQ(c,d):rS(c,d,!0),R=m;do{if(O===0){Rh&&!m&&Tc(c,d,0,!1);break}else{if(h=c.current.alternate,R&&!dQ(h)){O=rS(c,d,!1),R=!1;continue}if(O===2){if(R=d,c.errorRecoveryDisabledLanes&R)var L=0;else L=c.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){d=L;e:{var J=c;O=Zp;var ue=J.current.memoizedState.isDehydrated;if(ue&&(Ch(J,L).flags|=256),L=rS(J,L,!1),L!==2){if(Ww&&!ue){J.errorRecoveryDisabledLanes|=R,Ad|=R,O=4;break e}R=$r,$r=O,R!==null&&($r===null?$r=R:$r.push.apply($r,R))}O=L}if(R=!1,O!==2)continue}}if(O===1){Ch(c,0),Tc(c,d,0,!0);break}e:{switch(m=c,R=O,R){case 0:case 1:throw Error(i(345));case 4:if((d&4194048)!==d)break;case 6:Tc(m,d,nn,!Rc);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(i(329))}if((d&62914560)===d&&(O=Oy+300-Fe(),10<O)){if(Tc(m,d,nn,!Rc),Jf(m,0,!0)!==0)break e;Ku=d,m.timeoutHandle=GN(pN.bind(null,m,h,$r,Ry,Zw,d,nn,Ad,jh,Rc,R,"Throttled",-0,0),O);break e}pN(m,h,$r,Ry,Zw,d,nn,Ad,jh,Rc,R,null,-0,0)}}break}while(!0);pu(c)}function pN(c,d,h,m,O,R,L,J,ue,Oe,xe,Pe,Ee,je){if(c.timeoutHandle=-1,Pe=d.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pu},oN(d,R,Pe);var He=(R&62914560)===R?Oy-Fe():(R&4194048)===R?cN-Fe():0;if(He=WQ(Pe,He),He!==null){Ku=R,c.cancelPendingCommit=He(SN.bind(null,c,d,R,h,m,O,L,J,ue,xe,Pe,null,Ee,je)),Tc(c,R,L,!Oe);return}}SN(c,d,R,h,m,O,L,J,ue)}function dQ(c){for(var d=c;;){var h=d.tag;if((h===0||h===11||h===15)&&d.flags&16384&&(h=d.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var O=h[m],R=O.getSnapshot;O=O.value;try{if(!Qr(R(),O))return!1}catch{return!1}}if(h=d.child,d.subtreeFlags&16384&&h!==null)h.return=d,d=h;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Tc(c,d,h,m){d&=~Jw,d&=~Ad,c.suspendedLanes|=d,c.pingedLanes&=~d,m&&(c.warmLanes|=d),m=c.expirationTimes;for(var O=d;0<O;){var R=31-ut(O),L=1<<R;m[R]=-1,O&=~L}h!==0&&ke(c,h,d)}function jy(){return(jt&6)===0?(Xp(0),!1):!0}function tS(){if(ht!==null){if(Ct===0)var c=ht.return;else c=ht,Iu=Od=null,_w(c),yh=null,Ip=0,c=ht;for(;c!==null;)HA(c.alternate,c),c=c.return;ht=null}}function Ch(c,d){var h=c.timeoutHandle;h!==-1&&(c.timeoutHandle=-1,PQ(h)),h=c.cancelPendingCommit,h!==null&&(c.cancelPendingCommit=null,h()),Ku=0,tS(),Dt=c,ht=h=Nu(c.current,null),mt=d,Ct=0,rn=null,Rc=!1,Rh=Cu(c,d),Ww=!1,jh=nn=Jw=Ad=jc=kt=0,$r=Zp=null,Zw=!1,(d&8)!==0&&(d|=d&32);var m=c.entangledLanes;if(m!==0)for(c=c.entanglements,m&=d;0<m;){var O=31-ut(m),R=1<<O;d|=c[O],m&=~R}return Hu=d,k_(),h}function mN(c,d){st=null,$.H=Vp,d===_h||d===ty?(d=PP(),Ct=3):d===iw?(d=PP(),Ct=4):Ct=d===Nw?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,rn=d,ht===null&&(kt=1,my(c,Cn(d,c.current)))}function gN(){var c=en.current;return c===null?!0:(mt&4194048)===mt?An===null:(mt&62914560)===mt||(mt&536870912)!==0?c===An:!1}function _N(){var c=$.H;return $.H=Vp,c===null?Vp:c}function yN(){var c=$.A;return $.A=uQ,c}function xy(){kt=4,Rc||(mt&4194048)!==mt&&en.current!==null||(Rh=!0),(jc&134217727)===0&&(Ad&134217727)===0||Dt===null||Tc(Dt,mt,nn,!1)}function rS(c,d,h){var m=jt;jt|=2;var O=_N(),R=yN();(Dt!==c||mt!==d)&&(Ry=null,Ch(c,d)),d=!1;var L=kt;e:do try{if(Ct!==0&&ht!==null){var J=ht,ue=rn;switch(Ct){case 8:tS(),L=6;break e;case 3:case 2:case 9:case 6:en.current===null&&(d=!0);var Oe=Ct;if(Ct=0,rn=null,Th(c,J,ue,Oe),h&&Rh){L=0;break e}break;default:Oe=Ct,Ct=0,rn=null,Th(c,J,ue,Oe)}}fQ(),L=kt;break}catch(xe){mN(c,xe)}while(!0);return d&&c.shellSuspendCounter++,Iu=Od=null,jt=m,$.H=O,$.A=R,ht===null&&(Dt=null,mt=0,k_()),L}function fQ(){for(;ht!==null;)vN(ht)}function hQ(c,d){var h=jt;jt|=2;var m=_N(),O=yN();Dt!==c||mt!==d?(Ry=null,Ey=Fe()+500,Ch(c,d)):Rh=Cu(c,d);e:do try{if(Ct!==0&&ht!==null){d=ht;var R=rn;t:switch(Ct){case 1:Ct=0,rn=null,Th(c,d,R,1);break;case 2:case 9:if(TP(R)){Ct=0,rn=null,bN(d);break}d=function(){Ct!==2&&Ct!==9||Dt!==c||(Ct=7),pu(c)},R.then(d,d);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:TP(R)?(Ct=0,rn=null,bN(d)):(Ct=0,rn=null,Th(c,d,R,7));break;case 5:var L=null;switch(ht.tag){case 26:L=ht.memoizedState;case 5:case 27:var J=ht;if(L?iD(L):J.stateNode.complete){Ct=0,rn=null;var ue=J.sibling;if(ue!==null)ht=ue;else{var Oe=J.return;Oe!==null?(ht=Oe,Cy(Oe)):ht=null}break t}}Ct=0,rn=null,Th(c,d,R,5);break;case 6:Ct=0,rn=null,Th(c,d,R,6);break;case 8:tS(),kt=6;break e;default:throw Error(i(462))}}pQ();break}catch(xe){mN(c,xe)}while(!0);return Iu=Od=null,$.H=m,$.A=O,jt=h,ht!==null?0:(Dt=null,mt=0,k_(),kt)}function pQ(){for(;ht!==null&&!ye();)vN(ht)}function vN(c){var d=VA(c.alternate,c,Hu);c.memoizedProps=c.pendingProps,d===null?Cy(c):ht=d}function bN(c){var d=c,h=d.alternate;switch(d.tag){case 15:case 0:d=BA(h,d,d.pendingProps,d.type,void 0,mt);break;case 11:d=BA(h,d,d.pendingProps,d.type.render,d.ref,mt);break;case 5:_w(d);default:HA(h,d),d=ht=yP(d,Hu),d=VA(h,d,Hu)}c.memoizedProps=c.pendingProps,d===null?Cy(c):ht=d}function Th(c,d,h,m){Iu=Od=null,_w(d),yh=null,Ip=0;var O=d.return;try{if(rQ(c,O,d,h,mt)){kt=1,my(c,Cn(h,c.current)),ht=null;return}}catch(R){if(O!==null)throw ht=O,R;kt=1,my(c,Cn(h,c.current)),ht=null;return}d.flags&32768?(_t||m===1?c=!0:Rh||(mt&536870912)!==0?c=!1:(Rc=c=!0,(m===2||m===9||m===3||m===6)&&(m=en.current,m!==null&&m.tag===13&&(m.flags|=16384))),wN(d,c)):Cy(d)}function Cy(c){var d=c;do{if((d.flags&32768)!==0){wN(d,Rc);return}c=d.return;var h=iQ(d.alternate,d,Hu);if(h!==null){ht=h;return}if(d=d.sibling,d!==null){ht=d;return}ht=d=c}while(d!==null);kt===0&&(kt=5)}function wN(c,d){do{var h=oQ(c.alternate,c);if(h!==null){h.flags&=32767,ht=h;return}if(h=c.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!d&&(c=c.sibling,c!==null)){ht=c;return}ht=c=h}while(c!==null);kt=6,ht=null}function SN(c,d,h,m,O,R,L,J,ue){c.cancelPendingCommit=null;do Ty();while(or!==0);if((jt&6)!==0)throw Error(i(327));if(d!==null){if(d===c.current)throw Error(i(177));if(R=d.lanes|d.childLanes,R|=G0,$e(c,h,R,L,J,ue),c===Dt&&(ht=Dt=null,mt=0),xh=d,Cc=c,Ku=h,Qw=R,Xw=O,dN=m,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,yQ(N,function(){return xN(),null})):(c.callbackNode=null,c.callbackPriority=0),m=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,O=k.p,k.p=2,L=jt,jt|=4;try{sQ(c,d,h)}finally{jt=L,k.p=O,$.T=m}}or=1,ON(),EN(),RN()}}function ON(){if(or===1){or=0;var c=Cc,d=xh,h=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||h){h=$.T,$.T=null;var m=k.p;k.p=2;var O=jt;jt|=4;try{nN(d,c);var R=pS,L=uP(c.containerInfo),J=R.focusedElem,ue=R.selectionRange;if(L!==J&&J&&J.ownerDocument&&lP(J.ownerDocument.documentElement,J)){if(ue!==null&&L0(J)){var Oe=ue.start,xe=ue.end;if(xe===void 0&&(xe=Oe),"selectionStart"in J)J.selectionStart=Oe,J.selectionEnd=Math.min(xe,J.value.length);else{var Pe=J.ownerDocument||document,Ee=Pe&&Pe.defaultView||window;if(Ee.getSelection){var je=Ee.getSelection(),He=J.textContent.length,rt=Math.min(ue.start,He),Nt=ue.end===void 0?rt:Math.min(ue.end,He);!je.extend&&rt>Nt&&(L=Nt,Nt=rt,rt=L);var ge=sP(J,rt),he=sP(J,Nt);if(ge&&he&&(je.rangeCount!==1||je.anchorNode!==ge.node||je.anchorOffset!==ge.offset||je.focusNode!==he.node||je.focusOffset!==he.offset)){var Se=Pe.createRange();Se.setStart(ge.node,ge.offset),je.removeAllRanges(),rt>Nt?(je.addRange(Se),je.extend(he.node,he.offset)):(Se.setEnd(he.node,he.offset),je.addRange(Se))}}}}for(Pe=[],je=J;je=je.parentNode;)je.nodeType===1&&Pe.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Pe.length;J++){var Me=Pe[J];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}$y=!!hS,pS=hS=null}finally{jt=O,k.p=m,$.T=h}}c.current=d,or=2}}function EN(){if(or===2){or=0;var c=Cc,d=xh,h=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||h){h=$.T,$.T=null;var m=k.p;k.p=2;var O=jt;jt|=4;try{QA(c,d.alternate,d)}finally{jt=O,k.p=m,$.T=h}}or=3}}function RN(){if(or===4||or===3){or=0,ze();var c=Cc,d=xh,h=Ku,m=dN;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?or=5:(or=0,xh=Cc=null,jN(c,c.pendingLanes));var O=c.pendingLanes;if(O===0&&(xc=null),$n(h),d=d.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Te,d,void 0,(d.current.flags&128)===128)}catch{}if(m!==null){d=$.T,O=k.p,k.p=2,$.T=null;try{for(var R=c.onRecoverableError,L=0;L<m.length;L++){var J=m[L];R(J.value,{componentStack:J.stack})}}finally{$.T=d,k.p=O}}(Ku&3)!==0&&Ty(),pu(c),O=c.pendingLanes,(h&261930)!==0&&(O&42)!==0?c===eS?Qp++:(Qp=0,eS=c):Qp=0,Xp(0)}}function jN(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Np(d)))}function Ty(){return ON(),EN(),RN(),xN()}function xN(){if(or!==5)return!1;var c=Cc,d=Qw;Qw=0;var h=$n(Ku),m=$.T,O=k.p;try{k.p=32>h?32:h,$.T=null,h=Xw,Xw=null;var R=Cc,L=Ku;if(or=0,xh=Cc=null,Ku=0,(jt&6)!==0)throw Error(i(331));var J=jt;if(jt|=4,lN(R.current),iN(R,R.current,L,h),jt=J,Xp(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Te,R)}catch{}return!0}finally{k.p=O,$.T=m,jN(c,d)}}function CN(c,d,h){d=Cn(h,d),d=Aw(c.stateNode,d,2),c=wc(c,d,2),c!==null&&(qe(c,2),pu(c))}function Tt(c,d,h){if(c.tag===3)CN(c,c,h);else for(;d!==null;){if(d.tag===3){CN(d,c,h);break}else if(d.tag===1){var m=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xc===null||!xc.has(m))){c=Cn(h,c),h=TA(2),m=wc(d,h,2),m!==null&&(MA(h,m,d,c),qe(m,2),pu(m));break}}d=d.return}}function nS(c,d,h){var m=c.pingCache;if(m===null){m=c.pingCache=new cQ;var O=new Set;m.set(d,O)}else O=m.get(d),O===void 0&&(O=new Set,m.set(d,O));O.has(h)||(Ww=!0,O.add(h),c=mQ.bind(null,c,d,h),d.then(c,c))}function mQ(c,d,h){var m=c.pingCache;m!==null&&m.delete(d),c.pingedLanes|=c.suspendedLanes&h,c.warmLanes&=~h,Dt===c&&(mt&h)===h&&(kt===4||kt===3&&(mt&62914560)===mt&&300>Fe()-Oy?(jt&2)===0&&Ch(c,0):Jw|=h,jh===mt&&(jh=0)),pu(c)}function TN(c,d){d===0&&(d=te()),c=bd(c,d),c!==null&&(qe(c,d),pu(c))}function gQ(c){var d=c.memoizedState,h=0;d!==null&&(h=d.retryLane),TN(c,h)}function _Q(c,d){var h=0;switch(c.tag){case 31:case 13:var m=c.stateNode,O=c.memoizedState;O!==null&&(h=O.retryLane);break;case 19:m=c.stateNode;break;case 22:m=c.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(d),TN(c,h)}function yQ(c,d){return pe(c,d)}var My=null,Mh=null,aS=!1,Py=!1,iS=!1,Mc=0;function pu(c){c!==Mh&&c.next===null&&(Mh===null?My=Mh=c:Mh=Mh.next=c),Py=!0,aS||(aS=!0,bQ())}function Xp(c,d){if(!iS&&Py){iS=!0;do for(var h=!1,m=My;m!==null;){if(c!==0){var O=m.pendingLanes;if(O===0)var R=0;else{var L=m.suspendedLanes,J=m.pingedLanes;R=(1<<31-ut(42|c)+1)-1,R&=O&~(L&~J),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(h=!0,NN(m,R))}else R=mt,R=Jf(m,m===Dt?R:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(R&3)===0||Cu(m,R)||(h=!0,NN(m,R));m=m.next}while(h);iS=!1}}function vQ(){MN()}function MN(){Py=aS=!1;var c=0;Mc!==0&&MQ()&&(c=Mc);for(var d=Fe(),h=null,m=My;m!==null;){var O=m.next,R=PN(m,d);R===0?(m.next=null,h===null?My=O:h.next=O,O===null&&(Mh=h)):(h=m,(c!==0||(R&3)!==0)&&(Py=!0)),m=O}or!==0&&or!==5||Xp(c),Mc!==0&&(Mc=0)}function PN(c,d){for(var h=c.suspendedLanes,m=c.pingedLanes,O=c.expirationTimes,R=c.pendingLanes&-62914561;0<R;){var L=31-ut(R),J=1<<L,ue=O[L];ue===-1?((J&h)===0||(J&m)!==0)&&(O[L]=D_(J,d)):ue<=d&&(c.expiredLanes|=J),R&=~J}if(d=Dt,h=mt,h=Jf(c,c===d?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m=c.callbackNode,h===0||c===d&&(Ct===2||Ct===9)||c.cancelPendingCommit!==null)return m!==null&&m!==null&&Ie(m),c.callbackNode=null,c.callbackPriority=0;if((h&3)===0||Cu(c,h)){if(d=h&-h,d===c.callbackPriority)return d;switch(m!==null&&Ie(m),$n(h)){case 2:case 8:h=G;break;case 32:h=N;break;case 268435456:h=ne;break;default:h=N}return m=AN.bind(null,c),h=pe(h,m),c.callbackPriority=d,c.callbackNode=h,d}return m!==null&&m!==null&&Ie(m),c.callbackPriority=2,c.callbackNode=null,2}function AN(c,d){if(or!==0&&or!==5)return c.callbackNode=null,c.callbackPriority=0,null;var h=c.callbackNode;if(Ty()&&c.callbackNode!==h)return null;var m=mt;return m=Jf(c,c===Dt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m===0?null:(hN(c,m,d),PN(c,Fe()),c.callbackNode!=null&&c.callbackNode===h?AN.bind(null,c):null)}function NN(c,d){if(Ty())return null;hN(c,d,!0)}function bQ(){AQ(function(){(jt&6)!==0?pe(Be,vQ):MN()})}function oS(){if(Mc===0){var c=mh;c===0&&(c=Wf,Wf<<=1,(Wf&261888)===0&&(Wf=256)),Mc=c}return Mc}function DN(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:L_(""+c)}function IN(c,d){var h=d.ownerDocument.createElement("input");return h.name=d.name,h.value=d.value,c.id&&h.setAttribute("form",c.id),d.parentNode.insertBefore(h,d),c=new FormData(c),h.parentNode.removeChild(h),c}function wQ(c,d,h,m,O){if(d==="submit"&&h&&h.stateNode===O){var R=DN((O[dr]||null).action),L=m.submitter;L&&(d=(d=L[dr]||null)?DN(d.formAction):L.getAttribute("formAction"),d!==null&&(R=d,L=null));var J=new V_("action","action",null,m,O);c.push({event:J,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Mc!==0){var ue=L?IN(O,L):new FormData(O);jw(h,{pending:!0,data:ue,method:O.method,action:R},null,ue)}}else typeof R=="function"&&(J.preventDefault(),ue=L?IN(O,L):new FormData(O),jw(h,{pending:!0,data:ue,method:O.method,action:R},R,ue))},currentTarget:O}]})}}for(var sS=0;sS<V0.length;sS++){var lS=V0[sS],SQ=lS.toLowerCase(),OQ=lS[0].toUpperCase()+lS.slice(1);Vn(SQ,"on"+OQ)}Vn(fP,"onAnimationEnd"),Vn(hP,"onAnimationIteration"),Vn(pP,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(LZ,"onTransitionRun"),Vn(UZ,"onTransitionStart"),Vn($Z,"onTransitionCancel"),Vn(mP,"onTransitionEnd"),th("onMouseEnter",["mouseout","mouseover"]),th("onMouseLeave",["mouseout","mouseover"]),th("onPointerEnter",["pointerout","pointerover"]),th("onPointerLeave",["pointerout","pointerover"]),gd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gd("onBeforeInput",["compositionend","keypress","textInput","paste"]),gd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var em="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(em));function zN(c,d){d=(d&4)!==0;for(var h=0;h<c.length;h++){var m=c[h],O=m.event;m=m.listeners;e:{var R=void 0;if(d)for(var L=m.length-1;0<=L;L--){var J=m[L],ue=J.instance,Oe=J.currentTarget;if(J=J.listener,ue!==R&&O.isPropagationStopped())break e;R=J,O.currentTarget=Oe;try{R(O)}catch(xe){K_(xe)}O.currentTarget=null,R=ue}else for(L=0;L<m.length;L++){if(J=m[L],ue=J.instance,Oe=J.currentTarget,J=J.listener,ue!==R&&O.isPropagationStopped())break e;R=J,O.currentTarget=Oe;try{R(O)}catch(xe){K_(xe)}O.currentTarget=null,R=ue}}}}function pt(c,d){var h=d[pd];h===void 0&&(h=d[pd]=new Set);var m=c+"__bubble";h.has(m)||(BN(d,c,2,!1),h.add(m))}function uS(c,d,h){var m=0;d&&(m|=4),BN(h,c,m,d)}var Ay="_reactListening"+Math.random().toString(36).slice(2);function cS(c){if(!c[Ay]){c[Ay]=!0,MM.forEach(function(h){h!=="selectionchange"&&(EQ.has(h)||uS(h,!1,c),uS(h,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Ay]||(d[Ay]=!0,uS("selectionchange",!1,d))}}function BN(c,d,h,m){switch(fD(d)){case 2:var O=QQ;break;case 8:O=XQ;break;default:O=RS}h=O.bind(null,d,h,c),O=void 0,!M0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),m?O!==void 0?c.addEventListener(d,h,{capture:!0,passive:O}):c.addEventListener(d,h,!0):O!==void 0?c.addEventListener(d,h,{passive:O}):c.addEventListener(d,h,!1)}function dS(c,d,h,m,O){var R=m;if((d&1)===0&&(d&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var J=m.stateNode.containerInfo;if(J===O)break;if(L===4)for(L=m.return;L!==null;){var ue=L.tag;if((ue===3||ue===4)&&L.stateNode.containerInfo===O)return;L=L.return}for(;J!==null;){if(L=Qf(J),L===null)return;if(ue=L.tag,ue===5||ue===6||ue===26||ue===27){m=R=L;continue e}J=J.parentNode}}m=m.return}FM(function(){var Oe=R,xe=C0(h),Pe=[];e:{var Ee=gP.get(c);if(Ee!==void 0){var je=V_,He=c;switch(c){case"keypress":if($_(h)===0)break e;case"keydown":case"keyup":je=_Z;break;case"focusin":He="focus",je=D0;break;case"focusout":He="blur",je=D0;break;case"beforeblur":case"afterblur":je=D0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=HM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=iZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=bZ;break;case fP:case hP:case pP:je=lZ;break;case mP:je=SZ;break;case"scroll":case"scrollend":je=nZ;break;case"wheel":je=EZ;break;case"copy":case"cut":case"paste":je=cZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=kM;break;case"toggle":case"beforetoggle":je=jZ}var rt=(d&4)!==0,Nt=!rt&&(c==="scroll"||c==="scrollend"),ge=rt?Ee!==null?Ee+"Capture":null:Ee;rt=[];for(var he=Oe,Se;he!==null;){var Me=he;if(Se=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||Se===null||ge===null||(Me=Sp(he,ge),Me!=null&&rt.push(tm(he,Me,Se))),Nt)break;he=he.return}0<rt.length&&(Ee=new je(Ee,He,null,h,xe),Pe.push({event:Ee,listeners:rt}))}}if((d&7)===0){e:{if(Ee=c==="mouseover"||c==="pointerover",je=c==="mouseout"||c==="pointerout",Ee&&h!==x0&&(He=h.relatedTarget||h.fromElement)&&(Qf(He)||He[cu]))break e;if((je||Ee)&&(Ee=xe.window===xe?xe:(Ee=xe.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,je?(He=h.relatedTarget||h.toElement,je=Oe,He=He?Qf(He):null,He!==null&&(Nt=t(He),rt=He.tag,He!==Nt||rt!==5&&rt!==27&&rt!==6)&&(He=null)):(je=null,He=Oe),je!==He)){if(rt=HM,Me="onMouseLeave",ge="onMouseEnter",he="mouse",(c==="pointerout"||c==="pointerover")&&(rt=kM,Me="onPointerLeave",ge="onPointerEnter",he="pointer"),Nt=je==null?Ee:wp(je),Se=He==null?Ee:wp(He),Ee=new rt(Me,he+"leave",je,h,xe),Ee.target=Nt,Ee.relatedTarget=Se,Me=null,Qf(xe)===Oe&&(rt=new rt(ge,he+"enter",He,h,xe),rt.target=Se,rt.relatedTarget=Nt,Me=rt),Nt=Me,je&&He)t:{for(rt=RQ,ge=je,he=He,Se=0,Me=ge;Me;Me=rt(Me))Se++;Me=0;for(var Xe=he;Xe;Xe=rt(Xe))Me++;for(;0<Se-Me;)ge=rt(ge),Se--;for(;0<Me-Se;)he=rt(he),Me--;for(;Se--;){if(ge===he||he!==null&&ge===he.alternate){rt=ge;break t}ge=rt(ge),he=rt(he)}rt=null}else rt=null;je!==null&&qN(Pe,Ee,je,rt,!1),He!==null&&Nt!==null&&qN(Pe,Nt,He,rt,!0)}}e:{if(Ee=Oe?wp(Oe):window,je=Ee.nodeName&&Ee.nodeName.toLowerCase(),je==="select"||je==="input"&&Ee.type==="file")var St=tP;else if(XM(Ee))if(rP)St=zZ;else{St=DZ;var We=NZ}else je=Ee.nodeName,!je||je.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?Oe&&j0(Oe.elementType)&&(St=tP):St=IZ;if(St&&(St=St(c,Oe))){eP(Pe,St,h,xe);break e}We&&We(c,Ee,Oe),c==="focusout"&&Oe&&Ee.type==="number"&&Oe.memoizedProps.value!=null&&R0(Ee,"number",Ee.value)}switch(We=Oe?wp(Oe):window,c){case"focusin":(XM(We)||We.contentEditable==="true")&&(sh=We,U0=Oe,Mp=null);break;case"focusout":Mp=U0=sh=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,cP(Pe,h,xe);break;case"selectionchange":if(qZ)break;case"keydown":case"keyup":cP(Pe,h,xe)}var lt;if(z0)e:{switch(c){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else oh?ZM(c,h)&&(gt="onCompositionEnd"):c==="keydown"&&h.keyCode===229&&(gt="onCompositionStart");gt&&(YM&&h.locale!=="ko"&&(oh||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&oh&&(lt=VM()):(pc=xe,P0="value"in pc?pc.value:pc.textContent,oh=!0)),We=Ny(Oe,gt),0<We.length&&(gt=new KM(gt,c,null,h,xe),Pe.push({event:gt,listeners:We}),lt?gt.data=lt:(lt=QM(h),lt!==null&&(gt.data=lt)))),(lt=CZ?TZ(c,h):MZ(c,h))&&(gt=Ny(Oe,"onBeforeInput"),0<gt.length&&(We=new KM("onBeforeInput","beforeinput",null,h,xe),Pe.push({event:We,listeners:gt}),We.data=lt)),wQ(Pe,c,Oe,h,xe)}zN(Pe,d)})}function tm(c,d,h){return{instance:c,listener:d,currentTarget:h}}function Ny(c,d){for(var h=d+"Capture",m=[];c!==null;){var O=c,R=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||R===null||(O=Sp(c,h),O!=null&&m.unshift(tm(c,O,R)),O=Sp(c,d),O!=null&&m.push(tm(c,O,R))),c.tag===3)return m;c=c.return}return[]}function RQ(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function qN(c,d,h,m,O){for(var R=d._reactName,L=[];h!==null&&h!==m;){var J=h,ue=J.alternate,Oe=J.stateNode;if(J=J.tag,ue!==null&&ue===m)break;J!==5&&J!==26&&J!==27||Oe===null||(ue=Oe,O?(Oe=Sp(h,R),Oe!=null&&L.unshift(tm(h,Oe,ue))):O||(Oe=Sp(h,R),Oe!=null&&L.push(tm(h,Oe,ue)))),h=h.return}L.length!==0&&c.push({event:d,listeners:L})}var jQ=/\r\n?/g,xQ=/\u0000|\uFFFD/g;function LN(c){return(typeof c=="string"?c:""+c).replace(jQ,`
`).replace(xQ,"")}function UN(c,d){return d=LN(d),LN(c)===d}function At(c,d,h,m,O,R){switch(h){case"children":typeof m=="string"?d==="body"||d==="textarea"&&m===""||nh(c,m):(typeof m=="number"||typeof m=="bigint")&&d!=="body"&&nh(c,""+m);break;case"className":B_(c,"class",m);break;case"tabIndex":B_(c,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":B_(c,h,m);break;case"style":UM(c,m,R);break;case"data":if(d!=="object"){B_(c,"data",m);break}case"src":case"href":if(m===""&&(d!=="a"||h!=="href")){c.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(h);break}m=L_(""+m),c.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){c.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(h==="formAction"?(d!=="input"&&At(c,d,"name",O.name,O,null),At(c,d,"formEncType",O.formEncType,O,null),At(c,d,"formMethod",O.formMethod,O,null),At(c,d,"formTarget",O.formTarget,O,null)):(At(c,d,"encType",O.encType,O,null),At(c,d,"method",O.method,O,null),At(c,d,"target",O.target,O,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(h);break}m=L_(""+m),c.setAttribute(h,m);break;case"onClick":m!=null&&(c.onclick=Pu);break;case"onScroll":m!=null&&pt("scroll",c);break;case"onScrollEnd":m!=null&&pt("scrollend",c);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(O.children!=null)throw Error(i(60));c.innerHTML=h}}break;case"multiple":c.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":c.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){c.removeAttribute("xlink:href");break}h=L_(""+m),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(h,""+m):c.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(h,""):c.removeAttribute(h);break;case"capture":case"download":m===!0?c.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(h,m):c.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?c.setAttribute(h,m):c.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?c.removeAttribute(h):c.setAttribute(h,m);break;case"popover":pt("beforetoggle",c),pt("toggle",c),z_(c,"popover",m);break;case"xlinkActuate":Mu(c,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Mu(c,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Mu(c,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Mu(c,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Mu(c,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Mu(c,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Mu(c,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Mu(c,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Mu(c,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":z_(c,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=tZ.get(h)||h,z_(c,h,m))}}function fS(c,d,h,m,O,R){switch(h){case"style":UM(c,m,R);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(O.children!=null)throw Error(i(60));c.innerHTML=h}}break;case"children":typeof m=="string"?nh(c,m):(typeof m=="number"||typeof m=="bigint")&&nh(c,""+m);break;case"onScroll":m!=null&&pt("scroll",c);break;case"onScrollEnd":m!=null&&pt("scrollend",c);break;case"onClick":m!=null&&(c.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!PM.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),d=h.slice(2,O?h.length-7:void 0),R=c[dr]||null,R=R!=null?R[h]:null,typeof R=="function"&&c.removeEventListener(d,R,O),typeof m=="function")){typeof R!="function"&&R!==null&&(h in c?c[h]=null:c.hasAttribute(h)&&c.removeAttribute(h)),c.addEventListener(d,m,O);break e}h in c?c[h]=m:m===!0?c.setAttribute(h,""):z_(c,h,m)}}}function wr(c,d,h){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",c),pt("load",c);var m=!1,O=!1,R;for(R in h)if(h.hasOwnProperty(R)){var L=h[R];if(L!=null)switch(R){case"src":m=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:At(c,d,R,L,h,null)}}O&&At(c,d,"srcSet",h.srcSet,h,null),m&&At(c,d,"src",h.src,h,null);return;case"input":pt("invalid",c);var J=R=L=O=null,ue=null,Oe=null;for(m in h)if(h.hasOwnProperty(m)){var xe=h[m];if(xe!=null)switch(m){case"name":O=xe;break;case"type":L=xe;break;case"checked":ue=xe;break;case"defaultChecked":Oe=xe;break;case"value":R=xe;break;case"defaultValue":J=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(i(137,d));break;default:At(c,d,m,xe,h,null)}}zM(c,R,J,ue,Oe,L,O,!1);return;case"select":pt("invalid",c),m=L=R=null;for(O in h)if(h.hasOwnProperty(O)&&(J=h[O],J!=null))switch(O){case"value":R=J;break;case"defaultValue":L=J;break;case"multiple":m=J;default:At(c,d,O,J,h,null)}d=R,h=L,c.multiple=!!m,d!=null?rh(c,!!m,d,!1):h!=null&&rh(c,!!m,h,!0);return;case"textarea":pt("invalid",c),R=O=m=null;for(L in h)if(h.hasOwnProperty(L)&&(J=h[L],J!=null))switch(L){case"value":m=J;break;case"defaultValue":O=J;break;case"children":R=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(91));break;default:At(c,d,L,J,h,null)}qM(c,m,O,R);return;case"option":for(ue in h)h.hasOwnProperty(ue)&&(m=h[ue],m!=null)&&(ue==="selected"?c.selected=m&&typeof m!="function"&&typeof m!="symbol":At(c,d,ue,m,h,null));return;case"dialog":pt("beforetoggle",c),pt("toggle",c),pt("cancel",c),pt("close",c);break;case"iframe":case"object":pt("load",c);break;case"video":case"audio":for(m=0;m<em.length;m++)pt(em[m],c);break;case"image":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"embed":case"source":case"link":pt("error",c),pt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in h)if(h.hasOwnProperty(Oe)&&(m=h[Oe],m!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:At(c,d,Oe,m,h,null)}return;default:if(j0(d)){for(xe in h)h.hasOwnProperty(xe)&&(m=h[xe],m!==void 0&&fS(c,d,xe,m,h,void 0));return}}for(J in h)h.hasOwnProperty(J)&&(m=h[J],m!=null&&At(c,d,J,m,h,null))}function CQ(c,d,h,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,R=null,L=null,J=null,ue=null,Oe=null,xe=null;for(je in h){var Pe=h[je];if(h.hasOwnProperty(je)&&Pe!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ue=Pe;default:m.hasOwnProperty(je)||At(c,d,je,null,m,Pe)}}for(var Ee in m){var je=m[Ee];if(Pe=h[Ee],m.hasOwnProperty(Ee)&&(je!=null||Pe!=null))switch(Ee){case"type":R=je;break;case"name":O=je;break;case"checked":Oe=je;break;case"defaultChecked":xe=je;break;case"value":L=je;break;case"defaultValue":J=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,d));break;default:je!==Pe&&At(c,d,Ee,je,m,Pe)}}E0(c,L,J,ue,Oe,xe,R,O);return;case"select":je=L=J=Ee=null;for(R in h)if(ue=h[R],h.hasOwnProperty(R)&&ue!=null)switch(R){case"value":break;case"multiple":je=ue;default:m.hasOwnProperty(R)||At(c,d,R,null,m,ue)}for(O in m)if(R=m[O],ue=h[O],m.hasOwnProperty(O)&&(R!=null||ue!=null))switch(O){case"value":Ee=R;break;case"defaultValue":J=R;break;case"multiple":L=R;default:R!==ue&&At(c,d,O,R,m,ue)}d=J,h=L,m=je,Ee!=null?rh(c,!!h,Ee,!1):!!m!=!!h&&(d!=null?rh(c,!!h,d,!0):rh(c,!!h,h?[]:"",!1));return;case"textarea":je=Ee=null;for(J in h)if(O=h[J],h.hasOwnProperty(J)&&O!=null&&!m.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:At(c,d,J,null,m,O)}for(L in m)if(O=m[L],R=h[L],m.hasOwnProperty(L)&&(O!=null||R!=null))switch(L){case"value":Ee=O;break;case"defaultValue":je=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:O!==R&&At(c,d,L,O,m,R)}BM(c,Ee,je);return;case"option":for(var He in h)Ee=h[He],h.hasOwnProperty(He)&&Ee!=null&&!m.hasOwnProperty(He)&&(He==="selected"?c.selected=!1:At(c,d,He,null,m,Ee));for(ue in m)Ee=m[ue],je=h[ue],m.hasOwnProperty(ue)&&Ee!==je&&(Ee!=null||je!=null)&&(ue==="selected"?c.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol":At(c,d,ue,Ee,m,je));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in h)Ee=h[rt],h.hasOwnProperty(rt)&&Ee!=null&&!m.hasOwnProperty(rt)&&At(c,d,rt,null,m,Ee);for(Oe in m)if(Ee=m[Oe],je=h[Oe],m.hasOwnProperty(Oe)&&Ee!==je&&(Ee!=null||je!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,d));break;default:At(c,d,Oe,Ee,m,je)}return;default:if(j0(d)){for(var Nt in h)Ee=h[Nt],h.hasOwnProperty(Nt)&&Ee!==void 0&&!m.hasOwnProperty(Nt)&&fS(c,d,Nt,void 0,m,Ee);for(xe in m)Ee=m[xe],je=h[xe],!m.hasOwnProperty(xe)||Ee===je||Ee===void 0&&je===void 0||fS(c,d,xe,Ee,m,je);return}}for(var ge in h)Ee=h[ge],h.hasOwnProperty(ge)&&Ee!=null&&!m.hasOwnProperty(ge)&&At(c,d,ge,null,m,Ee);for(Pe in m)Ee=m[Pe],je=h[Pe],!m.hasOwnProperty(Pe)||Ee===je||Ee==null&&je==null||At(c,d,Pe,Ee,m,je)}function $N(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TQ(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var O=h[m],R=O.transferSize,L=O.initiatorType,J=O.duration;if(R&&J&&$N(L)){for(L=0,J=O.responseEnd,m+=1;m<h.length;m++){var ue=h[m],Oe=ue.startTime;if(Oe>J)break;var xe=ue.transferSize,Pe=ue.initiatorType;xe&&$N(Pe)&&(ue=ue.responseEnd,L+=xe*(ue<J?1:(J-Oe)/(ue-Oe)))}if(--m,d+=8*(R+L)/(O.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var hS=null,pS=null;function Dy(c){return c.nodeType===9?c:c.ownerDocument}function FN(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VN(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function mS(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var gS=null;function MQ(){var c=window.event;return c&&c.type==="popstate"?c===gS?!1:(gS=c,!0):(gS=null,!1)}var GN=typeof setTimeout=="function"?setTimeout:void 0,PQ=typeof clearTimeout=="function"?clearTimeout:void 0,HN=typeof Promise=="function"?Promise:void 0,AQ=typeof queueMicrotask=="function"?queueMicrotask:typeof HN<"u"?function(c){return HN.resolve(null).then(c).catch(NQ)}:GN;function NQ(c){setTimeout(function(){throw c})}function Pc(c){return c==="head"}function KN(c,d){var h=d,m=0;do{var O=h.nextSibling;if(c.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(m===0){c.removeChild(O),Dh(d);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")rm(c.ownerDocument.documentElement);else if(h==="head"){h=c.ownerDocument.head,rm(h);for(var R=h.firstChild;R;){var L=R.nextSibling,J=R.nodeName;R[bp]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=L}}else h==="body"&&rm(c.ownerDocument.body);h=O}while(h);Dh(d)}function kN(c,d){var h=c;c=0;do{var m=h.nextSibling;if(h.nodeType===1?d?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(d?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(c===0)break;c--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||c++;h=m}while(h)}function _S(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var h=d;switch(d=d.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":_S(h),S0(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}c.removeChild(h)}}function DQ(c,d,h,m){for(;c.nodeType===1;){var O=h;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!m&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(m){if(!c[bp])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(R=c.getAttribute("rel"),R==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(R!==O.rel||c.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||c.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||c.getAttribute("title")!==(O.title==null?null:O.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(R=c.getAttribute("src"),(R!==(O.src==null?null:O.src)||c.getAttribute("type")!==(O.type==null?null:O.type)||c.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&R&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var R=O.name==null?null:""+O.name;if(O.type==="hidden"&&c.getAttribute("name")===R)return c}else return c;if(c=Nn(c.nextSibling),c===null)break}return null}function IQ(c,d,h){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=Nn(c.nextSibling),c===null))return null;return c}function YN(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=Nn(c.nextSibling),c===null))return null;return c}function yS(c){return c.data==="$?"||c.data==="$~"}function vS(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function zQ(c,d){var h=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||h.readyState!=="loading")d();else{var m=function(){d(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),c._reactRetry=m}}function Nn(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var bS=null;function WN(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var h=c.data;if(h==="/$"||h==="/&"){if(d===0)return Nn(c.nextSibling);d--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||d++}c=c.nextSibling}return null}function JN(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var h=c.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(d===0)return c;d--}else h!=="/$"&&h!=="/&"||d++}c=c.previousSibling}return null}function ZN(c,d,h){switch(d=Dy(h),c){case"html":if(c=d.documentElement,!c)throw Error(i(452));return c;case"head":if(c=d.head,!c)throw Error(i(453));return c;case"body":if(c=d.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function rm(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);S0(c)}var Dn=new Map,QN=new Set;function Iy(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var ku=k.d;k.d={f:BQ,r:qQ,D:LQ,C:UQ,L:$Q,m:FQ,X:GQ,S:VQ,M:HQ};function BQ(){var c=ku.f(),d=jy();return c||d}function qQ(c){var d=Xf(c);d!==null&&d.tag===5&&d.type==="form"?mA(d):ku.r(c)}var Ph=typeof document>"u"?null:document;function XN(c,d,h){var m=Ph;if(m&&typeof d=="string"&&d){var O=jn(d);O='link[rel="'+c+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),QN.has(O)||(QN.add(O),c={rel:c,crossOrigin:h,href:d},m.querySelector(O)===null&&(d=m.createElement("link"),wr(d,"link",c),fr(d),m.head.appendChild(d)))}}function LQ(c){ku.D(c),XN("dns-prefetch",c,null)}function UQ(c,d){ku.C(c,d),XN("preconnect",c,d)}function $Q(c,d,h){ku.L(c,d,h);var m=Ph;if(m&&c&&d){var O='link[rel="preload"][as="'+jn(d)+'"]';d==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+jn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+jn(h.imageSizes)+'"]')):O+='[href="'+jn(c)+'"]';var R=O;switch(d){case"style":R=Ah(c);break;case"script":R=Nh(c)}Dn.has(R)||(c=g({rel:"preload",href:d==="image"&&h&&h.imageSrcSet?void 0:c,as:d},h),Dn.set(R,c),m.querySelector(O)!==null||d==="style"&&m.querySelector(nm(R))||d==="script"&&m.querySelector(am(R))||(d=m.createElement("link"),wr(d,"link",c),fr(d),m.head.appendChild(d)))}}function FQ(c,d){ku.m(c,d);var h=Ph;if(h&&c){var m=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+jn(m)+'"][href="'+jn(c)+'"]',R=O;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Nh(c)}if(!Dn.has(R)&&(c=g({rel:"modulepreload",href:c},d),Dn.set(R,c),h.querySelector(O)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(am(R)))return}m=h.createElement("link"),wr(m,"link",c),fr(m),h.head.appendChild(m)}}}function VQ(c,d,h){ku.S(c,d,h);var m=Ph;if(m&&c){var O=eh(m).hoistableStyles,R=Ah(c);d=d||"default";var L=O.get(R);if(!L){var J={loading:0,preload:null};if(L=m.querySelector(nm(R)))J.loading=5;else{c=g({rel:"stylesheet",href:c,"data-precedence":d},h),(h=Dn.get(R))&&wS(c,h);var ue=L=m.createElement("link");fr(ue),wr(ue,"link",c),ue._p=new Promise(function(Oe,xe){ue.onload=Oe,ue.onerror=xe}),ue.addEventListener("load",function(){J.loading|=1}),ue.addEventListener("error",function(){J.loading|=2}),J.loading|=4,zy(L,d,m)}L={type:"stylesheet",instance:L,count:1,state:J},O.set(R,L)}}}function GQ(c,d){ku.X(c,d);var h=Ph;if(h&&c){var m=eh(h).hoistableScripts,O=Nh(c),R=m.get(O);R||(R=h.querySelector(am(O)),R||(c=g({src:c,async:!0},d),(d=Dn.get(O))&&SS(c,d),R=h.createElement("script"),fr(R),wr(R,"link",c),h.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},m.set(O,R))}}function HQ(c,d){ku.M(c,d);var h=Ph;if(h&&c){var m=eh(h).hoistableScripts,O=Nh(c),R=m.get(O);R||(R=h.querySelector(am(O)),R||(c=g({src:c,async:!0,type:"module"},d),(d=Dn.get(O))&&SS(c,d),R=h.createElement("script"),fr(R),wr(R,"link",c),h.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},m.set(O,R))}}function eD(c,d,h,m){var O=(O=V.current)?Iy(O):null;if(!O)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(d=Ah(h.href),h=eh(O).hoistableStyles,m=h.get(d),m||(m={type:"style",instance:null,count:0,state:null},h.set(d,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){c=Ah(h.href);var R=eh(O).hoistableStyles,L=R.get(c);if(L||(O=O.ownerDocument||O,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(c,L),(R=O.querySelector(nm(c)))&&!R._p&&(L.instance=R,L.state.loading=5),Dn.has(c)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Dn.set(c,h),R||KQ(O,c,h,L.state))),d&&m===null)throw Error(i(528,""));return L}if(d&&m!==null)throw Error(i(529,""));return null;case"script":return d=h.async,h=h.src,typeof h=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Nh(h),h=eh(O).hoistableScripts,m=h.get(d),m||(m={type:"script",instance:null,count:0,state:null},h.set(d,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function Ah(c){return'href="'+jn(c)+'"'}function nm(c){return'link[rel="stylesheet"]['+c+"]"}function tD(c){return g({},c,{"data-precedence":c.precedence,precedence:null})}function KQ(c,d,h,m){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?m.loading=1:(d=c.createElement("link"),m.preload=d,d.addEventListener("load",function(){return m.loading|=1}),d.addEventListener("error",function(){return m.loading|=2}),wr(d,"link",h),fr(d),c.head.appendChild(d))}function Nh(c){return'[src="'+jn(c)+'"]'}function am(c){return"script[async]"+c}function rD(c,d,h){if(d.count++,d.instance===null)switch(d.type){case"style":var m=c.querySelector('style[data-href~="'+jn(h.href)+'"]');if(m)return d.instance=m,fr(m),m;var O=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(c.ownerDocument||c).createElement("style"),fr(m),wr(m,"style",O),zy(m,h.precedence,c),d.instance=m;case"stylesheet":O=Ah(h.href);var R=c.querySelector(nm(O));if(R)return d.state.loading|=4,d.instance=R,fr(R),R;m=tD(h),(O=Dn.get(O))&&wS(m,O),R=(c.ownerDocument||c).createElement("link"),fr(R);var L=R;return L._p=new Promise(function(J,ue){L.onload=J,L.onerror=ue}),wr(R,"link",m),d.state.loading|=4,zy(R,h.precedence,c),d.instance=R;case"script":return R=Nh(h.src),(O=c.querySelector(am(R)))?(d.instance=O,fr(O),O):(m=h,(O=Dn.get(R))&&(m=g({},h),SS(m,O)),c=c.ownerDocument||c,O=c.createElement("script"),fr(O),wr(O,"link",m),c.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(m=d.instance,d.state.loading|=4,zy(m,h.precedence,c));return d.instance}function zy(c,d,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=m.length?m[m.length-1]:null,R=O,L=0;L<m.length;L++){var J=m[L];if(J.dataset.precedence===d)R=J;else if(R!==O)break}R?R.parentNode.insertBefore(c,R.nextSibling):(d=h.nodeType===9?h.head:h,d.insertBefore(c,d.firstChild))}function wS(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function SS(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var By=null;function nD(c,d,h){if(By===null){var m=new Map,O=By=new Map;O.set(h,m)}else O=By,m=O.get(h),m||(m=new Map,O.set(h,m));if(m.has(c))return m;for(m.set(c,null),h=h.getElementsByTagName(c),O=0;O<h.length;O++){var R=h[O];if(!(R[bp]||R[Qt]||c==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var L=R.getAttribute(d)||"";L=c+L;var J=m.get(L);J?J.push(R):m.set(L,[R])}}return m}function aD(c,d,h){c=c.ownerDocument||c,c.head.insertBefore(h,d==="title"?c.querySelector("head > title"):null)}function kQ(c,d,h){if(h===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;return d.rel==="stylesheet"?(c=d.disabled,typeof d.precedence=="string"&&c==null):!0;case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function iD(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function YQ(c,d,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=Ah(m.href),R=d.querySelector(nm(O));if(R){d=R._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=qy.bind(c),d.then(c,c)),h.state.loading|=4,h.instance=R,fr(R);return}R=d.ownerDocument||d,m=tD(m),(O=Dn.get(O))&&wS(m,O),R=R.createElement("link"),fr(R);var L=R;L._p=new Promise(function(J,ue){L.onload=J,L.onerror=ue}),wr(R,"link",m),h.instance=R}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(h,d),(d=h.state.preload)&&(h.state.loading&3)===0&&(c.count++,h=qy.bind(c),d.addEventListener("load",h),d.addEventListener("error",h))}}var OS=0;function WQ(c,d){return c.stylesheets&&c.count===0&&Uy(c,c.stylesheets),0<c.count||0<c.imgCount?function(h){var m=setTimeout(function(){if(c.stylesheets&&Uy(c,c.stylesheets),c.unsuspend){var R=c.unsuspend;c.unsuspend=null,R()}},6e4+d);0<c.imgBytes&&OS===0&&(OS=62500*TQ());var O=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Uy(c,c.stylesheets),c.unsuspend)){var R=c.unsuspend;c.unsuspend=null,R()}},(c.imgBytes>OS?50:800)+d);return c.unsuspend=h,function(){c.unsuspend=null,clearTimeout(m),clearTimeout(O)}}:null}function qy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uy(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Ly=null;function Uy(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Ly=new Map,d.forEach(JQ,c),Ly=null,qy.call(c))}function JQ(c,d){if(!(d.state.loading&4)){var h=Ly.get(c);if(h)var m=h.get(null);else{h=new Map,Ly.set(c,h);for(var O=c.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<O.length;R++){var L=O[R];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(h.set(L.dataset.precedence,L),m=L)}m&&h.set(null,m)}O=d.instance,L=O.getAttribute("data-precedence"),R=h.get(L)||m,R===m&&h.set(null,O),h.set(L,O),this.count++,m=qy.bind(this),O.addEventListener("load",m),O.addEventListener("error",m),R?R.parentNode.insertBefore(O,R.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(O,c.firstChild)),d.state.loading|=4}}var im={$$typeof:x,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function ZQ(c,d,h,m,O,R,L,J,ue){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.hiddenUpdates=se(null),this.identifierPrefix=m,this.onUncaughtError=O,this.onCaughtError=R,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function oD(c,d,h,m,O,R,L,J,ue,Oe,xe,Pe){return c=new ZQ(c,d,h,L,ue,Oe,xe,Pe,J),d=1,R===!0&&(d|=24),R=Xr(3,null,null,d),c.current=R,R.stateNode=c,d=rw(),d.refCount++,c.pooledCache=d,d.refCount++,R.memoizedState={element:m,isDehydrated:h,cache:d},ow(R),c}function sD(c){return c?(c=ch,c):ch}function lD(c,d,h,m,O,R){O=sD(O),m.context===null?m.context=O:m.pendingContext=O,m=bc(d),m.payload={element:h},R=R===void 0?null:R,R!==null&&(m.callback=R),h=wc(c,m,d),h!==null&&(Fr(h,c,d),Bp(h,c,d))}function uD(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var h=c.retryLane;c.retryLane=h!==0&&h<d?h:d}}function ES(c,d){uD(c,d),(c=c.alternate)&&uD(c,d)}function cD(c){if(c.tag===13||c.tag===31){var d=bd(c,67108864);d!==null&&Fr(d,c,67108864),ES(c,67108864)}}function dD(c){if(c.tag===13||c.tag===31){var d=an();d=Zf(d);var h=bd(c,d);h!==null&&Fr(h,c,d),ES(c,d)}}var $y=!0;function QQ(c,d,h,m){var O=$.T;$.T=null;var R=k.p;try{k.p=2,RS(c,d,h,m)}finally{k.p=R,$.T=O}}function XQ(c,d,h,m){var O=$.T;$.T=null;var R=k.p;try{k.p=8,RS(c,d,h,m)}finally{k.p=R,$.T=O}}function RS(c,d,h,m){if($y){var O=jS(m);if(O===null)dS(c,d,m,Fy,h),hD(c,m);else if(tX(O,c,d,h,m))m.stopPropagation();else if(hD(c,m),d&4&&-1<eX.indexOf(c)){for(;O!==null;){var R=Xf(O);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var L=xu(R.pendingLanes);if(L!==0){var J=R;for(J.pendingLanes|=2,J.entangledLanes|=2;L;){var ue=1<<31-ut(L);J.entanglements[1]|=ue,L&=~ue}pu(R),(jt&6)===0&&(Ey=Fe()+500,Xp(0))}}break;case 31:case 13:J=bd(R,2),J!==null&&Fr(J,R,2),jy(),ES(R,2)}if(R=jS(m),R===null&&dS(c,d,m,Fy,h),R===O)break;O=R}O!==null&&m.stopPropagation()}else dS(c,d,m,null,h)}}function jS(c){return c=C0(c),xS(c)}var Fy=null;function xS(c){if(Fy=null,c=Qf(c),c!==null){var d=t(c);if(d===null)c=null;else{var h=d.tag;if(h===13){if(c=r(d),c!==null)return c;c=null}else if(h===31){if(c=a(d),c!==null)return c;c=null}else if(h===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Fy=c,null}function fD(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Be:return 2;case G:return 8;case N:case z:return 32;case ne:return 268435456;default:return 32}default:return 32}}var CS=!1,Ac=null,Nc=null,Dc=null,om=new Map,sm=new Map,Ic=[],eX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hD(c,d){switch(c){case"focusin":case"focusout":Ac=null;break;case"dragenter":case"dragleave":Nc=null;break;case"mouseover":case"mouseout":Dc=null;break;case"pointerover":case"pointerout":om.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":sm.delete(d.pointerId)}}function lm(c,d,h,m,O,R){return c===null||c.nativeEvent!==R?(c={blockedOn:d,domEventName:h,eventSystemFlags:m,nativeEvent:R,targetContainers:[O]},d!==null&&(d=Xf(d),d!==null&&cD(d)),c):(c.eventSystemFlags|=m,d=c.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),c)}function tX(c,d,h,m,O){switch(d){case"focusin":return Ac=lm(Ac,c,d,h,m,O),!0;case"dragenter":return Nc=lm(Nc,c,d,h,m,O),!0;case"mouseover":return Dc=lm(Dc,c,d,h,m,O),!0;case"pointerover":var R=O.pointerId;return om.set(R,lm(om.get(R)||null,c,d,h,m,O)),!0;case"gotpointercapture":return R=O.pointerId,sm.set(R,lm(sm.get(R)||null,c,d,h,m,O)),!0}return!1}function pD(c){var d=Qf(c.target);if(d!==null){var h=t(d);if(h!==null){if(d=h.tag,d===13){if(d=r(h),d!==null){c.blockedOn=d,I_(c.priority,function(){dD(h)});return}}else if(d===31){if(d=a(h),d!==null){c.blockedOn=d,I_(c.priority,function(){dD(h)});return}}else if(d===3&&h.stateNode.current.memoizedState.isDehydrated){c.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Vy(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var h=jS(c.nativeEvent);if(h===null){h=c.nativeEvent;var m=new h.constructor(h.type,h);x0=m,h.target.dispatchEvent(m),x0=null}else return d=Xf(h),d!==null&&cD(d),c.blockedOn=h,!1;d.shift()}return!0}function mD(c,d,h){Vy(c)&&h.delete(d)}function rX(){CS=!1,Ac!==null&&Vy(Ac)&&(Ac=null),Nc!==null&&Vy(Nc)&&(Nc=null),Dc!==null&&Vy(Dc)&&(Dc=null),om.forEach(mD),sm.forEach(mD)}function Gy(c,d){c.blockedOn===d&&(c.blockedOn=null,CS||(CS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rX)))}var Hy=null;function gD(c){Hy!==c&&(Hy=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hy===c&&(Hy=null);for(var d=0;d<c.length;d+=3){var h=c[d],m=c[d+1],O=c[d+2];if(typeof m!="function"){if(xS(m||h)===null)continue;break}var R=Xf(h);R!==null&&(c.splice(d,3),d-=3,jw(R,{pending:!0,data:O,method:h.method,action:m},m,O))}}))}function Dh(c){function d(ue){return Gy(ue,c)}Ac!==null&&Gy(Ac,c),Nc!==null&&Gy(Nc,c),Dc!==null&&Gy(Dc,c),om.forEach(d),sm.forEach(d);for(var h=0;h<Ic.length;h++){var m=Ic[h];m.blockedOn===c&&(m.blockedOn=null)}for(;0<Ic.length&&(h=Ic[0],h.blockedOn===null);)pD(h),h.blockedOn===null&&Ic.shift();if(h=(c.ownerDocument||c).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var O=h[m],R=h[m+1],L=O[dr]||null;if(typeof R=="function")L||gD(h);else if(L){var J=null;if(R&&R.hasAttribute("formAction")){if(O=R,L=R[dr]||null)J=L.formAction;else if(xS(O)!==null)continue}else J=L.action;typeof J=="function"?h[m+1]=J:(h.splice(m,3),m-=3),gD(h)}}}function _D(){function c(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(L){return O=L})},focusReset:"manual",scroll:"manual"})}function d(){O!==null&&(O(),O=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,O=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),O!==null&&(O(),O=null)}}}function TS(c){this._internalRoot=c}Ky.prototype.render=TS.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(i(409));var h=d.current,m=an();lD(h,m,c,d,null,null)},Ky.prototype.unmount=TS.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;lD(c.current,2,null,c,null,null),jy(),d[cu]=null}};function Ky(c){this._internalRoot=c}Ky.prototype.unstable_scheduleHydration=function(c){if(c){var d=vp();c={blockedOn:null,target:c,priority:d};for(var h=0;h<Ic.length&&d!==0&&d<Ic[h].priority;h++);Ic.splice(h,0,c),h===0&&pD(c)}};var yD=n.version;if(yD!=="19.2.3")throw Error(i(527,yD,"19.2.3"));k.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=u(d),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var nX={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ky.isDisabled&&ky.supportsFiber)try{Te=ky.inject(nX),tt=ky}catch{}}return cm.createRoot=function(c,d){if(!l(c))throw Error(i(299));var h=!1,m="",O=RA,R=jA,L=xA;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(m=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError)),d=oD(c,1,!1,null,null,h,m,null,O,R,L,_D),c[cu]=d.current,cS(c),new TS(d)},cm.hydrateRoot=function(c,d,h){if(!l(c))throw Error(i(299));var m=!1,O="",R=RA,L=jA,J=xA,ue=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(R=h.onUncaughtError),h.onCaughtError!==void 0&&(L=h.onCaughtError),h.onRecoverableError!==void 0&&(J=h.onRecoverableError),h.formState!==void 0&&(ue=h.formState)),d=oD(c,1,!0,d,h??null,m,O,ue,R,L,J,_D),d.context=sD(null),h=d.current,m=an(),m=Zf(m),O=bc(m),O.callback=null,wc(h,O,m),h=m,d.current.lanes=h,qe(d,h),pu(d),c[cu]=d.current,cS(c),new Ky(d)},cm.version="19.2.3",cm}var CD;function hX(){if(CD)return AS.exports;CD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),AS.exports=fX(),AS.exports}var pX=hX();const mX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,o,i)=>i?i.toUpperCase():o.toLowerCase()),TD=e=>{const n=gX(e);return n.charAt(0).toUpperCase()+n.slice(1)},VV=(...e)=>e.filter((n,o,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===o).join(" ").trim(),_X=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var yX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vX=Je.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:t,iconNode:r,...a},s)=>Je.createElement("svg",{ref:s,...yX,width:n,height:n,stroke:e,strokeWidth:i?Number(o)*24/Number(n):o,className:VV("lucide",l),...!t&&!_X(a)&&{"aria-hidden":"true"},...a},[...r.map(([u,f])=>Je.createElement(u,f)),...Array.isArray(t)?t:[t]]));const ct=(e,n)=>{const o=Je.forwardRef(({className:i,...l},t)=>Je.createElement(vX,{ref:t,iconNode:n,className:VV(`lucide-${mX(TD(e))}`,`lucide-${e}`,i),...l}));return o.displayName=TD(e),o};const bX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],GV=ct("arrow-right",bX);const wX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],id=ct("book-open",wX);const SX=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Y1=ct("brain",SX);const OX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],EX=ct("check",OX);const RX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ub=ct("chevron-down",RX);const jX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],HV=ct("circle-alert",jX);const xX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_u=ct("circle-check-big",xX);const CX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TX=ct("circle-check",CX);const MX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Yy=ct("circle-x",MX);const PX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AX=ct("circle",PX);const NX=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],MD=ct("code",NX);const DX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Hg=ct("database",DX);const IX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zX=ct("external-link",IX);const BX=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],cb=ct("github",BX);const qX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],LX=ct("globe",qX);const UX=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],$X=ct("instagram",UX);const FX=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],VX=ct("key",FX);const GX=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],GC=ct("layers",GX);const HX=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],PD=ct("lightbulb",HX);const KX=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],kX=ct("link",KX);const YX=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],WX=ct("linkedin",YX);const JX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],KV=ct("loader-circle",JX);const ZX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],QX=ct("menu",ZX);const XX=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],AD=ct("message-circle",XX);const eee=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ND=ct("message-square",eee);const tee=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ree=ct("moon",tee);const nee=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],kV=ct("network",nee);const aee=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],iee=ct("play",aee);const oee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],DD=ct("search",oee);const see=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HC=ct("settings",see);const lee=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vu=ct("sparkles",lee);const uee=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cee=ct("sun",uee);const dee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ID=ct("target",dee);const fee=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],hee=ct("terminal",fee);const pee=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],mee=ct("twitter",pee);const gee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YV=ct("users",gee);const _ee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WV=ct("x",_ee);const yee=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],vee=ct("youtube",yee);const bee=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wee=ct("zap",bee),zD=e=>{let n;const o=new Set,i=(u,f)=>{const g=typeof u=="function"?u(n):u;if(!Object.is(g,n)){const b=n;n=f??(typeof g!="object"||g===null)?g:Object.assign({},n,g),o.forEach(_=>_(n,b))}},l=()=>n,a={setState:i,getState:l,getInitialState:()=>s,subscribe:u=>(o.add(u),()=>o.delete(u))},s=n=e(i,l,a);return a},See=(e=>e?zD(e):zD),Oee=e=>e;function Eee(e,n=Oee){const o=yu.useSyncExternalStore(e.subscribe,yu.useCallback(()=>n(e.getState()),[e,n]),yu.useCallback(()=>n(e.getInitialState()),[e,n]));return yu.useDebugValue(o),o}const Ree=e=>{const n=See(e),o=i=>Eee(n,i);return Object.assign(o,n),o},jee=(e=>Ree);function xee(e,n){let o;try{o=e()}catch{return}return{getItem:l=>{var t;const r=s=>s===null?null:JSON.parse(s,void 0),a=(t=o.getItem(l))!=null?t:null;return a instanceof Promise?a.then(r):r(a)},setItem:(l,t)=>o.setItem(l,JSON.stringify(t,void 0)),removeItem:l=>o.removeItem(l)}}const KC=e=>n=>{try{const o=e(n);return o instanceof Promise?o:{then(i){return KC(i)(o)},catch(i){return this}}}catch(o){return{then(i){return this},catch(i){return KC(i)(o)}}}},Cee=(e,n)=>(o,i,l)=>{let t={storage:xee(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...n},r=!1;const a=new Set,s=new Set;let u=t.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),o(...y)},i,l);const f=()=>{const y=t.partialize({...i()});return u.setItem(t.name,{state:y,version:t.version})},g=l.setState;l.setState=(y,v)=>(g(y,v),f());const b=e((...y)=>(o(...y),f()),i,l);l.getInitialState=()=>b;let _;const p=()=>{var y,v;if(!u)return;r=!1,a.forEach(j=>{var x;return j((x=i())!=null?x:b)});const E=((v=t.onRehydrateStorage)==null?void 0:v.call(t,(y=i())!=null?y:b))||void 0;return KC(u.getItem.bind(u))(t.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==t.version){if(t.migrate){const x=t.migrate(j.state,j.version);return x instanceof Promise?x.then(A=>[!0,A]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var x;const[A,M]=j;if(_=t.merge(M,(x=i())!=null?x:b),o(_,!0),A)return f()}).then(()=>{E?.(_,void 0),_=i(),r=!0,s.forEach(j=>j(_))}).catch(j=>{E?.(void 0,j)})};return l.persist={setOptions:y=>{t={...t,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u?.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>p(),hasHydrated:()=>r,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(s.add(y),()=>{s.delete(y)})},t.skipHydration||p(),_||b},Tee=Cee,Er=jee()(Tee(e=>({apiKey:null,provider:"groq",selectedModel:"llama-3.1-8b-instant",availableModels:[],currentLab:1,labProgress:{},language:"en",theme:"dark",setApiKey:(n,o)=>{e({apiKey:n,provider:o,selectedModel:o==="groq"?"llama-3.1-8b-instant":"command-a-03-2025"})},setSelectedModel:n=>e({selectedModel:n}),setAvailableModels:n=>e({availableModels:n}),setCurrentLab:n=>e({currentLab:n}),markLabComplete:n=>e(o=>({labProgress:{...o.labProgress,[n]:!0}})),markLabCompleteAndAdvance:(n,o)=>e(i=>{const l=n<o?n+1:n;return{labProgress:{...i.labProgress,[n]:!0},currentLab:l}}),setLanguage:n=>e({language:n}),setTheme:n=>e({theme:n})}),{name:"agents-training-storage"})),Mee={en:{home:"Home",agents:"Agents",features:"Features",blog:"Blog",contact:"Contact",progress:"Progress",repo:"Repo",agentsDropdown:{progressiveLabs:"8 Progressive Labs",progressiveLabsDesc:"From basic components to orchestrator agents",interactiveLearning:"Interactive Learning",interactiveLearningDesc:"Hands-on code cells with real LLM integration",multiAgent:"Multi-Agent Systems",multiAgentDesc:"Learn collaboration and orchestration patterns"},featuresDropdown:{browserBased:"100% Browser-Based",browserBasedDesc:"No backend needed - runs entirely in your browser",monacoEditor:"Monaco Editor",monacoEditorDesc:"Professional code editing experience",progressTracking:"Progress Tracking",progressTrackingDesc:"Save your progress with localStorage",langchain:"LangChain.js",langchainDesc:"Industry-standard agent framework"},homepage:{subtitle:"Master the art of building AI agents",welcomeTitle:"WELCOME TO YOUR AI AGENTS TRAINING",aiBuilder:"AI Builder, Speaker & Educator",whatYouLearn:"What You'll Learn",infoTitle:"INFO",infoText:"This interactive training platform runs entirely in your browser using your API keys. Your keys are stored in local storage and never sent to any server expect for the LLM provider.",getStarted:"CONFIGURE API KEY & START LEARNING",skipForNow:"SKIP FOR NOW",footerCopyright:" 2025 Yuval Avidani. All rights reserved",footerTagline:"Founder of YUV.AI - Making AI practical, personal, and powerful"},labs:{agentComponents:"Agent Components",agentComponentsDesc:"Learn about different agent components",simplePrompt:"Simple Prompt/Response",simplePromptDesc:"Simple prompts & prompt responses",conversationMemory:"Conversation Memory",conversationMemoryDesc:"Conversational memory, build conversation context",customPrompts:"Custom System Prompts",customPromptsDesc:"Custom system prompts for specialized agent behavior",knowledgeBase:"Knowledge Base",knowledgeBaseDesc:"A comprehensive implementation of knowledge AI agents",ragWikipedia:"RAG with Wikipedia",ragWikipediaDesc:"RAG integration with Wikipedia and vector search",multiAgentCollab:"Multi-Agent Collaboration",multiAgentCollabDesc:"Multi-agent systems with orchestration patterns",orchestrator:"Orchestrator Agent",orchestratorDesc:"Orchestrator agent with multi-agent routing"},apiModal:{title:"API CONFIGURATION",infoStored:' Your API key is securely stored in your browser. You can update it below or click "Save & Continue" to keep using the current key.',infoNotStored:"Your API key is stored locally in your browser and never sent to any server except the LLM provider you choose.",selectProvider:"Select Provider",groqName:"Groq",groqDesc:"Fastest inference, great for real-time demos",cohereName:"Cohere",cohereDesc:"Excellent for RAG and embeddings",apiKeyLabel:"API Key",apiKeyPlaceholder:"Enter your API key",getApiKey:"Get your API key from",validateKey:"VALIDATE API KEY",validating:"VALIDATING...",saveAndContinue:"SAVE & CONTINUE",cancel:"Cancel"},codeCell:{runCode:"Run Code",running:"Running...",output:"OUTPUT:",error:"Error",success:"Success",collapseOutput:"Collapse Output",expandOutput:"Expand Output"},completeLabButton:{completeLab:"Complete Lab & Continue",completeLabShort:"Complete",labCompleted:"Lab Completed!",labCompletedShort:"Completed!"},lab2:{title:"Lab 2: Simple Prompt/Response Agent",subtitle:"Learn the basics of interacting with an LLM",whatYouLearn:"What you'll learn:",learn1:"How to import and initialize a LangChain LLM",learn2:"Sending a simple prompt to the AI",learn3:"Receiving and displaying the response",learn4:"Understanding the basic request/response cycle",step1Title:"Import LangChain",step1Desc:"class from LangChain",step2Title:"Create LLM Instance",step2Desc:"Initialize the LLM with your API key and selected model",step3Title:"Define Your Prompt",step3Desc:"Create a simple question to ask the AI",step4Title:"Get AI Response",step4Desc:"Send the prompt and receive the AI's response",step5Title:"Complete Example",step5Desc:"Put it all together - your first working AI agent!",congratsTitle:"Congratulations!",congratsText:"You've created your first AI agent! This simple prompt/response pattern is the foundation for all AI agents. In the next labs, we'll add memory, tools, and more complex behaviors."},bonus:{label:"BONUS",title:"Prompt Engineering vs Context Engineering",subtitle:"Discover why the industry is shifting from simple prompts to comprehensive context management - and what this means for building production-ready AI systems.",navTitle:"Context Engineering",navDesc:"The evolution from prompts to context",tobiQuote:'I really like the term "context engineering" over prompt engineering. It describes the core skill better: the art of providing all the context for the task to be plausibly solvable by the LLM.',karpathyQuote:"People associate prompts with short task descriptions you'd give an LLM in your day-to-day use. When in every industrial-strength LLM app, context engineering is the delicate art and science of filling the context window with just the right information for the next step.",karpathyTitle:"Former AI Director at Tesla, Co-founder of OpenAI",promptEngTitle:"What is Prompt Engineering?",promptEngDesc:"Prompt engineering is the practice of crafting effective text inputs (prompts) to get desired outputs from an LLM. It focuses primarily on HOW you ask a question - the wording, structure, and framing of your request.",promptEngExample:"Example: Better Prompting",simplePrompt:"Simple prompt",betterPrompt:"Engineered prompt",contextEngTitle:"What is Context Engineering?",contextEngDesc:"Context engineering goes far beyond the prompt itself. It's about strategically assembling ALL the information the LLM needs to successfully complete a task. This includes not just the question, but the entire environment of knowledge surrounding it.",contextComponents:"Components of Context Engineering",taskDesc:"Task Descriptions",taskDescDetail:"Clear explanations of what needs to be done",fewShot:"Few-Shot Examples",fewShotDetail:"Demonstrations of desired input/output pairs",ragData:"RAG Data",ragDataDetail:"Retrieved documents and knowledge base content",tools:"Tool Definitions",toolsDetail:"Available functions and their documentation",memory:"State & Memory",memoryDetail:"Conversation history and user context",stateHistory:"Compacting",stateHistoryDetail:"Intelligently managing limited context window space",comparison:"Side-by-Side Comparison",promptEngShort:"Prompt Engineering",contextEngShort:"Context Engineering",pePoint1:"Focuses on crafting the right question",pePoint2:"Static, single-turn interactions",pePoint3:"Limited to what fits in one message",pePoint4:"Like writing a good Google search query",cePoint1:"Focuses on providing complete context",cePoint2:"Dynamic, multi-turn with memory",cePoint3:"Orchestrates multiple information sources",cePoint4:"Like preparing a complete briefing document",caseStudy1Title:"Case Study: Coding Assistant",promptApproach:" Prompt Approach",contextApproach:" Context Approach",case1PromptResult:"Generic answer, no understanding of your specific situation",case1ContextResult:"Precise fix with understanding of your exact codebase and issue",caseStudy2Title:"Case Study: Contextual Retrieval (Anthropic)",caseStudy2Desc:"Anthropic discovered that traditional RAG loses critical context when chunks are retrieved in isolation. Their solution: Context Engineering.",ragBefore:" Traditional RAG chunk:",ragProblem:" Missing: Which company? What time period?",ragAfter:" Context-engineered chunk:",ragSolution:" Now contains full context for accurate retrieval!",ragSource:`Source: Anthropic's "Contextual Retrieval" - This approach reduced retrieval failures by 49%`,caseStudy3Title:"Case Study: Production AI Agents",caseStudy3Desc:"In real-world AI agents like Claude's coding capabilities or GitHub Copilot, the context window contains far more than just your message:",contextWindowContains:"What fills the context window:",cwItem1:"System prompts with behavioral guidelines",cwItem2:"Retrieved documentation and code examples",cwItem3:"Tool definitions with usage instructions",cwItem4:"Conversation history and working memory",cwItem5:"User preferences and project-specific rules",result:"Result:",caseStudy3Result:"The agent can understand your codebase, follow your conventions, use the right tools, and maintain context across multiple interactions.",keyTakeaways:"Key Takeaways",takeaway1:`Prompt Engineering is a subset of Context Engineering - it's about the "what you ask" part, while context engineering is about "everything the LLM sees"`,takeaway2:"Production AI systems spend more effort on context engineering than prompt engineering - Anthropic's SWE-bench agent optimized tools more than prompts",takeaway3:"Context engineering includes: task descriptions, few-shot examples, RAG data, tools, memory, state history, and intelligent compacting",takeaway4:'The goal is to provide "all the context for the task to be plausibly solvable" - not just a clever prompt',finalSummary:`"The art of context engineering is not about finding the perfect words - it's about assembling the perfect information environment for your AI to succeed."`}},he:{home:"",agents:"",features:"",blog:"",contact:" ",progress:"",repo:"",agentsDropdown:{progressiveLabs:"8  ",progressiveLabsDesc:"    ",interactiveLearning:" ",interactiveLearningDesc:"     LLM ",multiAgent:" -",multiAgentDesc:"    "},featuresDropdown:{browserBased:"100%  ",browserBasedDesc:"   -    ",monacoEditor:" Monaco",monacoEditorDesc:"   ",progressTracking:" ",progressTrackingDesc:"     localStorage",langchain:"LangChain.js",langchainDesc:"   "},homepage:{subtitle:"    AI",welcomeTitle:"    -AI ",aiBuilder:" AI,  ",whatYouLearn:" ",infoTitle:"",infoText:"        -API  .   -Local Storage       (LLM)  .",getStarted:"  API  ",skipForNow:" ",footerCopyright:" 2025  .   ",footerTagline:" YUV.AI -  AI ,  "},labs:{agentComponents:" ",agentComponentsDesc:"    ",simplePrompt:"/ ",simplePromptDesc:"   ",conversationMemory:" ",conversationMemoryDesc:" ,   ",customPrompts:"  ",customPromptsDesc:"     ",knowledgeBase:" ",knowledgeBaseDesc:"    AI ",ragWikipedia:"RAG  ",ragWikipediaDesc:" RAG    ",multiAgentCollab:"  -",multiAgentCollabDesc:" -   ",orchestrator:" ",orchestratorDesc:"    -"},apiModal:{title:" API",infoStored:'  -API      .         " "     .',infoNotStored:" -API             -LLM .",selectProvider:" ",groqName:"Groq",groqDesc:"  ,    ",cohereName:"Cohere",cohereDesc:" -RAG -embeddings",apiKeyLabel:" API",apiKeyPlaceholder:"   -API ",getApiKey:"   -API  ",validateKey:"  API",validating:"...",saveAndContinue:" ",cancel:""},codeCell:{runCode:" ",running:"...",output:":",error:"",success:"",collapseOutput:" ",expandOutput:" "},completeLabButton:{completeLab:"  ",completeLabShort:"",labCompleted:"! ",labCompletedShort:"!"},lab2:{title:" 2:  / ",subtitle:"      LLM",whatYouLearn:": ",learn1:"   LangChain LLM",learn2:"   -AI",learn3:"  ",learn4:"  / ",step1Title:" LangChain",step1Desc:"-LangChain",step2Title:"  LLM",step2Desc:" -LLM   -API  ",step3Title:"  ",step3Desc:"     -AI",step4Title:"  AI",step4Desc:"      -AI",step5Title:" ",step5Desc:"   -  -AI  !",congratsTitle:"! ",congratsText:"   -AI  !  /       -AI.  ,  ,    ."},bonus:{label:"",title:"    ",subtitle:"         -      AI  .",navTitle:" ",navDesc:"  ",tobiQuote:'     " "    .       :              -LLM.',karpathyQuote:"         -LLM  .    LLM ,               .",karpathyTitle:" AI  ,   -OpenAI",promptEngTitle:"  ?",promptEngDesc:"         ()     -LLM.        - ,     .",promptEngExample:":   ",simplePrompt:" ",betterPrompt:" ",contextEngTitle:"  ?",contextEngDesc:"      .       -LLM     .      ,      .",contextComponents:"  ",taskDesc:" ",taskDescDetail:"     ",fewShot:" Few-Shot",fewShotDetail:"   / ",ragData:" RAG",ragDataDetail:"    ",tools:" ",toolsDetail:"   ",memory:" ",memoryDetail:"   ",stateHistory:"",stateHistoryDetail:"      ",comparison:"   ",promptEngShort:" ",contextEngShort:" ",pePoint1:"   ",pePoint2:" , -",pePoint3:"    ",pePoint4:"     ",cePoint1:"   ",cePoint2:", -  ",cePoint3:"   ",cePoint4:"    ",caseStudy1Title:" :  ",promptApproach:"  ",contextApproach:"  ",case1PromptResult:" ,      ",case1ContextResult:"         ",caseStudy2Title:" :   (Anthropic)",caseStudy2Desc:"Anthropic  -RAG        .  :  .",ragBefore:"  RAG :",ragProblem:" :  ?  ?",ragAfter:"  -:",ragSolution:"      !",ragSource:': " "  Anthropic -      -49%',caseStudy3Title:" :  AI ",caseStudy3Desc:" AI      Claude  GitHub Copilot,        :",contextWindowContains:"    :",cwItem1:"    ",cwItem2:"   ",cwItem3:"    ",cwItem4:"   ",cwItem5:"    ",result:":",caseStudy3Result:"      ,    ,   ,      .",keyTakeaways:" ",takeaway1:'   -    -     "  ",     "  -LLM "',takeaway2:" AI          -  -SWE-bench  Anthropic    ",takeaway3:"  :  ,  few-shot,  RAG, , ,  ,  ",takeaway4:'   "       " -    ',finalSummary:'"         -        -AI  ."'}}};function be(e,n){const o=n.split(".");let i=Mee[e];for(const l of o)if(i&&typeof i=="object")i=i[l];else return n;return typeof i=="string"?i:n}function Pee({labs:e,onLabClick:n}){const{currentLab:o,labProgress:i,setCurrentLab:l,language:t}=Er(),r=f=>["agentComponents","simplePrompt","customPrompts","conversationMemory","knowledgeBase","ragWikipedia","multiAgentCollab","orchestrator"][f-1]||"agentComponents",a=f=>{l(f),n&&n()},s=e.filter(f=>!f.isBonus),u=e.filter(f=>f.isBonus);return w.jsxs("nav",{className:"relative h-full overflow-y-auto bg-gradient-to-b from-slate-900/95 via-blue-900/30 to-purple-900/30 backdrop-blur-xl border-r border-cyan-500/20",children:[w.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(5)].map((f,g)=>w.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*10}s`,animationDuration:`${15+Math.random()*5}s`}},g))}),w.jsxs("div",{className:"relative p-6",children:[w.jsxs("div",{className:"mb-6 pb-6 border-b border-cyan-500/30",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsxs("div",{className:"avatar-container relative w-12 h-12 flex-shrink-0",children:[w.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-cyan-500 via-purple-500 to-pink-500 p-1 animate-rgb-rotate",style:{boxShadow:"0 0 25px rgba(0, 212, 255, 0.8), 0 0 40px rgba(168, 85, 247, 0.6), inset 0 0 15px rgba(255, 255, 255, 0.1)"},children:w.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-slate-900/30 backdrop-blur-sm"})}),w.jsx("div",{className:"absolute inset-[-15%] flex items-center justify-center",children:w.jsx("img",{src:"round-avatar.png",alt:"AI Avatar",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 3px 15px rgba(0, 212, 255, 0.5))"}})})]}),w.jsx("h2",{className:"text-xl md:text-xl font-bold heading-font neon-cyan tracking-wider",children:"AI AGENTS 101"})]}),w.jsx("p",{className:"text-sm text-gradient-gold font-semibold tracking-wide",children:"by Yuval Avidani  YUV.AI"})]}),w.jsx("div",{className:"space-y-2",children:s.map(f=>{const g=o===f.id,b=i[f.id];return w.jsx("button",{onClick:()=>a(f.id),className:`w-full px-4 py-3 rounded-xl transition-all hover-lift relative overflow-hidden ${t==="he"?"text-right":"text-left"} ${g?"bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border-2 border-cyan-400 shadow-neural":"glass border border-white/10 hover:glass-strong hover:border-cyan-500/50"}`,style:g?{boxShadow:"0 0 20px rgba(0, 212, 255, 0.3)"}:{},children:w.jsxs("div",{className:`flex items-center gap-3 relative z-10 ${t==="he"?"flex-row-reverse":"flex-row"}`,children:[b?w.jsx(_u,{className:`w-5 h-5 flex-shrink-0 ${g?"text-green-400":"text-green-500"}`,style:{filter:"drop-shadow(0 0 8px rgba(34, 197, 94, 0.8))"}}):w.jsx(AX,{className:`w-5 h-5 flex-shrink-0 ${g?"text-cyan-400":"text-white/40"}`}),w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:`text-sm font-bold ${g?"neon-cyan":"text-white"}`,children:t==="he"?` ${f.id}`:`LAB ${f.id}`}),w.jsx("div",{className:`text-xs ${g?"text-white font-medium":"text-white/60"}`,children:be(t,`labs.${r(f.id)}`)})]})]})},f.id)})}),u.length>0&&w.jsxs("div",{className:"mt-6 pt-6 border-t border-purple-500/30",children:[w.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[w.jsx(vu,{className:"w-4 h-4 text-purple-400"}),w.jsx("span",{className:"text-sm font-bold text-purple-400 tracking-wider",children:t==="he"?" ":"BONUS CONTENT"})]}),w.jsx("div",{className:"space-y-2",children:u.map(f=>{const g=o===f.id;return w.jsx("button",{onClick:()=>a(f.id),className:`w-full px-4 py-3 rounded-xl transition-all hover-lift relative overflow-hidden ${t==="he"?"text-right":"text-left"} ${g?"bg-gradient-to-r from-purple-500/30 to-cyan-500/20 border-2 border-purple-400 shadow-neural":"bg-gradient-to-r from-purple-900/20 to-cyan-900/20 border border-purple-500/30 hover:border-purple-400/60"}`,style:g?{boxShadow:"0 0 20px rgba(168, 85, 247, 0.4)"}:{},children:w.jsxs("div",{className:`flex items-center gap-3 relative z-10 ${t==="he"?"flex-row-reverse":"flex-row"}`,children:[w.jsx(vu,{className:`w-5 h-5 flex-shrink-0 ${g?"text-purple-300":"text-purple-400"}`,style:{filter:"drop-shadow(0 0 8px rgba(168, 85, 247, 0.8))"}}),w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:`text-sm font-bold ${g?"text-purple-300":"text-purple-400"}`,children:be(t,"bonus.label")}),w.jsx("div",{className:`text-xs ${g?"text-white font-medium":"text-white/60"}`,children:be(t,"bonus.navTitle")})]})]})},f.id)})})]})]})]})}const Aee={"llama-3.1-8b-instant":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"mistral-saba-24b":{maxInputTokens:32768,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-8b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen-qwq-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-70b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"deepseek-r1-distill-llama-70b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-guard-3-8b":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1},"gemma2-9b-it":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-3.3-70b-versatile":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct-0905":{maxInputTokens:262144,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-20b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-120b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen/qwen3-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-scout-17b-16e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-maverick-17b-128e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-guard-4-12b":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:128,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1}};var Nee=Aee,Dee=Object.defineProperty,dt=(e,n)=>{for(var o in n)Dee(e,o,{get:n[o],enumerable:!0})};function dp(e,n,o){function i(a,s){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(e),n(a,s);for(const f in r.prototype)f in a||Object.defineProperty(a,f,{value:r.prototype[f].bind(a)});a._zod.constr=r,a._zod.def=s}const l=o?.Parent??Object;class t extends l{}Object.defineProperty(t,"name",{value:e});function r(a){var s;const u=o?.Parent?new t:this;i(u,a),(s=u._zod).deferred??(s.deferred=[]);for(const f of u._zod.deferred)f();return u}return Object.defineProperty(r,"init",{value:i}),Object.defineProperty(r,Symbol.hasInstance,{value:a=>o?.Parent&&a instanceof o.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(r,"name",{value:e}),r}class db extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Iee={};function Ab(e){return Iee}function zee(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,l])=>n.indexOf(+i)===-1).map(([i,l])=>l)}function Bee(e,n){return typeof n=="bigint"?n.toString():n}function qee(e){const n=e.startsWith("^")?1:0,o=e.endsWith("$")?e.length-1:e.length;return e.slice(n,o)}function BD(e,n,o){Object.defineProperty(e,n,{get(){{const i=o();return e[n]=i,i}},set(i){Object.defineProperty(e,n,{value:i})},configurable:!0})}function Lee(e,n,o){Object.defineProperty(e,n,{value:o,writable:!0,enumerable:!0,configurable:!0})}const JV=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function qD(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Uee(e){if(qD(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const o=n.prototype;return!(qD(o)===!1||Object.prototype.hasOwnProperty.call(o,"isPrototypeOf")===!1)}function eu(e,n,o){const i=new e._zod.constr(n??e._zod.def);return(!n||o?.parent)&&(i._zod.parent=e),i}function $ee(e){return{}}function Fee(e,n){if(!Uee(n))throw new Error("Invalid input to extend: expected a plain object");const o={...e._zod.def,get shape(){const i={...e._zod.def.shape,...n};return Lee(this,"shape",i),i},checks:[]};return eu(e,o)}function Vee(e,n,o){const i=n._zod.def.shape,l={...i};for(const t in i)l[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return eu(n,{...n._zod.def,shape:l,checks:[]})}function zS(e,n=0){for(let o=n;o<e.issues.length;o++)if(e.issues[o]?.continue!==!0)return!0;return!1}function Wy(e){return typeof e=="string"?e:e?.message}function Nb(e,n,o){const i={...e,path:e.path??[]};if(!e.message){const l=Wy(e.inst?._zod.def?.error?.(e))??Wy(n?.error?.(e))??Wy(o.customError?.(e))??Wy(o.localeError?.(e))??"Invalid input";i.message=l}return delete i.inst,delete i.continue,n?.reportInput||delete i.input,i}const ZV=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(n,Bee,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Gee=dp("$ZodError",ZV),Db=dp("$ZodError",ZV,{Parent:Error}),Hee=e=>(n,o,i,l)=>{const t=i?Object.assign(i,{async:!1}):{async:!1},r=n._zod.run({value:o,issues:[]},t);if(r instanceof Promise)throw new db;if(r.issues.length){const a=new(l?.Err??e)(r.issues.map(s=>Nb(s,t,Ab())));throw JV(a,l?.callee),a}return r.value},W1=Hee(Db),Kee=e=>async(n,o,i,l)=>{const t=i?Object.assign(i,{async:!0}):{async:!0};let r=n._zod.run({value:o,issues:[]},t);if(r instanceof Promise&&(r=await r),r.issues.length){const a=new(l?.Err??e)(r.issues.map(s=>Nb(s,t,Ab())));throw JV(a,l?.callee),a}return r.value},QV=Kee(Db),kee=e=>(n,o,i)=>{const l=i?{...i,async:!1}:{async:!1},t=n._zod.run({value:o,issues:[]},l);if(t instanceof Promise)throw new db;return t.issues.length?{success:!1,error:new(e??Gee)(t.issues.map(r=>Nb(r,l,Ab())))}:{success:!0,data:t.value}},Yee=kee(Db),Wee=e=>async(n,o,i)=>{const l=i?Object.assign(i,{async:!0}):{async:!0};let t=n._zod.run({value:o,issues:[]},l);return t instanceof Promise&&(t=await t),t.issues.length?{success:!1,error:new e(t.issues.map(r=>Nb(r,l,Ab())))}:{success:!0,data:t.value}},Jee=Wee(Db),Zee={major:4,minor:0,patch:0},J1=dp("$ZodType",(e,n)=>{var o;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=Zee;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const l of i)for(const t of l._zod.onattach)t(e);if(i.length===0)(o=e._zod).deferred??(o.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const l=(t,r,a)=>{let s=zS(t),u;for(const f of r){if(f._zod.def.when){if(!f._zod.def.when(t))continue}else if(s)continue;const g=t.issues.length,b=f._zod.check(t);if(b instanceof Promise&&a?.async===!1)throw new db;if(u||b instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await b,t.issues.length!==g&&(s||(s=zS(t,g)))});else{if(t.issues.length===g)continue;s||(s=zS(t,g))}}return u?u.then(()=>t):t};e._zod.run=(t,r)=>{const a=e._zod.parse(t,r);if(a instanceof Promise){if(r.async===!1)throw new db;return a.then(s=>l(s,i,r))}return l(a,i,r)}}e["~standard"]={validate:l=>{try{const t=Yee(e,l);return t.success?{value:t.data}:{issues:t.error?.issues}}catch{return Jee(e,l).then(r=>r.success?{value:r.data}:{issues:r.error?.issues})}},vendor:"zod",version:1}}),Qee=dp("$ZodUnknown",(e,n)=>{J1.init(e,n),e._zod.parse=o=>o}),Xee=dp("$ZodNever",(e,n)=>{J1.init(e,n),e._zod.parse=(o,i)=>(o.issues.push({expected:"never",code:"invalid_type",input:o.value,inst:e}),o)}),XV=dp("$ZodOptional",(e,n)=>{J1.init(e,n),e._zod.optin="optional",e._zod.optout="optional",BD(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),BD(e._zod,"pattern",()=>{const o=n.innerType._zod.pattern;return o?new RegExp(`^(${qee(o.source)})?$`):void 0}),e._zod.parse=(o,i)=>n.innerType._zod.optin==="optional"?n.innerType._zod.run(o,i):o.value===void 0?o:n.innerType._zod.run(o,i)});class eG{constructor(){this._map=new Map,this._idmap=new Map}add(n,...o){const i=o[0];if(this._map.set(n,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,n)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(n){const o=this._map.get(n);return o&&typeof o=="object"&&"id"in o&&this._idmap.delete(o.id),this._map.delete(n),this}get(n){const o=n._zod.parent;if(o){const i={...this.get(o)??{}};return delete i.id,{...i,...this._map.get(n)}}return this._map.get(n)}has(n){return this._map.has(n)}}function ete(){return new eG}const kr=ete();function tte(e){return new e({type:"unknown"})}function rte(e,n){return new e({type:"never",...$ee()})}class LD{constructor(n){this.counter=0,this.metadataRegistry=n?.metadata??kr,this.target=n?.target??"draft-2020-12",this.unrepresentable=n?.unrepresentable??"throw",this.override=n?.override??(()=>{}),this.io=n?.io??"output",this.seen=new Map}process(n,o={path:[],schemaPath:[]}){var i;const l=n._zod.def,t={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},r=this.seen.get(n);if(r)return r.count++,o.schemaPath.includes(n)&&(r.cycle=o.path),r.schema;const a={schema:{},count:1,cycle:void 0,path:o.path};this.seen.set(n,a);const s=n._zod.toJSONSchema?.();if(s)a.schema=s;else{const g={...o,schemaPath:[...o.schemaPath,n],path:o.path},b=n._zod.parent;if(b)a.ref=b,this.process(b,g),this.seen.get(b).isParent=!0;else{const _=a.schema;switch(l.type){case"string":{const p=_;p.type="string";const{minimum:y,maximum:v,format:E,patterns:j,contentEncoding:x}=n._zod.bag;if(typeof y=="number"&&(p.minLength=y),typeof v=="number"&&(p.maxLength=v),E&&(p.format=t[E]??E,p.format===""&&delete p.format),x&&(p.contentEncoding=x),j&&j.size>0){const A=[...j];A.length===1?p.pattern=A[0].source:A.length>1&&(a.schema.allOf=[...A.map(M=>({...this.target==="draft-7"?{type:"string"}:{},pattern:M.source}))])}break}case"number":{const p=_,{minimum:y,maximum:v,format:E,multipleOf:j,exclusiveMaximum:x,exclusiveMinimum:A}=n._zod.bag;typeof E=="string"&&E.includes("int")?p.type="integer":p.type="number",typeof A=="number"&&(p.exclusiveMinimum=A),typeof y=="number"&&(p.minimum=y,typeof A=="number"&&(A>=y?delete p.minimum:delete p.exclusiveMinimum)),typeof x=="number"&&(p.exclusiveMaximum=x),typeof v=="number"&&(p.maximum=v,typeof x=="number"&&(x<=v?delete p.maximum:delete p.exclusiveMaximum)),typeof j=="number"&&(p.multipleOf=j);break}case"boolean":{const p=_;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{_.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{_.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const p=_,{minimum:y,maximum:v}=n._zod.bag;typeof y=="number"&&(p.minItems=y),typeof v=="number"&&(p.maxItems=v),p.type="array",p.items=this.process(l.element,{...g,path:[...g.path,"items"]});break}case"object":{const p=_;p.type="object",p.properties={};const y=l.shape;for(const j in y)p.properties[j]=this.process(y[j],{...g,path:[...g.path,"properties",j]});const v=new Set(Object.keys(y)),E=new Set([...v].filter(j=>{const x=l.shape[j]._zod;return this.io==="input"?x.optin===void 0:x.optout===void 0}));E.size>0&&(p.required=Array.from(E)),l.catchall?._zod.def.type==="never"?p.additionalProperties=!1:l.catchall?l.catchall&&(p.additionalProperties=this.process(l.catchall,{...g,path:[...g.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{const p=_;p.anyOf=l.options.map((y,v)=>this.process(y,{...g,path:[...g.path,"anyOf",v]}));break}case"intersection":{const p=_,y=this.process(l.left,{...g,path:[...g.path,"allOf",0]}),v=this.process(l.right,{...g,path:[...g.path,"allOf",1]}),E=x=>"allOf"in x&&Object.keys(x).length===1,j=[...E(y)?y.allOf:[y],...E(v)?v.allOf:[v]];p.allOf=j;break}case"tuple":{const p=_;p.type="array";const y=l.items.map((j,x)=>this.process(j,{...g,path:[...g.path,"prefixItems",x]}));if(this.target==="draft-2020-12"?p.prefixItems=y:p.items=y,l.rest){const j=this.process(l.rest,{...g,path:[...g.path,"items"]});this.target==="draft-2020-12"?p.items=j:p.additionalItems=j}l.rest&&(p.items=this.process(l.rest,{...g,path:[...g.path,"items"]}));const{minimum:v,maximum:E}=n._zod.bag;typeof v=="number"&&(p.minItems=v),typeof E=="number"&&(p.maxItems=E);break}case"record":{const p=_;p.type="object",p.propertyNames=this.process(l.keyType,{...g,path:[...g.path,"propertyNames"]}),p.additionalProperties=this.process(l.valueType,{...g,path:[...g.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const p=_,y=zee(l.entries);y.every(v=>typeof v=="number")&&(p.type="number"),y.every(v=>typeof v=="string")&&(p.type="string"),p.enum=y;break}case"literal":{const p=_,y=[];for(const v of l.values)if(v===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof v=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");y.push(Number(v))}else y.push(v);if(y.length!==0)if(y.length===1){const v=y[0];p.type=v===null?"null":typeof v,p.const=v}else y.every(v=>typeof v=="number")&&(p.type="number"),y.every(v=>typeof v=="string")&&(p.type="string"),y.every(v=>typeof v=="boolean")&&(p.type="string"),y.every(v=>v===null)&&(p.type="null"),p.enum=y;break}case"file":{const p=_,y={type:"string",format:"binary",contentEncoding:"binary"},{minimum:v,maximum:E,mime:j}=n._zod.bag;v!==void 0&&(y.minLength=v),E!==void 0&&(y.maxLength=E),j?j.length===1?(y.contentMediaType=j[0],Object.assign(p,y)):p.anyOf=j.map(x=>({...y,contentMediaType:x})):Object.assign(p,y);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const p=this.process(l.innerType,g);_.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(l.innerType,g),a.ref=l.innerType;break}case"success":{const p=_;p.type="boolean";break}case"default":{this.process(l.innerType,g),a.ref=l.innerType,_.default=JSON.parse(JSON.stringify(l.defaultValue));break}case"prefault":{this.process(l.innerType,g),a.ref=l.innerType,this.io==="input"&&(_._prefault=JSON.parse(JSON.stringify(l.defaultValue)));break}case"catch":{this.process(l.innerType,g),a.ref=l.innerType;let p;try{p=l.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}_.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const p=_,y=n._zod.pattern;if(!y)throw new Error("Pattern not found in template literal");p.type="string",p.pattern=y.source;break}case"pipe":{const p=this.io==="input"?l.in._zod.def.type==="transform"?l.out:l.in:l.out;this.process(p,g),a.ref=p;break}case"readonly":{this.process(l.innerType,g),a.ref=l.innerType,_.readOnly=!0;break}case"promise":{this.process(l.innerType,g),a.ref=l.innerType;break}case"optional":{this.process(l.innerType,g),a.ref=l.innerType;break}case"lazy":{const p=n._zod.innerType;this.process(p,g),a.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const u=this.metadataRegistry.get(n);return u&&Object.assign(a.schema,u),this.io==="input"&&sr(n)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(n).schema}emit(n,o){const i={cycles:o?.cycles??"ref",reused:o?.reused??"inline",external:o?.external??void 0},l=this.seen.get(n);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const t=f=>{const g=this.target==="draft-2020-12"?"$defs":"definitions";if(i.external){const y=i.external.registry.get(f[0])?.id,v=i.external.uri??(j=>j);if(y)return{ref:v(y)};const E=f[1].defId??f[1].schema.id??`schema${this.counter++}`;return f[1].defId=E,{defId:E,ref:`${v("__shared")}#/${g}/${E}`}}if(f[1]===l)return{ref:"#"};const _=`#/${g}/`,p=f[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:_+p}},r=f=>{if(f[1].schema.$ref)return;const g=f[1],{ref:b,defId:_}=t(f);g.def={...g.schema},_&&(g.defId=_);const p=g.schema;for(const y in p)delete p[y];p.$ref=b};if(i.cycles==="throw")for(const f of this.seen.entries()){const g=f[1];if(g.cycle)throw new Error(`Cycle detected: #/${g.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of this.seen.entries()){const g=f[1];if(n===f[0]){r(f);continue}if(i.external){const _=i.external.registry.get(f[0])?.id;if(n!==f[0]&&_){r(f);continue}}if(this.metadataRegistry.get(f[0])?.id){r(f);continue}if(g.cycle){r(f);continue}if(g.count>1&&i.reused==="ref"){r(f);continue}}const a=(f,g)=>{const b=this.seen.get(f),_=b.def??b.schema,p={..._};if(b.ref===null)return;const y=b.ref;if(b.ref=null,y){a(y,g);const v=this.seen.get(y).schema;v.$ref&&g.target==="draft-7"?(_.allOf=_.allOf??[],_.allOf.push(v)):(Object.assign(_,v),Object.assign(_,p))}b.isParent||this.override({zodSchema:f,jsonSchema:_,path:b.path??[]})};for(const f of[...this.seen.entries()].reverse())a(f[0],{target:this.target});const s={};if(this.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?s.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),i.external?.uri){const f=i.external.registry.get(n)?.id;if(!f)throw new Error("Schema is missing an `id` property");s.$id=i.external.uri(f)}Object.assign(s,l.def);const u=i.external?.defs??{};for(const f of this.seen.entries()){const g=f[1];g.def&&g.defId&&(u[g.defId]=g.def)}i.external||Object.keys(u).length>0&&(this.target==="draft-2020-12"?s.$defs=u:s.definitions=u);try{return JSON.parse(JSON.stringify(s))}catch{throw new Error("Error converting schema to JSON.")}}}function UD(e,n){if(e instanceof eG){const i=new LD(n),l={};for(const a of e._idmap.entries()){const[s,u]=a;i.process(u)}const t={},r={registry:e,uri:n?.uri,defs:l};for(const a of e._idmap.entries()){const[s,u]=a;t[s]=i.emit(u,{...n,external:r})}if(Object.keys(l).length>0){const a=i.target==="draft-2020-12"?"$defs":"definitions";t.__shared={[a]:l}}return{schemas:t}}const o=new LD(n);return o.process(e),o.emit(e,n)}function sr(e,n){const o=n??{seen:new Set};if(o.seen.has(e))return!1;o.seen.add(e);const l=e._zod.def;switch(l.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return sr(l.element,o);case"object":{for(const t in l.shape)if(sr(l.shape[t],o))return!0;return!1}case"union":{for(const t of l.options)if(sr(t,o))return!0;return!1}case"intersection":return sr(l.left,o)||sr(l.right,o);case"tuple":{for(const t of l.items)if(sr(t,o))return!0;return!!(l.rest&&sr(l.rest,o))}case"record":return sr(l.keyType,o)||sr(l.valueType,o);case"map":return sr(l.keyType,o)||sr(l.valueType,o);case"set":return sr(l.valueType,o);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return sr(l.innerType,o);case"lazy":return sr(l.getter(),o);case"default":return sr(l.innerType,o);case"prefault":return sr(l.innerType,o);case"custom":return!1;case"transform":return!0;case"pipe":return sr(l.in,o)||sr(l.out,o);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${l.type}`)}function Ht(e){if(typeof e!="object"||e===null)return!1;const n=e;if(!("_zod"in n))return!1;const o=n._zod;return typeof o=="object"&&o!==null&&"def"in o}function cr(e){if(typeof e!="object"||e===null)return!1;const n=e;if(!("_def"in n)||"_zod"in n)return!1;const o=n._def;return typeof o=="object"&&o!=null&&"typeName"in o}function nte(e){return Ht(e)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),cr(e)}function Xc(e){return!e||typeof e!="object"||Array.isArray(e)?!1:!!(Ht(e)||cr(e))}function tG(e){return typeof e=="object"&&e!==null&&"_def"in e&&typeof e._def=="object"&&e._def!==null&&"typeName"in e._def&&e._def.typeName==="ZodLiteral"}function rG(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="literal":!1}function ate(e){return!!(tG(e)||rG(e))}async function nG(e,n){if(Ht(e))try{return{success:!0,data:await QV(e,n)}}catch(o){return{success:!1,error:o}}if(cr(e))return await e.safeParseAsync(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function Z1(e,n){if(Ht(e))return await QV(e,n);if(cr(e))return await e.parseAsync(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function ite(e,n){if(Ht(e))try{return{success:!0,data:W1(e,n)}}catch(o){return{success:!1,error:o}}if(cr(e))return e.safeParse(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function ote(e,n){if(Ht(e))return W1(e,n);if(cr(e))return e.parse(n);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Q1(e){if(Ht(e))return kr.get(e)?.description;if(cr(e)||"description"in e&&typeof e.description=="string")return e.description}function ste(e){if(!Xc(e))return!1;if(cr(e)){const n=e._def;if(n.typeName==="ZodObject"){const o=e;return!o.shape||Object.keys(o.shape).length===0}if(n.typeName==="ZodRecord")return!0}if(Ht(e)){const n=e._zod.def;if(n.type==="object"){const o=e;return!o.shape||Object.keys(o.shape).length===0}if(n.type==="record")return!0}return typeof e=="object"&&e!==null&&!("shape"in e)}function aG(e){return Xc(e)?cr(e)?e._def.typeName==="ZodString":Ht(e)?e._zod.def.type==="string":!1:!1}function X1(e){return typeof e=="object"&&e!==null&&"_def"in e&&typeof e._def=="object"&&e._def!==null&&"typeName"in e._def&&e._def.typeName==="ZodObject"}function bu(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="object":!1}function Ib(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="array":!1}function iG(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="optional":!1}function oG(e){return Ht(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="nullable":!1}function lte(e){return!!(X1(e)||bu(e))}function kC(e){if(cr(e))return e.shape;if(Ht(e))return e._zod.def.shape;throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function ute(e,n){if(cr(e))return e.extend(n);if(Ht(e))return Fee(e,n);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function cte(e){if(cr(e))return e.partial();if(Ht(e))return Vee(XV,e);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function fb(e,n=!1){if(cr(e))return e.strict();if(bu(e)){const o=e._zod.def.shape;if(n)for(const[t,r]of Object.entries(e._zod.def.shape)){if(bu(r)){const s=fb(r,n);o[t]=s}else if(Ib(r)){let s=r._zod.def.element;bu(s)&&(s=fb(s,n)),o[t]=eu(r,{...r._zod.def,element:s})}else o[t]=r;const a=kr.get(r);a&&kr.add(o[t],a)}const i=eu(e,{...e._zod.def,shape:o,catchall:rte(Xee)}),l=kr.get(e);return l&&kr.add(i,l),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function YC(e,n=!1){if(X1(e))return e.passthrough();if(bu(e)){const o=e._zod.def.shape;if(n)for(const[t,r]of Object.entries(e._zod.def.shape)){if(bu(r)){const s=YC(r,n);o[t]=s}else if(Ib(r)){let s=r._zod.def.element;bu(s)&&(s=YC(s,n)),o[t]=eu(r,{...r._zod.def,element:s})}else o[t]=r;const a=kr.get(r);a&&kr.add(o[t],a)}const i=eu(e,{...e._zod.def,shape:o,catchall:tte(Qee)}),l=kr.get(e);return l&&kr.add(i,l),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function dte(e){if(cr(e))try{const n=e.parse(void 0);return()=>n}catch{return}if(Ht(e))try{const n=W1(e,void 0);return()=>n}catch{return}}function fte(e){return cr(e)&&"typeName"in e._def&&e._def.typeName==="ZodEffects"}function hte(e){return Ht(e)&&e._zod.def.type==="pipe"}function If(e,n,o){const i=o.get(e);if(i!==void 0)return i;if(cr(e))return fte(e)?If(e._def.schema,n,o):e;if(Ht(e)){let l=e;if(hte(e)&&(l=If(e._zod.def.in,n,o)),n){if(bu(l)){const r={};for(const[a,s]of Object.entries(l._zod.def.shape))r[a]=If(s,n,o);l=eu(l,{...l._zod.def,shape:r})}else if(Ib(l)){const r=If(l._zod.def.element,n,o);l=eu(l,{...l._zod.def,element:r})}else if(iG(l)){const r=If(l._zod.def.innerType,n,o);l=eu(l,{...l._zod.def,innerType:r})}else if(oG(l)){const r=If(l._zod.def.innerType,n,o);l=eu(l,{...l._zod.def,innerType:r})}}const t=kr.get(e);return t&&kr.add(l,t),o.set(e,l),l}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function sG(e,n=!1){return If(e,n,new WeakMap)}function pte(e,n){if(cr(e)){const o=kC(e),i={};for(const[l,t]of Object.entries(o))n(l,t)?i[l]=t.optional():i[l]=t;return e.extend(i)}if(Ht(e)){const o=kC(e),i={...e._zod.def.shape};for(const[r,a]of Object.entries(o))n(r,a)&&(i[r]=new XV({type:"optional",innerType:a}));const l=eu(e,{...e._zod.def,shape:i}),t=kr.get(e);return t&&kr.add(l,t),l}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function mte(e){return e instanceof Error&&(e.constructor.name==="ZodError"||e.constructor.name==="$ZodError")}const gte=Symbol("Let zodToJsonSchema decide on which parser to use"),_te={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},yte=e=>({..._te,...e}),vte=e=>{const n=yte(e),o=n.name!==void 0?[...n.basePath,n.definitionPath,n.name]:n.basePath;return{...n,flags:{hasReferencedOpenAiAnyType:!1},currentPath:o,propertyPath:void 0,seen:new Map(Object.entries(n.definitions).map(([i,l])=>[l._def,{def:l._def,path:[...n.basePath,n.definitionPath,i],jsonSchema:void 0}]))}},lG=(e,n)=>{let o=0;for(;o<e.length&&o<n.length&&e[o]===n[o];o++);return[(e.length-o).toString(),...n.slice(o)].join("/")};function bn(e){if(e.target!=="openAi")return{};const n=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?lG(n,e.currentPath):n.join("/")}}function uG(e,n,o,i){i?.errorMessages&&o&&(e.errorMessage={...e.errorMessage,[n]:o})}function Mt(e,n,o,i,l){e[n]=o,uG(e,n,i,l)}var Rt;(function(e){e.assertEqual=l=>{};function n(l){}e.assertIs=n;function o(l){throw new Error}e.assertNever=o,e.arrayToEnum=l=>{const t={};for(const r of l)t[r]=r;return t},e.getValidEnumValues=l=>{const t=e.objectKeys(l).filter(a=>typeof l[l[a]]!="number"),r={};for(const a of t)r[a]=l[a];return e.objectValues(r)},e.objectValues=l=>e.objectKeys(l).map(function(t){return l[t]}),e.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const t=[];for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&t.push(r);return t},e.find=(l,t)=>{for(const r of l)if(t(r))return r},e.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,t=" | "){return l.map(r=>typeof r=="string"?`'${r}'`:r).join(t)}e.joinValues=i,e.jsonStringifyReplacer=(l,t)=>typeof t=="bigint"?t.toString():t})(Rt||(Rt={}));var $D;(function(e){e.mergeShapes=(n,o)=>({...n,...o})})($D||($D={}));const Ye=Rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fc=e=>{switch(typeof e){case"undefined":return Ye.undefined;case"string":return Ye.string;case"number":return Number.isNaN(e)?Ye.nan:Ye.number;case"boolean":return Ye.boolean;case"function":return Ye.function;case"bigint":return Ye.bigint;case"symbol":return Ye.symbol;case"object":return Array.isArray(e)?Ye.array:e===null?Ye.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ye.promise:typeof Map<"u"&&e instanceof Map?Ye.map:typeof Set<"u"&&e instanceof Set?Ye.set:typeof Date<"u"&&e instanceof Date?Ye.date:Ye.object;default:return Ye.unknown}},Le=Rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ec extends Error{get errors(){return this.issues}constructor(n){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=n}format(n){const o=n||function(t){return t.message},i={_errors:[]},l=t=>{for(const r of t.issues)if(r.code==="invalid_union")r.unionErrors.map(l);else if(r.code==="invalid_return_type")l(r.returnTypeError);else if(r.code==="invalid_arguments")l(r.argumentsError);else if(r.path.length===0)i._errors.push(o(r));else{let a=i,s=0;for(;s<r.path.length;){const u=r.path[s];s===r.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(o(r))):a[u]=a[u]||{_errors:[]},a=a[u],s++}}};return l(this),i}static assert(n){if(!(n instanceof ec))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=o=>o.message){const o={},i=[];for(const l of this.issues)if(l.path.length>0){const t=l.path[0];o[t]=o[t]||[],o[t].push(n(l))}else i.push(n(l));return{formErrors:i,fieldErrors:o}}get formErrors(){return this.flatten()}}ec.create=e=>new ec(e);const WC=(e,n)=>{let o;switch(e.code){case Le.invalid_type:e.received===Ye.undefined?o="Required":o=`Expected ${e.expected}, received ${e.received}`;break;case Le.invalid_literal:o=`Invalid literal value, expected ${JSON.stringify(e.expected,Rt.jsonStringifyReplacer)}`;break;case Le.unrecognized_keys:o=`Unrecognized key(s) in object: ${Rt.joinValues(e.keys,", ")}`;break;case Le.invalid_union:o="Invalid input";break;case Le.invalid_union_discriminator:o=`Invalid discriminator value. Expected ${Rt.joinValues(e.options)}`;break;case Le.invalid_enum_value:o=`Invalid enum value. Expected ${Rt.joinValues(e.options)}, received '${e.received}'`;break;case Le.invalid_arguments:o="Invalid function arguments";break;case Le.invalid_return_type:o="Invalid function return type";break;case Le.invalid_date:o="Invalid date";break;case Le.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(o=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(o=`${o} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?o=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?o=`Invalid input: must end with "${e.validation.endsWith}"`:Rt.assertNever(e.validation):e.validation!=="regex"?o=`Invalid ${e.validation}`:o="Invalid";break;case Le.too_small:e.type==="array"?o=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?o=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?o=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?o=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?o=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:o="Invalid input";break;case Le.too_big:e.type==="array"?o=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?o=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?o=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?o=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?o=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:o="Invalid input";break;case Le.custom:o="Invalid input";break;case Le.invalid_intersection_types:o="Intersection results could not be merged";break;case Le.not_multiple_of:o=`Number must be a multiple of ${e.multipleOf}`;break;case Le.not_finite:o="Number must be finite";break;default:o=n.defaultError,Rt.assertNever(e)}return{message:o}};let bte=WC;function wte(){return bte}const Ste=e=>{const{data:n,path:o,errorMaps:i,issueData:l}=e,t=[...o,...l.path||[]],r={...l,path:t};if(l.message!==void 0)return{...l,path:t,message:l.message};let a="";const s=i.filter(u=>!!u).slice().reverse();for(const u of s)a=u(r,{data:n,defaultError:a}).message;return{...l,path:t,message:a}};function Ve(e,n){const o=wte(),i=Ste({issueData:n,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,o,o===WC?void 0:WC].filter(l=>!!l)});e.common.issues.push(i)}class wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(n,o){const i=[];for(const l of o){if(l.status==="aborted")return ot;l.status==="dirty"&&n.dirty(),i.push(l.value)}return{status:n.value,value:i}}static async mergeObjectAsync(n,o){const i=[];for(const l of o){const t=await l.key,r=await l.value;i.push({key:t,value:r})}return wn.mergeObjectSync(n,i)}static mergeObjectSync(n,o){const i={};for(const l of o){const{key:t,value:r}=l;if(t.status==="aborted"||r.status==="aborted")return ot;t.status==="dirty"&&n.dirty(),r.status==="dirty"&&n.dirty(),t.value!=="__proto__"&&(typeof r.value<"u"||l.alwaysSet)&&(i[t.value]=r.value)}return{status:n.value,value:i}}}const ot=Object.freeze({status:"aborted"}),Tg=e=>({status:"dirty",value:e}),Ln=e=>({status:"valid",value:e}),FD=e=>e.status==="aborted",VD=e=>e.status==="dirty",tp=e=>e.status==="valid",hb=e=>typeof Promise<"u"&&e instanceof Promise;var Ze;(function(e){e.errToObj=n=>typeof n=="string"?{message:n}:n||{},e.toString=n=>typeof n=="string"?n:n?.message})(Ze||(Ze={}));class ed{constructor(n,o,i,l){this._cachedPath=[],this.parent=n,this.data=o,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const GD=(e,n)=>{if(tp(n))return{success:!0,data:n.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const o=new ec(e.common.issues);return this._error=o,this._error}}};function ft(e){if(!e)return{};const{errorMap:n,invalid_type_error:o,required_error:i,description:l}=e;if(n&&(o||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:l}:{errorMap:(r,a)=>{const{message:s}=e;return r.code==="invalid_enum_value"?{message:s??a.defaultError}:typeof a.data>"u"?{message:s??i??a.defaultError}:r.code!=="invalid_type"?{message:a.defaultError}:{message:s??o??a.defaultError}},description:l}}class bt{get description(){return this._def.description}_getType(n){return Fc(n.data)}_getOrReturnCtx(n,o){return o||{common:n.parent.common,data:n.data,parsedType:Fc(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new wn,ctx:{common:n.parent.common,data:n.data,parsedType:Fc(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const o=this._parse(n);if(hb(o))throw new Error("Synchronous parse encountered promise.");return o}_parseAsync(n){const o=this._parse(n);return Promise.resolve(o)}parse(n,o){const i=this.safeParse(n,o);if(i.success)return i.data;throw i.error}safeParse(n,o){const i={common:{issues:[],async:o?.async??!1,contextualErrorMap:o?.errorMap},path:o?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Fc(n)},l=this._parseSync({data:n,path:i.path,parent:i});return GD(i,l)}"~validate"(n){const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Fc(n)};if(!this["~standard"].async)try{const i=this._parseSync({data:n,path:[],parent:o});return tp(i)?{value:i.value}:{issues:o.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:n,path:[],parent:o}).then(i=>tp(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(n,o){const i=await this.safeParseAsync(n,o);if(i.success)return i.data;throw i.error}async safeParseAsync(n,o){const i={common:{issues:[],contextualErrorMap:o?.errorMap,async:!0},path:o?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Fc(n)},l=this._parse({data:n,path:i.path,parent:i}),t=await(hb(l)?l:Promise.resolve(l));return GD(i,t)}refine(n,o){const i=l=>typeof o=="string"||typeof o>"u"?{message:o}:typeof o=="function"?o(l):o;return this._refinement((l,t)=>{const r=n(l),a=()=>t.addIssue({code:Le.custom,...i(l)});return typeof Promise<"u"&&r instanceof Promise?r.then(s=>s?!0:(a(),!1)):r?!0:(a(),!1)})}refinement(n,o){return this._refinement((i,l)=>n(i)?!0:(l.addIssue(typeof o=="function"?o(i,l):o),!1))}_refinement(n){return new np({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:o=>this["~validate"](o)}}optional(){return kc.create(this,this._def)}nullable(){return ap.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wu.create(this)}promise(){return _b.create(this,this._def)}or(n){return mb.create([this,n],this._def)}and(n){return gb.create(this,n,this._def)}transform(n){return new np({...ft(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const o=typeof n=="function"?n:()=>n;return new QC({...ft(this._def),innerType:this,defaultValue:o,typeName:Ue.ZodDefault})}brand(){return new Hte({typeName:Ue.ZodBranded,type:this,...ft(this._def)})}catch(n){const o=typeof n=="function"?n:()=>n;return new XC({...ft(this._def),innerType:this,catchValue:o,typeName:Ue.ZodCatch})}describe(n){const o=this.constructor;return new o({...this._def,description:n})}pipe(n){return eT.create(this,n)}readonly(){return e1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ote=/^c[^\s-]{8,}$/i,Ete=/^[0-9a-z]+$/,Rte=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xte=/^[a-z0-9_-]{21}$/i,Cte=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tte=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Mte=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Pte="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let BS;const Ate=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Dte=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ite=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zte=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bte=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qte=new RegExp(`^${cG}$`);function dG(e){let n="[0-5]\\d";e.precision?n=`${n}\\.\\d{${e.precision}}`:e.precision==null&&(n=`${n}(\\.\\d+)?`);const o=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${n})${o}`}function Lte(e){return new RegExp(`^${dG(e)}$`)}function Ute(e){let n=`${cG}T${dG(e)}`;const o=[];return o.push(e.local?"Z?":"Z"),e.offset&&o.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${o.join("|")})`,new RegExp(`^${n}$`)}function $te(e,n){return!!((n==="v4"||!n)&&Ate.test(e)||(n==="v6"||!n)&&Dte.test(e))}function Fte(e,n){if(!Cte.test(e))return!1;try{const[o]=e.split(".");if(!o)return!1;const i=o.replace(/-/g,"+").replace(/_/g,"/").padEnd(o.length+(4-o.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&l?.typ!=="JWT"||!l.alg||n&&l.alg!==n)}catch{return!1}}function Vte(e,n){return!!((n==="v4"||!n)&&Nte.test(e)||(n==="v6"||!n)&&Ite.test(e))}class Hc extends bt{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==Ye.string){const t=this._getOrReturnCtx(n);return Ve(t,{code:Le.invalid_type,expected:Ye.string,received:t.parsedType}),ot}const i=new wn;let l;for(const t of this._def.checks)if(t.kind==="min")n.data.length<t.value&&(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),i.dirty());else if(t.kind==="max")n.data.length>t.value&&(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!1,message:t.message}),i.dirty());else if(t.kind==="length"){const r=n.data.length>t.value,a=n.data.length<t.value;(r||a)&&(l=this._getOrReturnCtx(n,l),r?Ve(l,{code:Le.too_big,maximum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message}):a&&Ve(l,{code:Le.too_small,minimum:t.value,type:"string",inclusive:!0,exact:!0,message:t.message}),i.dirty())}else if(t.kind==="email")Mte.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"email",code:Le.invalid_string,message:t.message}),i.dirty());else if(t.kind==="emoji")BS||(BS=new RegExp(Pte,"u")),BS.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"emoji",code:Le.invalid_string,message:t.message}),i.dirty());else if(t.kind==="uuid")jte.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"uuid",code:Le.invalid_string,message:t.message}),i.dirty());else if(t.kind==="nanoid")xte.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"nanoid",code:Le.invalid_string,message:t.message}),i.dirty());else if(t.kind==="cuid")Ote.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"cuid",code:Le.invalid_string,message:t.message}),i.dirty());else if(t.kind==="cuid2")Ete.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"cuid2",code:Le.invalid_string,message:t.message}),i.dirty());else if(t.kind==="ulid")Rte.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"ulid",code:Le.invalid_string,message:t.message}),i.dirty());else if(t.kind==="url")try{new URL(n.data)}catch{l=this._getOrReturnCtx(n,l),Ve(l,{validation:"url",code:Le.invalid_string,message:t.message}),i.dirty()}else t.kind==="regex"?(t.regex.lastIndex=0,t.regex.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"regex",code:Le.invalid_string,message:t.message}),i.dirty())):t.kind==="trim"?n.data=n.data.trim():t.kind==="includes"?n.data.includes(t.value,t.position)||(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.invalid_string,validation:{includes:t.value,position:t.position},message:t.message}),i.dirty()):t.kind==="toLowerCase"?n.data=n.data.toLowerCase():t.kind==="toUpperCase"?n.data=n.data.toUpperCase():t.kind==="startsWith"?n.data.startsWith(t.value)||(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.invalid_string,validation:{startsWith:t.value},message:t.message}),i.dirty()):t.kind==="endsWith"?n.data.endsWith(t.value)||(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.invalid_string,validation:{endsWith:t.value},message:t.message}),i.dirty()):t.kind==="datetime"?Ute(t).test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.invalid_string,validation:"datetime",message:t.message}),i.dirty()):t.kind==="date"?qte.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.invalid_string,validation:"date",message:t.message}),i.dirty()):t.kind==="time"?Lte(t).test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.invalid_string,validation:"time",message:t.message}),i.dirty()):t.kind==="duration"?Tte.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"duration",code:Le.invalid_string,message:t.message}),i.dirty()):t.kind==="ip"?$te(n.data,t.version)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"ip",code:Le.invalid_string,message:t.message}),i.dirty()):t.kind==="jwt"?Fte(n.data,t.alg)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"jwt",code:Le.invalid_string,message:t.message}),i.dirty()):t.kind==="cidr"?Vte(n.data,t.version)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"cidr",code:Le.invalid_string,message:t.message}),i.dirty()):t.kind==="base64"?zte.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"base64",code:Le.invalid_string,message:t.message}),i.dirty()):t.kind==="base64url"?Bte.test(n.data)||(l=this._getOrReturnCtx(n,l),Ve(l,{validation:"base64url",code:Le.invalid_string,message:t.message}),i.dirty()):Rt.assertNever(t);return{status:i.value,value:n.data}}_regex(n,o,i){return this.refinement(l=>n.test(l),{validation:o,code:Le.invalid_string,...Ze.errToObj(i)})}_addCheck(n){return new Hc({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...Ze.errToObj(n)})}url(n){return this._addCheck({kind:"url",...Ze.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...Ze.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...Ze.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...Ze.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...Ze.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...Ze.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...Ze.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...Ze.errToObj(n)})}base64url(n){return this._addCheck({kind:"base64url",...Ze.errToObj(n)})}jwt(n){return this._addCheck({kind:"jwt",...Ze.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...Ze.errToObj(n)})}cidr(n){return this._addCheck({kind:"cidr",...Ze.errToObj(n)})}datetime(n){return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck({kind:"datetime",precision:typeof n?.precision>"u"?null:n?.precision,offset:n?.offset??!1,local:n?.local??!1,...Ze.errToObj(n?.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck({kind:"time",precision:typeof n?.precision>"u"?null:n?.precision,...Ze.errToObj(n?.message)})}duration(n){return this._addCheck({kind:"duration",...Ze.errToObj(n)})}regex(n,o){return this._addCheck({kind:"regex",regex:n,...Ze.errToObj(o)})}includes(n,o){return this._addCheck({kind:"includes",value:n,position:o?.position,...Ze.errToObj(o?.message)})}startsWith(n,o){return this._addCheck({kind:"startsWith",value:n,...Ze.errToObj(o)})}endsWith(n,o){return this._addCheck({kind:"endsWith",value:n,...Ze.errToObj(o)})}min(n,o){return this._addCheck({kind:"min",value:n,...Ze.errToObj(o)})}max(n,o){return this._addCheck({kind:"max",value:n,...Ze.errToObj(o)})}length(n,o){return this._addCheck({kind:"length",value:n,...Ze.errToObj(o)})}nonempty(n){return this.min(1,Ze.errToObj(n))}trim(){return new Hc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isCIDR(){return!!this._def.checks.find(n=>n.kind==="cidr")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get isBase64url(){return!!this._def.checks.find(n=>n.kind==="base64url")}get minLength(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n}get maxLength(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n}}Hc.create=e=>new Hc({checks:[],typeName:Ue.ZodString,coerce:e?.coerce??!1,...ft(e)});function Gte(e,n){const o=(e.toString().split(".")[1]||"").length,i=(n.toString().split(".")[1]||"").length,l=o>i?o:i,t=Number.parseInt(e.toFixed(l).replace(".","")),r=Number.parseInt(n.toFixed(l).replace(".",""));return t%r/10**l}class Kg extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==Ye.number){const t=this._getOrReturnCtx(n);return Ve(t,{code:Le.invalid_type,expected:Ye.number,received:t.parsedType}),ot}let i;const l=new wn;for(const t of this._def.checks)t.kind==="int"?Rt.isInteger(n.data)||(i=this._getOrReturnCtx(n,i),Ve(i,{code:Le.invalid_type,expected:"integer",received:"float",message:t.message}),l.dirty()):t.kind==="min"?(t.inclusive?n.data<t.value:n.data<=t.value)&&(i=this._getOrReturnCtx(n,i),Ve(i,{code:Le.too_small,minimum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),l.dirty()):t.kind==="max"?(t.inclusive?n.data>t.value:n.data>=t.value)&&(i=this._getOrReturnCtx(n,i),Ve(i,{code:Le.too_big,maximum:t.value,type:"number",inclusive:t.inclusive,exact:!1,message:t.message}),l.dirty()):t.kind==="multipleOf"?Gte(n.data,t.value)!==0&&(i=this._getOrReturnCtx(n,i),Ve(i,{code:Le.not_multiple_of,multipleOf:t.value,message:t.message}),l.dirty()):t.kind==="finite"?Number.isFinite(n.data)||(i=this._getOrReturnCtx(n,i),Ve(i,{code:Le.not_finite,message:t.message}),l.dirty()):Rt.assertNever(t);return{status:l.value,value:n.data}}gte(n,o){return this.setLimit("min",n,!0,Ze.toString(o))}gt(n,o){return this.setLimit("min",n,!1,Ze.toString(o))}lte(n,o){return this.setLimit("max",n,!0,Ze.toString(o))}lt(n,o){return this.setLimit("max",n,!1,Ze.toString(o))}setLimit(n,o,i,l){return new Kg({...this._def,checks:[...this._def.checks,{kind:n,value:o,inclusive:i,message:Ze.toString(l)}]})}_addCheck(n){return new Kg({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:Ze.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ze.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ze.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ze.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ze.toString(n)})}multipleOf(n,o){return this._addCheck({kind:"multipleOf",value:n,message:Ze.toString(o)})}finite(n){return this._addCheck({kind:"finite",message:Ze.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ze.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ze.toString(n)})}get minValue(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n}get maxValue(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&Rt.isInteger(n.value))}get isFinite(){let n=null,o=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(o===null||i.value>o)&&(o=i.value):i.kind==="max"&&(n===null||i.value<n)&&(n=i.value)}return Number.isFinite(o)&&Number.isFinite(n)}}Kg.create=e=>new Kg({checks:[],typeName:Ue.ZodNumber,coerce:e?.coerce||!1,...ft(e)});class kg extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)try{n.data=BigInt(n.data)}catch{return this._getInvalidInput(n)}if(this._getType(n)!==Ye.bigint)return this._getInvalidInput(n);let i;const l=new wn;for(const t of this._def.checks)t.kind==="min"?(t.inclusive?n.data<t.value:n.data<=t.value)&&(i=this._getOrReturnCtx(n,i),Ve(i,{code:Le.too_small,type:"bigint",minimum:t.value,inclusive:t.inclusive,message:t.message}),l.dirty()):t.kind==="max"?(t.inclusive?n.data>t.value:n.data>=t.value)&&(i=this._getOrReturnCtx(n,i),Ve(i,{code:Le.too_big,type:"bigint",maximum:t.value,inclusive:t.inclusive,message:t.message}),l.dirty()):t.kind==="multipleOf"?n.data%t.value!==BigInt(0)&&(i=this._getOrReturnCtx(n,i),Ve(i,{code:Le.not_multiple_of,multipleOf:t.value,message:t.message}),l.dirty()):Rt.assertNever(t);return{status:l.value,value:n.data}}_getInvalidInput(n){const o=this._getOrReturnCtx(n);return Ve(o,{code:Le.invalid_type,expected:Ye.bigint,received:o.parsedType}),ot}gte(n,o){return this.setLimit("min",n,!0,Ze.toString(o))}gt(n,o){return this.setLimit("min",n,!1,Ze.toString(o))}lte(n,o){return this.setLimit("max",n,!0,Ze.toString(o))}lt(n,o){return this.setLimit("max",n,!1,Ze.toString(o))}setLimit(n,o,i,l){return new kg({...this._def,checks:[...this._def.checks,{kind:n,value:o,inclusive:i,message:Ze.toString(l)}]})}_addCheck(n){return new kg({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ze.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ze.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ze.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ze.toString(n)})}multipleOf(n,o){return this._addCheck({kind:"multipleOf",value:n,message:Ze.toString(o)})}get minValue(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n}get maxValue(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n}}kg.create=e=>new kg({checks:[],typeName:Ue.ZodBigInt,coerce:e?.coerce??!1,...ft(e)});class HD extends bt{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==Ye.boolean){const i=this._getOrReturnCtx(n);return Ve(i,{code:Le.invalid_type,expected:Ye.boolean,received:i.parsedType}),ot}return Ln(n.data)}}HD.create=e=>new HD({typeName:Ue.ZodBoolean,coerce:e?.coerce||!1,...ft(e)});class pb extends bt{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==Ye.date){const t=this._getOrReturnCtx(n);return Ve(t,{code:Le.invalid_type,expected:Ye.date,received:t.parsedType}),ot}if(Number.isNaN(n.data.getTime())){const t=this._getOrReturnCtx(n);return Ve(t,{code:Le.invalid_date}),ot}const i=new wn;let l;for(const t of this._def.checks)t.kind==="min"?n.data.getTime()<t.value&&(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.too_small,message:t.message,inclusive:!0,exact:!1,minimum:t.value,type:"date"}),i.dirty()):t.kind==="max"?n.data.getTime()>t.value&&(l=this._getOrReturnCtx(n,l),Ve(l,{code:Le.too_big,message:t.message,inclusive:!0,exact:!1,maximum:t.value,type:"date"}),i.dirty()):Rt.assertNever(t);return{status:i.value,value:new Date(n.data.getTime())}}_addCheck(n){return new pb({...this._def,checks:[...this._def.checks,n]})}min(n,o){return this._addCheck({kind:"min",value:n.getTime(),message:Ze.toString(o)})}max(n,o){return this._addCheck({kind:"max",value:n.getTime(),message:Ze.toString(o)})}get minDate(){let n=null;for(const o of this._def.checks)o.kind==="min"&&(n===null||o.value>n)&&(n=o.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(const o of this._def.checks)o.kind==="max"&&(n===null||o.value<n)&&(n=o.value);return n!=null?new Date(n):null}}pb.create=e=>new pb({checks:[],coerce:e?.coerce||!1,typeName:Ue.ZodDate,...ft(e)});class KD extends bt{_parse(n){if(this._getType(n)!==Ye.symbol){const i=this._getOrReturnCtx(n);return Ve(i,{code:Le.invalid_type,expected:Ye.symbol,received:i.parsedType}),ot}return Ln(n.data)}}KD.create=e=>new KD({typeName:Ue.ZodSymbol,...ft(e)});class kD extends bt{_parse(n){if(this._getType(n)!==Ye.undefined){const i=this._getOrReturnCtx(n);return Ve(i,{code:Le.invalid_type,expected:Ye.undefined,received:i.parsedType}),ot}return Ln(n.data)}}kD.create=e=>new kD({typeName:Ue.ZodUndefined,...ft(e)});class YD extends bt{_parse(n){if(this._getType(n)!==Ye.null){const i=this._getOrReturnCtx(n);return Ve(i,{code:Le.invalid_type,expected:Ye.null,received:i.parsedType}),ot}return Ln(n.data)}}YD.create=e=>new YD({typeName:Ue.ZodNull,...ft(e)});class JC extends bt{constructor(){super(...arguments),this._any=!0}_parse(n){return Ln(n.data)}}JC.create=e=>new JC({typeName:Ue.ZodAny,...ft(e)});class WD extends bt{constructor(){super(...arguments),this._unknown=!0}_parse(n){return Ln(n.data)}}WD.create=e=>new WD({typeName:Ue.ZodUnknown,...ft(e)});class td extends bt{_parse(n){const o=this._getOrReturnCtx(n);return Ve(o,{code:Le.invalid_type,expected:Ye.never,received:o.parsedType}),ot}}td.create=e=>new td({typeName:Ue.ZodNever,...ft(e)});class JD extends bt{_parse(n){if(this._getType(n)!==Ye.undefined){const i=this._getOrReturnCtx(n);return Ve(i,{code:Le.invalid_type,expected:Ye.void,received:i.parsedType}),ot}return Ln(n.data)}}JD.create=e=>new JD({typeName:Ue.ZodVoid,...ft(e)});class wu extends bt{_parse(n){const{ctx:o,status:i}=this._processInputParams(n),l=this._def;if(o.parsedType!==Ye.array)return Ve(o,{code:Le.invalid_type,expected:Ye.array,received:o.parsedType}),ot;if(l.exactLength!==null){const r=o.data.length>l.exactLength.value,a=o.data.length<l.exactLength.value;(r||a)&&(Ve(o,{code:r?Le.too_big:Le.too_small,minimum:a?l.exactLength.value:void 0,maximum:r?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&o.data.length<l.minLength.value&&(Ve(o,{code:Le.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&o.data.length>l.maxLength.value&&(Ve(o,{code:Le.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),o.common.async)return Promise.all([...o.data].map((r,a)=>l.type._parseAsync(new ed(o,r,o.path,a)))).then(r=>wn.mergeArray(i,r));const t=[...o.data].map((r,a)=>l.type._parseSync(new ed(o,r,o.path,a)));return wn.mergeArray(i,t)}get element(){return this._def.type}min(n,o){return new wu({...this._def,minLength:{value:n,message:Ze.toString(o)}})}max(n,o){return new wu({...this._def,maxLength:{value:n,message:Ze.toString(o)}})}length(n,o){return new wu({...this._def,exactLength:{value:n,message:Ze.toString(o)}})}nonempty(n){return this.min(1,n)}}wu.create=(e,n)=>new wu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...ft(n)});function Hh(e){if(e instanceof nr){const n={};for(const o in e.shape){const i=e.shape[o];n[o]=kc.create(Hh(i))}return new nr({...e._def,shape:()=>n})}else return e instanceof wu?new wu({...e._def,type:Hh(e.element)}):e instanceof kc?kc.create(Hh(e.unwrap())):e instanceof ap?ap.create(Hh(e.unwrap())):e instanceof Ff?Ff.create(e.items.map(n=>Hh(n))):e}class nr extends bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),o=Rt.objectKeys(n);return this._cached={shape:n,keys:o},this._cached}_parse(n){if(this._getType(n)!==Ye.object){const u=this._getOrReturnCtx(n);return Ve(u,{code:Le.invalid_type,expected:Ye.object,received:u.parsedType}),ot}const{status:i,ctx:l}=this._processInputParams(n),{shape:t,keys:r}=this._getCached(),a=[];if(!(this._def.catchall instanceof td&&this._def.unknownKeys==="strip"))for(const u in l.data)r.includes(u)||a.push(u);const s=[];for(const u of r){const f=t[u],g=l.data[u];s.push({key:{status:"valid",value:u},value:f._parse(new ed(l,g,l.path,u)),alwaysSet:u in l.data})}if(this._def.catchall instanceof td){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of a)s.push({key:{status:"valid",value:f},value:{status:"valid",value:l.data[f]}});else if(u==="strict")a.length>0&&(Ve(l,{code:Le.unrecognized_keys,keys:a}),i.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of a){const g=l.data[f];s.push({key:{status:"valid",value:f},value:u._parse(new ed(l,g,l.path,f)),alwaysSet:f in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of s){const g=await f.key,b=await f.value;u.push({key:g,value:b,alwaysSet:f.alwaysSet})}return u}).then(u=>wn.mergeObjectSync(i,u)):wn.mergeObjectSync(i,s)}get shape(){return this._def.shape()}strict(n){return Ze.errToObj,new nr({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(o,i)=>{const l=this._def.errorMap?.(o,i).message??i.defaultError;return o.code==="unrecognized_keys"?{message:Ze.errToObj(n).message??l}:{message:l}}}:{}})}strip(){return new nr({...this._def,unknownKeys:"strip"})}passthrough(){return new nr({...this._def,unknownKeys:"passthrough"})}extend(n){return new nr({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new nr({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:Ue.ZodObject})}setKey(n,o){return this.augment({[n]:o})}catchall(n){return new nr({...this._def,catchall:n})}pick(n){const o={};for(const i of Rt.objectKeys(n))n[i]&&this.shape[i]&&(o[i]=this.shape[i]);return new nr({...this._def,shape:()=>o})}omit(n){const o={};for(const i of Rt.objectKeys(this.shape))n[i]||(o[i]=this.shape[i]);return new nr({...this._def,shape:()=>o})}deepPartial(){return Hh(this)}partial(n){const o={};for(const i of Rt.objectKeys(this.shape)){const l=this.shape[i];n&&!n[i]?o[i]=l:o[i]=l.optional()}return new nr({...this._def,shape:()=>o})}required(n){const o={};for(const i of Rt.objectKeys(this.shape))if(n&&!n[i])o[i]=this.shape[i];else{let t=this.shape[i];for(;t instanceof kc;)t=t._def.innerType;o[i]=t}return new nr({...this._def,shape:()=>o})}keyof(){return fG(Rt.objectKeys(this.shape))}}nr.create=(e,n)=>new nr({shape:()=>e,unknownKeys:"strip",catchall:td.create(),typeName:Ue.ZodObject,...ft(n)});nr.strictCreate=(e,n)=>new nr({shape:()=>e,unknownKeys:"strict",catchall:td.create(),typeName:Ue.ZodObject,...ft(n)});nr.lazycreate=(e,n)=>new nr({shape:e,unknownKeys:"strip",catchall:td.create(),typeName:Ue.ZodObject,...ft(n)});class mb extends bt{_parse(n){const{ctx:o}=this._processInputParams(n),i=this._def.options;function l(t){for(const a of t)if(a.result.status==="valid")return a.result;for(const a of t)if(a.result.status==="dirty")return o.common.issues.push(...a.ctx.common.issues),a.result;const r=t.map(a=>new ec(a.ctx.common.issues));return Ve(o,{code:Le.invalid_union,unionErrors:r}),ot}if(o.common.async)return Promise.all(i.map(async t=>{const r={...o,common:{...o.common,issues:[]},parent:null};return{result:await t._parseAsync({data:o.data,path:o.path,parent:r}),ctx:r}})).then(l);{let t;const r=[];for(const s of i){const u={...o,common:{...o.common,issues:[]},parent:null},f=s._parseSync({data:o.data,path:o.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!t&&(t={result:f,ctx:u}),u.common.issues.length&&r.push(u.common.issues)}if(t)return o.common.issues.push(...t.ctx.common.issues),t.result;const a=r.map(s=>new ec(s));return Ve(o,{code:Le.invalid_union,unionErrors:a}),ot}}get options(){return this._def.options}}mb.create=(e,n)=>new mb({options:e,typeName:Ue.ZodUnion,...ft(n)});function ZC(e,n){const o=Fc(e),i=Fc(n);if(e===n)return{valid:!0,data:e};if(o===Ye.object&&i===Ye.object){const l=Rt.objectKeys(n),t=Rt.objectKeys(e).filter(a=>l.indexOf(a)!==-1),r={...e,...n};for(const a of t){const s=ZC(e[a],n[a]);if(!s.valid)return{valid:!1};r[a]=s.data}return{valid:!0,data:r}}else if(o===Ye.array&&i===Ye.array){if(e.length!==n.length)return{valid:!1};const l=[];for(let t=0;t<e.length;t++){const r=e[t],a=n[t],s=ZC(r,a);if(!s.valid)return{valid:!1};l.push(s.data)}return{valid:!0,data:l}}else return o===Ye.date&&i===Ye.date&&+e==+n?{valid:!0,data:e}:{valid:!1}}class gb extends bt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n),l=(t,r)=>{if(FD(t)||FD(r))return ot;const a=ZC(t.value,r.value);return a.valid?((VD(t)||VD(r))&&o.dirty(),{status:o.value,value:a.data}):(Ve(i,{code:Le.invalid_intersection_types}),ot)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([t,r])=>l(t,r)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}gb.create=(e,n,o)=>new gb({left:e,right:n,typeName:Ue.ZodIntersection,...ft(o)});class Ff extends bt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.parsedType!==Ye.array)return Ve(i,{code:Le.invalid_type,expected:Ye.array,received:i.parsedType}),ot;if(i.data.length<this._def.items.length)return Ve(i,{code:Le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ot;!this._def.rest&&i.data.length>this._def.items.length&&(Ve(i,{code:Le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o.dirty());const t=[...i.data].map((r,a)=>{const s=this._def.items[a]||this._def.rest;return s?s._parse(new ed(i,r,i.path,a)):null}).filter(r=>!!r);return i.common.async?Promise.all(t).then(r=>wn.mergeArray(o,r)):wn.mergeArray(o,t)}get items(){return this._def.items}rest(n){return new Ff({...this._def,rest:n})}}Ff.create=(e,n)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ff({items:e,typeName:Ue.ZodTuple,rest:null,...ft(n)})};class ZD extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.parsedType!==Ye.map)return Ve(i,{code:Le.invalid_type,expected:Ye.map,received:i.parsedType}),ot;const l=this._def.keyType,t=this._def.valueType,r=[...i.data.entries()].map(([a,s],u)=>({key:l._parse(new ed(i,a,i.path,[u,"key"])),value:t._parse(new ed(i,s,i.path,[u,"value"]))}));if(i.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const s of r){const u=await s.key,f=await s.value;if(u.status==="aborted"||f.status==="aborted")return ot;(u.status==="dirty"||f.status==="dirty")&&o.dirty(),a.set(u.value,f.value)}return{status:o.value,value:a}})}else{const a=new Map;for(const s of r){const u=s.key,f=s.value;if(u.status==="aborted"||f.status==="aborted")return ot;(u.status==="dirty"||f.status==="dirty")&&o.dirty(),a.set(u.value,f.value)}return{status:o.value,value:a}}}}ZD.create=(e,n,o)=>new ZD({valueType:n,keyType:e,typeName:Ue.ZodMap,...ft(o)});class Yg extends bt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.parsedType!==Ye.set)return Ve(i,{code:Le.invalid_type,expected:Ye.set,received:i.parsedType}),ot;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(Ve(i,{code:Le.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),o.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(Ve(i,{code:Le.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),o.dirty());const t=this._def.valueType;function r(s){const u=new Set;for(const f of s){if(f.status==="aborted")return ot;f.status==="dirty"&&o.dirty(),u.add(f.value)}return{status:o.value,value:u}}const a=[...i.data.values()].map((s,u)=>t._parse(new ed(i,s,i.path,u)));return i.common.async?Promise.all(a).then(s=>r(s)):r(a)}min(n,o){return new Yg({...this._def,minSize:{value:n,message:Ze.toString(o)}})}max(n,o){return new Yg({...this._def,maxSize:{value:n,message:Ze.toString(o)}})}size(n,o){return this.min(n,o).max(n,o)}nonempty(n){return this.min(1,n)}}Yg.create=(e,n)=>new Yg({valueType:e,minSize:null,maxSize:null,typeName:Ue.ZodSet,...ft(n)});class QD extends bt{get schema(){return this._def.getter()}_parse(n){const{ctx:o}=this._processInputParams(n);return this._def.getter()._parse({data:o.data,path:o.path,parent:o})}}QD.create=(e,n)=>new QD({getter:e,typeName:Ue.ZodLazy,...ft(n)});class XD extends bt{_parse(n){if(n.data!==this._def.value){const o=this._getOrReturnCtx(n);return Ve(o,{received:o.data,code:Le.invalid_literal,expected:this._def.value}),ot}return{status:"valid",value:n.data}}get value(){return this._def.value}}XD.create=(e,n)=>new XD({value:e,typeName:Ue.ZodLiteral,...ft(n)});function fG(e,n){return new rp({values:e,typeName:Ue.ZodEnum,...ft(n)})}class rp extends bt{_parse(n){if(typeof n.data!="string"){const o=this._getOrReturnCtx(n),i=this._def.values;return Ve(o,{expected:Rt.joinValues(i),received:o.parsedType,code:Le.invalid_type}),ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(n.data)){const o=this._getOrReturnCtx(n),i=this._def.values;return Ve(o,{received:o.data,code:Le.invalid_enum_value,options:i}),ot}return Ln(n.data)}get options(){return this._def.values}get enum(){const n={};for(const o of this._def.values)n[o]=o;return n}get Values(){const n={};for(const o of this._def.values)n[o]=o;return n}get Enum(){const n={};for(const o of this._def.values)n[o]=o;return n}extract(n,o=this._def){return rp.create(n,{...this._def,...o})}exclude(n,o=this._def){return rp.create(this.options.filter(i=>!n.includes(i)),{...this._def,...o})}}rp.create=fG;class eI extends bt{_parse(n){const o=Rt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(n);if(i.parsedType!==Ye.string&&i.parsedType!==Ye.number){const l=Rt.objectValues(o);return Ve(i,{expected:Rt.joinValues(l),received:i.parsedType,code:Le.invalid_type}),ot}if(this._cache||(this._cache=new Set(Rt.getValidEnumValues(this._def.values))),!this._cache.has(n.data)){const l=Rt.objectValues(o);return Ve(i,{received:i.data,code:Le.invalid_enum_value,options:l}),ot}return Ln(n.data)}get enum(){return this._def.values}}eI.create=(e,n)=>new eI({values:e,typeName:Ue.ZodNativeEnum,...ft(n)});class _b extends bt{unwrap(){return this._def.type}_parse(n){const{ctx:o}=this._processInputParams(n);if(o.parsedType!==Ye.promise&&o.common.async===!1)return Ve(o,{code:Le.invalid_type,expected:Ye.promise,received:o.parsedType}),ot;const i=o.parsedType===Ye.promise?o.data:Promise.resolve(o.data);return Ln(i.then(l=>this._def.type.parseAsync(l,{path:o.path,errorMap:o.common.contextualErrorMap})))}}_b.create=(e,n)=>new _b({type:e,typeName:Ue.ZodPromise,...ft(n)});class np extends bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:o,ctx:i}=this._processInputParams(n),l=this._def.effect||null,t={addIssue:r=>{Ve(i,r),r.fatal?o.abort():o.dirty()},get path(){return i.path}};if(t.addIssue=t.addIssue.bind(t),l.type==="preprocess"){const r=l.transform(i.data,t);if(i.common.async)return Promise.resolve(r).then(async a=>{if(o.value==="aborted")return ot;const s=await this._def.schema._parseAsync({data:a,path:i.path,parent:i});return s.status==="aborted"?ot:s.status==="dirty"||o.value==="dirty"?Tg(s.value):s});{if(o.value==="aborted")return ot;const a=this._def.schema._parseSync({data:r,path:i.path,parent:i});return a.status==="aborted"?ot:a.status==="dirty"||o.value==="dirty"?Tg(a.value):a}}if(l.type==="refinement"){const r=a=>{const s=l.refinement(a,t);if(i.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?ot:(a.status==="dirty"&&o.dirty(),r(a.value),{status:o.value,value:a.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>a.status==="aborted"?ot:(a.status==="dirty"&&o.dirty(),r(a.value).then(()=>({status:o.value,value:a.value}))))}if(l.type==="transform")if(i.common.async===!1){const r=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!tp(r))return ot;const a=l.transform(r.value,t);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:o.value,value:a}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(r=>tp(r)?Promise.resolve(l.transform(r.value,t)).then(a=>({status:o.value,value:a})):ot);Rt.assertNever(l)}}np.create=(e,n,o)=>new np({schema:e,typeName:Ue.ZodEffects,effect:n,...ft(o)});np.createWithPreprocess=(e,n,o)=>new np({schema:n,effect:{type:"preprocess",transform:e},typeName:Ue.ZodEffects,...ft(o)});class kc extends bt{_parse(n){return this._getType(n)===Ye.undefined?Ln(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}kc.create=(e,n)=>new kc({innerType:e,typeName:Ue.ZodOptional,...ft(n)});class ap extends bt{_parse(n){return this._getType(n)===Ye.null?Ln(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}ap.create=(e,n)=>new ap({innerType:e,typeName:Ue.ZodNullable,...ft(n)});class QC extends bt{_parse(n){const{ctx:o}=this._processInputParams(n);let i=o.data;return o.parsedType===Ye.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:o.path,parent:o})}removeDefault(){return this._def.innerType}}QC.create=(e,n)=>new QC({innerType:e,typeName:Ue.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default,...ft(n)});class XC extends bt{_parse(n){const{ctx:o}=this._processInputParams(n),i={...o,common:{...o.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return hb(l)?l.then(t=>({status:"valid",value:t.status==="valid"?t.value:this._def.catchValue({get error(){return new ec(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ec(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}XC.create=(e,n)=>new XC({innerType:e,typeName:Ue.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch,...ft(n)});class tI extends bt{_parse(n){if(this._getType(n)!==Ye.nan){const i=this._getOrReturnCtx(n);return Ve(i,{code:Le.invalid_type,expected:Ye.nan,received:i.parsedType}),ot}return{status:"valid",value:n.data}}}tI.create=e=>new tI({typeName:Ue.ZodNaN,...ft(e)});class Hte extends bt{_parse(n){const{ctx:o}=this._processInputParams(n),i=o.data;return this._def.type._parse({data:i,path:o.path,parent:o})}unwrap(){return this._def.type}}class eT extends bt{_parse(n){const{status:o,ctx:i}=this._processInputParams(n);if(i.common.async)return(async()=>{const t=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return t.status==="aborted"?ot:t.status==="dirty"?(o.dirty(),Tg(t.value)):this._def.out._parseAsync({data:t.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?ot:l.status==="dirty"?(o.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(n,o){return new eT({in:n,out:o,typeName:Ue.ZodPipeline})}}class e1 extends bt{_parse(n){const o=this._def.innerType._parse(n),i=l=>(tp(l)&&(l.value=Object.freeze(l.value)),l);return hb(o)?o.then(l=>i(l)):i(o)}unwrap(){return this._def.innerType}}e1.create=(e,n)=>new e1({innerType:e,typeName:Ue.ZodReadonly,...ft(n)});var Ue;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const tT=Hc.create,rI=JC.create;td.create;wu.create;const rT=nr.create;mb.create;gb.create;Ff.create;rp.create;_b.create;kc.create;ap.create;function Kte(e,n){const o={type:"array"};return e.type?._def&&e.type?._def?.typeName!==Ue.ZodAny&&(o.items=xt(e.type._def,{...n,currentPath:[...n.currentPath,"items"]})),e.minLength&&Mt(o,"minItems",e.minLength.value,e.minLength.message,n),e.maxLength&&Mt(o,"maxItems",e.maxLength.value,e.maxLength.message,n),e.exactLength&&(Mt(o,"minItems",e.exactLength.value,e.exactLength.message,n),Mt(o,"maxItems",e.exactLength.value,e.exactLength.message,n)),o}function kte(e,n){const o={type:"integer",format:"int64"};if(!e.checks)return o;for(const i of e.checks)switch(i.kind){case"min":n.target==="jsonSchema7"?i.inclusive?Mt(o,"minimum",i.value,i.message,n):Mt(o,"exclusiveMinimum",i.value,i.message,n):(i.inclusive||(o.exclusiveMinimum=!0),Mt(o,"minimum",i.value,i.message,n));break;case"max":n.target==="jsonSchema7"?i.inclusive?Mt(o,"maximum",i.value,i.message,n):Mt(o,"exclusiveMaximum",i.value,i.message,n):(i.inclusive||(o.exclusiveMaximum=!0),Mt(o,"maximum",i.value,i.message,n));break;case"multipleOf":Mt(o,"multipleOf",i.value,i.message,n);break}return o}function Yte(){return{type:"boolean"}}function hG(e,n){return xt(e.type._def,n)}const Wte=(e,n)=>xt(e.innerType._def,n);function pG(e,n,o){const i=o??n.dateStrategy;if(Array.isArray(i))return{anyOf:i.map(l=>pG(e,n,l))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Jte(e,n)}}const Jte=(e,n)=>{const o={type:"integer",format:"unix-time"};if(n.target==="openApi3")return o;for(const i of e.checks)switch(i.kind){case"min":Mt(o,"minimum",i.value,i.message,n);break;case"max":Mt(o,"maximum",i.value,i.message,n);break}return o};function Zte(e,n){return{...xt(e.innerType._def,n),default:e.defaultValue()}}function Qte(e,n){return n.effectStrategy==="input"?xt(e.schema._def,n):bn(n)}function Xte(e){return{type:"string",enum:Array.from(e.values)}}const ere=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function tre(e,n){const o=[xt(e.left._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),xt(e.right._def,{...n,currentPath:[...n.currentPath,"allOf","1"]})].filter(t=>!!t);let i=n.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const l=[];return o.forEach(t=>{if(ere(t))l.push(...t.allOf),t.unevaluatedProperties===void 0&&(i=void 0);else{let r=t;if("additionalProperties"in t&&t.additionalProperties===!1){const{additionalProperties:a,...s}=t;r=s}else i=void 0;l.push(r)}}),l.length?{allOf:l,...i}:void 0}function rre(e,n){const o=typeof e.value;return o!=="bigint"&&o!=="number"&&o!=="boolean"&&o!=="string"?{type:Array.isArray(e.value)?"array":"object"}:n.target==="openApi3"?{type:o==="bigint"?"integer":o,enum:[e.value]}:{type:o==="bigint"?"integer":o,const:e.value}}let qS;const Kn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(qS===void 0&&(qS=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),qS),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function mG(e,n){const o={type:"string"};if(e.checks)for(const i of e.checks)switch(i.kind){case"min":Mt(o,"minLength",typeof o.minLength=="number"?Math.max(o.minLength,i.value):i.value,i.message,n);break;case"max":Mt(o,"maxLength",typeof o.maxLength=="number"?Math.min(o.maxLength,i.value):i.value,i.message,n);break;case"email":switch(n.emailStrategy){case"format:email":kn(o,"email",i.message,n);break;case"format:idn-email":kn(o,"idn-email",i.message,n);break;case"pattern:zod":Mr(o,Kn.email,i.message,n);break}break;case"url":kn(o,"uri",i.message,n);break;case"uuid":kn(o,"uuid",i.message,n);break;case"regex":Mr(o,i.regex,i.message,n);break;case"cuid":Mr(o,Kn.cuid,i.message,n);break;case"cuid2":Mr(o,Kn.cuid2,i.message,n);break;case"startsWith":Mr(o,RegExp(`^${LS(i.value,n)}`),i.message,n);break;case"endsWith":Mr(o,RegExp(`${LS(i.value,n)}$`),i.message,n);break;case"datetime":kn(o,"date-time",i.message,n);break;case"date":kn(o,"date",i.message,n);break;case"time":kn(o,"time",i.message,n);break;case"duration":kn(o,"duration",i.message,n);break;case"length":Mt(o,"minLength",typeof o.minLength=="number"?Math.max(o.minLength,i.value):i.value,i.message,n),Mt(o,"maxLength",typeof o.maxLength=="number"?Math.min(o.maxLength,i.value):i.value,i.message,n);break;case"includes":Mr(o,RegExp(LS(i.value,n)),i.message,n);break;case"ip":i.version!=="v6"&&kn(o,"ipv4",i.message,n),i.version!=="v4"&&kn(o,"ipv6",i.message,n);break;case"base64url":Mr(o,Kn.base64url,i.message,n);break;case"jwt":Mr(o,Kn.jwt,i.message,n);break;case"cidr":i.version!=="v6"&&Mr(o,Kn.ipv4Cidr,i.message,n),i.version!=="v4"&&Mr(o,Kn.ipv6Cidr,i.message,n);break;case"emoji":Mr(o,Kn.emoji(),i.message,n);break;case"ulid":Mr(o,Kn.ulid,i.message,n);break;case"base64":switch(n.base64Strategy){case"format:binary":kn(o,"binary",i.message,n);break;case"contentEncoding:base64":Mt(o,"contentEncoding","base64",i.message,n);break;case"pattern:zod":Mr(o,Kn.base64,i.message,n);break}break;case"nanoid":Mr(o,Kn.nanoid,i.message,n);break}return o}function LS(e,n){return n.patternStrategy==="escape"?are(e):e}const nre=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function are(e){let n="";for(let o=0;o<e.length;o++)nre.has(e[o])||(n+="\\"),n+=e[o];return n}function kn(e,n,o,i){e.format||e.anyOf?.some(l=>l.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&i.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:n,...o&&i.errorMessages&&{errorMessage:{format:o}}})):Mt(e,"format",n,o,i)}function Mr(e,n,o,i){e.pattern||e.allOf?.some(l=>l.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&i.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:nI(n,i),...o&&i.errorMessages&&{errorMessage:{pattern:o}}})):Mt(e,"pattern",nI(n,i),o,i)}function nI(e,n){if(!n.applyRegexFlags||!e.flags)return e.source;const o={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=o.i?e.source.toLowerCase():e.source;let l="",t=!1,r=!1,a=!1;for(let s=0;s<i.length;s++){if(t){l+=i[s],t=!1;continue}if(o.i){if(r){if(i[s].match(/[a-z]/)){a?(l+=i[s],l+=`${i[s-2]}-${i[s]}`.toUpperCase(),a=!1):i[s+1]==="-"&&i[s+2]?.match(/[a-z]/)?(l+=i[s],a=!0):l+=`${i[s]}${i[s].toUpperCase()}`;continue}}else if(i[s].match(/[a-z]/)){l+=`[${i[s]}${i[s].toUpperCase()}]`;continue}}if(o.m){if(i[s]==="^"){l+=`(^|(?<=[\r
]))`;continue}else if(i[s]==="$"){l+=`($|(?=[\r
]))`;continue}}if(o.s&&i[s]==="."){l+=r?`${i[s]}\r
`:`[${i[s]}\r
]`;continue}l+=i[s],i[s]==="\\"?t=!0:r&&i[s]==="]"?r=!1:!r&&i[s]==="["&&(r=!0)}try{new RegExp(l)}catch{return console.warn(`Could not convert regex pattern at ${n.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return l}function gG(e,n){if(n.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),n.target==="openApi3"&&e.keyType?._def.typeName===Ue.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((i,l)=>({...i,[l]:xt(e.valueType._def,{...n,currentPath:[...n.currentPath,"properties",l]})??bn(n)}),{}),additionalProperties:n.rejectedAdditionalProperties};const o={type:"object",additionalProperties:xt(e.valueType._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]})??n.allowedAdditionalProperties};if(n.target==="openApi3")return o;if(e.keyType?._def.typeName===Ue.ZodString&&e.keyType._def.checks?.length){const{type:i,...l}=mG(e.keyType._def,n);return{...o,propertyNames:l}}else{if(e.keyType?._def.typeName===Ue.ZodEnum)return{...o,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===Ue.ZodBranded&&e.keyType._def.type._def.typeName===Ue.ZodString&&e.keyType._def.type._def.checks?.length){const{type:i,...l}=hG(e.keyType._def,n);return{...o,propertyNames:l}}}return o}function ire(e,n){if(n.mapStrategy==="record")return gG(e,n);const o=xt(e.keyType._def,{...n,currentPath:[...n.currentPath,"items","items","0"]})||bn(n),i=xt(e.valueType._def,{...n,currentPath:[...n.currentPath,"items","items","1"]})||bn(n);return{type:"array",maxItems:125,items:{type:"array",items:[o,i],minItems:2,maxItems:2}}}function ore(e){const n=e.values,i=Object.keys(e.values).filter(t=>typeof n[n[t]]!="number").map(t=>n[t]),l=Array.from(new Set(i.map(t=>typeof t)));return{type:l.length===1?l[0]==="string"?"string":"number":["string","number"],enum:i}}function sre(e){return e.target==="openAi"?void 0:{not:bn({...e,currentPath:[...e.currentPath,"not"]})}}function lre(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const yb={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ure(e,n){if(n.target==="openApi3")return aI(e,n);const o=e.options instanceof Map?Array.from(e.options.values()):e.options;if(o.every(i=>i._def.typeName in yb&&(!i._def.checks||!i._def.checks.length))){const i=o.reduce((l,t)=>{const r=yb[t._def.typeName];return r&&!l.includes(r)?[...l,r]:l},[]);return{type:i.length>1?i:i[0]}}else if(o.every(i=>i._def.typeName==="ZodLiteral"&&!i.description)){const i=o.reduce((l,t)=>{const r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...l,r];case"bigint":return[...l,"integer"];case"object":return t._def.value===null?[...l,"null"]:l;default:return l}},[]);if(i.length===o.length){const l=i.filter((t,r,a)=>a.indexOf(t)===r);return{type:l.length>1?l:l[0],enum:o.reduce((t,r)=>t.includes(r._def.value)?t:[...t,r._def.value],[])}}}else if(o.every(i=>i._def.typeName==="ZodEnum"))return{type:"string",enum:o.reduce((i,l)=>[...i,...l._def.values.filter(t=>!i.includes(t))],[])};return aI(e,n)}const aI=(e,n)=>{const o=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((i,l)=>xt(i._def,{...n,currentPath:[...n.currentPath,"anyOf",`${l}`]})).filter(i=>!!i&&(!n.strictUnions||typeof i=="object"&&Object.keys(i).length>0));return o.length?{anyOf:o}:void 0};function cre(e,n){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return n.target==="openApi3"?{type:yb[e.innerType._def.typeName],nullable:!0}:{type:[yb[e.innerType._def.typeName],"null"]};if(n.target==="openApi3"){const i=xt(e.innerType._def,{...n,currentPath:[...n.currentPath]});return i&&"$ref"in i?{allOf:[i],nullable:!0}:i&&{...i,nullable:!0}}const o=xt(e.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","0"]});return o&&{anyOf:[o,{type:"null"}]}}function dre(e,n){const o={type:"number"};if(!e.checks)return o;for(const i of e.checks)switch(i.kind){case"int":o.type="integer",uG(o,"type",i.message,n);break;case"min":n.target==="jsonSchema7"?i.inclusive?Mt(o,"minimum",i.value,i.message,n):Mt(o,"exclusiveMinimum",i.value,i.message,n):(i.inclusive||(o.exclusiveMinimum=!0),Mt(o,"minimum",i.value,i.message,n));break;case"max":n.target==="jsonSchema7"?i.inclusive?Mt(o,"maximum",i.value,i.message,n):Mt(o,"exclusiveMaximum",i.value,i.message,n):(i.inclusive||(o.exclusiveMaximum=!0),Mt(o,"maximum",i.value,i.message,n));break;case"multipleOf":Mt(o,"multipleOf",i.value,i.message,n);break}return o}function fre(e,n){const o=n.target==="openAi",i={type:"object",properties:{}},l=[],t=e.shape();for(const a in t){let s=t[a];if(s===void 0||s._def===void 0)continue;let u=pre(s);u&&o&&(s._def.typeName==="ZodOptional"&&(s=s._def.innerType),s.isNullable()||(s=s.nullable()),u=!1);const f=xt(s._def,{...n,currentPath:[...n.currentPath,"properties",a],propertyPath:[...n.currentPath,"properties",a]});f!==void 0&&(i.properties[a]=f,u||l.push(a))}l.length&&(i.required=l);const r=hre(e,n);return r!==void 0&&(i.additionalProperties=r),i}function hre(e,n){if(e.catchall._def.typeName!=="ZodNever")return xt(e.catchall._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return n.allowedAdditionalProperties;case"strict":return n.rejectedAdditionalProperties;case"strip":return n.removeAdditionalStrategy==="strict"?n.allowedAdditionalProperties:n.rejectedAdditionalProperties}}function pre(e){try{return e.isOptional()}catch{return!0}}const mre=(e,n)=>{if(n.currentPath.toString()===n.propertyPath?.toString())return xt(e.innerType._def,n);const o=xt(e.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","1"]});return o?{anyOf:[{not:bn(n)},o]}:bn(n)},gre=(e,n)=>{if(n.pipeStrategy==="input")return xt(e.in._def,n);if(n.pipeStrategy==="output")return xt(e.out._def,n);const o=xt(e.in._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),i=xt(e.out._def,{...n,currentPath:[...n.currentPath,"allOf",o?"1":"0"]});return{allOf:[o,i].filter(l=>l!==void 0)}};function _re(e,n){return xt(e.type._def,n)}function yre(e,n){const i={type:"array",uniqueItems:!0,items:xt(e.valueType._def,{...n,currentPath:[...n.currentPath,"items"]})};return e.minSize&&Mt(i,"minItems",e.minSize.value,e.minSize.message,n),e.maxSize&&Mt(i,"maxItems",e.maxSize.value,e.maxSize.message,n),i}function vre(e,n){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((o,i)=>xt(o._def,{...n,currentPath:[...n.currentPath,"items",`${i}`]})).reduce((o,i)=>i===void 0?o:[...o,i],[]),additionalItems:xt(e.rest._def,{...n,currentPath:[...n.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((o,i)=>xt(o._def,{...n,currentPath:[...n.currentPath,"items",`${i}`]})).reduce((o,i)=>i===void 0?o:[...o,i],[])}}function bre(e){return{not:bn(e)}}function wre(e){return bn(e)}const Sre=(e,n)=>xt(e.innerType._def,n),Ore=(e,n,o)=>{switch(n){case Ue.ZodString:return mG(e,o);case Ue.ZodNumber:return dre(e,o);case Ue.ZodObject:return fre(e,o);case Ue.ZodBigInt:return kte(e,o);case Ue.ZodBoolean:return Yte();case Ue.ZodDate:return pG(e,o);case Ue.ZodUndefined:return bre(o);case Ue.ZodNull:return lre(o);case Ue.ZodArray:return Kte(e,o);case Ue.ZodUnion:case Ue.ZodDiscriminatedUnion:return ure(e,o);case Ue.ZodIntersection:return tre(e,o);case Ue.ZodTuple:return vre(e,o);case Ue.ZodRecord:return gG(e,o);case Ue.ZodLiteral:return rre(e,o);case Ue.ZodEnum:return Xte(e);case Ue.ZodNativeEnum:return ore(e);case Ue.ZodNullable:return cre(e,o);case Ue.ZodOptional:return mre(e,o);case Ue.ZodMap:return ire(e,o);case Ue.ZodSet:return yre(e,o);case Ue.ZodLazy:return()=>e.getter()._def;case Ue.ZodPromise:return _re(e,o);case Ue.ZodNaN:case Ue.ZodNever:return sre(o);case Ue.ZodEffects:return Qte(e,o);case Ue.ZodAny:return bn(o);case Ue.ZodUnknown:return wre(o);case Ue.ZodDefault:return Zte(e,o);case Ue.ZodBranded:return hG(e,o);case Ue.ZodReadonly:return Sre(e,o);case Ue.ZodCatch:return Wte(e,o);case Ue.ZodPipeline:return gre(e,o);case Ue.ZodFunction:case Ue.ZodVoid:case Ue.ZodSymbol:return;default:return(i=>{})()}};function xt(e,n,o=!1){const i=n.seen.get(e);if(n.override){const a=n.override?.(e,n,i,o);if(a!==gte)return a}if(i&&!o){const a=Ere(i,n);if(a!==void 0)return a}const l={def:e,path:n.currentPath,jsonSchema:void 0};n.seen.set(e,l);const t=Ore(e,e.typeName,n),r=typeof t=="function"?xt(t(),n):t;if(r&&Rre(e,n,r),n.postProcess){const a=n.postProcess(r,e,n);return l.jsonSchema=r,a}return l.jsonSchema=r,r}const Ere=(e,n)=>{switch(n.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:lG(n.currentPath,e.path)};case"none":case"seen":return e.path.length<n.currentPath.length&&e.path.every((o,i)=>n.currentPath[i]===o)?(console.warn(`Recursive reference detected at ${n.currentPath.join("/")}! Defaulting to any`),bn(n)):n.$refStrategy==="seen"?bn(n):void 0}},Rre=(e,n,o)=>(e.description&&(o.description=e.description,n.markdownDescription&&(o.markdownDescription=e.description)),o),jre=(e,n)=>{const o=vte(n);let i;const l=n?.name,t=xt(e._def,o,!1)??bn(o);o.flags.hasReferencedOpenAiAnyType&&(i||(i={}),i[o.openAiAnyTypeName]||(i[o.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:o.$refStrategy==="relative"?"1":[...o.basePath,o.definitionPath,o.openAiAnyTypeName].join("/")}}));const r=l===void 0?i?{...t,[o.definitionPath]:i}:t:{$ref:[...o.$refStrategy==="relative"?[]:o.basePath,o.definitionPath,l].join("/"),[o.definitionPath]:{...i,[l]:t}};return o.target==="jsonSchema7"?r.$schema="http://json-schema.org/draft-07/schema#":(o.target==="jsonSchema2019-09"||o.target==="openAi")&&(r.$schema="https://json-schema.org/draft/2019-09/schema#"),o.target==="openAi"&&("anyOf"in r||"oneOf"in r||"allOf"in r||"type"in r&&Array.isArray(r.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),r};function Bf(e,n){const o=typeof e;if(o!==typeof n)return!1;if(Array.isArray(e)){if(!Array.isArray(n))return!1;const i=e.length;if(i!==n.length)return!1;for(let l=0;l<i;l++)if(!Bf(e[l],n[l]))return!1;return!0}if(o==="object"){if(!e||!n)return e===n;const i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(const r of i)if(!Bf(e[r],n[r]))return!1;return!0}return e===n}function Ql(e){return encodeURI(xre(e))}function xre(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}const Cre={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},Tre={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Mre={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let Pre=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Kc(e,n=Object.create(null),o=Pre,i=""){if(e&&typeof e=="object"&&!Array.isArray(e)){const t=e.$id||e.id;if(t){const r=new URL(t,o.href);r.hash.length>1?n[r.href]=e:(r.hash="",i===""?o=r:Kc(e,n,o))}}else if(e!==!0&&e!==!1)return n;const l=o.href+(i?"#"+i:"");if(n[l]!==void 0)throw new Error(`Duplicate schema URI "${l}".`);if(n[l]=e,e===!0||e===!1)return n;if(e.__absolute_uri__===void 0&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:l}),e.$ref&&e.__absolute_ref__===void 0){const t=new URL(e.$ref,o.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:t.href})}if(e.$recursiveRef&&e.__absolute_recursive_ref__===void 0){const t=new URL(e.$recursiveRef,o.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:t.href})}if(e.$anchor){const t=new URL("#"+e.$anchor,o.href);n[t.href]=e}for(let t in e){if(Mre[t])continue;const r=`${i}/${Ql(t)}`,a=e[t];if(Array.isArray(a)){if(Cre[t]){const s=a.length;for(let u=0;u<s;u++)Kc(a[u],n,o,`${r}/${u}`)}}else if(Tre[t])for(let s in a)Kc(a[s],n,o,`${r}/${Ql(s)}`);else Kc(a,n,o,r)}return n}const Are=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Nre=[0,31,28,31,30,31,30,31,31,30,31,30,31],Dre=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Ire=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,zre=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Bre=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,qre=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,Lre=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Ure=/^(?:\/(?:[^~/]|~0|~1)*)*$/,$re=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Fre=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Vre=e=>{if(e[0]==='"')return!1;const[n,o,...i]=e.split("@");return!n||!o||i.length!==0||n.length>64||o.length>253||n[0]==="."||n.endsWith(".")||n.includes("..")||!/^[a-z0-9.-]+$/i.test(o)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(n)?!1:o.split(".").every(l=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(l))},Gre=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Hre=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,Kre=e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e));function mu(e){return e.test.bind(e)}const iI={date:_G,time:yG.bind(void 0,!1),"date-time":Wre,duration:Kre,uri:Qre,"uri-reference":mu(zre),"uri-template":mu(Bre),url:mu(qre),email:Vre,hostname:mu(Ire),ipv4:mu(Gre),ipv6:mu(Hre),regex:ene,uuid:mu(Lre),"json-pointer":mu(Ure),"json-pointer-uri-fragment":mu($re),"relative-json-pointer":mu(Fre)};function kre(e){return e%4===0&&(e%100!==0||e%400===0)}function _G(e){const n=e.match(Are);if(!n)return!1;const o=+n[1],i=+n[2],l=+n[3];return i>=1&&i<=12&&l>=1&&l<=(i==2&&kre(o)?29:Nre[i])}function yG(e,n){const o=n.match(Dre);if(!o)return!1;const i=+o[1],l=+o[2],t=+o[3],r=!!o[5];return(i<=23&&l<=59&&t<=59||i==23&&l==59&&t==60)&&(!e||r)}const Yre=/t|\s/i;function Wre(e){const n=e.split(Yre);return n.length==2&&_G(n[0])&&yG(!0,n[1])}const Jre=/\/|:/,Zre=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Qre(e){return Jre.test(e)&&Zre.test(e)}const Xre=/[^\\]\\Z/;function ene(e){if(Xre.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}function tne(e){let n=0,o=e.length,i=0,l;for(;i<o;)n++,l=e.charCodeAt(i++),l>=55296&&l<=56319&&i<o&&(l=e.charCodeAt(i),(l&64512)==56320&&i++);return n}function Ft(e,n,o="2019-09",i=Kc(n),l=!0,t=null,r="#",a="#",s=Object.create(null)){if(n===!0)return{valid:!0,errors:[]};if(n===!1)return{valid:!1,errors:[{instanceLocation:r,keyword:"false",keywordLocation:r,error:"False boolean schema."}]};const u=typeof e;let f;switch(u){case"boolean":case"number":case"string":f=u;break;case"object":e===null?f="null":Array.isArray(e)?f="array":f="object";break;default:throw new Error(`Instances of "${u}" type are not supported.`)}const{$ref:g,$recursiveRef:b,$recursiveAnchor:_,type:p,const:y,enum:v,required:E,not:j,anyOf:x,allOf:A,oneOf:M,if:T,then:D,else:P,format:F,properties:q,patternProperties:B,additionalProperties:S,unevaluatedProperties:H,minProperties:Y,maxProperties:W,propertyNames:$,dependentRequired:k,dependentSchemas:Q,dependencies:re,prefixItems:C,items:I,additionalItems:K,unevaluatedItems:ee,contains:fe,minContains:_e,maxContains:V,minItems:U,maxItems:X,uniqueItems:Z,minimum:le,maximum:me,exclusiveMinimum:we,exclusiveMaximum:ae,multipleOf:oe,minLength:ve,maxLength:Ce,pattern:Ae,__absolute_ref__:Ne,__absolute_recursive_ref__:de}=n,pe=[];if(_===!0&&t===null&&(t=n),b==="#"){const ye=t===null?i[de]:t,ze=`${a}/$recursiveRef`,Fe=Ft(e,t===null?n:t,o,i,l,ye,r,ze,s);Fe.valid||pe.push({instanceLocation:r,keyword:"$recursiveRef",keywordLocation:ze,error:"A subschema had errors."},...Fe.errors)}if(g!==void 0){const ze=i[Ne||g];if(ze===void 0){let Be=`Unresolved $ref "${g}".`;throw Ne&&Ne!==g&&(Be+=`  Absolute URI "${Ne}".`),Be+=`
Known schemas:
- ${Object.keys(i).join(`
- `)}`,new Error(Be)}const Fe=`${a}/$ref`,De=Ft(e,ze,o,i,l,t,r,Fe,s);if(De.valid||pe.push({instanceLocation:r,keyword:"$ref",keywordLocation:Fe,error:"A subschema had errors."},...De.errors),o==="4"||o==="7")return{valid:pe.length===0,errors:pe}}if(Array.isArray(p)){let ye=p.length,ze=!1;for(let Fe=0;Fe<ye;Fe++)if(f===p[Fe]||p[Fe]==="integer"&&f==="number"&&e%1===0&&e===e){ze=!0;break}ze||pe.push({instanceLocation:r,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${p.join('", "')}".`})}else p==="integer"?(f!=="number"||e%1||e!==e)&&pe.push({instanceLocation:r,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${p}".`}):p!==void 0&&f!==p&&pe.push({instanceLocation:r,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${p}".`});if(y!==void 0&&(f==="object"||f==="array"?Bf(e,y)||pe.push({instanceLocation:r,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(y)}.`}):e!==y&&pe.push({instanceLocation:r,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(y)}.`})),v!==void 0&&(f==="object"||f==="array"?v.some(ye=>Bf(e,ye))||pe.push({instanceLocation:r,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`}):v.some(ye=>e===ye)||pe.push({instanceLocation:r,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`})),j!==void 0){const ye=`${a}/not`;Ft(e,j,o,i,l,t,r,ye).valid&&pe.push({instanceLocation:r,keyword:"not",keywordLocation:ye,error:'Instance matched "not" schema.'})}let Ie=[];if(x!==void 0){const ye=`${a}/anyOf`,ze=pe.length;let Fe=!1;for(let De=0;De<x.length;De++){const Be=x[De],G=Object.create(s),N=Ft(e,Be,o,i,l,_===!0?t:null,r,`${ye}/${De}`,G);pe.push(...N.errors),Fe=Fe||N.valid,N.valid&&Ie.push(G)}Fe?pe.length=ze:pe.splice(ze,0,{instanceLocation:r,keyword:"anyOf",keywordLocation:ye,error:"Instance does not match any subschemas."})}if(A!==void 0){const ye=`${a}/allOf`,ze=pe.length;let Fe=!0;for(let De=0;De<A.length;De++){const Be=A[De],G=Object.create(s),N=Ft(e,Be,o,i,l,_===!0?t:null,r,`${ye}/${De}`,G);pe.push(...N.errors),Fe=Fe&&N.valid,N.valid&&Ie.push(G)}Fe?pe.length=ze:pe.splice(ze,0,{instanceLocation:r,keyword:"allOf",keywordLocation:ye,error:"Instance does not match every subschema."})}if(M!==void 0){const ye=`${a}/oneOf`,ze=pe.length,Fe=M.filter((De,Be)=>{const G=Object.create(s),N=Ft(e,De,o,i,l,_===!0?t:null,r,`${ye}/${Be}`,G);return pe.push(...N.errors),N.valid&&Ie.push(G),N.valid}).length;Fe===1?pe.length=ze:pe.splice(ze,0,{instanceLocation:r,keyword:"oneOf",keywordLocation:ye,error:`Instance does not match exactly one subschema (${Fe} matches).`})}if((f==="object"||f==="array")&&Object.assign(s,...Ie),T!==void 0){const ye=`${a}/if`;if(Ft(e,T,o,i,l,t,r,ye,s).valid){if(D!==void 0){const Fe=Ft(e,D,o,i,l,t,r,`${a}/then`,s);Fe.valid||pe.push({instanceLocation:r,keyword:"if",keywordLocation:ye,error:'Instance does not match "then" schema.'},...Fe.errors)}}else if(P!==void 0){const Fe=Ft(e,P,o,i,l,t,r,`${a}/else`,s);Fe.valid||pe.push({instanceLocation:r,keyword:"if",keywordLocation:ye,error:'Instance does not match "else" schema.'},...Fe.errors)}}if(f==="object"){if(E!==void 0)for(const De of E)De in e||pe.push({instanceLocation:r,keyword:"required",keywordLocation:`${a}/required`,error:`Instance does not have required property "${De}".`});const ye=Object.keys(e);if(Y!==void 0&&ye.length<Y&&pe.push({instanceLocation:r,keyword:"minProperties",keywordLocation:`${a}/minProperties`,error:`Instance does not have at least ${Y} properties.`}),W!==void 0&&ye.length>W&&pe.push({instanceLocation:r,keyword:"maxProperties",keywordLocation:`${a}/maxProperties`,error:`Instance does not have at least ${W} properties.`}),$!==void 0){const De=`${a}/propertyNames`;for(const Be in e){const G=`${r}/${Ql(Be)}`,N=Ft(Be,$,o,i,l,t,G,De);N.valid||pe.push({instanceLocation:r,keyword:"propertyNames",keywordLocation:De,error:`Property name "${Be}" does not match schema.`},...N.errors)}}if(k!==void 0){const De=`${a}/dependantRequired`;for(const Be in k)if(Be in e){const G=k[Be];for(const N of G)N in e||pe.push({instanceLocation:r,keyword:"dependentRequired",keywordLocation:De,error:`Instance has "${Be}" but does not have "${N}".`})}}if(Q!==void 0)for(const De in Q){const Be=`${a}/dependentSchemas`;if(De in e){const G=Ft(e,Q[De],o,i,l,t,r,`${Be}/${Ql(De)}`,s);G.valid||pe.push({instanceLocation:r,keyword:"dependentSchemas",keywordLocation:Be,error:`Instance has "${De}" but does not match dependant schema.`},...G.errors)}}if(re!==void 0){const De=`${a}/dependencies`;for(const Be in re)if(Be in e){const G=re[Be];if(Array.isArray(G))for(const N of G)N in e||pe.push({instanceLocation:r,keyword:"dependencies",keywordLocation:De,error:`Instance has "${Be}" but does not have "${N}".`});else{const N=Ft(e,G,o,i,l,t,r,`${De}/${Ql(Be)}`);N.valid||pe.push({instanceLocation:r,keyword:"dependencies",keywordLocation:De,error:`Instance has "${Be}" but does not match dependant schema.`},...N.errors)}}}const ze=Object.create(null);let Fe=!1;if(q!==void 0){const De=`${a}/properties`;for(const Be in q){if(!(Be in e))continue;const G=`${r}/${Ql(Be)}`,N=Ft(e[Be],q[Be],o,i,l,t,G,`${De}/${Ql(Be)}`);if(N.valid)s[Be]=ze[Be]=!0;else if(Fe=l,pe.push({instanceLocation:r,keyword:"properties",keywordLocation:De,error:`Property "${Be}" does not match schema.`},...N.errors),Fe)break}}if(!Fe&&B!==void 0){const De=`${a}/patternProperties`;for(const Be in B){const G=new RegExp(Be,"u"),N=B[Be];for(const z in e){if(!G.test(z))continue;const ne=`${r}/${Ql(z)}`,ce=Ft(e[z],N,o,i,l,t,ne,`${De}/${Ql(Be)}`);ce.valid?s[z]=ze[z]=!0:(Fe=l,pe.push({instanceLocation:r,keyword:"patternProperties",keywordLocation:De,error:`Property "${z}" matches pattern "${Be}" but does not match associated schema.`},...ce.errors))}}}if(!Fe&&S!==void 0){const De=`${a}/additionalProperties`;for(const Be in e){if(ze[Be])continue;const G=`${r}/${Ql(Be)}`,N=Ft(e[Be],S,o,i,l,t,G,De);N.valid?s[Be]=!0:(Fe=l,pe.push({instanceLocation:r,keyword:"additionalProperties",keywordLocation:De,error:`Property "${Be}" does not match additional properties schema.`},...N.errors))}}else if(!Fe&&H!==void 0){const De=`${a}/unevaluatedProperties`;for(const Be in e)if(!s[Be]){const G=`${r}/${Ql(Be)}`,N=Ft(e[Be],H,o,i,l,t,G,De);N.valid?s[Be]=!0:pe.push({instanceLocation:r,keyword:"unevaluatedProperties",keywordLocation:De,error:`Property "${Be}" does not match unevaluated properties schema.`},...N.errors)}}}else if(f==="array"){X!==void 0&&e.length>X&&pe.push({instanceLocation:r,keyword:"maxItems",keywordLocation:`${a}/maxItems`,error:`Array has too many items (${e.length} > ${X}).`}),U!==void 0&&e.length<U&&pe.push({instanceLocation:r,keyword:"minItems",keywordLocation:`${a}/minItems`,error:`Array has too few items (${e.length} < ${U}).`});const ye=e.length;let ze=0,Fe=!1;if(C!==void 0){const De=`${a}/prefixItems`,Be=Math.min(C.length,ye);for(;ze<Be;ze++){const G=Ft(e[ze],C[ze],o,i,l,t,`${r}/${ze}`,`${De}/${ze}`);if(s[ze]=!0,!G.valid&&(Fe=l,pe.push({instanceLocation:r,keyword:"prefixItems",keywordLocation:De,error:"Items did not match schema."},...G.errors),Fe))break}}if(I!==void 0){const De=`${a}/items`;if(Array.isArray(I)){const Be=Math.min(I.length,ye);for(;ze<Be;ze++){const G=Ft(e[ze],I[ze],o,i,l,t,`${r}/${ze}`,`${De}/${ze}`);if(s[ze]=!0,!G.valid&&(Fe=l,pe.push({instanceLocation:r,keyword:"items",keywordLocation:De,error:"Items did not match schema."},...G.errors),Fe))break}}else for(;ze<ye;ze++){const Be=Ft(e[ze],I,o,i,l,t,`${r}/${ze}`,De);if(s[ze]=!0,!Be.valid&&(Fe=l,pe.push({instanceLocation:r,keyword:"items",keywordLocation:De,error:"Items did not match schema."},...Be.errors),Fe))break}if(!Fe&&K!==void 0){const Be=`${a}/additionalItems`;for(;ze<ye;ze++){const G=Ft(e[ze],K,o,i,l,t,`${r}/${ze}`,Be);s[ze]=!0,G.valid||(Fe=l,pe.push({instanceLocation:r,keyword:"additionalItems",keywordLocation:Be,error:"Items did not match additional items schema."},...G.errors))}}}if(fe!==void 0)if(ye===0&&_e===void 0)pe.push({instanceLocation:r,keyword:"contains",keywordLocation:`${a}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(_e!==void 0&&ye<_e)pe.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array has less items (${ye}) than minContains (${_e}).`});else{const De=`${a}/contains`,Be=pe.length;let G=0;for(let N=0;N<ye;N++){const z=Ft(e[N],fe,o,i,l,t,`${r}/${N}`,De);z.valid?(s[N]=!0,G++):pe.push(...z.errors)}G>=(_e||0)&&(pe.length=Be),_e===void 0&&V===void 0&&G===0?pe.splice(Be,0,{instanceLocation:r,keyword:"contains",keywordLocation:De,error:"Array does not contain item matching schema."}):_e!==void 0&&G<_e?pe.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array must contain at least ${_e} items matching schema. Only ${G} items were found.`}):V!==void 0&&G>V&&pe.push({instanceLocation:r,keyword:"maxContains",keywordLocation:`${a}/maxContains`,error:`Array may contain at most ${V} items matching schema. ${G} items were found.`})}if(!Fe&&ee!==void 0){const De=`${a}/unevaluatedItems`;for(ze;ze<ye;ze++){if(s[ze])continue;const Be=Ft(e[ze],ee,o,i,l,t,`${r}/${ze}`,De);s[ze]=!0,Be.valid||pe.push({instanceLocation:r,keyword:"unevaluatedItems",keywordLocation:De,error:"Items did not match unevaluated items schema."},...Be.errors)}}if(Z)for(let De=0;De<ye;De++){const Be=e[De],G=typeof Be=="object"&&Be!==null;for(let N=0;N<ye;N++){if(De===N)continue;const z=e[N];(Be===z||G&&(typeof z=="object"&&z!==null)&&Bf(Be,z))&&(pe.push({instanceLocation:r,keyword:"uniqueItems",keywordLocation:`${a}/uniqueItems`,error:`Duplicate items at indexes ${De} and ${N}.`}),De=Number.MAX_SAFE_INTEGER,N=Number.MAX_SAFE_INTEGER)}}}else if(f==="number"){if(o==="4"?(le!==void 0&&(we===!0&&e<=le||e<le)&&pe.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${we?"or equal to ":""} ${le}.`}),me!==void 0&&(ae===!0&&e>=me||e>me)&&pe.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${ae?"or equal to ":""} ${me}.`})):(le!==void 0&&e<le&&pe.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${le}.`}),me!==void 0&&e>me&&pe.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${me}.`}),we!==void 0&&e<=we&&pe.push({instanceLocation:r,keyword:"exclusiveMinimum",keywordLocation:`${a}/exclusiveMinimum`,error:`${e} is less than ${we}.`}),ae!==void 0&&e>=ae&&pe.push({instanceLocation:r,keyword:"exclusiveMaximum",keywordLocation:`${a}/exclusiveMaximum`,error:`${e} is greater than or equal to ${ae}.`})),oe!==void 0){const ye=e%oe;Math.abs(0-ye)>=11920929e-14&&Math.abs(oe-ye)>=11920929e-14&&pe.push({instanceLocation:r,keyword:"multipleOf",keywordLocation:`${a}/multipleOf`,error:`${e} is not a multiple of ${oe}.`})}}else if(f==="string"){const ye=ve===void 0&&Ce===void 0?0:tne(e);ve!==void 0&&ye<ve&&pe.push({instanceLocation:r,keyword:"minLength",keywordLocation:`${a}/minLength`,error:`String is too short (${ye} < ${ve}).`}),Ce!==void 0&&ye>Ce&&pe.push({instanceLocation:r,keyword:"maxLength",keywordLocation:`${a}/maxLength`,error:`String is too long (${ye} > ${Ce}).`}),Ae!==void 0&&!new RegExp(Ae,"u").test(e)&&pe.push({instanceLocation:r,keyword:"pattern",keywordLocation:`${a}/pattern`,error:"String does not match pattern."}),F!==void 0&&iI[F]&&!iI[F](e)&&pe.push({instanceLocation:r,keyword:"format",keywordLocation:`${a}/format`,error:`String does not match format "${F}".`})}return{valid:pe.length===0,errors:pe}}class rne{schema;draft;shortCircuit;lookup;constructor(n,o="2019-09",i=!0){this.schema=n,this.draft=o,this.shortCircuit=i,this.lookup=Kc(n)}validate(n){return Ft(n,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(n,o){o&&(n={...n,$id:o}),Kc(n,this.lookup)}}var nne={};dt(nne,{Validator:()=>rne,deepCompareStrict:()=>Bf,toJsonSchema:()=>tc,validatesOnlyStrings:()=>Wv});function tc(e,n){if(Ht(e)){const o=sG(e,!0);if(bu(o)){const i=fb(o,!0);return UD(i,n)}else return UD(e,n)}return cr(e)?jre(e):e}function Wv(e){if(!e||typeof e!="object"||Object.keys(e).length===0||Array.isArray(e))return!1;if("type"in e)return typeof e.type=="string"?e.type==="string":Array.isArray(e.type)?e.type.every(n=>n==="string"):!1;if("enum"in e)return Array.isArray(e.enum)&&e.enum.length>0&&e.enum.every(n=>typeof n=="string");if("const"in e)return typeof e.const=="string";if("allOf"in e&&Array.isArray(e.allOf))return e.allOf.some(n=>Wv(n));if("anyOf"in e&&Array.isArray(e.anyOf)||"oneOf"in e&&Array.isArray(e.oneOf)){const n="anyOf"in e?e.anyOf:e.oneOf;return n.length>0&&n.every(o=>Wv(o))}if("not"in e)return!1;if("$ref"in e&&typeof e.$ref=="string"){const n=e.$ref,o=Kc(e);return o[n]?Wv(o[n]):!1}return!1}function rd(e){return typeof e=="object"&&e!==null&&"type"in e&&typeof e.type=="string"&&"source_type"in e&&(e.source_type==="url"||e.source_type==="base64"||e.source_type==="text"||e.source_type==="id")}function nT(e){return rd(e)&&e.source_type==="url"&&"url"in e&&typeof e.url=="string"}function aT(e){return rd(e)&&e.source_type==="base64"&&"data"in e&&typeof e.data=="string"}function ane(e){return rd(e)&&e.source_type==="text"&&"text"in e&&typeof e.text=="string"}function vG(e){return rd(e)&&e.source_type==="id"&&"id"in e&&typeof e.id=="string"}function bG(e){if(rd(e)){if(e.source_type==="url")return{type:"image_url",image_url:{url:e.url}};if(e.source_type==="base64"){if(!e.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${e.mime_type};base64,${e.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function ine(e){const n=e.split(";")[0].split("/");if(n.length!==2)throw new Error(`Invalid mime type: "${e}" - does not match type/subtype format.`);const o=n[0].trim(),i=n[1].trim();if(o===""||i==="")throw new Error(`Invalid mime type: "${e}" - type or subtype is empty.`);const l={};for(const t of e.split(";").slice(1)){const r=t.split("=");if(r.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${e}".`);const a=r[0].trim(),s=r[1].trim();if(a==="")throw new Error(`Invalid parameter syntax in mime type: "${e}".`);l[a]=s}return{type:o,subtype:i,parameters:l}}function t1({dataUrl:e,asTypedArray:n=!1}){const o=e.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let i;if(o){i=o[1].toLowerCase();const l=n?Uint8Array.from(atob(o[2]),t=>t.charCodeAt(0)):o[2];return{mime_type:i,data:l}}}function one(e,n){if(e.type==="text"){if(!n.fromStandardTextBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardTextBlock\` method.`);return n.fromStandardTextBlock(e)}if(e.type==="image"){if(!n.fromStandardImageBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardImageBlock\` method.`);return n.fromStandardImageBlock(e)}if(e.type==="audio"){if(!n.fromStandardAudioBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardAudioBlock\` method.`);return n.fromStandardAudioBlock(e)}if(e.type==="file"){if(!n.fromStandardFileBlock)throw new Error(`Converter for ${n.providerName} does not implement \`fromStandardFileBlock\` method.`);return n.fromStandardFileBlock(e)}throw new Error(`Unable to convert content block type '${e.type}' to provider-specific format: not recognized.`)}var US,oI;function sne(){return oI||(oI=1,US=function(e,n){if(typeof e!="string")throw new TypeError("Expected a string");return n=typeof n>"u"?"_":n,e.replace(/([a-z\d])([A-Z])/g,"$1"+n+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+n+"$2").toLowerCase()}),US}var lne=sne();const une=s_(lne);var Jy={exports:{}},sI;function cne(){if(sI)return Jy.exports;sI=1;const e=/[\p{Lu}]/u,n=/[\p{Ll}]/u,o=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,l=/[_.\- ]+/,t=new RegExp("^"+l.source),r=new RegExp(l.source+i.source,"gu"),a=new RegExp("\\d+"+i.source,"gu"),s=(b,_,p)=>{let y=!1,v=!1,E=!1;for(let j=0;j<b.length;j++){const x=b[j];y&&e.test(x)?(b=b.slice(0,j)+"-"+b.slice(j),y=!1,E=v,v=!0,j++):v&&E&&n.test(x)?(b=b.slice(0,j-1)+"-"+b.slice(j-1),E=v,v=!1,y=!0):(y=_(x)===x&&p(x)!==x,E=v,v=p(x)===x&&_(x)!==x)}return b},u=(b,_)=>(o.lastIndex=0,b.replace(o,p=>_(p))),f=(b,_)=>(r.lastIndex=0,a.lastIndex=0,b.replace(r,(p,y)=>_(y)).replace(a,p=>_(p))),g=(b,_)=>{if(!(typeof b=="string"||Array.isArray(b)))throw new TypeError("Expected the input to be `string | string[]`");if(_={pascalCase:!1,preserveConsecutiveUppercase:!1,..._},Array.isArray(b)?b=b.map(E=>E.trim()).filter(E=>E.length).join("-"):b=b.trim(),b.length===0)return"";const p=_.locale===!1?E=>E.toLowerCase():E=>E.toLocaleLowerCase(_.locale),y=_.locale===!1?E=>E.toUpperCase():E=>E.toLocaleUpperCase(_.locale);return b.length===1?_.pascalCase?y(b):p(b):(b!==p(b)&&(b=s(b,p,y)),b=b.replace(t,""),_.preserveConsecutiveUppercase?b=u(b,p):b=p(b),_.pascalCase&&(b=y(b.charAt(0))+b.slice(1)),f(b,y))};return Jy.exports=g,Jy.exports.default=g,Jy.exports}cne();function dne(e,n){return n?.[e]||une(e)}function fne(e,n,o){const i={};for(const l in e)Object.hasOwn(e,l)&&(i[n(l,o)]=e[l]);return i}const wG="__lc_escaped__";function hne(e){return"lc"in e||Object.keys(e).length===1&&wG in e}function pne(e){return{[wG]:e}}function mne(e){return e!==null&&typeof e=="object"&&"lc_serializable"in e&&typeof e.toJSON=="function"}function r1(e){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){if(mne(e))return e;const n=e;if(hne(n))return pne(n);const o={};for(const[i,l]of Object.entries(n))o[i]=r1(l);return o}return Array.isArray(e)?e.map(n=>r1(n)):e}var gne={};dt(gne,{Serializable:()=>Vf,get_lc_unique_name:()=>iT});function lI(e){return Array.isArray(e)?[...e]:{...e}}function _ne(e,n){const o=lI(e);for(const[i,l]of Object.entries(n)){const[t,...r]=i.split(".").reverse();let a=o;for(const s of r.reverse()){if(a[s]===void 0)break;a[s]=lI(a[s]),a=a[s]}a[t]!==void 0&&(a[t]={lc:1,type:"secret",id:[l]})}return o}function iT(e){const n=Object.getPrototypeOf(e);return typeof e.lc_name=="function"&&(typeof n.lc_name!="function"||e.lc_name()!==n.lc_name())?e.lc_name():e.name}var Vf=class SG{lc_serializable=!1;lc_kwargs;static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,iT(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(n,...o){this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(n||{}).filter(([i])=>this.lc_serializable_keys?.includes(i))):this.lc_kwargs=n??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof SG||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const n={},o={},i=Object.keys(this.lc_kwargs).reduce((a,s)=>(a[s]=s in this?this[s]:this.lc_kwargs[s],a),{});for(let a=Object.getPrototypeOf(this);a;a=Object.getPrototypeOf(a))Object.assign(n,Reflect.get(a,"lc_aliases",this)),Object.assign(o,Reflect.get(a,"lc_secrets",this)),Object.assign(i,Reflect.get(a,"lc_attributes",this));Object.keys(o).forEach(a=>{let s=this,u=i;const[f,...g]=a.split(".").reverse();for(const b of g.reverse()){if(!(b in s)||s[b]===void 0)return;(!(b in u)||u[b]===void 0)&&(typeof s[b]=="object"&&s[b]!=null?u[b]={}:Array.isArray(s[b])&&(u[b]=[])),s=s[b],u=u[b]}f in s&&s[f]!==void 0&&(u[f]=u[f]||s[f])});const l={};for(const[a,s]of Object.entries(i))l[a]=r1(s);const t=Object.keys(o).length?_ne(l,o):l,r=fne(t,dne,n);return{lc:1,type:"constructor",id:this.lc_id,kwargs:r}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function et(e,n){return it(e)&&e.type===n}function it(e){return typeof e=="object"&&e!==null}function Su(e){return Array.isArray(e)}function Ge(e){return typeof e=="string"}function Xl(e){return typeof e=="number"}function oT(e){return e instanceof Uint8Array}function uI(e){try{return JSON.parse(e)}catch{return}}const Wg=e=>e();function yne(e){if(e.type==="char_location"&&Ge(e.document_title)&&Xl(e.start_char_index)&&Xl(e.end_char_index)&&Ge(e.cited_text)){const{document_title:n,start_char_index:o,end_char_index:i,cited_text:l,...t}=e;return{...t,type:"citation",source:"char",title:n??void 0,startIndex:o,endIndex:i,citedText:l}}if(e.type==="page_location"&&Ge(e.document_title)&&Xl(e.start_page_number)&&Xl(e.end_page_number)&&Ge(e.cited_text)){const{document_title:n,start_page_number:o,end_page_number:i,cited_text:l,...t}=e;return{...t,type:"citation",source:"page",title:n??void 0,startIndex:o,endIndex:i,citedText:l}}if(e.type==="content_block_location"&&Ge(e.document_title)&&Xl(e.start_block_index)&&Xl(e.end_block_index)&&Ge(e.cited_text)){const{document_title:n,start_block_index:o,end_block_index:i,cited_text:l,...t}=e;return{...t,type:"citation",source:"block",title:n??void 0,startIndex:o,endIndex:i,citedText:l}}if(e.type==="web_search_result_location"&&Ge(e.url)&&Ge(e.title)&&Ge(e.encrypted_index)&&Ge(e.cited_text)){const{url:n,title:o,encrypted_index:i,cited_text:l,...t}=e;return{...t,type:"citation",source:"url",url:n,title:o,startIndex:Number(i),endIndex:Number(i),citedText:l}}if(e.type==="search_result_location"&&Ge(e.source)&&Ge(e.title)&&Xl(e.start_block_index)&&Xl(e.end_block_index)&&Ge(e.cited_text)){const{source:n,title:o,start_block_index:i,end_block_index:l,cited_text:t,...r}=e;return{...r,type:"citation",source:"search",url:n,title:o??void 0,startIndex:i,endIndex:l,citedText:t}}}function OG(e){if(et(e,"document")&&it(e.source)&&"type"in e.source){if(e.source.type==="base64"&&Ge(e.source.media_type)&&Ge(e.source.data))return{type:"file",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&Ge(e.source.url))return{type:"file",url:e.source.url};if(e.source.type==="file"&&Ge(e.source.file_id))return{type:"file",fileId:e.source.file_id};if(e.source.type==="text"&&Ge(e.source.data))return{type:"file",mimeType:String(e.source.media_type??"text/plain"),data:e.source.data}}else if(et(e,"image")&&it(e.source)&&"type"in e.source){if(e.source.type==="base64"&&Ge(e.source.media_type)&&Ge(e.source.data))return{type:"image",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&Ge(e.source.url))return{type:"image",url:e.source.url};if(e.source.type==="file"&&Ge(e.source.file_id))return{type:"image",fileId:e.source.file_id}}}function vne(e){function*n(){for(const o of e){const i=OG(o);i?yield i:yield o}}return Array.from(n())}function cI(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(et(i,"text")&&Ge(i.text)){const{text:l,citations:t,...r}=i;if(Su(t)&&t.length){const a=t.reduce((s,u)=>{const f=yne(u);return f?[...s,f]:s},[]);yield{...r,type:"text",text:l,annotations:a};continue}else{yield{...r,type:"text",text:l};continue}}else if(et(i,"thinking")&&Ge(i.thinking)){const{thinking:l,signature:t,...r}=i;yield{...r,type:"reasoning",reasoning:l,signature:t};continue}else if(et(i,"redacted_thinking")){yield{type:"non_standard",value:i};continue}else if(et(i,"tool_use")&&Ge(i.name)&&Ge(i.id)){yield{type:"tool_call",id:i.id,name:i.name,args:i.input};continue}else if(et(i,"input_json_delta")){if(wne(e)&&e.tool_call_chunks?.length){const l=e.tool_call_chunks[0];yield{type:"tool_call_chunk",id:l.id,name:l.name,args:l.args,index:l.index};continue}}else if(et(i,"server_tool_use")&&Ge(i.name)&&Ge(i.id)){const{name:l,id:t}=i;if(l==="web_search"){const r=Wg(()=>{if(typeof i.input=="string")return i.input;if(it(i.input)&&Ge(i.input.query))return i.input.query;if(Ge(i.partial_json)){const a=uI(i.partial_json);if(a?.query)return a.query}return""});yield{id:t,type:"server_tool_call",name:"web_search",args:{query:r}};continue}else if(i.name==="code_execution"){const r=Wg(()=>{if(typeof i.input=="string")return i.input;if(it(i.input)&&Ge(i.input.code))return i.input.code;if(Ge(i.partial_json)){const a=uI(i.partial_json);if(a?.code)return a.code}return""});yield{id:t,type:"server_tool_call",name:"code_execution",args:{code:r}};continue}}else if(et(i,"web_search_tool_result")&&Ge(i.tool_use_id)&&Su(i.content)){const{content:l,tool_use_id:t}=i,r=l.reduce((a,s)=>et(s,"web_search_result")?[...a,s.url]:a,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:t,status:"success",output:{urls:r}};continue}else if(et(i,"code_execution_tool_result")&&Ge(i.tool_use_id)&&it(i.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(et(i,"mcp_tool_use")){yield{id:i.id,type:"server_tool_call",name:"mcp_tool_use",args:i.input};continue}else if(et(i,"mcp_tool_result")&&Ge(i.tool_use_id)&&it(i.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(et(i,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:i.input};continue}else if(et(i,"search_result")){yield{id:i.id,type:"non_standard",value:i};continue}else if(et(i,"tool_result")){yield{id:i.id,type:"non_standard",value:i};continue}else{const l=OG(i);if(l){yield l;continue}}yield{type:"non_standard",value:i}}}return Array.from(n())}const bne={translateContent:cI,translateContentChunk:cI};function wne(e){return typeof e?._getType=="function"&&typeof e.concat=="function"&&e._getType()==="ai"}function Sne(e){return nT(e)?{type:e.type,mimeType:e.mime_type,url:e.url,metadata:e.metadata}:aT(e)?{type:e.type,mimeType:e.mime_type??"application/octet-stream",data:e.data,metadata:e.metadata}:vG(e)?{type:e.type,mimeType:e.mime_type,fileId:e.id,metadata:e.metadata}:e}function One(e){return e.map(Sne)}function Ene(e){return!!(et(e,"image_url")&&it(e.image_url)||et(e,"input_audio")&&it(e.input_audio)||et(e,"file")&&it(e.file))}function Rne(e){if(et(e,"image_url")&&it(e.image_url)&&Ge(e.image_url.url)){const n=t1({dataUrl:e.image_url.url});return n?{type:"image",mimeType:n.mime_type,data:n.data}:{type:"image",url:e.image_url.url}}else{if(et(e,"input_audio")&&it(e.input_audio)&&Ge(e.input_audio.data)&&Ge(e.input_audio.format))return{type:"audio",data:e.input_audio.data,mimeType:`audio/${e.input_audio.format}`};if(et(e,"file")&&it(e.file)&&Ge(e.file.data)){const n=t1({dataUrl:e.file.data});if(n)return{type:"file",data:n.data,mimeType:n.mime_type};if(Ge(e.file.file_id))return{type:"file",fileId:e.file.file_id}}}return e}function jne(e){const n=[];typeof e.content=="string"?n.push({type:"text",text:e.content}):n.push(...sT(e.content));for(const o of e.tool_calls??[])n.push({type:"tool_call",id:o.id,name:o.name,args:o.args});return n}function xne(e){const n=[];typeof e.content=="string"?n.push({type:"text",text:e.content}):n.push(...sT(e.content));for(const o of e.tool_calls??[])n.push({type:"tool_call",id:o.id,name:o.name,args:o.args});return n}function sT(e){const n=[];for(const o of e)Ene(o)?n.push(Rne(o)):n.push(o);return n}function Cne(e){if(e.type==="url_citation"){const{url:n,title:o,start_index:i,end_index:l}=e;return{type:"citation",url:n,title:o,startIndex:i,endIndex:l}}if(e.type==="file_citation"){const{file_id:n,filename:o,index:i}=e;return{type:"citation",title:o,startIndex:i,endIndex:i,fileId:n}}return e}function EG(e){function*n(){it(e.additional_kwargs?.reasoning)&&Su(e.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:e.additional_kwargs.reasoning.summary.reduce((l,t)=>it(t)&&Ge(t.text)?`${l}${t.text}`:l,"")});const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o)if(et(i,"text")){const{text:l,annotations:t,...r}=i;Array.isArray(t)?yield{...r,type:"text",text:String(l),annotations:t.map(Cne)}:yield{...r,type:"text",text:String(l)}}for(const i of e.tool_calls??[])yield{type:"tool_call",id:i.id,name:i.name,args:i.args};if(it(e.additional_kwargs)&&Su(e.additional_kwargs.tool_outputs))for(const i of e.additional_kwargs.tool_outputs){if(et(i,"web_search_call")){yield{id:i.id,type:"server_tool_call",name:"web_search",args:{query:i.query}};continue}else if(et(i,"file_search_call")){yield{id:i.id,type:"server_tool_call",name:"file_search",args:{query:i.query}};continue}else if(et(i,"computer_call")){yield{type:"non_standard",value:i};continue}else if(et(i,"code_interpreter_call")){if(Ge(i.code)&&(yield{id:i.id,type:"server_tool_call",name:"code_interpreter",args:{code:i.code}}),Su(i.outputs)){const l=Wg(()=>{if(i.status!=="in_progress"){if(i.status==="completed")return 0;if(i.status==="incomplete")return 127;if(i.status!=="interpreting"&&i.status==="failed")return 1}});for(const t of i.outputs)if(et(t,"logs")){yield{type:"server_tool_call_result",toolCallId:i.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:l??0,stderr:[0,void 0].includes(l)?void 0:String(t.logs),stdout:[0,void 0].includes(l)?String(t.logs):void 0}};continue}}continue}else if(et(i,"mcp_call")){yield{id:i.id,type:"server_tool_call",name:"mcp_call",args:i.input};continue}else if(et(i,"mcp_list_tools")){yield{id:i.id,type:"server_tool_call",name:"mcp_list_tools",args:i.input};continue}else if(et(i,"mcp_approval_request")){yield{type:"non_standard",value:i};continue}else if(et(i,"image_generation_call")){yield{type:"non_standard",value:i};continue}it(i)&&(yield{type:"non_standard",value:i})}}return Array.from(n())}function Tne(e){function*n(){yield*EG(e);for(const o of e.tool_call_chunks??[])yield{type:"tool_call_chunk",id:o.id,name:o.name,args:o.args}}return Array.from(n())}const Mne={translateContent:e=>typeof e.content=="string"?jne(e):EG(e),translateContentChunk:e=>typeof e.content=="string"?xne(e):Tne(e)};function RG(e){return typeof e=="object"&&e!==null&&"type"in e&&"content"in e&&(typeof e.content=="string"||Array.isArray(e.content))}function Pne(e,n="pretty"){return n==="pretty"?Ane(e):JSON.stringify(e)}function Ane(e){const n=[],o=` ${e.type.charAt(0).toUpperCase()+e.type.slice(1)} Message `,i=Math.floor((80-o.length)/2),l="=".repeat(i),t=o.length%2===0?l:`${l}=`;if(n.push(`${l}${o}${t}`),e.type==="ai"){const r=e;if(r.tool_calls&&r.tool_calls.length>0){n.push("Tool Calls:");for(const a of r.tool_calls){n.push(`  ${a.name} (${a.id})`),n.push(` Call ID: ${a.id}`),n.push("  Args:");for(const[s,u]of Object.entries(a.args))n.push(`    ${s}: ${typeof u=="object"?JSON.stringify(u):u}`)}}}if(e.type==="tool"){const r=e;r.name&&n.push(`Name: ${r.name}`)}return typeof e.content=="string"&&e.content.trim()&&(n.length>1&&n.push(""),n.push(e.content)),n.join(`
`)}const $S=Symbol.for("langchain.message");function rc(e,n){return typeof e=="string"?e===""?n:typeof n=="string"?e+n:Array.isArray(n)&&n.length===0?e:Array.isArray(n)&&n.some(o=>rd(o))?[{type:"text",source_type:"text",text:e},...n]:[{type:"text",text:e},...n]:Array.isArray(n)?u_(e,n)??[...e,...n]:n===""?e:Array.isArray(e)&&e.some(o=>rd(o))?[...e,{type:"file",source_type:"text",text:n}]:[...e,{type:"text",text:n}]}function jG(e,n){return e==="error"||n==="error"?"error":"success"}function Nne(e,n){function o(i,l){if(typeof i!="object"||i===null||i===void 0)return i;if(l>=n)return Array.isArray(i)?"[Array]":"[Object]";if(Array.isArray(i))return i.map(r=>o(r,l+1));const t={};for(const r of Object.keys(i))t[r]=o(i[r],l+1);return t}return JSON.stringify(o(e,0),null,2)}var Bn=class extends Vf{lc_namespace=["langchain_core","messages"];lc_serializable=!0;get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}[$S]=!0;id;name;content;additional_kwargs;response_metadata;_getType(){return this.type}getType(){return this._getType()}constructor(e){const n=typeof e=="string"||Array.isArray(e)?{content:e}:e;n.additional_kwargs||(n.additional_kwargs={}),n.response_metadata||(n.response_metadata={}),super(n),this.name=n.name,n.content===void 0&&n.contentBlocks!==void 0?(this.content=n.contentBlocks,this.response_metadata={output_version:"v1",...n.response_metadata}):n.content!==void 0?(this.content=n.content??[],this.response_metadata=n.response_metadata):(this.content=[],this.response_metadata=n.response_metadata),this.additional_kwargs=n.additional_kwargs,this.id=n.id}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){const e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[One,sT,vne].reduce((i,l)=>l(i),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&$S in e&&e[$S]===!0&&RG(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=Nne(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}toFormattedString(e="pretty"){return Pne(this,e)}};function Dne(e){return Array.isArray(e)&&e.every(n=>typeof n.index=="number")}function jr(e={},n={}){const o={...e};for(const[i,l]of Object.entries(n))if(o[i]==null)o[i]=l;else{if(l==null)continue;if(typeof o[i]!=typeof l||Array.isArray(o[i])!==Array.isArray(l))throw new Error(`field[${i}] already exists in the message chunk, but with a different type.`);if(typeof o[i]=="string"){if(i==="type")continue;["id","name","output_version","model_provider"].includes(i)?l&&(o[i]=l):o[i]+=l}else if(typeof o[i]=="object"&&!Array.isArray(o[i]))o[i]=jr(o[i],l);else if(Array.isArray(o[i]))o[i]=u_(o[i],l);else{if(o[i]===l)continue;console.warn(`field[${i}] already exists in this message chunk and value has unsupported type.`)}}return o}function u_(e,n){if(!(e===void 0&&n===void 0)){if(e===void 0||n===void 0)return e||n;{const o=[...e];for(const i of n)if(typeof i=="object"&&i!==null&&"index"in i&&typeof i.index=="number"){const l=o.findIndex(t=>{const r=typeof t=="object",a="index"in t&&t.index===i.index,s="id"in t&&"id"in i&&t?.id===i?.id,u=!("id"in t)||!t?.id||!("id"in i)||!i?.id;return r&&a&&(s||u)});l!==-1&&typeof o[l]=="object"&&o[l]!==null?o[l]=jr(o[l],i):o.push(i)}else{if(typeof i=="object"&&i!==null&&"text"in i&&i.text==="")continue;o.push(i)}return o}}}function xG(e,n){if(!(e===void 0&&n===void 0)){if(e===void 0||n===void 0)return e??n;if(typeof e!=typeof n)throw new Error(`Cannot merge objects of different types.
Left ${typeof e}
Right ${typeof n}`);if(typeof e=="string"&&typeof n=="string")return e+n;if(Array.isArray(e)&&Array.isArray(n))return u_(e,n);if(typeof e=="object"&&typeof n=="object")return jr(e,n);if(e===n)return e;throw new Error(`Can not merge objects of different types.
Left ${e}
Right ${n}`)}}var od=class CG extends Bn{static isInstance(n){if(!super.isInstance(n))return!1;let o=Object.getPrototypeOf(n);for(;o!==null;){if(o===CG.prototype)return!0;o=Object.getPrototypeOf(o)}return!1}};function TG(e){return typeof e.role=="string"}function Ju(e){return typeof e?._getType=="function"}function lT(e){return od.isInstance(e)}var Ine={};dt(Ine,{ToolMessage:()=>fp,ToolMessageChunk:()=>c_,defaultToolCallParser:()=>uT,isDirectToolOutput:()=>MG,isToolMessage:()=>PG,isToolMessageChunk:()=>AG});function MG(e){return e!=null&&typeof e=="object"&&"lc_direct_tool_output"in e&&e.lc_direct_tool_output===!0}var fp=class extends Bn{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}lc_direct_tool_output=!0;type="tool";status;tool_call_id;metadata;artifact;constructor(e,n,o){const i=typeof e=="string"||Array.isArray(e)?{content:e,name:o,tool_call_id:n}:e;super(i),this.tool_call_id=i.tool_call_id,this.artifact=i.artifact,this.status=i.status,this.metadata=i.metadata}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},c_=class extends od{type="tool";tool_call_id;status;artifact;constructor(e){super(e),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){const n=this.constructor;return new n({content:rc(this.content,e.content),additional_kwargs:jr(this.additional_kwargs,e.additional_kwargs),response_metadata:jr(this.response_metadata,e.response_metadata),artifact:xG(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:jG(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function uT(e){const n=[],o=[];for(const i of e)if(i.function){const l=i.function.name;try{const t=JSON.parse(i.function.arguments);n.push({name:l||"",args:t||{},id:i.id})}catch{o.push({name:l,args:i.function.arguments,id:i.id,error:"Malformed args."})}}else continue;return[n,o]}function PG(e){return typeof e=="object"&&e!==null&&"getType"in e&&typeof e.getType=="function"&&e.getType()==="tool"}function AG(e){return e._getType()==="tool"}function zb(e,n){return e.lc_error_code=n,e.message=`${e.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${n}/
`,e}function NG(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="tool_call")}var zne=class extends Error{output;constructor(e,n){super(e),this.output=n}};function n1(e,n=Bb){e=e.trim();const o=e.indexOf("```");if(o===-1)return n(e);let i=e.substring(o+3);i.startsWith(`json
`)?i=i.substring(5):i.startsWith("json")?i=i.substring(4):i.startsWith(`
`)&&(i=i.substring(1));const l=i.indexOf("```");let t=i;return l!==-1&&(t=i.substring(0,l)),n(t.trim())}function Bne(e){try{return JSON.parse(e)}catch{}const n=e.trim();if(n.length===0)throw new Error("Unexpected end of JSON input");let o=0;function i(){for(;o<n.length&&/\s/.test(n[o]);)o+=1}function l(){if(n[o]!=='"')throw new Error(`Expected '"' at position ${o}, got '${n[o]}'`);o+=1;let f="",g=!1;for(;o<n.length;){const b=n[o];if(g){if(b==="n")f+=`
`;else if(b==="t")f+="	";else if(b==="r")f+="\r";else if(b==="\\")f+="\\";else if(b==='"')f+='"';else if(b==="b")f+="\b";else if(b==="f")f+="\f";else if(b==="/")f+="/";else if(b==="u"){const _=n.substring(o+1,o+5);if(/^[0-9A-Fa-f]{0,4}$/.test(_))_.length===4?f+=String.fromCharCode(Number.parseInt(_,16)):f+=`u${_}`,o+=_.length;else throw new Error(`Invalid unicode escape sequence '\\u${_}' at position ${o}`)}else throw new Error(`Invalid escape sequence '\\${b}' at position ${o}`);g=!1}else if(b==="\\")g=!0;else{if(b==='"')return o+=1,f;f+=b}o+=1}return g&&(f+="\\"),f}function t(){const f=o;let g="";if(n[o]==="-"&&(g+="-",o+=1),o<n.length&&n[o]==="0"&&(g+="0",o+=1,n[o]>="0"&&n[o]<="9"))throw new Error(`Invalid number at position ${f}`);if(o<n.length&&n[o]>="1"&&n[o]<="9")for(;o<n.length&&n[o]>="0"&&n[o]<="9";)g+=n[o],o+=1;if(o<n.length&&n[o]===".")for(g+=".",o+=1;o<n.length&&n[o]>="0"&&n[o]<="9";)g+=n[o],o+=1;if(o<n.length&&(n[o]==="e"||n[o]==="E"))for(g+=n[o],o+=1,o<n.length&&(n[o]==="+"||n[o]==="-")&&(g+=n[o],o+=1);o<n.length&&n[o]>="0"&&n[o]<="9";)g+=n[o],o+=1;if(g==="-")return-0;const b=Number.parseFloat(g);if(Number.isNaN(b))throw o=f,new Error(`Invalid number '${g}' at position ${f}`);return b}function r(){if(i(),o>=n.length)throw new Error(`Unexpected end of input at position ${o}`);const f=n[o];if(f==="{")return s();if(f==="[")return a();if(f==='"')return l();if("null".startsWith(n.substring(o,o+4)))return o+=Math.min(4,n.length-o),null;if("true".startsWith(n.substring(o,o+4)))return o+=Math.min(4,n.length-o),!0;if("false".startsWith(n.substring(o,o+5)))return o+=Math.min(5,n.length-o),!1;if(f==="-"||f>="0"&&f<="9")return t();throw new Error(`Unexpected character '${f}' at position ${o}`)}function a(){if(n[o]!=="[")throw new Error(`Expected '[' at position ${o}, got '${n[o]}'`);const f=[];if(o+=1,i(),o>=n.length)return f;if(n[o]==="]")return o+=1,f;for(;o<n.length;){if(i(),o>=n.length||(f.push(r()),i(),o>=n.length))return f;if(n[o]==="]")return o+=1,f;if(n[o]===","){o+=1;continue}throw new Error(`Expected ',' or ']' at position ${o}, got '${n[o]}'`)}return f}function s(){if(n[o]!=="{")throw new Error(`Expected '{' at position ${o}, got '${n[o]}'`);const f={};if(o+=1,i(),o>=n.length)return f;if(n[o]==="}")return o+=1,f;for(;o<n.length;){if(i(),o>=n.length)return f;const g=l();if(i(),o>=n.length)return f;if(n[o]!==":")throw new Error(`Expected ':' at position ${o}, got '${n[o]}'`);if(o+=1,i(),o>=n.length||(f[g]=r(),i(),o>=n.length))return f;if(n[o]==="}")return o+=1,f;if(n[o]===","){o+=1;continue}throw new Error(`Expected ',' or '}' at position ${o}, got '${n[o]}'`)}return f}const u=r();if(i(),o<n.length)throw new Error(`Unexpected character '${n[o]}' at position ${o}`);return u}function Bb(e){try{return typeof e>"u"?null:Bne(e)}catch{return null}}var oc=class DG extends Bn{static lc_name(){return"ChatMessage"}type="generic";role;static _chatMessageClass(){return DG}constructor(n,o){(typeof n=="string"||Array.isArray(n))&&(n={content:n,role:o}),super(n),this.role=n.role}static isInstance(n){return super.isInstance(n)&&n.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},d_=class extends od{static lc_name(){return"ChatMessageChunk"}type="generic";role;constructor(e,n){(typeof e=="string"||Array.isArray(e))&&(e={content:e,role:n}),super(e),this.role=e.role}concat(e){const n=this.constructor;return new n({content:rc(this.content,e.content),additional_kwargs:jr(this.additional_kwargs,e.additional_kwargs),response_metadata:jr(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};function qne(e){return e._getType()==="generic"}function Lne(e){return e._getType()==="generic"}var qb=class extends Bn{static lc_name(){return"FunctionMessage"}type="function";name;constructor(e){super(e),this.name=e.name}},f_=class extends od{static lc_name(){return"FunctionMessageChunk"}type="function";concat(e){const n=this.constructor;return new n({content:rc(this.content,e.content),additional_kwargs:jr(this.additional_kwargs,e.additional_kwargs),response_metadata:jr(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}};function Une(e){return e._getType()==="function"}function $ne(e){return e._getType()==="function"}var It=class extends Bn{static lc_name(){return"HumanMessage"}type="human";constructor(e){super(e)}static isInstance(e){return super.isInstance(e)&&e.type==="human"}},h_=class extends od{static lc_name(){return"HumanMessageChunk"}type="human";constructor(e){super(e)}concat(e){const n=this.constructor;return new n({content:rc(this.content,e.content),additional_kwargs:jr(this.additional_kwargs,e.additional_kwargs),response_metadata:jr(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="human"}};function Fne(e){return e.getType()==="human"}function Vne(e){return e.getType()==="human"}var vb=class extends Bn{type="remove";id;constructor(e){super({...e,content:[]}),this.id=e.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(e){return super.isInstance(e)&&e.type==="remove"}},ur=class Jv extends Bn{static lc_name(){return"SystemMessage"}type="system";constructor(n){super(n)}concat(n){if(typeof n=="string")return new Jv({...this,content:rc(this.content,n)});if(Jv.isInstance(n))return new Jv({...this,additional_kwargs:{...this.additional_kwargs,...n.additional_kwargs},response_metadata:{...this.response_metadata,...n.response_metadata},content:rc(this.content,n.content)});throw new Error("Unexpected chunk type for system message")}static isInstance(n){return super.isInstance(n)&&n.type==="system"}},nd=class extends od{static lc_name(){return"SystemMessageChunk"}type="system";constructor(e){super(e)}concat(e){const n=this.constructor;return new n({content:rc(this.content,e.content),additional_kwargs:jr(this.additional_kwargs,e.additional_kwargs),response_metadata:jr(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="system"}};function Gne(e){return e._getType()==="system"}function Hne(e){return e._getType()==="system"}function cT(e){switch(e){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function Kne(e){if(it(e.document)&&it(e.document.source)){const n=it(e.document)&&Ge(e.document.format)?e.document.format:"",o=cT(n);if(it(e.document.source)){if(it(e.document.source.s3Location)&&Ge(e.document.source.s3Location.uri))return{type:"file",mimeType:o,fileId:e.document.source.s3Location.uri};if(oT(e.document.source.bytes))return{type:"file",mimeType:o,data:e.document.source.bytes};if(Ge(e.document.source.text))return{type:"file",mimeType:o,data:Buffer.from(e.document.source.text).toString("base64")};if(Su(e.document.source.content)){const i=e.document.source.content.reduce((l,t)=>it(t)&&Ge(t.text)?l+t.text:l,"");return{type:"file",mimeType:o,data:i}}}}return{type:"non_standard",value:e}}function kne(e){if(et(e,"image")&&it(e.image)){const n=it(e.image)&&Ge(e.image.format)?e.image.format:"",o=cT(n);if(it(e.image.source)){if(it(e.image.source.s3Location)&&Ge(e.image.source.s3Location.uri))return{type:"image",mimeType:o,fileId:e.image.source.s3Location.uri};if(oT(e.image.source.bytes))return{type:"image",mimeType:o,data:e.image.source.bytes}}}return{type:"non_standard",value:e}}function Yne(e){if(et(e,"video")&&it(e.video)){const n=it(e.video)&&Ge(e.video.format)?e.video.format:"",o=cT(n);if(it(e.video.source)){if(it(e.video.source.s3Location)&&Ge(e.video.source.s3Location.uri))return{type:"video",mimeType:o,fileId:e.video.source.s3Location.uri};if(oT(e.video.source.bytes))return{type:"video",mimeType:o,data:e.video.source.bytes}}}return{type:"non_standard",value:e}}function dI(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(et(i,"cache_point")){yield{type:"non_standard",value:i};continue}else if(et(i,"citations_content")&&it(i.citationsContent)){const l=Su(i.citationsContent.content)?i.citationsContent.content.reduce((r,a)=>it(a)&&Ge(a.text)?r+a.text:r,""):"",t=Su(i.citationsContent.citations)?i.citationsContent.citations.reduce((r,a)=>{if(it(a)){const s=Su(a.sourceContent)?a.sourceContent.reduce((f,g)=>it(g)&&Ge(g.text)?f+g.text:f,""):"",u=Wg(()=>{if(it(a.location)){const f=a.location.documentChar||a.location.documentPage||a.location.documentChunk;if(it(f))return{source:Xl(f.documentIndex)?f.documentIndex.toString():void 0,startIndex:Xl(f.start)?f.start:void 0,endIndex:Xl(f.end)?f.end:void 0}}return{}});r.push({type:"citation",citedText:s,...u})}return r},[]):[];yield{type:"text",text:l,annotations:t};continue}else if(et(i,"document")&&it(i.document)){yield Kne(i);continue}else if(et(i,"guard_content")){yield{type:"non_standard",value:i};continue}else if(et(i,"image")&&it(i.image)){yield kne(i);continue}else if(et(i,"reasoning_content")&&Ge(i.reasoningText)){yield{type:"reasoning",reasoning:i.reasoningText};continue}else if(et(i,"text")&&Ge(i.text)){yield{type:"text",text:i.text};continue}else if(et(i,"tool_result")){yield{type:"non_standard",value:i};continue}else{if(et(i,"tool_call"))continue;if(et(i,"video")&&it(i.video)){yield Yne(i);continue}}yield{type:"non_standard",value:i}}}return Array.from(n())}const Wne={translateContent:dI,translateContentChunk:dI};function fI(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(et(i,"text")&&Ge(i.text)){yield{type:"text",text:i.text};continue}else if(et(i,"inlineData")&&it(i.inlineData)&&Ge(i.inlineData.mimeType)&&Ge(i.inlineData.data)){yield{type:"file",mimeType:i.inlineData.mimeType,data:i.inlineData.data};continue}else if(et(i,"functionCall")&&it(i.functionCall)&&Ge(i.functionCall.name)&&it(i.functionCall.args)){yield{type:"tool_call",id:e.id,name:i.functionCall.name,args:i.functionCall.args};continue}else if(et(i,"functionResponse")){yield{type:"non_standard",value:i};continue}else if(et(i,"fileData")&&it(i.fileData)&&Ge(i.fileData.mimeType)&&Ge(i.fileData.fileUri)){yield{type:"file",mimeType:i.fileData.mimeType,fileId:i.fileData.fileUri};continue}else if(et(i,"executableCode")){yield{type:"non_standard",value:i};continue}else if(et(i,"codeExecutionResult")){yield{type:"non_standard",value:i};continue}yield{type:"non_standard",value:i}}}return Array.from(n())}const Jne={translateContent:fI,translateContentChunk:fI};function hI(e){function*n(){const o=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const i of o){if(et(i,"reasoning")&&Ge(i.reasoning)){const l=Wg(()=>{const t=o.indexOf(i);if(Su(e.additional_kwargs?.signatures)&&t>=0)return e.additional_kwargs.signatures.at(t)});Ge(l)?yield{type:"reasoning",reasoning:i.reasoning,signature:l}:yield{type:"reasoning",reasoning:i.reasoning};continue}else if(et(i,"text")&&Ge(i.text)){yield{type:"text",text:i.text};continue}else if(et(i,"image_url")){if(Ge(i.image_url))if(i.image_url.startsWith("data:")){const l=/^data:([^;]+);base64,(.+)$/,t=i.image_url.match(l);t?yield{type:"image",data:t[2],mimeType:t[1]}:yield{type:"image",url:i.image_url}}else yield{type:"image",url:i.image_url};continue}else if(et(i,"media")&&Ge(i.mimeType)&&Ge(i.data)){yield{type:"file",mimeType:i.mimeType,data:i.data};continue}yield{type:"non_standard",value:i}}}return Array.from(n())}const Zne={translateContent:hI,translateContentChunk:hI};globalThis.lc_block_translators_registry??=new Map([["anthropic",bne],["bedrock-converse",Wne],["google-genai",Jne],["google-vertexai",Zne],["openai",Mne]]);function IG(e){return globalThis.lc_block_translators_registry.get(e)}function zG(e,n){return jr(e??{},n??{})}function BG(e,n){const o={};return(e?.audio!==void 0||n?.audio!==void 0)&&(o.audio=(e?.audio??0)+(n?.audio??0)),(e?.image!==void 0||n?.image!==void 0)&&(o.image=(e?.image??0)+(n?.image??0)),(e?.video!==void 0||n?.video!==void 0)&&(o.video=(e?.video??0)+(n?.video??0)),(e?.document!==void 0||n?.document!==void 0)&&(o.document=(e?.document??0)+(n?.document??0)),(e?.text!==void 0||n?.text!==void 0)&&(o.text=(e?.text??0)+(n?.text??0)),o}function Qne(e,n){const o={...BG(e,n)};return(e?.cache_read!==void 0||n?.cache_read!==void 0)&&(o.cache_read=(e?.cache_read??0)+(n?.cache_read??0)),(e?.cache_creation!==void 0||n?.cache_creation!==void 0)&&(o.cache_creation=(e?.cache_creation??0)+(n?.cache_creation??0)),o}function Xne(e,n){const o={...BG(e,n)};return(e?.reasoning!==void 0||n?.reasoning!==void 0)&&(o.reasoning=(e?.reasoning??0)+(n?.reasoning??0)),o}function dT(e,n){return{input_tokens:(e?.input_tokens??0)+(n?.input_tokens??0),output_tokens:(e?.output_tokens??0)+(n?.output_tokens??0),total_tokens:(e?.total_tokens??0)+(n?.total_tokens??0),input_token_details:Qne(e?.input_token_details,n?.input_token_details),output_token_details:Xne(e?.output_token_details,n?.output_token_details)}}var Or=class extends Bn{type="ai";tool_calls=[];invalid_tool_calls=[];usage_metadata;get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e){let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{n=e;const o=n.additional_kwargs?.tool_calls,i=n.tool_calls;o!=null&&o.length>0&&(i===void 0||i.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(o!=null&&i===void 0){const[l,t]=uT(o);n.tool_calls=l??[],n.invalid_tool_calls=t??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}if(n.response_metadata!==void 0&&"output_version"in n.response_metadata&&n.response_metadata.output_version==="v1"&&(n.contentBlocks=n.content,n.content=void 0),n.contentBlocks!==void 0){n.contentBlocks.push(...n.tool_calls.map(t=>({type:"tool_call",id:t.id,name:t.name,args:t.args})));const l=n.contentBlocks.filter(t=>t.type==="tool_call").filter(t=>!n.tool_calls?.some(r=>r.id===t.id&&r.name===t.name));l.length>0&&(n.tool_calls=l.map(t=>({type:"tool_call",id:t.id,name:t.name,args:t.args})))}}super(n),typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=IG(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls){const n=this.tool_calls.filter(o=>!e.some(i=>i.id===o.id&&i.name===o.name));e.push(...n.map(o=>({...o,type:"tool_call",id:o.id,name:o.name,args:o.args})))}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function Yc(e){return e._getType()==="ai"}function a1(e){return e._getType()==="ai"}var qn=class extends od{type="ai";tool_calls=[];invalid_tool_calls=[];tool_call_chunks=[];usage_metadata;constructor(e){let n;typeof e=="string"||Array.isArray(e)?n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]}:e.tool_call_chunks===void 0||e.tool_call_chunks.length===0?n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}:n={...e,...qG(e.tool_call_chunks??[]),usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0},super(n),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=IG(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){const n=this.content.filter(o=>o.type==="tool_call").map(o=>o.id);for(const o of this.tool_calls)o.id&&!n.includes(o.id)&&e.push({...o,type:"tool_call",id:o.id,name:o.name,args:o.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:rc(this.content,e.content),additional_kwargs:jr(this.additional_kwargs,e.additional_kwargs),response_metadata:zG(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const i=u_(this.tool_call_chunks,e.tool_call_chunks);i!==void 0&&i.length>0&&(n.tool_call_chunks=i)}(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(n.usage_metadata=dT(this.usage_metadata,e.usage_metadata));const o=this.constructor;return new o(n)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};const eae=e=>e();function tae(e){return NG(e)?e:typeof e.id=="string"&&e.type==="function"&&typeof e.function=="object"&&e.function!==null&&"arguments"in e.function&&typeof e.function.arguments=="string"&&"name"in e.function&&typeof e.function.name=="string"?{id:e.id,args:JSON.parse(e.function.arguments),name:e.function.name,type:"tool_call"}:e}function rae(e){return typeof e=="object"&&e!=null&&e.lc===1&&Array.isArray(e.id)&&e.kwargs!=null&&typeof e.kwargs=="object"}function FS(e){let n,o;if(rae(e)){const i=e.id.at(-1);i==="HumanMessage"||i==="HumanMessageChunk"?n="user":i==="AIMessage"||i==="AIMessageChunk"?n="assistant":i==="SystemMessage"||i==="SystemMessageChunk"?n="system":i==="FunctionMessage"||i==="FunctionMessageChunk"?n="function":i==="ToolMessage"||i==="ToolMessageChunk"?n="tool":n="unknown",o=e.kwargs}else{const{type:i,...l}=e;n=i,o=l}if(n==="human"||n==="user")return new It(o);if(n==="ai"||n==="assistant"){const{tool_calls:i,...l}=o;if(!Array.isArray(i))return new Or(o);const t=i.map(tae);return new Or({...l,tool_calls:t})}else{if(n==="system")return new ur(o);if(n==="developer")return new ur({...o,additional_kwargs:{...o.additional_kwargs,__openai_role__:"developer"}});if(n==="tool"&&"tool_call_id"in o)return new fp({...o,content:o.content,tool_call_id:o.tool_call_id,name:o.name});if(n==="remove"&&"id"in o&&typeof o.id=="string")return new vb({...o,id:o.id});throw zb(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(e,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Wc(e){if(typeof e=="string")return new It(e);if(Ju(e))return e;if(Array.isArray(e)){const[n,o]=e;return FS({type:n,content:o})}else if(TG(e)){const{role:n,...o}=e;return FS({...o,type:n})}else return FS(e)}function fT(e,n="Human",o="AI"){const i=[];for(const l of e){let t;if(l._getType()==="human")t=n;else if(l._getType()==="ai")t=o;else if(l._getType()==="system")t="System";else if(l._getType()==="tool")t="Tool";else if(l._getType()==="generic")t=l.role;else throw new Error(`Got unsupported message type: ${l._getType()}`);const r=l.name?`${l.name}, `:"",a=typeof l.content=="string"?l.content:JSON.stringify(l.content,null,2);i.push(`${t}: ${r}${a}`)}return i.join(`
`)}function nae(e){if(e.data!==void 0)return e;{const n=e;return{type:n.type,data:{content:n.text,role:n.role,name:void 0,tool_call_id:void 0}}}}function hT(e){const n=nae(e);switch(n.type){case"human":return new It(n.data);case"ai":return new Or(n.data);case"system":return new ur(n.data);case"function":if(n.data.name===void 0)throw new Error("Name must be defined for function messages");return new qb(n.data);case"tool":if(n.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new fp(n.data);case"generic":if(n.data.role===void 0)throw new Error("Role must be defined for chat messages");return new oc(n.data);default:throw new Error(`Got unexpected type: ${n.type}`)}}function aae(e){return e.map(hT)}function iae(e){return e.map(n=>n.toDict())}function bb(e){const n=e._getType();if(n==="human")return new h_({...e});if(n==="ai"){let o={...e};return"tool_calls"in o&&(o={...o,tool_call_chunks:o.tool_calls?.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new qn({...o})}else{if(n==="system")return new nd({...e});if(n==="function")return new f_({...e});if(oc.isInstance(e))return new d_({...e});throw new Error("Unknown message type.")}}function qG(e){const n=e.reduce((l,t)=>{const r=l.findIndex(([a])=>"id"in t&&t.id&&"index"in t&&t.index!==void 0?t.id===a.id&&t.index===a.index:"id"in t&&t.id?t.id===a.id:"index"in t&&t.index!==void 0?t.index===a.index:!1);return r!==-1?l[r].push(t):l.push([t]),l},[]),o=[],i=[];for(const l of n){let t=null;const r=l[0]?.name??"",a=l.map(f=>f.args||"").join("").trim(),s=a.length?a:"{}",u=l[0]?.id;try{if(t=Bb(s),!u||t===null||typeof t!="object"||Array.isArray(t))throw new Error("Malformed tool call chunk args.");o.push({name:r,args:t,id:u,type:"tool_call"})}catch{i.push({name:r,args:s,id:u,error:"Malformed args.",type:"invalid_tool_call"})}}return{tool_call_chunks:e,tool_calls:o,invalid_tool_calls:i}}var oae={},sae={};dt(sae,{getEnv:()=>VG,getEnvironmentVariable:()=>Ou,getRuntimeEnvironment:()=>GG,isBrowser:()=>LG,isDeno:()=>Lb,isJsDom:()=>$G,isNode:()=>FG,isWebWorker:()=>UG});const LG=()=>typeof window<"u"&&typeof window.document<"u",UG=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",$G=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),Lb=()=>typeof Deno<"u",FG=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Lb(),VG=()=>{let e;return LG()?e="browser":FG()?e="node":UG()?e="webworker":$G()?e="jsdom":Lb()?e="deno":e="other",e};let VS;function GG(){return VS===void 0&&(VS={library:"langchain-js",runtime:VG()}),VS}function Ou(e){try{return typeof process<"u"?oae?.[e]:Lb()?Deno?.env.get(e):void 0}catch{return}}const lae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Lg(e){return typeof e=="string"&&lae.test(e)}function uae(e){if(!Lg(e))throw TypeError("Invalid UUID");var n,o=new Uint8Array(16);return o[0]=(n=parseInt(e.slice(0,8),16))>>>24,o[1]=n>>>16&255,o[2]=n>>>8&255,o[3]=n&255,o[4]=(n=parseInt(e.slice(9,13),16))>>>8,o[5]=n&255,o[6]=(n=parseInt(e.slice(14,18),16))>>>8,o[7]=n&255,o[8]=(n=parseInt(e.slice(19,23),16))>>>8,o[9]=n&255,o[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,o[11]=n/4294967296&255,o[12]=n>>>24&255,o[13]=n>>>16&255,o[14]=n>>>8&255,o[15]=n&255,o}var Sr=[];for(var GS=0;GS<256;++GS)Sr.push((GS+256).toString(16).slice(1));function pT(e,n=0){return(Sr[e[n+0]]+Sr[e[n+1]]+Sr[e[n+2]]+Sr[e[n+3]]+"-"+Sr[e[n+4]]+Sr[e[n+5]]+"-"+Sr[e[n+6]]+Sr[e[n+7]]+"-"+Sr[e[n+8]]+Sr[e[n+9]]+"-"+Sr[e[n+10]]+Sr[e[n+11]]+Sr[e[n+12]]+Sr[e[n+13]]+Sr[e[n+14]]+Sr[e[n+15]]).toLowerCase()}var Zy,cae=new Uint8Array(16);function HG(){if(!Zy&&(Zy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zy(cae)}function dae(e){e=unescape(encodeURIComponent(e));for(var n=[],o=0;o<e.length;++o)n.push(e.charCodeAt(o));return n}var fae="6ba7b810-9dad-11d1-80b4-00c04fd430c8",hae="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function pae(e,n,o){function i(l,t,r,a){var s;if(typeof l=="string"&&(l=dae(l)),typeof t=="string"&&(t=uae(t)),((s=t)===null||s===void 0?void 0:s.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+l.length);if(u.set(t),u.set(l,t.length),u=o(u),u[6]=u[6]&15|n,u[8]=u[8]&63|128,r){a=a||0;for(var f=0;f<16;++f)r[a+f]=u[f];return r}return pT(u)}try{i.name=e}catch{}return i.DNS=fae,i.URL=hae,i}var mae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const pI={randomUUID:mae};function Gc(e,n,o){if(pI.randomUUID&&!e)return pI.randomUUID();e=e||{};var i=e.random||(e.rng||HG)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,pT(i)}function gae(e,n,o,i){switch(e){case 0:return n&o^~n&i;case 1:return n^o^i;case 2:return n&o^n&i^o&i;case 3:return n^o^i}}function HS(e,n){return e<<n|e>>>32-n}function _ae(e){var n=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var i=unescape(encodeURIComponent(e));e=[];for(var l=0;l<i.length;++l)e.push(i.charCodeAt(l))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var t=e.length/4+2,r=Math.ceil(t/16),a=new Array(r),s=0;s<r;++s){for(var u=new Uint32Array(16),f=0;f<16;++f)u[f]=e[s*64+f*4]<<24|e[s*64+f*4+1]<<16|e[s*64+f*4+2]<<8|e[s*64+f*4+3];a[s]=u}a[r-1][14]=(e.length-1)*8/Math.pow(2,32),a[r-1][14]=Math.floor(a[r-1][14]),a[r-1][15]=(e.length-1)*8&4294967295;for(var g=0;g<r;++g){for(var b=new Uint32Array(80),_=0;_<16;++_)b[_]=a[g][_];for(var p=16;p<80;++p)b[p]=HS(b[p-3]^b[p-8]^b[p-14]^b[p-16],1);for(var y=o[0],v=o[1],E=o[2],j=o[3],x=o[4],A=0;A<80;++A){var M=Math.floor(A/20),T=HS(y,5)+gae(M,v,E,j)+x+n[M]+b[A]>>>0;x=j,j=E,E=HS(v,30)>>>0,v=y,y=T}o[0]=o[0]+y>>>0,o[1]=o[1]+v>>>0,o[2]=o[2]+E>>>0,o[3]=o[3]+j>>>0,o[4]=o[4]+x>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,o[0]&255,o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,o[1]&255,o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,o[2]&255,o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,o[3]&255,o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,o[4]&255]}var Mg=pae("v5",80,_ae),mI=null,gI=null,Yn=0;function Vc(e,n,o){e=e||{};var i=0,l=new Uint8Array(16),t=e.random||(e.rng||HG)(),r=e.msecs!==void 0?e.msecs:Date.now(),a=e.seq!==void 0?e.seq:null,s=gI,u=mI;return r>Yn&&e.msecs===void 0&&(Yn=r,a!==null&&(s=null,u=null)),a!==null&&(a>2147483647&&(a=2147483647),s=a>>>19&4095,u=a&524287),(s===null||u===null)&&(s=t[6]&127,s=s<<8|t[7],u=t[8]&63,u=u<<8|t[9],u=u<<5|t[10]>>>3),r+1e4>Yn&&a===null?++u>524287&&(u=0,++s>4095&&(s=0,Yn++)):Yn=r,gI=s,mI=u,l[i++]=Yn/1099511627776&255,l[i++]=Yn/4294967296&255,l[i++]=Yn/16777216&255,l[i++]=Yn/65536&255,l[i++]=Yn/256&255,l[i++]=Yn&255,l[i++]=s>>>4&15|112,l[i++]=s&255,l[i++]=u>>>13&63|128,l[i++]=u>>>5&255,l[i++]=u<<3&255|t[10]&7,l[i++]=t[11],l[i++]=t[12],l[i++]=t[13],l[i++]=t[14],l[i++]=t[15],n||pT(l)}var yae={};dt(yae,{BaseCallbackHandler:()=>p_,callbackHandlerPrefersStreaming:()=>mT,isBaseCallbackHandler:()=>KG});var vae=class{};function mT(e){return"lc_prefer_streaming"in e&&e.lc_prefer_streaming}var p_=class extends vae{lc_serializable=!1;get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,iT(this.constructor)]}lc_kwargs;ignoreLLM=!1;ignoreChain=!1;ignoreAgent=!1;ignoreRetriever=!1;ignoreCustomEvent=!1;raiseError=!1;awaitHandlers=Ou("LANGCHAIN_CALLBACKS_BACKGROUND")==="false";constructor(e){super(),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return Vf.prototype.toJSON.call(this)}toJSONNotImplemented(){return Vf.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends p_{name=Vc();constructor(){super(),Object.assign(this,e)}}return new n}};const KG=e=>{const n=e;return n!==void 0&&typeof n.copy=="function"&&typeof n.name=="string"&&typeof n.awaitHandlers=="boolean"},bae="gen_ai.operation.name",wae="gen_ai.system",_I="gen_ai.request.model",Sae="gen_ai.response.model",yI="gen_ai.usage.input_tokens",vI="gen_ai.usage.output_tokens",bI="gen_ai.usage.total_tokens",Oae="gen_ai.request.max_tokens",Eae="gen_ai.request.temperature",Rae="gen_ai.request.top_p",jae="gen_ai.request.frequency_penalty",xae="gen_ai.request.presence_penalty",Cae="gen_ai.response.finish_reasons",Tae="gen_ai.prompt",Mae="gen_ai.completion",Pae="gen_ai.request.extra_query",Aae="gen_ai.request.extra_body",Nae="gen_ai.serialized.name",Dae="gen_ai.serialized.signature",Iae="gen_ai.serialized.doc",zae="gen_ai.response.id",Bae="gen_ai.response.service_tier",qae="gen_ai.response.system_fingerprint",Lae="gen_ai.usage.input_token_details",Uae="gen_ai.usage.output_token_details",$ae="langsmith.trace.session_id",Fae="langsmith.trace.session_name",Vae="langsmith.span.kind",Gae="langsmith.trace.name",Hae="langsmith.metadata",wI="langsmith.span.tags",Kae="langsmith.request.streaming",kae="langsmith.request.headers",Yae=(...e)=>fetch(...e),kG=Symbol.for("ls:fetch_implementation"),Wae=()=>{const e=globalThis[kG];return e?typeof e=="function"&&"Headers"in e&&"Request"in e&&"Response"in e:!1},Jae=e=>async(...n)=>{if(e||Kr("DEBUG")==="true"){const[i,l]=n;console.log(` ${l?.method||"GET"} ${i}`)}const o=await(globalThis[kG]??Yae)(...n);return(e||Kr("DEBUG")==="true")&&console.log(` ${o.status} ${o.statusText} ${o.url}`),o},YG=()=>Kr("PROJECT")??Ru("LANGCHAIN_SESSION")??"default",SI={};function WG(e){SI[e]||(console.warn(e),SI[e]=!0)}const Zae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function at(e,n){if(!Zae.test(e)){const o=n!==void 0?`Invalid UUID for ${n}: ${e}`:`Invalid UUID: ${e}`;throw new Error(o)}return e}function Qae(e){const n=typeof e=="string"?Date.parse(e):e;return Vc({msecs:n,seq:0})}const JG="0.4.2";var i1={};let gu;const Xae=()=>typeof window<"u"&&typeof window.document<"u",eie=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",tie=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),ZG=()=>typeof Deno<"u",rie=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!ZG(),QG=()=>gu||(typeof Bun<"u"?gu="bun":Xae()?gu="browser":rie()?gu="node":eie()?gu="webworker":tie()?gu="jsdom":ZG()?gu="deno":gu="other",gu);let KS;function XG(){if(KS===void 0){const e=QG(),n=aie();KS={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:JG,...n}}return KS}function eH(){const e=nie(),n={},o=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[i,l]of Object.entries(e))typeof l=="string"&&!o.includes(i)&&!i.toLowerCase().includes("key")&&!i.toLowerCase().includes("secret")&&!i.toLowerCase().includes("token")&&(i==="LANGCHAIN_REVISION_ID"?n.revision_id=l:n[i]=l);return n}function nie(){const e={};try{if(typeof process<"u"&&i1)for(const[n,o]of Object.entries(i1))(n.startsWith("LANGCHAIN_")||n.startsWith("LANGSMITH_"))&&o!=null&&((n.toLowerCase().includes("key")||n.toLowerCase().includes("secret")||n.toLowerCase().includes("token"))&&typeof o=="string"?e[n]=o.slice(0,2)+"*".repeat(o.length-4)+o.slice(-2):e[n]=o)}catch{}return e}function Ru(e){try{return typeof process<"u"?i1?.[e]:void 0}catch{return}}function Kr(e){return Ru(`LANGSMITH_${e}`)||Ru(`LANGCHAIN_${e}`)}let kS;function aie(){if(kS!==void 0)return kS;const e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],n={};for(const o of e){const i=Ru(o);i!==void 0&&(n[o]=i)}return kS=n,n}function tH(){return Ru("OTEL_ENABLED")==="true"||Kr("OTEL_ENABLED")==="true"}class iie{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(n,...o){!this.hasWarned&&tH()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let i;if(o.length===1&&typeof o[0]=="function"?i=o[0]:o.length===2&&typeof o[1]=="function"?i=o[1]:o.length===3&&typeof o[2]=="function"&&(i=o[2]),typeof i=="function")return i()}}class oie{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new iie})}getTracer(n,o){return this.mockTracer}getActiveSpan(){}setSpan(n,o){return n}getSpan(n){}setSpanContext(n,o){return n}getTracerProvider(){}setGlobalTracerProvider(n){return!1}}class sie{active(){return{}}with(n,o){return o()}}const YS=Symbol.for("ls:otel_trace"),WS=Symbol.for("ls:otel_context"),OI=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),lie=new oie,uie=new sie;class cie{getTraceInstance(){return globalThis[YS]??lie}getContextInstance(){return globalThis[WS]??uie}initializeGlobalInstances(n){globalThis[YS]===void 0&&(globalThis[YS]=n.trace),globalThis[WS]===void 0&&(globalThis[WS]=n.context)}setDefaultOTLPTracerComponents(n){globalThis[OI]=n}getDefaultOTLPTracerComponents(){return globalThis[OI]??void 0}}const gT=new cie;function rH(){return gT.getTraceInstance()}function die(){return gT.getContextInstance()}function fie(){return gT.getDefaultOTLPTracerComponents()}const hie={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function pie(e){return hie[e]||e}class mie{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(n,o){for(const i of n)try{if(!i.run)continue;if(i.operation==="post"){const l=this.createSpanForRun(i,i.run,o.get(i.id));l&&!i.run.end_time&&this.spans.set(i.id,l)}else this.updateSpanForRun(i,i.run)}catch(l){console.error(`Error processing operation ${i.id}:`,l)}}createSpanForRun(n,o,i){const l=i&&rH().getSpan(i);if(l)try{return this.finishSpanSetup(l,o,n)}catch(t){console.error(`Failed to create span for run ${n.id}:`,t);return}}finishSpanSetup(n,o,i){return this.setSpanAttributes(n,o,i),o.error?(n.setStatus({code:2}),n.recordException(new Error(o.error))):n.setStatus({code:1}),o.end_time&&n.end(new Date(o.end_time)),n}updateSpanForRun(n,o){try{const i=this.spans.get(n.id);if(!i){console.debug(`No span found for run ${n.id} during update`);return}this.setSpanAttributes(i,o,n),o.error?(i.setStatus({code:2}),i.recordException(new Error(o.error))):i.setStatus({code:1});const l=o.end_time;l&&(i.end(new Date(l)),this.spans.delete(n.id))}catch(i){console.error(`Failed to update span for run ${n.id}:`,i)}}extractModelName(n){if(n.extra?.metadata){const o=n.extra.metadata;if(o.ls_model_name)return o.ls_model_name;if(o.invocation_params){const i=o.invocation_params;if(i.model)return i.model;if(i.model_name)return i.model_name}}}setSpanAttributes(n,o,i){if("run_type"in o&&o.run_type){n.setAttribute(Vae,o.run_type);const a=pie(o.run_type||"chain");n.setAttribute(bae,a)}"name"in o&&o.name&&n.setAttribute(Gae,o.name),"session_id"in o&&o.session_id&&n.setAttribute($ae,o.session_id),"session_name"in o&&o.session_name&&n.setAttribute(Fae,o.session_name),this.setGenAiSystem(n,o);const l=this.extractModelName(o);l&&n.setAttribute(_I,l),"prompt_tokens"in o&&typeof o.prompt_tokens=="number"&&n.setAttribute(yI,o.prompt_tokens),"completion_tokens"in o&&typeof o.completion_tokens=="number"&&n.setAttribute(vI,o.completion_tokens),"total_tokens"in o&&typeof o.total_tokens=="number"&&n.setAttribute(bI,o.total_tokens),this.setInvocationParameters(n,o);const t=o.extra?.metadata||{};for(const[a,s]of Object.entries(t))s!=null&&n.setAttribute(`${Hae}.${a}`,String(s));const r=o.tags;if(r&&Array.isArray(r)?n.setAttribute(wI,r.join(", ")):r&&n.setAttribute(wI,String(r)),"serialized"in o&&typeof o.serialized=="object"){const a=o.serialized;a.name&&n.setAttribute(Nae,String(a.name)),a.signature&&n.setAttribute(Dae,String(a.signature)),a.doc&&n.setAttribute(Iae,String(a.doc))}this.setIOAttributes(n,i)}setGenAiSystem(n,o){let i="langchain";const l=this.extractModelName(o);if(l){const t=l.toLowerCase();t.includes("anthropic")||t.startsWith("claude")?i="anthropic":t.includes("bedrock")?i="aws.bedrock":t.includes("azure")&&t.includes("openai")?i="az.ai.openai":t.includes("azure")&&t.includes("inference")?i="az.ai.inference":t.includes("cohere")?i="cohere":t.includes("deepseek")?i="deepseek":t.includes("gemini")?i="gemini":t.includes("groq")?i="groq":t.includes("watson")||t.includes("ibm")?i="ibm.watsonx.ai":t.includes("mistral")?i="mistral_ai":t.includes("gpt")||t.includes("openai")?i="openai":t.includes("perplexity")||t.includes("sonar")?i="perplexity":t.includes("vertex")?i="vertex_ai":(t.includes("xai")||t.includes("grok"))&&(i="xai")}n.setAttribute(wae,i)}setInvocationParameters(n,o){if(!o.extra?.metadata?.invocation_params)return;const i=o.extra.metadata.invocation_params;i.max_tokens!==void 0&&n.setAttribute(Oae,i.max_tokens),i.temperature!==void 0&&n.setAttribute(Eae,i.temperature),i.top_p!==void 0&&n.setAttribute(Rae,i.top_p),i.frequency_penalty!==void 0&&n.setAttribute(jae,i.frequency_penalty),i.presence_penalty!==void 0&&n.setAttribute(xae,i.presence_penalty)}setIOAttributes(n,o){if(o.run.inputs)try{const i=o.run.inputs;typeof i=="object"&&i!==null&&(i.model&&Array.isArray(i.messages)&&n.setAttribute(_I,i.model),i.stream!==void 0&&n.setAttribute(Kae,i.stream),i.extra_headers&&n.setAttribute(kae,JSON.stringify(i.extra_headers)),i.extra_query&&n.setAttribute(Pae,JSON.stringify(i.extra_query)),i.extra_body&&n.setAttribute(Aae,JSON.stringify(i.extra_body))),n.setAttribute(Tae,JSON.stringify(i))}catch(i){console.debug(`Failed to process inputs for run ${o.id}`,i)}if(o.run.outputs)try{const i=o.run.outputs,l=this.getUnifiedRunTokens(i);if(l&&(n.setAttribute(yI,l[0]),n.setAttribute(vI,l[1]),n.setAttribute(bI,l[0]+l[1])),i&&typeof i=="object"){if(i.model&&n.setAttribute(Sae,String(i.model)),i.id&&n.setAttribute(zae,i.id),i.choices&&Array.isArray(i.choices)){const t=i.choices.map(r=>r.finish_reason).filter(r=>r).map(String);t.length>0&&n.setAttribute(Cae,t.join(", "))}if(i.service_tier&&n.setAttribute(Bae,i.service_tier),i.system_fingerprint&&n.setAttribute(qae,i.system_fingerprint),i.usage_metadata&&typeof i.usage_metadata=="object"){const t=i.usage_metadata;t.input_token_details&&n.setAttribute(Lae,JSON.stringify(t.input_token_details)),t.output_token_details&&n.setAttribute(Uae,JSON.stringify(t.output_token_details))}}n.setAttribute(Mae,JSON.stringify(i))}catch(i){console.debug(`Failed to process outputs for run ${o.id}`,i)}}getUnifiedRunTokens(n){if(!n)return null;let o=this.extractUnifiedRunTokens(n.usage_metadata);if(o)return o;const i=Object.keys(n);for(const r of i){const a=n[r];if(!(!a||typeof a!="object")&&(o=this.extractUnifiedRunTokens(a.usage_metadata),o||a.lc===1&&a.kwargs&&typeof a.kwargs=="object"&&(o=this.extractUnifiedRunTokens(a.kwargs.usage_metadata),o)))return o}const l=n.generations||[];if(!Array.isArray(l))return null;const t=Array.isArray(l[0])?l.flat():l;for(const r of t)if(typeof r=="object"&&r.message&&typeof r.message=="object"&&r.message.kwargs&&typeof r.message.kwargs=="object"&&(o=this.extractUnifiedRunTokens(r.message.kwargs.usage_metadata),o))return o;return null}extractUnifiedRunTokens(n){return!n||typeof n!="object"||typeof n.input_tokens!="number"||typeof n.output_tokens!="number"?null:[n.input_tokens,n.output_tokens]}}const gie=Object.prototype.toString,_ie=e=>gie.call(e)==="[object Error]",yie=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function vie(e){if(!(e&&_ie(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:o,stack:i}=e;return o==="Load failed"?i===void 0||"__sentry_captured__"in e:o.startsWith("error sending request for url")?!0:yie.has(o)}function bie(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Qy(e,n,{min:o=0,allowInfinity:i=!1}={}){if(n!==void 0){if(typeof n!="number"||Number.isNaN(n))throw new TypeError(`Expected \`${e}\` to be a number${i?" or Infinity":""}.`);if(!i&&!Number.isFinite(n))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(n<o)throw new TypeError(`Expected \`${e}\` to be  ${o}.`)}}let wie=class extends Error{constructor(n){super(),n instanceof Error?(this.originalError=n,{message:n}=n):(this.originalError=new Error(n),this.originalError.stack=this.stack),this.name="AbortError",this.message=n}};function Sie(e,n){const o=Math.max(1,e+1),i=n.randomize?Math.random()+1:1;let l=Math.round(i*n.minTimeout*n.factor**(o-1));return l=Math.min(l,n.maxTimeout),l}function EI(e,n){return Number.isFinite(n)?n-(performance.now()-e):n}async function Oie({error:e,attemptNumber:n,retriesConsumed:o,startTime:i,options:l}){const t=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(t instanceof wie)throw t.originalError;const r=Number.isFinite(l.retries)?Math.max(0,l.retries-o):l.retries,a=l.maxRetryTime??Number.POSITIVE_INFINITY,s=Object.freeze({error:t,attemptNumber:n,retriesLeft:r,retriesConsumed:o});if(await l.onFailedAttempt(s),EI(i,a)<=0)throw t;const u=await l.shouldConsumeRetry(s),f=EI(i,a);if(f<=0||r<=0)throw t;if(t instanceof TypeError&&!vie(t)){if(u)throw t;return l.signal?.throwIfAborted(),!1}if(!await l.shouldRetry(s))throw t;if(!u)return l.signal?.throwIfAborted(),!1;const g=Sie(o,l),b=Math.min(g,f);return b>0&&await new Promise((_,p)=>{const y=()=>{clearTimeout(v),l.signal?.removeEventListener("abort",y),p(l.signal.reason)},v=setTimeout(()=>{l.signal?.removeEventListener("abort",y),_()},b);l.unref&&v.unref?.(),l.signal?.addEventListener("abort",y,{once:!0})}),l.signal?.throwIfAborted(),!0}async function Eie(e,n={}){if(n={...n},bie(n.retries),Object.hasOwn(n,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");n.retries??=10,n.factor??=2,n.minTimeout??=1e3,n.maxTimeout??=Number.POSITIVE_INFINITY,n.maxRetryTime??=Number.POSITIVE_INFINITY,n.randomize??=!1,n.onFailedAttempt??=()=>{},n.shouldRetry??=()=>!0,n.shouldConsumeRetry??=()=>!0,Qy("factor",n.factor,{min:0,allowInfinity:!1}),Qy("minTimeout",n.minTimeout,{min:0,allowInfinity:!1}),Qy("maxTimeout",n.maxTimeout,{min:0,allowInfinity:!0}),Qy("maxRetryTime",n.maxRetryTime,{min:0,allowInfinity:!0}),n.factor>0||(n.factor=1),n.signal?.throwIfAborted();let o=0,i=0;const l=performance.now();for(;!Number.isFinite(n.retries)||i<=n.retries;){o++;try{n.signal?.throwIfAborted();const t=await e(o);return n.signal?.throwIfAborted(),t}catch(t){await Oie({error:t,attemptNumber:o,retriesConsumed:i,startTime:l,options:n})&&i++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Xy={},JS={exports:{}},RI;function Rie(){return RI||(RI=1,(function(e){var n=Object.prototype.hasOwnProperty,o="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(o=!1));function l(s,u,f){this.fn=s,this.context=u,this.once=f||!1}function t(s,u,f,g,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var _=new l(f,g||s,b),p=o?o+u:u;return s._events[p]?s._events[p].fn?s._events[p]=[s._events[p],_]:s._events[p].push(_):(s._events[p]=_,s._eventsCount++),s}function r(s,u){--s._eventsCount===0?s._events=new i:delete s._events[u]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,g;if(this._eventsCount===0)return u;for(g in f=this._events)n.call(f,g)&&u.push(o?g.slice(1):g);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=o?o+u:u,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,p=new Array(_);b<_;b++)p[b]=g[b].fn;return p},a.prototype.listenerCount=function(u){var f=o?o+u:u,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(u,f,g,b,_,p){var y=o?o+u:u;if(!this._events[y])return!1;var v=this._events[y],E=arguments.length,j,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),E){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,g),!0;case 4:return v.fn.call(v.context,f,g,b),!0;case 5:return v.fn.call(v.context,f,g,b,_),!0;case 6:return v.fn.call(v.context,f,g,b,_,p),!0}for(x=1,j=new Array(E-1);x<E;x++)j[x-1]=arguments[x];v.fn.apply(v.context,j)}else{var A=v.length,M;for(x=0;x<A;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),E){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,f);break;case 3:v[x].fn.call(v[x].context,f,g);break;case 4:v[x].fn.call(v[x].context,f,g,b);break;default:if(!j)for(M=1,j=new Array(E-1);M<E;M++)j[M-1]=arguments[M];v[x].fn.apply(v[x].context,j)}}return!0},a.prototype.on=function(u,f,g){return t(this,u,f,g,!1)},a.prototype.once=function(u,f,g){return t(this,u,f,g,!0)},a.prototype.removeListener=function(u,f,g,b){var _=o?o+u:u;if(!this._events[_])return this;if(!f)return r(this,_),this;var p=this._events[_];if(p.fn)p.fn===f&&(!b||p.once)&&(!g||p.context===g)&&r(this,_);else{for(var y=0,v=[],E=p.length;y<E;y++)(p[y].fn!==f||b&&!p[y].once||g&&p[y].context!==g)&&v.push(p[y]);v.length?this._events[_]=v.length===1?v[0]:v:r(this,_)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=o?o+u:u,this._events[f]&&r(this,f)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=o,a.EventEmitter=a,e.exports=a})(JS)),JS.exports}var dm={exports:{}},ZS,jI;function jie(){return jI||(jI=1,ZS=(e,n)=>(n=n||(()=>{}),e.then(o=>new Promise(i=>{i(n())}).then(()=>o),o=>new Promise(i=>{i(n())}).then(()=>{throw o})))),ZS}var xI;function xie(){if(xI)return dm.exports;xI=1;const e=jie();class n extends Error{constructor(l){super(l),this.name="TimeoutError"}}const o=(i,l,t)=>new Promise((r,a)=>{if(typeof l!="number"||l<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(l===1/0){r(i);return}const s=setTimeout(()=>{if(typeof t=="function"){try{r(t())}catch(g){a(g)}return}const u=typeof t=="string"?t:`Promise timed out after ${l} milliseconds`,f=t instanceof Error?t:new n(u);typeof i.cancel=="function"&&i.cancel(),a(f)},l);e(i.then(r,a),()=>{clearTimeout(s)})});return dm.exports=o,dm.exports.default=o,dm.exports.TimeoutError=n,dm.exports}var ev={},tv={},CI;function Cie(){if(CI)return tv;CI=1,Object.defineProperty(tv,"__esModule",{value:!0});function e(n,o,i){let l=0,t=n.length;for(;t>0;){const r=t/2|0;let a=l+r;i(n[a],o)<=0?(l=++a,t-=r+1):t=r}return l}return tv.default=e,tv}var TI;function Tie(){if(TI)return ev;TI=1,Object.defineProperty(ev,"__esModule",{value:!0});const e=Cie();class n{constructor(){this._queue=[]}enqueue(i,l){l=Object.assign({priority:0},l);const t={priority:l.priority,run:i};if(this.size&&this._queue[this.size-1].priority>=l.priority){this._queue.push(t);return}const r=e.default(this._queue,t,(a,s)=>s.priority-a.priority);this._queue.splice(r,0,t)}dequeue(){const i=this._queue.shift();return i?.run}filter(i){return this._queue.filter(l=>l.priority===i.priority).map(l=>l.run)}get size(){return this._queue.length}}return ev.default=n,ev}var MI;function Mie(){if(MI)return Xy;MI=1,Object.defineProperty(Xy,"__esModule",{value:!0});const e=Rie(),n=xie(),o=Tie(),i=()=>{},l=new n.TimeoutError;class t extends e{constructor(a){var s,u,f,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,a=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},a),!(typeof a.intervalCap=="number"&&a.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(u=(s=a.intervalCap)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:""}\` (${typeof a.intervalCap})`);if(a.interval===void 0||!(Number.isFinite(a.interval)&&a.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(g=(f=a.interval)===null||f===void 0?void 0:f.toString())!==null&&g!==void 0?g:""}\` (${typeof a.interval})`);this._carryoverConcurrencyCount=a.carryoverConcurrencyCount,this._isIntervalIgnored=a.intervalCap===1/0||a.interval===0,this._intervalCap=a.intervalCap,this._interval=a.interval,this._queue=new a.queueClass,this._queueClass=a.queueClass,this.concurrency=a.concurrency,this._timeout=a.timeout,this._throwOnTimeout=a.throwOnTimeout===!0,this._isPaused=a.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const a=Date.now();if(this._intervalId===void 0){const s=this._intervalEnd-a;if(s<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},s)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const a=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const s=this._queue.dequeue();return s?(this.emit("active"),s(),a&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(a){if(!(typeof a=="number"&&a>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);this._concurrency=a,this._processQueue()}async add(a,s={}){return new Promise((u,f)=>{const g=async()=>{this._pendingCount++,this._intervalCount++;try{const b=this._timeout===void 0&&s.timeout===void 0?a():n.default(Promise.resolve(a()),s.timeout===void 0?this._timeout:s.timeout,()=>{(s.throwOnTimeout===void 0?this._throwOnTimeout:s.throwOnTimeout)&&f(l)});u(await b)}catch(b){f(b)}this._next()};this._queue.enqueue(g,s),this._tryToStartAnother(),this.emit("add")})}async addAll(a,s){return Promise.all(a.map(async u=>this.add(u,s)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(a=>{const s=this._resolveEmpty;this._resolveEmpty=()=>{s(),a()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(a=>{const s=this._resolveIdle;this._resolveIdle=()=>{s(),a()}})}get size(){return this._queue.size}sizeBy(a){return this._queue.filter(a).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(a){this._timeout=a}}return Xy.default=t,Xy}var Pie=Mie();const Qu=s_(Pie),Aie=[408,425,429,500,502,503,504];let PI=class{constructor(n){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=n.maxConcurrency??1/0,this.maxRetries=n.maxRetries??6,this.maxQueueSizeBytes=n.maxQueueSizeBytes,"default"in Qu?this.queue=new Qu.default({concurrency:this.maxConcurrency}):this.queue=new Qu({concurrency:this.maxConcurrency}),this.onFailedResponseHook=n?.onFailedResponseHook}call(n,...o){return this.callWithOptions({},n,...o)}callWithOptions(n,o,...i){const l=n.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&l>0&&this.queueSizeBytes+l>this.maxQueueSizeBytes)return Promise.reject(new Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${l} bytes.`));l>0&&(this.queueSizeBytes+=l);const t=this.onFailedResponseHook;let r=this.queue.add(()=>Eie(()=>o(...i).catch(a=>{throw a instanceof Error?a:new Error(a)}),{async onFailedAttempt({error:a}){if(a.message.startsWith("Cancel")||a.message.startsWith("TimeoutError")||a.name==="TimeoutError"||a.message.startsWith("AbortError")||a?.code==="ECONNABORTED")throw a;const s=a?.response;if(t&&await t(s))return;const u=s?.status??a?.status;if(u&&!Aie.includes(+u))throw a},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return l>0&&(r=r.finally(()=>{this.queueSizeBytes-=l})),n.signal?Promise.race([r,new Promise((a,s)=>{n.signal?.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):r}};function AI(e){return typeof e?._getType=="function"}function NI(e){const n={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(n.data.additional_kwargs={...e.additional_kwargs}),n}var rv={exports:{}},QS,DI;function Ub(){if(DI)return QS;DI=1;const e="2.0.0",n=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,l=n-6;return QS={MAX_LENGTH:n,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:o,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},QS}var XS,II;function $b(){if(II)return XS;II=1;var e={};return XS=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...o)=>console.error("SEMVER",...o):()=>{},XS}var zI;function m_(){return zI||(zI=1,(function(e,n){const{MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:l}=Ub(),t=$b();n=e.exports={};const r=n.re=[],a=n.safeRe=[],s=n.src=[],u=n.safeSrc=[],f=n.t={};let g=0;const b="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",l],[b,i]],p=v=>{for(const[E,j]of _)v=v.split(`${E}*`).join(`${E}{0,${j}}`).split(`${E}+`).join(`${E}{1,${j}}`);return v},y=(v,E,j)=>{const x=p(E),A=g++;t(v,A,E),f[v]=A,s[A]=E,u[A]=x,r[A]=new RegExp(E,j?"g":void 0),a[A]=new RegExp(x,j?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),y("MAINVERSION",`(${s[f.NUMERICIDENTIFIER]})\\.(${s[f.NUMERICIDENTIFIER]})\\.(${s[f.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${s[f.NUMERICIDENTIFIERLOOSE]})\\.(${s[f.NUMERICIDENTIFIERLOOSE]})\\.(${s[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${s[f.NONNUMERICIDENTIFIER]}|${s[f.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${s[f.NONNUMERICIDENTIFIER]}|${s[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${s[f.PRERELEASEIDENTIFIER]}(?:\\.${s[f.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${s[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[f.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${b}+`),y("BUILD",`(?:\\+(${s[f.BUILDIDENTIFIER]}(?:\\.${s[f.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${s[f.MAINVERSION]}${s[f.PRERELEASE]}?${s[f.BUILD]}?`),y("FULL",`^${s[f.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${s[f.MAINVERSIONLOOSE]}${s[f.PRERELEASELOOSE]}?${s[f.BUILD]}?`),y("LOOSE",`^${s[f.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${s[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${s[f.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${s[f.XRANGEIDENTIFIER]})(?:\\.(${s[f.XRANGEIDENTIFIER]})(?:\\.(${s[f.XRANGEIDENTIFIER]})(?:${s[f.PRERELEASE]})?${s[f.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${s[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[f.XRANGEIDENTIFIERLOOSE]})(?:${s[f.PRERELEASELOOSE]})?${s[f.BUILD]}?)?)?`),y("XRANGE",`^${s[f.GTLT]}\\s*${s[f.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${s[f.GTLT]}\\s*${s[f.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?`),y("COERCE",`${s[f.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",s[f.COERCEPLAIN]+`(?:${s[f.PRERELEASE]})?(?:${s[f.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",s[f.COERCE],!0),y("COERCERTLFULL",s[f.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${s[f.LONETILDE]}\\s+`,!0),n.tildeTrimReplace="$1~",y("TILDE",`^${s[f.LONETILDE]}${s[f.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${s[f.LONETILDE]}${s[f.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${s[f.LONECARET]}\\s+`,!0),n.caretTrimReplace="$1^",y("CARET",`^${s[f.LONECARET]}${s[f.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${s[f.LONECARET]}${s[f.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${s[f.GTLT]}\\s*(${s[f.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${s[f.GTLT]}\\s*(${s[f.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${s[f.GTLT]}\\s*(${s[f.LOOSEPLAIN]}|${s[f.XRANGEPLAIN]})`,!0),n.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${s[f.XRANGEPLAIN]})\\s+-\\s+(${s[f.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${s[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[f.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(rv,rv.exports)),rv.exports}var eO,BI;function _T(){if(BI)return eO;BI=1;const e=Object.freeze({loose:!0}),n=Object.freeze({});return eO=i=>i?typeof i!="object"?e:i:n,eO}var tO,qI;function nH(){if(qI)return tO;qI=1;const e=/^[0-9]+$/,n=(i,l)=>{if(typeof i=="number"&&typeof l=="number")return i===l?0:i<l?-1:1;const t=e.test(i),r=e.test(l);return t&&r&&(i=+i,l=+l),i===l?0:t&&!r?-1:r&&!t?1:i<l?-1:1};return tO={compareIdentifiers:n,rcompareIdentifiers:(i,l)=>n(l,i)},tO}var rO,LI;function Dr(){if(LI)return rO;LI=1;const e=$b(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:o}=Ub(),{safeRe:i,t:l}=m_(),t=_T(),{compareIdentifiers:r}=nH();class a{constructor(u,f){if(f=t(f),u instanceof a){if(u.loose===!!f.loose&&u.includePrerelease===!!f.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>n)throw new TypeError(`version is longer than ${n} characters`);e("SemVer",u,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const g=u.trim().match(f.loose?i[l.LOOSE]:i[l.FULL]);if(!g)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");g[4]?this.prerelease=g[4].split(".").map(b=>{if(/^[0-9]+$/.test(b)){const _=+b;if(_>=0&&_<o)return _}return b}):this.prerelease=[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),this.major<u.major?-1:this.major>u.major?1:this.minor<u.minor?-1:this.minor>u.minor?1:this.patch<u.patch?-1:this.patch>u.patch?1:0}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let f=0;do{const g=this.prerelease[f],b=u.prerelease[f];if(e("prerelease compare",f,g,b),g===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(g===void 0)return-1;if(g===b)continue;return r(g,b)}while(++f)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let f=0;do{const g=this.build[f],b=u.build[f];if(e("build compare",f,g,b),g===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(g===void 0)return-1;if(g===b)continue;return r(g,b)}while(++f)}inc(u,f,g){if(u.startsWith("pre")){if(!f&&g===!1)throw new Error("invalid increment argument: identifier is empty");if(f){const b=`-${f}`.match(this.options.loose?i[l.PRERELEASELOOSE]:i[l.PRERELEASE]);if(!b||b[1]!==f)throw new Error(`invalid identifier: ${f}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,g);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,g);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,g),this.inc("pre",f,g);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,g),this.inc("pre",f,g);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const b=Number(g)?1:0;if(this.prerelease.length===0)this.prerelease=[b];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(f===this.prerelease.join(".")&&g===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(b)}}if(f){let _=[f,b];g===!1&&(_=[f]),r(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return rO=a,rO}var nO,UI;function hp(){if(UI)return nO;UI=1;const e=Dr();return nO=(o,i,l=!1)=>{if(o instanceof e)return o;try{return new e(o,i)}catch(t){if(!l)return null;throw t}},nO}var aO,$I;function Nie(){if($I)return aO;$I=1;const e=hp();return aO=(o,i)=>{const l=e(o,i);return l?l.version:null},aO}var iO,FI;function Die(){if(FI)return iO;FI=1;const e=hp();return iO=(o,i)=>{const l=e(o.trim().replace(/^[=v]+/,""),i);return l?l.version:null},iO}var oO,VI;function Iie(){if(VI)return oO;VI=1;const e=Dr();return oO=(o,i,l,t,r)=>{typeof l=="string"&&(r=t,t=l,l=void 0);try{return new e(o instanceof e?o.version:o,l).inc(i,t,r).version}catch{return null}},oO}var sO,GI;function zie(){if(GI)return sO;GI=1;const e=hp();return sO=(o,i)=>{const l=e(o,null,!0),t=e(i,null,!0),r=l.compare(t);if(r===0)return null;const a=r>0,s=a?l:t,u=a?t:l,f=!!s.prerelease.length;if(!!u.prerelease.length&&!f){if(!u.patch&&!u.minor)return"major";if(u.compareMain(s)===0)return u.minor&&!u.patch?"minor":"patch"}const b=f?"pre":"";return l.major!==t.major?b+"major":l.minor!==t.minor?b+"minor":l.patch!==t.patch?b+"patch":"prerelease"},sO}var lO,HI;function Bie(){if(HI)return lO;HI=1;const e=Dr();return lO=(o,i)=>new e(o,i).major,lO}var uO,KI;function qie(){if(KI)return uO;KI=1;const e=Dr();return uO=(o,i)=>new e(o,i).minor,uO}var cO,kI;function Lie(){if(kI)return cO;kI=1;const e=Dr();return cO=(o,i)=>new e(o,i).patch,cO}var dO,YI;function Uie(){if(YI)return dO;YI=1;const e=hp();return dO=(o,i)=>{const l=e(o,i);return l&&l.prerelease.length?l.prerelease:null},dO}var fO,WI;function su(){if(WI)return fO;WI=1;const e=Dr();return fO=(o,i,l)=>new e(o,l).compare(new e(i,l)),fO}var hO,JI;function $ie(){if(JI)return hO;JI=1;const e=su();return hO=(o,i,l)=>e(i,o,l),hO}var pO,ZI;function Fie(){if(ZI)return pO;ZI=1;const e=su();return pO=(o,i)=>e(o,i,!0),pO}var mO,QI;function yT(){if(QI)return mO;QI=1;const e=Dr();return mO=(o,i,l)=>{const t=new e(o,l),r=new e(i,l);return t.compare(r)||t.compareBuild(r)},mO}var gO,XI;function Vie(){if(XI)return gO;XI=1;const e=yT();return gO=(o,i)=>o.sort((l,t)=>e(l,t,i)),gO}var _O,ez;function Gie(){if(ez)return _O;ez=1;const e=yT();return _O=(o,i)=>o.sort((l,t)=>e(t,l,i)),_O}var yO,tz;function Fb(){if(tz)return yO;tz=1;const e=su();return yO=(o,i,l)=>e(o,i,l)>0,yO}var vO,rz;function vT(){if(rz)return vO;rz=1;const e=su();return vO=(o,i,l)=>e(o,i,l)<0,vO}var bO,nz;function aH(){if(nz)return bO;nz=1;const e=su();return bO=(o,i,l)=>e(o,i,l)===0,bO}var wO,az;function iH(){if(az)return wO;az=1;const e=su();return wO=(o,i,l)=>e(o,i,l)!==0,wO}var SO,iz;function bT(){if(iz)return SO;iz=1;const e=su();return SO=(o,i,l)=>e(o,i,l)>=0,SO}var OO,oz;function wT(){if(oz)return OO;oz=1;const e=su();return OO=(o,i,l)=>e(o,i,l)<=0,OO}var EO,sz;function oH(){if(sz)return EO;sz=1;const e=aH(),n=iH(),o=Fb(),i=bT(),l=vT(),t=wT();return EO=(a,s,u,f)=>{switch(s){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,f);case"!=":return n(a,u,f);case">":return o(a,u,f);case">=":return i(a,u,f);case"<":return l(a,u,f);case"<=":return t(a,u,f);default:throw new TypeError(`Invalid operator: ${s}`)}},EO}var RO,lz;function Hie(){if(lz)return RO;lz=1;const e=Dr(),n=hp(),{safeRe:o,t:i}=m_();return RO=(t,r)=>{if(t instanceof e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;r=r||{};let a=null;if(!r.rtl)a=t.match(r.includePrerelease?o[i.COERCEFULL]:o[i.COERCE]);else{const _=r.includePrerelease?o[i.COERCERTLFULL]:o[i.COERCERTL];let p;for(;(p=_.exec(t))&&(!a||a.index+a[0].length!==t.length);)(!a||p.index+p[0].length!==a.index+a[0].length)&&(a=p),_.lastIndex=p.index+p[1].length+p[2].length;_.lastIndex=-1}if(a===null)return null;const s=a[2],u=a[3]||"0",f=a[4]||"0",g=r.includePrerelease&&a[5]?`-${a[5]}`:"",b=r.includePrerelease&&a[6]?`+${a[6]}`:"";return n(`${s}.${u}.${f}${g}${b}`,r)},RO}var jO,uz;function Kie(){if(uz)return jO;uz=1;class e{constructor(){this.max=1e3,this.map=new Map}get(o){const i=this.map.get(o);if(i!==void 0)return this.map.delete(o),this.map.set(o,i),i}delete(o){return this.map.delete(o)}set(o,i){if(!this.delete(o)&&i!==void 0){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(o,i)}return this}}return jO=e,jO}var xO,cz;function lu(){if(cz)return xO;cz=1;const e=/\s+/g;class n{constructor(W,$){if($=l($),W instanceof n)return W.loose===!!$.loose&&W.includePrerelease===!!$.includePrerelease?W:new n(W.raw,$);if(W instanceof t)return this.raw=W.value,this.set=[[W]],this.formatted=void 0,this;if(this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease,this.raw=W.trim().replace(e," "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const k=this.set[0];if(this.set=this.set.filter(Q=>!y(Q[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(const Q of this.set)if(Q.length===1&&v(Q[0])){this.set=[Q];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let W=0;W<this.set.length;W++){W>0&&(this.formatted+="||");const $=this.set[W];for(let k=0;k<$.length;k++)k>0&&(this.formatted+=" "),this.formatted+=$[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(W){const k=((this.options.includePrerelease&&_)|(this.options.loose&&p))+":"+W,Q=i.get(k);if(Q)return Q;const re=this.options.loose,C=re?s[u.HYPHENRANGELOOSE]:s[u.HYPHENRANGE];W=W.replace(C,S(this.options.includePrerelease)),r("hyphen replace",W),W=W.replace(s[u.COMPARATORTRIM],f),r("comparator trim",W),W=W.replace(s[u.TILDETRIM],g),r("tilde trim",W),W=W.replace(s[u.CARETTRIM],b),r("caret trim",W);let I=W.split(" ").map(_e=>j(_e,this.options)).join(" ").split(/\s+/).map(_e=>B(_e,this.options));re&&(I=I.filter(_e=>(r("loose invalid filter",_e,this.options),!!_e.match(s[u.COMPARATORLOOSE])))),r("range list",I);const K=new Map,ee=I.map(_e=>new t(_e,this.options));for(const _e of ee){if(y(_e))return[_e];K.set(_e.value,_e)}K.size>1&&K.has("")&&K.delete("");const fe=[...K.values()];return i.set(k,fe),fe}intersects(W,$){if(!(W instanceof n))throw new TypeError("a Range is required");return this.set.some(k=>E(k,$)&&W.set.some(Q=>E(Q,$)&&k.every(re=>Q.every(C=>re.intersects(C,$)))))}test(W){if(!W)return!1;if(typeof W=="string")try{W=new a(W,this.options)}catch{return!1}for(let $=0;$<this.set.length;$++)if(H(this.set[$],W,this.options))return!0;return!1}}xO=n;const o=Kie(),i=new o,l=_T(),t=Vb(),r=$b(),a=Dr(),{safeRe:s,t:u,comparatorTrimReplace:f,tildeTrimReplace:g,caretTrimReplace:b}=m_(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:p}=Ub(),y=Y=>Y.value==="<0.0.0-0",v=Y=>Y.value==="",E=(Y,W)=>{let $=!0;const k=Y.slice();let Q=k.pop();for(;$&&k.length;)$=k.every(re=>Q.intersects(re,W)),Q=k.pop();return $},j=(Y,W)=>(Y=Y.replace(s[u.BUILD],""),r("comp",Y,W),Y=T(Y,W),r("caret",Y),Y=A(Y,W),r("tildes",Y),Y=P(Y,W),r("xrange",Y),Y=q(Y,W),r("stars",Y),Y),x=Y=>!Y||Y.toLowerCase()==="x"||Y==="*",A=(Y,W)=>Y.trim().split(/\s+/).map($=>M($,W)).join(" "),M=(Y,W)=>{const $=W.loose?s[u.TILDELOOSE]:s[u.TILDE];return Y.replace($,(k,Q,re,C,I)=>{r("tilde",Y,k,Q,re,C,I);let K;return x(Q)?K="":x(re)?K=`>=${Q}.0.0 <${+Q+1}.0.0-0`:x(C)?K=`>=${Q}.${re}.0 <${Q}.${+re+1}.0-0`:I?(r("replaceTilde pr",I),K=`>=${Q}.${re}.${C}-${I} <${Q}.${+re+1}.0-0`):K=`>=${Q}.${re}.${C} <${Q}.${+re+1}.0-0`,r("tilde return",K),K})},T=(Y,W)=>Y.trim().split(/\s+/).map($=>D($,W)).join(" "),D=(Y,W)=>{r("caret",Y,W);const $=W.loose?s[u.CARETLOOSE]:s[u.CARET],k=W.includePrerelease?"-0":"";return Y.replace($,(Q,re,C,I,K)=>{r("caret",Y,Q,re,C,I,K);let ee;return x(re)?ee="":x(C)?ee=`>=${re}.0.0${k} <${+re+1}.0.0-0`:x(I)?re==="0"?ee=`>=${re}.${C}.0${k} <${re}.${+C+1}.0-0`:ee=`>=${re}.${C}.0${k} <${+re+1}.0.0-0`:K?(r("replaceCaret pr",K),re==="0"?C==="0"?ee=`>=${re}.${C}.${I}-${K} <${re}.${C}.${+I+1}-0`:ee=`>=${re}.${C}.${I}-${K} <${re}.${+C+1}.0-0`:ee=`>=${re}.${C}.${I}-${K} <${+re+1}.0.0-0`):(r("no pr"),re==="0"?C==="0"?ee=`>=${re}.${C}.${I}${k} <${re}.${C}.${+I+1}-0`:ee=`>=${re}.${C}.${I}${k} <${re}.${+C+1}.0-0`:ee=`>=${re}.${C}.${I} <${+re+1}.0.0-0`),r("caret return",ee),ee})},P=(Y,W)=>(r("replaceXRanges",Y,W),Y.split(/\s+/).map($=>F($,W)).join(" ")),F=(Y,W)=>{Y=Y.trim();const $=W.loose?s[u.XRANGELOOSE]:s[u.XRANGE];return Y.replace($,(k,Q,re,C,I,K)=>{r("xRange",Y,k,Q,re,C,I,K);const ee=x(re),fe=ee||x(C),_e=fe||x(I),V=_e;return Q==="="&&V&&(Q=""),K=W.includePrerelease?"-0":"",ee?Q===">"||Q==="<"?k="<0.0.0-0":k="*":Q&&V?(fe&&(C=0),I=0,Q===">"?(Q=">=",fe?(re=+re+1,C=0,I=0):(C=+C+1,I=0)):Q==="<="&&(Q="<",fe?re=+re+1:C=+C+1),Q==="<"&&(K="-0"),k=`${Q+re}.${C}.${I}${K}`):fe?k=`>=${re}.0.0${K} <${+re+1}.0.0-0`:_e&&(k=`>=${re}.${C}.0${K} <${re}.${+C+1}.0-0`),r("xRange return",k),k})},q=(Y,W)=>(r("replaceStars",Y,W),Y.trim().replace(s[u.STAR],"")),B=(Y,W)=>(r("replaceGTE0",Y,W),Y.trim().replace(s[W.includePrerelease?u.GTE0PRE:u.GTE0],"")),S=Y=>(W,$,k,Q,re,C,I,K,ee,fe,_e,V)=>(x(k)?$="":x(Q)?$=`>=${k}.0.0${Y?"-0":""}`:x(re)?$=`>=${k}.${Q}.0${Y?"-0":""}`:C?$=`>=${$}`:$=`>=${$}${Y?"-0":""}`,x(ee)?K="":x(fe)?K=`<${+ee+1}.0.0-0`:x(_e)?K=`<${ee}.${+fe+1}.0-0`:V?K=`<=${ee}.${fe}.${_e}-${V}`:Y?K=`<${ee}.${fe}.${+_e+1}-0`:K=`<=${K}`,`${$} ${K}`.trim()),H=(Y,W,$)=>{for(let k=0;k<Y.length;k++)if(!Y[k].test(W))return!1;if(W.prerelease.length&&!$.includePrerelease){for(let k=0;k<Y.length;k++)if(r(Y[k].semver),Y[k].semver!==t.ANY&&Y[k].semver.prerelease.length>0){const Q=Y[k].semver;if(Q.major===W.major&&Q.minor===W.minor&&Q.patch===W.patch)return!0}return!1}return!0};return xO}var CO,dz;function Vb(){if(dz)return CO;dz=1;const e=Symbol("SemVer ANY");class n{static get ANY(){return e}constructor(f,g){if(g=o(g),f instanceof n){if(f.loose===!!g.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),r("comparator",f,g),this.options=g,this.loose=!!g.loose,this.parse(f),this.semver===e?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}parse(f){const g=this.options.loose?i[l.COMPARATORLOOSE]:i[l.COMPARATOR],b=f.match(g);if(!b)throw new TypeError(`Invalid comparator: ${f}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new a(b[2],this.options.loose):this.semver=e}toString(){return this.value}test(f){if(r("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if(typeof f=="string")try{f=new a(f,this.options)}catch{return!1}return t(f,this.operator,this.semver,this.options)}intersects(f,g){if(!(f instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new s(f.value,g).test(this.value):f.operator===""?f.value===""?!0:new s(this.value,g).test(f.semver):(g=o(g),g.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!g.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||t(this.semver,"<",f.semver,g)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||t(this.semver,">",f.semver,g)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}CO=n;const o=_T(),{safeRe:i,t:l}=m_(),t=oH(),r=$b(),a=Dr(),s=lu();return CO}var TO,fz;function Gb(){if(fz)return TO;fz=1;const e=lu();return TO=(o,i,l)=>{try{i=new e(i,l)}catch{return!1}return i.test(o)},TO}var MO,hz;function kie(){if(hz)return MO;hz=1;const e=lu();return MO=(o,i)=>new e(o,i).set.map(l=>l.map(t=>t.value).join(" ").trim().split(" ")),MO}var PO,pz;function Yie(){if(pz)return PO;pz=1;const e=Dr(),n=lu();return PO=(i,l,t)=>{let r=null,a=null,s=null;try{s=new n(l,t)}catch{return null}return i.forEach(u=>{s.test(u)&&(!r||a.compare(u)===-1)&&(r=u,a=new e(r,t))}),r},PO}var AO,mz;function Wie(){if(mz)return AO;mz=1;const e=Dr(),n=lu();return AO=(i,l,t)=>{let r=null,a=null,s=null;try{s=new n(l,t)}catch{return null}return i.forEach(u=>{s.test(u)&&(!r||a.compare(u)===1)&&(r=u,a=new e(r,t))}),r},AO}var NO,gz;function Jie(){if(gz)return NO;gz=1;const e=Dr(),n=lu(),o=Fb();return NO=(l,t)=>{l=new n(l,t);let r=new e("0.0.0");if(l.test(r)||(r=new e("0.0.0-0"),l.test(r)))return r;r=null;for(let a=0;a<l.set.length;++a){const s=l.set[a];let u=null;s.forEach(f=>{const g=new e(f.semver.version);switch(f.operator){case">":g.prerelease.length===0?g.patch++:g.prerelease.push(0),g.raw=g.format();case"":case">=":(!u||o(g,u))&&(u=g);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),u&&(!r||o(r,u))&&(r=u)}return r&&l.test(r)?r:null},NO}var DO,_z;function Zie(){if(_z)return DO;_z=1;const e=lu();return DO=(o,i)=>{try{return new e(o,i).range||"*"}catch{return null}},DO}var IO,yz;function ST(){if(yz)return IO;yz=1;const e=Dr(),n=Vb(),{ANY:o}=n,i=lu(),l=Gb(),t=Fb(),r=vT(),a=wT(),s=bT();return IO=(f,g,b,_)=>{f=new e(f,_),g=new i(g,_);let p,y,v,E,j;switch(b){case">":p=t,y=a,v=r,E=">",j=">=";break;case"<":p=r,y=s,v=t,E="<",j="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l(f,g,_))return!1;for(let x=0;x<g.set.length;++x){const A=g.set[x];let M=null,T=null;if(A.forEach(D=>{D.semver===o&&(D=new n(">=0.0.0")),M=M||D,T=T||D,p(D.semver,M.semver,_)?M=D:v(D.semver,T.semver,_)&&(T=D)}),M.operator===E||M.operator===j||(!T.operator||T.operator===E)&&y(f,T.semver))return!1;if(T.operator===j&&v(f,T.semver))return!1}return!0},IO}var zO,vz;function Qie(){if(vz)return zO;vz=1;const e=ST();return zO=(o,i,l)=>e(o,i,">",l),zO}var BO,bz;function Xie(){if(bz)return BO;bz=1;const e=ST();return BO=(o,i,l)=>e(o,i,"<",l),BO}var qO,wz;function eoe(){if(wz)return qO;wz=1;const e=lu();return qO=(o,i,l)=>(o=new e(o,l),i=new e(i,l),o.intersects(i,l)),qO}var LO,Sz;function toe(){if(Sz)return LO;Sz=1;const e=Gb(),n=su();return LO=(o,i,l)=>{const t=[];let r=null,a=null;const s=o.sort((b,_)=>n(b,_,l));for(const b of s)e(b,i,l)?(a=b,r||(r=b)):(a&&t.push([r,a]),a=null,r=null);r&&t.push([r,null]);const u=[];for(const[b,_]of t)b===_?u.push(b):!_&&b===s[0]?u.push("*"):_?b===s[0]?u.push(`<=${_}`):u.push(`${b} - ${_}`):u.push(`>=${b}`);const f=u.join(" || "),g=typeof i.raw=="string"?i.raw:String(i);return f.length<g.length?f:i},LO}var UO,Oz;function roe(){if(Oz)return UO;Oz=1;const e=lu(),n=Vb(),{ANY:o}=n,i=Gb(),l=su(),t=(g,b,_={})=>{if(g===b)return!0;g=new e(g,_),b=new e(b,_);let p=!1;e:for(const y of g.set){for(const v of b.set){const E=s(y,v,_);if(p=p||E!==null,E)continue e}if(p)return!1}return!0},r=[new n(">=0.0.0-0")],a=[new n(">=0.0.0")],s=(g,b,_)=>{if(g===b)return!0;if(g.length===1&&g[0].semver===o){if(b.length===1&&b[0].semver===o)return!0;_.includePrerelease?g=r:g=a}if(b.length===1&&b[0].semver===o){if(_.includePrerelease)return!0;b=a}const p=new Set;let y,v;for(const P of g)P.operator===">"||P.operator===">="?y=u(y,P,_):P.operator==="<"||P.operator==="<="?v=f(v,P,_):p.add(P.semver);if(p.size>1)return null;let E;if(y&&v){if(E=l(y.semver,v.semver,_),E>0)return null;if(E===0&&(y.operator!==">="||v.operator!=="<="))return null}for(const P of p){if(y&&!i(P,String(y),_)||v&&!i(P,String(v),_))return null;for(const F of b)if(!i(P,String(F),_))return!1;return!0}let j,x,A,M,T=v&&!_.includePrerelease&&v.semver.prerelease.length?v.semver:!1,D=y&&!_.includePrerelease&&y.semver.prerelease.length?y.semver:!1;T&&T.prerelease.length===1&&v.operator==="<"&&T.prerelease[0]===0&&(T=!1);for(const P of b){if(M=M||P.operator===">"||P.operator===">=",A=A||P.operator==="<"||P.operator==="<=",y){if(D&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===D.major&&P.semver.minor===D.minor&&P.semver.patch===D.patch&&(D=!1),P.operator===">"||P.operator===">="){if(j=u(y,P,_),j===P&&j!==y)return!1}else if(y.operator===">="&&!i(y.semver,String(P),_))return!1}if(v){if(T&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===T.major&&P.semver.minor===T.minor&&P.semver.patch===T.patch&&(T=!1),P.operator==="<"||P.operator==="<="){if(x=f(v,P,_),x===P&&x!==v)return!1}else if(v.operator==="<="&&!i(v.semver,String(P),_))return!1}if(!P.operator&&(v||y)&&E!==0)return!1}return!(y&&A&&!v&&E!==0||v&&M&&!y&&E!==0||D||T)},u=(g,b,_)=>{if(!g)return b;const p=l(g.semver,b.semver,_);return p>0?g:p<0||b.operator===">"&&g.operator===">="?b:g},f=(g,b,_)=>{if(!g)return b;const p=l(g.semver,b.semver,_);return p<0?g:p>0||b.operator==="<"&&g.operator==="<="?b:g};return UO=t,UO}var $O,Ez;function noe(){if(Ez)return $O;Ez=1;const e=m_(),n=Ub(),o=Dr(),i=nH(),l=hp(),t=Nie(),r=Die(),a=Iie(),s=zie(),u=Bie(),f=qie(),g=Lie(),b=Uie(),_=su(),p=$ie(),y=Fie(),v=yT(),E=Vie(),j=Gie(),x=Fb(),A=vT(),M=aH(),T=iH(),D=bT(),P=wT(),F=oH(),q=Hie(),B=Vb(),S=lu(),H=Gb(),Y=kie(),W=Yie(),$=Wie(),k=Jie(),Q=Zie(),re=ST(),C=Qie(),I=Xie(),K=eoe(),ee=toe(),fe=roe();return $O={parse:l,valid:t,clean:r,inc:a,diff:s,major:u,minor:f,patch:g,prerelease:b,compare:_,rcompare:p,compareLoose:y,compareBuild:v,sort:E,rsort:j,gt:x,lt:A,eq:M,neq:T,gte:D,lte:P,cmp:F,coerce:q,Comparator:B,Range:S,satisfies:H,toComparators:Y,maxSatisfying:W,minSatisfying:$,minVersion:k,validRange:Q,outside:re,gtr:C,ltr:I,intersects:K,simplifyRange:ee,subset:fe,SemVer:o,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},$O}noe();function Bc(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw new Error(`Invalid identifier format: ${e}`);const[n,o]=e.split(":"),i=o||"latest";if(n.includes("/")){const[l,t]=n.split("/",2);if(!l||!t)throw new Error(`Invalid identifier format: ${e}`);return[l,t,i]}else{if(!n)throw new Error(`Invalid identifier format: ${e}`);return["-",n,i]}}class aoe extends Error{constructor(n){super(n),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}class ioe extends Error{constructor(n){super(n),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithNotFoundError",this.status=404}}function Rz(e){return e!=null&&typeof e=="object"&&"name"in e&&e?.name==="LangSmithNotFoundError"}async function Qe(e,n,o){let i;if(e.ok){o&&(i=await e.text());return}if(e.status===403)try{(await e.json())?.error==="org_scoped_key_requires_workspace"&&(i="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const a=new Error(`${e.status} ${e.statusText}`);throw a.status=e?.status,a}if(i===void 0)try{i=await e.text()}catch{i=""}const l=`Failed to ${n}. Received status [${e.status}]: ${e.statusText}. Message: ${i}`;if(e.status===404)throw new ioe(l);if(e.status===409)throw new aoe(l);const t=new Error(l);throw t.status=e.status,t}const sH="ERR_CONFLICTING_ENDPOINTS";class ooe extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:sH}),this.name="ConflictingEndpointsError"}}function soe(e){return typeof e=="object"&&e!==null&&e.code===sH}var jz="[...]",loe={result:"[Circular]"},wb=[],Wh=[];const uoe=new TextEncoder;function coe(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function nv(e){return uoe.encode(e)}function lH(e){if(e&&typeof e=="object"&&e!==null){if(e instanceof Map)return Object.fromEntries(e);if(e instanceof Set)return Array.from(e);if(e instanceof Date)return e.toISOString();if(e instanceof RegExp)return e.toString();if(e instanceof Error)return{name:e.name,message:e.message}}else if(typeof e=="bigint")return e.toString();return e}function doe(e){return function(n,o){return lH(o)}}function mn(e,n,o,i,l){try{const t=JSON.stringify(e,doe(o),i);return nv(t)}catch(t){if(!t.message?.includes("Converting circular structure to JSON"))return console.warn(`[WARNING]: LangSmith received unserializable value.${n?`
Context: ${n}`:""}`),nv("[Unserializable]");Kr("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${n?`
Context: ${n}`:""}`),typeof l>"u"&&(l=coe()),o1(e,"",0,[],void 0,0,l);let r;try{Wh.length===0?r=JSON.stringify(e,o,i):r=JSON.stringify(e,foe(o),i)}catch{return nv("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;wb.length!==0;){const a=wb.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return nv(r)}}function FO(e,n,o,i){var l=Object.getOwnPropertyDescriptor(i,o);l.get!==void 0?l.configurable?(Object.defineProperty(i,o,{value:e}),wb.push([i,o,n,l])):Wh.push([n,o,e]):(i[o]=e,wb.push([i,o,n]))}function o1(e,n,o,i,l,t,r){t+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<i.length;a++)if(i[a]===e){FO(loe,e,n,l);return}if(typeof r.depthLimit<"u"&&t>r.depthLimit){FO(jz,e,n,l);return}if(typeof r.edgesLimit<"u"&&o+1>r.edgesLimit){FO(jz,e,n,l);return}if(i.push(e),Array.isArray(e))for(a=0;a<e.length;a++)o1(e[a],a,a,i,e,t,r);else{e=lH(e);var s=Object.keys(e);for(a=0;a<s.length;a++){var u=s[a];o1(e[u],u,a,i,e,t,r)}}i.pop()}}function foe(e){return e=typeof e<"u"?e:function(n,o){return o},function(n,o){if(Wh.length>0)for(var i=0;i<Wh.length;i++){var l=Wh[i];if(l[1]===n&&l[0]===o){o=l[2],Wh.splice(i,1);break}}return e.call(this,n,o)}}function xz(e,n,o){if(o)return e;const i=XG(),l=n??eH(),t=e.extra??{},r=t.metadata;return e.extra={...t,runtime:{...i,...t?.runtime},metadata:{...l,...l.revision_id||"revision_id"in e&&e.revision_id?{revision_id:("revision_id"in e?e.revision_id:void 0)??l.revision_id}:{},...r}},e}const hoe=e=>{const n=e?.toString()??Kr("TRACING_SAMPLING_RATE");if(n===void 0)return;const o=parseFloat(n);if(o<0||o>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${o}`);return o},poe=e=>{const o=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return o==="localhost"||o==="127.0.0.1"||o==="::1"};async function moe(e){const n=[];for await(const o of e)n.push(o);return n}function av(e){if(e!==void 0)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const goe=async e=>{if(e?.status===429){const n=parseInt(e.headers.get("retry-after")??"10",10)*1e3;if(n>0)return await new Promise(o=>setTimeout(o,n)),!0}return!1};function Cz(e){return typeof e=="number"?Number(e.toFixed(4)):e}const _oe=24*1024*1024,uH=1024*1024*1024,yoe=1e4,voe=100,Tz="https://api.smith.langchain.com";class boe{constructor(n){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=n??uH}peek(){return this.items[0]}push(n){let o;const i=new Promise(t=>{o=t}),l=mn(n.item,`Serializing run with id: ${n.item.id}`).length;return this.sizeBytes+l>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${n.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${l} bytes.`),o(),i):(this.items.push({action:n.action,payload:n.item,otelContext:n.otelContext,apiKey:n.apiKey,apiUrl:n.apiUrl,itemPromiseResolve:o,itemPromise:i,size:l}),this.sizeBytes+=l,i)}pop({upToSizeBytes:n,upToSize:o}){if(n<1)throw new Error("Number of bytes to pop off may not be less than 1.");const i=[];let l=0;for(;l+(this.peek()?.size??0)<n&&this.items.length>0&&i.length<o;){const t=this.items.shift();t&&(i.push(t),l+=t.size,this.sizeBytes-=t.size)}if(i.length===0&&this.items.length>0){const t=this.items.shift();i.push(t),l+=t.size,this.sizeBytes-=t.size}return[i.map(t=>({action:t.action,item:t.payload,otelContext:t.otelContext,apiKey:t.apiKey,apiUrl:t.apiUrl,size:t.size})),()=>i.forEach(t=>t.itemPromiseResolve())]}}let cH=class s1{get _fetch(){return this.fetchImplementation||Jae(this.debug)}constructor(n={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitTracedRuntimeInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:Ru("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_multipartDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:Ru("LANGSMITH_DEBUG")==="true"});const o=s1.getDefaultClientConfig();if(this.tracingSampleRate=hoe(n.tracingSamplingRate),this.apiUrl=av(n.apiUrl??o.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=av(n.apiKey??o.apiKey),this.webUrl=av(n.webUrl??o.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=av(n.workspaceId??Kr("WORKSPACE_ID")),this.timeout_ms=n.timeout_ms??9e4,this.caller=new PI({...n.callerOptions??{},maxRetries:4,debug:n.debug??this.debug}),this.traceBatchConcurrency=n.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=n.debug??this.debug,this.fetchImplementation=n.fetchImplementation;const i=n.maxIngestMemoryBytes??uH;this.batchIngestCaller=new PI({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:i,...n.callerOptions??{},onFailedResponseHook:goe,debug:n.debug??this.debug}),this.hideInputs=n.hideInputs??n.anonymizer??o.hideInputs,this.hideOutputs=n.hideOutputs??n.anonymizer??o.hideOutputs,this.omitTracedRuntimeInfo=n.omitTracedRuntimeInfo??!1,this.autoBatchTracing=n.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new boe(i),this.blockOnRootRunFinalization=n.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=n.batchSizeBytesLimit,this.batchSizeLimit=n.batchSizeLimit,this.fetchOptions=n.fetchOptions||{},this.manualFlushMode=n.manualFlushMode??this.manualFlushMode,tH()&&(this.langSmithToOTELTranslator=new mie),this.cachedLSEnvVarsForMetadata=eH()}static getDefaultClientConfig(){const n=Kr("API_KEY"),o=Kr("ENDPOINT")??Tz,i=Kr("HIDE_INPUTS")==="true",l=Kr("HIDE_OUTPUTS")==="true";return{apiUrl:o,apiKey:n,webUrl:void 0,hideInputs:i,hideOutputs:l}}getHostUrl(){return this.webUrl?this.webUrl:poe(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const n={"User-Agent":`langsmith-js/${JG}`};return this.apiKey&&(n["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(n["x-tenant-id"]=this.workspaceId),n}_getPlatformEndpointPath(n){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${n}`:`/platform/${n}`}async processInputs(n){return this.hideInputs===!1?n:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(n):n}async processOutputs(n){return this.hideOutputs===!1?n:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(n):n}async prepareRunCreateOrUpdateInputs(n){const o={...n};return o.inputs!==void 0&&(o.inputs=await this.processInputs(o.inputs)),o.outputs!==void 0&&(o.outputs=await this.processOutputs(o.outputs)),o}async _getResponse(n,o){const i=o?.toString()??"",l=`${this.apiUrl}${n}?${i}`;return await this.caller.call(async()=>{const r=await this._fetch(l,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(r,`fetch ${n}`),r})}async _get(n,o){return(await this._getResponse(n,o)).json()}async*_getPaginated(n,o=new URLSearchParams,i){let l=Number(o.get("offset"))||0;const t=Number(o.get("limit"))||100;for(;;){o.set("offset",String(l)),o.set("limit",String(t));const r=`${this.apiUrl}${n}?${o}`,a=await this.caller.call(async()=>{const u=await this._fetch(r,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(u,`fetch ${n}`),u}),s=i?i(await a.json()):await a.json();if(s.length===0||(yield s,s.length<t))break;l+=s.length}}async*_getCursorPaginatedList(n,o=null,i="POST",l="runs"){const t=o?{...o}:{};for(;;){const r=JSON.stringify(t),s=await(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}${n}`,{method:i,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(f,`fetch ${n}`),f})).json();if(!s||!s[l])break;yield s[l];const u=s.cursors;if(!u||!u.next)break;t.cursor=u.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(n,o=!1){if(this.tracingSampleRate===void 0)return n;if(o){const i=[];for(const l of n)this.filteredPostUuids.has(l.trace_id)?l.id===l.trace_id&&this.filteredPostUuids.delete(l.trace_id):i.push(l);return i}else{const i=[];for(const l of n){const t=l.trace_id??l.id;this.filteredPostUuids.has(t)||(l.id===t?this._shouldSample()?i.push(l):this.filteredPostUuids.add(t):i.push(l))}return i}}async _getBatchSizeLimitBytes(){const n=await this._ensureServerInfo();return this.batchSizeBytesLimit??n?.batch_ingest_config?.size_limit_bytes??_oe}async _getBatchSizeLimit(){const n=await this._ensureServerInfo();return this.batchSizeLimit??n?.batch_ingest_config?.size_limit??voe}async _getDatasetExamplesMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:o}){const i=[];for(;this.autoBatchQueue.items.length>0;){const[l,t]=this.autoBatchQueue.pop({upToSizeBytes:n,upToSize:o});if(!l.length){t();break}const r=l.reduce((u,f)=>{const g=f.apiUrl??this.apiUrl,b=f.apiKey??this.apiKey,p=f.apiKey===this.apiKey&&f.apiUrl===this.apiUrl?"default":`${g}|${b}`;return u[p]||(u[p]=[]),u[p].push(f),u},{}),a=[];for(const[u,f]of Object.entries(r)){const g=this._processBatch(f,{apiUrl:u==="default"?void 0:u.split("|")[0],apiKey:u==="default"?void 0:u.split("|")[1]});a.push(g)}const s=Promise.all(a).finally(t);i.push(s)}return Promise.all(i)}async _processBatch(n,o){if(!n.length)return;const i=n.reduce((l,t)=>l+(t.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(n);else{const l={runCreates:n.filter(a=>a.action==="create").map(a=>a.item),runUpdates:n.filter(a=>a.action==="update").map(a=>a.item)},t=await this._ensureServerInfo();if(!this._multipartDisabled&&(t?.batch_ingest_config?.use_multipart_endpoint??!0)){const a=t?.instance_flags?.gzip_body_enabled;try{await this.multipartIngestRuns(l,{...o,useGzip:a,sizeBytes:i})}catch(s){if(Rz(s))this._multipartDisabled=!0,await this.batchIngestRuns(l,{...o,sizeBytes:i});else throw s}}else await this.batchIngestRuns(l,{...o,sizeBytes:i})}}catch(l){console.error("Error exporting batch:",l)}}_sendBatchToOTELTranslator(n){if(this.langSmithToOTELTranslator!==void 0){const o=new Map,i=[];for(const l of n)l.item.id&&l.otelContext&&(o.set(l.item.id,l.otelContext),l.action==="create"?i.push({operation:"post",id:l.item.id,trace_id:l.item.trace_id??l.item.id,run:l.item}):i.push({operation:"patch",id:l.item.id,trace_id:l.item.trace_id??l.item.id,run:l.item}));this.langSmithToOTELTranslator.exportBatch(i,o)}}async processRunOperation(n){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,n.item=xz(n.item,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);const o=this.autoBatchQueue.push(n);if(this.manualFlushMode)return o;const i=await this._getBatchSizeLimitBytes(),l=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>i||this.autoBatchQueue.items.length>l)&&this.drainAutoBatchQueue({batchSizeLimitBytes:i,batchSizeLimit:l}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:i,batchSizeLimit:l})},this.autoBatchAggregationDelayMs)),o}async _getServerInfo(){const o=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(yoe),...this.fetchOptions});return await Qe(i,"get server info"),i})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(o,null,2)+`
`),o}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(n){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${n.status??"Unspecified status code"} ${n.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(n=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),n))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const n=await this._getBatchSizeLimitBytes(),o=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:o})}_cloneCurrentOTELContext(){const n=rH(),o=die();if(this.langSmithToOTELTranslator!==void 0){const i=n.getActiveSpan();if(i)return n.setSpan(o.active(),i)}}async createRun(n,o){if(!this._filterForSampling([n]).length)return;const i={...this.headers,"Content-Type":"application/json"},l=n.project_name;delete n.project_name;const t=await this.prepareRunCreateOrUpdateInputs({session_name:l,...n,start_time:n.start_time??Date.now()});if(this.autoBatchTracing&&t.trace_id!==void 0&&t.dotted_order!==void 0){const s=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:t,otelContext:s,apiKey:o?.apiKey,apiUrl:o?.apiUrl}).catch(console.error);return}const r=xz(t,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);o?.apiKey!==void 0&&(i["x-api-key"]=o.apiKey),o?.workspaceId!==void 0&&(i["x-tenant-id"]=o.workspaceId);const a=mn(r,`Creating run with id: ${r.id}`);await this.caller.call(async()=>{const s=await this._fetch(`${o?.apiUrl??this.apiUrl}/runs`,{method:"POST",headers:i,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Qe(s,"create run",!0),s})}async batchIngestRuns({runCreates:n,runUpdates:o},i){if(n===void 0&&o===void 0)return;let l=await Promise.all(n?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[]),t=await Promise.all(o?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[]);if(l.length>0&&t.length>0){const s=l.reduce((f,g)=>(g.id&&(f[g.id]=g),f),{}),u=[];for(const f of t)f.id!==void 0&&s[f.id]?s[f.id]={...s[f.id],...f}:u.push(f);l=Object.values(s),t=u}const r={post:l,patch:t};if(!r.post.length&&!r.patch.length)return;const a={post:[],patch:[]};for(const s of["post","patch"]){const u=s,f=r[u].reverse();let g=f.pop();for(;g!==void 0;)a[u].push(g),g=f.pop()}if(a.post.length>0||a.patch.length>0){const s=a.post.map(u=>u.id).concat(a.patch.map(u=>u.id)).join(",");await this._postBatchIngestRuns(mn(a,`Ingesting runs with ids: ${s}`),i)}}async _postBatchIngestRuns(n,o){const i={...this.headers,"Content-Type":"application/json",Accept:"application/json"};o?.apiKey!==void 0&&(i["x-api-key"]=o.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:o?.sizeBytes},async()=>{const l=await this._fetch(`${o?.apiUrl??this.apiUrl}/runs/batch`,{method:"POST",headers:i,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await Qe(l,"batch create run",!0),l})}async multipartIngestRuns({runCreates:n,runUpdates:o},i){if(n===void 0&&o===void 0)return;const l={};let t=[];for(const g of n??[]){const b=await this.prepareRunCreateOrUpdateInputs(g);b.id!==void 0&&b.attachments!==void 0&&(l[b.id]=b.attachments),delete b.attachments,t.push(b)}let r=[];for(const g of o??[])r.push(await this.prepareRunCreateOrUpdateInputs(g));if(t.find(g=>g.trace_id===void 0||g.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(r.find(g=>g.trace_id===void 0||g.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(t.length>0&&r.length>0){const g=t.reduce((_,p)=>(p.id&&(_[p.id]=p),_),{}),b=[];for(const _ of r)_.id!==void 0&&g[_.id]?g[_.id]={...g[_.id],..._}:b.push(_);t=Object.values(g),r=b}if(t.length===0&&r.length===0)return;const u=[],f=[];for(const[g,b]of[["post",t],["patch",r]])for(const _ of b){const{inputs:p,outputs:y,events:v,extra:E,error:j,serialized:x,attachments:A,...M}=_,T={inputs:p,outputs:y,events:v,extra:E,error:j,serialized:x},D=mn(M,`Serializing for multipart ingestion of run with id: ${M.id}`);f.push({name:`${g}.${M.id}`,payload:new Blob([D],{type:`application/json; length=${D.length}`})});for(const[P,F]of Object.entries(T)){if(F===void 0)continue;const q=mn(F,`Serializing ${P} for multipart ingestion of run with id: ${M.id}`);f.push({name:`${g}.${M.id}.${P}`,payload:new Blob([q],{type:`application/json; length=${q.length}`})})}if(M.id!==void 0){const P=l[M.id];if(P){delete l[M.id];for(const[F,q]of Object.entries(P)){let B,S;if(Array.isArray(q)?[B,S]=q:(B=q.mimeType,S=q.data),F.includes(".")){console.warn(`Skipping attachment '${F}' for run ${M.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}f.push({name:`attachment.${M.id}.${F}`,payload:new Blob([S],{type:`${B}; length=${S.byteLength}`})})}}}u.push(`trace=${M.trace_id},id=${M.id}`)}await this._sendMultipartRequest(f,u.join("; "),i)}async _createNodeFetchBody(n,o){const i=[];for(const r of n)i.push(new Blob([`--${o}\r
`])),i.push(new Blob([`Content-Disposition: form-data; name="${r.name}"\r
`,`Content-Type: ${r.payload.type}\r
\r
`])),i.push(r.payload),i.push(new Blob([`\r
`]));return i.push(new Blob([`--${o}--\r
`])),await new Blob(i).arrayBuffer()}async _createMultipartStream(n,o){const i=new TextEncoder;return new ReadableStream({async start(t){const r=async a=>{typeof a=="string"?t.enqueue(i.encode(a)):t.enqueue(a)};for(const a of n){await r(`--${o}\r
`),await r(`Content-Disposition: form-data; name="${a.name}"\r
`),await r(`Content-Type: ${a.payload.type}\r
\r
`);const u=a.payload.stream().getReader();try{let f;for(;!(f=await u.read()).done;)t.enqueue(f.value)}finally{u.releaseLock()}await r(`\r
`)}await r(`--${o}--\r
`),t.close()}})}async _sendMultipartRequest(n,o,i){const l="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),t=Wae(),r=()=>this._createNodeFetchBody(n,l),a=()=>this._createMultipartStream(n,l),s=async u=>this.batchIngestCaller.callWithOptions({sizeBytes:i?.sizeBytes},async()=>{const f=await u(),g={...this.headers,"Content-Type":`multipart/form-data; boundary=${l}`};i?.apiKey!==void 0&&(g["x-api-key"]=i.apiKey);let b=f;i?.useGzip&&typeof f=="object"&&"pipeThrough"in f&&(b=f.pipeThrough(new CompressionStream("gzip")),g["Content-Encoding"]="gzip");const _=await this._fetch(`${i?.apiUrl??this.apiUrl}/runs/multipart`,{method:"POST",headers:g,body:b,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(_,"Failed to send multipart request",!0),_});try{let u,f=!1;!t&&!this.multipartStreamingDisabled&&QG()!=="bun"?(f=!0,u=await s(a)):u=await s(r),(!this.multipartStreamingDisabled||f)&&u.status===422&&(i?.apiUrl??this.apiUrl)!==Tz&&(console.warn(`Streaming multipart upload to ${i?.apiUrl??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${o}".`),this.multipartStreamingDisabled=!0,u=await s(r))}catch(u){if(Rz(u))throw u;console.warn(`${u.message.trim()}

Context: ${o}`)}}async updateRun(n,o,i){at(n),o.inputs&&(o.inputs=await this.processInputs(o.inputs)),o.outputs&&(o.outputs=await this.processOutputs(o.outputs));const l={...o,id:n};if(!this._filterForSampling([l],!0).length)return;if(this.autoBatchTracing&&l.trace_id!==void 0&&l.dotted_order!==void 0){const a=this._cloneCurrentOTELContext();if(o.end_time!==void 0&&l.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:l,otelContext:a,apiKey:i?.apiKey,apiUrl:i?.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:l,otelContext:a,apiKey:i?.apiKey,apiUrl:i?.apiUrl}).catch(console.error);return}const t={...this.headers,"Content-Type":"application/json"};i?.apiKey!==void 0&&(t["x-api-key"]=i.apiKey),i?.workspaceId!==void 0&&(t["x-tenant-id"]=i.workspaceId);const r=mn(o,`Serializing payload to update run with id: ${n}`);await this.caller.call(async()=>{const a=await this._fetch(`${i?.apiUrl??this.apiUrl}/runs/${n}`,{method:"PATCH",headers:t,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(a,"update run",!0),a})}async readRun(n,{loadChildRuns:o}={loadChildRuns:!1}){at(n);let i=await this._get(`/runs/${n}`);return o&&(i=await this._loadChildRuns(i)),i}async getRunUrl({runId:n,run:o,projectOpts:i}){if(o!==void 0){let l;o.session_id?l=o.session_id:i?.projectName?l=(await this.readProject({projectName:i?.projectName})).id:i?.projectId?l=i?.projectId:l=(await this.readProject({projectName:Kr("PROJECT")||"default"})).id;const t=await this._getTenantId();return`${this.getHostUrl()}/o/${t}/projects/p/${l}/r/${o.id}?poll=true`}else if(n!==void 0){const l=await this.readRun(n);if(!l.app_path)throw new Error(`Run ${n} has no app_path`);return`${this.getHostUrl()}${l.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(n){const o=await moe(this.listRuns({isRoot:!1,projectId:n.session_id,traceId:n.trace_id})),i={},l={};o.sort((t,r)=>(t?.dotted_order??"").localeCompare(r?.dotted_order??""));for(const t of o){if(t.parent_run_id===null||t.parent_run_id===void 0)throw new Error(`Child run ${t.id} has no parent`);t.dotted_order?.startsWith(n.dotted_order??"")&&t.id!==n.id&&(t.parent_run_id in i||(i[t.parent_run_id]=[]),i[t.parent_run_id].push(t),l[t.id]=t)}n.child_runs=i[n.id]||[];for(const t in i)t!==n.id&&(l[t].child_runs=i[t]);return n}async*listRuns(n){const{projectId:o,projectName:i,parentRunId:l,traceId:t,referenceExampleId:r,startTime:a,executionOrder:s,isRoot:u,runType:f,error:g,id:b,query:_,filter:p,traceFilter:y,treeFilter:v,limit:E,select:j,order:x}=n;let A=[];if(o&&(A=Array.isArray(o)?o:[o]),i){const P=Array.isArray(i)?i:[i],F=await Promise.all(P.map(q=>this.readProject({projectName:q}).then(B=>B.id)));A.push(...F)}const M=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],T={session:A.length?A:null,run_type:f,reference_example:r,query:_,filter:p,trace_filter:y,tree_filter:v,execution_order:s,parent_run:l,start_time:a?a.toISOString():null,error:g,id:b,limit:E,trace:t,select:j||M,is_root:u,order:x};T.select.includes("child_run_ids")&&WG("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let D=0;for await(const P of this._getCursorPaginatedList("/runs/query",T))if(E){if(D>=E)break;if(P.length+D>E){yield*P.slice(0,E-D);break}D+=P.length,yield*P}else yield*P}async*listGroupRuns(n){const{projectId:o,projectName:i,groupBy:l,filter:t,startTime:r,endTime:a,limit:s,offset:u}=n,g={session_id:o||(await this.readProject({projectName:i})).id,group_by:l,filter:t,start_time:r?r.toISOString():null,end_time:a?a.toISOString():null,limit:Number(s)||100};let b=Number(u)||0;const _="/runs/group",p=`${this.apiUrl}${_}`;for(;;){const y={...g,offset:b},v=Object.fromEntries(Object.entries(y).filter(([T,D])=>D!==void 0)),E=JSON.stringify(v),x=await(await this.caller.call(async()=>{const T=await this._fetch(p,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:E});return await Qe(T,`Failed to fetch ${_}`),T})).json(),{groups:A,total:M}=x;if(A.length===0)break;for(const T of A)yield T;if(b+=A.length,b>=M)break}}async getRunStats({id:n,trace:o,parentRun:i,runType:l,projectNames:t,projectIds:r,referenceExampleIds:a,startTime:s,endTime:u,error:f,query:g,filter:b,traceFilter:_,treeFilter:p,isRoot:y,dataSourceType:v}){let E=r||[];t&&(E=[...r||[],...await Promise.all(t.map(D=>this.readProject({projectName:D}).then(P=>P.id)))]);const x=Object.fromEntries(Object.entries({id:n,trace:o,parent_run:i,run_type:l,session:E,reference_example:a,start_time:s,end_time:u,error:f,query:g,filter:b,trace_filter:_,tree_filter:p,is_root:y,data_source_type:v}).filter(([D,P])=>P!==void 0)),A=JSON.stringify(x);return await(await this.caller.call(async()=>{const D=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:A});return await Qe(D,"get run stats"),D})).json()}async shareRun(n,{shareId:o}={}){const i={run_id:n,share_token:o||Gc()};at(n);const l=JSON.stringify(i),r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/runs/${n}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Qe(a,"share run"),a})).json();if(r===null||!("share_token"in r))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${r.share_token}/r`}async unshareRun(n){at(n),await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/runs/${n}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(o,"unshare run",!0),o})}async readRunSharedLink(n){at(n);const i=await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/runs/${n}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(l,"read run shared link"),l})).json();if(!(i===null||!("share_token"in i)))return`${this.getHostUrl()}/public/${i.share_token}/r`}async listSharedRuns(n,{runIds:o}={}){const i=new URLSearchParams({share_token:n});if(o!==void 0)for(const r of o)i.append("id",r);return at(n),await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/public/${n}/runs${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(r,"list shared runs"),r})).json()}async readDatasetSharedSchema(n,o){if(!n&&!o)throw new Error("Either datasetId or datasetName must be given");n||(n=(await this.readDataset({datasetName:o})).id),at(n);const l=await(await this.caller.call(async()=>{const t=await this._fetch(`${this.apiUrl}/datasets/${n}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(t,"read dataset shared schema"),t})).json();return l.url=`${this.getHostUrl()}/public/${l.share_token}/d`,l}async shareDataset(n,o){if(!n&&!o)throw new Error("Either datasetId or datasetName must be given");n||(n=(await this.readDataset({datasetName:o})).id);const i={dataset_id:n};at(n);const l=JSON.stringify(i),r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/datasets/${n}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Qe(a,"share dataset"),a})).json();return r.url=`${this.getHostUrl()}/public/${r.share_token}/d`,r}async unshareDataset(n){at(n),await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${n}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(o,"unshare dataset",!0),o})}async readSharedDataset(n){return at(n),await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/public/${n}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(l,"read shared dataset"),l})).json()}async listSharedExamples(n,o){const i={};o?.exampleIds&&(i.id=o.exampleIds);const l=new URLSearchParams;Object.entries(i).forEach(([a,s])=>{Array.isArray(s)?s.forEach(u=>l.append(a,u)):l.append(a,s)});const t=await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/public/${n}/examples?${l.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(a,"list shared examples"),a}),r=await t.json();if(!t.ok)throw"detail"in r?new Error(`Failed to list shared examples.
Status: ${t.status}
Message: ${Array.isArray(r.detail)?r.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${t.status} ${t.statusText}`);return r.map(a=>({...a,_hostUrl:this.getHostUrl()}))}async createProject({projectName:n,description:o=null,metadata:i=null,upsert:l=!1,projectExtra:t=null,referenceDatasetId:r=null}){const a=l?"?upsert=true":"",s=`${this.apiUrl}/sessions${a}`,u=t||{};i&&(u.metadata=i);const f={name:n,extra:u,description:o};r!==null&&(f.reference_dataset_id=r);const g=JSON.stringify(f);return await(await this.caller.call(async()=>{const p=await this._fetch(s,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:g});return await Qe(p,"create project"),p})).json()}async updateProject(n,{name:o=null,description:i=null,metadata:l=null,projectExtra:t=null,endTime:r=null}){const a=`${this.apiUrl}/sessions/${n}`;let s=t;l&&(s={...s||{},metadata:l});const u=JSON.stringify({name:o,extra:s,description:i,end_time:r?new Date(r).toISOString():null});return await(await this.caller.call(async()=>{const b=await this._fetch(a,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Qe(b,"update project"),b})).json()}async hasProject({projectId:n,projectName:o}){let i="/sessions";const l=new URLSearchParams;if(n!==void 0&&o!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(n!==void 0)at(n),i+=`/${n}`;else if(o!==void 0)l.append("name",o);else throw new Error("Must provide projectName or projectId");const t=await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}${i}?${l}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(r,"has project"),r});try{const r=await t.json();return t.ok?Array.isArray(r)?r.length>0:!0:!1}catch{return!1}}async readProject({projectId:n,projectName:o,includeStats:i}){let l="/sessions";const t=new URLSearchParams;if(n!==void 0&&o!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(n!==void 0)at(n),l+=`/${n}`;else if(o!==void 0)t.append("name",o);else throw new Error("Must provide projectName or projectId");i!==void 0&&t.append("include_stats",i.toString());const r=await this._get(l,t);let a;if(Array.isArray(r)){if(r.length===0)throw new Error(`Project[id=${n}, name=${o}] not found`);a=r[0]}else a=r;return a}async getProjectUrl({projectId:n,projectName:o}){if(n===void 0&&o===void 0)throw new Error("Must provide either projectName or projectId");const i=await this.readProject({projectId:n,projectName:o}),l=await this._getTenantId();return`${this.getHostUrl()}/o/${l}/projects/p/${i.id}`}async getDatasetUrl({datasetId:n,datasetName:o}){if(n===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");const i=await this.readDataset({datasetId:n,datasetName:o}),l=await this._getTenantId();return`${this.getHostUrl()}/o/${l}/datasets/${i.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const n=new URLSearchParams({limit:"1"});for await(const o of this._getPaginated("/sessions",n))return this._tenantId=o[0].tenant_id,o[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:n,name:o,nameContains:i,referenceDatasetId:l,referenceDatasetName:t,includeStats:r,datasetVersion:a,referenceFree:s,metadata:u}={}){const f=new URLSearchParams;if(n!==void 0)for(const g of n)f.append("id",g);if(o!==void 0&&f.append("name",o),i!==void 0&&f.append("name_contains",i),l!==void 0)f.append("reference_dataset",l);else if(t!==void 0){const g=await this.readDataset({datasetName:t});f.append("reference_dataset",g.id)}r!==void 0&&f.append("include_stats",r.toString()),a!==void 0&&f.append("dataset_version",a),s!==void 0&&f.append("reference_free",s.toString()),u!==void 0&&f.append("metadata",JSON.stringify(u));for await(const g of this._getPaginated("/sessions",f))yield*g}async deleteProject({projectId:n,projectName:o}){let i;if(n===void 0&&o===void 0)throw new Error("Must provide projectName or projectId");if(n!==void 0&&o!==void 0)throw new Error("Must provide either projectName or projectId, not both");n===void 0?i=(await this.readProject({projectName:o})).id:i=n,at(i),await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/sessions/${i}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(l,`delete session ${i} (${o})`,!0),l})}async uploadCsv({csvFile:n,fileName:o,inputKeys:i,outputKeys:l,description:t,dataType:r,name:a}){const s=`${this.apiUrl}/datasets/upload`,u=new FormData;return u.append("file",n,o),i.forEach(b=>{u.append("input_keys",b)}),l.forEach(b=>{u.append("output_keys",b)}),t&&u.append("description",t),r&&u.append("data_type",r),a&&u.append("name",a),await(await this.caller.call(async()=>{const b=await this._fetch(s,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Qe(b,"upload CSV"),b})).json()}async createDataset(n,{description:o,dataType:i,inputsSchema:l,outputsSchema:t,metadata:r}={}){const a={name:n,description:o,extra:r?{metadata:r}:void 0};i&&(a.data_type=i),l&&(a.inputs_schema_definition=l),t&&(a.outputs_schema_definition=t);const s=JSON.stringify(a);return await(await this.caller.call(async()=>{const g=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Qe(g,"create dataset"),g})).json()}async readDataset({datasetId:n,datasetName:o}){let i="/datasets";const l=new URLSearchParams({limit:"1"});if(n&&o)throw new Error("Must provide either datasetName or datasetId, not both");if(n)at(n),i+=`/${n}`;else if(o)l.append("name",o);else throw new Error("Must provide datasetName or datasetId");const t=await this._get(i,l);let r;if(Array.isArray(t)){if(t.length===0)throw new Error(`Dataset[id=${n}, name=${o}] not found`);r=t[0]}else r=t;return r}async hasDataset({datasetId:n,datasetName:o}){try{return await this.readDataset({datasetId:n,datasetName:o}),!0}catch(i){if(i instanceof Error&&i.message.toLocaleLowerCase().includes("not found"))return!1;throw i}}async diffDatasetVersions({datasetId:n,datasetName:o,fromVersion:i,toVersion:l}){let t=n;if(t===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(t!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");t===void 0&&(t=(await this.readDataset({datasetName:o})).id);const r=new URLSearchParams({from_version:typeof i=="string"?i:i.toISOString(),to_version:typeof l=="string"?l:l.toISOString()});return await this._get(`/datasets/${t}/versions/diff`,r)}async readDatasetOpenaiFinetuning({datasetId:n,datasetName:o}){const i="/datasets";if(n===void 0)if(o!==void 0)n=(await this.readDataset({datasetName:o})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${i}/${n}/openai_ft`)).text()).trim().split(`
`).map(a=>JSON.parse(a))}async*listDatasets({limit:n=100,offset:o=0,datasetIds:i,datasetName:l,datasetNameContains:t,metadata:r}={}){const a="/datasets",s=new URLSearchParams({limit:n.toString(),offset:o.toString()});if(i!==void 0)for(const u of i)s.append("id",u);l!==void 0&&s.append("name",l),t!==void 0&&s.append("name_contains",t),r!==void 0&&s.append("metadata",JSON.stringify(r));for await(const u of this._getPaginated(a,s))yield*u}async updateDataset(n){const{datasetId:o,datasetName:i,...l}=n;if(!o&&!i)throw new Error("Must provide either datasetName or datasetId");const t=o??(await this.readDataset({datasetName:i})).id;at(t);const r=JSON.stringify(l);return await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,"update dataset"),s})).json()}async updateDatasetTag(n){const{datasetId:o,datasetName:i,asOf:l,tag:t}=n;if(!o&&!i)throw new Error("Must provide either datasetName or datasetId");const r=o??(await this.readDataset({datasetName:i})).id;at(r);const a=JSON.stringify({as_of:typeof l=="string"?l:l.toISOString(),tag:t});await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${r}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Qe(s,"update dataset tags",!0),s})}async deleteDataset({datasetId:n,datasetName:o}){let i="/datasets",l=n;if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(o!==void 0&&(l=(await this.readDataset({datasetName:o})).id),l!==void 0)at(l),i+=`/${l}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const t=await this._fetch(this.apiUrl+i,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(t,`delete ${i}`,!0),t})}async indexDataset({datasetId:n,datasetName:o,tag:i}){let l=n;if(!l&&!o)throw new Error("Must provide either datasetName or datasetId");if(l&&o)throw new Error("Must provide either datasetName or datasetId, not both");l||(l=(await this.readDataset({datasetName:o})).id),at(l);const r=JSON.stringify({tag:i});await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${l}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,"index dataset"),s})).json()}async similarExamples(n,o,i,{filter:l}={}){const t={limit:i,inputs:n};l!==void 0&&(t.filter=l),at(o);const r=JSON.stringify(t);return(await(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/datasets/${o}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:r});return await Qe(u,"fetch similar examples"),u})).json()).examples}async createExample(n,o,i){if(Mz(n)&&(o!==void 0||i!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let l=o?i?.datasetId:n.dataset_id;const t=o?i?.datasetName:n.dataset_name;if(l===void 0&&t===void 0)throw new Error("Must provide either datasetName or datasetId");if(l!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");l===void 0&&(l=(await this.readDataset({datasetName:t})).id);const r=(o?i?.createdAt:n.created_at)||new Date;let a;Mz(n)?a=n:a={inputs:n,outputs:o,created_at:r?.toISOString(),id:i?.exampleId,metadata:i?.metadata,split:i?.split,source_run_id:i?.sourceRunId,use_source_run_io:i?.useSourceRunIO,use_source_run_attachments:i?.useSourceRunAttachments,attachments:i?.attachments};const s=await this._uploadExamplesMultipart(l,[a]);return await this.readExample(s.example_ids?.[0]??Gc())}async createExamples(n){if(Array.isArray(n)){if(n.length===0)return[];const j=n;let x=j[0].dataset_id;const A=j[0].dataset_name;if(x===void 0&&A===void 0)throw new Error("Must provide either datasetName or datasetId");if(x!==void 0&&A!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");x===void 0&&(x=(await this.readDataset({datasetName:A})).id);const M=await this._uploadExamplesMultipart(x,j);return await Promise.all(M.example_ids.map(D=>this.readExample(D)))}const{inputs:o,outputs:i,metadata:l,splits:t,sourceRunIds:r,useSourceRunIOs:a,useSourceRunAttachments:s,attachments:u,exampleIds:f,datasetId:g,datasetName:b}=n;if(o===void 0)throw new Error("Must provide inputs when using legacy parameters");let _=g;const p=b;if(_===void 0&&p===void 0)throw new Error("Must provide either datasetName or datasetId");if(_!==void 0&&p!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");_===void 0&&(_=(await this.readDataset({datasetName:p})).id);const y=o.map((j,x)=>({dataset_id:_,inputs:j,outputs:i?.[x],metadata:l?.[x],split:t?.[x],id:f?.[x],attachments:u?.[x],source_run_id:r?.[x],use_source_run_io:a?.[x],use_source_run_attachments:s?.[x]})),v=await this._uploadExamplesMultipart(_,y);return await Promise.all(v.example_ids.map(j=>this.readExample(j)))}async createLLMExample(n,o,i){return this.createExample({input:n},{output:o},i)}async createChatExample(n,o,i){const l=n.map(r=>AI(r)?NI(r):r),t=AI(o)?NI(o):o;return this.createExample({input:l},{output:t},i)}async readExample(n){at(n);const o=`/examples/${n}`,i=await this._get(o),{attachment_urls:l,...t}=i,r=t;return l&&(r.attachments=Object.entries(l).reduce((a,[s,u])=>(a[s.slice(11)]={presigned_url:u.presigned_url,mime_type:u.mime_type},a),{})),r}async*listExamples({datasetId:n,datasetName:o,exampleIds:i,asOf:l,splits:t,inlineS3Urls:r,metadata:a,limit:s,offset:u,filter:f,includeAttachments:g}={}){let b;if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0)b=n;else if(o!==void 0)b=(await this.readDataset({datasetName:o})).id;else throw new Error("Must provide a datasetName or datasetId");const _=new URLSearchParams({dataset:b}),p=l?typeof l=="string"?l:l?.toISOString():void 0;p&&_.append("as_of",p);const y=r??!0;if(_.append("inline_s3_urls",y.toString()),i!==void 0)for(const E of i)_.append("id",E);if(t!==void 0)for(const E of t)_.append("splits",E);if(a!==void 0){const E=JSON.stringify(a);_.append("metadata",E)}s!==void 0&&_.append("limit",s.toString()),u!==void 0&&_.append("offset",u.toString()),f!==void 0&&_.append("filter",f),g===!0&&["attachment_urls","outputs","metadata"].forEach(E=>_.append("select",E));let v=0;for await(const E of this._getPaginated("/examples",_)){for(const j of E){const{attachment_urls:x,...A}=j,M=A;x&&(M.attachments=Object.entries(x).reduce((T,[D,P])=>(T[D.slice(11)]={presigned_url:P.presigned_url,mime_type:P.mime_type||void 0},T),{})),yield M,v++}if(s!==void 0&&v>=s)break}}async deleteExample(n){at(n);const o=`/examples/${n}`;await this.caller.call(async()=>{const i=await this._fetch(this.apiUrl+o,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,`delete ${o}`,!0),i})}async deleteExamples(n,o){if(n.forEach(i=>at(i)),o?.hardDelete){const i=this._getPlatformEndpointPath("datasets/examples/delete");await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({example_ids:n,hard_delete:!0}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(l,"hard delete examples",!0),l})}else{const i=new URLSearchParams;n.forEach(l=>i.append("example_ids",l)),await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/examples?${i.toString()}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(l,"delete examples",!0),l})}}async updateExample(n,o){let i;o?i=n:i=n.id,at(i);let l;o?l={id:i,...o}:l=n;let t;return l.dataset_id!==void 0?t=l.dataset_id:t=(await this.readExample(i)).dataset_id,this._updateExamplesMultipart(t,[l])}async updateExamples(n){let o;return n[0].dataset_id===void 0?o=(await this.readExample(n[0].id)).dataset_id:o=n[0].dataset_id,this._updateExamplesMultipart(o,n)}async readDatasetVersion({datasetId:n,datasetName:o,asOf:i,tag:l}){let t;if(n?t=n:t=(await this.readDataset({datasetName:o})).id,at(t),i&&l||!i&&!l)throw new Error("Exactly one of asOf and tag must be specified.");const r=new URLSearchParams;return i!==void 0&&r.append("as_of",typeof i=="string"?i:i.toISOString()),l!==void 0&&r.append("tag",l),await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/datasets/${t}/version?${r.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(s,"read dataset version"),s})).json()}async listDatasetSplits({datasetId:n,datasetName:o,asOf:i}){let l;if(n===void 0&&o===void 0)throw new Error("Must provide dataset name or ID");if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");n===void 0?l=(await this.readDataset({datasetName:o})).id:l=n,at(l);const t=new URLSearchParams,r=i?typeof i=="string"?i:i?.toISOString():void 0;return r&&t.append("as_of",r),await this._get(`/datasets/${l}/splits`,t)}async updateDatasetSplits({datasetId:n,datasetName:o,splitName:i,exampleIds:l,remove:t=!1}){let r;if(n===void 0&&o===void 0)throw new Error("Must provide dataset name or ID");if(n!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");n===void 0?r=(await this.readDataset({datasetName:o})).id:r=n,at(r);const a={split_name:i,examples:l.map(u=>(at(u),u)),remove:t},s=JSON.stringify(a);await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/datasets/${r}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Qe(u,"update dataset splits",!0),u})}async createFeedback(n,o,{score:i,value:l,correction:t,comment:r,sourceInfo:a,feedbackSourceType:s="api",sourceRunId:u,feedbackId:f,feedbackConfig:g,projectId:b,comparativeExperimentId:_}){if(!n&&!b)throw new Error("One of runId or projectId must be provided");if(n&&b)throw new Error("Only one of runId or projectId can be provided");const p={type:s??"api",metadata:a??{}};u!==void 0&&p?.metadata!==void 0&&!p.metadata.__run&&(p.metadata.__run={run_id:u}),p?.metadata!==void 0&&p.metadata.__run?.run_id!==void 0&&at(p.metadata.__run.run_id);const y={id:f??Gc(),run_id:n,key:o,score:Cz(i),value:l,correction:t,comment:r,feedback_source:p,comparative_experiment_id:_,feedbackConfig:g,session_id:b},v=JSON.stringify(y),E=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const j=await this._fetch(E,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:v});return await Qe(j,"create feedback",!0),j}),y}async updateFeedback(n,{score:o,value:i,correction:l,comment:t}){const r={};o!=null&&(r.score=Cz(o)),i!=null&&(r.value=i),l!=null&&(r.correction=l),t!=null&&(r.comment=t),at(n);const a=JSON.stringify(r);await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/feedback/${n}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Qe(s,"update feedback",!0),s})}async readFeedback(n){at(n);const o=`/feedback/${n}`;return await this._get(o)}async deleteFeedback(n){at(n);const o=`/feedback/${n}`;await this.caller.call(async()=>{const i=await this._fetch(this.apiUrl+o,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,`delete ${o}`,!0),i})}async*listFeedback({runIds:n,feedbackKeys:o,feedbackSourceTypes:i}={}){const l=new URLSearchParams;if(n)for(const t of n)at(t),l.append("run",t);if(o)for(const t of o)l.append("key",t);if(i)for(const t of i)l.append("source",t);for await(const t of this._getPaginated("/feedback",l))yield*t}async createPresignedFeedbackToken(n,o,{expiration:i,feedbackConfig:l}={}){const t={run_id:n,feedback_key:o,feedback_config:l};i?typeof i=="string"?t.expires_at=i:(i?.hours||i?.minutes||i?.days)&&(t.expires_in=i):t.expires_in={hours:3};const r=JSON.stringify(t);return await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,"create presigned feedback token"),s})).json()}async createComparativeExperiment({name:n,experimentIds:o,referenceDatasetId:i,createdAt:l,description:t,metadata:r,id:a}){if(o.length===0)throw new Error("At least one experiment is required");if(i||(i=(await this.readProject({projectId:o[0]})).reference_dataset_id),!i==null)throw new Error("A reference dataset is required");const s={id:a,name:n,experiment_ids:o,reference_dataset_id:i,description:t,created_at:(l??new Date)?.toISOString(),extra:{}};r&&(s.extra.metadata=r);const u=JSON.stringify(s);return(await this.caller.call(async()=>{const g=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Qe(g,"create comparative experiment"),g})).json()}async*listPresignedFeedbackTokens(n){at(n);const o=new URLSearchParams({run_id:n});for await(const i of this._getPaginated("/feedback/tokens",o))yield*i}_selectEvalResults(n){let o;return"results"in n?o=n.results:Array.isArray(n)?o=n:o=[n],o}async _logEvaluationFeedback(n,o,i){const l=this._selectEvalResults(n),t=[];for(const r of l){let a=i||{};r.evaluatorInfo&&(a={...r.evaluatorInfo,...a});let s=null;r.targetRunId?s=r.targetRunId:o&&(s=o.id),t.push(await this.createFeedback(s,r.key,{score:r.score,value:r.value,comment:r.comment,correction:r.correction,sourceInfo:a,sourceRunId:r.sourceRunId,feedbackConfig:r.feedbackConfig,feedbackSourceType:"model"}))}return[l,t]}async logEvaluationFeedback(n,o,i){const[l]=await this._logEvaluationFeedback(n,o,i);return l}async*listAnnotationQueues(n={}){const{queueIds:o,name:i,nameContains:l,limit:t}=n,r=new URLSearchParams;o&&o.forEach((s,u)=>{at(s,`queueIds[${u}]`),r.append("ids",s)}),i&&r.append("name",i),l&&r.append("name_contains",l),r.append("limit",(t!==void 0?Math.min(t,100):100).toString());let a=0;for await(const s of this._getPaginated("/annotation-queues",r))if(yield*s,a++,t!==void 0&&a>=t)break}async createAnnotationQueue(n){const{name:o,description:i,queueId:l,rubricInstructions:t}=n,r={name:o,description:i,id:l||Gc(),rubric_instructions:t},a=JSON.stringify(Object.fromEntries(Object.entries(r).filter(([u,f])=>f!==void 0)));return(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await Qe(u,"create annotation queue"),u})).json()}async readAnnotationQueue(n){return(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,"read annotation queue"),i})).json()}async updateAnnotationQueue(n,o){const{name:i,description:l,rubricInstructions:t}=o,r=JSON.stringify({name:i,description:l,rubric_instructions:t});await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(a,"update annotation queue",!0),a})}async deleteAnnotationQueue(n){await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(o,"delete annotation queue",!0),o})}async addRunsToAnnotationQueue(n,o){const i=JSON.stringify(o.map((l,t)=>at(l,`runIds[${t}]`).toString()));await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Qe(l,"add runs to annotation queue",!0),l})}async getRunFromAnnotationQueue(n,o){const i=`/annotation-queues/${at(n,"queueId")}/run`;return(await this.caller.call(async()=>{const t=await this._fetch(`${this.apiUrl}${i}/${o}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(t,"get run from annotation queue"),t})).json()}async deleteRunFromAnnotationQueue(n,o){await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}/runs/${at(o,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,"delete run from annotation queue",!0),i})}async getSizeFromAnnotationQueue(n){return(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${at(n,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(i,"get size from annotation queue"),i})).json()}async _currentTenantIsOwner(n){const o=await this._getSettings();return n=="-"||o.tenant_handle===n}async _ownerConflictError(n,o){const i=await this._getSettings();return new Error(`Cannot ${n} for another tenant.

      Current tenant: ${i.tenant_handle}

      Requested tenant: ${o}`)}async _getLatestCommitHash(n){const i=await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/commits/${n}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(l,"get latest commit hash"),l})).json();if(i.commits.length!==0)return i.commits[0].commit_hash}async _likeOrUnlikePrompt(n,o){const[i,l,t]=Bc(n),r=JSON.stringify({like:o});return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/likes/${i}/${l}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,`${o?"like":"unlike"} prompt`),s})).json()}async _getPromptUrl(n){const[o,i,l]=Bc(n);if(await this._currentTenantIsOwner(o)){const t=await this._getSettings();return l!=="latest"?`${this.getHostUrl()}/prompts/${i}/${l.substring(0,8)}?organizationId=${t.id}`:`${this.getHostUrl()}/prompts/${i}?organizationId=${t.id}`}else return l!=="latest"?`${this.getHostUrl()}/hub/${o}/${i}/${l.substring(0,8)}`:`${this.getHostUrl()}/hub/${o}/${i}`}async promptExists(n){return!!await this.getPrompt(n)}async likePrompt(n){return this._likeOrUnlikePrompt(n,!0)}async unlikePrompt(n){return this._likeOrUnlikePrompt(n,!1)}async*listCommits(n){for await(const o of this._getPaginated(`/commits/${n}/`,new URLSearchParams,i=>i.commits))yield*o}async*listPrompts(n){const o=new URLSearchParams;o.append("sort_field",n?.sortField??"updated_at"),o.append("sort_direction","desc"),o.append("is_archived",(!!n?.isArchived).toString()),n?.isPublic!==void 0&&o.append("is_public",n.isPublic.toString()),n?.query&&o.append("query",n.query);for await(const i of this._getPaginated("/repos",o,l=>l.repos))yield*i}async getPrompt(n){const[o,i,l]=Bc(n),r=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/repos/${o}/${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return a?.status===404?null:(await Qe(a,"get prompt"),a)}))?.json();return r?.repo?r.repo:null}async createPrompt(n,o){const i=await this._getSettings();if(o?.isPublic&&!i.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[l,t,r]=Bc(n);if(!await this._currentTenantIsOwner(l))throw await this._ownerConflictError("create a prompt",l);const a={repo_handle:t,...o?.description&&{description:o.description},...o?.readme&&{readme:o.readme},...o?.tags&&{tags:o.tags},is_public:!!o?.isPublic},s=JSON.stringify(a),u=await this.caller.call(async()=>{const g=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Qe(g,"create prompt"),g}),{repo:f}=await u.json();return f}async createCommit(n,o,i){if(!await this.promptExists(n))throw new Error("Prompt does not exist, you must create it first.");const[l,t,r]=Bc(n),a=i?.parentCommitHash==="latest"||!i?.parentCommitHash?await this._getLatestCommitHash(`${l}/${t}`):i?.parentCommitHash,s={manifest:JSON.parse(JSON.stringify(o)),parent_commit:a},u=JSON.stringify(s),g=await(await this.caller.call(async()=>{const b=await this._fetch(`${this.apiUrl}/commits/${l}/${t}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Qe(b,"create commit"),b})).json();return this._getPromptUrl(`${l}/${t}${g.commit_hash?`:${g.commit_hash}`:""}`)}async updateExamplesMultipart(n,o=[]){return this._updateExamplesMultipart(n,o)}async _updateExamplesMultipart(n,o=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const i=new FormData;for(const r of o){const a=r.id,s={...r.metadata&&{metadata:r.metadata},...r.split&&{split:r.split}},u=mn(s,`Serializing body for example with id: ${a}`),f=new Blob([u],{type:"application/json"});if(i.append(a,f),r.inputs){const g=mn(r.inputs,`Serializing inputs for example with id: ${a}`),b=new Blob([g],{type:"application/json"});i.append(`${a}.inputs`,b)}if(r.outputs){const g=mn(r.outputs,`Serializing outputs whle updating example with id: ${a}`),b=new Blob([g],{type:"application/json"});i.append(`${a}.outputs`,b)}if(r.attachments)for(const[g,b]of Object.entries(r.attachments)){let _,p;Array.isArray(b)?[_,p]=b:(_=b.mimeType,p=b.data);const y=new Blob([p],{type:`${_}; length=${p.byteLength}`});i.append(`${a}.attachment.${g}`,y)}if(r.attachments_operations){const g=mn(r.attachments_operations,`Serializing attachments while updating example with id: ${a}`),b=new Blob([g],{type:"application/json"});i.append(`${a}.attachments_operations`,b)}}const l=n??o[0]?.dataset_id;return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${l}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Qe(r,"update examples"),r})).json()}async uploadExamplesMultipart(n,o=[]){return this._uploadExamplesMultipart(n,o)}async _uploadExamplesMultipart(n,o=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const i=new FormData;for(const t of o){const r=(t.id??Gc()).toString(),a={created_at:t.created_at,...t.metadata&&{metadata:t.metadata},...t.split&&{split:t.split},...t.source_run_id&&{source_run_id:t.source_run_id},...t.use_source_run_io&&{use_source_run_io:t.use_source_run_io},...t.use_source_run_attachments&&{use_source_run_attachments:t.use_source_run_attachments}},s=mn(a,`Serializing body for uploaded example with id: ${r}`),u=new Blob([s],{type:"application/json"});if(i.append(r,u),t.inputs){const f=mn(t.inputs,`Serializing inputs for uploaded example with id: ${r}`),g=new Blob([f],{type:"application/json"});i.append(`${r}.inputs`,g)}if(t.outputs){const f=mn(t.outputs,`Serializing outputs for uploaded example with id: ${r}`),g=new Blob([f],{type:"application/json"});i.append(`${r}.outputs`,g)}if(t.attachments)for(const[f,g]of Object.entries(t.attachments)){let b,_;Array.isArray(g)?[b,_]=g:(b=g.mimeType,_=g.data);const p=new Blob([_],{type:`${b}; length=${_.byteLength}`});i.append(`${r}.attachment.${f}`,p)}}return(await this.caller.call(async()=>{const t=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${n}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Qe(t,"upload examples"),t})).json()}async updatePrompt(n,o){if(!await this.promptExists(n))throw new Error("Prompt does not exist, you must create it first.");const[i,l]=Bc(n);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("update a prompt",i);const t={};if(o?.description!==void 0&&(t.description=o.description),o?.readme!==void 0&&(t.readme=o.readme),o?.tags!==void 0&&(t.tags=o.tags),o?.isPublic!==void 0&&(t.is_public=o.isPublic),o?.isArchived!==void 0&&(t.is_archived=o.isArchived),Object.keys(t).length===0)throw new Error("No valid update options provided");const r=JSON.stringify(t);return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/repos/${i}/${l}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Qe(s,"update prompt"),s})).json()}async deletePrompt(n){if(!await this.promptExists(n))throw new Error("Prompt does not exist, you must create it first.");const[o,i,l]=Bc(n);if(!await this._currentTenantIsOwner(o))throw await this._ownerConflictError("delete a prompt",o);return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/repos/${o}/${i}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(r,"delete prompt"),r})).json()}async pullPromptCommit(n,o){const[i,l,t]=Bc(n),a=await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/commits/${i}/${l}/${t}${o?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Qe(s,"pull prompt commit"),s})).json();return{owner:i,repo:l,commit_hash:a.commit_hash,manifest:a.manifest,examples:a.examples}}async _pullPrompt(n,o){const i=await this.pullPromptCommit(n,{includeModel:o?.includeModel});return JSON.stringify(i.manifest)}async pushPrompt(n,o){return await this.promptExists(n)?o&&Object.keys(o).some(l=>l!=="object")&&await this.updatePrompt(n,{description:o?.description,readme:o?.readme,tags:o?.tags,isPublic:o?.isPublic}):await this.createPrompt(n,{description:o?.description,readme:o?.readme,tags:o?.tags,isPublic:o?.isPublic}),o?.object?await this.createCommit(n,o?.object,{parentCommitHash:o?.parentCommitHash}):await this._getPromptUrl(n)}async clonePublicDataset(n,o={}){const{sourceApiUrl:i=this.apiUrl,datasetName:l}=o,[t,r]=this.parseTokenOrUrl(n,i),a=new s1({apiUrl:t,apiKey:"placeholder"}),s=await a.readSharedDataset(r),u=l||s.name;try{if(await this.hasDataset({datasetId:u})){console.log(`Dataset ${u} already exists in your tenant. Skipping.`);return}}catch{}const f=await a.listSharedExamples(r),g=await this.createDataset(u,{description:s.description,dataType:s.data_type||"kv",inputsSchema:s.inputs_schema_definition??void 0,outputsSchema:s.outputs_schema_definition??void 0});try{await this.createExamples({inputs:f.map(b=>b.inputs),outputs:f.flatMap(b=>b.outputs?[b.outputs]:[]),datasetId:g.id})}catch(b){throw console.error(`An error occurred while creating dataset ${u}. You should delete it manually.`),b}}parseTokenOrUrl(n,o,i=2,l="dataset"){try{return at(n),[o,n]}catch{}try{const r=new URL(n).pathname.split("/").filter(a=>a!=="");if(r.length>=i){const a=r[r.length-i];return[o,a]}else throw new Error(`Invalid public ${l} URL: ${n}`)}catch{throw new Error(`Invalid public ${l} URL or token: ${n}`)}}async awaitPendingTraceBatches(){if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await new Promise(n=>setTimeout(n,1)),await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:n})=>n),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await fie()?.DEFAULT_LANGSMITH_SPAN_PROCESSOR?.forceFlush()}};function Mz(e){return"dataset_id"in e||"dataset_name"in e}const woe=e=>!!["TRACING_V2","TRACING"].find(o=>Kr(o)==="true"),Jc=Symbol.for("lc:context_variables"),VO=Symbol.for("langsmith:replica_trace_roots");function Pz(e,n){if(Jc in e)return e[Jc][n]}function Soe(e,n,o){const i=Jc in e?e[Jc]:{};i[n]=o,e[Jc]=i}const Pg="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function Az(e){const o=Object.keys(e).sort().map(i=>`${i}:${e[i]??""}`).join("|");return Mg(o,Pg)}function Ooe(e){return e.replace(/[-:.]/g,"")}function dH(e,n=1){const o=n.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${o}Z`}function fH(e,n,o=1){const i=dH(e,o);return{dottedOrder:Ooe(i)+n,microsecondPrecisionDatestring:i}}class Sb{constructor(n,o,i,l){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=n,this.tags=o,this.project_name=i,this.replicas=l}static fromHeader(n){const o=n.split(",");let i={},l=[],t,r;for(const a of o){const[s,u]=a.split("="),f=decodeURIComponent(u);s==="langsmith-metadata"?i=JSON.parse(f):s==="langsmith-tags"?l=f.split(","):s==="langsmith-project"?t=f:s==="langsmith-replicas"&&(r=JSON.parse(f))}return new Sb(i,l,t,r)}toHeader(){const n=[];return this.metadata&&Object.keys(this.metadata).length>0&&n.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&n.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&n.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),n.join(",")}}class Hr{constructor(n){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Eoe(n)){Object.assign(this,{...n});return}const o=Hr.getDefaultConfig(),{metadata:i,...l}=n,t=l.client??Hr.getSharedClient(),r={...i,...l?.extra?.metadata};if(l.extra={...l.extra,metadata:r},"id"in l&&l.id==null&&delete l.id,Object.assign(this,{...o,...l,client:t}),this.execution_order??=1,this.child_execution_order??=1,this.dotted_order||(this._serialized_start_time=dH(this.start_time,this.execution_order)),this.id||(this.id=Qae(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=Coe(this.replicas),!this.dotted_order){const{dottedOrder:a}=fH(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+a:this.dotted_order=a}}set metadata(n){this.extra={...this.extra,metadata:{...this.extra?.metadata,...n}}}get metadata(){return this.extra?.metadata}static getDefaultConfig(){const n=Date.now();return{run_type:"chain",project_name:YG(),child_runs:[],api_url:Ru("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:Ru("LANGCHAIN_API_KEY"),caller_options:{},start_time:n,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return Hr.sharedClient||(Hr.sharedClient=new cH),Hr.sharedClient}createChild(n){const o=this.child_execution_order+1,i=this.replicas?.map(f=>{const{reroot:g,...b}=f;return b}),l=n.replicas??i,t=new Hr({...n,parent_run:this,project_name:this.project_name,replicas:l,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:o,child_execution_order:o});Jc in this&&(t[Jc]=this[Jc]);const r=Symbol.for("lc:child_config"),a=n.extra?.[r]??this.extra[r];if(joe(a)){const f={...a},g=Roe(f.callbacks)?f.callbacks.copy?.():void 0;g&&(Object.assign(g,{_parentRunId:t.id}),g.handlers?.find(hH)?.updateFromRunTree?.(t),f.callbacks=g),t.extra[r]=f}const s=new Set;let u=this;for(;u!=null&&!s.has(u.id);)s.add(u.id),u.child_execution_order=Math.max(u.child_execution_order,o),u=u.parent_run;return this.child_runs.push(t),t}async end(n,o,i=Date.now(),l){this.outputs=this.outputs??n,this.error=this.error??o,this.end_time=this.end_time??i,l&&Object.keys(l).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...l}}:{metadata:l})}_convertToCreate(n,o,i=!0){const l=n.extra??{};if(l?.runtime?.library===void 0&&(l.runtime||(l.runtime={}),o))for(const[a,s]of Object.entries(o))l.runtime[a]||(l.runtime[a]=s);let t,r;return i?(r=n.parent_run?.id??n.parent_run_id,t=[]):(t=n.child_runs.map(a=>this._convertToCreate(a,o,i)),r=void 0),{id:n.id,name:n.name,start_time:n._serialized_start_time??n.start_time,end_time:n.end_time,run_type:n.run_type,reference_example_id:n.reference_example_id,extra:l,serialized:n.serialized,error:n.error,inputs:n.inputs,outputs:n.outputs,session_name:n.project_name,child_runs:t,parent_run_id:r,trace_id:n.trace_id,dotted_order:n.dotted_order,tags:n.tags,attachments:n.attachments,events:n.events}}_sliceParentId(n,o){if(o.dotted_order){const i=o.dotted_order.split(".");let l=null;for(let t=0;t<i.length;t++)if(i[t].slice(-36)===n){l=t;break}if(l!==null){const t=i.slice(l+1);o.dotted_order=t.join("."),t.length>0?o.trace_id=t[0].slice(-36):o.trace_id=o.id}}o.parent_run_id===n&&(o.parent_run_id=void 0)}_setReplicaTraceRoot(n,o){const i=Pz(this,VO)??{};i[n]=o,Soe(this,VO,i);for(const l of this.child_runs)l._setReplicaTraceRoot(n,o)}_remapForProject(n){const{projectName:o,runtimeEnv:i,excludeChildRuns:l=!0,reroot:t=!1,distributedParentId:r,apiUrl:a,apiKey:s,workspaceId:u}=n,f=this._convertToCreate(this,i,l);if(o===this.project_name)return{...f,session_name:o};if(t){if(r)this._sliceParentId(r,f);else if(f.parent_run_id=void 0,f.dotted_order){const j=f.dotted_order.split(".");j.length>0&&(f.dotted_order=j[j.length-1],f.trace_id=f.id)}const E=Az({projectName:o,apiUrl:a,apiKey:s,workspaceId:u});this._setReplicaTraceRoot(E,f.id)}let g;if(!t){const E=Pz(this,VO)??{},j=Az({projectName:o,apiUrl:a,apiKey:s,workspaceId:u});if(g=E[j],g&&(f.trace_id=g,f.dotted_order)){const x=f.dotted_order.split(".");let A=null;for(let M=0;M<x.length;M++)if(x[M].slice(-36)===g){A=M;break}if(A!==null){const M=x.slice(A);f.dotted_order=M.join(".")}}}const b=f.id,_=Mg(`${b}:${o}`,Pg);let p;f.trace_id?p=Mg(`${f.trace_id}:${o}`,Pg):p=_;let y;f.parent_run_id&&(y=Mg(`${f.parent_run_id}:${o}`,Pg));let v;return f.dotted_order&&(v=f.dotted_order.split(".").map(x=>{const A=x.slice(-36),M=Mg(`${A}:${o}`,Pg);return x.slice(0,-36)+M}).join(".")),{...f,id:_,trace_id:p,parent_run_id:y,dotted_order:v,session_name:o}}async postRun(n=!0){try{const o=XG();if(this.replicas&&this.replicas.length>0)for(const{projectName:i,apiKey:l,apiUrl:t,workspaceId:r,reroot:a}of this.replicas){const s=this._remapForProject({projectName:i??this.project_name,runtimeEnv:o,excludeChildRuns:!0,reroot:a,distributedParentId:this.distributedParentId,apiUrl:t,apiKey:l,workspaceId:r});await this.client.createRun(s,{apiKey:l,apiUrl:t,workspaceId:r})}else{const i=this._convertToCreate(this,o,n);await this.client.createRun(i)}if(!n){WG("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const i of this.child_runs)await i.postRun(!1)}this.child_runs=[]}catch(o){console.error(`Error in postRun for run ${this.id}:`,o)}}async patchRun(n){if(this.replicas&&this.replicas.length>0)for(const{projectName:o,apiKey:i,apiUrl:l,workspaceId:t,updates:r,reroot:a}of this.replicas){const s=this._remapForProject({projectName:o??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:a,distributedParentId:this.distributedParentId,apiUrl:l,apiKey:i,workspaceId:t}),u={id:s.id,name:s.name,run_type:s.run_type,start_time:s.start_time,outputs:s.outputs,error:s.error,parent_run_id:s.parent_run_id,session_name:s.session_name,reference_example_id:s.reference_example_id,end_time:s.end_time,dotted_order:s.dotted_order,trace_id:s.trace_id,events:s.events,tags:s.tags,extra:s.extra,attachments:this.attachments,...r};n?.excludeInputs||(u.inputs=s.inputs),await this.client.updateRun(s.id,u,{apiKey:i,apiUrl:l,workspaceId:t})}else try{const o={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:this.parent_run?.id??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};n?.excludeInputs||(o.inputs=this.inputs),await this.client.updateRun(this.id,o)}catch(o){console.error(`Error in patchRun for run ${this.id}`,o)}this.child_runs=[]}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(n){this.events||(this.events=[]),typeof n=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:n}):this.events.push({...n,time:n.time??new Date().toISOString()})}static fromRunnableConfig(n,o){const i=n?.callbacks;let l,t,r,a=woe();if(i){const u=i?.getParentRunId?.()??"",f=i?.handlers?.find(g=>g?.name=="langchain_tracer");l=f?.getRun?.(u),t=f?.projectName,r=f?.client,a=a||!!f}return l?new Hr({name:l.name,id:l.id,trace_id:l.trace_id,dotted_order:l.dotted_order,client:r,tracingEnabled:a,project_name:t,tags:[...new Set((l?.tags??[]).concat(n?.tags??[]))],extra:{metadata:{...l?.extra?.metadata,...n?.metadata}}}).createChild(o):new Hr({...o,client:r,tracingEnabled:a,project_name:t})}static fromDottedOrder(n){return this.fromHeaders({"langsmith-trace":n})}static fromHeaders(n,o){const i="get"in n&&typeof n.get=="function"?{"langsmith-trace":n.get("langsmith-trace"),baggage:n.get("baggage")}:n,l=i["langsmith-trace"];if(!l||typeof l!="string")return;const t=l.trim(),r=t.split(".").map(f=>{const[g,b]=f.split("Z");return{strTime:g,time:Date.parse(g+"Z"),uuid:b}}),a=r[0].uuid,s={...o,name:o?.name??"parent",run_type:o?.run_type??"chain",start_time:o?.start_time??Date.now(),id:r.at(-1)?.uuid,trace_id:a,dotted_order:t};if(i.baggage&&typeof i.baggage=="string"){const f=Sb.fromHeader(i.baggage);s.metadata=f.metadata,s.tags=f.tags,s.project_name=f.project_name,s.replicas=f.replicas}const u=new Hr(s);return u.distributedParentId=u.id,u}toHeaders(n){const o={"langsmith-trace":this.dotted_order,baggage:new Sb(this.extra?.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(n)for(const[i,l]of Object.entries(o))n.set(i,l);return o}}Object.defineProperty(Hr,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function Eoe(e){return e!=null&&typeof e.createChild=="function"&&typeof e.postRun=="function"}function hH(e){return typeof e=="object"&&e!=null&&typeof e.name=="string"&&e.name==="langchain_tracer"}function Nz(e){return Array.isArray(e)&&e.some(n=>hH(n))}function Roe(e){return typeof e=="object"&&e!=null&&Array.isArray(e.handlers)}function joe(e){const n=e?.callbacks;return e!=null&&typeof n=="object"&&(Nz(n?.handlers)||Nz(n))}function xoe(){const e=Ru("LANGSMITH_RUNS_ENDPOINTS");if(!e)return[];try{const n=JSON.parse(e);if(Array.isArray(n)){const o=[];for(const i of n){if(typeof i!="object"||i===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof i}`);continue}if(typeof i.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof i.api_url}`);continue}if(typeof i.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof i.api_key}`);continue}o.push({apiUrl:i.api_url.replace(/\/$/,""),apiKey:i.api_key})}return o}else if(typeof n=="object"&&n!==null){Toe(n);const o=[];for(const[i,l]of Object.entries(n)){const t=i.replace(/\/$/,"");if(typeof l=="string")o.push({apiUrl:t,apiKey:l});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${i}: expected string, got ${typeof l}`);continue}}return o}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof n}`),[]}catch(n){if(soe(n))throw n;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function Coe(e){return e?e.map(n=>Array.isArray(n)?{projectName:n[0],updates:n[1]}:n):xoe()}function Toe(e){if(Object.keys(e).length>0&&Kr("ENDPOINT"))throw new ooe}var Moe={};dt(Moe,{BaseTracer:()=>pp,isBaseTracer:()=>Kh});const Poe=e=>{if(e)return e.events=e.events??[],e.child_runs=e.child_runs??[],e};function l1(e,n){if(e)return new Hr({...e,start_time:e._serialized_start_time??e.start_time,parent_run:l1(n),child_runs:e.child_runs.map(o=>l1(o)).filter(o=>o!==void 0),extra:{...e.extra,runtime:GG()},tracingEnabled:!1})}function GO(e,n){return e&&!Array.isArray(e)&&typeof e=="object"?e:{[n]:e}}function Kh(e){return typeof e._addRunToRunMap=="function"}var pp=class extends p_{runMap=new Map;runTreeMap=new Map;usesRunTreeMap=!1;constructor(e){super(...arguments)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?Poe(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const{dottedOrder:n,microsecondPrecisionDatestring:o}=fH(new Date(e.start_time).getTime(),e.id,e.execution_order),i={...e},l=this.getRunById(i.parent_run_id);if(i.parent_run_id!==void 0?l?(this._addChildRun(l,i),l.child_execution_order=Math.max(l.child_execution_order,i.child_execution_order),i.trace_id=l.trace_id,l.dotted_order!==void 0&&(i.dotted_order=[l.dotted_order,n].join("."),i._serialized_start_time=o)):i.parent_run_id=void 0:(i.trace_id=i.id,i.dotted_order=n,i._serialized_start_time=o),this.usesRunTreeMap){const t=l1(i,l);t!==void 0&&this.runTreeMap.set(i.id,t)}else this.runMap.set(i.id,i);return i}async _endTrace(e){const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await this.onRunUpdate?.(e),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,o,i,l,t,r,a){const s=this._getExecutionOrder(i),u=Date.now(),f=r?{...l,metadata:r}:l,g={id:o,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{prompts:n},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:f??{},tags:t||[]};return this._addRunToRunMap(g)}async handleLLMStart(e,n,o,i,l,t,r,a){const s=this.getRunById(o)??this._createRunForLLMStart(e,n,o,i,l,t,r,a);return await this.onRunCreate?.(s),await this.onLLMStart?.(s),s}_createRunForChatModelStart(e,n,o,i,l,t,r,a){const s=this._getExecutionOrder(i),u=Date.now(),f=r?{...l,metadata:r}:l,g={id:o,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{messages:n},execution_order:s,child_runs:[],child_execution_order:s,run_type:"llm",extra:f??{},tags:t||[]};return this._addRunToRunMap(g)}async handleChatModelStart(e,n,o,i,l,t,r,a){const s=this.getRunById(o)??this._createRunForChatModelStart(e,n,o,i,l,t,r,a);return await this.onRunCreate?.(s),await this.onLLMStart?.(s),s}async handleLLMEnd(e,n,o,i,l){const t=this.getRunById(n);if(!t||t?.run_type!=="llm")throw new Error("No LLM run to end.");return t.end_time=Date.now(),t.outputs=e,t.events.push({name:"end",time:new Date(t.end_time).toISOString()}),t.extra={...t.extra,...l},await this.onLLMEnd?.(t),await this._endTrace(t),t}async handleLLMError(e,n,o,i,l){const t=this.getRunById(n);if(!t||t?.run_type!=="llm")throw new Error("No LLM run to end.");return t.end_time=Date.now(),t.error=this.stringifyError(e),t.events.push({name:"error",time:new Date(t.end_time).toISOString()}),t.extra={...t.extra,...l},await this.onLLMError?.(t),await this._endTrace(t),t}_createRunForChainStart(e,n,o,i,l,t,r,a,s){const u=this._getExecutionOrder(i),f=Date.now(),g={id:o,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:f,serialized:e,events:[{name:"start",time:new Date(f).toISOString()}],inputs:n,execution_order:u,child_execution_order:u,run_type:r??"chain",child_runs:[],extra:t?{...s,metadata:t}:{...s},tags:l||[]};return this._addRunToRunMap(g)}async handleChainStart(e,n,o,i,l,t,r,a){const s=this.getRunById(o)??this._createRunForChainStart(e,n,o,i,l,t,r,a);return await this.onRunCreate?.(s),await this.onChainStart?.(s),s}async handleChainEnd(e,n,o,i,l){const t=this.getRunById(n);if(!t)throw new Error("No chain run to end.");return t.end_time=Date.now(),t.outputs=GO(e,"output"),t.events.push({name:"end",time:new Date(t.end_time).toISOString()}),l?.inputs!==void 0&&(t.inputs=GO(l.inputs,"input")),await this.onChainEnd?.(t),await this._endTrace(t),t}async handleChainError(e,n,o,i,l){const t=this.getRunById(n);if(!t)throw new Error("No chain run to end.");return t.end_time=Date.now(),t.error=this.stringifyError(e),t.events.push({name:"error",time:new Date(t.end_time).toISOString()}),l?.inputs!==void 0&&(t.inputs=GO(l.inputs,"input")),await this.onChainError?.(t),await this._endTrace(t),t}_createRunForToolStart(e,n,o,i,l,t,r){const a=this._getExecutionOrder(i),s=Date.now(),u={id:o,name:r??e.id[e.id.length-1],parent_run_id:i,start_time:s,serialized:e,events:[{name:"start",time:new Date(s).toISOString()}],inputs:{input:n},execution_order:a,child_execution_order:a,run_type:"tool",child_runs:[],extra:t?{metadata:t}:{},tags:l||[]};return this._addRunToRunMap(u)}async handleToolStart(e,n,o,i,l,t,r){const a=this.getRunById(o)??this._createRunForToolStart(e,n,o,i,l,t,r);return await this.onRunCreate?.(a),await this.onToolStart?.(a),a}async handleToolEnd(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="tool")throw new Error("No tool run to end");return o.end_time=Date.now(),o.outputs={output:e},o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),await this.onToolEnd?.(o),await this._endTrace(o),o}async handleToolError(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="tool")throw new Error("No tool run to end");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),await this.onToolError?.(o),await this._endTrace(o),o}async handleAgentAction(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="chain")return;const i=o;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentAction?.(o)}async handleAgentEnd(e,n){const o=this.getRunById(n);!o||o?.run_type!=="chain"||(o.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentEnd?.(o))}_createRunForRetrieverStart(e,n,o,i,l,t,r){const a=this._getExecutionOrder(i),s=Date.now(),u={id:o,name:r??e.id[e.id.length-1],parent_run_id:i,start_time:s,serialized:e,events:[{name:"start",time:new Date(s).toISOString()}],inputs:{query:n},execution_order:a,child_execution_order:a,run_type:"retriever",child_runs:[],extra:t?{metadata:t}:{},tags:l||[]};return this._addRunToRunMap(u)}async handleRetrieverStart(e,n,o,i,l,t,r){const a=this.getRunById(o)??this._createRunForRetrieverStart(e,n,o,i,l,t,r);return await this.onRunCreate?.(a),await this.onRetrieverStart?.(a),a}async handleRetrieverEnd(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="retriever")throw new Error("No retriever run to end");return o.end_time=Date.now(),o.outputs={documents:e},o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),await this.onRetrieverEnd?.(o),await this._endTrace(o),o}async handleRetrieverError(e,n){const o=this.getRunById(n);if(!o||o?.run_type!=="retriever")throw new Error("No retriever run to end");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),await this.onRetrieverError?.(o),await this._endTrace(o),o}async handleText(e,n){const o=this.getRunById(n);!o||o?.run_type!=="chain"||(o.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await this.onText?.(o))}async handleLLMNewToken(e,n,o,i,l,t){const r=this.getRunById(o);if(!r||r?.run_type!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return r.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:t?.chunk}}),await this.onLLMNewToken?.(r,e,{chunk:t?.chunk}),r}},Zv={exports:{}};Zv.exports;var Dz;function Aoe(){return Dz||(Dz=1,(function(e){const o=(t=0)=>r=>`\x1B[${38+t};5;${r}m`,i=(t=0)=>(r,a,s)=>`\x1B[${38+t};2;${r};${a};${s}m`;function l(){const t=new Map,r={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};r.color.gray=r.color.blackBright,r.bgColor.bgGray=r.bgColor.bgBlackBright,r.color.grey=r.color.blackBright,r.bgColor.bgGrey=r.bgColor.bgBlackBright;for(const[a,s]of Object.entries(r)){for(const[u,f]of Object.entries(s))r[u]={open:`\x1B[${f[0]}m`,close:`\x1B[${f[1]}m`},s[u]=r[u],t.set(f[0],f[1]);Object.defineProperty(r,a,{value:s,enumerable:!1})}return Object.defineProperty(r,"codes",{value:t,enumerable:!1}),r.color.close="\x1B[39m",r.bgColor.close="\x1B[49m",r.color.ansi256=o(),r.color.ansi16m=i(),r.bgColor.ansi256=o(10),r.bgColor.ansi16m=i(10),Object.defineProperties(r,{rgbToAnsi256:{value:(a,s,u)=>a===s&&s===u?a<8?16:a>248?231:Math.round((a-8)/247*24)+232:16+36*Math.round(a/255*5)+6*Math.round(s/255*5)+Math.round(u/255*5),enumerable:!1},hexToRgb:{value:a=>{const s=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(a.toString(16));if(!s)return[0,0,0];let{colorString:u}=s.groups;u.length===3&&(u=u.split("").map(g=>g+g).join(""));const f=Number.parseInt(u,16);return[f>>16&255,f>>8&255,f&255]},enumerable:!1},hexToAnsi256:{value:a=>r.rgbToAnsi256(...r.hexToRgb(a)),enumerable:!1}}),r}Object.defineProperty(e,"exports",{enumerable:!0,get:l})})(Zv)),Zv.exports}var Noe=Aoe();const pH=s_(Noe);var Doe={};dt(Doe,{ConsoleCallbackHandler:()=>u1});function Pr(e,n){return`${e.open}${n}${e.close}`}function In(e,n){try{return JSON.stringify(e,null,2)}catch{return n}}function Iz(e){return typeof e=="string"?e.trim():e==null?e:In(e,e.toString())}function qc(e){if(!e.end_time)return"";const n=e.end_time-e.start_time;return n<1e3?`${n}ms`:`${(n/1e3).toFixed(2)}s`}const{color:Vr}=pH;var u1=class extends pp{name="console_callback_handler";persistRun(e){return Promise.resolve()}getParents(e){const n=[];let o=e;for(;o.parent_run_id;){const i=this.runMap.get(o.parent_run_id);if(i)n.push(i),o=i;else break}return n}getBreadcrumbs(e){const o=[...this.getParents(e).reverse(),e].map((i,l,t)=>{const r=`${i.execution_order}:${i.run_type}:${i.name}`;return l===t.length-1?Pr(pH.bold,r):r}).join(" > ");return Pr(Vr.grey,o)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.green,"[chain/start]")} [${n}] Entering Chain run with input: ${In(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.cyan,"[chain/end]")} [${n}] [${qc(e)}] Exiting Chain run with output: ${In(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.red,"[chain/error]")} [${n}] [${qc(e)}] Chain run errored with error: ${In(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),o="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${Pr(Vr.green,"[llm/start]")} [${n}] Entering LLM run with input: ${In(o,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.cyan,"[llm/end]")} [${n}] [${qc(e)}] Exiting LLM run with output: ${In(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.red,"[llm/error]")} [${n}] [${qc(e)}] LLM run errored with error: ${In(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.green,"[tool/start]")} [${n}] Entering Tool run with input: "${Iz(e.inputs.input)}"`)}onToolEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.cyan,"[tool/end]")} [${n}] [${qc(e)}] Exiting Tool run with output: "${Iz(e.outputs?.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.red,"[tool/error]")} [${n}] [${qc(e)}] Tool run errored with error: ${In(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${In(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.cyan,"[retriever/end]")} [${n}] [${qc(e)}] Exiting Retriever run with output: ${In(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${Pr(Vr.red,"[retriever/error]")} [${n}] [${qc(e)}] Retriever run errored with error: ${In(e.error,"[error]")}`)}onAgentAction(e){const n=e,o=this.getBreadcrumbs(e);console.log(`${Pr(Vr.blue,"[agent/action]")} [${o}] Agent selected action: ${In(n.actions[n.actions.length-1],"[action]")}`)}};let HO;const mH=()=>{if(HO===void 0){const e=Ou("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};HO=new cH(e)}return HO};let Ioe=class{getStore(){}run(n,o){return o()}};const KO=Symbol.for("ls:tracing_async_local_storage"),zoe=new Ioe;let Boe=class{getInstance(){return globalThis[KO]??zoe}initializeGlobalInstance(n){globalThis[KO]===void 0&&(globalThis[KO]=n)}};const qoe=new Boe;function Loe(e=!1){const n=qoe.getInstance().getStore();if(!e&&n===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return n}function OT(e){return typeof e=="function"&&"langsmith:traceable"in e}var Uoe={};dt(Uoe,{LangChainTracer:()=>Qv});function $oe(e){let n;for(const o of e)for(const i of o)Or.isInstance(i.message)&&i.message.usage_metadata!==void 0&&(n=dT(n,i.message.usage_metadata));return n}var Qv=class gH extends pp{name="langchain_tracer";projectName;exampleId;client;replicas;usesRunTreeMap=!0;constructor(n={}){super(n);const{exampleId:o,projectName:i,client:l,replicas:t}=n;this.projectName=i??YG(),this.replicas=t,this.exampleId=o,this.client=l??mH();const r=gH.getTraceableRunTree();r&&this.updateFromRunTree(r)}async persistRun(n){}async onRunCreate(n){n.extra?.lc_defers_inputs||await this.getRunTreeWithTracingConfig(n.id)?.postRun()}async onRunUpdate(n){const o=this.getRunTreeWithTracingConfig(n.id);n.extra?.lc_defers_inputs?await o?.postRun():await o?.patchRun()}onLLMEnd(n){const o=n.outputs;if(o?.generations){const i=$oe(o.generations);if(i!==void 0){n.extra=n.extra??{};const l=n.extra.metadata??{};l.usage_metadata=i,n.extra.metadata=l}}}getRun(n){return this.runTreeMap.get(n)}updateFromRunTree(n){this.runTreeMap.set(n.id,n);let o=n;const i=new Set;for(;o.parent_run&&!(i.has(o.id)||(i.add(o.id),!o.parent_run));)o=o.parent_run;i.clear();const l=[o];for(;l.length>0;){const t=l.shift();!t||i.has(t.id)||(i.add(t.id),this.runTreeMap.set(t.id,t),t.child_runs&&l.push(...t.child_runs))}this.client=n.client??this.client,this.replicas=n.replicas??this.replicas,this.projectName=n.project_name??this.projectName,this.exampleId=n.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(n){const o=this.runTreeMap.get(n);if(o)return new Hr({...o,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return Loe(!0)}catch{return}}};const _H=Symbol.for("ls:tracing_async_local_storage"),Ug=Symbol.for("lc:context_variables"),Foe=e=>{globalThis[_H]=e},Jg=()=>globalThis[_H];let qf;function Voe(){const e="default"in Qu?Qu.default:Qu;return new e({autoStart:!0,concurrency:1})}function Goe(){return typeof qf>"u"&&(qf=Voe()),qf}async function ar(e,n){if(n===!0){const o=Jg();o!==void 0?await o.run(void 0,async()=>e()):await e()}else qf=Goe(),qf.add(async()=>{const o=Jg();o!==void 0?await o.run(void 0,async()=>e()):await e()})}async function Hoe(){const e=mH();await Promise.allSettled([typeof qf<"u"?qf.onIdle():Promise.resolve(),e.awaitPendingTraceBatches()])}var Koe={};dt(Koe,{awaitAllCallbacks:()=>Hoe,consumeCallback:()=>ar});const koe=e=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(o=>Ou(o)==="true");function yH(e){const n=Jg();return n===void 0?void 0:n.getStore()?.[Ug]?.[e]}const Yoe=Symbol("lc:configure_hooks"),Woe=()=>yH(Yoe)||[];var Joe={};dt(Joe,{BaseCallbackManager:()=>bH,BaseRunManager:()=>g_,CallbackManager:()=>Yr,CallbackManagerForChainRun:()=>SH,CallbackManagerForLLMRun:()=>c1,CallbackManagerForRetrieverRun:()=>wH,CallbackManagerForToolRun:()=>OH,ensureHandler:()=>Zg,parseCallbackConfigArg:()=>vH});function vH(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}var bH=class{setHandler(e){return this.setHandlers([e])}},g_=class{constructor(e,n,o,i,l,t,r,a){this.runId=e,this.handlers=n,this.inheritableHandlers=o,this.tags=i,this.inheritableTags=l,this.metadata=t,this.inheritableMetadata=r,this._parentRunId=a}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>ar(async()=>{try{await n.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}async handleCustomEvent(e,n,o,i,l){await Promise.all(this.handlers.map(t=>ar(async()=>{try{await t.handleCustomEvent?.(e,n,this.runId,this.tags,this.metadata)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleCustomEvent: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},wH=class extends g_{getChild(e){const n=new Yr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw o}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${o}`),n.raiseError)throw e}},n.awaitHandlers)))}},c1=class extends g_{async handleLLMNewToken(e,n,o,i,l,t){await Promise.all(this.handlers.map(r=>ar(async()=>{if(!r.ignoreLLM)try{await r.handleLLMNewToken?.(e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,t)}catch(a){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleLLMNewToken: ${a}`),r.raiseError)throw a}},r.awaitHandlers)))}async handleLLMError(e,n,o,i,l){await Promise.all(this.handlers.map(t=>ar(async()=>{if(!t.ignoreLLM)try{await t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags,l)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMError: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleLLMEnd(e,n,o,i,l){await Promise.all(this.handlers.map(t=>ar(async()=>{if(!t.ignoreLLM)try{await t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags,l)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},SH=class extends g_{getChild(e){const n=new Yr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,o,i,l){await Promise.all(this.handlers.map(t=>ar(async()=>{if(!t.ignoreChain)try{await t.handleChainError?.(e,this.runId,this._parentRunId,this.tags,l)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainError: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleChainEnd(e,n,o,i,l){await Promise.all(this.handlers.map(t=>ar(async()=>{if(!t.ignoreChain)try{await t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,l)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreAgent)try{await n.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreAgent)try{await n.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}},OH=class extends g_{getChild(e){const n=new Yr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreAgent)try{await n.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>ar(async()=>{if(!n.ignoreAgent)try{await n.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(o){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${o}`),n.raiseError)throw o}},n.awaitHandlers)))}},Yr=class Ag extends bH{handlers=[];inheritableHandlers=[];tags=[];inheritableTags=[];metadata={};inheritableMetadata={};name="callback_manager";_parentRunId;constructor(n,o){super(),this.handlers=o?.handlers??this.handlers,this.inheritableHandlers=o?.inheritableHandlers??this.inheritableHandlers,this.tags=o?.tags??this.tags,this.inheritableTags=o?.inheritableTags??this.inheritableTags,this.metadata=o?.metadata??this.metadata,this.inheritableMetadata=o?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=n}getParentRunId(){return this._parentRunId}async handleLLMStart(n,o,i=void 0,l=void 0,t=void 0,r=void 0,a=void 0,s=void 0){return Promise.all(o.map(async(u,f)=>{const g=f===0&&i?i:Vc();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return Kh(b)&&b._createRunForLLMStart(n,[u],g,this._parentRunId,t,this.tags,this.metadata,s),ar(async()=>{try{await b.handleLLMStart?.(n,[u],g,this._parentRunId,t,this.tags,this.metadata,s)}catch(_){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${_}`),b.raiseError)throw _}},b.awaitHandlers)})),new c1(g,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,o,i=void 0,l=void 0,t=void 0,r=void 0,a=void 0,s=void 0){return Promise.all(o.map(async(u,f)=>{const g=f===0&&i?i:Vc();return await Promise.all(this.handlers.map(b=>{if(!b.ignoreLLM)return Kh(b)&&b._createRunForChatModelStart(n,[u],g,this._parentRunId,t,this.tags,this.metadata,s),ar(async()=>{try{if(b.handleChatModelStart)await b.handleChatModelStart?.(n,[u],g,this._parentRunId,t,this.tags,this.metadata,s);else if(b.handleLLMStart){const _=fT(u);await b.handleLLMStart?.(n,[_],g,this._parentRunId,t,this.tags,this.metadata,s)}}catch(_){if((b.raiseError?console.error:console.warn)(`Error in handler ${b.constructor.name}, handleLLMStart: ${_}`),b.raiseError)throw _}},b.awaitHandlers)})),new c1(g,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,o,i=Vc(),l=void 0,t=void 0,r=void 0,a=void 0,s=void 0,u=void 0){return await Promise.all(this.handlers.map(f=>{if(!f.ignoreChain)return Kh(f)&&f._createRunForChainStart(n,o,i,this._parentRunId,this.tags,this.metadata,l,a,u),ar(async()=>{try{await f.handleChainStart?.(n,o,i,this._parentRunId,this.tags,this.metadata,l,a,u)}catch(g){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleChainStart: ${g}`),f.raiseError)throw g}},f.awaitHandlers)})),new SH(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,o,i=Vc(),l=void 0,t=void 0,r=void 0,a=void 0){return await Promise.all(this.handlers.map(s=>{if(!s.ignoreAgent)return Kh(s)&&s._createRunForToolStart(n,o,i,this._parentRunId,this.tags,this.metadata,a),ar(async()=>{try{await s.handleToolStart?.(n,o,i,this._parentRunId,this.tags,this.metadata,a)}catch(u){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleToolStart: ${u}`),s.raiseError)throw u}},s.awaitHandlers)})),new OH(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,o,i=Vc(),l=void 0,t=void 0,r=void 0,a=void 0){return await Promise.all(this.handlers.map(s=>{if(!s.ignoreRetriever)return Kh(s)&&s._createRunForRetrieverStart(n,o,i,this._parentRunId,this.tags,this.metadata,a),ar(async()=>{try{await s.handleRetrieverStart?.(n,o,i,this._parentRunId,this.tags,this.metadata,a)}catch(u){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleRetrieverStart: ${u}`),s.raiseError)throw u}},s.awaitHandlers)})),new wH(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(n,o,i,l,t){await Promise.all(this.handlers.map(r=>ar(async()=>{if(!r.ignoreCustomEvent)try{await r.handleCustomEvent?.(n,o,i,this.tags,this.metadata)}catch(a){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleCustomEvent: ${a}`),r.raiseError)throw a}},r.awaitHandlers)))}addHandler(n,o=!0){this.handlers.push(n),o&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(o=>o!==n),this.inheritableHandlers=this.inheritableHandlers.filter(o=>o!==n)}setHandlers(n,o=!0){this.handlers=[],this.inheritableHandlers=[];for(const i of n)this.addHandler(i,o)}addTags(n,o=!0){this.removeTags(n),this.tags.push(...n),o&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(o=>!n.includes(o)),this.inheritableTags=this.inheritableTags.filter(o=>!n.includes(o))}addMetadata(n,o=!0){this.metadata={...this.metadata,...n},o&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const o of Object.keys(n))delete this.metadata[o],delete this.inheritableMetadata[o]}copy(n=[],o=!0){const i=new Ag(this._parentRunId);for(const l of this.handlers){const t=this.inheritableHandlers.includes(l);i.addHandler(l,t)}for(const l of this.tags){const t=this.inheritableTags.includes(l);i.addTags([l],t)}for(const l of Object.keys(this.metadata)){const t=Object.keys(this.inheritableMetadata).includes(l);i.addMetadata({[l]:this.metadata[l]},t)}for(const l of n)i.handlers.filter(t=>t.name==="console_callback_handler").some(t=>t.name===l.name)||i.addHandler(l,o);return i}static fromHandlers(n){class o extends p_{name=Vc();constructor(){super(),Object.assign(this,n)}}const i=new this;return i.addHandler(new o),i}static configure(n,o,i,l,t,r,a){return this._configureSync(n,o,i,l,t,r,a)}static _configureSync(n,o,i,l,t,r,a){let s;(n||o)&&(Array.isArray(n)||!n?(s=new Ag,s.setHandlers(n?.map(Zg)??[],!0)):s=n,s=s.copy(Array.isArray(o)?o.map(Zg):o?.handlers,!1));const u=Ou("LANGCHAIN_VERBOSE")==="true"||a?.verbose,f=Qv.getTraceableRunTree()?.tracingEnabled||koe(),g=f||(Ou("LANGCHAIN_TRACING")??!1);if(u||g){if(s||(s=new Ag),u&&!s.handlers.some(b=>b.name===u1.prototype.name)){const b=new u1;s.addHandler(b,!0)}if(g&&!s.handlers.some(b=>b.name==="langchain_tracer")&&f){const b=new Qv;s.addHandler(b,!0)}if(f){const b=Qv.getTraceableRunTree();b&&s._parentRunId===void 0&&(s._parentRunId=b.id,s.handlers.find(p=>p.name==="langchain_tracer")?.updateFromRunTree(b))}}for(const{contextVar:b,inheritable:_=!0,handlerClass:p,envVar:y}of Woe()){const v=y&&Ou(y)==="true"&&p;let E;const j=b!==void 0?yH(b):void 0;j&&KG(j)?E=j:v&&(E=new p({})),E!==void 0&&(s||(s=new Ag),s.handlers.some(x=>x.name===E.name)||s.addHandler(E,_))}return(i||l)&&s&&(s.addTags(i??[]),s.addTags(l??[],!1)),(t||r)&&s&&(s.addMetadata(t??{}),s.addMetadata(r??{},!1)),s}};function Zg(e){return"name"in e?e:p_.fromMethods(e)}var EH=class{getStore(){}run(e,n){return n()}enterWith(e){}};const Zoe=new EH,zz=Symbol.for("lc:child_config");var Qoe=class{getInstance(){return Jg()??Zoe}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[zz]}runWithConfig(e,n,o){const i=Yr._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),l=this.getInstance(),t=l.getStore(),r=i?.getParentRunId(),a=i?.handlers?.find(u=>u?.name==="langchain_tracer");let s;return a&&r?s=a.getRunTreeWithTracingConfig(r):o||(s=new Hr({name:"<runnable_lambda>",tracingEnabled:!1})),s&&(s.extra={...s.extra,[zz]:e}),t!==void 0&&t[Ug]!==void 0&&(s===void 0&&(s={}),s[Ug]=t[Ug]),l.run(s,n)}initializeGlobalInstance(e){Jg()===void 0&&Foe(e)}};const nc=new Qoe;var Xoe={};dt(Xoe,{AsyncLocalStorageProviderSingleton:()=>nc,MockAsyncLocalStorage:()=>EH,_CONTEXT_VARIABLES_KEY:()=>Ug});const kO=25;async function yn(e){return Yr._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}function d1(...e){const n={};for(const o of e.filter(i=>!!i))for(const i of Object.keys(o))if(i==="metadata")n[i]={...n[i],...o[i]};else if(i==="tags"){const l=n[i]??[];n[i]=[...new Set(l.concat(o[i]??[]))]}else if(i==="configurable")n[i]={...n[i],...o[i]};else if(i==="timeout")n.timeout===void 0?n.timeout=o.timeout:o.timeout!==void 0&&(n.timeout=Math.min(n.timeout,o.timeout));else if(i==="signal")n.signal===void 0?n.signal=o.signal:o.signal!==void 0&&("any"in AbortSignal?n.signal=AbortSignal.any([n.signal,o.signal]):n.signal=o.signal);else if(i==="callbacks"){const l=n.callbacks,t=o.callbacks;if(Array.isArray(t))if(!l)n.callbacks=t;else if(Array.isArray(l))n.callbacks=l.concat(t);else{const r=l.copy();for(const a of t)r.addHandler(Zg(a),!0);n.callbacks=r}else if(t)if(!l)n.callbacks=t;else if(Array.isArray(l)){const r=t.copy();for(const a of l)r.addHandler(Zg(a),!0);n.callbacks=r}else n.callbacks=new Yr(t._parentRunId,{handlers:l.handlers.concat(t.handlers),inheritableHandlers:l.inheritableHandlers.concat(t.inheritableHandlers),tags:Array.from(new Set(l.tags.concat(t.tags))),inheritableTags:Array.from(new Set(l.inheritableTags.concat(t.inheritableTags))),metadata:{...l.metadata,...t.metadata}})}else{const l=i;n[l]=o[l]??n[l]}return n}const ese=new Set(["string","number","boolean"]);function Et(e){const n=nc.getRunnableConfig();let o={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(n){const{runId:i,runName:l,...t}=n;o=Object.entries(t).reduce((r,[a,s])=>(s!==void 0&&(r[a]=s),r),o)}if(e&&(o=Object.entries(e).reduce((i,[l,t])=>(t!==void 0&&(i[l]=t),i),o)),o?.configurable)for(const i of Object.keys(o.configurable))ese.has(typeof o.configurable[i])&&!o.metadata?.[i]&&(o.metadata||(o.metadata={}),o.metadata[i]=o.configurable[i]);if(o.timeout!==void 0){if(o.timeout<=0)throw new Error("Timeout must be a positive number");const i=o.timeout,l=AbortSignal.timeout(i);o.metadata||(o.metadata={}),o.metadata.timeoutMs===void 0&&(o.metadata.timeoutMs=i),o.signal!==void 0?"any"in AbortSignal&&(o.signal=AbortSignal.any([o.signal,l])):o.signal=l,delete o.timeout}return o}function Vt(e={},{callbacks:n,maxConcurrency:o,recursionLimit:i,runName:l,configurable:t,runId:r}={}){const a=Et(e);return n!==void 0&&(delete a.runName,a.callbacks=n),i!==void 0&&(a.recursionLimit=i),o!==void 0&&(a.maxConcurrency=o),l!==void 0&&(a.runName=l),t!==void 0&&(a.configurable={...a.configurable,...t}),r!==void 0&&delete a.runId,a}function Gf(e){if(e)return{configurable:e.configurable,recursionLimit:e.recursionLimit,callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,maxConcurrency:e.maxConcurrency,timeout:e.timeout,signal:e.signal,store:e.store}}async function ac(e,n){if(n===void 0)return e;let o;return Promise.race([e.catch(i=>{if(!n?.aborted)throw i}),new Promise((i,l)=>{o=()=>{l(Ob(n))},n.addEventListener("abort",o),n.aborted&&l(Ob(n))})]).finally(()=>n.removeEventListener("abort",o))}function Ob(e){return e?.reason instanceof Error?e.reason:typeof e?.reason=="string"?new Error(e.reason):new Error("Aborted")}var tse={};dt(tse,{AsyncGeneratorWithSetup:()=>kf,IterableReadableStream:()=>iu,atee:()=>ET,concat:()=>ad,pipeGeneratorWithSetup:()=>RH});var iu=class f1 extends ReadableStream{reader;ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:n.value}}catch(n){throw this.reader.releaseLock(),n}}async return(){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}return{done:!0,value:void 0}}async throw(n){if(this.ensureReader(),this.locked){const o=this.reader.cancel();this.reader.releaseLock(),await o}throw n}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(n){const o=n.getReader();return new f1({start(i){return l();function l(){return o.read().then(({done:t,value:r})=>{if(t){i.close();return}return i.enqueue(r),l()})}},cancel(){o.releaseLock()}})}static fromAsyncGenerator(n){return new f1({async pull(o){const{value:i,done:l}=await n.next();l&&o.close(),o.enqueue(i)},async cancel(o){await n.return(o)}})}};function ET(e,n=2){const o=Array.from({length:n},()=>[]);return o.map(async function*(l){for(;;)if(l.length===0){const t=await e.next();for(const r of o)r.push(t)}else{if(l[0].done)return;yield l.shift().value}})}function ad(e,n){if(Array.isArray(e)&&Array.isArray(n))return e.concat(n);if(typeof e=="string"&&typeof n=="string")return e+n;if(typeof e=="number"&&typeof n=="number")return e+n;if("concat"in e&&typeof e.concat=="function")return e.concat(n);if(typeof e=="object"&&typeof n=="object"){const o={...e};for(const[i,l]of Object.entries(n))i in o&&!Array.isArray(o[i])?o[i]=ad(o[i],l):o[i]=l;return o}else throw new Error(`Cannot concat ${typeof e} and ${typeof n}`)}var kf=class{generator;setup;config;signal;firstResult;firstResultUsed=!1;constructor(e){this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise((n,o)=>{nc.runWithConfig(Gf(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(n,o):this.firstResult.then(i=>n(void 0),o)},!0)})}async next(...e){return this.signal?.throwIfAborted(),this.firstResultUsed?nc.runWithConfig(Gf(this.config),this.signal?async()=>ac(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function RH(e,n,o,i,...l){const t=new kf({generator:n,startSetup:o,signal:i}),r=await t.setup;return{output:e(t,r,...l),setup:r}}var rse={};dt(rse,{ChatGenerationChunk:()=>Zc,GenerationChunk:()=>ip,RUN_KEY:()=>Qg});const Qg="__run";var ip=class jH{text;generationInfo;constructor(n){this.text=n.text,this.generationInfo=n.generationInfo}concat(n){return new jH({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo}})}},Zc=class xH extends ip{message;constructor(n){super(n),this.message=n.message}concat(n){return new xH({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo},message:this.message.concat(n.message)})}};const nse=Object.prototype.hasOwnProperty;function h1(e,n){return nse.call(e,n)}function p1(e){if(Array.isArray(e)){const o=new Array(e.length);for(let i=0;i<o.length;i++)o[i]=""+i;return o}if(Object.keys)return Object.keys(e);let n=[];for(let o in e)h1(e,o)&&n.push(o);return n}function tu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function m1(e){let n=0;const o=e.length;let i;for(;n<o;){if(i=e.charCodeAt(n),i>=48&&i<=57){n++;continue}return!1}return!0}function Ih(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function ase(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function g1(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let o=0,i=e.length;o<i;o++)if(g1(e[o]))return!0}else if(typeof e=="object"){const o=p1(e),i=o.length;for(var n=0;n<i;n++)if(g1(e[o[n]]))return!0}}return!1}function Bz(e,n){const o=[e];for(const i in n){const l=typeof n[i]=="object"?JSON.stringify(n[i],null,2):n[i];typeof l<"u"&&o.push(`${i}: ${l}`)}return o.join(`
`)}var ise=class extends Error{constructor(e,n,o,i,l){super(Bz(e,{name:n,index:o,operation:i,tree:l})),this.name=n,this.index=o,this.operation=i,this.tree=l,Object.setPrototypeOf(this,new.target.prototype),this.message=Bz(e,{name:n,index:o,operation:i,tree:l})}},CH={};dt(CH,{JsonPatchError:()=>Yt,_areEquals:()=>Xg,applyOperation:()=>Lf,applyPatch:()=>op,applyReducer:()=>lse,deepClone:()=>ose,getValueByPointer:()=>Eb,validate:()=>TH,validator:()=>Rb});const Yt=ise,ose=tu;function YO(e){return Object.getOwnPropertyNames(Object.prototype).includes(e)}const Jh={add:function(e,n,o){if(YO(n))throw new TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");return e[n]=this.value,{newDocument:o}},remove:function(e,n,o){if(YO(n))throw new TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");var i=e[n];return delete e[n],{newDocument:o,removed:i}},replace:function(e,n,o){if(YO(n))throw new TypeError("JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons");var i=e[n];return e[n]=this.value,{newDocument:o,removed:i}},move:function(e,n,o){let i=Eb(o,this.path);i&&(i=tu(i));const l=Lf(o,{op:"remove",path:this.from}).removed;return Lf(o,{op:"add",path:this.path,value:l}),{newDocument:o,removed:i}},copy:function(e,n,o){const i=Eb(o,this.from);return Lf(o,{op:"add",path:this.path,value:tu(i)}),{newDocument:o}},test:function(e,n,o){return{newDocument:o,test:Xg(e[n],this.value)}},_get:function(e,n,o){return this.value=e[n],{newDocument:o}}};var sse={add:function(e,n,o){return m1(n)?e.splice(n,0,this.value):e[n]=this.value,{newDocument:o,index:n}},remove:function(e,n,o){var i=e.splice(n,1);return{newDocument:o,removed:i[0]}},replace:function(e,n,o){var i=e[n];return e[n]=this.value,{newDocument:o,removed:i}},move:Jh.move,copy:Jh.copy,test:Jh.test,_get:Jh._get};function Eb(e,n){if(n=="")return e;var o={op:"_get",path:n};return Lf(e,o),o.value}function Lf(e,n,o=!1,i=!0,l=!0,t=0){if(o&&(typeof o=="function"?o(n,0,e,n.path):Rb(n,0)),n.path===""){let r={newDocument:e};if(n.op==="add")return r.newDocument=n.value,r;if(n.op==="replace")return r.newDocument=n.value,r.removed=e,r;if(n.op==="move"||n.op==="copy")return r.newDocument=Eb(e,n.from),n.op==="move"&&(r.removed=e),r;if(n.op==="test"){if(r.test=Xg(e,n.value),r.test===!1)throw new Yt("Test operation failed","TEST_OPERATION_FAILED",t,n,e);return r.newDocument=e,r}else{if(n.op==="remove")return r.removed=e,r.newDocument=null,r;if(n.op==="_get")return n.value=e,r;if(o)throw new Yt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,n,e);return r}}else{i||(e=tu(e));const a=(n.path||"").split("/");let s=e,u=1,f=a.length,g,b,_;for(typeof o=="function"?_=o:_=Rb;;){if(b=a[u],b&&b.indexOf("~")!=-1&&(b=ase(b)),l&&(b=="__proto__"||b=="prototype"&&u>0&&a[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(o&&g===void 0&&(s[b]===void 0?g=a.slice(0,u).join("/"):u==f-1&&(g=n.path),g!==void 0&&_(n,0,e,g)),u++,Array.isArray(s)){if(b==="-")b=s.length;else{if(o&&!m1(b))throw new Yt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",t,n,e);m1(b)&&(b=~~b)}if(u>=f){if(o&&n.op==="add"&&b>s.length)throw new Yt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",t,n,e);const p=sse[n.op].call(n,s,b,e);if(p.test===!1)throw new Yt("Test operation failed","TEST_OPERATION_FAILED",t,n,e);return p}}else if(u>=f){const p=Jh[n.op].call(n,s,b,e);if(p.test===!1)throw new Yt("Test operation failed","TEST_OPERATION_FAILED",t,n,e);return p}if(s=s[b],o&&u<f&&(!s||typeof s!="object"))throw new Yt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",t,n,e)}}}function op(e,n,o,i=!0,l=!0){if(o&&!Array.isArray(n))throw new Yt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(e=tu(e));const t=new Array(n.length);for(let r=0,a=n.length;r<a;r++)t[r]=Lf(e,n[r],o,!0,l,r),e=t[r].newDocument;return t.newDocument=e,t}function lse(e,n,o){const i=Lf(e,n);if(i.test===!1)throw new Yt("Test operation failed","TEST_OPERATION_FAILED",o,n,e);return i.newDocument}function Rb(e,n,o,i){if(typeof e!="object"||e===null||Array.isArray(e))throw new Yt("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,e,o);if(Jh[e.op]){if(typeof e.path!="string")throw new Yt("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,e,o);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Yt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",n,e,o);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Yt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,e,o);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Yt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,e,o);if((e.op==="add"||e.op==="replace"||e.op==="test")&&g1(e.value))throw new Yt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,e,o);if(o){if(e.op=="add"){var l=e.path.split("/").length,t=i.split("/").length;if(l!==t+1&&l!==t)throw new Yt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,e,o)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==i)throw new Yt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,e,o)}else if(e.op==="move"||e.op==="copy"){var r={op:"_get",path:e.from,value:void 0},a=TH([r],o);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Yt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,e,o)}}}else throw new Yt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,e,o)}function TH(e,n,o){try{if(!Array.isArray(e))throw new Yt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(n)op(tu(n),tu(e),o||!0);else{o=o||Rb;for(var i=0;i<e.length;i++)o(e[i],i,n,void 0)}}catch(l){if(l instanceof Yt)return l;throw l}}function Xg(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){var o=Array.isArray(e),i=Array.isArray(n),l,t,r;if(o&&i){if(t=e.length,t!=n.length)return!1;for(l=t;l--!==0;)if(!Xg(e[l],n[l]))return!1;return!0}if(o!=i)return!1;var a=Object.keys(e);if(t=a.length,t!==Object.keys(n).length)return!1;for(l=t;l--!==0;)if(!n.hasOwnProperty(a[l]))return!1;for(l=t;l--!==0;)if(r=a[l],!Xg(e[r],n[r]))return!1;return!0}return e!==e&&n!==n}function MH(e,n,o,i,l){if(n!==e){typeof n.toJSON=="function"&&(n=n.toJSON());for(var t=p1(n),r=p1(e),a=!1,s=r.length-1;s>=0;s--){var u=r[s],f=e[u];if(h1(n,u)&&!(n[u]===void 0&&f!==void 0&&Array.isArray(n)===!1)){var g=n[u];typeof f=="object"&&f!=null&&typeof g=="object"&&g!=null&&Array.isArray(f)===Array.isArray(g)?MH(f,g,o,i+"/"+Ih(u),l):f!==g&&(l&&o.push({op:"test",path:i+"/"+Ih(u),value:tu(f)}),o.push({op:"replace",path:i+"/"+Ih(u),value:tu(g)}))}else Array.isArray(e)===Array.isArray(n)?(l&&o.push({op:"test",path:i+"/"+Ih(u),value:tu(f)}),o.push({op:"remove",path:i+"/"+Ih(u)}),a=!0):(l&&o.push({op:"test",path:i,value:e}),o.push({op:"replace",path:i,value:n}))}if(!(!a&&t.length==r.length))for(var s=0;s<t.length;s++){var u=t[s];!h1(e,u)&&n[u]!==void 0&&o.push({op:"add",path:i+"/"+Ih(u),value:tu(n[u])})}}}function RT(e,n,o=!1){var i=[];return MH(e,n,i,"",o),i}({...CH});var use={};dt(use,{LogStreamCallbackHandler:()=>y1,RunLog:()=>jT,RunLogPatch:()=>Wu,isLogStreamHandler:()=>PH});var Wu=class{ops;constructor(e){this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),o=op({},n);return new jT({ops:n,state:o[o.length-1].newDocument})}},jT=class _1 extends Wu{state;constructor(n){super(n),this.state=n.state}concat(n){const o=this.ops.concat(n.ops),i=op(this.state,n.ops);return new _1({ops:o,state:i[i.length-1].newDocument})}static fromRunLogPatch(n){const o=op({},n.ops);return new _1({ops:n.ops,state:o[o.length-1].newDocument})}};const PH=e=>e.name==="log_stream_tracer";async function qz(e,n){if(n==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:o}=e;if(["retriever","llm","prompt"].includes(e.run_type))return o;if(!(Object.keys(o).length===1&&o?.input===""))return o.input}async function Lz(e,n){const{outputs:o}=e;return n==="original"||["retriever","llm","prompt"].includes(e.run_type)?o:o!==void 0&&Object.keys(o).length===1&&o?.output!==void 0?o.output:o}function cse(e){return e!==void 0&&e.message!==void 0}var y1=class extends pp{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;_schemaFormat="original";rootId;keyMapByRunId={};counterMapByRunName={};transformStream;writer;receiveStream;name="log_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=iu.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let o=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(o=o||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(o=o||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(o=o||n.find(i=>this.includeTags?.includes(i))!==void 0),this.excludeNames!==void 0&&(o=o&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(o=o&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(o=o&&n.every(i=>!this.excludeTags?.includes(i))),o}async*tapOutputIterable(e,n){for await(const o of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new Wu({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:o}]}))}yield o}}async onRunCreate(e){if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Wu({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const o={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(o.inputs=await qz(e,this._schemaFormat)),await this.writer.write(new Wu({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:o}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const o=[];this._schemaFormat==="streaming_events"&&o.push({op:"replace",path:`/logs/${n}/inputs`,value:await qz(e,this._schemaFormat)}),o.push({op:"add",path:`/logs/${n}/final_output`,value:await Lz(e,this._schemaFormat)}),e.end_time!==void 0&&o.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Wu({ops:o});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new Wu({ops:[{op:"replace",path:"/final_output",value:await Lz(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,o){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const l=e.inputs.messages!==void 0;let t;l?cse(o?.chunk)?t=o?.chunk:t=new qn({id:`run-${e.id}`,content:n}):t=n;const r=new Wu({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:t}]});await this.writer.write(r)}};function iv({name:e,serialized:n}){return e!==void 0?e:n?.name!==void 0?n.name:n?.id!==void 0&&Array.isArray(n?.id)?n.id[n.id.length-1]:"Unnamed"}const dse=e=>e.name==="event_stream_tracer";var fse=class extends pp{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;runInfoMap=new Map;tappedPromises=new Map;transformStream;writer;receiveStream;readableStreamClosed=!1;name="event_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream({flush:()=>{this.readableStreamClosed=!0}}),this.writer=this.transformStream.writable.getWriter(),this.receiveStream=iu.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let o=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(o=o||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(o=o||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(o=o||n.find(i=>this.includeTags?.includes(i))!==void 0),this.excludeNames!==void 0&&(o=o&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(o=o&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(o=o&&n.every(i=>!this.excludeTags?.includes(i))),o}async*tapOutputIterable(e,n){const o=await n.next();if(o.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield o.value;return}function l(r,a){return r==="llm"&&typeof a=="string"?new ip({text:a}):a}let t=this.tappedPromises.get(e);if(t===void 0){let r;t=new Promise(a=>{r=a}),this.tappedPromises.set(e,t);try{const a={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...a,data:{chunk:l(i.runType,o.value)}},i),yield o.value;for await(const s of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...a,data:{chunk:l(i.runType,s)}},i),yield s}finally{r?.()}}else{yield o.value;for await(const r of n)yield r}}async send(e,n){this.readableStreamClosed||this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const o=this.tappedPromises.get(e.run_id);o!==void 0?o.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){const n=iv(e),o=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:o,inputs:e.inputs};this.runInfoMap.set(e.id,i);const l=`on_${o}_start`;await this.send({event:l,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onLLMNewToken(e,n,o){const i=this.runInfoMap.get(e.id);let l,t;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")t="on_chat_model_stream",o?.chunk===void 0?l=new qn({content:n,id:`run-${e.id}`}):l=o.chunk.message;else if(i.runType==="llm")t="on_llm_stream",o?.chunk===void 0?l=new ip({text:n}):l=o.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:t,data:{chunk:l},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let o;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=e.outputs?.generations;let l;if(n.runType==="chat_model"){for(const t of i??[]){if(l!==void 0)break;l=t[0]?.message}o="on_chat_model_end"}else if(n.runType==="llm")l={generations:i?.map(t=>t.map(r=>({text:r.text,generationInfo:r.generationInfo}))),llmOutput:e.outputs?.llmOutput??{}},o="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:o,data:{output:l,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){const n=iv(e),o=e.run_type??"chain",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:e.run_type};let l={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(l={},i.inputs={}):e.inputs.input!==void 0?(l.input=e.inputs.input,i.inputs=e.inputs.input):(l.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${o}_start`,data:l,name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onChainEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const o=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},t={output:e.outputs?.output??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(t.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:o,data:t,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){const n=iv(e),o={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,o),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},o)}async onToolEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const o=e.outputs?.output===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:o,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){const n=iv(e),i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onRetrieverEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,o){const i=this.runInfoMap.get(o);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${o} not found in run map.`);await this.send({event:"on_custom_event",run_id:o,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}};const hse=Object.prototype.toString,pse=e=>hse.call(e)==="[object Error]",mse=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function gse(e){if(!(e&&pse(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:o,stack:i}=e;return o==="Load failed"?i===void 0||"__sentry_captured__"in e:o.startsWith("error sending request for url")?!0:mse.has(o)}function _se(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function ov(e,n,{min:o=0,allowInfinity:i=!1}={}){if(n!==void 0){if(typeof n!="number"||Number.isNaN(n))throw new TypeError(`Expected \`${e}\` to be a number${i?" or Infinity":""}.`);if(!i&&!Number.isFinite(n))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(n<o)throw new TypeError(`Expected \`${e}\` to be  ${o}.`)}}var yse=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function vse(e,n){const o=Math.max(1,e+1),i=n.randomize?Math.random()+1:1;let l=Math.round(i*n.minTimeout*n.factor**(o-1));return l=Math.min(l,n.maxTimeout),l}function Uz(e,n){return Number.isFinite(n)?n-(performance.now()-e):n}async function bse({error:e,attemptNumber:n,retriesConsumed:o,startTime:i,options:l}){const t=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(t instanceof yse)throw t.originalError;const r=Number.isFinite(l.retries)?Math.max(0,l.retries-o):l.retries,a=l.maxRetryTime??Number.POSITIVE_INFINITY,s=Object.freeze({error:t,attemptNumber:n,retriesLeft:r,retriesConsumed:o});if(await l.onFailedAttempt(s),Uz(i,a)<=0)throw t;const u=await l.shouldConsumeRetry(s),f=Uz(i,a);if(f<=0||r<=0)throw t;if(t instanceof TypeError&&!gse(t)){if(u)throw t;return l.signal?.throwIfAborted(),!1}if(!await l.shouldRetry(s))throw t;if(!u)return l.signal?.throwIfAborted(),!1;const g=vse(o,l),b=Math.min(g,f);return b>0&&await new Promise((_,p)=>{const y=()=>{clearTimeout(v),l.signal?.removeEventListener("abort",y),p(l.signal.reason)},v=setTimeout(()=>{l.signal?.removeEventListener("abort",y),_()},b);l.unref&&v.unref?.(),l.signal?.addEventListener("abort",y,{once:!0})}),l.signal?.throwIfAborted(),!0}async function v1(e,n={}){if(n={...n},_se(n.retries),Object.hasOwn(n,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");n.retries??=10,n.factor??=2,n.minTimeout??=1e3,n.maxTimeout??=Number.POSITIVE_INFINITY,n.maxRetryTime??=Number.POSITIVE_INFINITY,n.randomize??=!1,n.onFailedAttempt??=()=>{},n.shouldRetry??=()=>!0,n.shouldConsumeRetry??=()=>!0,ov("factor",n.factor,{min:0,allowInfinity:!1}),ov("minTimeout",n.minTimeout,{min:0,allowInfinity:!1}),ov("maxTimeout",n.maxTimeout,{min:0,allowInfinity:!0}),ov("maxRetryTime",n.maxRetryTime,{min:0,allowInfinity:!0}),n.factor>0||(n.factor=1),n.signal?.throwIfAborted();let o=0,i=0;const l=performance.now();for(;!Number.isFinite(n.retries)||i<=n.retries;){o++;try{n.signal?.throwIfAborted();const t=await e(o);return n.signal?.throwIfAborted(),t}catch(t){await bse({error:t,attemptNumber:o,retriesConsumed:i,startTime:l,options:n})&&i++}}throw new Error("Retry attempts exhausted without throwing an error.")}var wse={};dt(wse,{AsyncCaller:()=>__});const Sse=[400,401,402,403,404,405,406,407,409],Ose=e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||e.name==="AbortError"||e?.code==="ECONNABORTED")throw e;const n=e?.response?.status??e?.status;if(n&&Sse.includes(+n))throw e;if(e?.error?.code==="insufficient_quota"){const o=new Error(e?.message);throw o.name="InsufficientQuotaError",o}};var __=class{maxConcurrency;maxRetries;onFailedAttempt;queue;constructor(e){this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??Ose;const n="default"in Qu?Qu.default:Qu;this.queue=new n({concurrency:this.maxConcurrency})}async call(e,...n){return this.queue.add(()=>v1(()=>e(...n).catch(o=>{throw o instanceof Error?o:new Error(o)}),{onFailedAttempt:({error:o})=>this.onFailedAttempt?.(o),retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...o){if(e.signal){let i;return Promise.race([this.call(n,...o),new Promise((l,t)=>{i=()=>{t(Ob(e.signal))},e.signal?.addEventListener("abort",i)})]).finally(()=>{e.signal&&i&&e.signal.removeEventListener("abort",i)})}return this.call(n,...o)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}},AH=class extends pp{name="RootListenersTracer";rootId;config;argOnStart;argOnEnd;argOnError;constructor({config:e,onStart:n,onEnd:o,onError:i}){super({_awaitHandler:!0}),this.config=e,this.argOnStart=n,this.argOnEnd=o,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function xT(e){return e?e.lc_runnable:!1}var Ese=class{includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;constructor(e){this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let o=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=e.tags??[];return this.includeNames!==void 0&&(o=o||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(o=o||this.includeTypes.includes(n)),this.includeTags!==void 0&&(o=o||i.some(l=>this.includeTags?.includes(l))),this.excludeNames!==void 0&&(o=o&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(o=o&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(o=o&&i.every(l=>!this.excludeTags?.includes(l))),o}};const Rse=e=>btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");function WO(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}const jse=["*","_","`"];function xse(e){let n="";for(const[o,i]of Object.entries(e))n+=`	classDef ${o} ${i};
`;return n}function Cse(e,n,o){const{firstNode:i,lastNode:l,nodeColors:t,withStyles:r=!0,curveStyle:a="linear",wrapLabelNWords:s=9}=o??{};let u=r?`%%{init: {'flowchart': {'curve': '${a}'}}}%%
graph TD;
`:`graph TD;
`;if(r){const p="default",y={[p]:"{0}({1})"};i!==void 0&&(y[i]="{0}([{1}]):::first"),l!==void 0&&(y[l]="{0}([{1}]):::last");for(const[v,E]of Object.entries(e)){const j=E.name.split(":").pop()??"";let A=jse.some(T=>j.startsWith(T)&&j.endsWith(T))?`<p>${j}</p>`:j;Object.keys(E.metadata??{}).length&&(A+=`<hr/><small><em>${Object.entries(E.metadata??{}).map(([T,D])=>`${T} = ${D}`).join(`
`)}</em></small>`);const M=(y[v]??y[p]).replace("{0}",WO(v)).replace("{1}",A);u+=`	${M}
`}}const f={};for(const p of n){const y=p.source.split(":"),v=p.target.split(":"),E=y.filter((j,x)=>j===v[x]).join(":");f[E]||(f[E]=[]),f[E].push(p)}const g=new Set;function b(p){return[...p].sort((y,v)=>y.split(":").length-v.split(":").length)}function _(p,y){const v=p.length===1&&p[0].source===p[0].target;if(y&&!v){const j=y.split(":").pop();if(g.has(y))throw new Error(`Found duplicate subgraph '${j}' at '${y} -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);g.add(y),u+=`	subgraph ${j}
`}const E=b(Object.keys(f).filter(j=>j.startsWith(`${y}:`)&&j!==y&&j.split(":").length===y.split(":").length+1));for(const j of E)_(f[j],j);for(const j of p){const{source:x,target:A,data:M,conditional:T}=j;let D="";if(M!==void 0){let P=M;const F=P.split(" ");F.length>s&&(P=Array.from({length:Math.ceil(F.length/s)},(q,B)=>F.slice(B*s,(B+1)*s).join(" ")).join("&nbsp;<br>&nbsp;")),D=T?` -. &nbsp;${P}&nbsp; .-> `:` -- &nbsp;${P}&nbsp; --> `}else D=T?" -.-> ":" --> ";u+=`	${WO(x)}${D}${WO(A)};
`}y&&!v&&(u+=`	end
`)}_(f[""]??[],"");for(const p in f)!p.includes(":")&&p!==""&&_(f[p],p);return r&&(u+=xse(t??{})),u}async function Tse(e,n){let o=n?.backgroundColor??"white";const i=n?.imageType??"png",l=Rse(e);o!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(o)||(o=`!${o}`));const t=`https://mermaid.ink/img/${l}?bgColor=${o}&type=${i}`,r=await fetch(t);if(!r.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${r.status}`,`Status text: ${r.statusText}`].join(`
`));return await r.blob()}var Mse={};dt(Mse,{Graph:()=>CT});function Pse(e,n){if(e!==void 0&&!Lg(e))return e;if(xT(n))try{let o=n.getName();return o=o.startsWith("Runnable")?o.slice(8):o,o}catch{return n.getName()}else return n.name??"UnknownSchema"}function Ase(e){return xT(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...tc(e.data.schema),title:e.data.name}}}var CT=class NH{nodes={};edges=[];constructor(n){this.nodes=n?.nodes??this.nodes,this.edges=n?.edges??this.edges}toJSON(){const n={};return Object.values(this.nodes).forEach((o,i)=>{n[o.id]=Lg(o.id)?i:o.id}),{nodes:Object.values(this.nodes).map(o=>({id:n[o.id],...Ase(o)})),edges:this.edges.map(o=>{const i={source:n[o.source],target:n[o.target]};return typeof o.data<"u"&&(i.data=o.data),typeof o.conditional<"u"&&(i.conditional=o.conditional),i})}}addNode(n,o,i){if(o!==void 0&&this.nodes[o]!==void 0)throw new Error(`Node with id ${o} already exists`);const l=o??Gc(),t={id:l,data:n,name:Pse(o,n),metadata:i};return this.nodes[l]=t,t}removeNode(n){delete this.nodes[n.id],this.edges=this.edges.filter(o=>o.source!==n.id&&o.target!==n.id)}addEdge(n,o,i,l){if(this.nodes[n.id]===void 0)throw new Error(`Source node ${n.id} not in graph`);if(this.nodes[o.id]===void 0)throw new Error(`Target node ${o.id} not in graph`);const t={source:n.id,target:o.id,data:i,conditional:l};return this.edges.push(t),t}firstNode(){return $z(this)}lastNode(){return Fz(this)}extend(n,o=""){let i=o;Object.values(n.nodes).map(u=>u.id).every(Lg)&&(i="");const t=u=>i?`${i}:${u}`:u;Object.entries(n.nodes).forEach(([u,f])=>{this.nodes[t(u)]={...f,id:t(u)}});const r=n.edges.map(u=>({...u,source:t(u.source),target:t(u.target)}));this.edges=[...this.edges,...r];const a=n.firstNode(),s=n.lastNode();return[a?{id:t(a.id),data:a.data}:void 0,s?{id:t(s.id),data:s.data}:void 0]}trimFirstNode(){const n=this.firstNode();n&&$z(this,[n.id])&&this.removeNode(n)}trimLastNode(){const n=this.lastNode();n&&Fz(this,[n.id])&&this.removeNode(n)}reid(){const n=Object.fromEntries(Object.values(this.nodes).map(l=>[l.id,l.name])),o=new Map;Object.values(n).forEach(l=>{o.set(l,(o.get(l)||0)+1)});const i=l=>{const t=n[l];return Lg(l)&&o.get(t)===1?t:l};return new NH({nodes:Object.fromEntries(Object.entries(this.nodes).map(([l,t])=>[i(l),{...t,id:i(l)}])),edges:this.edges.map(l=>({...l,source:i(l.source),target:i(l.target)}))})}drawMermaid(n){const{withStyles:o,curveStyle:i,nodeColors:l={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:t}=n??{},r=this.reid(),a=r.firstNode(),s=r.lastNode();return Cse(r.nodes,r.edges,{firstNode:a?.id,lastNode:s?.id,withStyles:o,curveStyle:i,nodeColors:l,wrapLabelNWords:t})}async drawMermaidPng(n){const o=this.drawMermaid(n);return Tse(o,{backgroundColor:n?.backgroundColor})}};function $z(e,n=[]){const o=new Set(e.edges.filter(l=>!n.includes(l.source)).map(l=>l.target)),i=[];for(const l of Object.values(e.nodes))!n.includes(l.id)&&!o.has(l.id)&&i.push(l);return i.length===1?i[0]:void 0}function Fz(e,n=[]){const o=new Set(e.edges.filter(l=>!n.includes(l.target)).map(l=>l.source)),i=[];for(const l of Object.values(e.nodes))!n.includes(l.id)&&!o.has(l.id)&&i.push(l);return i.length===1?i[0]:void 0}function Nse(e){const n=new TextEncoder,o=new ReadableStream({async start(i){for await(const l of e)i.enqueue(n.encode(`event: data
data: ${JSON.stringify(l)}

`));i.enqueue(n.encode(`event: end

`)),i.close()}});return iu.fromReadableStream(o)}function Vz(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}const Dse=e=>e!=null&&typeof e=="object"&&"next"in e&&typeof e.next=="function";function b1(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function"}function*Gz(e,n){for(;;){const{value:o,done:i}=nc.runWithConfig(Gf(e),n.next.bind(n),!0);if(i)break;yield o}}async function*w1(e,n){const o=n[Symbol.asyncIterator]();for(;;){const{value:i,done:l}=await nc.runWithConfig(Gf(e),o.next.bind(n),!0);if(l)break;yield i}}function lr(e,n){return e&&!Array.isArray(e)&&!(e instanceof Date)&&typeof e=="object"?e:{[n]:e}}var Bt=class extends Vf{lc_runnable=!0;name;getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}withRetry(e){return new TT({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new Hf({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new LH({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(Et);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const o=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,l)=>Et(l===0?e:o))}return Array.from({length:n},()=>Et(e))}async batch(e,n,o){const i=this._getOptionsList(n??{},e.length),l=i[0]?.maxConcurrency??o?.maxConcurrency,t=new __({maxConcurrency:l,onFailedAttempt:a=>{throw a}}),r=e.map((a,s)=>t.call(async()=>{try{return await this.invoke(a,i[s])}catch(u){if(o?.returnExceptions)return u;throw u}}));return Promise.all(r)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const o=Et(n),i=new kf({generator:this._streamIterator(e,o),config:o});return await i.setup,iu.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=Et(e):n=Et({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const o={...e};return delete o.callbacks,delete o.tags,delete o.metadata,delete o.runName,delete o.configurable,delete o.recursionLimit,delete o.maxConcurrency,delete o.runId,delete o.timeout,delete o.signal,[n,o]}async _callWithConfig(e,n,o){const i=Et(o),t=await(await yn(i))?.handleChainStart(this.toJSON(),lr(n,"input"),i.runId,i?.runType,void 0,void 0,i?.runName??this.getName());delete i.runId;let r;try{const a=e.call(this,n,i,t);r=await ac(a,o?.signal)}catch(a){throw await t?.handleChainError(a),a}return await t?.handleChainEnd(lr(r,"output")),r}async _batchWithConfig(e,n,o,i){const l=this._getOptionsList(o??{},n.length),t=await Promise.all(l.map(yn)),r=await Promise.all(t.map(async(s,u)=>{const f=await s?.handleChainStart(this.toJSON(),lr(n[u],"input"),l[u].runId,l[u].runType,void 0,void 0,l[u].runName??this.getName());return delete l[u].runId,f}));let a;try{const s=e.call(this,n,l,r,i);a=await ac(s,l?.[0]?.signal)}catch(s){throw await Promise.all(r.map(u=>u?.handleChainError(s))),s}return await Promise.all(r.map(s=>s?.handleChainEnd(lr(a,"output")))),a}_concatOutputChunks(e,n){return ad(e,n)}async*_transformStreamWithConfig(e,n,o){let i,l=!0,t,r=!0;const a=Et(o),s=await yn(a),u=this;async function*f(){for await(const b of e){if(l)if(i===void 0)i=b;else try{i=u._concatOutputChunks(i,b)}catch{i=void 0,l=!1}yield b}}let g;try{const b=await RH(n.bind(this),f(),async()=>s?.handleChainStart(this.toJSON(),{input:""},a.runId,a.runType,void 0,void 0,a.runName??this.getName(),void 0,{lc_defers_inputs:!0}),o?.signal,a);delete a.runId,g=b.setup;const _=g?.handlers.find(dse);let p=b.output;_!==void 0&&g!==void 0&&(p=_.tapOutputIterable(g.runId,p));const y=g?.handlers.find(PH);y!==void 0&&g!==void 0&&(p=y.tapOutputIterable(g.runId,p));for await(const v of p)if(yield v,r)if(t===void 0)t=v;else try{t=this._concatOutputChunks(t,v)}catch{t=void 0,r=!1}}catch(b){throw await g?.handleChainError(b,void 0,void 0,void 0,{inputs:lr(i,"input")}),b}await g?.handleChainEnd(t??{},void 0,void 0,void 0,{inputs:lr(i,"input")})}getGraph(e){const n=new CT,o=n.addNode({name:`${this.getName()}Input`,schema:rI()}),i=n.addNode(this),l=n.addNode({name:`${this.getName()}Output`,schema:rI()});return n.addEdge(o,i),n.addEdge(i,l),n}pipe(e){return new y_({first:this,last:ru(e)})}pick(e){return this.pipe(new UH(e))}assign(e){return this.pipe(new MT(new mp({steps:e})))}async*transform(e,n){let o;for await(const i of e)o===void 0?o=i:o=this._concatOutputChunks(o,i);yield*this._streamIterator(o,Et(n))}async*streamLog(e,n,o){const i=new y1({...o,autoClose:!1,_schemaFormat:"original"}),l=Et(n);yield*this._streamLog(e,i,l)}async*_streamLog(e,n,o){const{callbacks:i}=o;if(i===void 0)o.callbacks=[n];else if(Array.isArray(i))o.callbacks=i.concat([n]);else{const a=i.copy();a.addHandler(n,!0),o.callbacks=a}const l=this.stream(e,o);async function t(){try{const a=await l;for await(const s of a){const u=new Wu({ops:[{op:"add",path:"/streamed_output/-",value:s}]});await n.writer.write(u)}}finally{await n.writer.close()}}const r=t();try{for await(const a of n)yield a}finally{await r}}streamEvents(e,n,o){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,o);else if(n.version==="v2")i=this._streamEventsV2(e,n,o);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?Nse(i):iu.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,o){const i=new fse({...o,autoClose:!1}),l=Et(n),t=l.runId??Gc();l.runId=t;const r=l.callbacks;if(r===void 0)l.callbacks=[i];else if(Array.isArray(r))l.callbacks=r.concat(i);else{const _=r.copy();_.addHandler(i,!0),l.callbacks=_}const a=new AbortController,s=this;async function u(){let _,p=null;try{n?.signal?"any"in AbortSignal?_=AbortSignal.any([a.signal,n.signal]):(_=n.signal,p=()=>{a.abort()},n.signal.addEventListener("abort",p,{once:!0})):_=a.signal;const y=await s.stream(e,{...l,signal:_}),v=i.tapOutputIterable(t,y);for await(const E of v)if(a.signal.aborted)break}finally{await i.finish(),_&&p&&_.removeEventListener("abort",p)}}const f=u();let g=!1,b;try{for await(const _ of i){if(!g){_.data.input=e,g=!0,b=_.run_id,yield _;continue}_.run_id===b&&_.event.endsWith("_end")&&_.data?.input&&delete _.data.input,yield _}}finally{a.abort(),await f}}async*_streamEventsV1(e,n,o){let i,l=!1;const t=Et(n),r=t.tags??[],a=t.metadata??{},s=t.runName??this.getName(),u=new y1({...o,autoClose:!1,_schemaFormat:"streaming_events"}),f=new Ese({...o}),g=this._streamLog(e,u,t);for await(const _ of g){if(i?i=i.concat(_):i=jT.fromRunLogPatch(_),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!l){l=!0;const E={...i.state},j={run_id:E.id,event:`on_${E.type}_start`,name:s,tags:r,metadata:a,data:{input:e}};f.includeEvent(j,E.type)&&(yield j)}const p=_.ops.filter(E=>E.path.startsWith("/logs/")).map(E=>E.path.split("/")[2]),y=[...new Set(p)];for(const E of y){let j,x={};const A=i.state.logs[E];if(A.end_time===void 0?A.streamed_output.length>0?j="stream":j="start":j="end",j==="start")A.inputs!==void 0&&(x.input=A.inputs);else if(j==="end")A.inputs!==void 0&&(x.input=A.inputs),x.output=A.final_output;else if(j==="stream"){const M=A.streamed_output.length;if(M!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${M} instead. Encountered in: "${A.name}"`);x={chunk:A.streamed_output[0]},A.streamed_output=[]}yield{event:`on_${A.type}_${j}`,name:A.name,run_id:A.id,tags:A.tags,metadata:A.metadata,data:x}}const{state:v}=i;if(v.streamed_output.length>0){const E=v.streamed_output.length;if(E!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${E} instead. Encountered in: "${v.name}"`);const j={chunk:v.streamed_output[0]};v.streamed_output=[];const x={event:`on_${v.type}_stream`,run_id:v.id,tags:r,metadata:a,name:s,data:j};f.includeEvent(x,v.type)&&(yield x)}}const b=i?.state;if(b!==void 0){const _={event:`on_${b.type}_end`,name:s,run_id:b.id,tags:r,metadata:a,data:{output:b.final_output}};f.includeEvent(_,b.type)&&(yield _)}}static isRunnable(e){return xT(e)}withListeners({onStart:e,onEnd:n,onError:o}){return new Hf({bound:this,config:{},configFactories:[i=>({callbacks:[new AH({config:i,onStart:e,onEnd:n,onError:o})]})]})}asTool(e){return Lse(this,e)}},Hf=class DH extends Bt{static lc_name(){return"RunnableBinding"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;bound;config;kwargs;configFactories;constructor(n){super(n),this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config,this.configFactories=n.configFactories}getName(n){return this.bound.getName(n)}async _mergeConfig(...n){const o=d1(this.config,...n);return d1(o,...this.configFactories?await Promise.all(this.configFactories.map(async i=>await i(o))):[])}withConfig(n){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return new TT({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:n?.stopAfterAttempt,...n})}async invoke(n,o){return this.bound.invoke(n,await this._mergeConfig(o,this.kwargs))}async batch(n,o,i){const l=Array.isArray(o)?await Promise.all(o.map(async t=>this._mergeConfig(Et(t),this.kwargs))):await this._mergeConfig(Et(o),this.kwargs);return this.bound.batch(n,l,i)}_concatOutputChunks(n,o){return this.bound._concatOutputChunks(n,o)}async*_streamIterator(n,o){yield*this.bound._streamIterator(n,await this._mergeConfig(Et(o),this.kwargs))}async stream(n,o){return this.bound.stream(n,await this._mergeConfig(Et(o),this.kwargs))}async*transform(n,o){yield*this.bound.transform(n,await this._mergeConfig(Et(o),this.kwargs))}streamEvents(n,o,i){const l=this,t=async function*(){yield*l.bound.streamEvents(n,{...await l._mergeConfig(Et(o),l.kwargs),version:o.version},i)};return iu.fromAsyncGenerator(t())}static isRunnableBinding(n){return n.bound&&Bt.isRunnable(n.bound)}withListeners({onStart:n,onEnd:o,onError:i}){return new DH({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[l=>({callbacks:[new AH({config:l,onStart:n,onEnd:o,onError:i})]})]})}},Ise=class IH extends Bt{static lc_name(){return"RunnableEach"}lc_serializable=!0;lc_namespace=["langchain_core","runnables"];bound;constructor(n){super(n),this.bound=n.bound}async invoke(n,o){return this._callWithConfig(this._invoke.bind(this),n,o)}async _invoke(n,o,i){return this.bound.batch(n,Vt(o,{callbacks:i?.getChild()}))}withListeners({onStart:n,onEnd:o,onError:i}){return new IH({bound:this.bound.withListeners({onStart:n,onEnd:o,onError:i})})}},TT=class extends Hf{static lc_name(){return"RunnableRetry"}lc_namespace=["langchain_core","runnables"];maxAttemptNumber=3;onFailedAttempt=()=>{};constructor(e){super(e),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,o){const i=e>1?`retry:attempt:${e}`:void 0;return Vt(n,{callbacks:o?.getChild(i)})}async _invoke(e,n,o){return v1(i=>super.invoke(e,this._patchConfigForRetry(i,n,o)),{onFailedAttempt:({error:i})=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,o,i){const l={};try{await v1(async t=>{const r=e.map((g,b)=>b).filter(g=>l[g.toString()]===void 0||l[g.toString()]instanceof Error),a=r.map(g=>e[g]),s=r.map(g=>this._patchConfigForRetry(t,n?.[g],o?.[g])),u=await super.batch(a,s,{...i,returnExceptions:!0});let f;for(let g=0;g<u.length;g+=1){const b=u[g],_=r[g];b instanceof Error&&f===void 0&&(f=b,f.input=a[g]),l[_.toString()]=b}if(f)throw f;return u},{onFailedAttempt:({error:t})=>this.onFailedAttempt(t,t.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(t){if(i?.returnExceptions!==!0)throw t}return Object.keys(l).sort((t,r)=>parseInt(t,10)-parseInt(r,10)).map(t=>l[parseInt(t,10)])}async batch(e,n,o){return this._batchWithConfig(this._batch.bind(this),e,n,o)}},y_=class Ng extends Bt{static lc_name(){return"RunnableSequence"}first;middle=[];last;omitSequenceTags=!1;lc_serializable=!0;lc_namespace=["langchain_core","runnables"];constructor(n){super(n),this.first=n.first,this.middle=n.middle??this.middle,this.last=n.last,this.name=n.name,this.omitSequenceTags=n.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,o){const i=Et(o),t=await(await yn(i))?.handleChainStart(this.toJSON(),lr(n,"input"),i.runId,void 0,void 0,void 0,i?.runName);delete i.runId;let r=n,a;try{const s=[this.first,...this.middle];for(let u=0;u<s.length;u+=1){const g=s[u].invoke(r,Vt(i,{callbacks:t?.getChild(this.omitSequenceTags?void 0:`seq:step:${u+1}`)}));r=await ac(g,o?.signal)}if(o?.signal?.aborted)throw Ob(o.signal);a=await this.last.invoke(r,Vt(i,{callbacks:t?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(s){throw await t?.handleChainError(s),s}return await t?.handleChainEnd(lr(a,"output")),a}async batch(n,o,i){const l=this._getOptionsList(o??{},n.length),t=await Promise.all(l.map(yn)),r=await Promise.all(t.map(async(s,u)=>{const f=await s?.handleChainStart(this.toJSON(),lr(n[u],"input"),l[u].runId,void 0,void 0,void 0,l[u].runName);return delete l[u].runId,f}));let a=n;try{for(let s=0;s<this.steps.length;s+=1){const f=this.steps[s].batch(a,r.map((g,b)=>{const _=g?.getChild(this.omitSequenceTags?void 0:`seq:step:${s+1}`);return Vt(l[b],{callbacks:_})}),i);a=await ac(f,l[0]?.signal)}}catch(s){throw await Promise.all(r.map(u=>u?.handleChainError(s))),s}return await Promise.all(r.map(s=>s?.handleChainEnd(lr(a,"output")))),a}_concatOutputChunks(n,o){return this.last._concatOutputChunks(n,o)}async*_streamIterator(n,o){const i=await yn(o),{runId:l,...t}=o??{},r=await i?.handleChainStart(this.toJSON(),lr(n,"input"),l,void 0,void 0,void 0,t?.runName),a=[this.first,...this.middle,this.last];let s=!0,u;async function*f(){yield n}try{let g=a[0].transform(f(),Vt(t,{callbacks:r?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let b=1;b<a.length;b+=1)g=await a[b].transform(g,Vt(t,{callbacks:r?.getChild(this.omitSequenceTags?void 0:`seq:step:${b+1}`)}));for await(const b of g)if(o?.signal?.throwIfAborted(),yield b,s)if(u===void 0)u=b;else try{u=this._concatOutputChunks(u,b)}catch{u=void 0,s=!1}}catch(g){throw await r?.handleChainError(g),g}await r?.handleChainEnd(lr(u,"output"))}getGraph(n){const o=new CT;let i=null;return this.steps.forEach((l,t)=>{const r=l.getGraph(n);t!==0&&r.trimFirstNode(),t!==this.steps.length-1&&r.trimLastNode(),o.extend(r);const a=r.firstNode();if(!a)throw new Error(`Runnable ${l} has no first node`);i&&o.addEdge(i,a),i=r.lastNode()}),o}pipe(n){return Ng.isRunnableSequence(n)?new Ng({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last,name:this.name??n.name}):new Ng({first:this.first,middle:[...this.middle,this.last],last:ru(n),name:this.name})}static isRunnableSequence(n){return Array.isArray(n.middle)&&Bt.isRunnable(n)}static from([n,...o],i){let l={};return typeof i=="string"?l.name=i:i!==void 0&&(l=i),new Ng({...l,first:ru(n),middle:o.slice(0,-1).map(ru),last:ru(o[o.length-1])})}},mp=class zH extends Bt{static lc_name(){return"RunnableMap"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;steps;getStepsKeys(){return Object.keys(this.steps)}constructor(n){super(n),this.steps={};for(const[o,i]of Object.entries(n.steps))this.steps[o]=ru(i)}static from(n){return new zH({steps:n})}async invoke(n,o){const i=Et(o),t=await(await yn(i))?.handleChainStart(this.toJSON(),{input:n},i.runId,void 0,void 0,void 0,i?.runName);delete i.runId;const r={};try{const a=Object.entries(this.steps).map(async([s,u])=>{r[s]=await u.invoke(n,Vt(i,{callbacks:t?.getChild(`map:key:${s}`)}))});await ac(Promise.all(a),o?.signal)}catch(a){throw await t?.handleChainError(a),a}return await t?.handleChainEnd(r),r}async*_transform(n,o,i){const l={...this.steps},t=ET(n,Object.keys(l).length),r=new Map(Object.entries(l).map(([a,s],u)=>{const f=s.transform(t[u],Vt(i,{callbacks:o?.getChild(`map:key:${a}`)}));return[a,f.next().then(g=>({key:a,gen:f,result:g}))]}));for(;r.size;){const a=Promise.race(r.values()),{key:s,result:u,gen:f}=await ac(a,i?.signal);r.delete(s),u.done||(yield{[s]:u.value},r.set(s,f.next().then(g=>({key:s,gen:f,result:g}))))}}transform(n,o){return this._transformStreamWithConfig(n,this._transform.bind(this),o)}async stream(n,o){async function*i(){yield n}const l=Et(o),t=new kf({generator:this.transform(i(),l),config:l});return await t.setup,iu.fromAsyncGenerator(t)}},zse=class BH extends Bt{lc_serializable=!1;lc_namespace=["langchain_core","runnables"];func;constructor(n){if(super(n),!OT(n.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=n.func}async invoke(n,o){const[i]=this._getOptionsList(o??{},1),l=await yn(i),t=this.func(Vt(i,{callbacks:l}),n);return ac(t,i?.signal)}async*_streamIterator(n,o){const[i]=this._getOptionsList(o??{},1),l=await this.invoke(n,o);if(b1(l)){for await(const t of l)i?.signal?.throwIfAborted(),yield t;return}if(Dse(l)){for(;;){i?.signal?.throwIfAborted();const t=l.next();if(t.done)break;yield t.value}return}yield l}static from(n){return new BH({func:n})}};function Bse(e){if(OT(e))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var sd=class qH extends Bt{static lc_name(){return"RunnableLambda"}lc_namespace=["langchain_core","runnables"];func;constructor(n){if(OT(n.func))return zse.from(n.func);super(n),Bse(n.func),this.func=n.func}static from(n){return new qH({func:n})}async _invoke(n,o,i){return new Promise((l,t)=>{const r=Vt(o,{callbacks:i?.getChild(),recursionLimit:(o?.recursionLimit??kO)-1});nc.runWithConfig(Gf(r),async()=>{try{let a=await this.func(n,{...r});if(a&&Bt.isRunnable(a)){if(o?.recursionLimit===0)throw new Error("Recursion limit reached.");a=await a.invoke(n,{...r,recursionLimit:(r.recursionLimit??kO)-1})}else if(b1(a)){let s;for await(const u of w1(r,a))if(o?.signal?.throwIfAborted(),s===void 0)s=u;else try{s=this._concatOutputChunks(s,u)}catch{s=u}a=s}else if(Vz(a)){let s;for(const u of Gz(r,a))if(o?.signal?.throwIfAborted(),s===void 0)s=u;else try{s=this._concatOutputChunks(s,u)}catch{s=u}a=s}l(a)}catch(a){t(a)}})})}async invoke(n,o){return this._callWithConfig(this._invoke.bind(this),n,o)}async*_transform(n,o,i){let l;for await(const a of n)if(l===void 0)l=a;else try{l=this._concatOutputChunks(l,a)}catch{l=a}const t=Vt(i,{callbacks:o?.getChild(),recursionLimit:(i?.recursionLimit??kO)-1}),r=await new Promise((a,s)=>{nc.runWithConfig(Gf(t),async()=>{try{const u=await this.func(l,{...t,config:t});a(u)}catch(u){s(u)}})});if(r&&Bt.isRunnable(r)){if(i?.recursionLimit===0)throw new Error("Recursion limit reached.");const a=await r.stream(l,t);for await(const s of a)yield s}else if(b1(r))for await(const a of w1(t,r))i?.signal?.throwIfAborted(),yield a;else if(Vz(r))for(const a of Gz(t,r))i?.signal?.throwIfAborted(),yield a;else yield r}transform(n,o){return this._transformStreamWithConfig(n,this._transform.bind(this),o)}async stream(n,o){async function*i(){yield n}const l=Et(o),t=new kf({generator:this.transform(i(),l),config:l});return await t.setup,iu.fromAsyncGenerator(t)}},qse=class extends mp{},LH=class extends Bt{static lc_name(){return"RunnableWithFallbacks"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnable;fallbacks;constructor(e){super(e),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const o=Et(n),i=await yn(o),{runId:l,...t}=o,r=await i?.handleChainStart(this.toJSON(),lr(e,"input"),l,void 0,void 0,void 0,t?.runName),a=Vt(t,{callbacks:r?.getChild()});return await nc.runWithConfig(a,async()=>{let u;for(const f of this.runnables()){o?.signal?.throwIfAborted();try{const g=await f.invoke(e,a);return await r?.handleChainEnd(lr(g,"output")),g}catch(g){u===void 0&&(u=g)}}throw u===void 0?new Error("No error stored at end of fallback."):(await r?.handleChainError(u),u)})}async*_streamIterator(e,n){const o=Et(n),i=await yn(o),{runId:l,...t}=o,r=await i?.handleChainStart(this.toJSON(),lr(e,"input"),l,void 0,void 0,void 0,t?.runName);let a,s;for(const f of this.runnables()){o?.signal?.throwIfAborted();const g=Vt(t,{callbacks:r?.getChild()});try{const b=await f.stream(e,g);s=w1(g,b);break}catch(b){a===void 0&&(a=b)}}if(s===void 0){const f=a??new Error("No error stored at end of fallback.");throw await r?.handleChainError(f),f}let u;try{for await(const f of s){yield f;try{u=u===void 0?u:this._concatOutputChunks(u,f)}catch{u=void 0}}}catch(f){throw await r?.handleChainError(f),f}await r?.handleChainEnd(lr(u,"output"))}async batch(e,n,o){if(o?.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),l=await Promise.all(i.map(a=>yn(a))),t=await Promise.all(l.map(async(a,s)=>{const u=await a?.handleChainStart(this.toJSON(),lr(e[s],"input"),i[s].runId,void 0,void 0,void 0,i[s].runName);return delete i[s].runId,u}));let r;for(const a of this.runnables()){i[0].signal?.throwIfAborted();try{const s=await a.batch(e,t.map((u,f)=>Vt(i[f],{callbacks:u?.getChild()})),o);return await Promise.all(t.map((u,f)=>u?.handleChainEnd(lr(s[f],"output")))),s}catch(s){r===void 0&&(r=s)}}throw r?(await Promise.all(t.map(a=>a?.handleChainError(r))),r):new Error("No error stored at end of fallbacks.")}};function ru(e){if(typeof e=="function")return new sd({func:e});if(Bt.isRunnable(e))return e;if(!Array.isArray(e)&&typeof e=="object"){const n={};for(const[o,i]of Object.entries(e))n[o]=ru(i);return new mp({steps:n})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var MT=class extends Bt{static lc_name(){return"RunnableAssign"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;mapper;constructor(e){e instanceof mp&&(e={mapper:e}),super(e),this.mapper=e.mapper}async invoke(e,n){const o=await this.mapper.invoke(e,n);return{...e,...o}}async*_transform(e,n,o){const i=this.mapper.getStepsKeys(),[l,t]=ET(e),r=this.mapper.transform(t,Vt(o,{callbacks:n?.getChild()})),a=r.next();for await(const s of l){if(typeof s!="object"||Array.isArray(s))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof s}`);const u=Object.fromEntries(Object.entries(s).filter(([f])=>!i.includes(f)));Object.keys(u).length>0&&(yield u)}yield(await a).value;for await(const s of r)yield s}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*o(){yield e}const i=Et(n),l=new kf({generator:this.transform(o(),i),config:i});return await l.setup,iu.fromAsyncGenerator(l)}},UH=class extends Bt{static lc_name(){return"RunnablePick"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;keys;constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(o=>[o,e[o]]).filter(o=>o[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const o=await this._pick(n);o!==void 0&&(yield o)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*o(){yield e}const i=Et(n),l=new kf({generator:this.transform(o(),i),config:i});return await l.setup,iu.fromAsyncGenerator(l)}},S1=class extends Hf{name;description;schema;constructor(e){const n=y_.from([sd.from(async o=>{let i;if(NG(o))try{i=await Z1(this.schema,o.args)}catch{throw new zne("Received tool input did not match expected schema",JSON.stringify(o.args))}else i=o;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function Lse(e,n){const o=n.name??e.getName(),i=n.description??Q1(n.schema);return aG(n.schema)?new S1({name:o,description:i,schema:rT({input:tT()}).transform(l=>l.input),bound:e}):new S1({name:o,description:i,schema:n.schema,bound:e})}const jb=(e,n)=>{const o=[...new Set(n?.map(l=>{if(typeof l=="string")return l;const t=new l({});if(!("getType"in t)||typeof t.getType!="function")throw new Error("Invalid type provided.");return t.getType()}))],i=e.getType();return o.some(l=>l===i)};function Use(e,n){return Array.isArray(e)?Hz(e,n):sd.from(o=>Hz(o,e))}function Hz(e,n={}){const{includeNames:o,excludeNames:i,includeTypes:l,excludeTypes:t,includeIds:r,excludeIds:a}=n,s=[];for(const u of e)if(!(i&&u.name&&i.includes(u.name))){{if(t&&jb(u,t))continue;if(a&&u.id&&a.includes(u.id))continue}l||r||o?(o&&u.name&&o.some(f=>f===u.name)||l&&jb(u,l)||r&&u.id&&r.some(f=>f===u.id))&&s.push(u):s.push(u)}return s}function $se(e){return Array.isArray(e)?Kz(e):sd.from(Kz)}function Kz(e){if(!e.length)return[];const n=[];for(const o of e){const i=o,l=n.pop();if(!l)n.push(i);else if(i.getType()==="tool"||i.getType()!==l.getType())n.push(l,i);else{const t=bb(l),r=bb(i),a=t.concat(r);typeof t.content=="string"&&typeof r.content=="string"&&(a.content=`${t.content}
${r.content}`),n.push(Gse(a))}}return n}function Fse(e,n){if(Array.isArray(e)){const o=e;if(!n)throw new Error("Options parameter is required when providing messages.");return kz(o,n)}else{const o=e;return sd.from(i=>kz(i,o)).withConfig({runName:"trim_messages"})}}async function kz(e,n){const{maxTokens:o,tokenCounter:i,strategy:l="last",allowPartial:t=!1,endOn:r,startOn:a,includeSystem:s=!1,textSplitter:u}=n;if(a&&l==="first")throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(s&&l==="first")throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let f;"getNumTokens"in i?f=async b=>(await Promise.all(b.map(p=>i.getNumTokens(p.content)))).reduce((p,y)=>p+y,0):f=async b=>i(b);let g=FH;if(u&&("splitText"in u?g=u.splitText:g=async b=>u(b)),l==="first")return $H(e,{maxTokens:o,tokenCounter:f,textSplitter:g,partialStrategy:t?"first":void 0,endOn:r});if(l==="last")return Vse(e,{maxTokens:o,tokenCounter:f,textSplitter:g,allowPartial:t,includeSystem:s,startOn:a,endOn:r});throw new Error(`Unrecognized strategy: '${l}'. Must be one of 'first' or 'last'.`)}async function $H(e,n){const{maxTokens:o,tokenCounter:i,textSplitter:l,partialStrategy:t,endOn:r}=n;let a=[...e],s=0;for(let u=0;u<a.length;u+=1){const f=u>0?a.slice(0,-u):a;if(await i(f)<=o){s=a.length-u;break}}if(s<a.length&&t){let u=!1;if(Array.isArray(a[s].content)){const f=a[s];if(typeof f.content=="string")throw new Error("Expected content to be an array.");const g=f.content.length,b=t==="last"?[...f.content].reverse():f.content;for(let _=1;_<=g;_+=1){const p=t==="first"?b.slice(0,_):b.slice(-_),y=Object.fromEntries(Object.entries(f).filter(([j])=>j!=="type"&&!j.startsWith("lc_"))),v=PT(f.getType(),{...y,content:p}),E=[...a.slice(0,s),v];if(await i(E)<=o)a=E,s+=1,u=!0;else break}u&&t==="last"&&(f.content=[...b].reverse())}if(!u){const f=a[s];let g;if(Array.isArray(f.content)&&f.content.some(b=>typeof b=="string"||b.type==="text")?g=f.content.find(_=>_.type==="text"&&_.text)?.text:typeof f.content=="string"&&(g=f.content),g){const b=await l(g),_=b.length;t==="last"&&b.reverse();for(let p=0;p<_-1;p+=1)if(b.pop(),f.content=b.join(""),await i([...a.slice(0,s),f])<=o){t==="last"&&(f.content=[...b].reverse().join("")),a=[...a.slice(0,s),f],s+=1;break}}}}if(r){const u=Array.isArray(r)?r:[r];for(;s>0&&!jb(a[s-1],u);)s-=1}return a.slice(0,s)}async function Vse(e,n){const{allowPartial:o=!1,includeSystem:i=!1,endOn:l,startOn:t,...r}=n;let a=e.map(f=>{const g=Object.fromEntries(Object.entries(f).filter(([b])=>b!=="type"&&!b.startsWith("lc_")));return PT(f.getType(),g,lT(f))});if(l){const f=Array.isArray(l)?l:[l];for(;a.length>0&&!jb(a[a.length-1],f);)a=a.slice(0,-1)}const s=i&&a[0]?.getType()==="system";let u=s?a.slice(0,1).concat(a.slice(1).reverse()):a.reverse();return u=await $H(u,{...r,partialStrategy:o?"last":void 0,endOn:t}),s?[u[0],...u.slice(1).reverse()]:u.reverse()}const Yz={human:{message:It,messageChunk:h_},ai:{message:Or,messageChunk:qn},system:{message:ur,messageChunk:nd},developer:{message:ur,messageChunk:nd},tool:{message:fp,messageChunk:c_},function:{message:qb,messageChunk:f_},generic:{message:oc,messageChunk:d_},remove:{message:vb,messageChunk:vb}};function PT(e,n,o){let i,l;switch(e){case"human":o?i=new h_(n):l=new It(n);break;case"ai":if(o){let t={...n};"tool_calls"in t&&(t={...t,tool_call_chunks:t.tool_calls?.map(r=>({...r,type:"tool_call_chunk",index:void 0,args:JSON.stringify(r.args)}))}),i=new qn(t)}else l=new Or(n);break;case"system":o?i=new nd(n):l=new ur(n);break;case"developer":o?i=new nd({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}}):l=new ur({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in n)o?i=new c_(n):l=new fp(n);else throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(o)i=new f_(n);else{if(!n.name)throw new Error("FunctionMessage must have a 'name' field");l=new qb(n)}break;case"generic":if("role"in n)o?i=new d_(n):l=new oc(n);else throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw new Error(`Unrecognized message type ${e}`)}if(o&&i)return i;if(l)return l;throw new Error(`Unrecognized message type ${e}`)}function Gse(e){const n=e.getType();let o;const i=Object.fromEntries(Object.entries(e).filter(([l])=>!["type","tool_call_chunks"].includes(l)&&!l.startsWith("lc_")));if(n in Yz&&(o=PT(n,i)),!o)throw new Error(`Unrecognized message chunk class ${n}. Supported classes are ${Object.keys(Yz)}`);return o}function FH(e){const n=e.split(`
`);return Promise.resolve([...n.slice(0,-1).map(o=>`${o}
`),n[n.length-1]])}const Hse=["tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result"],Kse=["image","video","audio","text-plain","file"],kse=["text","reasoning",...Hse,...Kse];var Yse={};dt(Yse,{AIMessage:()=>Or,AIMessageChunk:()=>qn,BaseMessage:()=>Bn,BaseMessageChunk:()=>od,ChatMessage:()=>oc,ChatMessageChunk:()=>d_,FunctionMessage:()=>qb,FunctionMessageChunk:()=>f_,HumanMessage:()=>It,HumanMessageChunk:()=>h_,KNOWN_BLOCK_TYPES:()=>kse,RemoveMessage:()=>vb,SystemMessage:()=>ur,SystemMessageChunk:()=>nd,ToolMessage:()=>fp,ToolMessageChunk:()=>c_,_isMessageFieldWithRole:()=>TG,_mergeDicts:()=>jr,_mergeLists:()=>u_,_mergeObj:()=>xG,_mergeStatus:()=>jG,coerceMessageLikeToMessage:()=>Wc,collapseToolCallChunks:()=>qG,convertToChunk:()=>bb,convertToOpenAIImageBlock:()=>bG,convertToProviderContentBlock:()=>one,defaultTextSplitter:()=>FH,defaultToolCallParser:()=>uT,filterMessages:()=>Use,getBufferString:()=>fT,iife:()=>eae,isAIMessage:()=>Yc,isAIMessageChunk:()=>a1,isBase64ContentBlock:()=>aT,isBaseMessage:()=>Ju,isBaseMessageChunk:()=>lT,isChatMessage:()=>qne,isChatMessageChunk:()=>Lne,isDataContentBlock:()=>rd,isDirectToolOutput:()=>MG,isFunctionMessage:()=>Une,isFunctionMessageChunk:()=>$ne,isHumanMessage:()=>Fne,isHumanMessageChunk:()=>Vne,isIDContentBlock:()=>vG,isMessage:()=>RG,isOpenAIToolCallArray:()=>Dne,isPlainTextContentBlock:()=>ane,isSystemMessage:()=>Gne,isSystemMessageChunk:()=>Hne,isToolMessage:()=>PG,isToolMessageChunk:()=>AG,isURLContentBlock:()=>nT,mapChatMessagesToStoredMessages:()=>iae,mapStoredMessageToChatMessage:()=>hT,mapStoredMessagesToChatMessages:()=>aae,mergeContent:()=>rc,mergeMessageRuns:()=>$se,mergeResponseMetadata:()=>zG,mergeUsageMetadata:()=>dT,parseBase64DataUrl:()=>t1,parseMimeType:()=>ine,trimMessages:()=>Fse});var Wse={};dt(Wse,{BasePromptValue:()=>Hb,ChatPromptValue:()=>NT,ImagePromptValue:()=>VH,StringPromptValue:()=>AT});var Hb=class extends Vf{},AT=class extends Hb{static lc_name(){return"StringPromptValue"}lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;value;constructor(e){super({value:e}),this.value=e}toString(){return this.value}toChatMessages(){return[new It(this.value)]}},NT=class extends Hb{lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;static lc_name(){return"ChatPromptValue"}messages;constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),this.messages=e.messages}toString(){return fT(this.messages)}toChatMessages(){return this.messages}},VH=class extends Hb{lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;static lc_name(){return"ImagePromptValue"}imageUrl;value;constructor(e){"imageUrl"in e||(e={imageUrl:e}),super(e),this.imageUrl=e.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new It({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},Ke="0123456789abcdef".split(""),Jse=[-2147483648,8388608,32768,128],Wn=[24,16,8,0],sv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],pr=[];function ou(e,n){n?(pr[0]=pr[16]=pr[1]=pr[2]=pr[3]=pr[4]=pr[5]=pr[6]=pr[7]=pr[8]=pr[9]=pr[10]=pr[11]=pr[12]=pr[13]=pr[14]=pr[15]=0,this.blocks=pr):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}ou.prototype.update=function(e){if(!this.finalized){var n,o=typeof e;if(o!=="string"){if(o==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);n=!0}for(var i,l=0,t,r=e.length,a=this.blocks;l<r;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,this.block=a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),n)for(t=this.start;l<r&&t<64;++l)a[t>>>2]|=e[l]<<Wn[t++&3];else for(t=this.start;l<r&&t<64;++l)i=e.charCodeAt(l),i<128?a[t>>>2]|=i<<Wn[t++&3]:i<2048?(a[t>>>2]|=(192|i>>>6)<<Wn[t++&3],a[t>>>2]|=(128|i&63)<<Wn[t++&3]):i<55296||i>=57344?(a[t>>>2]|=(224|i>>>12)<<Wn[t++&3],a[t>>>2]|=(128|i>>>6&63)<<Wn[t++&3],a[t>>>2]|=(128|i&63)<<Wn[t++&3]):(i=65536+((i&1023)<<10|e.charCodeAt(++l)&1023),a[t>>>2]|=(240|i>>>18)<<Wn[t++&3],a[t>>>2]|=(128|i>>>12&63)<<Wn[t++&3],a[t>>>2]|=(128|i>>>6&63)<<Wn[t++&3],a[t>>>2]|=(128|i&63)<<Wn[t++&3]);this.lastByteIndex=t,this.bytes+=t-this.start,t>=64?(this.block=a[16],this.start=t-64,this.hash(),this.hashed=!0):this.start=t}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};ou.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,n=this.lastByteIndex;e[16]=this.block,e[n>>>2]|=Jse[n&3],this.block=e[16],n>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}};ou.prototype.hash=function(){var e=this.h0,n=this.h1,o=this.h2,i=this.h3,l=this.h4,t=this.h5,r=this.h6,a=this.h7,s=this.blocks,u,f,g,b,_,p,y,v,E,j,x;for(u=16;u<64;++u)_=s[u-15],f=(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3,_=s[u-2],g=(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10,s[u]=s[u-16]+f+s[u-7]+g<<0;for(x=n&o,u=0;u<64;u+=4)this.first?(this.is224?(v=300032,_=s[0]-1413257819,a=_-150054599<<0,i=_+24177077<<0):(v=704751109,_=s[0]-210244248,a=_-1521486534<<0,i=_+143694565<<0),this.first=!1):(f=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),g=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),v=e&n,b=v^e&o^x,y=l&t^~l&r,_=a+g+y+sv[u]+s[u],p=f+b,a=i+_<<0,i=_+p<<0),f=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),g=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),E=i&e,b=E^i&n^v,y=r&a^~r&l,_=t+g+y+sv[u+1]+s[u+1],p=f+b,r=o+_<<0,o=_+p<<0,f=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),g=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),j=o&i,b=j^o&e^E,y=t&r^~t&a,_=l+g+y+sv[u+2]+s[u+2],p=f+b,t=n+_<<0,n=_+p<<0,f=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),g=(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),x=n&o,b=x^n&i^j,y=t&r^~t&a,_=l+g+y+sv[u+3]+s[u+3],p=f+b,l=e+_<<0,e=_+p<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+e<<0,this.h1=this.h1+n<<0,this.h2=this.h2+o<<0,this.h3=this.h3+i<<0,this.h4=this.h4+l<<0,this.h5=this.h5+t<<0,this.h6=this.h6+r<<0,this.h7=this.h7+a<<0};ou.prototype.hex=function(){this.finalize();var e=this.h0,n=this.h1,o=this.h2,i=this.h3,l=this.h4,t=this.h5,r=this.h6,a=this.h7,s=Ke[e>>>28&15]+Ke[e>>>24&15]+Ke[e>>>20&15]+Ke[e>>>16&15]+Ke[e>>>12&15]+Ke[e>>>8&15]+Ke[e>>>4&15]+Ke[e&15]+Ke[n>>>28&15]+Ke[n>>>24&15]+Ke[n>>>20&15]+Ke[n>>>16&15]+Ke[n>>>12&15]+Ke[n>>>8&15]+Ke[n>>>4&15]+Ke[n&15]+Ke[o>>>28&15]+Ke[o>>>24&15]+Ke[o>>>20&15]+Ke[o>>>16&15]+Ke[o>>>12&15]+Ke[o>>>8&15]+Ke[o>>>4&15]+Ke[o&15]+Ke[i>>>28&15]+Ke[i>>>24&15]+Ke[i>>>20&15]+Ke[i>>>16&15]+Ke[i>>>12&15]+Ke[i>>>8&15]+Ke[i>>>4&15]+Ke[i&15]+Ke[l>>>28&15]+Ke[l>>>24&15]+Ke[l>>>20&15]+Ke[l>>>16&15]+Ke[l>>>12&15]+Ke[l>>>8&15]+Ke[l>>>4&15]+Ke[l&15]+Ke[t>>>28&15]+Ke[t>>>24&15]+Ke[t>>>20&15]+Ke[t>>>16&15]+Ke[t>>>12&15]+Ke[t>>>8&15]+Ke[t>>>4&15]+Ke[t&15]+Ke[r>>>28&15]+Ke[r>>>24&15]+Ke[r>>>20&15]+Ke[r>>>16&15]+Ke[r>>>12&15]+Ke[r>>>8&15]+Ke[r>>>4&15]+Ke[r&15];return this.is224||(s+=Ke[a>>>28&15]+Ke[a>>>24&15]+Ke[a>>>20&15]+Ke[a>>>16&15]+Ke[a>>>12&15]+Ke[a>>>8&15]+Ke[a>>>4&15]+Ke[a&15]),s};ou.prototype.toString=ou.prototype.hex;ou.prototype.digest=function(){this.finalize();var e=this.h0,n=this.h1,o=this.h2,i=this.h3,l=this.h4,t=this.h5,r=this.h6,a=this.h7,s=[e>>>24&255,e>>>16&255,e>>>8&255,e&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255,o>>>24&255,o>>>16&255,o>>>8&255,o&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255];return this.is224||s.push(a>>>24&255,a>>>16&255,a>>>8&255,a&255),s};ou.prototype.array=ou.prototype.digest;ou.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),n=new DataView(e);return n.setUint32(0,this.h0),n.setUint32(4,this.h1),n.setUint32(8,this.h2),n.setUint32(12,this.h3),n.setUint32(16,this.h4),n.setUint32(20,this.h5),n.setUint32(24,this.h6),this.is224||n.setUint32(28,this.h7),e};const GH=(...e)=>new ou(!1,!0).update(e.join("")).hex();var Zse={};dt(Zse,{sha256:()=>GH});var Qse={};dt(Qse,{BaseCache:()=>KH,InMemoryCache:()=>kH,defaultHashKeyEncoder:()=>HH,deserializeStoredGeneration:()=>Xse,serializeGeneration:()=>ele});const HH=(...e)=>GH(e.join("_"));function Xse(e){return e.message!==void 0?{text:e.text,message:hT(e.message)}:{text:e.text}}function ele(e){const n={text:e.text};return e.message!==void 0&&(n.message=e.message.toDict()),n}var KH=class{keyEncoder=HH;makeDefaultKeyEncoder(e){this.keyEncoder=e}};const tle=new Map;var kH=class YH extends KH{cache;constructor(n){super(),this.cache=n??new Map}lookup(n,o){return Promise.resolve(this.cache.get(this.keyEncoder(n,o))??null)}async update(n,o,i){this.cache.set(this.keyEncoder(n,o),i)}static global(){return new YH(tle)}},fm={},Wz;function WH(){if(Wz)return fm;Wz=1,fm.byteLength=a,fm.toByteArray=u,fm.fromByteArray=b;for(var e=[],n=[],o=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,t=i.length;l<t;++l)e[l]=i[l],n[i.charCodeAt(l)]=l;n[45]=62,n[95]=63;function r(_){var p=_.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=_.indexOf("=");y===-1&&(y=p);var v=y===p?0:4-y%4;return[y,v]}function a(_){var p=r(_),y=p[0],v=p[1];return(y+v)*3/4-v}function s(_,p,y){return(p+y)*3/4-y}function u(_){var p,y=r(_),v=y[0],E=y[1],j=new o(s(_,v,E)),x=0,A=E>0?v-4:v,M;for(M=0;M<A;M+=4)p=n[_.charCodeAt(M)]<<18|n[_.charCodeAt(M+1)]<<12|n[_.charCodeAt(M+2)]<<6|n[_.charCodeAt(M+3)],j[x++]=p>>16&255,j[x++]=p>>8&255,j[x++]=p&255;return E===2&&(p=n[_.charCodeAt(M)]<<2|n[_.charCodeAt(M+1)]>>4,j[x++]=p&255),E===1&&(p=n[_.charCodeAt(M)]<<10|n[_.charCodeAt(M+1)]<<4|n[_.charCodeAt(M+2)]>>2,j[x++]=p>>8&255,j[x++]=p&255),j}function f(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function g(_,p,y){for(var v,E=[],j=p;j<y;j+=3)v=(_[j]<<16&16711680)+(_[j+1]<<8&65280)+(_[j+2]&255),E.push(f(v));return E.join("")}function b(_){for(var p,y=_.length,v=y%3,E=[],j=16383,x=0,A=y-v;x<A;x+=j)E.push(g(_,x,x+j>A?A:x+j));return v===1?(p=_[y-1],E.push(e[p>>2]+e[p<<4&63]+"==")):v===2&&(p=(_[y-2]<<8)+_[y-1],E.push(e[p>>10]+e[p>>4&63]+e[p<<2&63]+"=")),E.join("")}return fm}var rle=WH();const nle=s_(rle);var ale=Object.defineProperty,ile=(e,n,o)=>n in e?ale(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,ole=(e,n,o)=>(ile(e,n+"",o),o);function sle(e,n){let o=Array.from({length:e.length},(i,l)=>({start:l,end:l+1}));for(;o.length>1;){let i=null;for(let l=0;l<o.length-1;l++){const t=e.slice(o[l].start,o[l+1].end),r=n.get(t.join(","));r!=null&&(i==null||r<i[0])&&(i=[r,l])}if(i!=null){const l=i[1];o[l]={start:o[l].start,end:o[l+1].end},o.splice(l+1,1)}else break}return o}function lle(e,n){return e.length===1?[n.get(e.join(","))]:sle(e,n).map(o=>n.get(e.slice(o.start,o.end).join(","))).filter(o=>o!=null)}function ule(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var O1=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,n){this.patStr=e.pat_str;const o=e.bpe_ranks.split(`
`).filter(Boolean).reduce((i,l)=>{const[t,r,...a]=l.split(" "),s=Number.parseInt(r,10);return a.forEach((u,f)=>i[u]=s+f),i},{});for(const[i,l]of Object.entries(o)){const t=nle.toByteArray(i);this.rankMap.set(t.join(","),l),this.textMap.set(l,t)}this.specialTokens={...e.special_tokens,...n},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((i,[l,t])=>(i[t]=this.textEncoder.encode(l),i),{})}encode(e,n=[],o="all"){const i=new RegExp(this.patStr,"ug"),l=O1.specialTokenRegex(Object.keys(this.specialTokens)),t=[],r=new Set(n==="all"?Object.keys(this.specialTokens):n),a=new Set(o==="all"?Object.keys(this.specialTokens).filter(u=>!r.has(u)):o);if(a.size>0){const u=O1.specialTokenRegex([...a]),f=e.match(u);if(f!=null)throw new Error(`The text contains a special token that is not allowed: ${f[0]}`)}let s=0;for(;;){let u=null,f=s;for(;l.lastIndex=f,u=l.exec(e),!(u==null||r.has(u[0]));)f=u.index+1;const g=u?.index??e.length;for(const _ of e.substring(s,g).matchAll(i)){const p=this.textEncoder.encode(_[0]),y=this.rankMap.get(p.join(","));if(y!=null){t.push(y);continue}t.push(...lle(p,this.rankMap))}if(u==null)break;let b=this.specialTokens[u[0]];t.push(b),s=u.index+u[0].length}return t}decode(e){const n=[];let o=0;for(let t=0;t<e.length;++t){const r=e[t],a=this.textMap.get(r)??this.inverseSpecialTokens[r];a!=null&&(n.push(a),o+=a.length)}const i=new Uint8Array(o);let l=0;for(const t of n)i.set(t,l),l+=t.length;return this.textDecoder.decode(i)}},JH=O1;ole(JH,"specialTokenRegex",e=>new RegExp(e.map(n=>ule(n)).join("|"),"g"));function cle(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}var dle={};dt(dle,{encodingForModel:()=>DT,getEncoding:()=>ZH});const lv={},fle=new __({});async function ZH(e){return e in lv||(lv[e]=fle.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then(n=>n.json()).then(n=>new JH(n)).catch(n=>{throw delete lv[e],n})),await lv[e]}async function DT(e){return ZH(cle(e))}var hle={};dt(hle,{BaseLangChain:()=>e7,BaseLanguageModel:()=>IT,calculateMaxTokens:()=>mle,getEmbeddingContextSize:()=>ple,getModelContextSize:()=>QH,getModelNameForTiktoken:()=>Kb,isOpenAITool:()=>XH});const Kb=e=>e.startsWith("gpt-5")?"gpt-5":e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e,ple=e=>e==="text-embedding-ada-002"?8191:2046,QH=e=>{switch(Kb(e)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":return 128e3;case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"code-cushman-001":return 2048;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6;case"gemini-pro":case"gemini-pro-vision":return 32768;default:return 4097}};function XH(e){return typeof e!="object"||!e?!1:!!("type"in e&&e.type==="function"&&"function"in e&&typeof e.function=="object"&&e.function&&"name"in e.function&&"parameters"in e.function)}const mle=async({prompt:e,modelName:n})=>{let o;try{o=(await DT(Kb(n))).encode(e).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),o=Math.ceil(e.length/4)}return QH(n)-o},gle=()=>!1;var e7=class extends Bt{verbose;callbacks;tags;metadata;get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),this.verbose=e.verbose??gle(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}},IT=class extends e7{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}caller;cache;constructor({callbacks:e,callbackManager:n,...o}){const{cache:i,...l}=o;super({callbacks:e??n,...l}),typeof i=="object"?this.cache=i:i?this.cache=kH.global():this.cache=void 0,this.caller=new __(o??{})}_encoding;async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let o=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await DT("modelName"in this?Kb(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{o=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return o}static _convertInputToPromptValue(e){return typeof e=="string"?new AT(e):Array.isArray(e)?new NT(e.map(Wc)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const o={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(o).filter(([t,r])=>r!==void 0).map(([t,r])=>`${t}:${JSON.stringify(r)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}get profile(){return{}}},sp=class extends Bt{static lc_name(){return"RunnablePassthrough"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;func;constructor(e){super(e),e&&(this.func=e.func)}async invoke(e,n){const o=Et(n);return this.func&&await this.func(e,o),this._callWithConfig(i=>Promise.resolve(i),e,o)}async*transform(e,n){const o=Et(n);let i,l=!0;for await(const t of this._transformStreamWithConfig(e,r=>r,o))if(yield t,l)if(i===void 0)i=t;else try{i=ad(i,t)}catch{i=void 0,l=!1}this.func&&i!==void 0&&await this.func(i,o)}static assign(e){return new MT(new mp({steps:e}))}};const _le=e=>e();function JO(e){const n=e.constructor;return new n({...e,content:e.contentBlocks,response_metadata:{...e.response_metadata,output_version:"v1"}})}var yle={};dt(yle,{BaseChatModel:()=>kb,SimpleChatModel:()=>vle});function ZO(e){const n=[];for(const o of e){let i=o;if(Array.isArray(o.content))for(let l=0;l<o.content.length;l++){const t=o.content[l];(nT(t)||aT(t))&&i===o&&(i=new o.constructor({...i,content:[...o.content.slice(0,l),bG(t),...o.content.slice(l+1)]}))}n.push(i)}return n}var kb=class zf extends IT{lc_namespace=["langchain","chat_models",this._llmType()];disableStreaming=!1;outputVersion;get callKeys(){return[...super.callKeys,"outputVersion"]}constructor(n){super(n),this.outputVersion=_le(()=>{const o=n.outputVersion??Ou("LC_OUTPUT_VERSION");return o&&["v0","v1"].includes(o)?o:"v0"})}_separateRunnableConfigFromCallOptionsCompat(n){const[o,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=o.signal,[o,i]}async invoke(n,o){const i=zf._convertInputToPromptValue(n);return(await this.generatePrompt([i],o,o?.callbacks)).generations[0][0].message}async*_streamResponseChunks(n,o,i){throw new Error("Not implemented.")}async*_streamIterator(n,o){if(this._streamResponseChunks===zf.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(n,o);else{const l=zf._convertInputToPromptValue(n).toChatMessages(),[t,r]=this._separateRunnableConfigFromCallOptionsCompat(o),a={...t.metadata,...this.getLsParams(r)},s=await Yr.configure(t.callbacks,this.callbacks,t.tags,this.tags,a,this.metadata,{verbose:this.verbose}),u={options:r,invocation_params:this?.invocationParams(r),batch_size:1},f=r.outputVersion??this.outputVersion,g=await s?.handleChatModelStart(this.toJSON(),[ZO(l)],t.runId,void 0,u,void 0,void 0,t.runName);let b,_;try{for await(const p of this._streamResponseChunks(l,r,g?.[0])){if(p.message.id==null){const y=g?.at(0)?.runId;y!=null&&p.message._updateId(`run-${y}`)}p.message.response_metadata={...p.generationInfo,...p.message.response_metadata},f==="v1"?yield JO(p.message):yield p.message,b?b=b.concat(p):b=p,a1(p.message)&&p.message.usage_metadata!==void 0&&(_={tokenUsage:{promptTokens:p.message.usage_metadata.input_tokens,completionTokens:p.message.usage_metadata.output_tokens,totalTokens:p.message.usage_metadata.total_tokens}})}}catch(p){throw await Promise.all((g??[]).map(y=>y?.handleLLMError(p))),p}await Promise.all((g??[]).map(p=>p?.handleLLMEnd({generations:[[b]],llmOutput:_})))}}getLsParams(n){const o=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:n.stop,ls_provider:o}}async _generateUncached(n,o,i,l){const t=n.map(b=>b.map(Wc));let r;if(l!==void 0&&l.length===t.length)r=l;else{const b={...i.metadata,...this.getLsParams(o)},_=await Yr.configure(i.callbacks,this.callbacks,i.tags,this.tags,b,this.metadata,{verbose:this.verbose}),p={options:o,invocation_params:this?.invocationParams(o),batch_size:1};r=await _?.handleChatModelStart(this.toJSON(),t.map(ZO),i.runId,void 0,p,void 0,void 0,i.runName)}const a=o.outputVersion??this.outputVersion,s=[],u=[];if(!!r?.[0].handlers.find(mT)&&!this.disableStreaming&&t.length===1&&this._streamResponseChunks!==zf.prototype._streamResponseChunks)try{const b=await this._streamResponseChunks(t[0],o,r?.[0]);let _,p;for await(const y of b){if(y.message.id==null){const v=r?.at(0)?.runId;v!=null&&y.message._updateId(`run-${v}`)}_===void 0?_=y:_=ad(_,y),a1(y.message)&&y.message.usage_metadata!==void 0&&(p={tokenUsage:{promptTokens:y.message.usage_metadata.input_tokens,completionTokens:y.message.usage_metadata.output_tokens,totalTokens:y.message.usage_metadata.total_tokens}})}if(_===void 0)throw new Error("Received empty response from chat model call.");s.push([_]),await r?.[0].handleLLMEnd({generations:s,llmOutput:p})}catch(b){throw await r?.[0].handleLLMError(b),b}else{const b=await Promise.allSettled(t.map(async(_,p)=>{const y=await this._generate(_,{...o,promptIndex:p},r?.[p]);if(a==="v1")for(const v of y.generations)v.message=JO(v.message);return y}));await Promise.all(b.map(async(_,p)=>{if(_.status==="fulfilled"){const y=_.value;for(const v of y.generations){if(v.message.id==null){const E=r?.at(0)?.runId;E!=null&&v.message._updateId(`run-${E}`)}v.message.response_metadata={...v.generationInfo,...v.message.response_metadata}}return y.generations.length===1&&(y.generations[0].message.response_metadata={...y.llmOutput,...y.generations[0].message.response_metadata}),s[p]=y.generations,u[p]=y.llmOutput,r?.[p]?.handleLLMEnd({generations:[y.generations],llmOutput:y.llmOutput})}else return await r?.[p]?.handleLLMError(_.reason),Promise.reject(_.reason)}))}const g={generations:s,llmOutput:u.length?this._combineLLMOutput?.(...u):void 0};return Object.defineProperty(g,Qg,{value:r?{runIds:r?.map(b=>b.runId)}:void 0,configurable:!0}),g}async _generateCached({messages:n,cache:o,llmStringKey:i,parsedOptions:l,handledOptions:t}){const r=n.map(E=>E.map(Wc)),a={...t.metadata,...this.getLsParams(l)},s=await Yr.configure(t.callbacks,this.callbacks,t.tags,this.tags,a,this.metadata,{verbose:this.verbose}),u={options:l,invocation_params:this?.invocationParams(l),batch_size:1},f=await s?.handleChatModelStart(this.toJSON(),r.map(ZO),t.runId,void 0,u,void 0,void 0,t.runName),g=[],_=(await Promise.allSettled(r.map(async(E,j)=>{const x=zf._convertInputToPromptValue(E).toString(),A=await o.lookup(x,i);return A==null&&g.push(j),A}))).map((E,j)=>({result:E,runManager:f?.[j]})).filter(({result:E})=>E.status==="fulfilled"&&E.value!=null||E.status==="rejected"),p=l.outputVersion??this.outputVersion,y=[];await Promise.all(_.map(async({result:E,runManager:j},x)=>{if(E.status==="fulfilled"){const A=E.value;return y[x]=A.map(M=>("message"in M&&Ju(M.message)&&Yc(M.message)&&(M.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},p==="v1"&&(M.message=JO(M.message))),M.generationInfo={...M.generationInfo,tokenUsage:{}},M)),A.length&&await j?.handleLLMNewToken(A[0].text),j?.handleLLMEnd({generations:[A]},void 0,void 0,void 0,{cached:!0})}else return await j?.handleLLMError(E.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(E.reason)}));const v={generations:y,missingPromptIndices:g,startedRunManagers:f};return Object.defineProperty(v,Qg,{value:f?{runIds:f?.map(E=>E.runId)}:void 0,configurable:!0}),v}async generate(n,o,i){let l;Array.isArray(o)?l={stop:o}:l=o;const t=n.map(p=>p.map(Wc)),[r,a]=this._separateRunnableConfigFromCallOptionsCompat(l);if(r.callbacks=r.callbacks??i,!this.cache)return this._generateUncached(t,a,r);const{cache:s}=this,u=this._getSerializedCacheKeyParametersForCall(a),{generations:f,missingPromptIndices:g,startedRunManagers:b}=await this._generateCached({messages:t,cache:s,llmStringKey:u,parsedOptions:a,handledOptions:r});let _={};if(g.length>0){const p=await this._generateUncached(g.map(y=>t[y]),a,r,b!==void 0?g.map(y=>b?.[y]):void 0);await Promise.all(p.generations.map(async(y,v)=>{const E=g[v];f[E]=y;const j=zf._convertInputToPromptValue(t[E]).toString();return s.update(j,u,y)})),_=p.llmOutput??{}}return{generations:f,llmOutput:_}}invocationParams(n){return{}}_modelType(){return"base_chat_model"}async generatePrompt(n,o,i){const l=n.map(t=>t.toChatMessages());return this.generate(l,o,i)}withStructuredOutput(n,o){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(o?.strict)throw new Error('"strict" mode is not supported for this model by default.');const i=n,l=o?.name,t=Q1(i)??"A function available to call.",r=o?.method,a=o?.includeRaw;if(r==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let s=l??"extract",u;Xc(i)?u=[{type:"function",function:{name:s,description:t,parameters:tc(i)}}]:("name"in i&&(s=i.name),u=[{type:"function",function:{name:s,description:t,parameters:i}}]);const f=this.bindTools(u),g=sd.from(y=>{if(!qn.isInstance(y))throw new Error("Input is not an AIMessageChunk.");if(!y.tool_calls||y.tool_calls.length===0)throw new Error("No tool calls found in the response.");const v=y.tool_calls.find(E=>E.name===s);if(!v)throw new Error(`No tool call found with name ${s}.`);return v.args});if(!a)return f.pipe(g).withConfig({runName:"StructuredOutput"});const b=sp.assign({parsed:(y,v)=>g.invoke(y.raw,v)}),_=sp.assign({parsed:()=>null}),p=b.withFallbacks({fallbacks:[_]});return y_.from([{raw:f},p]).withConfig({runName:"StructuredOutputRunnable"})}},vle=class extends kb{async _generate(e,n,o){const i=await this._call(e,n,o),l=new Or(i);if(typeof l.content!="string")throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:l.content,message:l}]}}},ble={};dt(ble,{extendInteropZodObject:()=>ute,getInteropZodDefaultGetter:()=>dte,getInteropZodObjectShape:()=>kC,getSchemaDescription:()=>Q1,interopParse:()=>ote,interopParseAsync:()=>Z1,interopSafeParse:()=>ite,interopSafeParseAsync:()=>nG,interopZodObjectMakeFieldsOptional:()=>pte,interopZodObjectPartial:()=>cte,interopZodObjectPassthrough:()=>YC,interopZodObjectStrict:()=>fb,interopZodTransformInputSchema:()=>sG,isInteropZodError:()=>mte,isInteropZodLiteral:()=>ate,isInteropZodObject:()=>lte,isInteropZodSchema:()=>Xc,isShapelessZodSchema:()=>ste,isSimpleStringZodSchema:()=>aG,isZodArrayV4:()=>Ib,isZodLiteralV3:()=>tG,isZodLiteralV4:()=>rG,isZodNullableV4:()=>oG,isZodObjectV3:()=>X1,isZodObjectV4:()=>bu,isZodOptionalV4:()=>iG,isZodSchema:()=>nte,isZodSchemaV3:()=>cr,isZodSchemaV4:()=>Ht});const kh="0.19.0";let Jz=!1,$g,t7,r7,E1,n7,a7,i7,o7,s7;function wle(e,n={auto:!1}){if(Jz)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if($g)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${$g}'\``);Jz=n.auto,$g=e.kind,t7=e.fetch,r7=e.FormData,E1=e.File,n7=e.ReadableStream,a7=e.getMultipartRequestOptions,i7=e.getDefaultAgent,o7=e.fileFromPath,s7=e.isFsReadStream}class Sle{constructor(n){this.body=n}get[Symbol.toStringTag](){return"MultipartBody"}}function Ole({manuallyImported:e}={}){const n=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let o,i,l,t;try{o=fetch,i=Request,l=Response,t=Headers}catch(r){throw new Error(`this environment is missing the following Web Fetch API type: ${r.message}. ${n}`)}return{kind:"web",fetch:o,Request:i,Response:l,Headers:t,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${n}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${n}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${n}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${n}`)}},getMultipartRequestOptions:async(r,a)=>({...a,body:new Sle(r)}),getDefaultAgent:r=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:r=>!1}}const l7=()=>{$g||wle(Ole(),{auto:!0})};l7();class au extends Error{}class xr extends au{constructor(n,o,i,l){super(`${xr.makeMessage(n,o,i)}`),this.status=n,this.headers=l,this.error=o}static makeMessage(n,o,i){const l=o?.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):i;return n&&l?`${n} ${l}`:n?`${n} status code (no body)`:l||"(no status code or body)"}static generate(n,o,i,l){if(!n||!l)return new Yb({message:i,cause:x1(o)});const t=o;return n===400?new c7(n,t,i,l):n===401?new d7(n,t,i,l):n===403?new f7(n,t,i,l):n===404?new h7(n,t,i,l):n===409?new p7(n,t,i,l):n===422?new m7(n,t,i,l):n===429?new g7(n,t,i,l):n>=500?new _7(n,t,i,l):new xr(n,t,i,l)}}class R1 extends xr{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class Yb extends xr{constructor({message:n,cause:o}){super(void 0,void 0,n||"Connection error.",void 0),o&&(this.cause=o)}}class u7 extends Yb{constructor({message:n}={}){super({message:n??"Request timed out."})}}let c7=class extends xr{};class d7 extends xr{}class f7 extends xr{}let h7=class extends xr{};class p7 extends xr{}let m7=class extends xr{};class g7 extends xr{}let _7=class extends xr{},Ele=class Dg{constructor(n,o){this.iterator=n,this.controller=o}static fromSSEResponse(n,o){let i=!1;const l=new Rle;async function*t(){if(!n.body)throw o.abort(),new au("Attempted to iterate over a response with no body");const a=new Kf,s=Zz(n.body);for await(const u of s)for(const f of a.decode(u)){const g=l.decode(f);g&&(yield g)}for(const u of a.flush()){const f=l.decode(u);f&&(yield f)}}async function*r(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const s of t())if(!a){if(s.data.startsWith("[DONE]")){a=!0;continue}if(s.event===null||s.event==="error"){let u;try{u=JSON.parse(s.data)}catch(f){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),f}if(u&&u.error)throw new xr(u.error.status_code,u.error,u.error.message,void 0);yield u}}a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||o.abort()}}return new Dg(r,o)}static fromReadableStream(n,o){let i=!1;async function*l(){const r=new Kf,a=Zz(n);for await(const s of a)for(const u of r.decode(s))yield u;for(const s of r.flush())yield s}async function*t(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let r=!1;try{for await(const a of l())r||a&&(yield JSON.parse(a));r=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{r||o.abort()}}return new Dg(t,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],o=[],i=this.iterator(),l=t=>({next:()=>{if(t.length===0){const r=i.next();n.push(r),o.push(r)}return t.shift()}});return[new Dg(()=>l(n),this.controller),new Dg(()=>l(o),this.controller)]}toReadableStream(){const n=this;let o;const i=new TextEncoder;return new n7({async start(){o=n[Symbol.asyncIterator]()},async pull(l){try{const{value:t,done:r}=await o.next();if(r)return l.close();const a=i.encode(JSON.stringify(t)+`
`);l.enqueue(a)}catch(t){l.error(t)}},async cancel(){await o.return?.()}})}};class Rle{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const t={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],t}if(this.chunks.push(n),n.startsWith(":"))return null;let[o,i,l]=jle(n,":");return l.startsWith(" ")&&(l=l.substring(1)),o==="event"?this.event=l:o==="data"&&this.data.push(l),null}}class Kf{constructor(){this.buffer=[],this.trailingCR=!1}decode(n){let o=this.decodeText(n);if(this.trailingCR&&(o="\r"+o,this.trailingCR=!1),o.endsWith("\r")&&(this.trailingCR=!0,o=o.slice(0,-1)),!o)return[];const i=Kf.NEWLINE_CHARS.has(o[o.length-1]||"");let l=o.split(Kf.NEWLINE_REGEXP);return l.length===1&&!i?(this.buffer.push(l[0]),[]):(this.buffer.length>0&&(l=[this.buffer.join("")+l[0],...l.slice(1)],this.buffer=[]),i||(this.buffer=[l.pop()||""]),l)}decodeText(n){if(n==null)return"";if(typeof n=="string")return n;if(typeof Buffer<"u"){if(n instanceof Buffer)return n.toString();if(n instanceof Uint8Array)return Buffer.from(n).toString();throw new au(`Unexpected: received non-Uint8Array (${n.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(n instanceof Uint8Array||n instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(n);throw new au(`Unexpected: received non-Uint8Array/ArrayBuffer (${n.constructor.name}) in a web platform. Please report this error.`)}throw new au("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const n=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,n}}Kf.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Kf.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function jle(e,n){const o=e.indexOf(n);return o!==-1?[e.substring(0,o),n,e.substring(o+n.length)]:[e,"",""]}function Zz(e){if(e[Symbol.asyncIterator])return e;const n=e.getReader();return{async next(){try{const o=await n.read();return o?.done&&n.releaseLock(),o}catch(o){throw n.releaseLock(),o}},async return(){const o=n.cancel();return n.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const y7=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",v7=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Wb(e),Wb=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",xle=e=>v7(e)||y7(e)||s7(e);async function b7(e,n,o){if(e=await e,v7(e))return e;if(y7(e)){const l=await e.blob();n||(n=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const t=Wb(l)?[await l.arrayBuffer()]:[l];return new E1(t,n,o)}const i=await Cle(e);if(n||(n=Mle(e)??"unknown_file"),!o?.type){const l=i[0]?.type;typeof l=="string"&&(o={...o,type:l})}return new E1(i,n,o)}async function Cle(e){let n=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)n.push(e);else if(Wb(e))n.push(await e.arrayBuffer());else if(Ple(e))for await(const o of e)n.push(o);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${Tle(e)}`);return n}function Tle(e){return`[${Object.getOwnPropertyNames(e).map(o=>`"${o}"`).join(", ")}]`}function Mle(e){return QO(e.name)||QO(e.filename)||QO(e.path)?.split(/[\\/]/).pop()}const QO=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},Ple=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Qz=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",zT=async e=>{const n=await Ale(e.body);return a7(n,e)},Ale=async e=>{const n=new r7;return await Promise.all(Object.entries(e||{}).map(([o,i])=>j1(n,o,i))),n},j1=async(e,n,o)=>{if(o!==void 0){if(o==null)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")e.append(n,String(o));else if(xle(o)){const i=await b7(o);e.append(n,i)}else if(Array.isArray(o))await Promise.all(o.map(i=>j1(e,n+"[]",i)));else if(typeof o=="object")await Promise.all(Object.entries(o).map(([i,l])=>j1(e,`${n}[${i}]`,l)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${o} instead`)}};var w7={};l7();async function S7(e){const{response:n}=e;if(e.options.stream)return Xh("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):Ele.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const i=n.headers.get("content-type")?.split(";")[0]?.trim();if(i?.includes("application/json")||i?.endsWith("+json")){const r=await n.json();return Xh("response",n.status,n.url,n.headers,r),r}const t=await n.text();return Xh("response",n.status,n.url,n.headers,t),t}class Jb extends Promise{constructor(n,o=S7){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=o}_thenUnwrap(n){return new Jb(this.responsePromise,async o=>n(await this.parseResponse(o),o))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(n,o){return this.parse().then(n,o)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}class Nle{constructor({baseURL:n,maxRetries:o=2,timeout:i=6e4,httpAgent:l,fetch:t}){this.baseURL=n,this.maxRetries=XO("maxRetries",o),this.timeout=XO("timeout",i),this.httpAgent=l,this.fetch=t??t7}authHeaders(n){return{}}defaultHeaders(n){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...qle(),...this.authHeaders(n)}}validateHeaders(n,o){}defaultIdempotencyKey(){return`stainless-node-retry-${Hle()}`}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,i){return this.request(Promise.resolve(i).then(async l=>{const t=l&&Wb(l?.body)?new DataView(await l.body.arrayBuffer()):l?.body instanceof DataView?l.body:l?.body instanceof ArrayBuffer?new DataView(l.body):l&&ArrayBuffer.isView(l?.body)?new DataView(l.body.buffer):l?.body;return{method:n,path:o,...l,body:t}}))}getAPIList(n,o,i){return this.requestAPIList(o,{method:"get",path:n,...i})}calculateContentLength(n){if(typeof n=="string"){if(typeof Buffer<"u")return Buffer.byteLength(n,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(n).length.toString()}else if(ArrayBuffer.isView(n))return n.byteLength.toString();return null}buildRequest(n,{retryCount:o=0}={}){n={...n};const{method:i,path:l,query:t,headers:r={}}=n,a=ArrayBuffer.isView(n.body)||n.__binaryRequest&&typeof n.body=="string"?n.body:Qz(n.body)?n.body.body:n.body?JSON.stringify(n.body,null,2):null,s=this.calculateContentLength(a),u=this.buildURL(l,t);"timeout"in n&&XO("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const f=n.httpAgent??this.httpAgent??i7(u),g=n.timeout+1e3;typeof f?.options?.timeout=="number"&&g>(f.options.timeout??0)&&(f.options.timeout=g),this.idempotencyHeader&&i!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=n.idempotencyKey);const b=this.buildHeaders({options:n,headers:r,contentLength:s,retryCount:o});return{req:{method:i,...a&&{body:a},headers:b,...f&&{agent:f},signal:n.signal??null},url:u,timeout:n.timeout}}buildHeaders({options:n,headers:o,contentLength:i,retryCount:l}){const t={};i&&(t["content-length"]=i);const r=this.defaultHeaders(n);return n4(t,r),n4(t,o),Qz(n.body)&&$g!=="node"&&delete t["content-type"],uv(r,"x-stainless-retry-count")===void 0&&uv(o,"x-stainless-retry-count")===void 0&&(t["x-stainless-retry-count"]=String(l)),uv(r,"x-stainless-timeout")===void 0&&uv(o,"x-stainless-timeout")===void 0&&n.timeout&&(t["x-stainless-timeout"]=String(n.timeout)),this.validateHeaders(t,o),t}async prepareOptions(n){}async prepareRequest(n,{url:o,options:i}){}parseHeaders(n){return n?Symbol.iterator in n?Object.fromEntries(Array.from(n).map(o=>[...o])):{...n}:{}}makeStatusError(n,o,i,l){return xr.generate(n,o,i,l)}request(n,o=null){return new Jb(this.makeRequest(n,o))}async makeRequest(n,o){const i=await n,l=i.maxRetries??this.maxRetries;o==null&&(o=l),await this.prepareOptions(i);const{req:t,url:r,timeout:a}=this.buildRequest(i,{retryCount:l-o});if(await this.prepareRequest(t,{url:r,options:i}),Xh("request",r,i,t.headers),i.signal?.aborted)throw new R1;const s=new AbortController,u=await this.fetchWithTimeout(r,t,a,s).catch(x1);if(u instanceof Error){if(i.signal?.aborted)throw new R1;if(o)return this.retryRequest(i,o);throw u.name==="AbortError"?new u7:new Yb({cause:u})}const f=Ile(u.headers);if(!u.ok){if(o&&this.shouldRetry(u)){const v=`retrying, ${o} attempts remaining`;return Xh(`response (error; ${v})`,u.status,r,f),this.retryRequest(i,o,f)}const g=await u.text().catch(v=>x1(v).message),b=Lle(g),_=b?void 0:g;throw Xh(`response (error; ${o?"(error; no more retries left)":"(error; not retryable)"})`,u.status,r,f,_),this.makeStatusError(u.status,b,_,f)}return{response:u,options:i,controller:s}}requestAPIList(n,o){const i=this.makeRequest(o,null);return new Dle(this,i,n)}buildURL(n,o){const i=$le(n)?new URL(n):new URL(this.baseURL+(this.baseURL.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),l=this.defaultQuery();return Vle(l)||(o={...l,...o}),typeof o=="object"&&o&&!Array.isArray(o)&&(i.search=this.stringifyQuery(o)),i.toString()}stringifyQuery(n){return Object.entries(n).filter(([o,i])=>typeof i<"u").map(([o,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(o)}=`;throw new au(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(n,o,i,l){const{signal:t,...r}=o||{};t&&t.addEventListener("abort",()=>l.abort());const a=setTimeout(()=>l.abort(),i),s={signal:l.signal,...r};return s.method&&(s.method=s.method.toUpperCase()),this.fetch.call(void 0,n,s).finally(()=>{clearTimeout(a)})}shouldRetry(n){const o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,i){let l;const t=i?.["retry-after-ms"];if(t){const a=parseFloat(t);Number.isNaN(a)||(l=a)}const r=i?.["retry-after"];if(r&&!l){const a=parseFloat(r);Number.isNaN(a)?l=Date.parse(r)-Date.now():l=a*1e3}if(!(l&&0<=l&&l<60*1e3)){const a=n.maxRetries??this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(o,a)}return await Fle(l),this.makeRequest(n,o-1)}calculateDefaultRetryTimeoutMillis(n,o){const t=o-n,r=Math.min(.5*Math.pow(2,t),8),a=1-Math.random()*.25;return r*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${kh}`}}class Dle extends Jb{constructor(n,o,i){super(o,async l=>new i(n,l.response,await S7(l),l.options))}async*[Symbol.asyncIterator](){const n=await this;for await(const o of n)yield o}}const Ile=e=>new Proxy(Object.fromEntries(e.entries()),{get(n,o){const i=o.toString();return n[i.toLowerCase()]||n[i]}}),zle=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kh,"X-Stainless-OS":e4(Deno.build.os),"X-Stainless-Arch":Xz(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kh,"X-Stainless-OS":e4(process.platform),"X-Stainless-Arch":Xz(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Ble();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ble(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:o}of e){const i=o.exec(navigator.userAgent);if(i){const l=i[1]||0,t=i[2]||0,r=i[3]||0;return{browser:n,version:`${l}.${t}.${r}`}}}return null}const Xz=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",e4=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let t4;const qle=()=>t4??(t4=zle()),Lle=e=>{try{return JSON.parse(e)}catch{return}},Ule=/^[a-z][a-z0-9+.-]*:/i,$le=e=>Ule.test(e),Fle=e=>new Promise(n=>setTimeout(n,e)),XO=(e,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new au(`${e} must be an integer`);if(n<0)throw new au(`${e} must be a positive integer`);return n},x1=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},r4=e=>{if(typeof process<"u")return w7?.[e]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(e)?.trim()};function Vle(e){if(!e)return!0;for(const n in e)return!1;return!0}function Gle(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function n4(e,n){for(const o in n){if(!Gle(n,o))continue;const i=o.toLowerCase();if(!i)continue;const l=n[o];l===null?delete e[i]:l!==void 0&&(e[i]=l)}}function Xh(e,...n){typeof process<"u"&&w7?.DEBUG==="true"&&console.log(`Groq:DEBUG:${e}`,...n)}const Hle=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)}),Kle=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",kle=e=>typeof e?.get=="function",uv=(e,n)=>{const o=n.toLowerCase();if(kle(e)){const i=n[0]?.toUpperCase()+n.substring(1).replace(/([^\w])(\w)/g,(l,t,r)=>t+r.toUpperCase());for(const l of[n,o,n.toUpperCase(),i]){const t=e.get(l);if(t)return t}}for(const[i,l]of Object.entries(e))if(i.toLowerCase()===o)return Array.isArray(l)?(l.length<=1||console.warn(`Received ${l.length} entries for the ${n} header, using the first entry.`),l[0]):l};class uu{constructor(n){this._client=n}}class O7 extends uu{create(n,o){return this._client.post("/openai/v1/audio/speech",{body:n,...o,headers:{Accept:"application/octet-stream",...o?.headers},__binaryResponse:!0})}}class E7 extends uu{create(n,o){return this._client.post("/openai/v1/audio/transcriptions",zT({body:n,...o}))}}class R7 extends uu{create(n,o){return this._client.post("/openai/v1/audio/translations",zT({body:n,...o}))}}class v_ extends uu{constructor(){super(...arguments),this.speech=new O7(this._client),this.transcriptions=new E7(this._client),this.translations=new R7(this._client)}}v_.Speech=O7;v_.Transcriptions=E7;v_.Translations=R7;class j7 extends uu{create(n,o){return this._client.post("/openai/v1/batches",{body:n,...o})}retrieve(n,o){return this._client.get(`/openai/v1/batches/${n}`,o)}list(n){return this._client.get("/openai/v1/batches",n)}cancel(n,o){return this._client.post(`/openai/v1/batches/${n}/cancel`,o)}}let x7=class extends uu{create(n,o){return this._client.post("/openai/v1/chat/completions",{body:n,...o,stream:n.stream??!1})}};class BT extends uu{constructor(){super(...arguments),this.completions=new x7(this._client)}}BT.Completions=x7;class C7 extends uu{}let T7=class extends uu{create(n,o){return this._client.post("/openai/v1/embeddings",{body:n,...o})}};class M7 extends uu{create(n,o){return this._client.post("/openai/v1/files",zT({body:n,...o}))}list(n){return this._client.get("/openai/v1/files",n)}delete(n,o){return this._client.delete(`/openai/v1/files/${n}`,o)}content(n,o){return this._client.get(`/openai/v1/files/${n}/content`,o)}info(n,o){return this._client.get(`/openai/v1/files/${n}`,o)}}class P7 extends uu{retrieve(n,o){return this._client.get(`/openai/v1/models/${n}`,o)}list(n){return this._client.get("/openai/v1/models",n)}delete(n,o){return this._client.delete(`/openai/v1/models/${n}`,o)}}var A7;class qt extends Nle{constructor({baseURL:n=r4("GROQ_BASE_URL"),apiKey:o=r4("GROQ_API_KEY"),...i}={}){if(o===void 0)throw new au("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const l={apiKey:o,...i,baseURL:n||"https://api.groq.com"};if(!l.dangerouslyAllowBrowser&&Kle())throw new au(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:l.baseURL,timeout:l.timeout??6e4,httpAgent:l.httpAgent,maxRetries:l.maxRetries,fetch:l.fetch}),this.completions=new C7(this),this.chat=new BT(this),this.embeddings=new T7(this),this.audio=new v_(this),this.models=new P7(this),this.batches=new j7(this),this.files=new M7(this),this._options=l,this.apiKey=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(n){return{...super.defaultHeaders(n),...this._options.defaultHeaders}}authHeaders(n){return{Authorization:`Bearer ${this.apiKey}`}}}A7=qt;qt.Groq=A7;qt.DEFAULT_TIMEOUT=6e4;qt.GroqError=au;qt.APIError=xr;qt.APIConnectionError=Yb;qt.APIConnectionTimeoutError=u7;qt.APIUserAbortError=R1;qt.NotFoundError=h7;qt.ConflictError=p7;qt.RateLimitError=g7;qt.BadRequestError=c7;qt.AuthenticationError=d7;qt.InternalServerError=_7;qt.PermissionDeniedError=f7;qt.UnprocessableEntityError=m7;qt.toFile=b7;qt.fileFromPath=o7;qt.Completions=C7;qt.Chat=BT;qt.Embeddings=T7;qt.Audio=v_;qt.Models=P7;qt.Batches=j7;qt.Files=M7;var Yle=class extends Bt{static lc_name(){return"RouterRunnable"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnables;constructor(e){super(e),this.runnables=e.runnables}async invoke(e,n){const{key:o,input:i}=e,l=this.runnables[o];if(l===void 0)throw new Error(`No runnable associated with key "${o}".`);return l.invoke(i,Et(n))}async batch(e,n,o){const i=e.map(g=>g.key),l=e.map(g=>g.input);if(i.find(g=>this.runnables[g]===void 0)!==void 0)throw new Error("One or more keys do not have a corresponding runnable.");const r=i.map(g=>this.runnables[g]),a=this._getOptionsList(n??{},e.length),s=a[0]?.maxConcurrency??o?.maxConcurrency,u=s&&s>0?s:e.length,f=[];for(let g=0;g<l.length;g+=u){const b=l.slice(g,g+u).map((p,y)=>r[y].invoke(p,a[y])),_=await Promise.all(b);f.push(_)}return f.flat()}async stream(e,n){const{key:o,input:i}=e,l=this.runnables[o];if(l===void 0)throw new Error(`No runnable associated with key "${o}".`);return l.stream(i,n)}},Wle=class extends Bt{static lc_name(){return"RunnableBranch"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;default;branches;constructor(e){super(e),this.branches=e.branches,this.default=e.default}static from(e){if(e.length<1)throw new Error("RunnableBranch requires at least one branch");const o=e.slice(0,-1).map(([l,t])=>[ru(l),ru(t)]),i=ru(e[e.length-1]);return new this({branches:o,default:i})}async _invoke(e,n,o){let i;for(let l=0;l<this.branches.length;l+=1){const[t,r]=this.branches[l];if(await t.invoke(e,Vt(n,{callbacks:o?.getChild(`condition:${l+1}`)}))){i=await r.invoke(e,Vt(n,{callbacks:o?.getChild(`branch:${l+1}`)}));break}}return i||(i=await this.default.invoke(e,Vt(n,{callbacks:o?.getChild("branch:default")}))),i}async invoke(e,n={}){return this._callWithConfig(this._invoke,e,n)}async*_streamIterator(e,n){const i=await(await yn(n))?.handleChainStart(this.toJSON(),lr(e,"input"),n?.runId,void 0,void 0,void 0,n?.runName);let l,t=!0,r;try{for(let a=0;a<this.branches.length;a+=1){const[s,u]=this.branches[a];if(await s.invoke(e,Vt(n,{callbacks:i?.getChild(`condition:${a+1}`)}))){r=await u.stream(e,Vt(n,{callbacks:i?.getChild(`branch:${a+1}`)}));for await(const g of r)if(yield g,t)if(l===void 0)l=g;else try{l=ad(l,g)}catch{l=void 0,t=!1}break}}if(r===void 0){r=await this.default.stream(e,Vt(n,{callbacks:i?.getChild("branch:default")}));for await(const a of r)if(yield a,t)if(l===void 0)l=a;else try{l=ad(l,a)}catch{l=void 0,t=!1}}}catch(a){throw await i?.handleChainError(a),a}await i?.handleChainEnd(l??{})}},Jle=class extends Hf{runnable;inputMessagesKey;outputMessagesKey;historyMessagesKey;getMessageHistory;constructor(e){let n=sd.from((t,r)=>this._enterHistory(t,r??{})).withConfig({runName:"loadHistory"});const o=e.historyMessagesKey??e.inputMessagesKey;o&&(n=sp.assign({[o]:n}).withConfig({runName:"insertHistory"}));const i=n.pipe(e.runnable.withListeners({onEnd:(t,r)=>this._exitHistory(t,r??{})})).withConfig({runName:"RunnableWithMessageHistory"}),l=e.config??{};super({...e,config:l,bound:i}),this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!Ju(e)){let o;this.inputMessagesKey?o=this.inputMessagesKey:Object.keys(e).length===1?o=Object.keys(e)[0]:o="input",Array.isArray(e[o])&&Array.isArray(e[o][0])?n=e[o][0]:n=e[o]}else n=e;if(typeof n=="string")return[new It(n)];if(Array.isArray(n))return n;if(Ju(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!Ju(e)&&typeof e!="string"){let o;this.outputMessagesKey!==void 0?o=this.outputMessagesKey:Object.keys(e).length===1?o=Object.keys(e)[0]:o="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[o]}else n=e;if(typeof n=="string")return[new Or(n)];if(Array.isArray(n))return n;if(Ju(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){const i=await(n?.configurable?.messageHistory).getMessages();return this.historyMessagesKey===void 0?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,n){const o=n.configurable?.messageHistory;let i;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?i=e.inputs[0]:i=e.inputs;let l=this._getInputMessages(i);if(this.historyMessagesKey===void 0){const a=await o.getMessages();l=l.slice(a.length)}const t=e.outputs;if(!t)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const r=this._getOutputMessages(t);await o.addMessages([...l,...r])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const i={[this.inputMessagesKey??"input"]:"foo"},l={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(i)}, ${JSON.stringify(l)})`)}const{sessionId:o}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(o),n}},Zle={};dt(Zle,{RouterRunnable:()=>Yle,Runnable:()=>Bt,RunnableAssign:()=>MT,RunnableBinding:()=>Hf,RunnableBranch:()=>Wle,RunnableEach:()=>Ise,RunnableLambda:()=>sd,RunnableMap:()=>mp,RunnableParallel:()=>qse,RunnablePassthrough:()=>sp,RunnablePick:()=>UH,RunnableRetry:()=>TT,RunnableSequence:()=>y_,RunnableToolLike:()=>S1,RunnableWithFallbacks:()=>LH,RunnableWithMessageHistory:()=>Jle,_coerceToRunnable:()=>ru,ensureConfig:()=>Et,getCallbackManagerForConfig:()=>yn,mergeConfigs:()=>d1,patchConfig:()=>Vt,pickRunnableConfigKeys:()=>Gf,raceWithSignal:()=>ac});var N7=class extends Bt{parseResultWithPrompt(e,n,o){return this.parseResult(e,o)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(o,i)=>this.parseResult([{text:o}],i?.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(o,i)=>this.parseResult([{message:o,text:this._baseMessageToString(o)}],i?.callbacks),e,{...n,runType:"parser"})}},Zb=class extends N7{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,o){return this.parse(e,o)}_type(){throw new Error("_type not implemented")}},Xu=class extends Error{llmOutput;observation;sendToLLM;constructor(e,n,o,i=!1){if(super(e),this.llmOutput=n,this.observation=o,this.sendToLLM=i,i&&(o===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");zb(this,"OUTPUT_PARSING_FAILURE")}},b_=class extends Zb{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}},Qb=class extends b_{diff=!1;constructor(e){super(e),this.diff=e?.diff??this.diff}async*_transform(e){let n,o;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let l;if(lT(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");l=new Zc({message:i,text:i.content})}else if(Ju(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");l=new Zc({message:bb(i),text:i.content})}else l=new ip({text:i});o===void 0?o=l:o=o.concat(l);const t=await this.parsePartialResult([o]);t!=null&&!Bf(t,n)&&(this.diff?yield this._diff(n,t):yield t,n=t)}}getFormatInstructions(){return""}},Qle={};dt(Qle,{applyPatch:()=>op,compare:()=>RT});var D7=class extends Qb{static lc_name(){return"JsonOutputParser"}lc_namespace=["langchain_core","output_parsers"];lc_serializable=!0;_concatOutputChunks(e,n){return this.diff?super._concatOutputChunks(e,n):n}_diff(e,n){if(n)return e?RT(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return n1(e[0].text)}async parse(e){return n1(e,JSON.parse)}getFormatInstructions(){return""}},Xle=class extends b_{static lc_name(){return"BytesOutputParser"}lc_namespace=["langchain_core","output_parsers","bytes"];lc_serializable=!0;textEncoder=new TextEncoder;parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}},w_=class extends b_{re;async*_transform(e){let n="";for await(const o of e)if(typeof o=="string"?n+=o:n+=o.content,this.re){const i=[...n.matchAll(this.re)];if(i.length>1){let l=0;for(const t of i.slice(0,-1))yield[t[1]],l+=(t.index??0)+t[0].length;n=n.slice(l)}}else{const i=await this.parse(n);if(i.length>1){for(const l of i.slice(0,-1))yield[l];n=i[i.length-1]}}for(const o of await this.parse(n))yield[o]}},eue=class extends w_{static lc_name(){return"CommaSeparatedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;async parse(e){try{return e.trim().split(",").map(n=>n.trim())}catch{throw new Xu(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},tue=class extends w_{lc_namespace=["langchain_core","output_parsers","list"];length;separator;constructor({length:e,separator:n}){super(...arguments),this.length=e,this.separator=n||","}async parse(e){try{const n=e.trim().split(this.separator).map(o=>o.trim());if(this.length!==void 0&&n.length!==this.length)throw new Xu(`Incorrect number of items. Expected ${this.length}, got ${n.length}.`);return n}catch(n){throw Object.getPrototypeOf(n)===Xu.prototype?n:new Xu(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${this.length===void 0?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},rue=class extends w_{static lc_name(){return"NumberedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}re=/\d+\.\s([^\n]+)/g;async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},nue=class extends w_{static lc_name(){return"NumberedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}re=/^\s*[-*]\s([^\n]+)$/gm;async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},aue=class extends b_{static lc_name(){return"StrOutputParser"}lc_namespace=["langchain_core","output_parsers","string"];lc_serializable=!0;parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((n,o)=>n+this._messageContentToString(o),"")}},qT=class extends Zb{static lc_name(){return"StructuredOutputParser"}lc_namespace=["langchain","output_parsers","structured"];toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),this.schema=e}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=rT(Object.fromEntries(Object.entries(e).map(([o,i])=>[o,tT().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(tc(this.schema))}
\`\`\`
`}async parse(e){try{const n=e.trim(),i=(n.match(/^```(?:json)?\s*([\s\S]*?)```/)?.[1]||n.match(/```json\s*([\s\S]*?)```/)?.[1]||n).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(l,t)=>`"${t.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await Z1(this.schema,JSON.parse(i))}catch(n){throw new Xu(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}},I7=class extends qT{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(e){const n=e?.interpolationDepth??1;if(n<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction(tc(this.schema)).replaceAll("{","{".repeat(n)).replaceAll("}","}".repeat(n))}
\`\`\``}_schemaToInstruction(e,n=2){const o=e;if("type"in o){let i=!1,l;if(Array.isArray(o.type)){const a=o.type.findIndex(s=>s==="null");a!==-1&&(i=!0,o.type.splice(a,1)),l=o.type.join(" | ")}else l=o.type;if(o.type==="object"&&o.properties){const a=o.description?` // ${o.description}`:"";return`{
${Object.entries(o.properties).map(([u,f])=>{const g=o.required?.includes(u)?"":" (optional)";return`${" ".repeat(n)}"${u}": ${this._schemaToInstruction(f,n+2)}${g}`}).join(`
`)}
${" ".repeat(n-2)}}${a}`}if(o.type==="array"&&o.items){const a=o.description?` // ${o.description}`:"";return`array[
${" ".repeat(n)}${this._schemaToInstruction(o.items,n+2)}
${" ".repeat(n-2)}] ${a}`}const t=i?" (nullable)":"",r=o.description?` // ${o.description}`:"";return`${l}${r}${t}`}if("anyOf"in o)return o.anyOf.map(i=>this._schemaToInstruction(i,n)).join(`
${" ".repeat(n-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=rT(Object.fromEntries(Object.entries(e).map(([o,i])=>[o,tT().describe(i)])));return new this(n)}},iue=class extends Zb{structuredInputParser;constructor({inputSchema:e}){super(...arguments),this.structuredInputParser=new I7(e)}async parse(e){let n;try{n=await this.structuredInputParser.parse(e)}catch(o){throw new Xu(`Failed to parse. Text: "${e}". Error: ${o}`,e)}return this.outputProcessor(n)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}};const oue=function(){const e={};e.parser=function(V,U){return new o(V,U)},e.SAXParser=o,e.SAXStream=u,e.createStream=s,e.MAX_BUFFER_LENGTH=64*1024;const n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function o(V,U){if(!(this instanceof o))return new o(V,U);var X=this;l(X),X.q=X.c="",X.bufferCheckPosition=e.MAX_BUFFER_LENGTH,X.opt=U||{},X.opt.lowercase=X.opt.lowercase||X.opt.lowercasetags,X.looseCase=X.opt.lowercase?"toLowerCase":"toUpperCase",X.tags=[],X.closed=X.closedRoot=X.sawRoot=!1,X.tag=X.error=null,X.strict=!!V,X.noscript=!!(V||X.opt.noscript),X.state=P.BEGIN,X.strictEntities=X.opt.strictEntities,X.ENTITIES=X.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),X.attribList=[],X.opt.xmlns&&(X.ns=Object.create(p)),X.trackPosition=X.opt.position!==!1,X.trackPosition&&(X.position=X.line=X.column=0),q(X,"onready")}Object.create||(Object.create=function(V){function U(){}U.prototype=V;var X=new U;return X}),Object.keys||(Object.keys=function(V){var U=[];for(var X in V)V.hasOwnProperty(X)&&U.push(X);return U});function i(V){for(var U=Math.max(e.MAX_BUFFER_LENGTH,10),X=0,Z=0,le=n.length;Z<le;Z++){var me=V[n[Z]].length;if(me>U)switch(n[Z]){case"textNode":S(V);break;case"cdata":B(V,"oncdata",V.cdata),V.cdata="";break;case"script":B(V,"onscript",V.script),V.script="";break;default:Y(V,"Max buffer length exceeded: "+n[Z])}X=Math.max(X,me)}var we=e.MAX_BUFFER_LENGTH-X;V.bufferCheckPosition=we+V.position}function l(V){for(var U=0,X=n.length;U<X;U++)V[n[U]]=""}function t(V){S(V),V.cdata!==""&&(B(V,"oncdata",V.cdata),V.cdata=""),V.script!==""&&(B(V,"onscript",V.script),V.script="")}o.prototype={end:function(){W(this)},write:_e,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){t(this)}};var r=ReadableStream;r||(r=function(){});var a=e.EVENTS.filter(function(V){return V!=="error"&&V!=="end"});function s(V,U){return new u(V,U)}function u(V,U){if(!(this instanceof u))return new u(V,U);r.apply(this),this._parser=new o(V,U),this.writable=!0,this.readable=!0;var X=this;this._parser.onend=function(){X.emit("end")},this._parser.onerror=function(Z){X.emit("error",Z),X._parser.error=null},this._decoder=null,a.forEach(function(Z){Object.defineProperty(X,"on"+Z,{get:function(){return X._parser["on"+Z]},set:function(le){if(!le)return X.removeAllListeners(Z),X._parser["on"+Z]=le,le;X.on(Z,le)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(r.prototype,{constructor:{value:u}}),u.prototype.write=function(V){return this._parser.write(V.toString()),this.emit("data",V),!0},u.prototype.end=function(V){return V&&V.length&&this.write(V),this._parser.end(),!0},u.prototype.on=function(V,U){var X=this;return!X._parser["on"+V]&&a.indexOf(V)!==-1&&(X._parser["on"+V]=function(){var Z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Z.splice(0,0,V),X.emit.apply(X,Z)}),r.prototype.on.call(X,V,U)};var f="[CDATA[",g="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",p={xml:b,xmlns:_},y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,j=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function x(V){return V===" "||V===`
`||V==="\r"||V==="	"}function A(V){return V==='"'||V==="'"}function M(V){return V===">"||x(V)}function T(V,U){return V.test(U)}function D(V,U){return!T(V,U)}var P=0;e.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(V){var U=e.ENTITIES[V],X=typeof U=="number"?String.fromCharCode(U):U;e.ENTITIES[V]=X});for(var F in e.STATE)e.STATE[e.STATE[F]]=F;P=e.STATE;function q(V,U,X){V[U]&&V[U](X)}function B(V,U,X){V.textNode&&S(V),q(V,U,X)}function S(V){V.textNode=H(V.opt,V.textNode),V.textNode&&q(V,"ontext",V.textNode),V.textNode=""}function H(V,U){return V.trim&&(U=U.trim()),V.normalize&&(U=U.replace(/\s+/g," ")),U}function Y(V,U){return S(V),V.trackPosition&&(U+=`
Line: `+V.line+`
Column: `+V.column+`
Char: `+V.c),U=new Error(U),V.error=U,q(V,"onerror",U),V}function W(V){return V.sawRoot&&!V.closedRoot&&$(V,"Unclosed root tag"),V.state!==P.BEGIN&&V.state!==P.BEGIN_WHITESPACE&&V.state!==P.TEXT&&Y(V,"Unexpected end"),S(V),V.c="",V.closed=!0,q(V,"onend"),o.call(V,V.strict,V.opt),V}function $(V,U){if(typeof V!="object"||!(V instanceof o))throw new Error("bad call to strictFail");V.strict&&Y(V,U)}function k(V){V.strict||(V.tagName=V.tagName[V.looseCase]());var U=V.tags[V.tags.length-1]||V,X=V.tag={name:V.tagName,attributes:{}};V.opt.xmlns&&(X.ns=U.ns),V.attribList.length=0,B(V,"onopentagstart",X)}function Q(V,U){var X=V.indexOf(":"),Z=X<0?["",V]:V.split(":"),le=Z[0],me=Z[1];return U&&V==="xmlns"&&(le="xmlns",me=""),{prefix:le,local:me}}function re(V){if(V.strict||(V.attribName=V.attribName[V.looseCase]()),V.attribList.indexOf(V.attribName)!==-1||V.tag.attributes.hasOwnProperty(V.attribName)){V.attribName=V.attribValue="";return}if(V.opt.xmlns){var U=Q(V.attribName,!0),X=U.prefix,Z=U.local;if(X==="xmlns")if(Z==="xml"&&V.attribValue!==b)$(V,"xml: prefix must be bound to "+b+`
Actual: `+V.attribValue);else if(Z==="xmlns"&&V.attribValue!==_)$(V,"xmlns: prefix must be bound to "+_+`
Actual: `+V.attribValue);else{var le=V.tag,me=V.tags[V.tags.length-1]||V;le.ns===me.ns&&(le.ns=Object.create(me.ns)),le.ns[Z]=V.attribValue}V.attribList.push([V.attribName,V.attribValue])}else V.tag.attributes[V.attribName]=V.attribValue,B(V,"onattribute",{name:V.attribName,value:V.attribValue});V.attribName=V.attribValue=""}function C(V,U){if(V.opt.xmlns){var X=V.tag,Z=Q(V.tagName);X.prefix=Z.prefix,X.local=Z.local,X.uri=X.ns[Z.prefix]||"",X.prefix&&!X.uri&&($(V,"Unbound namespace prefix: "+JSON.stringify(V.tagName)),X.uri=Z.prefix);var le=V.tags[V.tags.length-1]||V;X.ns&&le.ns!==X.ns&&Object.keys(X.ns).forEach(function(Ie){B(V,"onopennamespace",{prefix:Ie,uri:X.ns[Ie]})});for(var me=0,we=V.attribList.length;me<we;me++){var ae=V.attribList[me],oe=ae[0],ve=ae[1],Ce=Q(oe,!0),Ae=Ce.prefix,Ne=Ce.local,de=Ae===""?"":X.ns[Ae]||"",pe={name:oe,value:ve,prefix:Ae,local:Ne,uri:de};Ae&&Ae!=="xmlns"&&!de&&($(V,"Unbound namespace prefix: "+JSON.stringify(Ae)),pe.uri=Ae),V.tag.attributes[oe]=pe,B(V,"onattribute",pe)}V.attribList.length=0}V.tag.isSelfClosing=!!U,V.sawRoot=!0,V.tags.push(V.tag),B(V,"onopentag",V.tag),U||(!V.noscript&&V.tagName.toLowerCase()==="script"?V.state=P.SCRIPT:V.state=P.TEXT,V.tag=null,V.tagName=""),V.attribName=V.attribValue="",V.attribList.length=0}function I(V){if(!V.tagName){$(V,"Weird empty close tag."),V.textNode+="</>",V.state=P.TEXT;return}if(V.script){if(V.tagName!=="script"){V.script+="</"+V.tagName+">",V.tagName="",V.state=P.SCRIPT;return}B(V,"onscript",V.script),V.script=""}var U=V.tags.length,X=V.tagName;V.strict||(X=X[V.looseCase]());for(var Z=X;U--;){var le=V.tags[U];if(le.name!==Z)$(V,"Unexpected close tag");else break}if(U<0){$(V,"Unmatched closing tag: "+V.tagName),V.textNode+="</"+V.tagName+">",V.state=P.TEXT;return}V.tagName=X;for(var me=V.tags.length;me-- >U;){var we=V.tag=V.tags.pop();V.tagName=V.tag.name,B(V,"onclosetag",V.tagName);var ae={};for(var oe in we.ns)ae[oe]=we.ns[oe];var ve=V.tags[V.tags.length-1]||V;V.opt.xmlns&&we.ns!==ve.ns&&Object.keys(we.ns).forEach(function(Ce){var Ae=we.ns[Ce];B(V,"onclosenamespace",{prefix:Ce,uri:Ae})})}U===0&&(V.closedRoot=!0),V.tagName=V.attribValue=V.attribName="",V.attribList.length=0,V.state=P.TEXT}function K(V){var U=V.entity,X=U.toLowerCase(),Z,le="";return V.ENTITIES[U]?V.ENTITIES[U]:V.ENTITIES[X]?V.ENTITIES[X]:(U=X,U.charAt(0)==="#"&&(U.charAt(1)==="x"?(U=U.slice(2),Z=parseInt(U,16),le=Z.toString(16)):(U=U.slice(1),Z=parseInt(U,10),le=Z.toString(10))),U=U.replace(/^0+/,""),isNaN(Z)||le.toLowerCase()!==U?($(V,"Invalid character entity"),"&"+V.entity+";"):String.fromCodePoint(Z))}function ee(V,U){U==="<"?(V.state=P.OPEN_WAKA,V.startTagPosition=V.position):x(U)||($(V,"Non-whitespace before first tag."),V.textNode=U,V.state=P.TEXT)}function fe(V,U){var X="";return U<V.length&&(X=V.charAt(U)),X}function _e(V){var U=this;if(this.error)throw this.error;if(U.closed)return Y(U,"Cannot write after close. Assign an onready handler.");if(V===null)return W(U);typeof V=="object"&&(V=V.toString());for(var X=0,Z="";Z=fe(V,X++),U.c=Z,!!Z;)switch(U.trackPosition&&(U.position++,Z===`
`?(U.line++,U.column=0):U.column++),U.state){case P.BEGIN:if(U.state=P.BEGIN_WHITESPACE,Z==="\uFEFF")continue;ee(U,Z);continue;case P.BEGIN_WHITESPACE:ee(U,Z);continue;case P.TEXT:if(U.sawRoot&&!U.closedRoot){for(var le=X-1;Z&&Z!=="<"&&Z!=="&";)Z=fe(V,X++),Z&&U.trackPosition&&(U.position++,Z===`
`?(U.line++,U.column=0):U.column++);U.textNode+=V.substring(le,X-1)}Z==="<"&&!(U.sawRoot&&U.closedRoot&&!U.strict)?(U.state=P.OPEN_WAKA,U.startTagPosition=U.position):(!x(Z)&&(!U.sawRoot||U.closedRoot)&&$(U,"Text data outside of root node."),Z==="&"?U.state=P.TEXT_ENTITY:U.textNode+=Z);continue;case P.SCRIPT:Z==="<"?U.state=P.SCRIPT_ENDING:U.script+=Z;continue;case P.SCRIPT_ENDING:Z==="/"?U.state=P.CLOSE_TAG:(U.script+="<"+Z,U.state=P.SCRIPT);continue;case P.OPEN_WAKA:if(Z==="!")U.state=P.SGML_DECL,U.sgmlDecl="";else if(!x(Z))if(T(y,Z))U.state=P.OPEN_TAG,U.tagName=Z;else if(Z==="/")U.state=P.CLOSE_TAG,U.tagName="";else if(Z==="?")U.state=P.PROC_INST,U.procInstName=U.procInstBody="";else{if($(U,"Unencoded <"),U.startTagPosition+1<U.position){var me=U.position-U.startTagPosition;Z=new Array(me).join(" ")+Z}U.textNode+="<"+Z,U.state=P.TEXT}continue;case P.SGML_DECL:(U.sgmlDecl+Z).toUpperCase()===f?(B(U,"onopencdata"),U.state=P.CDATA,U.sgmlDecl="",U.cdata=""):U.sgmlDecl+Z==="--"?(U.state=P.COMMENT,U.comment="",U.sgmlDecl=""):(U.sgmlDecl+Z).toUpperCase()===g?(U.state=P.DOCTYPE,(U.doctype||U.sawRoot)&&$(U,"Inappropriately located doctype declaration"),U.doctype="",U.sgmlDecl=""):Z===">"?(B(U,"onsgmldeclaration",U.sgmlDecl),U.sgmlDecl="",U.state=P.TEXT):(A(Z)&&(U.state=P.SGML_DECL_QUOTED),U.sgmlDecl+=Z);continue;case P.SGML_DECL_QUOTED:Z===U.q&&(U.state=P.SGML_DECL,U.q=""),U.sgmlDecl+=Z;continue;case P.DOCTYPE:Z===">"?(U.state=P.TEXT,B(U,"ondoctype",U.doctype),U.doctype=!0):(U.doctype+=Z,Z==="["?U.state=P.DOCTYPE_DTD:A(Z)&&(U.state=P.DOCTYPE_QUOTED,U.q=Z));continue;case P.DOCTYPE_QUOTED:U.doctype+=Z,Z===U.q&&(U.q="",U.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:U.doctype+=Z,Z==="]"?U.state=P.DOCTYPE:A(Z)&&(U.state=P.DOCTYPE_DTD_QUOTED,U.q=Z);continue;case P.DOCTYPE_DTD_QUOTED:U.doctype+=Z,Z===U.q&&(U.state=P.DOCTYPE_DTD,U.q="");continue;case P.COMMENT:Z==="-"?U.state=P.COMMENT_ENDING:U.comment+=Z;continue;case P.COMMENT_ENDING:Z==="-"?(U.state=P.COMMENT_ENDED,U.comment=H(U.opt,U.comment),U.comment&&B(U,"oncomment",U.comment),U.comment=""):(U.comment+="-"+Z,U.state=P.COMMENT);continue;case P.COMMENT_ENDED:Z!==">"?($(U,"Malformed comment"),U.comment+="--"+Z,U.state=P.COMMENT):U.state=P.TEXT;continue;case P.CDATA:Z==="]"?U.state=P.CDATA_ENDING:U.cdata+=Z;continue;case P.CDATA_ENDING:Z==="]"?U.state=P.CDATA_ENDING_2:(U.cdata+="]"+Z,U.state=P.CDATA);continue;case P.CDATA_ENDING_2:Z===">"?(U.cdata&&B(U,"oncdata",U.cdata),B(U,"onclosecdata"),U.cdata="",U.state=P.TEXT):Z==="]"?U.cdata+="]":(U.cdata+="]]"+Z,U.state=P.CDATA);continue;case P.PROC_INST:Z==="?"?U.state=P.PROC_INST_ENDING:x(Z)?U.state=P.PROC_INST_BODY:U.procInstName+=Z;continue;case P.PROC_INST_BODY:if(!U.procInstBody&&x(Z))continue;Z==="?"?U.state=P.PROC_INST_ENDING:U.procInstBody+=Z;continue;case P.PROC_INST_ENDING:Z===">"?(B(U,"onprocessinginstruction",{name:U.procInstName,body:U.procInstBody}),U.procInstName=U.procInstBody="",U.state=P.TEXT):(U.procInstBody+="?"+Z,U.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:T(v,Z)?U.tagName+=Z:(k(U),Z===">"?C(U):Z==="/"?U.state=P.OPEN_TAG_SLASH:(x(Z)||$(U,"Invalid character in tag name"),U.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:Z===">"?(C(U,!0),I(U)):($(U,"Forward-slash in opening tag not followed by >"),U.state=P.ATTRIB);continue;case P.ATTRIB:if(x(Z))continue;Z===">"?C(U):Z==="/"?U.state=P.OPEN_TAG_SLASH:T(y,Z)?(U.attribName=Z,U.attribValue="",U.state=P.ATTRIB_NAME):$(U,"Invalid attribute name");continue;case P.ATTRIB_NAME:Z==="="?U.state=P.ATTRIB_VALUE:Z===">"?($(U,"Attribute without value"),U.attribValue=U.attribName,re(U),C(U)):x(Z)?U.state=P.ATTRIB_NAME_SAW_WHITE:T(v,Z)?U.attribName+=Z:$(U,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if(Z==="=")U.state=P.ATTRIB_VALUE;else{if(x(Z))continue;$(U,"Attribute without value"),U.tag.attributes[U.attribName]="",U.attribValue="",B(U,"onattribute",{name:U.attribName,value:""}),U.attribName="",Z===">"?C(U):T(y,Z)?(U.attribName=Z,U.state=P.ATTRIB_NAME):($(U,"Invalid attribute name"),U.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(x(Z))continue;A(Z)?(U.q=Z,U.state=P.ATTRIB_VALUE_QUOTED):($(U,"Unquoted attribute value"),U.state=P.ATTRIB_VALUE_UNQUOTED,U.attribValue=Z);continue;case P.ATTRIB_VALUE_QUOTED:if(Z!==U.q){Z==="&"?U.state=P.ATTRIB_VALUE_ENTITY_Q:U.attribValue+=Z;continue}re(U),U.q="",U.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:x(Z)?U.state=P.ATTRIB:Z===">"?C(U):Z==="/"?U.state=P.OPEN_TAG_SLASH:T(y,Z)?($(U,"No whitespace between attributes"),U.attribName=Z,U.attribValue="",U.state=P.ATTRIB_NAME):$(U,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(!M(Z)){Z==="&"?U.state=P.ATTRIB_VALUE_ENTITY_U:U.attribValue+=Z;continue}re(U),Z===">"?C(U):U.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(U.tagName)Z===">"?I(U):T(v,Z)?U.tagName+=Z:U.script?(U.script+="</"+U.tagName,U.tagName="",U.state=P.SCRIPT):(x(Z)||$(U,"Invalid tagname in closing tag"),U.state=P.CLOSE_TAG_SAW_WHITE);else{if(x(Z))continue;D(y,Z)?U.script?(U.script+="</"+Z,U.state=P.SCRIPT):$(U,"Invalid tagname in closing tag."):U.tagName=Z}continue;case P.CLOSE_TAG_SAW_WHITE:if(x(Z))continue;Z===">"?I(U):$(U,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var we,ae;switch(U.state){case P.TEXT_ENTITY:we=P.TEXT,ae="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:we=P.ATTRIB_VALUE_QUOTED,ae="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:we=P.ATTRIB_VALUE_UNQUOTED,ae="attribValue";break}if(Z===";")if(U.opt.unparsedEntities){var oe=K(U);U.entity="",U.state=we,U.write(oe)}else U[ae]+=K(U),U.entity="",U.state=we;else T(U.entity.length?j:E,Z)?U.entity+=Z:($(U,"Invalid character in entity name"),U[ae]+="&"+U.entity+Z,U.entity="",U.state=we);continue;default:throw new Error(U,"Unknown state: "+U.state)}return U.position>=U.bufferCheckPosition&&i(U),U}return String.fromCodePoint||(function(){var V=String.fromCharCode,U=Math.floor,X=function(){var Z=16384,le=[],me,we,ae=-1,oe=arguments.length;if(!oe)return"";for(var ve="";++ae<oe;){var Ce=Number(arguments[ae]);if(!isFinite(Ce)||Ce<0||Ce>1114111||U(Ce)!==Ce)throw RangeError("Invalid code point: "+Ce);Ce<=65535?le.push(Ce):(Ce-=65536,me=(Ce>>10)+55296,we=Ce%1024+56320,le.push(me,we)),(ae+1===oe||le.length>Z)&&(ve+=V.apply(null,le),le.length=0)}return ve};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:X,configurable:!0,writable:!0}):String.fromCodePoint=X})(),e},sue=oue(),C1=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var lue=class extends Qb{tags;constructor(e){super(e),this.tags=e?.tags}static lc_name(){return"XMLOutputParser"}lc_namespace=["langchain_core","output_parsers"];lc_serializable=!0;_diff(e,n){if(n)return e?RT(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return T1(e[0].text)}async parse(e){return T1(e)}getFormatInstructions(){return!!(this.tags&&this.tags.length>0)?C1.replace("{tags}",this.tags?.join(", ")??""):C1}};const uue=e=>e.split(`
`).map(n=>n.replace(/^\s+/,"")).join(`
`).trim(),z7=e=>{if(Object.keys(e).length===0)return{};const n={};return e.children.length>0?(n[e.name]=e.children.map(z7),n):(n[e.name]=e.text??void 0,n)};function T1(e){const n=uue(e),o=sue.parser(!0);let i={};const l=[];o.onopentag=a=>{const s={name:a.name,attributes:a.attributes,children:[],text:"",isSelfClosing:a.isSelfClosing};l.length>0?l[l.length-1].children.push(s):i=s,a.isSelfClosing||l.push(s)},o.onclosetag=()=>{if(l.length>0){const a=l.pop();l.length===0&&a&&(i=a)}},o.ontext=a=>{if(l.length>0){const s=l[l.length-1];s.text+=a}},o.onattribute=a=>{if(l.length>0){const s=l[l.length-1];s.attributes[a.name]=a.value}};const t=/```(xml)?(.*)```/s.exec(n),r=t?t[2]:n;return o.write(r).close(),i&&i.name==="?xml"&&(i=i.children[0]),z7(i)}var cue={};dt(cue,{AsymmetricStructuredOutputParser:()=>iue,BaseCumulativeTransformOutputParser:()=>Qb,BaseLLMOutputParser:()=>N7,BaseOutputParser:()=>Zb,BaseTransformOutputParser:()=>b_,BytesOutputParser:()=>Xle,CommaSeparatedListOutputParser:()=>eue,CustomListOutputParser:()=>tue,JsonMarkdownStructuredOutputParser:()=>I7,JsonOutputParser:()=>D7,ListOutputParser:()=>w_,MarkdownListOutputParser:()=>nue,NumberedListOutputParser:()=>rue,OutputParserException:()=>Xu,StringOutputParser:()=>aue,StructuredOutputParser:()=>qT,XMLOutputParser:()=>lue,XML_FORMAT_INSTRUCTIONS:()=>C1,parseJsonMarkdown:()=>n1,parsePartialJson:()=>Bb,parseXMLMarkdown:()=>T1});function LT(e,n){if(e.function===void 0)return;let o;if(n?.partial)try{o=Bb(e.function.arguments??"{}")}catch{return}else try{o=JSON.parse(e.function.arguments)}catch(l){throw new Xu([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"","are not valid JSON.",`Error: ${l.message}`].join(`
`))}const i={name:e.function.name,args:o,type:"tool_call"};return n?.returnId&&(i.id=e.id),i}function B7(e){if(e.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}}function q7(e,n){return{name:e.function?.name,args:e.function?.arguments,id:e.id,error:n,type:"invalid_tool_call"}}var L7=class extends Qb{static lc_name(){return"JsonOutputToolsParser"}returnId=!1;lc_namespace=["langchain","output_parsers","openai_tools"];lc_serializable=!0;constructor(e){super(e),this.returnId=e?.returnId??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){const o=e[0].message;let i;if(Yc(o)&&o.tool_calls?.length?i=o.tool_calls.map(t=>{const{id:r,...a}=t;return this.returnId?{id:r,...a}:a}):o.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(o.additional_kwargs.tool_calls)).map(r=>LT(r,{returnId:this.returnId,partial:n}))),!i)return[];const l=[];for(const t of i)if(t!==void 0){const r={type:t.name,args:t.args,id:t.id};l.push(r)}return l}},M1=class extends L7{static lc_name(){return"JsonOutputKeyToolsParser"}lc_namespace=["langchain","output_parsers","openai_tools"];lc_serializable=!0;returnId=!1;keyName;returnSingle=!1;zodSchema;constructor(e){super(e),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await nG(this.zodSchema,e);if(n.success)return n.data;throw new Xu(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error?.issues)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const o=(await super.parsePartialResult(e)).filter(l=>l.type===this.keyName);let i=o;if(o.length)return this.returnId||(i=o.map(l=>l.args)),this.returnSingle?i[0]:i}async parseResult(e){const o=(await super.parsePartialResult(e,!1)).filter(t=>t.type===this.keyName);let i=o;return o.length?(this.returnId||(i=o.map(t=>t.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(t=>this._validateResult(t)))):void 0}},due={};dt(due,{JsonOutputKeyToolsParser:()=>M1,JsonOutputToolsParser:()=>L7,convertLangChainToolCallToOpenAI:()=>B7,makeInvalidToolCall:()=>q7,parseToolCall:()=>LT});function U7(e){return e!==void 0&&Array.isArray(e.lc_namespace)}function $7(e){return e!==void 0&&Bt.isRunnable(e)&&"lc_name"in e.constructor&&typeof e.constructor.lc_name=="function"&&e.constructor.lc_name()==="RunnableToolLike"}function F7(e){return!!e&&typeof e=="object"&&"name"in e&&"schema"in e&&(Xc(e.schema)||e.schema!=null&&typeof e.schema=="object"&&"type"in e.schema&&typeof e.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(e.schema.type))}function UT(e){return F7(e)||$7(e)||U7(e)}var fue={};dt(fue,{convertToOpenAIFunction:()=>V7,convertToOpenAITool:()=>P1,isLangChainTool:()=>UT,isRunnableToolLike:()=>$7,isStructuredTool:()=>U7,isStructuredToolParams:()=>F7});function V7(e,n){const o=typeof n=="number"?void 0:n;return{name:e.name,description:e.description,parameters:tc(e.schema),...o?.strict!==void 0?{strict:o.strict}:{}}}function P1(e,n){const o=typeof n=="number"?void 0:n;let i;return UT(e)?i={type:"function",function:V7(e)}:i=e,o?.strict!==void 0&&(i.function.strict=o.strict),i}const hue=["frequency_penalty","function_call","functions","logit_bias","logprobs","max_completion_tokens","max_tokens","n","parallel_tool_calls","presence_penalty","reasoning_format","response_format","seed","service_tier","stop","temperature","tool_choice","top_logprobs","top_p"],pue=["headers","promptIndex","stream_options","tools"],mue=[...hue,...pue];function gue(e){if(e.role!=="system"&&e.role!=="assistant"&&e.role!=="user"&&e.role!=="function")throw new Error(`Unsupported message role: ${e.role}. Expected "system", "assistant", "user", or "function"`);return e.role}function _ue(e){switch(e.type){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!oc.isInstance(e))throw new Error("Invalid generic chat message");return gue(e);default:throw new Error(`Unknown message type: ${e.type}`)}}function a4(e){return e.map(n=>{const o={role:_ue(n),content:n.content,name:n.name,function_call:n.additional_kwargs.function_call,tool_calls:n.additional_kwargs.tool_calls,tool_call_id:n.tool_call_id};return Yc(n)&&n.tool_calls?.length?o.tool_calls=n.tool_calls.map(B7):(n.additional_kwargs.tool_calls!=null&&(o.tool_calls=n.additional_kwargs.tool_calls),n.tool_call_id!=null&&(o.tool_call_id=n.tool_call_id)),o})}function yue(e,n,o){const i=e.tool_calls;switch(e.role){case"assistant":{const l=[],t=[];for(const r of i??[])try{l.push(LT(r,{returnId:!0}))}catch(a){t.push(q7(r,a.message))}return new Or({content:e.content||"",additional_kwargs:{tool_calls:i},tool_calls:l,invalid_tool_calls:t,usage_metadata:n,response_metadata:o})}default:return new oc(e.content||"",e.role??"unknown")}}function vue(e,n,o,i){const l=e.role??n,t=e.content??"";let r;e.function_call?r={function_call:e.function_call}:e.tool_calls?r={tool_calls:e.tool_calls}:r={},e.audio&&(r.audio={...e.audio,index:o.choices[0].index});let a,s=i,u;const f=o.x_groq;f?.usage&&(a={input_tokens:f.usage.prompt_tokens,output_tokens:f.usage.completion_tokens,total_tokens:f.usage.total_tokens},u={completion_time:f.usage.completion_time,prompt_time:f.usage.prompt_time,queue_time:f.usage.queue_time,total_time:f.usage.total_time}),f?.id&&(s=f.id);const g={usage:a,timing:u};if(l==="user")return new h_({content:t,response_metadata:g});if(l==="assistant"){const b=[];if(Array.isArray(e.tool_calls))for(const _ of e.tool_calls)b.push({name:_.function?.name,args:_.function?.arguments,id:_.id,index:_.index,type:"tool_call_chunk"});return new qn({content:t,tool_call_chunks:b,additional_kwargs:r,id:s,response_metadata:g})}else return l==="system"?new nd({content:t,response_metadata:g}):l==="developer"?new nd({content:t,response_metadata:g,additional_kwargs:{__openai_role__:"developer"}}):l==="function"?new f_({content:t,additional_kwargs:r,name:e.name,response_metadata:g}):l==="tool"?new c_({content:t,additional_kwargs:r,tool_call_id:e.tool_call_id,response_metadata:g}):new d_({content:t,role:l,response_metadata:g})}var bue=class extends kb{lc_namespace=["langchain","chat_models","groq"];client;model;temperature=.7;stop;stopSequences;maxTokens;streaming=!1;apiKey;streamUsage=!0;topP;frequencyPenalty;presencePenalty;logprobs;n;logitBias;user;reasoningFormat;serviceTier;topLogprobs;lc_serializable=!0;get lc_serialized_keys(){return["client","model","temperature","stop","stopSequences","maxTokens","streaming","apiKey","streamUsage","topP","frequencyPenalty","presencePenalty","logprobs","n","logitBias","user","reasoningFormat","serviceTier","topLogprobs"]}static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}get callKeys(){return[...super.callKeys,...mue]}constructor(e){super(e);const n=e.apiKey||Ou("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');const o={"User-Agent":"langchainjs",...e.defaultHeaders??{}};this.client=new qt({apiKey:n,dangerouslyAllowBrowser:!0,baseURL:e.baseUrl,timeout:e.timeout,httpAgent:e.httpAgent,fetch:e.fetch,maxRetries:0,defaultHeaders:o,defaultQuery:e.defaultQuery}),this.apiKey=n,this.temperature=e.temperature??this.temperature,this.model=e.model,this.streaming=e.streaming??this.streaming,this.stop=e.stopSequences??(typeof e.stop=="string"?[e.stop]:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e.maxTokens,this.topP=e.topP,this.frequencyPenalty=e.frequencyPenalty,this.presencePenalty=e.presencePenalty,this.logprobs=e.logprobs,this.n=e.n,this.logitBias=e.logitBias,this.user=e.user}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e,n){const o=super.invocationParams(e);let i={};e?.stream_options!==void 0?i={stream_options:e.stream_options}:(this.streamUsage&&this.streaming||n?.streaming)&&(i={stream_options:{include_usage:!0}});const l={model:this.model,frequency_penalty:this.frequencyPenalty,function_call:e?.function_call,functions:e?.functions,logit_bias:this.logitBias,logprobs:this.logprobs,n:this.n,parallel_tool_calls:e?.parallel_tool_calls,presence_penalty:this.presencePenalty,reasoning_format:this.reasoningFormat,response_format:e?.response_format,seed:e?.seed,service_tier:this.serviceTier,stop:e?.stop??this.stopSequences,temperature:e?.temperature??this.temperature,tool_choice:wue(e?.tool_choice),tools:e?.tools?.length?e.tools.map(t=>P1(t)):void 0,top_logprobs:this.topLogprobs,top_p:this.topP,user:this.user,stream:this.streaming,...o,...i};return l.max_completion_tokens=e?.max_completion_tokens??e?.max_tokens??this.maxTokens,l.max_completion_tokens===-1&&delete l.max_completion_tokens,l}bindTools(e,n){return this.withConfig({tools:e.map(o=>P1(o)),...n})}async*_streamResponseChunks(e,n,o){const i=this.invocationParams(n,{streaming:!0}),l=a4(e),t=await this.completionWithRetry({...i,messages:l,stream:!0},{signal:n?.signal,headers:n?.headers});let r,a,s;for await(const u of t){s=u;const f=u?.choices[0];if(!f)continue;f.delta?.role&&(r=f.delta.role);const g=vue(f.delta,r,u,a),b={prompt:n.promptIndex??0,completion:f.index??0};if(typeof g.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const _={...b};f.finish_reason!=null&&(_.finish_reason=f.finish_reason,_.system_fingerprint=u.system_fingerprint,_.model_name=u.model);const p=new Zc({message:g,text:g.content,generationInfo:_});yield p,await o?.handleLLMNewToken(p.text??"",b,void 0,void 0,void 0,{chunk:p})}if(s&&("choices"in s&&delete s.choices,yield new Zc({message:new qn({content:"",response_metadata:s}),text:""})),n.signal?.aborted)throw new Error("AbortError")}async _generate(e,n,o){if(this.streaming){const i={},l=this._streamResponseChunks(e,n,o),t={};for await(const a of l){const s=a.generationInfo?.completion??0;t[s]===void 0?t[s]=a:t[s]=t[s].concat(a)}return{generations:Object.entries(t).sort(([a],[s])=>parseInt(a,10)-parseInt(s,10)).map(([a,s])=>s),llmOutput:{estimatedTokenUsage:i}}}else return this._generateNonStreaming(e,n,o)}async _generateNonStreaming(e,n,o){const i={},l=this.invocationParams(n),t=a4(e),r=await this.completionWithRetry({...l,stream:!1,messages:t},{signal:n?.signal,headers:n?.headers});if("usage"in r&&r.usage){const{completion_tokens:s,prompt_tokens:u,total_tokens:f}=r.usage;s&&(i.completionTokens=(i.completionTokens??0)+s),u&&(i.promptTokens=(i.promptTokens??0)+u),f&&(i.totalTokens=(i.totalTokens??0)+f)}const a=[];if("choices"in r&&r.choices)for(const s of r.choices){const u=s.message?.content??"";let f;i.totalTokens!==void 0&&(f={input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens});const{choices:g,...b}=r,_={text:u,message:yue(s.message??{role:"assistant"},f,b)};_.generationInfo={...s.finish_reason?{finish_reason:s.finish_reason}:{},...s.logprobs?{logprobs:s.logprobs}:{}},a.push(_)}return{generations:a,llmOutput:{tokenUsage:i}}}get profile(){return Nee[this.model]??{}}withStructuredOutput(e,n){const o=e,i=n?.name,l=n?.method,t=n?.includeRaw;let r=i??"extract",a,s;if(l==="jsonMode"){let b;Xc(o)?(a=qT.fromZodSchema(o),b=tc(o)):a=new D7,s=this.withConfig({response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"jsonMode"},schema:b}})}else if(Xc(o)){const b=tc(o);s=this.bindTools([{type:"function",function:{name:r,description:b.description,parameters:b}}]).withConfig({tool_choice:{type:"function",function:{name:r}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:b}}),a=new M1({returnSingle:!0,keyName:r,zodSchema:o})}else{let b;typeof o.name=="string"&&typeof o.parameters=="object"&&o.parameters!=null?(b=o,r=o.name):(r=o.title??r,b={name:r,description:o.description??"",parameters:o}),s=this.bindTools([{type:"function",function:b}]).withConfig({tool_choice:{type:"function",function:{name:r}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:o}}),a=new M1({returnSingle:!0,keyName:r})}if(!t)return s.pipe(a).withConfig({runName:"ChatGroqStructuredOutput"});const u=sp.assign({parsed:(b,_)=>a.invoke(b.raw,_)}),f=sp.assign({parsed:()=>null}),g=u.withFallbacks({fallbacks:[f]});return y_.from([{raw:s},g]).withConfig({runName:"ChatGroqStructuredOutput"})}};function wue(e){if(e)return e==="any"||e==="required"?"required":e==="auto"?"auto":e==="none"?"none":typeof e=="string"?{type:"function",function:{name:e}}:e}var Yu={},Nd={},Dd={},eE={},i4;function Sue(){return i4||(i4=1,Object.defineProperty(eE,"__esModule",{value:!0})),eE}var o4;function Oue(){return o4||(o4=1,(function(e){var n=Dd&&Dd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Dd&&Dd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Sue(),e)})(Dd)),Dd}var Id={},Jn={},tE={},hm={},zh={},s4;function S_(){if(s4)return zh;s4=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.toJson=void 0,zh.fromJson=n;const e=(o,i,l)=>JSON.stringify(o,i,l);zh.toJson=e;function n(o,i){return JSON.parse(o,i)}return zh}var l4;function Eue(){if(l4)return hm;l4=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.CohereError=void 0;const e=S_();let n=class G7 extends Error{constructor({message:l,statusCode:t,body:r,rawResponse:a}){super(o({message:l,statusCode:t,body:r})),Object.setPrototypeOf(this,G7.prototype),this.statusCode=t,this.body=r,this.rawResponse=a}};hm.CohereError=n;function o({message:i,statusCode:l,body:t}){const r=[];return i!=null&&r.push(i),l!=null&&r.push(`Status code: ${l.toString()}`),t!=null&&r.push(`Body: ${(0,e.toJson)(t,void 0,2)}`),r.join(`
`)}return hm}var pm={},u4;function Rue(){if(u4)return pm;u4=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.CohereTimeoutError=void 0;let e=class H7 extends Error{constructor(o){super(o),Object.setPrototypeOf(this,H7.prototype)}};return pm.CohereTimeoutError=e,pm}var c4;function Wt(){return c4||(c4=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CohereTimeoutError=e.CohereError=void 0;var n=Eue();Object.defineProperty(e,"CohereError",{enumerable:!0,get:function(){return n.CohereError}});var o=Rue();Object.defineProperty(e,"CohereTimeoutError",{enumerable:!0,get:function(){return o.CohereTimeoutError}})})(tE)),tE}var d4;function jue(){if(d4)return Jn;d4=1;var e=Jn&&Jn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Jn&&Jn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Jn&&Jn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.BadRequestError=void 0;const i=o(Wt());let l=class K7 extends i.CohereError{constructor(r,a){super({message:"BadRequestError",statusCode:400,body:r,rawResponse:a}),Object.setPrototypeOf(this,K7.prototype)}};return Jn.BadRequestError=l,Jn}var Zn={},f4;function xue(){if(f4)return Zn;f4=1;var e=Zn&&Zn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Zn&&Zn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Zn&&Zn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.ClientClosedRequestError=void 0;const i=o(Wt());let l=class k7 extends i.CohereError{constructor(r,a){super({message:"ClientClosedRequestError",statusCode:499,body:r,rawResponse:a}),Object.setPrototypeOf(this,k7.prototype)}};return Zn.ClientClosedRequestError=l,Zn}var Qn={},h4;function Cue(){if(h4)return Qn;h4=1;var e=Qn&&Qn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Qn&&Qn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Qn&&Qn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.ForbiddenError=void 0;const i=o(Wt());let l=class Y7 extends i.CohereError{constructor(r,a){super({message:"ForbiddenError",statusCode:403,body:r,rawResponse:a}),Object.setPrototypeOf(this,Y7.prototype)}};return Qn.ForbiddenError=l,Qn}var Xn={},p4;function Tue(){if(p4)return Xn;p4=1;var e=Xn&&Xn.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Xn&&Xn.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Xn&&Xn.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.GatewayTimeoutError=void 0;const i=o(Wt());let l=class W7 extends i.CohereError{constructor(r,a){super({message:"GatewayTimeoutError",statusCode:504,body:r,rawResponse:a}),Object.setPrototypeOf(this,W7.prototype)}};return Xn.GatewayTimeoutError=l,Xn}var ea={},m4;function Mue(){if(m4)return ea;m4=1;var e=ea&&ea.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ea&&ea.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ea&&ea.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ea,"__esModule",{value:!0}),ea.InternalServerError=void 0;const i=o(Wt());let l=class J7 extends i.CohereError{constructor(r,a){super({message:"InternalServerError",statusCode:500,body:r,rawResponse:a}),Object.setPrototypeOf(this,J7.prototype)}};return ea.InternalServerError=l,ea}var ta={},g4;function Pue(){if(g4)return ta;g4=1;var e=ta&&ta.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ta&&ta.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ta&&ta.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ta,"__esModule",{value:!0}),ta.InvalidTokenError=void 0;const i=o(Wt());let l=class Z7 extends i.CohereError{constructor(r,a){super({message:"InvalidTokenError",statusCode:498,body:r,rawResponse:a}),Object.setPrototypeOf(this,Z7.prototype)}};return ta.InvalidTokenError=l,ta}var ra={},_4;function Aue(){if(_4)return ra;_4=1;var e=ra&&ra.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ra&&ra.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ra&&ra.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ra,"__esModule",{value:!0}),ra.NotFoundError=void 0;const i=o(Wt());let l=class Q7 extends i.CohereError{constructor(r,a){super({message:"NotFoundError",statusCode:404,body:r,rawResponse:a}),Object.setPrototypeOf(this,Q7.prototype)}};return ra.NotFoundError=l,ra}var na={},y4;function Nue(){if(y4)return na;y4=1;var e=na&&na.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=na&&na.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=na&&na.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(na,"__esModule",{value:!0}),na.NotImplementedError=void 0;const i=o(Wt());let l=class X7 extends i.CohereError{constructor(r,a){super({message:"NotImplementedError",statusCode:501,body:r,rawResponse:a}),Object.setPrototypeOf(this,X7.prototype)}};return na.NotImplementedError=l,na}var aa={},v4;function Due(){if(v4)return aa;v4=1;var e=aa&&aa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=aa&&aa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=aa&&aa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(aa,"__esModule",{value:!0}),aa.ServiceUnavailableError=void 0;const i=o(Wt());let l=class eK extends i.CohereError{constructor(r,a){super({message:"ServiceUnavailableError",statusCode:503,body:r,rawResponse:a}),Object.setPrototypeOf(this,eK.prototype)}};return aa.ServiceUnavailableError=l,aa}var ia={},b4;function Iue(){if(b4)return ia;b4=1;var e=ia&&ia.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ia&&ia.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ia&&ia.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ia,"__esModule",{value:!0}),ia.TooManyRequestsError=void 0;const i=o(Wt());let l=class tK extends i.CohereError{constructor(r,a){super({message:"TooManyRequestsError",statusCode:429,body:r,rawResponse:a}),Object.setPrototypeOf(this,tK.prototype)}};return ia.TooManyRequestsError=l,ia}var oa={},w4;function zue(){if(w4)return oa;w4=1;var e=oa&&oa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=oa&&oa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=oa&&oa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(oa,"__esModule",{value:!0}),oa.UnauthorizedError=void 0;const i=o(Wt());let l=class rK extends i.CohereError{constructor(r,a){super({message:"UnauthorizedError",statusCode:401,body:r,rawResponse:a}),Object.setPrototypeOf(this,rK.prototype)}};return oa.UnauthorizedError=l,oa}var sa={},S4;function Bue(){if(S4)return sa;S4=1;var e=sa&&sa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=sa&&sa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=sa&&sa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(sa,"__esModule",{value:!0}),sa.UnprocessableEntityError=void 0;const i=o(Wt());let l=class nK extends i.CohereError{constructor(r,a){super({message:"UnprocessableEntityError",statusCode:422,body:r,rawResponse:a}),Object.setPrototypeOf(this,nK.prototype)}};return sa.UnprocessableEntityError=l,sa}var O4;function que(){return O4||(O4=1,(function(e){var n=Id&&Id.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Id&&Id.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(jue(),e),o(xue(),e),o(Cue(),e),o(Tue(),e),o(Mue(),e),o(Pue(),e),o(Aue(),e),o(Nue(),e),o(Due(),e),o(Iue(),e),o(zue(),e),o(Bue(),e)})(Id)),Id}var la={},zd={},Bd={},rE={},E4;function aK(){return E4||(E4=1,Object.defineProperty(rE,"__esModule",{value:!0})),rE}var R4;function Lue(){return R4||(R4=1,(function(e){var n=Bd&&Bd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Bd&&Bd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(aK(),e)})(Bd)),Bd}var qd={},nE={},j4;function Uue(){return j4||(j4=1,Object.defineProperty(nE,"__esModule",{value:!0})),nE}var mm={},x4;function $ue(){return x4||(x4=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.BatchStatus=void 0,mm.BatchStatus={BatchStatusUnspecified:"BATCH_STATUS_UNSPECIFIED",BatchStatusQueued:"BATCH_STATUS_QUEUED",BatchStatusInProgress:"BATCH_STATUS_IN_PROGRESS",BatchStatusCanceling:"BATCH_STATUS_CANCELING",BatchStatusCompleted:"BATCH_STATUS_COMPLETED",BatchStatusFailed:"BATCH_STATUS_FAILED",BatchStatusCanceled:"BATCH_STATUS_CANCELED"}),mm}var aE={},C4;function Fue(){return C4||(C4=1,Object.defineProperty(aE,"__esModule",{value:!0})),aE}var iE={},T4;function Vue(){return T4||(T4=1,Object.defineProperty(iE,"__esModule",{value:!0})),iE}var oE={},M4;function Gue(){return M4||(M4=1,Object.defineProperty(oE,"__esModule",{value:!0})),oE}var sE={},P4;function Hue(){return P4||(P4=1,Object.defineProperty(sE,"__esModule",{value:!0})),sE}var A4;function iK(){return A4||(A4=1,(function(e){var n=qd&&qd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=qd&&qd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Uue(),e),o($ue(),e),o(Fue(),e),o(Vue(),e),o(Gue(),e),o(Hue(),e)})(qd)),qd}var N4;function Kue(){return N4||(N4=1,(function(e){var n=zd&&zd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=zd&&zd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Lue(),e),o(iK(),e)})(zd)),zd}var Ld={},Ud={},lE={},D4;function oK(){return D4||(D4=1,Object.defineProperty(lE,"__esModule",{value:!0})),lE}var I4;function kue(){return I4||(I4=1,(function(e){var n=Ud&&Ud.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Ud&&Ud.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(oK(),e)})(Ud)),Ud}var z4;function Yue(){return z4||(z4=1,(function(e){var n=Ld&&Ld.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Ld&&Ld.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(kue(),e)})(Ld)),Ld}var $d={},Fd={},uE={},B4;function sK(){return B4||(B4=1,Object.defineProperty(uE,"__esModule",{value:!0})),uE}var q4;function Wue(){return q4||(q4=1,(function(e){var n=Fd&&Fd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Fd&&Fd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(sK(),e)})(Fd)),Fd}var Vd={},cE={},L4;function Jue(){return L4||(L4=1,Object.defineProperty(cE,"__esModule",{value:!0})),cE}var dE={},U4;function Zue(){return U4||(U4=1,Object.defineProperty(dE,"__esModule",{value:!0})),dE}var fE={},$4;function Que(){return $4||($4=1,Object.defineProperty(fE,"__esModule",{value:!0})),fE}var hE={},F4;function Xue(){return F4||(F4=1,Object.defineProperty(hE,"__esModule",{value:!0})),hE}var V4;function lK(){return V4||(V4=1,(function(e){var n=Vd&&Vd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Vd&&Vd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Jue(),e),o(Zue(),e),o(Que(),e),o(Xue(),e)})(Vd)),Vd}var G4;function ece(){return G4||(G4=1,(function(e){var n=$d&&$d.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=$d&&$d.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Wue(),e),o(lK(),e)})($d)),$d}var Gd={},Hd={},pE={},H4;function uK(){return H4||(H4=1,Object.defineProperty(pE,"__esModule",{value:!0})),pE}var K4;function tce(){return K4||(K4=1,(function(e){var n=Hd&&Hd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Hd&&Hd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(uK(),e)})(Hd)),Hd}var Kd={},gm={},k4;function rce(){return k4||(k4=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.CreateEmbedJobRequestTruncate=void 0,gm.CreateEmbedJobRequestTruncate={Start:"START",End:"END"}),gm}var Y4;function cK(){return Y4||(Y4=1,(function(e){var n=Kd&&Kd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Kd&&Kd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(rce(),e)})(Kd)),Kd}var W4;function nce(){return W4||(W4=1,(function(e){var n=Gd&&Gd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Gd&&Gd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(tce(),e),o(cK(),e)})(Gd)),Gd}var kd={},Yd={},mE={},J4;function dK(){return J4||(J4=1,Object.defineProperty(mE,"__esModule",{value:!0})),mE}var Z4;function ace(){return Z4||(Z4=1,(function(e){var n=Yd&&Yd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Yd&&Yd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(dK(),e)})(Yd)),Yd}var ua={},Wd={},Jd={},gE={},Q4;function ice(){return Q4||(Q4=1,Object.defineProperty(gE,"__esModule",{value:!0})),gE}var _m={},X4;function oce(){return X4||(X4=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.BaseType=void 0,_m.BaseType={BaseTypeUnspecified:"BASE_TYPE_UNSPECIFIED",BaseTypeGenerative:"BASE_TYPE_GENERATIVE",BaseTypeClassification:"BASE_TYPE_CLASSIFICATION",BaseTypeRerank:"BASE_TYPE_RERANK",BaseTypeChat:"BASE_TYPE_CHAT"}),_m}var _E={},e2;function sce(){return e2||(e2=1,Object.defineProperty(_E,"__esModule",{value:!0})),_E}var yE={},t2;function lce(){return t2||(t2=1,Object.defineProperty(yE,"__esModule",{value:!0})),yE}var vE={},r2;function uce(){return r2||(r2=1,Object.defineProperty(vE,"__esModule",{value:!0})),vE}var bE={},n2;function cce(){return n2||(n2=1,Object.defineProperty(bE,"__esModule",{value:!0})),bE}var wE={},a2;function dce(){return a2||(a2=1,Object.defineProperty(wE,"__esModule",{value:!0})),wE}var SE={},i2;function fce(){return i2||(i2=1,Object.defineProperty(SE,"__esModule",{value:!0})),SE}var OE={},o2;function hce(){return o2||(o2=1,Object.defineProperty(OE,"__esModule",{value:!0})),OE}var EE={},s2;function pce(){return s2||(s2=1,Object.defineProperty(EE,"__esModule",{value:!0})),EE}var RE={},l2;function mce(){return l2||(l2=1,Object.defineProperty(RE,"__esModule",{value:!0})),RE}var ym={},u2;function gce(){return u2||(u2=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.LoraTargetModules=void 0,ym.LoraTargetModules={LoraTargetModulesUnspecified:"LORA_TARGET_MODULES_UNSPECIFIED",LoraTargetModulesQv:"LORA_TARGET_MODULES_QV",LoraTargetModulesQkvo:"LORA_TARGET_MODULES_QKVO",LoraTargetModulesQkvoFfn:"LORA_TARGET_MODULES_QKVO_FFN"}),ym}var jE={},c2;function _ce(){return c2||(c2=1,Object.defineProperty(jE,"__esModule",{value:!0})),jE}var vm={},d2;function yce(){return d2||(d2=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.Status=void 0,vm.Status={StatusUnspecified:"STATUS_UNSPECIFIED",StatusFinetuning:"STATUS_FINETUNING",StatusDeployingApi:"STATUS_DEPLOYING_API",StatusReady:"STATUS_READY",StatusFailed:"STATUS_FAILED",StatusDeleted:"STATUS_DELETED",StatusTemporarilyOffline:"STATUS_TEMPORARILY_OFFLINE",StatusPaused:"STATUS_PAUSED",StatusQueued:"STATUS_QUEUED"}),vm}var bm={},f2;function vce(){return f2||(f2=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.Strategy=void 0,bm.Strategy={StrategyUnspecified:"STRATEGY_UNSPECIFIED",StrategyVanilla:"STRATEGY_VANILLA",StrategyTfew:"STRATEGY_TFEW"}),bm}var xE={},h2;function bce(){return h2||(h2=1,Object.defineProperty(xE,"__esModule",{value:!0})),xE}var CE={},p2;function wce(){return p2||(p2=1,Object.defineProperty(CE,"__esModule",{value:!0})),CE}var TE={},m2;function Sce(){return m2||(m2=1,Object.defineProperty(TE,"__esModule",{value:!0})),TE}var g2;function fK(){return g2||(g2=1,(function(e){var n=Jd&&Jd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Jd&&Jd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(ice(),e),o(oce(),e),o(sce(),e),o(lce(),e),o(uce(),e),o(cce(),e),o(dce(),e),o(fce(),e),o(hce(),e),o(pce(),e),o(mce(),e),o(gce(),e),o(_ce(),e),o(yce(),e),o(vce(),e),o(bce(),e),o(wce(),e),o(Sce(),e)})(Jd)),Jd}var _2;function Oce(){return _2||(_2=1,(function(e){var n=Wd&&Wd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Wd&&Wd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(fK(),e)})(Wd)),Wd}var y2;function Ece(){return y2||(y2=1,(function(e){var n=ua&&ua.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=ua&&ua.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=ua&&ua.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&n(a,r,s[u]);return o(a,r),a}})(),l=ua&&ua.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.finetuning=void 0,e.finetuning=i(Oce()),l(fK(),e)})(ua)),ua}var v2;function Rce(){return v2||(v2=1,(function(e){var n=kd&&kd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=kd&&kd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(ace(),e),o(Ece(),e)})(kd)),kd}var Zd={},Qd={},ME={},b2;function hK(){return b2||(b2=1,Object.defineProperty(ME,"__esModule",{value:!0})),ME}var w2;function jce(){return w2||(w2=1,(function(e){var n=Qd&&Qd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Qd&&Qd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(hK(),e)})(Qd)),Qd}var S2;function xce(){return S2||(S2=1,(function(e){var n=Zd&&Zd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Zd&&Zd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(jce(),e)})(Zd)),Zd}var Xd={},ef={},PE={},O2;function pK(){return O2||(O2=1,Object.defineProperty(PE,"__esModule",{value:!0})),PE}var E2;function Cce(){return E2||(E2=1,(function(e){var n=ef&&ef.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=ef&&ef.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(pK(),e)})(ef)),ef}var tf={},AE={},R2;function Tce(){return R2||(R2=1,Object.defineProperty(AE,"__esModule",{value:!0})),AE}var wm={},j2;function Mce(){return j2||(j2=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.V2ChatRequestSafetyMode=void 0,wm.V2ChatRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",Off:"OFF"}),wm}var Sm={},x2;function Pce(){return x2||(x2=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.V2ChatRequestToolChoice=void 0,Sm.V2ChatRequestToolChoice={Required:"REQUIRED",None:"NONE"}),Sm}var NE={},C2;function Ace(){return C2||(C2=1,Object.defineProperty(NE,"__esModule",{value:!0})),NE}var DE={},T2;function Nce(){return T2||(T2=1,Object.defineProperty(DE,"__esModule",{value:!0})),DE}var Om={},M2;function Dce(){return M2||(M2=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.V2ChatStreamRequestSafetyMode=void 0,Om.V2ChatStreamRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",Off:"OFF"}),Om}var Em={},P2;function Ice(){return P2||(P2=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.V2ChatStreamRequestToolChoice=void 0,Em.V2ChatStreamRequestToolChoice={Required:"REQUIRED",None:"NONE"}),Em}var IE={},A2;function zce(){return A2||(A2=1,Object.defineProperty(IE,"__esModule",{value:!0})),IE}var Rm={},N2;function Bce(){return N2||(N2=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.V2EmbedRequestTruncate=void 0,Rm.V2EmbedRequestTruncate={None:"NONE",Start:"START",End:"END"}),Rm}var zE={},D2;function qce(){return D2||(D2=1,Object.defineProperty(zE,"__esModule",{value:!0})),zE}var BE={},I2;function Lce(){return I2||(I2=1,Object.defineProperty(BE,"__esModule",{value:!0})),BE}var z2;function mK(){return z2||(z2=1,(function(e){var n=tf&&tf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=tf&&tf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Tce(),e),o(Mce(),e),o(Pce(),e),o(Ace(),e),o(Nce(),e),o(Dce(),e),o(Ice(),e),o(zce(),e),o(Bce(),e),o(qce(),e),o(Lce(),e)})(tf)),tf}var B2;function Uce(){return B2||(B2=1,(function(e){var n=Xd&&Xd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Xd&&Xd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Cce(),e),o(mK(),e)})(Xd)),Xd}var q2;function $ce(){return q2||(q2=1,(function(e){var n=la&&la.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=la&&la.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=la&&la.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&n(a,r,s[u]);return o(a,r),a}})(),l=la&&la.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.v2=e.models=e.finetuning=e.embedJobs=e.datasets=e.connectors=e.batches=void 0,e.batches=i(Kue()),l(aK(),e),l(iK(),e),e.connectors=i(Yue()),l(oK(),e),e.datasets=i(ece()),l(sK(),e),l(lK(),e),e.embedJobs=i(nce()),l(uK(),e),l(cK(),e),e.finetuning=i(Rce()),l(dK(),e),e.models=i(xce()),l(hK(),e),e.v2=i(Uce()),l(pK(),e),l(mK(),e)})(la)),la}var rf={},qE={},L2;function Fce(){return L2||(L2=1,Object.defineProperty(qE,"__esModule",{value:!0})),qE}var LE={},U2;function Vce(){return U2||(U2=1,Object.defineProperty(LE,"__esModule",{value:!0})),LE}var UE={},$2;function Gce(){return $2||($2=1,Object.defineProperty(UE,"__esModule",{value:!0})),UE}var $E={},F2;function Hce(){return F2||(F2=1,Object.defineProperty($E,"__esModule",{value:!0})),$E}var FE={},V2;function Kce(){return V2||(V2=1,Object.defineProperty(FE,"__esModule",{value:!0})),FE}var VE={},G2;function kce(){return G2||(G2=1,Object.defineProperty(VE,"__esModule",{value:!0})),VE}var GE={},H2;function Yce(){return H2||(H2=1,Object.defineProperty(GE,"__esModule",{value:!0})),GE}var HE={},K2;function Wce(){return K2||(K2=1,Object.defineProperty(HE,"__esModule",{value:!0})),HE}var KE={},k2;function Jce(){return k2||(k2=1,Object.defineProperty(KE,"__esModule",{value:!0})),KE}var jm={},Y2;function Zce(){return Y2||(Y2=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.AuthTokenType=void 0,jm.AuthTokenType={Bearer:"bearer",Basic:"basic",Noscheme:"noscheme"}),jm}var kE={},W2;function Qce(){return W2||(W2=1,Object.defineProperty(kE,"__esModule",{value:!0})),kE}var YE={},J2;function Xce(){return J2||(J2=1,Object.defineProperty(YE,"__esModule",{value:!0})),YE}var xm={},Z2;function ede(){return Z2||(Z2=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.ChatCitationType=void 0,xm.ChatCitationType={TextContent:"TEXT_CONTENT",Plan:"PLAN"}),xm}var WE={},Q2;function tde(){return Q2||(Q2=1,Object.defineProperty(WE,"__esModule",{value:!0})),WE}var JE={},X2;function rde(){return X2||(X2=1,Object.defineProperty(JE,"__esModule",{value:!0})),JE}var ZE={},eB;function nde(){return eB||(eB=1,Object.defineProperty(ZE,"__esModule",{value:!0})),ZE}var QE={},tB;function ade(){return tB||(tB=1,Object.defineProperty(QE,"__esModule",{value:!0})),QE}var XE={},rB;function ide(){return rB||(rB=1,Object.defineProperty(XE,"__esModule",{value:!0})),XE}var eR={},nB;function ode(){return nB||(nB=1,Object.defineProperty(eR,"__esModule",{value:!0})),eR}var tR={},aB;function sde(){return aB||(aB=1,Object.defineProperty(tR,"__esModule",{value:!0})),tR}var rR={},iB;function lde(){return iB||(iB=1,Object.defineProperty(rR,"__esModule",{value:!0})),rR}var nR={},oB;function ude(){return oB||(oB=1,Object.defineProperty(nR,"__esModule",{value:!0})),nR}var aR={},sB;function cde(){return sB||(sB=1,Object.defineProperty(aR,"__esModule",{value:!0})),aR}var Cm={},lB;function dde(){return lB||(lB=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.ChatContentStartEventDeltaMessageContentType=void 0,Cm.ChatContentStartEventDeltaMessageContentType={Text:"text",Thinking:"thinking"}),Cm}var iR={},uB;function fde(){return uB||(uB=1,Object.defineProperty(iR,"__esModule",{value:!0})),iR}var oR={},cB;function hde(){return cB||(cB=1,Object.defineProperty(oR,"__esModule",{value:!0})),oR}var sR={},dB;function pde(){return dB||(dB=1,Object.defineProperty(sR,"__esModule",{value:!0})),sR}var lR={},fB;function mde(){return fB||(fB=1,Object.defineProperty(lR,"__esModule",{value:!0})),lR}var Tm={},hB;function gde(){return hB||(hB=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.ChatFinishReason=void 0,Tm.ChatFinishReason={Complete:"COMPLETE",StopSequence:"STOP_SEQUENCE",MaxTokens:"MAX_TOKENS",ToolCall:"TOOL_CALL",Error:"ERROR",Timeout:"TIMEOUT"}),Tm}var uR={},pB;function _de(){return pB||(pB=1,Object.defineProperty(uR,"__esModule",{value:!0})),uR}var cR={},mB;function yde(){return mB||(mB=1,Object.defineProperty(cR,"__esModule",{value:!0})),cR}var dR={},gB;function vde(){return gB||(gB=1,Object.defineProperty(dR,"__esModule",{value:!0})),dR}var fR={},_B;function bde(){return _B||(_B=1,Object.defineProperty(fR,"__esModule",{value:!0})),fR}var hR={},yB;function wde(){return yB||(yB=1,Object.defineProperty(hR,"__esModule",{value:!0})),hR}var pR={},vB;function Sde(){return vB||(vB=1,Object.defineProperty(pR,"__esModule",{value:!0})),pR}var mR={},bB;function Ode(){return bB||(bB=1,Object.defineProperty(mR,"__esModule",{value:!0})),mR}var gR={},wB;function Ede(){return wB||(wB=1,Object.defineProperty(gR,"__esModule",{value:!0})),gR}var Mm={},SB;function Rde(){return SB||(SB=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.ChatRequestCitationQuality=void 0,Mm.ChatRequestCitationQuality={Enabled:"ENABLED",Disabled:"DISABLED",Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}),Mm}var Pm={},OB;function jde(){return OB||(OB=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.ChatRequestPromptTruncation=void 0,Pm.ChatRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}),Pm}var Am={},EB;function xde(){return EB||(EB=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.ChatRequestSafetyMode=void 0,Am.ChatRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}),Am}var _R={},RB;function Cde(){return RB||(RB=1,Object.defineProperty(_R,"__esModule",{value:!0})),_R}var yR={},jB;function Tde(){return jB||(jB=1,Object.defineProperty(yR,"__esModule",{value:!0})),yR}var vR={},xB;function Mde(){return xB||(xB=1,Object.defineProperty(vR,"__esModule",{value:!0})),vR}var bR={},CB;function Pde(){return CB||(CB=1,Object.defineProperty(bR,"__esModule",{value:!0})),bR}var wR={},TB;function Ade(){return TB||(TB=1,Object.defineProperty(wR,"__esModule",{value:!0})),wR}var SR={},MB;function Nde(){return MB||(MB=1,Object.defineProperty(SR,"__esModule",{value:!0})),SR}var Nm={},PB;function Dde(){return PB||(PB=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.ChatStreamEndEventFinishReason=void 0,Nm.ChatStreamEndEventFinishReason={Complete:"COMPLETE",ErrorLimit:"ERROR_LIMIT",MaxTokens:"MAX_TOKENS",Error:"ERROR",ErrorToxic:"ERROR_TOXIC"}),Nm}var OR={},AB;function Ide(){return AB||(AB=1,Object.defineProperty(OR,"__esModule",{value:!0})),OR}var ER={},NB;function zde(){return NB||(NB=1,Object.defineProperty(ER,"__esModule",{value:!0})),ER}var Dm={},DB;function Bde(){return DB||(DB=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.ChatStreamRequestCitationQuality=void 0,Dm.ChatStreamRequestCitationQuality={Enabled:"ENABLED",Disabled:"DISABLED",Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}),Dm}var Im={},IB;function qde(){return IB||(IB=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.ChatStreamRequestPromptTruncation=void 0,Im.ChatStreamRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}),Im}var zm={},zB;function Lde(){return zB||(zB=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.ChatStreamRequestSafetyMode=void 0,zm.ChatStreamRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}),zm}var RR={},BB;function Ude(){return BB||(BB=1,Object.defineProperty(RR,"__esModule",{value:!0})),RR}var jR={},qB;function $de(){return qB||(qB=1,Object.defineProperty(jR,"__esModule",{value:!0})),jR}var xR={},LB;function Fde(){return LB||(LB=1,Object.defineProperty(xR,"__esModule",{value:!0})),xR}var CR={},UB;function Vde(){return UB||(UB=1,Object.defineProperty(CR,"__esModule",{value:!0})),CR}var TR={},$B;function Gde(){return $B||($B=1,Object.defineProperty(TR,"__esModule",{value:!0})),TR}var MR={},FB;function Hde(){return FB||(FB=1,Object.defineProperty(MR,"__esModule",{value:!0})),MR}var PR={},VB;function Kde(){return VB||(VB=1,Object.defineProperty(PR,"__esModule",{value:!0})),PR}var AR={},GB;function kde(){return GB||(GB=1,Object.defineProperty(AR,"__esModule",{value:!0})),AR}var NR={},HB;function Yde(){return HB||(HB=1,Object.defineProperty(NR,"__esModule",{value:!0})),NR}var DR={},KB;function Wde(){return KB||(KB=1,Object.defineProperty(DR,"__esModule",{value:!0})),DR}var IR={},kB;function Jde(){return kB||(kB=1,Object.defineProperty(IR,"__esModule",{value:!0})),IR}var zR={},YB;function Zde(){return YB||(YB=1,Object.defineProperty(zR,"__esModule",{value:!0})),zR}var BR={},WB;function Qde(){return WB||(WB=1,Object.defineProperty(BR,"__esModule",{value:!0})),BR}var qR={},JB;function Xde(){return JB||(JB=1,Object.defineProperty(qR,"__esModule",{value:!0})),qR}var LR={},ZB;function efe(){return ZB||(ZB=1,Object.defineProperty(LR,"__esModule",{value:!0})),LR}var UR={},QB;function tfe(){return QB||(QB=1,Object.defineProperty(UR,"__esModule",{value:!0})),UR}var $R={},XB;function rfe(){return XB||(XB=1,Object.defineProperty($R,"__esModule",{value:!0})),$R}var FR={},eq;function nfe(){return eq||(eq=1,Object.defineProperty(FR,"__esModule",{value:!0})),FR}var VR={},tq;function afe(){return tq||(tq=1,Object.defineProperty(VR,"__esModule",{value:!0})),VR}var GR={},rq;function ife(){return rq||(rq=1,Object.defineProperty(GR,"__esModule",{value:!0})),GR}var HR={},nq;function ofe(){return nq||(nq=1,Object.defineProperty(HR,"__esModule",{value:!0})),HR}var KR={},aq;function sfe(){return aq||(aq=1,Object.defineProperty(KR,"__esModule",{value:!0})),KR}var kR={},iq;function lfe(){return iq||(iq=1,Object.defineProperty(kR,"__esModule",{value:!0})),kR}var YR={},oq;function ufe(){return oq||(oq=1,Object.defineProperty(YR,"__esModule",{value:!0})),YR}var WR={},sq;function cfe(){return sq||(sq=1,Object.defineProperty(WR,"__esModule",{value:!0})),WR}var JR={},lq;function dfe(){return lq||(lq=1,Object.defineProperty(JR,"__esModule",{value:!0})),JR}var Bm={},uq;function ffe(){return uq||(uq=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.CitationOptionsMode=void 0,Bm.CitationOptionsMode={Enabled:"ENABLED",Disabled:"DISABLED",Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}),Bm}var ZR={},cq;function hfe(){return cq||(cq=1,Object.defineProperty(ZR,"__esModule",{value:!0})),ZR}var QR={},dq;function pfe(){return dq||(dq=1,Object.defineProperty(QR,"__esModule",{value:!0})),QR}var XR={},fq;function mfe(){return fq||(fq=1,Object.defineProperty(XR,"__esModule",{value:!0})),XR}var qm={},hq;function gfe(){return hq||(hq=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.CitationType=void 0,qm.CitationType={TextContent:"TEXT_CONTENT",ThinkingContent:"THINKING_CONTENT",Plan:"PLAN"}),qm}var ej={},pq;function _fe(){return pq||(pq=1,Object.defineProperty(ej,"__esModule",{value:!0})),ej}var tj={},mq;function yfe(){return mq||(mq=1,Object.defineProperty(tj,"__esModule",{value:!0})),tj}var Lm={},gq;function vfe(){return gq||(gq=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.ClassifyRequestTruncate=void 0,Lm.ClassifyRequestTruncate={None:"NONE",Start:"START",End:"END"}),Lm}var rj={},_q;function bfe(){return _q||(_q=1,Object.defineProperty(rj,"__esModule",{value:!0})),rj}var nj={},yq;function wfe(){return yq||(yq=1,Object.defineProperty(nj,"__esModule",{value:!0})),nj}var Um={},vq;function Sfe(){return vq||(vq=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.ClassifyResponseClassificationsItemClassificationType=void 0,Um.ClassifyResponseClassificationsItemClassificationType={SingleLabel:"single-label",MultiLabel:"multi-label"}),Um}var aj={},bq;function Ofe(){return bq||(bq=1,Object.defineProperty(aj,"__esModule",{value:!0})),aj}var $m={},wq;function Efe(){return wq||(wq=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.CompatibleEndpoint=void 0,$m.CompatibleEndpoint={Chat:"chat",Embed:"embed",Classify:"classify",Summarize:"summarize",Rerank:"rerank",Rate:"rate",Generate:"generate"}),$m}var ij={},Sq;function Rfe(){return Sq||(Sq=1,Object.defineProperty(ij,"__esModule",{value:!0})),ij}var Fm={},Oq;function jfe(){return Oq||(Oq=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.ConnectorAuthStatus=void 0,Fm.ConnectorAuthStatus={Valid:"valid",Expired:"expired"}),Fm}var oj={},Eq;function xfe(){return Eq||(Eq=1,Object.defineProperty(oj,"__esModule",{value:!0})),oj}var sj={},Rq;function Cfe(){return Rq||(Rq=1,Object.defineProperty(sj,"__esModule",{value:!0})),sj}var lj={},jq;function Tfe(){return jq||(jq=1,Object.defineProperty(lj,"__esModule",{value:!0})),lj}var uj={},xq;function Mfe(){return xq||(xq=1,Object.defineProperty(uj,"__esModule",{value:!0})),uj}var cj={},Cq;function Pfe(){return Cq||(Cq=1,Object.defineProperty(cj,"__esModule",{value:!0})),cj}var dj={},Tq;function Afe(){return Tq||(Tq=1,Object.defineProperty(dj,"__esModule",{value:!0})),dj}var fj={},Mq;function Nfe(){return Mq||(Mq=1,Object.defineProperty(fj,"__esModule",{value:!0})),fj}var hj={},Pq;function Dfe(){return Pq||(Pq=1,Object.defineProperty(hj,"__esModule",{value:!0})),hj}var Vm={},Aq;function Ife(){return Aq||(Aq=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.DatasetType=void 0,Vm.DatasetType={EmbedInput:"embed-input",EmbedResult:"embed-result",ClusterResult:"cluster-result",ClusterOutliers:"cluster-outliers",RerankerFinetuneInput:"reranker-finetune-input",SingleLabelClassificationFinetuneInput:"single-label-classification-finetune-input",ChatFinetuneInput:"chat-finetune-input",MultiLabelClassificationFinetuneInput:"multi-label-classification-finetune-input",BatchChatInput:"batch-chat-input",BatchOpenaiChatInput:"batch-openai-chat-input",BatchEmbedV2Input:"batch-embed-v2-input",BatchChatV2Input:"batch-chat-v2-input"}),Vm}var Gm={},Nq;function zfe(){return Nq||(Nq=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.DatasetValidationStatus=void 0,Gm.DatasetValidationStatus={Unknown:"unknown",Queued:"queued",Processing:"processing",Failed:"failed",Validated:"validated",Skipped:"skipped"}),Gm}var pj={},Dq;function Bfe(){return Dq||(Dq=1,Object.defineProperty(pj,"__esModule",{value:!0})),pj}var mj={},Iq;function qfe(){return Iq||(Iq=1,Object.defineProperty(mj,"__esModule",{value:!0})),mj}var gj={},zq;function Lfe(){return zq||(zq=1,Object.defineProperty(gj,"__esModule",{value:!0})),gj}var _j={},Bq;function Ufe(){return Bq||(Bq=1,Object.defineProperty(_j,"__esModule",{value:!0})),_j}var yj={},qq;function $fe(){return qq||(qq=1,Object.defineProperty(yj,"__esModule",{value:!0})),yj}var vj={},Lq;function Ffe(){return Lq||(Lq=1,Object.defineProperty(vj,"__esModule",{value:!0})),vj}var bj={},Uq;function Vfe(){return Uq||(Uq=1,Object.defineProperty(bj,"__esModule",{value:!0})),bj}var Hm={},$q;function Gfe(){return $q||($q=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.EmbeddingType=void 0,Hm.EmbeddingType={Float:"float",Int8:"int8",Uint8:"uint8",Binary:"binary",Ubinary:"ubinary",Base64:"base64"}),Hm}var wj={},Fq;function Hfe(){return Fq||(Fq=1,Object.defineProperty(wj,"__esModule",{value:!0})),wj}var Sj={},Vq;function Kfe(){return Vq||(Vq=1,Object.defineProperty(Sj,"__esModule",{value:!0})),Sj}var Oj={},Gq;function kfe(){return Gq||(Gq=1,Object.defineProperty(Oj,"__esModule",{value:!0})),Oj}var Ej={},Hq;function Yfe(){return Hq||(Hq=1,Object.defineProperty(Ej,"__esModule",{value:!0})),Ej}var Km={},Kq;function Wfe(){return Kq||(Kq=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.EmbedInputType=void 0,Km.EmbedInputType={SearchDocument:"search_document",SearchQuery:"search_query",Classification:"classification",Clustering:"clustering",Image:"image"}),Km}var Rj={},kq;function Jfe(){return kq||(kq=1,Object.defineProperty(Rj,"__esModule",{value:!0})),Rj}var km={},Yq;function Zfe(){return Yq||(Yq=1,Object.defineProperty(km,"__esModule",{value:!0}),km.EmbedJobStatus=void 0,km.EmbedJobStatus={Processing:"processing",Complete:"complete",Cancelling:"cancelling",Cancelled:"cancelled",Failed:"failed"}),km}var Ym={},Wq;function Qfe(){return Wq||(Wq=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.EmbedJobTruncate=void 0,Ym.EmbedJobTruncate={Start:"START",End:"END"}),Ym}var Wm={},Jq;function Xfe(){return Jq||(Jq=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.EmbedRequestTruncate=void 0,Wm.EmbedRequestTruncate={None:"NONE",Start:"START",End:"END"}),Wm}var jj={},Zq;function ehe(){return Zq||(Zq=1,Object.defineProperty(jj,"__esModule",{value:!0})),jj}var xj={},Qq;function the(){return Qq||(Qq=1,Object.defineProperty(xj,"__esModule",{value:!0})),xj}var Cj={},Xq;function rhe(){return Xq||(Xq=1,Object.defineProperty(Cj,"__esModule",{value:!0})),Cj}var Jm={},eL;function nhe(){return eL||(eL=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.FinishReason=void 0,Jm.FinishReason={Complete:"COMPLETE",StopSequence:"STOP_SEQUENCE",Error:"ERROR",ErrorToxic:"ERROR_TOXIC",ErrorLimit:"ERROR_LIMIT",UserCancel:"USER_CANCEL",MaxTokens:"MAX_TOKENS",Timeout:"TIMEOUT"}),Jm}var Zm={},tL;function ahe(){return tL||(tL=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.GenerateRequestReturnLikelihoods=void 0,Zm.GenerateRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}),Zm}var Qm={},rL;function ihe(){return rL||(rL=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.GenerateRequestTruncate=void 0,Qm.GenerateRequestTruncate={None:"NONE",Start:"START",End:"END"}),Qm}var Tj={},nL;function ohe(){return nL||(nL=1,Object.defineProperty(Tj,"__esModule",{value:!0})),Tj}var Mj={},aL;function she(){return aL||(aL=1,Object.defineProperty(Mj,"__esModule",{value:!0})),Mj}var Pj={},iL;function lhe(){return iL||(iL=1,Object.defineProperty(Pj,"__esModule",{value:!0})),Pj}var Aj={},oL;function uhe(){return oL||(oL=1,Object.defineProperty(Aj,"__esModule",{value:!0})),Aj}var Nj={},sL;function che(){return sL||(sL=1,Object.defineProperty(Nj,"__esModule",{value:!0})),Nj}var Xm={},lL;function dhe(){return lL||(lL=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.GenerateStreamRequestReturnLikelihoods=void 0,Xm.GenerateStreamRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}),Xm}var eg={},uL;function fhe(){return uL||(uL=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.GenerateStreamRequestTruncate=void 0,eg.GenerateStreamRequestTruncate={None:"NONE",Start:"START",End:"END"}),eg}var Dj={},cL;function hhe(){return cL||(cL=1,Object.defineProperty(Dj,"__esModule",{value:!0})),Dj}var Ij={},dL;function phe(){return dL||(dL=1,Object.defineProperty(Ij,"__esModule",{value:!0})),Ij}var zj={},fL;function mhe(){return fL||(fL=1,Object.defineProperty(zj,"__esModule",{value:!0})),zj}var Bj={},hL;function ghe(){return hL||(hL=1,Object.defineProperty(Bj,"__esModule",{value:!0})),Bj}var qj={},pL;function _he(){return pL||(pL=1,Object.defineProperty(qj,"__esModule",{value:!0})),qj}var Lj={},mL;function yhe(){return mL||(mL=1,Object.defineProperty(Lj,"__esModule",{value:!0})),Lj}var Uj={},gL;function vhe(){return gL||(gL=1,Object.defineProperty(Uj,"__esModule",{value:!0})),Uj}var tg={},_L;function bhe(){return _L||(_L=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.ImageUrlDetail=void 0,tg.ImageUrlDetail={Auto:"auto",Low:"low",High:"high"}),tg}var $j={},yL;function whe(){return yL||(yL=1,Object.defineProperty($j,"__esModule",{value:!0})),$j}var Fj={},vL;function She(){return vL||(vL=1,Object.defineProperty(Fj,"__esModule",{value:!0})),Fj}var Vj={},bL;function Ohe(){return bL||(bL=1,Object.defineProperty(Vj,"__esModule",{value:!0})),Vj}var Gj={},wL;function Ehe(){return wL||(wL=1,Object.defineProperty(Gj,"__esModule",{value:!0})),Gj}var Hj={},SL;function Rhe(){return SL||(SL=1,Object.defineProperty(Hj,"__esModule",{value:!0})),Hj}var Kj={},OL;function jhe(){return OL||(OL=1,Object.defineProperty(Kj,"__esModule",{value:!0})),Kj}var kj={},EL;function xhe(){return EL||(EL=1,Object.defineProperty(kj,"__esModule",{value:!0})),kj}var Yj={},RL;function Che(){return RL||(RL=1,Object.defineProperty(Yj,"__esModule",{value:!0})),Yj}var Wj={},jL;function The(){return jL||(jL=1,Object.defineProperty(Wj,"__esModule",{value:!0})),Wj}var Jj={},xL;function Mhe(){return xL||(xL=1,Object.defineProperty(Jj,"__esModule",{value:!0})),Jj}var Zj={},CL;function Phe(){return CL||(CL=1,Object.defineProperty(Zj,"__esModule",{value:!0})),Zj}var Qj={},TL;function Ahe(){return TL||(TL=1,Object.defineProperty(Qj,"__esModule",{value:!0})),Qj}var Xj={},ML;function Nhe(){return ML||(ML=1,Object.defineProperty(Xj,"__esModule",{value:!0})),Xj}var ex={},PL;function Dhe(){return PL||(PL=1,Object.defineProperty(ex,"__esModule",{value:!0})),ex}var tx={},AL;function Ihe(){return AL||(AL=1,Object.defineProperty(tx,"__esModule",{value:!0})),tx}var rx={},NL;function zhe(){return NL||(NL=1,Object.defineProperty(rx,"__esModule",{value:!0})),rx}var nx={},DL;function Bhe(){return DL||(DL=1,Object.defineProperty(nx,"__esModule",{value:!0})),nx}var ax={},IL;function qhe(){return IL||(IL=1,Object.defineProperty(ax,"__esModule",{value:!0})),ax}var ix={},zL;function Lhe(){return zL||(zL=1,Object.defineProperty(ix,"__esModule",{value:!0})),ix}var ox={},BL;function Uhe(){return BL||(BL=1,Object.defineProperty(ox,"__esModule",{value:!0})),ox}var sx={},qL;function $he(){return qL||(qL=1,Object.defineProperty(sx,"__esModule",{value:!0})),sx}var lx={},LL;function Fhe(){return LL||(LL=1,Object.defineProperty(lx,"__esModule",{value:!0})),lx}var ux={},UL;function Vhe(){return UL||(UL=1,Object.defineProperty(ux,"__esModule",{value:!0})),ux}var cx={},$L;function Ghe(){return $L||($L=1,Object.defineProperty(cx,"__esModule",{value:!0})),cx}var dx={},FL;function Hhe(){return FL||(FL=1,Object.defineProperty(dx,"__esModule",{value:!0})),dx}var rg={},VL;function Khe(){return VL||(VL=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.SummarizeRequestExtractiveness=void 0,rg.SummarizeRequestExtractiveness={Low:"low",Medium:"medium",High:"high"}),rg}var ng={},GL;function khe(){return GL||(GL=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.SummarizeRequestFormat=void 0,ng.SummarizeRequestFormat={Paragraph:"paragraph",Bullets:"bullets"}),ng}var ag={},HL;function Yhe(){return HL||(HL=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.SummarizeRequestLength=void 0,ag.SummarizeRequestLength={Short:"short",Medium:"medium",Long:"long"}),ag}var fx={},KL;function Whe(){return KL||(KL=1,Object.defineProperty(fx,"__esModule",{value:!0})),fx}var hx={},kL;function Jhe(){return kL||(kL=1,Object.defineProperty(hx,"__esModule",{value:!0})),hx}var px={},YL;function Zhe(){return YL||(YL=1,Object.defineProperty(px,"__esModule",{value:!0})),px}var mx={},WL;function Qhe(){return WL||(WL=1,Object.defineProperty(mx,"__esModule",{value:!0})),mx}var gx={},JL;function Xhe(){return JL||(JL=1,Object.defineProperty(gx,"__esModule",{value:!0})),gx}var ig={},ZL;function epe(){return ZL||(ZL=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.ThinkingType=void 0,ig.ThinkingType={Enabled:"enabled",Disabled:"disabled"}),ig}var _x={},QL;function tpe(){return QL||(QL=1,Object.defineProperty(_x,"__esModule",{value:!0})),_x}var yx={},XL;function rpe(){return XL||(XL=1,Object.defineProperty(yx,"__esModule",{value:!0})),yx}var vx={},eU;function npe(){return eU||(eU=1,Object.defineProperty(vx,"__esModule",{value:!0})),vx}var bx={},tU;function ape(){return tU||(tU=1,Object.defineProperty(bx,"__esModule",{value:!0})),bx}var wx={},rU;function ipe(){return rU||(rU=1,Object.defineProperty(wx,"__esModule",{value:!0})),wx}var Sx={},nU;function ope(){return nU||(nU=1,Object.defineProperty(Sx,"__esModule",{value:!0})),Sx}var Ox={},aU;function spe(){return aU||(aU=1,Object.defineProperty(Ox,"__esModule",{value:!0})),Ox}var Ex={},iU;function lpe(){return iU||(iU=1,Object.defineProperty(Ex,"__esModule",{value:!0})),Ex}var Rx={},oU;function upe(){return oU||(oU=1,Object.defineProperty(Rx,"__esModule",{value:!0})),Rx}var jx={},sU;function cpe(){return sU||(sU=1,Object.defineProperty(jx,"__esModule",{value:!0})),jx}var xx={},lU;function dpe(){return lU||(lU=1,Object.defineProperty(xx,"__esModule",{value:!0})),xx}var Cx={},uU;function fpe(){return uU||(uU=1,Object.defineProperty(Cx,"__esModule",{value:!0})),Cx}var Tx={},cU;function hpe(){return cU||(cU=1,Object.defineProperty(Tx,"__esModule",{value:!0})),Tx}var Mx={},dU;function ppe(){return dU||(dU=1,Object.defineProperty(Mx,"__esModule",{value:!0})),Mx}var Px={},fU;function mpe(){return fU||(fU=1,Object.defineProperty(Px,"__esModule",{value:!0})),Px}var Ax={},hU;function gpe(){return hU||(hU=1,Object.defineProperty(Ax,"__esModule",{value:!0})),Ax}var Nx={},pU;function _pe(){return pU||(pU=1,Object.defineProperty(Nx,"__esModule",{value:!0})),Nx}var Dx={},mU;function ype(){return mU||(mU=1,Object.defineProperty(Dx,"__esModule",{value:!0})),Dx}var Ix={},gU;function vpe(){return gU||(gU=1,Object.defineProperty(Ix,"__esModule",{value:!0})),Ix}var _U;function bpe(){return _U||(_U=1,(function(e){var n=rf&&rf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=rf&&rf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Fce(),e),o(Vce(),e),o(Gce(),e),o(Hce(),e),o(Kce(),e),o(kce(),e),o(Yce(),e),o(Wce(),e),o(Jce(),e),o(Zce(),e),o(Qce(),e),o(Xce(),e),o(ede(),e),o(tde(),e),o(rde(),e),o(nde(),e),o(ade(),e),o(ide(),e),o(ode(),e),o(sde(),e),o(lde(),e),o(ude(),e),o(cde(),e),o(dde(),e),o(fde(),e),o(hde(),e),o(pde(),e),o(mde(),e),o(gde(),e),o(_de(),e),o(yde(),e),o(vde(),e),o(bde(),e),o(wde(),e),o(Sde(),e),o(Ode(),e),o(Ede(),e),o(Rde(),e),o(jde(),e),o(xde(),e),o(Cde(),e),o(Tde(),e),o(Mde(),e),o(Pde(),e),o(Ade(),e),o(Nde(),e),o(Dde(),e),o(Ide(),e),o(zde(),e),o(Bde(),e),o(qde(),e),o(Lde(),e),o(Ude(),e),o($de(),e),o(Fde(),e),o(Vde(),e),o(Gde(),e),o(Hde(),e),o(Kde(),e),o(kde(),e),o(Yde(),e),o(Wde(),e),o(Jde(),e),o(Zde(),e),o(Qde(),e),o(Xde(),e),o(efe(),e),o(tfe(),e),o(rfe(),e),o(nfe(),e),o(afe(),e),o(ife(),e),o(ofe(),e),o(sfe(),e),o(lfe(),e),o(ufe(),e),o(cfe(),e),o(dfe(),e),o(ffe(),e),o(hfe(),e),o(pfe(),e),o(mfe(),e),o(gfe(),e),o(_fe(),e),o(yfe(),e),o(vfe(),e),o(bfe(),e),o(wfe(),e),o(Sfe(),e),o(Ofe(),e),o(Efe(),e),o(Rfe(),e),o(jfe(),e),o(xfe(),e),o(Cfe(),e),o(Tfe(),e),o(Mfe(),e),o(Pfe(),e),o(Afe(),e),o(Nfe(),e),o(Dfe(),e),o(Ife(),e),o(zfe(),e),o(Bfe(),e),o(qfe(),e),o(Lfe(),e),o(Ufe(),e),o($fe(),e),o(Ffe(),e),o(Vfe(),e),o(Gfe(),e),o(Hfe(),e),o(Kfe(),e),o(kfe(),e),o(Yfe(),e),o(Wfe(),e),o(Jfe(),e),o(Zfe(),e),o(Qfe(),e),o(Xfe(),e),o(ehe(),e),o(the(),e),o(rhe(),e),o(nhe(),e),o(ahe(),e),o(ihe(),e),o(ohe(),e),o(she(),e),o(lhe(),e),o(uhe(),e),o(che(),e),o(dhe(),e),o(fhe(),e),o(hhe(),e),o(phe(),e),o(mhe(),e),o(ghe(),e),o(_he(),e),o(yhe(),e),o(vhe(),e),o(bhe(),e),o(whe(),e),o(She(),e),o(Ohe(),e),o(Ehe(),e),o(Rhe(),e),o(jhe(),e),o(xhe(),e),o(Che(),e),o(The(),e),o(Mhe(),e),o(Phe(),e),o(Ahe(),e),o(Nhe(),e),o(Dhe(),e),o(Ihe(),e),o(zhe(),e),o(Bhe(),e),o(qhe(),e),o(Lhe(),e),o(Uhe(),e),o($he(),e),o(Fhe(),e),o(Vhe(),e),o(Ghe(),e),o(Hhe(),e),o(Khe(),e),o(khe(),e),o(Yhe(),e),o(Whe(),e),o(Jhe(),e),o(Zhe(),e),o(Qhe(),e),o(Xhe(),e),o(epe(),e),o(tpe(),e),o(rpe(),e),o(npe(),e),o(ape(),e),o(ipe(),e),o(ope(),e),o(spe(),e),o(lpe(),e),o(upe(),e),o(cpe(),e),o(dpe(),e),o(fpe(),e),o(hpe(),e),o(ppe(),e),o(mpe(),e),o(gpe(),e),o(_pe(),e),o(ype(),e),o(vpe(),e)})(rf)),rf}var yU;function sc(){return yU||(yU=1,(function(e){var n=Nd&&Nd.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Nd&&Nd.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Oue(),e),o(que(),e),o($ce(),e),o(bpe(),e)})(Nd)),Nd}var nf={},on={};function wpe(e,n,o,i){function l(t){return t instanceof o?t:new o(function(r){r(t)})}return new(o||(o=Promise))(function(t,r){function a(f){try{u(i.next(f))}catch(g){r(g)}}function s(f){try{u(i.throw(f))}catch(g){r(g)}}function u(f){f.done?t(f.value):l(f.value).then(a,s)}u((i=i.apply(e,n||[])).next())})}function Spe(e,n){var o={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},i,l,t,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(u){return function(f){return s([u,f])}}function s(u){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(o=0)),o;)try{if(i=1,l&&(t=u[0]&2?l.return:u[0]?l.throw||((t=l.return)&&t.call(l),0):l.next)&&!(t=t.call(l,u[1])).done)return t;switch(l=0,t&&(u=[u[0]&2,t.value]),u[0]){case 0:case 1:t=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,l=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(t=o.trys,!(t=t.length>0&&t[t.length-1])&&(u[0]===6||u[0]===2)){o=0;continue}if(u[0]===3&&(!t||u[1]>t[0]&&u[1]<t[3])){o.label=u[1];break}if(u[0]===6&&o.label<t[1]){o.label=t[1],t=u;break}if(t&&o.label<t[2]){o.label=t[2],o.ops.push(u);break}t[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(e,o)}catch(f){u=[6,f],l=0}finally{i=t=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var zn=64,Ope=32,Epe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rpe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],jpe=Math.pow(2,53)-1,Xv=(function(){function e(){this.state=Int32Array.from(Rpe),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var o=0,i=n.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>jpe)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=n[o++],i--,this.bufferLength===zn&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,o=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(o.setUint8(this.bufferLength++,128),i%zn>=zn-8){for(var l=this.bufferLength;l<zn;l++)o.setUint8(l,0);this.hashBuffer(),this.bufferLength=0}for(var l=this.bufferLength;l<zn-8;l++)o.setUint8(l,0);o.setUint32(zn-8,Math.floor(n/4294967296),!0),o.setUint32(zn-4,n),this.hashBuffer(),this.finished=!0}for(var t=new Uint8Array(Ope),l=0;l<8;l++)t[l*4]=this.state[l]>>>24&255,t[l*4+1]=this.state[l]>>>16&255,t[l*4+2]=this.state[l]>>>8&255,t[l*4+3]=this.state[l]>>>0&255;return t},e.prototype.hashBuffer=function(){for(var n=this,o=n.buffer,i=n.state,l=i[0],t=i[1],r=i[2],a=i[3],s=i[4],u=i[5],f=i[6],g=i[7],b=0;b<zn;b++){if(b<16)this.temp[b]=(o[b*4]&255)<<24|(o[b*4+1]&255)<<16|(o[b*4+2]&255)<<8|o[b*4+3]&255;else{var _=this.temp[b-2],p=(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10;_=this.temp[b-15];var y=(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3;this.temp[b]=(p+this.temp[b-7]|0)+(y+this.temp[b-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&f)|0)+(g+(Epe[b]+this.temp[b]|0)|0)|0,E=((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+(l&t^l&r^t&r)|0;g=f,f=u,u=s,s=a+v|0,a=r,r=t,t=l,l=v+E|0}i[0]+=l,i[1]+=t,i[2]+=r,i[3]+=a,i[4]+=s,i[5]+=u,i[6]+=f,i[7]+=g},e})();const xpe=e=>new TextEncoder().encode(e);var Cpe=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:xpe;function gK(e){return e instanceof Uint8Array?e:typeof e=="string"?Cpe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function Tpe(e){return typeof e=="string"?e.length===0:e.byteLength===0}var Mpe=(function(){function e(n){this.secret=n,this.hash=new Xv,this.reset()}return e.prototype.update=function(n){if(!(Tpe(n)||this.error))try{this.hash.update(gK(n))}catch(o){this.error=o}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return wpe(this,void 0,void 0,function(){return Spe(this,function(n){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Xv,this.secret){this.outer=new Xv;var n=Ppe(this.secret),o=new Uint8Array(zn);o.set(n);for(var i=0;i<zn;i++)n[i]^=54,o[i]^=92;this.hash.update(n),this.outer.update(o);for(var i=0;i<n.byteLength;i++)n[i]=0}},e})();function Ppe(e){var n=gK(e);if(n.byteLength>zn){var o=new Xv;o.update(n),n=o.digest()}var i=new Uint8Array(zn);return i.set(n),i}const Ape=Object.freeze(Object.defineProperty({__proto__:null,Sha256:Mpe},Symbol.toStringTag,{value:"Module"})),Npe=l_(Ape),Dpe="modulepreload",Ipe=function(e){return"/"+e},vU={},Xb=function(n,o,i){let l=Promise.resolve();if(o&&o.length>0){let s=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");l=s(o.map(u=>{if(u=Ipe(u),u in vU)return;vU[u]=!0;const f=u.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":Dpe,f||(b.as="script"),b.crossOrigin="",b.href=u,a&&b.setAttribute("nonce",a),document.head.appendChild(b),f)return new Promise((_,p)=>{b.addEventListener("load",_),b.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function t(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return l.then(r=>{for(const a of r||[])a.status==="rejected"&&t(a.reason);return n().catch(t)})};class $T extends Error{name="ProviderError";tryNextLink;constructor(n,o=!0){let i,l=!0;typeof o=="boolean"?(i=void 0,l=o):o!=null&&typeof o=="object"&&(i=o.logger,l=o.tryNextLink??!0),super(n),this.tryNextLink=l,Object.setPrototypeOf(this,$T.prototype),i?.debug?.(`@smithy/property-provider ${l?"->":"(!)"} ${n}`)}static from(n,o=!0){return Object.assign(new this(n.message,o),n)}}class vn extends $T{name="CredentialsProviderError";constructor(n,o=!0){super(n,o),Object.setPrototypeOf(this,vn.prototype)}}function _K(e){return Promise.all(Object.keys(e).reduce((n,o)=>{const i=e[o];return typeof i=="string"?n.push([o,i]):n.push(i().then(l=>[o,l])),n},[])).then(n=>n.reduce((o,[i,l])=>(o[i]=l,o),{}))}function yK(e){return async n=>{e.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const{GetCredentialsForIdentityCommand:o,CognitoIdentityClient:i}=await Xb(async()=>{const{GetCredentialsForIdentityCommand:u,CognitoIdentityClient:f}=await import("./loadCognitoIdentity-DmY1NLsp.js");return{GetCredentialsForIdentityCommand:u,CognitoIdentityClient:f}},__vite__mapDeps([0,1])),l=u=>e.clientConfig?.[u]??e.parentClientConfig?.[u]??n?.callerClientConfig?.[u],{Credentials:{AccessKeyId:t=zpe(e.logger),Expiration:r,SecretKey:a=qpe(e.logger),SessionToken:s}=Bpe(e.logger)}=await(e.client??new i(Object.assign({},e.clientConfig??{},{region:l("region"),profile:l("profile"),userAgentAppId:l("userAgentAppId")}))).send(new o({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await _K(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:t,secretAccessKey:a,sessionToken:s,expiration:r}}}function zpe(e){throw new vn("Response from Amazon Cognito contained no access key ID",{logger:e})}function Bpe(e){throw new vn("Response from Amazon Cognito contained no credentials",{logger:e})}function qpe(e){throw new vn("Response from Amazon Cognito contained no secret key",{logger:e})}const zx="IdentityIds";class Lpe{dbName;constructor(n="aws:cognito-identity-ids"){this.dbName=n}getItem(n){return this.withObjectStore("readonly",o=>{const i=o.get(n);return new Promise(l=>{i.onerror=()=>l(null),i.onsuccess=()=>l(i.result?i.result.value:null)})}).catch(()=>null)}removeItem(n){return this.withObjectStore("readwrite",o=>{const i=o.delete(n);return new Promise((l,t)=>{i.onerror=()=>t(i.error),i.onsuccess=()=>l()})})}setItem(n,o){return this.withObjectStore("readwrite",i=>{const l=i.put({id:n,value:o});return new Promise((t,r)=>{l.onerror=()=>r(l.error),l.onsuccess=()=>t()})})}getDb(){const n=self.indexedDB.open(this.dbName,1);return new Promise((o,i)=>{n.onsuccess=()=>{o(n.result)},n.onerror=()=>{i(n.error)},n.onblocked=()=>{i(new Error("Unable to access DB"))},n.onupgradeneeded=()=>{const l=n.result;l.onerror=()=>{i(new Error("Failed to create object store"))},l.createObjectStore(zx,{keyPath:"id"})}})}withObjectStore(n,o){return this.getDb().then(i=>{const l=i.transaction(zx,n);return l.oncomplete=()=>i.close(),new Promise((t,r)=>{l.onerror=()=>r(l.error),t(o(l.objectStore(zx)))}).catch(t=>{throw i.close(),t})})}}class Upe{store;constructor(n={}){this.store=n}getItem(n){return n in this.store?this.store[n]:null}removeItem(n){delete this.store[n]}setItem(n,o){this.store[n]=o}}const $pe=new Upe;function Fpe(){return typeof self=="object"&&self.indexedDB?new Lpe:typeof window=="object"&&window.localStorage?window.localStorage:$pe}function Vpe({accountId:e,cache:n=Fpe(),client:o,clientConfig:i,customRoleArn:l,identityPoolId:t,logins:r,userIdentifier:a=!r||Object.keys(r).length===0?"ANONYMOUS":void 0,logger:s,parentClientConfig:u}){s?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const f=a?`aws:cognito-identity-credentials:${t}:${a}`:void 0;let g=async b=>{const{GetIdCommand:_,CognitoIdentityClient:p}=await Xb(async()=>{const{GetIdCommand:j,CognitoIdentityClient:x}=await import("./loadCognitoIdentity-DmY1NLsp.js");return{GetIdCommand:j,CognitoIdentityClient:x}},__vite__mapDeps([0,1])),y=j=>i?.[j]??u?.[j]??b?.callerClientConfig?.[j],v=o??new p(Object.assign({},i??{},{region:y("region"),profile:y("profile"),userAgentAppId:y("userAgentAppId")}));let E=f&&await n.getItem(f);if(!E){const{IdentityId:j=Gpe(s)}=await v.send(new _({AccountId:e,IdentityPoolId:t,Logins:r?await _K(r):void 0}));E=j,f&&Promise.resolve(n.setItem(f,E)).catch(()=>{})}return g=yK({client:v,customRoleArn:l,logins:r,identityId:E}),g(b)};return b=>g(b).catch(async _=>{throw f&&Promise.resolve(n.removeItem(f)).catch(()=>{}),_})}function Gpe(e){throw new vn("Response from Amazon Cognito contained no identity ID",{logger:e})}const Hpe=e=>yK({...e}),Kpe=e=>Vpe({...e});var A1;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(A1||(A1={}));let bU=class{statusCode;reason;headers;body;constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;const o=n;return typeof o.statusCode=="number"&&typeof o.headers=="object"}};const Uf=e=>encodeURIComponent(e).replace(/[!'()*]/g,kpe),kpe=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Ype(e){const n=[];for(let o of Object.keys(e).sort()){const i=e[o];if(o=Uf(o),Array.isArray(i))for(let l=0,t=i.length;l<t;l++)n.push(`${o}=${Uf(i[l])}`);else{let l=o;(i||typeof i=="string")&&(l+=`=${Uf(i)}`),n.push(l)}}return n.join("&")}function wU(e,n){return new Request(e,n)}function Wpe(e=0){return new Promise((n,o)=>{e&&setTimeout(()=>{const i=new Error(`Request did not complete within ${e} ms`);i.name="TimeoutError",o(i)},e)})}const Bx={supported:void 0};class FT{config;configProvider;static create(n){return typeof n?.handle=="function"?n:new FT(n)}constructor(n){typeof n=="function"?this.configProvider=n().then(o=>o||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),Bx.supported===void 0&&(Bx.supported=typeof Request<"u"&&"keepalive"in wU("https://[::1]"))}destroy(){}async handle(n,{abortSignal:o,requestTimeout:i}={}){this.config||(this.config=await this.configProvider);const l=i??this.config.requestTimeout,t=this.config.keepAlive===!0,r=this.config.credentials;if(o?.aborted){const j=new Error("Request aborted");return j.name="AbortError",Promise.reject(j)}let a=n.path;const s=Ype(n.query||{});s&&(a+=`?${s}`),n.fragment&&(a+=`#${n.fragment}`);let u="";if(n.username!=null||n.password!=null){const j=n.username??"",x=n.password??"";u=`${j}:${x}@`}const{port:f,method:g}=n,b=`${n.protocol}//${u}${n.hostname}${f?`:${f}`:""}${a}`,_=g==="GET"||g==="HEAD"?void 0:n.body,p={body:_,headers:new Headers(n.headers),method:g,credentials:r};this.config?.cache&&(p.cache=this.config.cache),_&&(p.duplex="half"),typeof AbortController<"u"&&(p.signal=o),Bx.supported&&(p.keepalive=t),typeof this.config.requestInit=="function"&&Object.assign(p,this.config.requestInit(n));let y=()=>{};const v=wU(b,p),E=[fetch(v).then(j=>{const x=j.headers,A={};for(const T of x.entries())A[T[0]]=T[1];return j.body!=null?{response:new bU({headers:A,reason:j.statusText,statusCode:j.status,body:j.body})}:j.blob().then(T=>({response:new bU({headers:A,reason:j.statusText,statusCode:j.status,body:T})}))}),Wpe(l)];return o&&E.push(new Promise((j,x)=>{const A=()=>{const M=new Error("Request aborted");M.name="AbortError",x(M)};if(typeof o.addEventListener=="function"){const M=o;M.addEventListener("abort",A,{once:!0}),y=()=>M.removeEventListener("abort",A)}else o.onabort=A})),Promise.race(E).finally(y)}updateHttpClientConfig(n,o){this.config=void 0,this.configProvider=this.configProvider.then(i=>(i[n]=o,i))}httpHandlerConfigs(){return this.config??{}}}const vK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SU=Object.entries(vK).reduce((e,[n,o])=>(e[o]=Number(n),e),{}),Jpe=vK.split(""),ep=6,Fg=8,Zpe=63,Qpe=e=>{let n=e.length/4*3;e.slice(-2)==="=="?n-=2:e.slice(-1)==="="&&n--;const o=new ArrayBuffer(n),i=new DataView(o);for(let l=0;l<e.length;l+=4){let t=0,r=0;for(let u=l,f=l+3;u<=f;u++)if(e[u]!=="="){if(!(e[u]in SU))throw new TypeError(`Invalid character ${e[u]} in base64 string.`);t|=SU[e[u]]<<(f-u)*ep,r+=ep}else t>>=ep;const a=l/4*3;t>>=r%Fg;const s=Math.floor(r/Fg);for(let u=0;u<s;u++){const f=(s-u-1)*Fg;i.setUint8(a+u,(t&255<<f)>>f)}}return new Uint8Array(o)},Xpe=e=>new TextEncoder().encode(e);function eme(e){let n;typeof e=="string"?n=Xpe(e):n=e;const o=typeof n=="object"&&typeof n.length=="number",i=typeof n=="object"&&typeof n.byteOffset=="number"&&typeof n.byteLength=="number";if(!o&&!i)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let l="";for(let t=0;t<n.length;t+=3){let r=0,a=0;for(let u=t,f=Math.min(t+3,n.length);u<f;u++)r|=n[u]<<(f-u-1)*Fg,a+=Fg;const s=Math.ceil(a/ep);r<<=s*ep-a;for(let u=1;u<=s;u++){const f=(s-u)*ep;l+=Jpe[(r&Zpe<<f)>>f]}l+="==".slice(0,4-s)}return l}const tme=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):rme(e):nme(e);async function rme(e){const n=await ame(e),o=Qpe(n);return new Uint8Array(o)}async function nme(e){const n=[],o=e.getReader();let i=!1,l=0;for(;!i;){const{done:a,value:s}=await o.read();s&&(n.push(s),l+=s.length),i=a}const t=new Uint8Array(l);let r=0;for(const a of n)t.set(a,r),r+=a.length;return t}function ame(e){return new Promise((n,o)=>{const i=new FileReader;i.onloadend=()=>{if(i.readyState!==2)return o(new Error("Reader aborted too early"));const l=i.result??"",t=l.indexOf(","),r=t>-1?t+1:l.length;n(l.substring(r))},i.onabort=()=>o(new Error("Read aborted")),i.onerror=()=>o(i.error),i.readAsDataURL(e)})}const ime="169.254.170.2",ome="169.254.170.23",sme="[fd00:ec2::23]",lme=(e,n)=>{if(e.protocol!=="https:"&&!(e.hostname===ime||e.hostname===ome||e.hostname===sme)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;const o=e.hostname.split("."),i=l=>{const t=parseInt(l,10);return 0<=t&&t<=255};if(o[0]==="127"&&i(o[1])&&i(o[2])&&i(o[3])&&o.length===4)return}throw new vn(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:n})}};let ume=class N1{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const o=new N1({...n,headers:{...n.headers}});return o.query&&(o.query=cme(o.query)),o}static isInstance(n){if(!n)return!1;const o=n;return"method"in o&&"protocol"in o&&"hostname"in o&&"path"in o&&typeof o.query=="object"&&typeof o.headers=="object"}clone(){return N1.clone(this)}};function cme(e){return Object.keys(e).reduce((n,o)=>{const i=e[o];return{...n,[o]:Array.isArray(i)?[...i]:i}},{})}const dme=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},OU=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),bK={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),bK[e]=n}function fme(e){let n="";for(let o=0;o<e.byteLength;o++)n+=bK[e[o]];return n}const EU="The stream has already been transformed.",hme=e=>{if(!RU(e)&&!OU(e)){const l=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${l}`)}let n=!1;const o=async()=>{if(n)throw new Error(EU);return n=!0,await tme(e)},i=l=>{if(typeof l.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return l.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async l=>{const t=await o();if(l==="base64")return eme(t);if(l==="hex")return fme(t);if(l===void 0||l==="utf8"||l==="utf-8")return dme(t);if(typeof TextDecoder=="function")return new TextDecoder(l).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(EU);if(n=!0,RU(e))return i(e);if(OU(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},RU=e=>typeof Blob=="function"&&e instanceof Blob,jU=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},D1=e=>{if(e!=null){if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&Sme.warn(wme(`Expected number but observed string: ${e}`)),n}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},pme=Math.ceil(2**127*(2-2**-23)),xU=e=>{const n=D1(e);if(n!==void 0&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>pme)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},mme=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},CU=e=>wK(e,16),TU=e=>wK(e,8),wK=(e,n)=>{const o=mme(e);if(o!==void 0&&gme(o,n)!==o)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return o},gme=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},_me=e=>D1(typeof e=="string"?e0(e):e),yme=e=>xU(typeof e=="string"?e0(e):e),vme=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,e0=e=>{const n=e.match(vme);if(n===null||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},e_=e=>CU(typeof e=="string"?e0(e):e),bme=e=>TU(typeof e=="string"?e0(e):e),wme=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join(`
`),Sme={warn:console.warn},Ome=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],VT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function lwe(e){const n=e.getUTCFullYear(),o=e.getUTCMonth(),i=e.getUTCDay(),l=e.getUTCDate(),t=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),s=l<10?`0${l}`:`${l}`,u=t<10?`0${t}`:`${t}`,f=r<10?`0${r}`:`${r}`,g=a<10?`0${a}`:`${a}`;return`${Ome[i]}, ${s} ${VT[o]} ${n} ${u}:${f}:${g} GMT`}const Eme=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Rme=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=Eme.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[o,i,l,t,r,a,s,u]=n,f=e_(lp(i)),g=Eu(l,"month",1,12),b=Eu(t,"day",1,31);return Vg(f,g,b,{hours:r,minutes:a,seconds:s,fractionalMilliseconds:u})},jme=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),uwe=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=jme.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[o,i,l,t,r,a,s,u,f]=n,g=e_(lp(i)),b=Eu(l,"month",1,12),_=Eu(t,"day",1,31),p=Vg(g,b,_,{hours:r,minutes:a,seconds:s,fractionalMilliseconds:u});return f.toUpperCase()!="Z"&&p.setTime(p.getTime()-Bme(f)),p},xme=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Cme=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Tme=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),cwe=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=xme.exec(e);if(n){const[o,i,l,t,r,a,s,u]=n;return Vg(e_(lp(t)),qx(l),Eu(i,"day",1,31),{hours:r,minutes:a,seconds:s,fractionalMilliseconds:u})}if(n=Cme.exec(e),n){const[o,i,l,t,r,a,s,u]=n;return Ame(Vg(Mme(t),qx(l),Eu(i,"day",1,31),{hours:r,minutes:a,seconds:s,fractionalMilliseconds:u}))}if(n=Tme.exec(e),n){const[o,i,l,t,r,a,s,u]=n;return Vg(e_(lp(u)),qx(i),Eu(l.trimLeft(),"day",1,31),{hours:t,minutes:r,seconds:a,fractionalMilliseconds:s})}throw new TypeError("Invalid RFC-7231 date-time value")},dwe=e=>{if(e==null)return;let n;if(typeof e=="number")n=e;else if(typeof e=="string")n=_me(e);else if(typeof e=="object"&&e.tag===1)n=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(n)||n===1/0||n===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(n*1e3))},Vg=(e,n,o,i)=>{const l=n-1;return Dme(e,l,o),new Date(Date.UTC(e,l,o,Eu(i.hours,"hour",0,23),Eu(i.minutes,"minute",0,59),Eu(i.seconds,"seconds",0,60),zme(i.fractionalMilliseconds)))},Mme=e=>{const n=new Date().getUTCFullYear(),o=Math.floor(n/100)*100+e_(lp(e));return o<n?o+100:o},Pme=50*365*24*60*60*1e3,Ame=e=>e.getTime()-new Date().getTime()>Pme?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,qx=e=>{const n=VT.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},Nme=[31,28,31,30,31,30,31,31,30,31,30,31],Dme=(e,n,o)=>{let i=Nme[n];if(n===1&&Ime(e)&&(i=29),o>i)throw new TypeError(`Invalid day for ${VT[n]} in ${e}: ${o}`)},Ime=e=>e%4===0&&(e%100!==0||e%400===0),Eu=(e,n,o,i)=>{const l=bme(lp(e));if(l<o||l>i)throw new TypeError(`${n} must be between ${o} and ${i}, inclusive`);return l},zme=e=>e==null?0:yme("0."+e)*1e3,Bme=e=>{const n=e[0];let o=1;if(n=="+")o=1;else if(n=="-")o=-1;else throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);const i=Number(e.substring(1,3)),l=Number(e.substring(4,6));return o*(i*60+l)*60*1e3},lp=e=>{let n=0;for(;n<e.length-1&&e.charAt(n)==="0";)n++;return n===0?e:e.slice(n)};function qme(e){return new ume({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((n,[o,i])=>(n[o]=i,n),{}),fragment:e.hash})}async function Lme(e,n){const i=await hme(e.body).transformToString();if(e.statusCode===200){const l=JSON.parse(i);if(typeof l.AccessKeyId!="string"||typeof l.SecretAccessKey!="string"||typeof l.Token!="string"||typeof l.Expiration!="string")throw new vn("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:n});return{accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,sessionToken:l.Token,expiration:Rme(l.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let l={};try{l=JSON.parse(i)}catch{}throw Object.assign(new vn(`Server responded with status: ${e.statusCode}`,{logger:n}),{Code:l.Code,Message:l.Message})}throw new vn(`Server responded with status: ${e.statusCode}`,{logger:n})}const Ume=(e,n,o)=>async()=>{for(let i=0;i<n;++i)try{return await e()}catch{await new Promise(t=>setTimeout(t,o))}return await e()},$me=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let n;const o=e.credentialsFullUri;if(o)n=o;else throw new vn("No HTTP credential provider host provided.",{logger:e.logger});const i=new URL(n);lme(i,e.logger);const l=new FT;return Ume(async()=>{const t=qme(i);e.authorizationToken&&(t.headers.Authorization=e.authorizationToken);const r=await l.handle(t);return Lme(r.response)},e.maxRetries??3,e.timeout??1e3)},Fme=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},Vme="us-east-1",Gme=(e,n,o)=>{let i;return async(l={})=>{const{callerClientConfig:t}=l,r=e.clientConfig?.profile??t?.profile,a=e.logger??t?.logger;a?.debug("@aws-sdk/credential-providers - fromTemporaryCredentials (STS)");const s={...e.params,RoleSessionName:e.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(s?.SerialNumber){if(!e.mfaCodeProvider)throw new vn("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",{tryNextLink:!1,logger:a});s.TokenCode=await e.mfaCodeProvider(s?.SerialNumber)}const{AssumeRoleCommand:u,STSClient:f}=await Xb(async()=>{const{AssumeRoleCommand:b,STSClient:_}=await import("./loadSts-B0UXAcQj.js").then(p=>p.v);return{AssumeRoleCommand:b,STSClient:_}},__vite__mapDeps([2,1,3]));if(!i){const b=typeof n=="function"?n():void 0,_=[e.masterCredentials,e.clientConfig?.credentials,void t?.credentials,t?.credentialDefaultProvider?.(),b];let p="STS client default credentials";if(_[0])p="options.masterCredentials";else if(_[1])p="options.clientConfig.credentials";else{if(_[2])throw p="caller client's credentials",new Error("fromTemporaryCredentials recursion in callerClientConfig.credentials");_[3]?p="caller client's credentialDefaultProvider":_[4]&&(p="AWS SDK default credentials")}const y=[e.clientConfig?.region,t?.region,await o?.({profile:r}),Vme];let v="default partition's default region";y[0]?v="options.clientConfig.region":y[1]?v="caller client's region":y[2]&&(v="file or env region");const E=[MU(e.clientConfig?.requestHandler),MU(t?.requestHandler)];let j="STS default requestHandler";E[0]?j="options.clientConfig.requestHandler":E[1]&&(j="caller client's requestHandler"),a?.debug?.(`@aws-sdk/credential-providers - fromTemporaryCredentials STS client init with ${v}=${await Fme(cv(y))()}, ${p}, ${j}.`),i=new f({userAgentAppId:t?.userAgentAppId,...e.clientConfig,credentials:cv(_),logger:a,profile:r,region:cv(y),requestHandler:cv(E)})}if(e.clientPlugins)for(const b of e.clientPlugins)i.middlewareStack.use(b);const{Credentials:g}=await i.send(new u(s));if(!g||!g.AccessKeyId||!g.SecretAccessKey)throw new vn(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`,{logger:a});return{accessKeyId:g.AccessKeyId,secretAccessKey:g.SecretAccessKey,sessionToken:g.SessionToken,expiration:g.Expiration,credentialScope:g.CredentialScope}}},MU=e=>e?.metadata?.handlerProtocol==="h2"?void 0:e,cv=e=>{for(const n of e)if(n!==void 0)return n},Hme={},Kme=Object.freeze(Object.defineProperty({__proto__:null,default:Hme},Symbol.toStringTag,{value:"Module"})),kme=e=>async n=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");const{roleArn:o,roleSessionName:i,webIdentityToken:l,providerId:t,policyArns:r,policy:a,durationSeconds:s}=e;let{roleAssumerWithWebIdentity:u}=e;if(!u){const{getDefaultRoleAssumerWithWebIdentity:f}=await Xb(async()=>{const{getDefaultRoleAssumerWithWebIdentity:g}=await import("./index-DvG0SPyG.js");return{getDefaultRoleAssumerWithWebIdentity:g}},__vite__mapDeps([4,2,1,3]));u=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...n?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:o,RoleSessionName:i??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:l,ProviderId:t,PolicyArns:r,Policy:a,DurationSeconds:s})},Yme=e=>kme({...e}),Wme=Object.freeze(Object.defineProperty({__proto__:null,fromCognitoIdentity:Hpe,fromCognitoIdentityPool:Kpe,fromHttp:$me,fromTemporaryCredentials:Gme,fromWebToken:Yme},Symbol.toStringTag,{value:"Module"})),Jme=l_(Wme),Zme=e=>({setHttpHandler(n){e.httpHandler=n},httpHandler(){return e.httpHandler},updateHttpClientConfig(n,o){e.httpHandler?.updateHttpClientConfig(n,o)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),Qme=e=>({httpHandler:e.httpHandler()});class Xme{name;kind;values;constructor({name:n,kind:o=A1.HEADER,values:i=[]}){this.name=n,this.kind=o,this.values=i}add(n){this.values.push(n)}set(n){this.values=n}remove(n){this.values=this.values.filter(o=>o!==n)}toString(){return this.values.map(n=>n.includes(",")||n.includes(" ")?`"${n}"`:n).join(", ")}get(){return this.values}}class ege{entries={};encoding;constructor({fields:n=[],encoding:o="utf-8"}){n.forEach(this.setField.bind(this)),this.encoding=o}setField(n){this.entries[n.name.toLowerCase()]=n}getField(n){return this.entries[n.toLowerCase()]}removeField(n){delete this.entries[n.toLowerCase()]}getByType(n){return Object.values(this.entries).filter(o=>o.kind===n)}}class up{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const o=new up({...n,headers:{...n.headers}});return o.query&&(o.query=tge(o.query)),o}static isInstance(n){if(!n)return!1;const o=n;return"method"in o&&"protocol"in o&&"hostname"in o&&"path"in o&&typeof o.query=="object"&&typeof o.headers=="object"}clone(){return up.clone(this)}}function tge(e){return Object.keys(e).reduce((n,o)=>{const i=e[o];return{...n,[o]:Array.isArray(i)?[...i]:i}},{})}class rge{statusCode;reason;headers;body;constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;const o=n;return typeof o.statusCode=="number"&&typeof o.headers=="object"}}function nge(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}const age=Object.freeze(Object.defineProperty({__proto__:null,Field:Xme,Fields:ege,HttpRequest:up,HttpResponse:rge,getHttpHandlerExtensionConfiguration:Zme,isValidHostname:nge,resolveHttpHandlerRuntimeConfig:Qme},Symbol.toStringTag,{value:"Module"})),ige=l_(age),SK={},I1={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),SK[e]=n,I1[n]=e}function oge(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(e.length/2);for(let o=0;o<e.length;o+=2){const i=e.slice(o,o+2).toLowerCase();if(i in I1)n[o/2]=I1[i];else throw new Error(`Cannot decode unrecognized sequence ${i} as hexadecimal`)}return n}function $f(e){let n="";for(let o=0;o<e.byteLength;o++)n+=SK[e[o]];return n}const z1=e=>new TextEncoder().encode(e),t_=e=>typeof e=="string"?z1(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),OK="X-Amz-Algorithm",EK="X-Amz-Credential",GT="X-Amz-Date",RK="X-Amz-SignedHeaders",jK="X-Amz-Expires",HT="X-Amz-Signature",KT="X-Amz-Security-Token",sge="X-Amz-Region-Set",kT="authorization",YT=GT.toLowerCase(),xK="date",CK=[kT,YT,xK],TK=HT.toLowerCase(),xb="x-amz-content-sha256",MK=KT.toLowerCase(),lge="host",PK={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},AK=/^proxy-/,NK=/^sec-/,uge=[/^proxy-/i,/^sec-/i],eb="AWS4-HMAC-SHA256",cge="AWS4-ECDSA-P256-SHA256",DK="AWS4-HMAC-SHA256-PAYLOAD",IK="UNSIGNED-PAYLOAD",zK=50,WT="aws4_request",BK=3600*24*7,Zh={},tb=[],rb=(e,n,o)=>`${e}/${n}/${o}/${WT}`,qK=async(e,n,o,i,l)=>{const t=await PU(e,n.secretAccessKey,n.accessKeyId),r=`${o}:${i}:${l}:${$f(t)}:${n.sessionToken}`;if(r in Zh)return Zh[r];for(tb.push(r);tb.length>zK;)delete Zh[tb.shift()];let a=`AWS4${n.secretAccessKey}`;for(const s of[o,i,l,WT])a=await PU(e,a,s);return Zh[r]=a},dge=()=>{tb.length=0,Object.keys(Zh).forEach(e=>{delete Zh[e]})},PU=(e,n,o)=>{const i=new e(n);return i.update(t_(o)),i.digest()},B1=({headers:e},n,o)=>{const i={};for(const l of Object.keys(e).sort()){if(e[l]==null)continue;const t=l.toLowerCase();(t in PK||n?.has(t)||AK.test(t)||NK.test(t))&&(!o||o&&!o.has(t))||(i[t]=e[l].trim().replace(/\s+/g," "))}return i},fge=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",nb=async({headers:e,body:n},o)=>{for(const i of Object.keys(e))if(i.toLowerCase()===xb)return e[i];if(n==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof n=="string"||ArrayBuffer.isView(n)||fge(n)){const i=new o;return i.update(t_(n)),$f(await i.digest())}return IK};class hge{format(n){const o=[];for(const t of Object.keys(n)){const r=z1(t);o.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(n[t]))}const i=new Uint8Array(o.reduce((t,r)=>t+r.byteLength,0));let l=0;for(const t of o)i.set(t,l),l+=t.byteLength;return i}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const o=new DataView(new ArrayBuffer(3));return o.setUint8(0,3),o.setInt16(1,n.value,!1),new Uint8Array(o.buffer);case"integer":const i=new DataView(new ArrayBuffer(5));return i.setUint8(0,4),i.setInt32(1,n.value,!1),new Uint8Array(i.buffer);case"long":const l=new Uint8Array(9);return l[0]=5,l.set(n.value.bytes,1),l;case"binary":const t=new DataView(new ArrayBuffer(3+n.value.byteLength));t.setUint8(0,6),t.setUint16(1,n.value.byteLength,!1);const r=new Uint8Array(t.buffer);return r.set(n.value,3),r;case"string":const a=z1(n.value),s=new DataView(new ArrayBuffer(3+a.byteLength));s.setUint8(0,7),s.setUint16(1,a.byteLength,!1);const u=new Uint8Array(s.buffer);return u.set(a,3),u;case"timestamp":const f=new Uint8Array(9);return f[0]=8,f.set(JT.fromNumber(n.value.valueOf()).bytes,1),f;case"uuid":if(!pge.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const g=new Uint8Array(17);return g[0]=9,g.set(oge(n.value.replace(/\-/g,"")),1),g}}}var AU;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(AU||(AU={}));const pge=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class JT{bytes;constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const o=new Uint8Array(8);for(let i=7,l=Math.abs(Math.round(n));i>-1&&l>0;i--,l/=256)o[i]=l;return n<0&&NU(o),new JT(o)}valueOf(){const n=this.bytes.slice(0),o=n[0]&128;return o&&NU(n),parseInt($f(n),16)*(o?-1:1)}toString(){return String(this.valueOf())}}function NU(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}const LK=(e,n)=>{e=e.toLowerCase();for(const o of Object.keys(n))if(e===o.toLowerCase())return!0;return!1},UK=(e,n={})=>{const{headers:o,query:i={}}=up.clone(e);for(const l of Object.keys(o)){const t=l.toLowerCase();(t.slice(0,6)==="x-amz-"&&!n.unhoistableHeaders?.has(t)||n.hoistableHeaders?.has(t))&&(i[l]=o[l],delete o[l])}return{...e,headers:o,query:i}},q1=e=>{e=up.clone(e);for(const n of Object.keys(e.headers))CK.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e},$K=({query:e={}})=>{const n=[],o={};for(const i of Object.keys(e)){if(i.toLowerCase()===TK)continue;const l=Uf(i);n.push(l);const t=e[i];typeof t=="string"?o[l]=`${l}=${Uf(t)}`:Array.isArray(t)&&(o[l]=t.slice(0).reduce((r,a)=>r.concat([`${l}=${Uf(a)}`]),[]).sort().join("&"))}return n.sort().map(i=>o[i]).filter(i=>i).join("&")},mge=e=>gge(e).toISOString().replace(/\.\d{3}Z$/,"Z"),gge=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class FK{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:n,credentials:o,region:i,service:l,sha256:t,uriEscapePath:r=!0}){this.service=l,this.sha256=t,this.uriEscapePath=r,this.applyChecksum=typeof n=="boolean"?n:!0,this.regionProvider=jU(i),this.credentialProvider=jU(o)}createCanonicalRequest(n,o,i){const l=Object.keys(o).sort();return`${n.method}
${this.getCanonicalPath(n)}
${$K(n)}
${l.map(t=>`${t}:${o[t]}`).join(`
`)}

${l.join(";")}
${i}`}async createStringToSign(n,o,i,l){const t=new this.sha256;t.update(t_(i));const r=await t.digest();return`${l}
${n}
${o}
${$f(r)}`}getCanonicalPath({path:n}){if(this.uriEscapePath){const o=[];for(const t of n.split("/"))t?.length!==0&&t!=="."&&(t===".."?o.pop():o.push(t));const i=`${n?.startsWith("/")?"/":""}${o.join("/")}${o.length>0&&n?.endsWith("/")?"/":""}`;return Uf(i).replace(/%2F/g,"/")}return n}validateResolvedCredentials(n){if(typeof n!="object"||typeof n.accessKeyId!="string"||typeof n.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(n){const o=mge(n).replace(/[\-:]/g,"");return{longDate:o,shortDate:o.slice(0,8)}}getCanonicalHeaderList(n){return Object.keys(n).sort().join(";")}}class _ge extends FK{headerFormatter=new hge;constructor({applyChecksum:n,credentials:o,region:i,service:l,sha256:t,uriEscapePath:r=!0}){super({applyChecksum:n,credentials:o,region:i,service:l,sha256:t,uriEscapePath:r})}async presign(n,o={}){const{signingDate:i=new Date,expiresIn:l=3600,unsignableHeaders:t,unhoistableHeaders:r,signableHeaders:a,hoistableHeaders:s,signingRegion:u,signingService:f}=o,g=await this.credentialProvider();this.validateResolvedCredentials(g);const b=u??await this.regionProvider(),{longDate:_,shortDate:p}=this.formatDate(i);if(l>BK)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=rb(p,b,f??this.service),v=UK(q1(n),{unhoistableHeaders:r,hoistableHeaders:s});g.sessionToken&&(v.query[KT]=g.sessionToken),v.query[OK]=eb,v.query[EK]=`${g.accessKeyId}/${y}`,v.query[GT]=_,v.query[jK]=l.toString(10);const E=B1(v,t,a);return v.query[RK]=this.getCanonicalHeaderList(E),v.query[HT]=await this.getSignature(_,y,this.getSigningKey(g,b,p,f),this.createCanonicalRequest(v,E,await nb(n,this.sha256))),v}async sign(n,o){return typeof n=="string"?this.signString(n,o):n.headers&&n.payload?this.signEvent(n,o):n.message?this.signMessage(n,o):this.signRequest(n,o)}async signEvent({headers:n,payload:o},{signingDate:i=new Date,priorSignature:l,signingRegion:t,signingService:r}){const a=t??await this.regionProvider(),{shortDate:s,longDate:u}=this.formatDate(i),f=rb(s,a,r??this.service),g=await nb({headers:{},body:o},this.sha256),b=new this.sha256;b.update(n);const _=$f(await b.digest()),p=[DK,u,f,l,_,g].join(`
`);return this.signString(p,{signingDate:i,signingRegion:a,signingService:r})}async signMessage(n,{signingDate:o=new Date,signingRegion:i,signingService:l}){return this.signEvent({headers:this.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:o,signingRegion:i,signingService:l,priorSignature:n.priorSignature}).then(r=>({message:n.message,signature:r}))}async signString(n,{signingDate:o=new Date,signingRegion:i,signingService:l}={}){const t=await this.credentialProvider();this.validateResolvedCredentials(t);const r=i??await this.regionProvider(),{shortDate:a}=this.formatDate(o),s=new this.sha256(await this.getSigningKey(t,r,a,l));return s.update(t_(n)),$f(await s.digest())}async signRequest(n,{signingDate:o=new Date,signableHeaders:i,unsignableHeaders:l,signingRegion:t,signingService:r}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const s=t??await this.regionProvider(),u=q1(n),{longDate:f,shortDate:g}=this.formatDate(o),b=rb(g,s,r??this.service);u.headers[YT]=f,a.sessionToken&&(u.headers[MK]=a.sessionToken);const _=await nb(u,this.sha256);!LK(xb,u.headers)&&this.applyChecksum&&(u.headers[xb]=_);const p=B1(u,l,i),y=await this.getSignature(f,b,this.getSigningKey(a,s,g,r),this.createCanonicalRequest(u,p,_));return u.headers[kT]=`${eb} Credential=${a.accessKeyId}/${b}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${y}`,u}async getSignature(n,o,i,l){const t=await this.createStringToSign(n,o,l,eb),r=new this.sha256(await i);return r.update(t_(t)),$f(await r.digest())}getSigningKey(n,o,i,l){return qK(this.sha256,n,i,o,l||this.service)}}const yge={SignatureV4a:null},vge=Object.freeze(Object.defineProperty({__proto__:null,ALGORITHM_IDENTIFIER:eb,ALGORITHM_IDENTIFIER_V4A:cge,ALGORITHM_QUERY_PARAM:OK,ALWAYS_UNSIGNABLE_HEADERS:PK,AMZ_DATE_HEADER:YT,AMZ_DATE_QUERY_PARAM:GT,AUTH_HEADER:kT,CREDENTIAL_QUERY_PARAM:EK,DATE_HEADER:xK,EVENT_ALGORITHM_IDENTIFIER:DK,EXPIRES_QUERY_PARAM:jK,GENERATED_HEADERS:CK,HOST_HEADER:lge,KEY_TYPE_IDENTIFIER:WT,MAX_CACHE_SIZE:zK,MAX_PRESIGNED_TTL:BK,PROXY_HEADER_PATTERN:AK,REGION_SET_PARAM:sge,SEC_HEADER_PATTERN:NK,SHA256_HEADER:xb,SIGNATURE_HEADER:TK,SIGNATURE_QUERY_PARAM:HT,SIGNED_HEADERS_QUERY_PARAM:RK,SignatureV4:_ge,SignatureV4Base:FK,TOKEN_HEADER:MK,TOKEN_QUERY_PARAM:KT,UNSIGNABLE_PATTERNS:uge,UNSIGNED_PAYLOAD:IK,clearCredentialCache:dge,createScope:rb,getCanonicalHeaders:B1,getCanonicalQuery:$K,getPayloadHash:nb,getSigningKey:qK,hasHeader:LK,moveHeadersToQuery:UK,prepareRequest:q1,signatureV4aContainer:yge},Symbol.toStringTag,{value:"Module"})),bge=l_(vge);var Lx={exports:{}},Ux={exports:{}},$x={},dv={};var DU;function wge(){return DU||(DU=1,dv.read=function(e,n,o,i,l){var t,r,a=l*8-i-1,s=(1<<a)-1,u=s>>1,f=-7,g=o?l-1:0,b=o?-1:1,_=e[n+g];for(g+=b,t=_&(1<<-f)-1,_>>=-f,f+=a;f>0;t=t*256+e[n+g],g+=b,f-=8);for(r=t&(1<<-f)-1,t>>=-f,f+=i;f>0;r=r*256+e[n+g],g+=b,f-=8);if(t===0)t=1-u;else{if(t===s)return r?NaN:(_?-1:1)*(1/0);r=r+Math.pow(2,i),t=t-u}return(_?-1:1)*r*Math.pow(2,t-i)},dv.write=function(e,n,o,i,l,t){var r,a,s,u=t*8-l-1,f=(1<<u)-1,g=f>>1,b=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:t-1,p=i?1:-1,y=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,r=f):(r=Math.floor(Math.log(n)/Math.LN2),n*(s=Math.pow(2,-r))<1&&(r--,s*=2),r+g>=1?n+=b/s:n+=b*Math.pow(2,1-g),n*s>=2&&(r++,s/=2),r+g>=f?(a=0,r=f):r+g>=1?(a=(n*s-1)*Math.pow(2,l),r=r+g):(a=n*Math.pow(2,g-1)*Math.pow(2,l),r=0));l>=8;e[o+_]=a&255,_+=p,a/=256,l-=8);for(r=r<<l|a,u+=l;u>0;e[o+_]=r&255,_+=p,r/=256,u-=8);e[o+_-p]|=y*128}),dv}var IU;function ld(){return IU||(IU=1,(function(e){const n=WH(),o=wge(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=j,e.INSPECT_MAX_BYTES=50;const l=2147483647;e.kMaxLength=l,a.TYPED_ARRAY_SUPPORT=t(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function t(){try{const G=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(G,N),G.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function r(G){if(G>l)throw new RangeError('The value "'+G+'" is invalid for option "size"');const N=new Uint8Array(G);return Object.setPrototypeOf(N,a.prototype),N}function a(G,N,z){if(typeof G=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(G)}return s(G,N,z)}a.poolSize=8192;function s(G,N,z){if(typeof G=="string")return b(G,N);if(ArrayBuffer.isView(G))return p(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(ye(G,ArrayBuffer)||G&&ye(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ye(G,SharedArrayBuffer)||G&&ye(G.buffer,SharedArrayBuffer)))return y(G,N,z);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=G.valueOf&&G.valueOf();if(ne!=null&&ne!==G)return a.from(ne,N,z);const ce=v(G);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return a.from(G[Symbol.toPrimitive]("string"),N,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}a.from=function(G,N,z){return s(G,N,z)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function f(G,N,z){return u(G),G<=0?r(G):N!==void 0?typeof z=="string"?r(G).fill(N,z):r(G).fill(N):r(G)}a.alloc=function(G,N,z){return f(G,N,z)};function g(G){return u(G),r(G<0?0:E(G)|0)}a.allocUnsafe=function(G){return g(G)},a.allocUnsafeSlow=function(G){return g(G)};function b(G,N){if((typeof N!="string"||N==="")&&(N="utf8"),!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const z=x(G,N)|0;let ne=r(z);const ce=ne.write(G,N);return ce!==z&&(ne=ne.slice(0,ce)),ne}function _(G){const N=G.length<0?0:E(G.length)|0,z=r(N);for(let ne=0;ne<N;ne+=1)z[ne]=G[ne]&255;return z}function p(G){if(ye(G,Uint8Array)){const N=new Uint8Array(G);return y(N.buffer,N.byteOffset,N.byteLength)}return _(G)}function y(G,N,z){if(N<0||G.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<N+(z||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return N===void 0&&z===void 0?ne=new Uint8Array(G):z===void 0?ne=new Uint8Array(G,N):ne=new Uint8Array(G,N,z),Object.setPrototypeOf(ne,a.prototype),ne}function v(G){if(a.isBuffer(G)){const N=E(G.length)|0,z=r(N);return z.length===0||G.copy(z,0,0,N),z}if(G.length!==void 0)return typeof G.length!="number"||ze(G.length)?r(0):_(G);if(G.type==="Buffer"&&Array.isArray(G.data))return _(G.data)}function E(G){if(G>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return G|0}function j(G){return+G!=G&&(G=0),a.alloc(+G)}a.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==a.prototype},a.compare=function(N,z){if(ye(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),ye(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(N)||!a.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===z)return 0;let ne=N.length,ce=z.length;for(let Re=0,Te=Math.min(ne,ce);Re<Te;++Re)if(N[Re]!==z[Re]){ne=N[Re],ce=z[Re];break}return ne<ce?-1:ce<ne?1:0},a.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(N,z){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return a.alloc(0);let ne;if(z===void 0)for(z=0,ne=0;ne<N.length;++ne)z+=N[ne].length;const ce=a.allocUnsafe(z);let Re=0;for(ne=0;ne<N.length;++ne){let Te=N[ne];if(ye(Te,Uint8Array))Re+Te.length>ce.length?(a.isBuffer(Te)||(Te=a.from(Te)),Te.copy(ce,Re)):Uint8Array.prototype.set.call(ce,Te,Re);else if(a.isBuffer(Te))Te.copy(ce,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=Te.length}return ce};function x(G,N){if(a.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||ye(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const z=G.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&z===0)return 0;let ce=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return Ae(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z*2;case"hex":return z>>>1;case"base64":return pe(G).length;default:if(ce)return ne?-1:Ae(G).length;N=(""+N).toLowerCase(),ce=!0}}a.byteLength=x;function A(G,N,z){let ne=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0,N>>>=0,z<=N))return"";for(G||(G="utf8");;)switch(G){case"hex":return re(this,N,z);case"utf8":case"utf-8":return Y(this,N,z);case"ascii":return k(this,N,z);case"latin1":case"binary":return Q(this,N,z);case"base64":return H(this,N,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,N,z);default:if(ne)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),ne=!0}}a.prototype._isBuffer=!0;function M(G,N,z){const ne=G[N];G[N]=G[z],G[z]=ne}a.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let z=0;z<N;z+=2)M(this,z,z+1);return this},a.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let z=0;z<N;z+=4)M(this,z,z+3),M(this,z+1,z+2);return this},a.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let z=0;z<N;z+=8)M(this,z,z+7),M(this,z+1,z+6),M(this,z+2,z+5),M(this,z+3,z+4);return this},a.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?Y(this,0,N):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(N){if(!a.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:a.compare(this,N)===0},a.prototype.inspect=function(){let N="";const z=e.INSPECT_MAX_BYTES;return N=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(N+=" ... "),"<Buffer "+N+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(N,z,ne,ce,Re){if(ye(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(z===void 0&&(z=0),ne===void 0&&(ne=N?N.length:0),ce===void 0&&(ce=0),Re===void 0&&(Re=this.length),z<0||ne>N.length||ce<0||Re>this.length)throw new RangeError("out of range index");if(ce>=Re&&z>=ne)return 0;if(ce>=Re)return-1;if(z>=ne)return 1;if(z>>>=0,ne>>>=0,ce>>>=0,Re>>>=0,this===N)return 0;let Te=Re-ce,tt=ne-z;const yt=Math.min(Te,tt),ut=this.slice(ce,Re),zt=N.slice(z,ne);for(let wt=0;wt<yt;++wt)if(ut[wt]!==zt[wt]){Te=ut[wt],tt=zt[wt];break}return Te<tt?-1:tt<Te?1:0};function T(G,N,z,ne,ce){if(G.length===0)return-1;if(typeof z=="string"?(ne=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),z=+z,ze(z)&&(z=ce?0:G.length-1),z<0&&(z=G.length+z),z>=G.length){if(ce)return-1;z=G.length-1}else if(z<0)if(ce)z=0;else return-1;if(typeof N=="string"&&(N=a.from(N,ne)),a.isBuffer(N))return N.length===0?-1:D(G,N,z,ne,ce);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(G,N,z):Uint8Array.prototype.lastIndexOf.call(G,N,z):D(G,[N],z,ne,ce);throw new TypeError("val must be string, number or Buffer")}function D(G,N,z,ne,ce){let Re=1,Te=G.length,tt=N.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(G.length<2||N.length<2)return-1;Re=2,Te/=2,tt/=2,z/=2}function yt(zt,wt){return Re===1?zt[wt]:zt.readUInt16BE(wt*Re)}let ut;if(ce){let zt=-1;for(ut=z;ut<Te;ut++)if(yt(G,ut)===yt(N,zt===-1?0:ut-zt)){if(zt===-1&&(zt=ut),ut-zt+1===tt)return zt*Re}else zt!==-1&&(ut-=ut-zt),zt=-1}else for(z+tt>Te&&(z=Te-tt),ut=z;ut>=0;ut--){let zt=!0;for(let wt=0;wt<tt;wt++)if(yt(G,ut+wt)!==yt(N,wt)){zt=!1;break}if(zt)return ut}return-1}a.prototype.includes=function(N,z,ne){return this.indexOf(N,z,ne)!==-1},a.prototype.indexOf=function(N,z,ne){return T(this,N,z,ne,!0)},a.prototype.lastIndexOf=function(N,z,ne){return T(this,N,z,ne,!1)};function P(G,N,z,ne){z=Number(z)||0;const ce=G.length-z;ne?(ne=Number(ne),ne>ce&&(ne=ce)):ne=ce;const Re=N.length;ne>Re/2&&(ne=Re/2);let Te;for(Te=0;Te<ne;++Te){const tt=parseInt(N.substr(Te*2,2),16);if(ze(tt))return Te;G[z+Te]=tt}return Te}function F(G,N,z,ne){return Ie(Ae(N,G.length-z),G,z,ne)}function q(G,N,z,ne){return Ie(Ne(N),G,z,ne)}function B(G,N,z,ne){return Ie(pe(N),G,z,ne)}function S(G,N,z,ne){return Ie(de(N,G.length-z),G,z,ne)}a.prototype.write=function(N,z,ne,ce){if(z===void 0)ce="utf8",ne=this.length,z=0;else if(ne===void 0&&typeof z=="string")ce=z,ne=this.length,z=0;else if(isFinite(z))z=z>>>0,isFinite(ne)?(ne=ne>>>0,ce===void 0&&(ce="utf8")):(ce=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-z;if((ne===void 0||ne>Re)&&(ne=Re),N.length>0&&(ne<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let Te=!1;for(;;)switch(ce){case"hex":return P(this,N,z,ne);case"utf8":case"utf-8":return F(this,N,z,ne);case"ascii":case"latin1":case"binary":return q(this,N,z,ne);case"base64":return B(this,N,z,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,N,z,ne);default:if(Te)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),Te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(G,N,z){return N===0&&z===G.length?n.fromByteArray(G):n.fromByteArray(G.slice(N,z))}function Y(G,N,z){z=Math.min(G.length,z);const ne=[];let ce=N;for(;ce<z;){const Re=G[ce];let Te=null,tt=Re>239?4:Re>223?3:Re>191?2:1;if(ce+tt<=z){let yt,ut,zt,wt;switch(tt){case 1:Re<128&&(Te=Re);break;case 2:yt=G[ce+1],(yt&192)===128&&(wt=(Re&31)<<6|yt&63,wt>127&&(Te=wt));break;case 3:yt=G[ce+1],ut=G[ce+2],(yt&192)===128&&(ut&192)===128&&(wt=(Re&15)<<12|(yt&63)<<6|ut&63,wt>2047&&(wt<55296||wt>57343)&&(Te=wt));break;case 4:yt=G[ce+1],ut=G[ce+2],zt=G[ce+3],(yt&192)===128&&(ut&192)===128&&(zt&192)===128&&(wt=(Re&15)<<18|(yt&63)<<12|(ut&63)<<6|zt&63,wt>65535&&wt<1114112&&(Te=wt))}}Te===null?(Te=65533,tt=1):Te>65535&&(Te-=65536,ne.push(Te>>>10&1023|55296),Te=56320|Te&1023),ne.push(Te),ce+=tt}return $(ne)}const W=4096;function $(G){const N=G.length;if(N<=W)return String.fromCharCode.apply(String,G);let z="",ne=0;for(;ne<N;)z+=String.fromCharCode.apply(String,G.slice(ne,ne+=W));return z}function k(G,N,z){let ne="";z=Math.min(G.length,z);for(let ce=N;ce<z;++ce)ne+=String.fromCharCode(G[ce]&127);return ne}function Q(G,N,z){let ne="";z=Math.min(G.length,z);for(let ce=N;ce<z;++ce)ne+=String.fromCharCode(G[ce]);return ne}function re(G,N,z){const ne=G.length;(!N||N<0)&&(N=0),(!z||z<0||z>ne)&&(z=ne);let ce="";for(let Re=N;Re<z;++Re)ce+=Fe[G[Re]];return ce}function C(G,N,z){const ne=G.slice(N,z);let ce="";for(let Re=0;Re<ne.length-1;Re+=2)ce+=String.fromCharCode(ne[Re]+ne[Re+1]*256);return ce}a.prototype.slice=function(N,z){const ne=this.length;N=~~N,z=z===void 0?ne:~~z,N<0?(N+=ne,N<0&&(N=0)):N>ne&&(N=ne),z<0?(z+=ne,z<0&&(z=0)):z>ne&&(z=ne),z<N&&(z=N);const ce=this.subarray(N,z);return Object.setPrototypeOf(ce,a.prototype),ce};function I(G,N,z){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+N>z)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(N,z,ne){N=N>>>0,z=z>>>0,ne||I(N,z,this.length);let ce=this[N],Re=1,Te=0;for(;++Te<z&&(Re*=256);)ce+=this[N+Te]*Re;return ce},a.prototype.readUintBE=a.prototype.readUIntBE=function(N,z,ne){N=N>>>0,z=z>>>0,ne||I(N,z,this.length);let ce=this[N+--z],Re=1;for(;z>0&&(Re*=256);)ce+=this[N+--z]*Re;return ce},a.prototype.readUint8=a.prototype.readUInt8=function(N,z){return N=N>>>0,z||I(N,1,this.length),this[N]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(N,z){return N=N>>>0,z||I(N,2,this.length),this[N]|this[N+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(N,z){return N=N>>>0,z||I(N,2,this.length),this[N]<<8|this[N+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(N,z){return N=N>>>0,z||I(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(N,z){return N=N>>>0,z||I(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},a.prototype.readBigUInt64LE=De(function(N){N=N>>>0,ae(N,"offset");const z=this[N],ne=this[N+7];(z===void 0||ne===void 0)&&oe(N,this.length-8);const ce=z+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,Re=this[++N]+this[++N]*2**8+this[++N]*2**16+ne*2**24;return BigInt(ce)+(BigInt(Re)<<BigInt(32))}),a.prototype.readBigUInt64BE=De(function(N){N=N>>>0,ae(N,"offset");const z=this[N],ne=this[N+7];(z===void 0||ne===void 0)&&oe(N,this.length-8);const ce=z*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],Re=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+ne;return(BigInt(ce)<<BigInt(32))+BigInt(Re)}),a.prototype.readIntLE=function(N,z,ne){N=N>>>0,z=z>>>0,ne||I(N,z,this.length);let ce=this[N],Re=1,Te=0;for(;++Te<z&&(Re*=256);)ce+=this[N+Te]*Re;return Re*=128,ce>=Re&&(ce-=Math.pow(2,8*z)),ce},a.prototype.readIntBE=function(N,z,ne){N=N>>>0,z=z>>>0,ne||I(N,z,this.length);let ce=z,Re=1,Te=this[N+--ce];for(;ce>0&&(Re*=256);)Te+=this[N+--ce]*Re;return Re*=128,Te>=Re&&(Te-=Math.pow(2,8*z)),Te},a.prototype.readInt8=function(N,z){return N=N>>>0,z||I(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},a.prototype.readInt16LE=function(N,z){N=N>>>0,z||I(N,2,this.length);const ne=this[N]|this[N+1]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt16BE=function(N,z){N=N>>>0,z||I(N,2,this.length);const ne=this[N+1]|this[N]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt32LE=function(N,z){return N=N>>>0,z||I(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},a.prototype.readInt32BE=function(N,z){return N=N>>>0,z||I(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},a.prototype.readBigInt64LE=De(function(N){N=N>>>0,ae(N,"offset");const z=this[N],ne=this[N+7];(z===void 0||ne===void 0)&&oe(N,this.length-8);const ce=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(ne<<24);return(BigInt(ce)<<BigInt(32))+BigInt(z+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),a.prototype.readBigInt64BE=De(function(N){N=N>>>0,ae(N,"offset");const z=this[N],ne=this[N+7];(z===void 0||ne===void 0)&&oe(N,this.length-8);const ce=(z<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(ce)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+ne)}),a.prototype.readFloatLE=function(N,z){return N=N>>>0,z||I(N,4,this.length),o.read(this,N,!0,23,4)},a.prototype.readFloatBE=function(N,z){return N=N>>>0,z||I(N,4,this.length),o.read(this,N,!1,23,4)},a.prototype.readDoubleLE=function(N,z){return N=N>>>0,z||I(N,8,this.length),o.read(this,N,!0,52,8)},a.prototype.readDoubleBE=function(N,z){return N=N>>>0,z||I(N,8,this.length),o.read(this,N,!1,52,8)};function K(G,N,z,ne,ce,Re){if(!a.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ce||N<Re)throw new RangeError('"value" argument is out of bounds');if(z+ne>G.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(N,z,ne,ce){if(N=+N,z=z>>>0,ne=ne>>>0,!ce){const tt=Math.pow(2,8*ne)-1;K(this,N,z,ne,tt,0)}let Re=1,Te=0;for(this[z]=N&255;++Te<ne&&(Re*=256);)this[z+Te]=N/Re&255;return z+ne},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(N,z,ne,ce){if(N=+N,z=z>>>0,ne=ne>>>0,!ce){const tt=Math.pow(2,8*ne)-1;K(this,N,z,ne,tt,0)}let Re=ne-1,Te=1;for(this[z+Re]=N&255;--Re>=0&&(Te*=256);)this[z+Re]=N/Te&255;return z+ne},a.prototype.writeUint8=a.prototype.writeUInt8=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,1,255,0),this[z]=N&255,z+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,2,65535,0),this[z]=N&255,this[z+1]=N>>>8,z+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,2,65535,0),this[z]=N>>>8,this[z+1]=N&255,z+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,4,4294967295,0),this[z+3]=N>>>24,this[z+2]=N>>>16,this[z+1]=N>>>8,this[z]=N&255,z+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,4,4294967295,0),this[z]=N>>>24,this[z+1]=N>>>16,this[z+2]=N>>>8,this[z+3]=N&255,z+4};function ee(G,N,z,ne,ce){we(N,ne,ce,G,z,7);let Re=Number(N&BigInt(4294967295));G[z++]=Re,Re=Re>>8,G[z++]=Re,Re=Re>>8,G[z++]=Re,Re=Re>>8,G[z++]=Re;let Te=Number(N>>BigInt(32)&BigInt(4294967295));return G[z++]=Te,Te=Te>>8,G[z++]=Te,Te=Te>>8,G[z++]=Te,Te=Te>>8,G[z++]=Te,z}function fe(G,N,z,ne,ce){we(N,ne,ce,G,z,7);let Re=Number(N&BigInt(4294967295));G[z+7]=Re,Re=Re>>8,G[z+6]=Re,Re=Re>>8,G[z+5]=Re,Re=Re>>8,G[z+4]=Re;let Te=Number(N>>BigInt(32)&BigInt(4294967295));return G[z+3]=Te,Te=Te>>8,G[z+2]=Te,Te=Te>>8,G[z+1]=Te,Te=Te>>8,G[z]=Te,z+8}a.prototype.writeBigUInt64LE=De(function(N,z=0){return ee(this,N,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=De(function(N,z=0){return fe(this,N,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(N,z,ne,ce){if(N=+N,z=z>>>0,!ce){const yt=Math.pow(2,8*ne-1);K(this,N,z,ne,yt-1,-yt)}let Re=0,Te=1,tt=0;for(this[z]=N&255;++Re<ne&&(Te*=256);)N<0&&tt===0&&this[z+Re-1]!==0&&(tt=1),this[z+Re]=(N/Te>>0)-tt&255;return z+ne},a.prototype.writeIntBE=function(N,z,ne,ce){if(N=+N,z=z>>>0,!ce){const yt=Math.pow(2,8*ne-1);K(this,N,z,ne,yt-1,-yt)}let Re=ne-1,Te=1,tt=0;for(this[z+Re]=N&255;--Re>=0&&(Te*=256);)N<0&&tt===0&&this[z+Re+1]!==0&&(tt=1),this[z+Re]=(N/Te>>0)-tt&255;return z+ne},a.prototype.writeInt8=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,1,127,-128),N<0&&(N=255+N+1),this[z]=N&255,z+1},a.prototype.writeInt16LE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,2,32767,-32768),this[z]=N&255,this[z+1]=N>>>8,z+2},a.prototype.writeInt16BE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,2,32767,-32768),this[z]=N>>>8,this[z+1]=N&255,z+2},a.prototype.writeInt32LE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,4,2147483647,-2147483648),this[z]=N&255,this[z+1]=N>>>8,this[z+2]=N>>>16,this[z+3]=N>>>24,z+4},a.prototype.writeInt32BE=function(N,z,ne){return N=+N,z=z>>>0,ne||K(this,N,z,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[z]=N>>>24,this[z+1]=N>>>16,this[z+2]=N>>>8,this[z+3]=N&255,z+4},a.prototype.writeBigInt64LE=De(function(N,z=0){return ee(this,N,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=De(function(N,z=0){return fe(this,N,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(G,N,z,ne,ce,Re){if(z+ne>G.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function V(G,N,z,ne,ce){return N=+N,z=z>>>0,ce||_e(G,N,z,4),o.write(G,N,z,ne,23,4),z+4}a.prototype.writeFloatLE=function(N,z,ne){return V(this,N,z,!0,ne)},a.prototype.writeFloatBE=function(N,z,ne){return V(this,N,z,!1,ne)};function U(G,N,z,ne,ce){return N=+N,z=z>>>0,ce||_e(G,N,z,8),o.write(G,N,z,ne,52,8),z+8}a.prototype.writeDoubleLE=function(N,z,ne){return U(this,N,z,!0,ne)},a.prototype.writeDoubleBE=function(N,z,ne){return U(this,N,z,!1,ne)},a.prototype.copy=function(N,z,ne,ce){if(!a.isBuffer(N))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!ce&&ce!==0&&(ce=this.length),z>=N.length&&(z=N.length),z||(z=0),ce>0&&ce<ne&&(ce=ne),ce===ne||N.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),N.length-z<ce-ne&&(ce=N.length-z+ne);const Re=ce-ne;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(z,ne,ce):Uint8Array.prototype.set.call(N,this.subarray(ne,ce),z),Re},a.prototype.fill=function(N,z,ne,ce){if(typeof N=="string"){if(typeof z=="string"?(ce=z,z=0,ne=this.length):typeof ne=="string"&&(ce=ne,ne=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!a.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(N.length===1){const Te=N.charCodeAt(0);(ce==="utf8"&&Te<128||ce==="latin1")&&(N=Te)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(z<0||this.length<z||this.length<ne)throw new RangeError("Out of range index");if(ne<=z)return this;z=z>>>0,ne=ne===void 0?this.length:ne>>>0,N||(N=0);let Re;if(typeof N=="number")for(Re=z;Re<ne;++Re)this[Re]=N;else{const Te=a.isBuffer(N)?N:a.from(N,ce),tt=Te.length;if(tt===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(Re=0;Re<ne-z;++Re)this[Re+z]=Te[Re%tt]}return this};const X={};function Z(G,N,z){X[G]=class extends z{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}Z("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Z("ERR_INVALID_ARG_TYPE",function(G,N){return`The "${G}" argument must be of type number. Received type ${typeof N}`},TypeError),Z("ERR_OUT_OF_RANGE",function(G,N,z){let ne=`The value of "${G}" is out of range.`,ce=z;return Number.isInteger(z)&&Math.abs(z)>2**32?ce=le(String(z)):typeof z=="bigint"&&(ce=String(z),(z>BigInt(2)**BigInt(32)||z<-(BigInt(2)**BigInt(32)))&&(ce=le(ce)),ce+="n"),ne+=` It must be ${N}. Received ${ce}`,ne},RangeError);function le(G){let N="",z=G.length;const ne=G[0]==="-"?1:0;for(;z>=ne+4;z-=3)N=`_${G.slice(z-3,z)}${N}`;return`${G.slice(0,z)}${N}`}function me(G,N,z){ae(N,"offset"),(G[N]===void 0||G[N+z]===void 0)&&oe(N,G.length-(z+1))}function we(G,N,z,ne,ce,Re){if(G>z||G<N){const Te=typeof N=="bigint"?"n":"";let tt;throw N===0||N===BigInt(0)?tt=`>= 0${Te} and < 2${Te} ** ${(Re+1)*8}${Te}`:tt=`>= -(2${Te} ** ${(Re+1)*8-1}${Te}) and < 2 ** ${(Re+1)*8-1}${Te}`,new X.ERR_OUT_OF_RANGE("value",tt,G)}me(ne,ce,Re)}function ae(G,N){if(typeof G!="number")throw new X.ERR_INVALID_ARG_TYPE(N,"number",G)}function oe(G,N,z){throw Math.floor(G)!==G?(ae(G,z),new X.ERR_OUT_OF_RANGE("offset","an integer",G)):N<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,G)}const ve=/[^+/0-9A-Za-z-_]/g;function Ce(G){if(G=G.split("=")[0],G=G.trim().replace(ve,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function Ae(G,N){N=N||1/0;let z;const ne=G.length;let ce=null;const Re=[];for(let Te=0;Te<ne;++Te){if(z=G.charCodeAt(Te),z>55295&&z<57344){if(!ce){if(z>56319){(N-=3)>-1&&Re.push(239,191,189);continue}else if(Te+1===ne){(N-=3)>-1&&Re.push(239,191,189);continue}ce=z;continue}if(z<56320){(N-=3)>-1&&Re.push(239,191,189),ce=z;continue}z=(ce-55296<<10|z-56320)+65536}else ce&&(N-=3)>-1&&Re.push(239,191,189);if(ce=null,z<128){if((N-=1)<0)break;Re.push(z)}else if(z<2048){if((N-=2)<0)break;Re.push(z>>6|192,z&63|128)}else if(z<65536){if((N-=3)<0)break;Re.push(z>>12|224,z>>6&63|128,z&63|128)}else if(z<1114112){if((N-=4)<0)break;Re.push(z>>18|240,z>>12&63|128,z>>6&63|128,z&63|128)}else throw new Error("Invalid code point")}return Re}function Ne(G){const N=[];for(let z=0;z<G.length;++z)N.push(G.charCodeAt(z)&255);return N}function de(G,N){let z,ne,ce;const Re=[];for(let Te=0;Te<G.length&&!((N-=2)<0);++Te)z=G.charCodeAt(Te),ne=z>>8,ce=z%256,Re.push(ce),Re.push(ne);return Re}function pe(G){return n.toByteArray(Ce(G))}function Ie(G,N,z,ne){let ce;for(ce=0;ce<ne&&!(ce+z>=N.length||ce>=G.length);++ce)N[ce+z]=G[ce];return ce}function ye(G,N){return G instanceof N||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===N.name}function ze(G){return G!==G}const Fe=(function(){const G="0123456789abcdef",N=new Array(256);for(let z=0;z<16;++z){const ne=z*16;for(let ce=0;ce<16;++ce)N[ne+ce]=G[z]+G[ce]}return N})();function De(G){return typeof BigInt>"u"?Be:G}function Be(){throw new Error("BigInt not supported")}})($x)),$x}var Fx,zU;function Gt(){if(zU)return Fx;zU=1;class e extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let i="";for(let l=0;l<o.length;l++)i+=`    ${o[l].stack}
`;super(i),this.name="AggregateError",this.errors=o}}return Fx={AggregateError:e,ArrayIsArray(n){return Array.isArray(n)},ArrayPrototypeIncludes(n,o){return n.includes(o)},ArrayPrototypeIndexOf(n,o){return n.indexOf(o)},ArrayPrototypeJoin(n,o){return n.join(o)},ArrayPrototypeMap(n,o){return n.map(o)},ArrayPrototypePop(n,o){return n.pop(o)},ArrayPrototypePush(n,o){return n.push(o)},ArrayPrototypeSlice(n,o,i){return n.slice(o,i)},Error,FunctionPrototypeCall(n,o,...i){return n.call(o,...i)},FunctionPrototypeSymbolHasInstance(n,o){return Function.prototype[Symbol.hasInstance].call(n,o)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(n,o){return Object.defineProperties(n,o)},ObjectDefineProperty(n,o,i){return Object.defineProperty(n,o,i)},ObjectGetOwnPropertyDescriptor(n,o){return Object.getOwnPropertyDescriptor(n,o)},ObjectKeys(n){return Object.keys(n)},ObjectSetPrototypeOf(n,o){return Object.setPrototypeOf(n,o)},Promise,PromisePrototypeCatch(n,o){return n.catch(o)},PromisePrototypeThen(n,o,i){return n.then(o,i)},PromiseReject(n){return Promise.reject(n)},PromiseResolve(n){return Promise.resolve(n)},ReflectApply:Reflect.apply,RegExpPrototypeTest(n,o){return n.test(o)},SafeSet:Set,String,StringPrototypeSlice(n,o,i){return n.slice(o,i)},StringPrototypeToLowerCase(n){return n.toLowerCase()},StringPrototypeToUpperCase(n){return n.toUpperCase()},StringPrototypeTrim(n){return n.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(n,o,i){return n.set(o,i)},Boolean,Uint8Array},Fx}var Vx={exports:{}},Gx,BU;function VK(){return BU||(BU=1,Gx={format(e,...n){return e.replace(/%([sdifj])/g,function(...[o,i]){const l=n.shift();return i==="f"?l.toFixed(6):i==="j"?JSON.stringify(l):i==="s"&&typeof l=="object"?`${l.constructor!==Object?l.constructor.name:""} {}`.trim():l.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),Gx}var Hx,qU;function Ir(){if(qU)return Hx;qU=1;const{format:e,inspect:n}=VK(),{AggregateError:o}=Gt(),i=globalThis.AggregateError||o,l=Symbol("kIsNodeError"),t=["string","function","number","object","Function","Object","boolean","bigint","symbol"],r=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",s={};function u(v,E){if(!v)throw new s.ERR_INTERNAL_ASSERTION(E)}function f(v){let E="",j=v.length;const x=v[0]==="-"?1:0;for(;j>=x+4;j-=3)E=`_${v.slice(j-3,j)}${E}`;return`${v.slice(0,j)}${E}`}function g(v,E,j){if(typeof E=="function")return u(E.length<=j.length,`Code: ${v}; The provided arguments length (${j.length}) does not match the required ones (${E.length}).`),E(...j);const x=(E.match(/%[dfijoOs]/g)||[]).length;return u(x===j.length,`Code: ${v}; The provided arguments length (${j.length}) does not match the required ones (${x}).`),j.length===0?E:e(E,...j)}function b(v,E,j){j||(j=Error);class x extends j{constructor(...M){super(g(v,E,M))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(x.prototype,{name:{value:j.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),x.prototype.code=v,x.prototype[l]=!0,s[v]=x}function _(v){const E=a+v.name;return Object.defineProperty(v,"name",{value:E}),v}function p(v,E){if(v&&E&&v!==E){if(Array.isArray(E.errors))return E.errors.push(v),E;const j=new i([E,v],E.message);return j.code=E.code,j}return v||E}class y extends Error{constructor(E="The operation was aborted",j=void 0){if(j!==void 0&&typeof j!="object")throw new s.ERR_INVALID_ARG_TYPE("options","Object",j);super(E,j),this.code="ABORT_ERR",this.name="AbortError"}}return b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(v,E,j)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(E)||(E=[E]);let x="The ";v.endsWith(" argument")?x+=`${v} `:x+=`"${v}" ${v.includes(".")?"property":"argument"} `,x+="must be ";const A=[],M=[],T=[];for(const P of E)u(typeof P=="string","All expected entries have to be of type string"),t.includes(P)?A.push(P.toLowerCase()):r.test(P)?M.push(P):(u(P!=="object",'The value "object" should be written as "Object"'),T.push(P));if(M.length>0){const P=A.indexOf("object");P!==-1&&(A.splice(A,P,1),M.push("Object"))}if(A.length>0){switch(A.length){case 1:x+=`of type ${A[0]}`;break;case 2:x+=`one of type ${A[0]} or ${A[1]}`;break;default:{const P=A.pop();x+=`one of type ${A.join(", ")}, or ${P}`}}(M.length>0||T.length>0)&&(x+=" or ")}if(M.length>0){switch(M.length){case 1:x+=`an instance of ${M[0]}`;break;case 2:x+=`an instance of ${M[0]} or ${M[1]}`;break;default:{const P=M.pop();x+=`an instance of ${M.join(", ")}, or ${P}`}}T.length>0&&(x+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(x+="an "),x+=`${T[0]}`;break;case 2:x+=`one of ${T[0]} or ${T[1]}`;break;default:{const P=T.pop();x+=`one of ${T.join(", ")}, or ${P}`}}if(j==null)x+=`. Received ${j}`;else if(typeof j=="function"&&j.name)x+=`. Received function ${j.name}`;else if(typeof j=="object"){var D;if((D=j.constructor)!==null&&D!==void 0&&D.name)x+=`. Received an instance of ${j.constructor.name}`;else{const P=n(j,{depth:-1});x+=`. Received ${P}`}}else{let P=n(j,{colors:!1});P.length>25&&(P=`${P.slice(0,25)}...`),x+=`. Received type ${typeof j} (${P})`}return x},TypeError),b("ERR_INVALID_ARG_VALUE",(v,E,j="is invalid")=>{let x=n(E);return x.length>128&&(x=x.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${j}. Received ${x}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(v,E,j)=>{var x;const A=j!=null&&(x=j.constructor)!==null&&x!==void 0&&x.name?`instance of ${j.constructor.name}`:`type ${typeof j}`;return`Expected ${v} to be returned from the "${E}" function but got ${A}.`},TypeError),b("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let E;const j=v.length;switch(v=(Array.isArray(v)?v:[v]).map(x=>`"${x}"`).join(" or "),j){case 1:E+=`The ${v[0]} argument`;break;case 2:E+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const x=v.pop();E+=`The ${v.join(", ")}, and ${x} arguments`}break}return`${E} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(v,E,j)=>{u(E,'Missing "range" argument');let x;if(Number.isInteger(j)&&Math.abs(j)>2**32)x=f(String(j));else if(typeof j=="bigint"){x=String(j);const A=BigInt(2)**BigInt(32);(j>A||j<-A)&&(x=f(x)),x+="n"}else x=n(j);return`The value of "${v}" is out of range. It must be ${E}. Received ${x}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Hx={AbortError:y,aggregateTwoErrors:_(p),hideStackFrames:_,codes:s},Hx}var og={exports:{}},LU;function r_(){if(LU)return og.exports;LU=1;const{AbortController:e,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;return og.exports=e,og.exports.AbortSignal=n,og.exports.default=e,og.exports}var fv={exports:{}},UU;function t0(){if(UU)return fv.exports;UU=1;var e=typeof Reflect=="object"?Reflect:null,n=e&&typeof e.apply=="function"?e.apply:function(M,T,D){return Function.prototype.apply.call(M,T,D)},o;e&&typeof e.ownKeys=="function"?o=e.ownKeys:Object.getOwnPropertySymbols?o=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:o=function(M){return Object.getOwnPropertyNames(M)};function i(A){console&&console.warn&&console.warn(A)}var l=Number.isNaN||function(M){return M!==M};function t(){t.init.call(this)}fv.exports=t,fv.exports.once=E,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var r=10;function a(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(A){if(typeof A!="number"||A<0||l(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");r=A}}),t.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||l(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function s(A){return A._maxListeners===void 0?t.defaultMaxListeners:A._maxListeners}t.prototype.getMaxListeners=function(){return s(this)},t.prototype.emit=function(M){for(var T=[],D=1;D<arguments.length;D++)T.push(arguments[D]);var P=M==="error",F=this._events;if(F!==void 0)P=P&&F.error===void 0;else if(!P)return!1;if(P){var q;if(T.length>0&&(q=T[0]),q instanceof Error)throw q;var B=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw B.context=q,B}var S=F[M];if(S===void 0)return!1;if(typeof S=="function")n(S,this,T);else for(var H=S.length,Y=p(S,H),D=0;D<H;++D)n(Y[D],this,T);return!0};function u(A,M,T,D){var P,F,q;if(a(T),F=A._events,F===void 0?(F=A._events=Object.create(null),A._eventsCount=0):(F.newListener!==void 0&&(A.emit("newListener",M,T.listener?T.listener:T),F=A._events),q=F[M]),q===void 0)q=F[M]=T,++A._eventsCount;else if(typeof q=="function"?q=F[M]=D?[T,q]:[q,T]:D?q.unshift(T):q.push(T),P=s(A),P>0&&q.length>P&&!q.warned){q.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=A,B.type=M,B.count=q.length,i(B)}return A}t.prototype.addListener=function(M,T){return u(this,M,T,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(M,T){return u(this,M,T,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(A,M,T){var D={fired:!1,wrapFn:void 0,target:A,type:M,listener:T},P=f.bind(D);return P.listener=T,D.wrapFn=P,P}t.prototype.once=function(M,T){return a(T),this.on(M,g(this,M,T)),this},t.prototype.prependOnceListener=function(M,T){return a(T),this.prependListener(M,g(this,M,T)),this},t.prototype.removeListener=function(M,T){var D,P,F,q,B;if(a(T),P=this._events,P===void 0)return this;if(D=P[M],D===void 0)return this;if(D===T||D.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete P[M],P.removeListener&&this.emit("removeListener",M,D.listener||T));else if(typeof D!="function"){for(F=-1,q=D.length-1;q>=0;q--)if(D[q]===T||D[q].listener===T){B=D[q].listener,F=q;break}if(F<0)return this;F===0?D.shift():y(D,F),D.length===1&&(P[M]=D[0]),P.removeListener!==void 0&&this.emit("removeListener",M,B||T)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(M){var T,D,P;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[M]),this;if(arguments.length===0){var F=Object.keys(D),q;for(P=0;P<F.length;++P)q=F[P],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=D[M],typeof T=="function")this.removeListener(M,T);else if(T!==void 0)for(P=T.length-1;P>=0;P--)this.removeListener(M,T[P]);return this};function b(A,M,T){var D=A._events;if(D===void 0)return[];var P=D[M];return P===void 0?[]:typeof P=="function"?T?[P.listener||P]:[P]:T?v(P):p(P,P.length)}t.prototype.listeners=function(M){return b(this,M,!0)},t.prototype.rawListeners=function(M){return b(this,M,!1)},t.listenerCount=function(A,M){return typeof A.listenerCount=="function"?A.listenerCount(M):_.call(A,M)},t.prototype.listenerCount=_;function _(A){var M=this._events;if(M!==void 0){var T=M[A];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}t.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function p(A,M){for(var T=new Array(M),D=0;D<M;++D)T[D]=A[D];return T}function y(A,M){for(;M+1<A.length;M++)A[M]=A[M+1];A.pop()}function v(A){for(var M=new Array(A.length),T=0;T<M.length;++T)M[T]=A[T].listener||A[T];return M}function E(A,M){return new Promise(function(T,D){function P(q){A.removeListener(M,F),D(q)}function F(){typeof A.removeListener=="function"&&A.removeListener("error",P),T([].slice.call(arguments))}x(A,M,F,{once:!0}),M!=="error"&&j(A,P,{once:!0})})}function j(A,M,T){typeof A.on=="function"&&x(A,"error",M,T)}function x(A,M,T,D){if(typeof A.on=="function")D.once?A.once(M,T):A.on(M,T);else if(typeof A.addEventListener=="function")A.addEventListener(M,function P(F){D.once&&A.removeEventListener(M,P),T(F)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return fv.exports}var $U;function Wr(){return $U||($U=1,(function(e){const n=ld(),{format:o,inspect:i}=VK(),{codes:{ERR_INVALID_ARG_TYPE:l}}=Ir(),{kResistStopPropagation:t,AggregateError:r,SymbolDispose:a}=Gt(),s=globalThis.AbortSignal||r_().AbortSignal,u=globalThis.AbortController||r_().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,g=globalThis.Blob||n.Blob,b=typeof g<"u"?function(v){return v instanceof g}:function(v){return!1},_=(y,v)=>{if(y!==void 0&&(y===null||typeof y!="object"||!("aborted"in y)))throw new l(v,"AbortSignal",y)},p=(y,v)=>{if(typeof y!="function")throw new l(v,"Function",y)};e.exports={AggregateError:r,kEmptyObject:Object.freeze({}),once(y){let v=!1;return function(...E){v||(v=!0,y.apply(this,E))}},createDeferredPromise:function(){let y,v;return{promise:new Promise((j,x)=>{y=j,v=x}),resolve:y,reject:v}},promisify(y){return new Promise((v,E)=>{y((j,...x)=>j?E(j):v(...x))})},debuglog(){return function(){}},format:o,inspect:i,types:{isAsyncFunction(y){return y instanceof f},isArrayBufferView(y){return ArrayBuffer.isView(y)}},isBlob:b,deprecate(y,v){return y},addAbortListener:t0().addAbortListener||function(v,E){if(v===void 0)throw new l("signal","AbortSignal",v);_(v,"signal"),p(E,"listener");let j;return v.aborted?queueMicrotask(()=>E()):(v.addEventListener("abort",E,{__proto__:null,once:!0,[t]:!0}),j=()=>{v.removeEventListener("abort",E)}),{__proto__:null,[a](){var x;(x=j)===null||x===void 0||x()}}},AbortSignalAny:s.any||function(v){if(v.length===1)return v[0];const E=new u,j=()=>E.abort();return v.forEach(x=>{_(x,"signals"),x.addEventListener("abort",j,{once:!0})}),E.signal.addEventListener("abort",()=>{v.forEach(x=>x.removeEventListener("abort",j))},{once:!0}),E.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(Vx)),Vx.exports}var hv={},Kx,FU;function O_(){if(FU)return Kx;FU=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:o,ArrayPrototypeMap:i,NumberIsInteger:l,NumberIsNaN:t,NumberMAX_SAFE_INTEGER:r,NumberMIN_SAFE_INTEGER:a,NumberParseInt:s,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:g,StringPrototypeToUpperCase:b,StringPrototypeTrim:_}=Gt(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:E,ERR_OUT_OF_RANGE:j,ERR_UNKNOWN_SIGNAL:x}}=Ir(),{normalizeEncoding:A}=Wr(),{isAsyncFunction:M,isArrayBufferView:T}=Wr().types,D={};function P(de){return de===(de|0)}function F(de){return de===de>>>0}const q=/^[0-7]+$/,B="must be a 32-bit unsigned integer or an octal string";function S(de,pe,Ie){if(typeof de>"u"&&(de=Ie),typeof de=="string"){if(f(q,de)===null)throw new E(pe,de,B);de=s(de,8)}return W(de,pe),de}const H=p((de,pe,Ie=a,ye=r)=>{if(typeof de!="number")throw new v(pe,"number",de);if(!l(de))throw new j(pe,"an integer",de);if(de<Ie||de>ye)throw new j(pe,`>= ${Ie} && <= ${ye}`,de)}),Y=p((de,pe,Ie=-2147483648,ye=2147483647)=>{if(typeof de!="number")throw new v(pe,"number",de);if(!l(de))throw new j(pe,"an integer",de);if(de<Ie||de>ye)throw new j(pe,`>= ${Ie} && <= ${ye}`,de)}),W=p((de,pe,Ie=!1)=>{if(typeof de!="number")throw new v(pe,"number",de);if(!l(de))throw new j(pe,"an integer",de);const ye=Ie?1:0,ze=4294967295;if(de<ye||de>ze)throw new j(pe,`>= ${ye} && <= ${ze}`,de)});function $(de,pe){if(typeof de!="string")throw new v(pe,"string",de)}function k(de,pe,Ie=void 0,ye){if(typeof de!="number")throw new v(pe,"number",de);if(Ie!=null&&de<Ie||ye!=null&&de>ye||(Ie!=null||ye!=null)&&t(de))throw new j(pe,`${Ie!=null?`>= ${Ie}`:""}${Ie!=null&&ye!=null?" && ":""}${ye!=null?`<= ${ye}`:""}`,de)}const Q=p((de,pe,Ie)=>{if(!n(Ie,de)){const ze="must be one of: "+o(i(Ie,Fe=>typeof Fe=="string"?`'${Fe}'`:g(Fe)),", ");throw new E(pe,de,ze)}});function re(de,pe){if(typeof de!="boolean")throw new v(pe,"boolean",de)}function C(de,pe,Ie){return de==null||!u(de,pe)?Ie:de[pe]}const I=p((de,pe,Ie=null)=>{const ye=C(Ie,"allowArray",!1),ze=C(Ie,"allowFunction",!1);if(!C(Ie,"nullable",!1)&&de===null||!ye&&e(de)||typeof de!="object"&&(!ze||typeof de!="function"))throw new v(pe,"Object",de)}),K=p((de,pe)=>{if(de!=null&&typeof de!="object"&&typeof de!="function")throw new v(pe,"a dictionary",de)}),ee=p((de,pe,Ie=0)=>{if(!e(de))throw new v(pe,"Array",de);if(de.length<Ie){const ye=`must be longer than ${Ie}`;throw new E(pe,de,ye)}});function fe(de,pe){ee(de,pe);for(let Ie=0;Ie<de.length;Ie++)$(de[Ie],`${pe}[${Ie}]`)}function _e(de,pe){ee(de,pe);for(let Ie=0;Ie<de.length;Ie++)re(de[Ie],`${pe}[${Ie}]`)}function V(de,pe){ee(de,pe);for(let Ie=0;Ie<de.length;Ie++){const ye=de[Ie],ze=`${pe}[${Ie}]`;if(ye==null)throw new v(ze,"AbortSignal",ye);me(ye,ze)}}function U(de,pe="signal"){if($(de,pe),D[de]===void 0)throw D[b(de)]!==void 0?new x(de+" (signals must use all capital letters)"):new x(de)}const X=p((de,pe="buffer")=>{if(!T(de))throw new v(pe,["Buffer","TypedArray","DataView"],de)});function Z(de,pe){const Ie=A(pe),ye=de.length;if(Ie==="hex"&&ye%2!==0)throw new E("encoding",pe,`is invalid for data of length ${ye}`)}function le(de,pe="Port",Ie=!0){if(typeof de!="number"&&typeof de!="string"||typeof de=="string"&&_(de).length===0||+de!==+de>>>0||de>65535||de===0&&!Ie)throw new y(pe,de,Ie);return de|0}const me=p((de,pe)=>{if(de!==void 0&&(de===null||typeof de!="object"||!("aborted"in de)))throw new v(pe,"AbortSignal",de)}),we=p((de,pe)=>{if(typeof de!="function")throw new v(pe,"Function",de)}),ae=p((de,pe)=>{if(typeof de!="function"||M(de))throw new v(pe,"Function",de)}),oe=p((de,pe)=>{if(de!==void 0)throw new v(pe,"undefined",de)});function ve(de,pe,Ie){if(!n(Ie,de))throw new v(pe,`('${o(Ie,"|")}')`,de)}const Ce=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ae(de,pe){if(typeof de>"u"||!f(Ce,de))throw new E(pe,de,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ne(de){if(typeof de=="string")return Ae(de,"hints"),de;if(e(de)){const pe=de.length;let Ie="";if(pe===0)return Ie;for(let ye=0;ye<pe;ye++){const ze=de[ye];Ae(ze,"hints"),Ie+=ze,ye!==pe-1&&(Ie+=", ")}return Ie}throw new E("hints",de,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Kx={isInt32:P,isUint32:F,parseFileMode:S,validateArray:ee,validateStringArray:fe,validateBooleanArray:_e,validateAbortSignalArray:V,validateBoolean:re,validateBuffer:X,validateDictionary:K,validateEncoding:Z,validateFunction:we,validateInt32:Y,validateInteger:H,validateNumber:k,validateObject:I,validateOneOf:Q,validatePlainFunction:ae,validatePort:le,validateSignalName:U,validateString:$,validateUint32:W,validateUndefined:oe,validateUnion:ve,validateAbortSignal:me,validateLinkHeaderValue:Ne},Kx}var pv={exports:{}},kx={exports:{}},VU;function Yf(){if(VU)return kx.exports;VU=1;var e=kx.exports={},n,o;function i(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?o=clearTimeout:o=l}catch{o=l}})();function t(y){if(n===setTimeout)return setTimeout(y,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(y,0);try{return n(y,0)}catch{try{return n.call(null,y,0)}catch{return n.call(this,y,0)}}}function r(y){if(o===clearTimeout)return clearTimeout(y);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(y);try{return o(y)}catch{try{return o.call(null,y)}catch{return o.call(this,y)}}}var a=[],s=!1,u,f=-1;function g(){!s||!u||(s=!1,u.length?a=u.concat(a):f=-1,a.length&&b())}function b(){if(!s){var y=t(g);s=!0;for(var v=a.length;v;){for(u=a,a=[];++f<v;)u&&u[f].run();f=-1,v=a.length}u=null,s=!1,r(y)}}e.nextTick=function(y){var v=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)v[E-1]=arguments[E];a.push(new _(y,v)),a.length===1&&!s&&t(b)};function _(y,v){this.fun=y,this.array=v}_.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function p(){}return e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(y){return[]},e.binding=function(y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},kx.exports}var Yx,GU;function lc(){if(GU)return Yx;GU=1;const{SymbolAsyncIterator:e,SymbolIterator:n,SymbolFor:o}=Gt(),i=o("nodejs.stream.destroyed"),l=o("nodejs.stream.errored"),t=o("nodejs.stream.readable"),r=o("nodejs.stream.writable"),a=o("nodejs.stream.disturbed"),s=o("nodejs.webstream.isClosedPromise"),u=o("nodejs.webstream.controllerErrorFunction");function f(C,I=!1){var K;return!!(C&&typeof C.pipe=="function"&&typeof C.on=="function"&&(!I||typeof C.pause=="function"&&typeof C.resume=="function")&&(!C._writableState||((K=C._readableState)===null||K===void 0?void 0:K.readable)!==!1)&&(!C._writableState||C._readableState))}function g(C){var I;return!!(C&&typeof C.write=="function"&&typeof C.on=="function"&&(!C._readableState||((I=C._writableState)===null||I===void 0?void 0:I.writable)!==!1))}function b(C){return!!(C&&typeof C.pipe=="function"&&C._readableState&&typeof C.on=="function"&&typeof C.write=="function")}function _(C){return C&&(C._readableState||C._writableState||typeof C.write=="function"&&typeof C.on=="function"||typeof C.pipe=="function"&&typeof C.on=="function")}function p(C){return!!(C&&!_(C)&&typeof C.pipeThrough=="function"&&typeof C.getReader=="function"&&typeof C.cancel=="function")}function y(C){return!!(C&&!_(C)&&typeof C.getWriter=="function"&&typeof C.abort=="function")}function v(C){return!!(C&&!_(C)&&typeof C.readable=="object"&&typeof C.writable=="object")}function E(C){return p(C)||y(C)||v(C)}function j(C,I){return C==null?!1:I===!0?typeof C[e]=="function":I===!1?typeof C[n]=="function":typeof C[e]=="function"||typeof C[n]=="function"}function x(C){if(!_(C))return null;const I=C._writableState,K=C._readableState,ee=I||K;return!!(C.destroyed||C[i]||ee!=null&&ee.destroyed)}function A(C){if(!g(C))return null;if(C.writableEnded===!0)return!0;const I=C._writableState;return I!=null&&I.errored?!1:typeof I?.ended!="boolean"?null:I.ended}function M(C,I){if(!g(C))return null;if(C.writableFinished===!0)return!0;const K=C._writableState;return K!=null&&K.errored?!1:typeof K?.finished!="boolean"?null:!!(K.finished||I===!1&&K.ended===!0&&K.length===0)}function T(C){if(!f(C))return null;if(C.readableEnded===!0)return!0;const I=C._readableState;return!I||I.errored?!1:typeof I?.ended!="boolean"?null:I.ended}function D(C,I){if(!f(C))return null;const K=C._readableState;return K!=null&&K.errored?!1:typeof K?.endEmitted!="boolean"?null:!!(K.endEmitted||I===!1&&K.ended===!0&&K.length===0)}function P(C){return C&&C[t]!=null?C[t]:typeof C?.readable!="boolean"?null:x(C)?!1:f(C)&&C.readable&&!D(C)}function F(C){return C&&C[r]!=null?C[r]:typeof C?.writable!="boolean"?null:x(C)?!1:g(C)&&C.writable&&!A(C)}function q(C,I){return _(C)?x(C)?!0:!(I?.readable!==!1&&P(C)||I?.writable!==!1&&F(C)):null}function B(C){var I,K;return _(C)?C.writableErrored?C.writableErrored:(I=(K=C._writableState)===null||K===void 0?void 0:K.errored)!==null&&I!==void 0?I:null:null}function S(C){var I,K;return _(C)?C.readableErrored?C.readableErrored:(I=(K=C._readableState)===null||K===void 0?void 0:K.errored)!==null&&I!==void 0?I:null:null}function H(C){if(!_(C))return null;if(typeof C.closed=="boolean")return C.closed;const I=C._writableState,K=C._readableState;return typeof I?.closed=="boolean"||typeof K?.closed=="boolean"?I?.closed||K?.closed:typeof C._closed=="boolean"&&Y(C)?C._closed:null}function Y(C){return typeof C._closed=="boolean"&&typeof C._defaultKeepAlive=="boolean"&&typeof C._removedConnection=="boolean"&&typeof C._removedContLen=="boolean"}function W(C){return typeof C._sent100=="boolean"&&Y(C)}function $(C){var I;return typeof C._consuming=="boolean"&&typeof C._dumped=="boolean"&&((I=C.req)===null||I===void 0?void 0:I.upgradeOrConnect)===void 0}function k(C){if(!_(C))return null;const I=C._writableState,K=C._readableState,ee=I||K;return!ee&&W(C)||!!(ee&&ee.autoDestroy&&ee.emitClose&&ee.closed===!1)}function Q(C){var I;return!!(C&&((I=C[a])!==null&&I!==void 0?I:C.readableDidRead||C.readableAborted))}function re(C){var I,K,ee,fe,_e,V,U,X,Z,le;return!!(C&&((I=(K=(ee=(fe=(_e=(V=C[l])!==null&&V!==void 0?V:C.readableErrored)!==null&&_e!==void 0?_e:C.writableErrored)!==null&&fe!==void 0?fe:(U=C._readableState)===null||U===void 0?void 0:U.errorEmitted)!==null&&ee!==void 0?ee:(X=C._writableState)===null||X===void 0?void 0:X.errorEmitted)!==null&&K!==void 0?K:(Z=C._readableState)===null||Z===void 0?void 0:Z.errored)!==null&&I!==void 0?I:!((le=C._writableState)===null||le===void 0)&&le.errored))}return Yx={isDestroyed:x,kIsDestroyed:i,isDisturbed:Q,kIsDisturbed:a,isErrored:re,kIsErrored:l,isReadable:P,kIsReadable:t,kIsClosedPromise:s,kControllerErrorFunction:u,kIsWritable:r,isClosed:H,isDuplexNodeStream:b,isFinished:q,isIterable:j,isReadableNodeStream:f,isReadableStream:p,isReadableEnded:T,isReadableFinished:D,isReadableErrored:S,isNodeStream:_,isWebStream:E,isWritable:F,isWritableNodeStream:g,isWritableStream:y,isWritableEnded:A,isWritableFinished:M,isWritableErrored:B,isServerRequest:$,isServerResponse:W,willEmitClose:k,isTransformStream:v},Yx}var HU;function ud(){if(HU)return pv.exports;HU=1;const e=Yf(),{AbortError:n,codes:o}=Ir(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:l}=o,{kEmptyObject:t,once:r}=Wr(),{validateAbortSignal:a,validateFunction:s,validateObject:u,validateBoolean:f}=O_(),{Promise:g,PromisePrototypeThen:b,SymbolDispose:_}=Gt(),{isClosed:p,isReadable:y,isReadableNodeStream:v,isReadableStream:E,isReadableFinished:j,isReadableErrored:x,isWritable:A,isWritableNodeStream:M,isWritableStream:T,isWritableFinished:D,isWritableErrored:P,isNodeStream:F,willEmitClose:q,kIsClosedPromise:B}=lc();let S;function H(Q){return Q.setHeader&&typeof Q.abort=="function"}const Y=()=>{};function W(Q,re,C){var I,K;if(arguments.length===2?(C=re,re=t):re==null?re=t:u(re,"options"),s(C,"callback"),a(re.signal,"options.signal"),C=r(C),E(Q)||T(Q))return $(Q,re,C);if(!F(Q))throw new i("stream",["ReadableStream","WritableStream","Stream"],Q);const ee=(I=re.readable)!==null&&I!==void 0?I:v(Q),fe=(K=re.writable)!==null&&K!==void 0?K:M(Q),_e=Q._writableState,V=Q._readableState,U=()=>{Q.writable||le()};let X=q(Q)&&v(Q)===ee&&M(Q)===fe,Z=D(Q,!1);const le=()=>{Z=!0,Q.destroyed&&(X=!1),!(X&&(!Q.readable||ee))&&(!ee||me)&&C.call(Q)};let me=j(Q,!1);const we=()=>{me=!0,Q.destroyed&&(X=!1),!(X&&(!Q.writable||fe))&&(!fe||Z)&&C.call(Q)},ae=de=>{C.call(Q,de)};let oe=p(Q);const ve=()=>{oe=!0;const de=P(Q)||x(Q);if(de&&typeof de!="boolean")return C.call(Q,de);if(ee&&!me&&v(Q,!0)&&!j(Q,!1))return C.call(Q,new l);if(fe&&!Z&&!D(Q,!1))return C.call(Q,new l);C.call(Q)},Ce=()=>{oe=!0;const de=P(Q)||x(Q);if(de&&typeof de!="boolean")return C.call(Q,de);C.call(Q)},Ae=()=>{Q.req.on("finish",le)};H(Q)?(Q.on("complete",le),X||Q.on("abort",ve),Q.req?Ae():Q.on("request",Ae)):fe&&!_e&&(Q.on("end",U),Q.on("close",U)),!X&&typeof Q.aborted=="boolean"&&Q.on("aborted",ve),Q.on("end",we),Q.on("finish",le),re.error!==!1&&Q.on("error",ae),Q.on("close",ve),oe?e.nextTick(ve):_e!=null&&_e.errorEmitted||V!=null&&V.errorEmitted?X||e.nextTick(Ce):(!ee&&(!X||y(Q))&&(Z||A(Q)===!1)||!fe&&(!X||A(Q))&&(me||y(Q)===!1)||V&&Q.req&&Q.aborted)&&e.nextTick(Ce);const Ne=()=>{C=Y,Q.removeListener("aborted",ve),Q.removeListener("complete",le),Q.removeListener("abort",ve),Q.removeListener("request",Ae),Q.req&&Q.req.removeListener("finish",le),Q.removeListener("end",U),Q.removeListener("close",U),Q.removeListener("finish",le),Q.removeListener("end",we),Q.removeListener("error",ae),Q.removeListener("close",ve)};if(re.signal&&!oe){const de=()=>{const pe=C;Ne(),pe.call(Q,new n(void 0,{cause:re.signal.reason}))};if(re.signal.aborted)e.nextTick(de);else{S=S||Wr().addAbortListener;const pe=S(re.signal,de),Ie=C;C=r((...ye)=>{pe[_](),Ie.apply(Q,ye)})}}return Ne}function $(Q,re,C){let I=!1,K=Y;if(re.signal)if(K=()=>{I=!0,C.call(Q,new n(void 0,{cause:re.signal.reason}))},re.signal.aborted)e.nextTick(K);else{S=S||Wr().addAbortListener;const fe=S(re.signal,K),_e=C;C=r((...V)=>{fe[_](),_e.apply(Q,V)})}const ee=(...fe)=>{I||e.nextTick(()=>C.apply(Q,fe))};return b(Q[B].promise,ee,ee),Y}function k(Q,re){var C;let I=!1;return re===null&&(re=t),(C=re)!==null&&C!==void 0&&C.cleanup&&(f(re.cleanup,"cleanup"),I=re.cleanup),new g((K,ee)=>{const fe=W(Q,re,_e=>{I&&fe(),_e?ee(_e):K()})})}return pv.exports=W,pv.exports.finished=k,pv.exports}var Wx,KU;function gp(){if(KU)return Wx;KU=1;const e=Yf(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:i}=Ir(),{Symbol:l}=Gt(),{kIsDestroyed:t,isDestroyed:r,isFinished:a,isServerRequest:s}=lc(),u=l("kDestroy"),f=l("kConstruct");function g(q,B,S){q&&(q.stack,B&&!B.errored&&(B.errored=q),S&&!S.errored&&(S.errored=q))}function b(q,B){const S=this._readableState,H=this._writableState,Y=H||S;return H!=null&&H.destroyed||S!=null&&S.destroyed?(typeof B=="function"&&B(),this):(g(q,H,S),H&&(H.destroyed=!0),S&&(S.destroyed=!0),Y.constructed?_(this,q,B):this.once(u,function(W){_(this,n(W,q),B)}),this)}function _(q,B,S){let H=!1;function Y(W){if(H)return;H=!0;const $=q._readableState,k=q._writableState;g(W,k,$),k&&(k.closed=!0),$&&($.closed=!0),typeof S=="function"&&S(W),W?e.nextTick(p,q,W):e.nextTick(y,q)}try{q._destroy(B||null,Y)}catch(W){Y(W)}}function p(q,B){v(q,B),y(q)}function y(q){const B=q._readableState,S=q._writableState;S&&(S.closeEmitted=!0),B&&(B.closeEmitted=!0),(S!=null&&S.emitClose||B!=null&&B.emitClose)&&q.emit("close")}function v(q,B){const S=q._readableState,H=q._writableState;H!=null&&H.errorEmitted||S!=null&&S.errorEmitted||(H&&(H.errorEmitted=!0),S&&(S.errorEmitted=!0),q.emit("error",B))}function E(){const q=this._readableState,B=this._writableState;q&&(q.constructed=!0,q.closed=!1,q.closeEmitted=!1,q.destroyed=!1,q.errored=null,q.errorEmitted=!1,q.reading=!1,q.ended=q.readable===!1,q.endEmitted=q.readable===!1),B&&(B.constructed=!0,B.destroyed=!1,B.closed=!1,B.closeEmitted=!1,B.errored=null,B.errorEmitted=!1,B.finalCalled=!1,B.prefinished=!1,B.ended=B.writable===!1,B.ending=B.writable===!1,B.finished=B.writable===!1)}function j(q,B,S){const H=q._readableState,Y=q._writableState;if(Y!=null&&Y.destroyed||H!=null&&H.destroyed)return this;H!=null&&H.autoDestroy||Y!=null&&Y.autoDestroy?q.destroy(B):B&&(B.stack,Y&&!Y.errored&&(Y.errored=B),H&&!H.errored&&(H.errored=B),S?e.nextTick(v,q,B):v(q,B))}function x(q,B){if(typeof q._construct!="function")return;const S=q._readableState,H=q._writableState;S&&(S.constructed=!1),H&&(H.constructed=!1),q.once(f,B),!(q.listenerCount(f)>1)&&e.nextTick(A,q)}function A(q){let B=!1;function S(H){if(B){j(q,H??new o);return}B=!0;const Y=q._readableState,W=q._writableState,$=W||Y;Y&&(Y.constructed=!0),W&&(W.constructed=!0),$.destroyed?q.emit(u,H):H?j(q,H,!0):e.nextTick(M,q)}try{q._construct(H=>{e.nextTick(S,H)})}catch(H){e.nextTick(S,H)}}function M(q){q.emit(f)}function T(q){return q?.setHeader&&typeof q.abort=="function"}function D(q){q.emit("close")}function P(q,B){q.emit("error",B),e.nextTick(D,q)}function F(q,B){!q||r(q)||(!B&&!a(q)&&(B=new i),s(q)?(q.socket=null,q.destroy(B)):T(q)?q.abort():T(q.req)?q.req.abort():typeof q.destroy=="function"?q.destroy(B):typeof q.close=="function"?q.close():B?e.nextTick(P,q,B):e.nextTick(D,q),q.destroyed||(q[t]=!0))}return Wx={construct:x,destroyer:F,destroy:b,undestroy:E,errorOrDestroy:j},Wx}var Jx,kU;function ZT(){if(kU)return Jx;kU=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:n}=Gt(),{EventEmitter:o}=t0();function i(t){o.call(this,t)}n(i.prototype,o.prototype),n(i,o),i.prototype.pipe=function(t,r){const a=this;function s(y){t.writable&&t.write(y)===!1&&a.pause&&a.pause()}a.on("data",s);function u(){a.readable&&a.resume&&a.resume()}t.on("drain",u),!t._isStdio&&(!r||r.end!==!1)&&(a.on("end",g),a.on("close",b));let f=!1;function g(){f||(f=!0,t.end())}function b(){f||(f=!0,typeof t.destroy=="function"&&t.destroy())}function _(y){p(),o.listenerCount(this,"error")===0&&this.emit("error",y)}l(a,"error",_),l(t,"error",_);function p(){a.removeListener("data",s),t.removeListener("drain",u),a.removeListener("end",g),a.removeListener("close",b),a.removeListener("error",_),t.removeListener("error",_),a.removeListener("end",p),a.removeListener("close",p),t.removeListener("close",p)}return a.on("end",p),a.on("close",p),t.on("close",p),t.emit("pipe",a),t};function l(t,r,a){if(typeof t.prependListener=="function")return t.prependListener(r,a);!t._events||!t._events[r]?t.on(r,a):e(t._events[r])?t._events[r].unshift(a):t._events[r]=[a,t._events[r]]}return Jx={Stream:i,prependListener:l},Jx}var Zx={exports:{}},YU;function r0(){return YU||(YU=1,(function(e){const{SymbolDispose:n}=Gt(),{AbortError:o,codes:i}=Ir(),{isNodeStream:l,isWebStream:t,kControllerErrorFunction:r}=lc(),a=ud(),{ERR_INVALID_ARG_TYPE:s}=i;let u;const f=(g,b)=>{if(typeof g!="object"||!("aborted"in g))throw new s(b,"AbortSignal",g)};e.exports.addAbortSignal=function(b,_){if(f(b,"signal"),!l(_)&&!t(_))throw new s("stream",["ReadableStream","WritableStream","Stream"],_);return e.exports.addAbortSignalNoValidate(b,_)},e.exports.addAbortSignalNoValidate=function(g,b){if(typeof g!="object"||!("aborted"in g))return b;const _=l(b)?()=>{b.destroy(new o(void 0,{cause:g.reason}))}:()=>{b[r](new o(void 0,{cause:g.reason}))};if(g.aborted)_();else{u=u||Wr().addAbortListener;const p=u(g,_);a(b,p[n])}return b}})(Zx)),Zx.exports}var Qx,WU;function Sge(){if(WU)return Qx;WU=1;const{StringPrototypeSlice:e,SymbolIterator:n,TypedArrayPrototypeSet:o,Uint8Array:i}=Gt(),{Buffer:l}=ld(),{inspect:t}=Wr();return Qx=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){const s={data:a,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length}unshift(a){const s={data:a,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length}shift(){if(this.length===0)return;const a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let s=this.head,u=""+s.data;for(;(s=s.next)!==null;)u+=a+s.data;return u}concat(a){if(this.length===0)return l.alloc(0);const s=l.allocUnsafe(a>>>0);let u=this.head,f=0;for(;u;)o(s,u.data,f),f+=u.data.length,u=u.next;return s}consume(a,s){const u=this.head.data;if(a<u.length){const f=u.slice(0,a);return this.head.data=u.slice(a),f}return a===u.length?this.shift():s?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[n](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let s="",u=this.head,f=0;do{const g=u.data;if(a>g.length)s+=g,a-=g.length;else{a===g.length?(s+=g,++f,u.next?this.head=u.next:this.head=this.tail=null):(s+=e(g,0,a),this.head=u,u.data=e(g,a));break}++f}while((u=u.next)!==null);return this.length-=f,s}_getBuffer(a){const s=l.allocUnsafe(a),u=a;let f=this.head,g=0;do{const b=f.data;if(a>b.length)o(s,b,u-a),a-=b.length;else{a===b.length?(o(s,b,u-a),++g,f.next?this.head=f.next:this.head=this.tail=null):(o(s,new i(b.buffer,b.byteOffset,a),u-a),this.head=f,f.data=b.slice(a));break}++g}while((f=f.next)!==null);return this.length-=g,s}[Symbol.for("nodejs.util.inspect.custom")](a,s){return t(this,{...s,depth:0,customInspect:!1})}},Qx}var Xx,JU;function n0(){if(JU)return Xx;JU=1;const{MathFloor:e,NumberIsInteger:n}=Gt(),{validateInteger:o}=O_(),{ERR_INVALID_ARG_VALUE:i}=Ir().codes;let l=16*1024,t=16;function r(f,g,b){return f.highWaterMark!=null?f.highWaterMark:g?f[b]:null}function a(f){return f?t:l}function s(f,g){o(g,"value",0),f?t=g:l=g}function u(f,g,b,_){const p=r(g,_,b);if(p!=null){if(!n(p)||p<0){const y=_?`options.${b}`:"options.highWaterMark";throw new i(y,p)}return e(p)}return a(f.objectMode)}return Xx={getHighWaterMark:u,getDefaultHighWaterMark:a,setDefaultHighWaterMark:s},Xx}var eC={},mv={exports:{}};var ZU;function Oge(){return ZU||(ZU=1,(function(e,n){var o=ld(),i=o.Buffer;function l(r,a){for(var s in r)a[s]=r[s]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=o:(l(o,n),n.Buffer=t);function t(r,a,s){return i(r,a,s)}t.prototype=Object.create(i.prototype),l(i,t),t.from=function(r,a,s){if(typeof r=="number")throw new TypeError("Argument must not be a number");return i(r,a,s)},t.alloc=function(r,a,s){if(typeof r!="number")throw new TypeError("Argument must be a number");var u=i(r);return a!==void 0?typeof s=="string"?u.fill(a,s):u.fill(a):u.fill(0),u},t.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return i(r)},t.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(r)}})(mv,mv.exports)),mv.exports}var QU;function Ege(){if(QU)return eC;QU=1;var e=Oge().Buffer,n=e.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(E){if(!E)return"utf8";for(var j;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(j)return;E=(""+E).toLowerCase(),j=!0}}function i(E){var j=o(E);if(typeof j!="string"&&(e.isEncoding===n||!n(E)))throw new Error("Unknown encoding: "+E);return j||E}eC.StringDecoder=l;function l(E){this.encoding=i(E);var j;switch(this.encoding){case"utf16le":this.text=g,this.end=b,j=4;break;case"utf8":this.fillLast=s,j=4;break;case"base64":this.text=_,this.end=p,j=3;break;default:this.write=y,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(j)}l.prototype.write=function(E){if(E.length===0)return"";var j,x;if(this.lastNeed){if(j=this.fillLast(E),j===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<E.length?j?j+this.text(E,x):this.text(E,x):j||""},l.prototype.end=f,l.prototype.text=u,l.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function t(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function r(E,j,x){var A=j.length-1;if(A<x)return 0;var M=t(j[A]);return M>=0?(M>0&&(E.lastNeed=M-1),M):--A<x||M===-2?0:(M=t(j[A]),M>=0?(M>0&&(E.lastNeed=M-2),M):--A<x||M===-2?0:(M=t(j[A]),M>=0?(M>0&&(M===2?M=0:E.lastNeed=M-3),M):0))}function a(E,j,x){if((j[0]&192)!==128)return E.lastNeed=0,"";if(E.lastNeed>1&&j.length>1){if((j[1]&192)!==128)return E.lastNeed=1,"";if(E.lastNeed>2&&j.length>2&&(j[2]&192)!==128)return E.lastNeed=2,""}}function s(E){var j=this.lastTotal-this.lastNeed,x=a(this,E);if(x!==void 0)return x;if(this.lastNeed<=E.length)return E.copy(this.lastChar,j,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,j,0,E.length),this.lastNeed-=E.length}function u(E,j){var x=r(this,E,j);if(!this.lastNeed)return E.toString("utf8",j);this.lastTotal=x;var A=E.length-(x-this.lastNeed);return E.copy(this.lastChar,0,A),E.toString("utf8",j,A)}function f(E){var j=E&&E.length?this.write(E):"";return this.lastNeed?j+"":j}function g(E,j){if((E.length-j)%2===0){var x=E.toString("utf16le",j);if(x){var A=x.charCodeAt(x.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",j,E.length-1)}function b(E){var j=E&&E.length?this.write(E):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return j+this.lastChar.toString("utf16le",0,x)}return j}function _(E,j){var x=(E.length-j)%3;return x===0?E.toString("base64",j):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",j,E.length-x))}function p(E){var j=E&&E.length?this.write(E):"";return this.lastNeed?j+this.lastChar.toString("base64",0,3-this.lastNeed):j}function y(E){return E.toString(this.encoding)}function v(E){return E&&E.length?this.write(E):""}return eC}var tC,XU;function GK(){if(XU)return tC;XU=1;const e=Yf(),{PromisePrototypeThen:n,SymbolAsyncIterator:o,SymbolIterator:i}=Gt(),{Buffer:l}=ld(),{ERR_INVALID_ARG_TYPE:t,ERR_STREAM_NULL_VALUES:r}=Ir().codes;function a(s,u,f){let g;if(typeof u=="string"||u instanceof l)return new s({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let b;if(u&&u[o])b=!0,g=u[o]();else if(u&&u[i])b=!1,g=u[i]();else throw new t("iterable",["Iterable"],u);const _=new s({objectMode:!0,highWaterMark:1,...f});let p=!1;_._read=function(){p||(p=!0,v())},_._destroy=function(E,j){n(y(E),()=>e.nextTick(j,E),x=>e.nextTick(j,x||E))};async function y(E){const j=E!=null,x=typeof g.throw=="function";if(j&&x){const{value:A,done:M}=await g.throw(E);if(await A,M)return}if(typeof g.return=="function"){const{value:A}=await g.return();await A}}async function v(){for(;;){try{const{value:E,done:j}=b?await g.next():g.next();if(j)_.push(null);else{const x=E&&typeof E.then=="function"?await E:E;if(x===null)throw p=!1,new r;if(_.push(x))continue;p=!1}}catch(E){_.destroy(E)}break}}return _}return tC=a,tC}var rC,e3;function a0(){if(e3)return rC;e3=1;const e=Yf(),{ArrayPrototypeIndexOf:n,NumberIsInteger:o,NumberIsNaN:i,NumberParseInt:l,ObjectDefineProperties:t,ObjectKeys:r,ObjectSetPrototypeOf:a,Promise:s,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:g,Symbol:b}=Gt();rC=ye,ye.ReadableState=Ie;const{EventEmitter:_}=t0(),{Stream:p,prependListener:y}=ZT(),{Buffer:v}=ld(),{addAbortSignal:E}=r0(),j=ud();let x=Wr().debuglog("stream",te=>{x=te});const A=Sge(),M=gp(),{getHighWaterMark:T,getDefaultHighWaterMark:D}=n0(),{aggregateTwoErrors:P,codes:{ERR_INVALID_ARG_TYPE:F,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_OUT_OF_RANGE:B,ERR_STREAM_PUSH_AFTER_EOF:S,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:H},AbortError:Y}=Ir(),{validateObject:W}=O_(),$=b("kPaused"),{StringDecoder:k}=Ege(),Q=GK();a(ye.prototype,p.prototype),a(ye,p);const re=()=>{},{errorOrDestroy:C}=M,I=1,K=2,ee=4,fe=8,_e=16,V=32,U=64,X=128,Z=256,le=512,me=1024,we=2048,ae=4096,oe=8192,ve=16384,Ce=32768,Ae=65536,Ne=1<<17,de=1<<18;function pe(te){return{enumerable:!1,get(){return(this.state&te)!==0},set(se){se?this.state|=te:this.state&=~te}}}t(Ie.prototype,{objectMode:pe(I),ended:pe(K),endEmitted:pe(ee),reading:pe(fe),constructed:pe(_e),sync:pe(V),needReadable:pe(U),emittedReadable:pe(X),readableListening:pe(Z),resumeScheduled:pe(le),errorEmitted:pe(me),emitClose:pe(we),autoDestroy:pe(ae),destroyed:pe(oe),closed:pe(ve),closeEmitted:pe(Ce),multiAwaitDrain:pe(Ae),readingMore:pe(Ne),dataEmitted:pe(de)});function Ie(te,se,qe){typeof qe!="boolean"&&(qe=se instanceof ic()),this.state=we|ae|_e|V,te&&te.objectMode&&(this.state|=I),qe&&te&&te.readableObjectMode&&(this.state|=I),this.highWaterMark=te?T(this,te,"readableHighWaterMark",qe):D(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[$]=null,te&&te.emitClose===!1&&(this.state&=~we),te&&te.autoDestroy===!1&&(this.state&=~ae),this.errored=null,this.defaultEncoding=te&&te.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,te&&te.encoding&&(this.decoder=new k(te.encoding),this.encoding=te.encoding)}function ye(te){if(!(this instanceof ye))return new ye(te);const se=this instanceof ic();this._readableState=new Ie(te,this,se),te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.construct=="function"&&(this._construct=te.construct),te.signal&&!se&&E(te.signal,this)),p.call(this,te),M.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}ye.prototype.destroy=M.destroy,ye.prototype._undestroy=M.undestroy,ye.prototype._destroy=function(te,se){se(te)},ye.prototype[_.captureRejectionSymbol]=function(te){this.destroy(te)},ye.prototype[f]=function(){let te;return this.destroyed||(te=this.readableEnded?null:new Y,this.destroy(te)),new s((se,qe)=>j(this,$e=>$e&&$e!==te?qe($e):se(null)))},ye.prototype.push=function(te,se){return ze(this,te,se,!1)},ye.prototype.unshift=function(te,se){return ze(this,te,se,!0)};function ze(te,se,qe,$e){x("readableAddChunk",se);const ke=te._readableState;let ir;if((ke.state&I)===0&&(typeof se=="string"?(qe=qe||ke.defaultEncoding,ke.encoding!==qe&&($e&&ke.encoding?se=v.from(se,qe).toString(ke.encoding):(se=v.from(se,qe),qe=""))):se instanceof v?qe="":p._isUint8Array(se)?(se=p._uint8ArrayToBuffer(se),qe=""):se!=null&&(ir=new F("chunk",["string","Buffer","Uint8Array"],se))),ir)C(te,ir);else if(se===null)ke.state&=~fe,N(te,ke);else if((ke.state&I)!==0||se&&se.length>0)if($e)if((ke.state&ee)!==0)C(te,new H);else{if(ke.destroyed||ke.errored)return!1;Fe(te,ke,se,!0)}else if(ke.ended)C(te,new S);else{if(ke.destroyed||ke.errored)return!1;ke.state&=~fe,ke.decoder&&!qe?(se=ke.decoder.write(se),ke.objectMode||se.length!==0?Fe(te,ke,se,!1):ce(te,ke)):Fe(te,ke,se,!1)}else $e||(ke.state&=~fe,ce(te,ke));return!ke.ended&&(ke.length<ke.highWaterMark||ke.length===0)}function Fe(te,se,qe,$e){se.flowing&&se.length===0&&!se.sync&&te.listenerCount("data")>0?((se.state&Ae)!==0?se.awaitDrainWriters.clear():se.awaitDrainWriters=null,se.dataEmitted=!0,te.emit("data",qe)):(se.length+=se.objectMode?1:qe.length,$e?se.buffer.unshift(qe):se.buffer.push(qe),(se.state&U)!==0&&z(te)),ce(te,se)}ye.prototype.isPaused=function(){const te=this._readableState;return te[$]===!0||te.flowing===!1},ye.prototype.setEncoding=function(te){const se=new k(te);this._readableState.decoder=se,this._readableState.encoding=this._readableState.decoder.encoding;const qe=this._readableState.buffer;let $e="";for(const ke of qe)$e+=se.write(ke);return qe.clear(),$e!==""&&qe.push($e),this._readableState.length=$e.length,this};const De=1073741824;function Be(te){if(te>De)throw new B("size","<= 1GiB",te);return te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++,te}function G(te,se){return te<=0||se.length===0&&se.ended?0:(se.state&I)!==0?1:i(te)?se.flowing&&se.length?se.buffer.first().length:se.length:te<=se.length?te:se.ended?se.length:0}ye.prototype.read=function(te){x("read",te),te===void 0?te=NaN:o(te)||(te=l(te,10));const se=this._readableState,qe=te;if(te>se.highWaterMark&&(se.highWaterMark=Be(te)),te!==0&&(se.state&=~X),te===0&&se.needReadable&&((se.highWaterMark!==0?se.length>=se.highWaterMark:se.length>0)||se.ended))return x("read: emitReadable",se.length,se.ended),se.length===0&&se.ended?hc(this):z(this),null;if(te=G(te,se),te===0&&se.ended)return se.length===0&&hc(this),null;let $e=(se.state&U)!==0;if(x("need readable",$e),(se.length===0||se.length-te<se.highWaterMark)&&($e=!0,x("length less than watermark",$e)),se.ended||se.reading||se.destroyed||se.errored||!se.constructed)$e=!1,x("reading, ended or constructing",$e);else if($e){x("do read"),se.state|=fe|V,se.length===0&&(se.state|=U);try{this._read(se.highWaterMark)}catch(ir){C(this,ir)}se.state&=~V,se.reading||(te=G(qe,se))}let ke;return te>0?ke=hd(te,se):ke=null,ke===null?(se.needReadable=se.length<=se.highWaterMark,te=0):(se.length-=te,se.multiAwaitDrain?se.awaitDrainWriters.clear():se.awaitDrainWriters=null),se.length===0&&(se.ended||(se.needReadable=!0),qe!==te&&se.ended&&hc(this)),ke!==null&&!se.errorEmitted&&!se.closeEmitted&&(se.dataEmitted=!0,this.emit("data",ke)),ke};function N(te,se){if(x("onEofChunk"),!se.ended){if(se.decoder){const qe=se.decoder.end();qe&&qe.length&&(se.buffer.push(qe),se.length+=se.objectMode?1:qe.length)}se.ended=!0,se.sync?z(te):(se.needReadable=!1,se.emittedReadable=!0,ne(te))}}function z(te){const se=te._readableState;x("emitReadable",se.needReadable,se.emittedReadable),se.needReadable=!1,se.emittedReadable||(x("emitReadable",se.flowing),se.emittedReadable=!0,e.nextTick(ne,te))}function ne(te){const se=te._readableState;x("emitReadable_",se.destroyed,se.length,se.ended),!se.destroyed&&!se.errored&&(se.length||se.ended)&&(te.emit("readable"),se.emittedReadable=!1),se.needReadable=!se.flowing&&!se.ended&&se.length<=se.highWaterMark,wt(te)}function ce(te,se){!se.readingMore&&se.constructed&&(se.readingMore=!0,e.nextTick(Re,te,se))}function Re(te,se){for(;!se.reading&&!se.ended&&(se.length<se.highWaterMark||se.flowing&&se.length===0);){const qe=se.length;if(x("maybeReadMore read 0"),te.read(0),qe===se.length)break}se.readingMore=!1}ye.prototype._read=function(te){throw new q("_read()")},ye.prototype.pipe=function(te,se){const qe=this,$e=this._readableState;$e.pipes.length===1&&($e.multiAwaitDrain||($e.multiAwaitDrain=!0,$e.awaitDrainWriters=new u($e.awaitDrainWriters?[$e.awaitDrainWriters]:[]))),$e.pipes.push(te),x("pipe count=%d opts=%j",$e.pipes.length,se);const ir=(!se||se.end!==!1)&&te!==e.stdout&&te!==e.stderr?Zf:md;$e.endEmitted?e.nextTick(ir):qe.once("end",ir),te.on("unpipe",Cr);function Cr(Tu,En){x("onunpipe"),Tu===qe&&En&&En.hasUnpiped===!1&&(En.hasUnpiped=!0,I_())}function Zf(){x("onend"),te.end()}let $n,vp=!1;function I_(){x("cleanup"),te.removeListener("close",cu),te.removeListener("finish",pd),$n&&te.removeListener("drain",$n),te.removeListener("error",dr),te.removeListener("unpipe",Cr),qe.removeListener("end",Zf),qe.removeListener("end",md),qe.removeListener("data",Qt),vp=!0,$n&&$e.awaitDrainWriters&&(!te._writableState||te._writableState.needDrain)&&$n()}function Fn(){vp||($e.pipes.length===1&&$e.pipes[0]===te?(x("false write response, pause",0),$e.awaitDrainWriters=te,$e.multiAwaitDrain=!1):$e.pipes.length>1&&$e.pipes.includes(te)&&(x("false write response, pause",$e.awaitDrainWriters.size),$e.awaitDrainWriters.add(te)),qe.pause()),$n||($n=Te(qe,te),te.on("drain",$n))}qe.on("data",Qt);function Qt(Tu){x("ondata");const En=te.write(Tu);x("dest.write",En),En===!1&&Fn()}function dr(Tu){if(x("onerror",Tu),md(),te.removeListener("error",dr),te.listenerCount("error")===0){const En=te._writableState||te._readableState;En&&!En.errorEmitted?C(te,Tu):te.emit("error",Tu)}}y(te,"error",dr);function cu(){te.removeListener("finish",pd),md()}te.once("close",cu);function pd(){x("onfinish"),te.removeListener("close",cu),md()}te.once("finish",pd);function md(){x("unpipe"),qe.unpipe(te)}return te.emit("pipe",qe),te.writableNeedDrain===!0?Fn():$e.flowing||(x("pipe resume"),qe.resume()),te};function Te(te,se){return function(){const $e=te._readableState;$e.awaitDrainWriters===se?(x("pipeOnDrain",1),$e.awaitDrainWriters=null):$e.multiAwaitDrain&&(x("pipeOnDrain",$e.awaitDrainWriters.size),$e.awaitDrainWriters.delete(se)),(!$e.awaitDrainWriters||$e.awaitDrainWriters.size===0)&&te.listenerCount("data")&&te.resume()}}ye.prototype.unpipe=function(te){const se=this._readableState,qe={hasUnpiped:!1};if(se.pipes.length===0)return this;if(!te){const ke=se.pipes;se.pipes=[],this.pause();for(let ir=0;ir<ke.length;ir++)ke[ir].emit("unpipe",this,{hasUnpiped:!1});return this}const $e=n(se.pipes,te);return $e===-1?this:(se.pipes.splice($e,1),se.pipes.length===0&&this.pause(),te.emit("unpipe",this,qe),this)},ye.prototype.on=function(te,se){const qe=p.prototype.on.call(this,te,se),$e=this._readableState;return te==="data"?($e.readableListening=this.listenerCount("readable")>0,$e.flowing!==!1&&this.resume()):te==="readable"&&!$e.endEmitted&&!$e.readableListening&&($e.readableListening=$e.needReadable=!0,$e.flowing=!1,$e.emittedReadable=!1,x("on readable",$e.length,$e.reading),$e.length?z(this):$e.reading||e.nextTick(yt,this)),qe},ye.prototype.addListener=ye.prototype.on,ye.prototype.removeListener=function(te,se){const qe=p.prototype.removeListener.call(this,te,se);return te==="readable"&&e.nextTick(tt,this),qe},ye.prototype.off=ye.prototype.removeListener,ye.prototype.removeAllListeners=function(te){const se=p.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&e.nextTick(tt,this),se};function tt(te){const se=te._readableState;se.readableListening=te.listenerCount("readable")>0,se.resumeScheduled&&se[$]===!1?se.flowing=!0:te.listenerCount("data")>0?te.resume():se.readableListening||(se.flowing=null)}function yt(te){x("readable nexttick read 0"),te.read(0)}ye.prototype.resume=function(){const te=this._readableState;return te.flowing||(x("resume"),te.flowing=!te.readableListening,ut(this,te)),te[$]=!1,this};function ut(te,se){se.resumeScheduled||(se.resumeScheduled=!0,e.nextTick(zt,te,se))}function zt(te,se){x("resume",se.reading),se.reading||te.read(0),se.resumeScheduled=!1,te.emit("resume"),wt(te),se.flowing&&!se.reading&&te.read(0)}ye.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$]=!0,this};function wt(te){const se=te._readableState;for(x("flow",se.flowing);se.flowing&&te.read()!==null;);}ye.prototype.wrap=function(te){let se=!1;te.on("data",$e=>{!this.push($e)&&te.pause&&(se=!0,te.pause())}),te.on("end",()=>{this.push(null)}),te.on("error",$e=>{C(this,$e)}),te.on("close",()=>{this.destroy()}),te.on("destroy",()=>{this.destroy()}),this._read=()=>{se&&te.resume&&(se=!1,te.resume())};const qe=r(te);for(let $e=1;$e<qe.length;$e++){const ke=qe[$e];this[ke]===void 0&&typeof te[ke]=="function"&&(this[ke]=te[ke].bind(te))}return this},ye.prototype[g]=function(){return N_(this)},ye.prototype.iterator=function(te){return te!==void 0&&W(te,"options"),N_(this,te)};function N_(te,se){typeof te.read!="function"&&(te=ye.wrap(te,{objectMode:!0}));const qe=Wf(te,se);return qe.stream=te,qe}async function*Wf(te,se){let qe=re;function $e(Cr){this===te?(qe(),qe=re):qe=Cr}te.on("readable",$e);let ke;const ir=j(te,{writable:!1},Cr=>{ke=Cr?P(ke,Cr):null,qe(),qe=re});try{for(;;){const Cr=te.destroyed?null:te.read();if(Cr!==null)yield Cr;else{if(ke)throw ke;if(ke===null)return;await new s($e)}}}catch(Cr){throw ke=P(ke,Cr),ke}finally{(ke||se?.destroyOnReturn!==!1)&&(ke===void 0||te._readableState.autoDestroy)?M.destroyer(te,null):(te.off("readable",$e),ir())}}t(ye.prototype,{readable:{__proto__:null,get(){const te=this._readableState;return!!te&&te.readable!==!1&&!te.destroyed&&!te.errorEmitted&&!te.endEmitted},set(te){this._readableState&&(this._readableState.readable=!!te)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(te){this._readableState&&(this._readableState.destroyed=te)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),t(Ie.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[$]!==!1},set(te){this[$]=!!te}}}),ye._fromList=hd;function hd(te,se){if(se.length===0)return null;let qe;return se.objectMode?qe=se.buffer.shift():!te||te>=se.length?(se.decoder?qe=se.buffer.join(""):se.buffer.length===1?qe=se.buffer.first():qe=se.buffer.concat(se.length),se.buffer.clear()):qe=se.buffer.consume(te,se.decoder),qe}function hc(te){const se=te._readableState;x("endReadable",se.endEmitted),se.endEmitted||(se.ended=!0,e.nextTick(xu,se,te))}function xu(te,se){if(x("endReadableNT",te.endEmitted,te.length),!te.errored&&!te.closeEmitted&&!te.endEmitted&&te.length===0){if(te.endEmitted=!0,se.emit("end"),se.writable&&se.allowHalfOpen===!1)e.nextTick(Jf,se);else if(te.autoDestroy){const qe=se._writableState;(!qe||qe.autoDestroy&&(qe.finished||qe.writable===!1))&&se.destroy()}}}function Jf(te){te.writable&&!te.writableEnded&&!te.destroyed&&te.end()}ye.from=function(te,se){return Q(ye,te,se)};let Cu;function D_(){return Cu===void 0&&(Cu={}),Cu}return ye.fromWeb=function(te,se){return D_().newStreamReadableFromReadableStream(te,se)},ye.toWeb=function(te,se){return D_().newReadableStreamFromStreamReadable(te,se)},ye.wrap=function(te,se){var qe,$e;return new ye({objectMode:(qe=($e=te.readableObjectMode)!==null&&$e!==void 0?$e:te.objectMode)!==null&&qe!==void 0?qe:!0,...se,destroy(ke,ir){M.destroyer(te,ke),ir(ke)}}).wrap(te)},rC}var nC,t3;function QT(){if(t3)return nC;t3=1;const e=Yf(),{ArrayPrototypeSlice:n,Error:o,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:l,ObjectDefineProperties:t,ObjectSetPrototypeOf:r,StringPrototypeToLowerCase:a,Symbol:s,SymbolHasInstance:u}=Gt();nC=W,W.WritableState=H;const{EventEmitter:f}=t0(),g=ZT().Stream,{Buffer:b}=ld(),_=gp(),{addAbortSignal:p}=r0(),{getHighWaterMark:y,getDefaultHighWaterMark:v}=n0(),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:j,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:D,ERR_STREAM_WRITE_AFTER_END:P,ERR_UNKNOWN_ENCODING:F}=Ir().codes,{errorOrDestroy:q}=_;r(W.prototype,g.prototype),r(W,g);function B(){}const S=s("kOnFinished");function H(ae,oe,ve){typeof ve!="boolean"&&(ve=oe instanceof ic()),this.objectMode=!!(ae&&ae.objectMode),ve&&(this.objectMode=this.objectMode||!!(ae&&ae.writableObjectMode)),this.highWaterMark=ae?y(this,ae,"writableHighWaterMark",ve):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Ce=!!(ae&&ae.decodeStrings===!1);this.decodeStrings=!Ce,this.defaultEncoding=ae&&ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=C.bind(void 0,oe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Y(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ae||ae.emitClose!==!1,this.autoDestroy=!ae||ae.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[S]=[]}function Y(ae){ae.buffered=[],ae.bufferedIndex=0,ae.allBuffers=!0,ae.allNoop=!0}H.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},l(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function W(ae){const oe=this instanceof ic();if(!oe&&!i(W,this))return new W(ae);this._writableState=new H(ae,this,oe),ae&&(typeof ae.write=="function"&&(this._write=ae.write),typeof ae.writev=="function"&&(this._writev=ae.writev),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.final=="function"&&(this._final=ae.final),typeof ae.construct=="function"&&(this._construct=ae.construct),ae.signal&&p(ae.signal,this)),g.call(this,ae),_.construct(this,()=>{const ve=this._writableState;ve.writing||fe(this,ve),X(this,ve)})}l(W,u,{__proto__:null,value:function(ae){return i(this,ae)?!0:this!==W?!1:ae&&ae._writableState instanceof H}}),W.prototype.pipe=function(){q(this,new A)};function $(ae,oe,ve,Ce){const Ae=ae._writableState;if(typeof ve=="function")Ce=ve,ve=Ae.defaultEncoding;else{if(!ve)ve=Ae.defaultEncoding;else if(ve!=="buffer"&&!b.isEncoding(ve))throw new F(ve);typeof Ce!="function"&&(Ce=B)}if(oe===null)throw new D;if(!Ae.objectMode)if(typeof oe=="string")Ae.decodeStrings!==!1&&(oe=b.from(oe,ve),ve="buffer");else if(oe instanceof b)ve="buffer";else if(g._isUint8Array(oe))oe=g._uint8ArrayToBuffer(oe),ve="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],oe);let Ne;return Ae.ending?Ne=new P:Ae.destroyed&&(Ne=new M("write")),Ne?(e.nextTick(Ce,Ne),q(ae,Ne,!0),Ne):(Ae.pendingcb++,k(ae,Ae,oe,ve,Ce))}W.prototype.write=function(ae,oe,ve){return $(this,ae,oe,ve)===!0},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){const ae=this._writableState;ae.corked&&(ae.corked--,ae.writing||fe(this,ae))},W.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=a(oe)),!b.isEncoding(oe))throw new F(oe);return this._writableState.defaultEncoding=oe,this};function k(ae,oe,ve,Ce,Ae){const Ne=oe.objectMode?1:ve.length;oe.length+=Ne;const de=oe.length<oe.highWaterMark;return de||(oe.needDrain=!0),oe.writing||oe.corked||oe.errored||!oe.constructed?(oe.buffered.push({chunk:ve,encoding:Ce,callback:Ae}),oe.allBuffers&&Ce!=="buffer"&&(oe.allBuffers=!1),oe.allNoop&&Ae!==B&&(oe.allNoop=!1)):(oe.writelen=Ne,oe.writecb=Ae,oe.writing=!0,oe.sync=!0,ae._write(ve,Ce,oe.onwrite),oe.sync=!1),de&&!oe.errored&&!oe.destroyed}function Q(ae,oe,ve,Ce,Ae,Ne,de){oe.writelen=Ce,oe.writecb=de,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new M("write")):ve?ae._writev(Ae,oe.onwrite):ae._write(Ae,Ne,oe.onwrite),oe.sync=!1}function re(ae,oe,ve,Ce){--oe.pendingcb,Ce(ve),ee(oe),q(ae,ve)}function C(ae,oe){const ve=ae._writableState,Ce=ve.sync,Ae=ve.writecb;if(typeof Ae!="function"){q(ae,new x);return}ve.writing=!1,ve.writecb=null,ve.length-=ve.writelen,ve.writelen=0,oe?(oe.stack,ve.errored||(ve.errored=oe),ae._readableState&&!ae._readableState.errored&&(ae._readableState.errored=oe),Ce?e.nextTick(re,ae,ve,oe,Ae):re(ae,ve,oe,Ae)):(ve.buffered.length>ve.bufferedIndex&&fe(ae,ve),Ce?ve.afterWriteTickInfo!==null&&ve.afterWriteTickInfo.cb===Ae?ve.afterWriteTickInfo.count++:(ve.afterWriteTickInfo={count:1,cb:Ae,stream:ae,state:ve},e.nextTick(I,ve.afterWriteTickInfo)):K(ae,ve,1,Ae))}function I({stream:ae,state:oe,count:ve,cb:Ce}){return oe.afterWriteTickInfo=null,K(ae,oe,ve,Ce)}function K(ae,oe,ve,Ce){for(!oe.ending&&!ae.destroyed&&oe.length===0&&oe.needDrain&&(oe.needDrain=!1,ae.emit("drain"));ve-- >0;)oe.pendingcb--,Ce();oe.destroyed&&ee(oe),X(ae,oe)}function ee(ae){if(ae.writing)return;for(let Ae=ae.bufferedIndex;Ae<ae.buffered.length;++Ae){var oe;const{chunk:Ne,callback:de}=ae.buffered[Ae],pe=ae.objectMode?1:Ne.length;ae.length-=pe,de((oe=ae.errored)!==null&&oe!==void 0?oe:new M("write"))}const ve=ae[S].splice(0);for(let Ae=0;Ae<ve.length;Ae++){var Ce;ve[Ae]((Ce=ae.errored)!==null&&Ce!==void 0?Ce:new M("end"))}Y(ae)}function fe(ae,oe){if(oe.corked||oe.bufferProcessing||oe.destroyed||!oe.constructed)return;const{buffered:ve,bufferedIndex:Ce,objectMode:Ae}=oe,Ne=ve.length-Ce;if(!Ne)return;let de=Ce;if(oe.bufferProcessing=!0,Ne>1&&ae._writev){oe.pendingcb-=Ne-1;const pe=oe.allNoop?B:ye=>{for(let ze=de;ze<ve.length;++ze)ve[ze].callback(ye)},Ie=oe.allNoop&&de===0?ve:n(ve,de);Ie.allBuffers=oe.allBuffers,Q(ae,oe,!0,oe.length,Ie,"",pe),Y(oe)}else{do{const{chunk:pe,encoding:Ie,callback:ye}=ve[de];ve[de++]=null;const ze=Ae?1:pe.length;Q(ae,oe,!1,ze,pe,Ie,ye)}while(de<ve.length&&!oe.writing);de===ve.length?Y(oe):de>256?(ve.splice(0,de),oe.bufferedIndex=0):oe.bufferedIndex=de}oe.bufferProcessing=!1}W.prototype._write=function(ae,oe,ve){if(this._writev)this._writev([{chunk:ae,encoding:oe}],ve);else throw new j("_write()")},W.prototype._writev=null,W.prototype.end=function(ae,oe,ve){const Ce=this._writableState;typeof ae=="function"?(ve=ae,ae=null,oe=null):typeof oe=="function"&&(ve=oe,oe=null);let Ae;if(ae!=null){const Ne=$(this,ae,oe);Ne instanceof o&&(Ae=Ne)}return Ce.corked&&(Ce.corked=1,this.uncork()),Ae||(!Ce.errored&&!Ce.ending?(Ce.ending=!0,X(this,Ce,!0),Ce.ended=!0):Ce.finished?Ae=new T("end"):Ce.destroyed&&(Ae=new M("end"))),typeof ve=="function"&&(Ae||Ce.finished?e.nextTick(ve,Ae):Ce[S].push(ve)),this};function _e(ae){return ae.ending&&!ae.destroyed&&ae.constructed&&ae.length===0&&!ae.errored&&ae.buffered.length===0&&!ae.finished&&!ae.writing&&!ae.errorEmitted&&!ae.closeEmitted}function V(ae,oe){let ve=!1;function Ce(Ae){if(ve){q(ae,Ae??x());return}if(ve=!0,oe.pendingcb--,Ae){const Ne=oe[S].splice(0);for(let de=0;de<Ne.length;de++)Ne[de](Ae);q(ae,Ae,oe.sync)}else _e(oe)&&(oe.prefinished=!0,ae.emit("prefinish"),oe.pendingcb++,e.nextTick(Z,ae,oe))}oe.sync=!0,oe.pendingcb++;try{ae._final(Ce)}catch(Ae){Ce(Ae)}oe.sync=!1}function U(ae,oe){!oe.prefinished&&!oe.finalCalled&&(typeof ae._final=="function"&&!oe.destroyed?(oe.finalCalled=!0,V(ae,oe)):(oe.prefinished=!0,ae.emit("prefinish")))}function X(ae,oe,ve){_e(oe)&&(U(ae,oe),oe.pendingcb===0&&(ve?(oe.pendingcb++,e.nextTick((Ce,Ae)=>{_e(Ae)?Z(Ce,Ae):Ae.pendingcb--},ae,oe)):_e(oe)&&(oe.pendingcb++,Z(ae,oe))))}function Z(ae,oe){oe.pendingcb--,oe.finished=!0;const ve=oe[S].splice(0);for(let Ce=0;Ce<ve.length;Ce++)ve[Ce]();if(ae.emit("finish"),oe.autoDestroy){const Ce=ae._readableState;(!Ce||Ce.autoDestroy&&(Ce.endEmitted||Ce.readable===!1))&&ae.destroy()}}t(W.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ae){this._writableState&&(this._writableState.destroyed=ae)}},writable:{__proto__:null,get(){const ae=this._writableState;return!!ae&&ae.writable!==!1&&!ae.destroyed&&!ae.errored&&!ae.ending&&!ae.ended},set(ae){this._writableState&&(this._writableState.writable=!!ae)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const ae=this._writableState;return ae?!ae.destroyed&&!ae.ending&&ae.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const le=_.destroy;W.prototype.destroy=function(ae,oe){const ve=this._writableState;return!ve.destroyed&&(ve.bufferedIndex<ve.buffered.length||ve[S].length)&&e.nextTick(ee,ve),le.call(this,ae,oe),this},W.prototype._undestroy=_.undestroy,W.prototype._destroy=function(ae,oe){oe(ae)},W.prototype[f.captureRejectionSymbol]=function(ae){this.destroy(ae)};let me;function we(){return me===void 0&&(me={}),me}return W.fromWeb=function(ae,oe){return we().newStreamWritableFromWritableStream(ae,oe)},W.toWeb=function(ae){return we().newWritableStreamFromStreamWritable(ae)},nC}var aC,r3;function Rge(){if(r3)return aC;r3=1;const e=Yf(),n=ld(),{isReadable:o,isWritable:i,isIterable:l,isNodeStream:t,isReadableNodeStream:r,isWritableNodeStream:a,isDuplexNodeStream:s,isReadableStream:u,isWritableStream:f}=lc(),g=ud(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:p}}=Ir(),{destroyer:y}=gp(),v=ic(),E=a0(),j=QT(),{createDeferredPromise:x}=Wr(),A=GK(),M=globalThis.Blob||n.Blob,T=typeof M<"u"?function(H){return H instanceof M}:function(H){return!1},D=globalThis.AbortController||r_().AbortController,{FunctionPrototypeCall:P}=Gt();class F extends v{constructor(H){super(H),H?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),H?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}aC=function S(H,Y){if(s(H))return H;if(r(H))return B({readable:H});if(a(H))return B({writable:H});if(t(H))return B({writable:!1,readable:!1});if(u(H))return B({readable:E.fromWeb(H)});if(f(H))return B({writable:j.fromWeb(H)});if(typeof H=="function"){const{value:$,write:k,final:Q,destroy:re}=q(H);if(l($))return A(F,$,{objectMode:!0,write:k,final:Q,destroy:re});const C=$?.then;if(typeof C=="function"){let I;const K=P(C,$,ee=>{if(ee!=null)throw new p("nully","body",ee)},ee=>{y(I,ee)});return I=new F({objectMode:!0,readable:!1,write:k,final(ee){Q(async()=>{try{await K,e.nextTick(ee,null)}catch(fe){e.nextTick(ee,fe)}})},destroy:re})}throw new p("Iterable, AsyncIterable or AsyncFunction",Y,$)}if(T(H))return S(H.arrayBuffer());if(l(H))return A(F,H,{objectMode:!0,writable:!1});if(u(H?.readable)&&f(H?.writable))return F.fromWeb(H);if(typeof H?.writable=="object"||typeof H?.readable=="object"){const $=H!=null&&H.readable?r(H?.readable)?H?.readable:S(H.readable):void 0,k=H!=null&&H.writable?a(H?.writable)?H?.writable:S(H.writable):void 0;return B({readable:$,writable:k})}const W=H?.then;if(typeof W=="function"){let $;return P(W,H,k=>{k!=null&&$.push(k),$.push(null)},k=>{y($,k)}),$=new F({objectMode:!0,writable:!1,read(){}})}throw new _(Y,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],H)};function q(S){let{promise:H,resolve:Y}=x();const W=new D,$=W.signal;return{value:S((async function*(){for(;;){const Q=H;H=null;const{chunk:re,done:C,cb:I}=await Q;if(e.nextTick(I),C)return;if($.aborted)throw new b(void 0,{cause:$.reason});({promise:H,resolve:Y}=x()),yield re}})(),{signal:$}),write(Q,re,C){const I=Y;Y=null,I({chunk:Q,done:!1,cb:C})},final(Q){const re=Y;Y=null,re({done:!0,cb:Q})},destroy(Q,re){W.abort(),re(Q)}}}function B(S){const H=S.readable&&typeof S.readable.read!="function"?E.wrap(S.readable):S.readable,Y=S.writable;let W=!!o(H),$=!!i(Y),k,Q,re,C,I;function K(ee){const fe=C;C=null,fe?fe(ee):ee&&I.destroy(ee)}return I=new F({readableObjectMode:!!(H!=null&&H.readableObjectMode),writableObjectMode:!!(Y!=null&&Y.writableObjectMode),readable:W,writable:$}),$&&(g(Y,ee=>{$=!1,ee&&y(H,ee),K(ee)}),I._write=function(ee,fe,_e){Y.write(ee,fe)?_e():k=_e},I._final=function(ee){Y.end(),Q=ee},Y.on("drain",function(){if(k){const ee=k;k=null,ee()}}),Y.on("finish",function(){if(Q){const ee=Q;Q=null,ee()}})),W&&(g(H,ee=>{W=!1,ee&&y(H,ee),K(ee)}),H.on("readable",function(){if(re){const ee=re;re=null,ee()}}),H.on("end",function(){I.push(null)}),I._read=function(){for(;;){const ee=H.read();if(ee===null){re=I._read;return}if(!I.push(ee))return}}),I._destroy=function(ee,fe){!ee&&C!==null&&(ee=new b),re=null,k=null,Q=null,C===null?fe(ee):(C=fe,y(Y,ee),y(H,ee))},I}return aC}var iC,n3;function ic(){if(n3)return iC;n3=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:o,ObjectSetPrototypeOf:i}=Gt();iC=r;const l=a0(),t=QT();i(r.prototype,l.prototype),i(r,l);{const f=o(t.prototype);for(let g=0;g<f.length;g++){const b=f[g];r.prototype[b]||(r.prototype[b]=t.prototype[b])}}function r(f){if(!(this instanceof r))return new r(f);l.call(this,f),t.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(r.prototype,{writable:{__proto__:null,...n(t.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(t.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(t.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(t.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(t.prototype,"writableLength")},writableFinished:{__proto__:null,...n(t.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(t.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(t.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(t.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let a;function s(){return a===void 0&&(a={}),a}r.fromWeb=function(f,g){return s().newStreamDuplexFromReadableWritablePair(f,g)},r.toWeb=function(f){return s().newReadableWritablePairFromDuplex(f)};let u;return r.from=function(f){return u||(u=Rge()),u(f,"body")},iC}var oC,a3;function HK(){if(a3)return oC;a3=1;const{ObjectSetPrototypeOf:e,Symbol:n}=Gt();oC=r;const{ERR_METHOD_NOT_IMPLEMENTED:o}=Ir().codes,i=ic(),{getHighWaterMark:l}=n0();e(r.prototype,i.prototype),e(r,i);const t=n("kCallback");function r(u){if(!(this instanceof r))return new r(u);const f=u?l(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),i.call(this,u),this._readableState.sync=!1,this[t]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",s)}function a(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,g)=>{if(f){u?u(f):this.destroy(f);return}g!=null&&this.push(g),this.push(null),u&&u()}):(this.push(null),u&&u())}function s(){this._final!==a&&a.call(this)}return r.prototype._final=a,r.prototype._transform=function(u,f,g){throw new o("_transform()")},r.prototype._write=function(u,f,g){const b=this._readableState,_=this._writableState,p=b.length;this._transform(u,f,(y,v)=>{if(y){g(y);return}v!=null&&this.push(v),_.ended||p===b.length||b.length<b.highWaterMark?g():this[t]=g})},r.prototype._read=function(){if(this[t]){const u=this[t];this[t]=null,u()}},oC}var sC,i3;function KK(){if(i3)return sC;i3=1;const{ObjectSetPrototypeOf:e}=Gt();sC=o;const n=HK();e(o.prototype,n.prototype),e(o,n);function o(i){if(!(this instanceof o))return new o(i);n.call(this,i)}return o.prototype._transform=function(i,l,t){t(null,i)},sC}var lC,o3;function XT(){if(o3)return lC;o3=1;const e=Yf(),{ArrayIsArray:n,Promise:o,SymbolAsyncIterator:i,SymbolDispose:l}=Gt(),t=ud(),{once:r}=Wr(),a=gp(),s=ic(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:y}=Ir(),{validateFunction:v,validateAbortSignal:E}=O_(),{isIterable:j,isReadable:x,isReadableNodeStream:A,isNodeStream:M,isTransformStream:T,isWebStream:D,isReadableStream:P,isReadableFinished:F}=lc(),q=globalThis.AbortController||r_().AbortController;let B,S,H;function Y(ee,fe,_e){let V=!1;ee.on("close",()=>{V=!0});const U=t(ee,{readable:fe,writable:_e},X=>{V=!X});return{destroy:X=>{V||(V=!0,a.destroyer(ee,X||new _("pipe")))},cleanup:U}}function W(ee){return v(ee[ee.length-1],"streams[stream.length - 1]"),ee.pop()}function $(ee){if(j(ee))return ee;if(A(ee))return k(ee);throw new f("val",["Readable","Iterable","AsyncIterable"],ee)}async function*k(ee){S||(S=a0()),yield*S.prototype[i].call(ee)}async function Q(ee,fe,_e,{end:V}){let U,X=null;const Z=we=>{if(we&&(U=we),X){const ae=X;X=null,ae()}},le=()=>new o((we,ae)=>{U?ae(U):X=()=>{U?ae(U):we()}});fe.on("drain",Z);const me=t(fe,{readable:!1},Z);try{fe.writableNeedDrain&&await le();for await(const we of ee)fe.write(we)||await le();V&&(fe.end(),await le()),_e()}catch(we){_e(U!==we?u(U,we):we)}finally{me(),fe.off("drain",Z)}}async function re(ee,fe,_e,{end:V}){T(fe)&&(fe=fe.writable);const U=fe.getWriter();try{for await(const X of ee)await U.ready,U.write(X).catch(()=>{});await U.ready,V&&await U.close(),_e()}catch(X){try{await U.abort(X),_e(X)}catch(Z){_e(Z)}}}function C(...ee){return I(ee,r(W(ee)))}function I(ee,fe,_e){if(ee.length===1&&n(ee[0])&&(ee=ee[0]),ee.length<2)throw new b("streams");const V=new q,U=V.signal,X=_e?.signal,Z=[];E(X,"options.signal");function le(){Ae(new y)}H=H||Wr().addAbortListener;let me;X&&(me=H(X,le));let we,ae;const oe=[];let ve=0;function Ce(Ie){Ae(Ie,--ve===0)}function Ae(Ie,ye){var ze;if(Ie&&(!we||we.code==="ERR_STREAM_PREMATURE_CLOSE")&&(we=Ie),!(!we&&!ye)){for(;oe.length;)oe.shift()(we);(ze=me)===null||ze===void 0||ze[l](),V.abort(),ye&&(we||Z.forEach(Fe=>Fe()),e.nextTick(fe,we,ae))}}let Ne;for(let Ie=0;Ie<ee.length;Ie++){const ye=ee[Ie],ze=Ie<ee.length-1,Fe=Ie>0,De=ze||_e?.end!==!1,Be=Ie===ee.length-1;if(M(ye)){let G=function(N){N&&N.name!=="AbortError"&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Ce(N)};if(De){const{destroy:N,cleanup:z}=Y(ye,ze,Fe);oe.push(N),x(ye)&&Be&&Z.push(z)}ye.on("error",G),x(ye)&&Be&&Z.push(()=>{ye.removeListener("error",G)})}if(Ie===0)if(typeof ye=="function"){if(Ne=ye({signal:U}),!j(Ne))throw new g("Iterable, AsyncIterable or Stream","source",Ne)}else j(ye)||A(ye)||T(ye)?Ne=ye:Ne=s.from(ye);else if(typeof ye=="function"){if(T(Ne)){var de;Ne=$((de=Ne)===null||de===void 0?void 0:de.readable)}else Ne=$(Ne);if(Ne=ye(Ne,{signal:U}),ze){if(!j(Ne,!0))throw new g("AsyncIterable",`transform[${Ie-1}]`,Ne)}else{var pe;B||(B=KK());const G=new B({objectMode:!0}),N=(pe=Ne)===null||pe===void 0?void 0:pe.then;if(typeof N=="function")ve++,N.call(Ne,ce=>{ae=ce,ce!=null&&G.write(ce),De&&G.end(),e.nextTick(Ce)},ce=>{G.destroy(ce),e.nextTick(Ce,ce)});else if(j(Ne,!0))ve++,Q(Ne,G,Ce,{end:De});else if(P(Ne)||T(Ne)){const ce=Ne.readable||Ne;ve++,Q(ce,G,Ce,{end:De})}else throw new g("AsyncIterable or Promise","destination",Ne);Ne=G;const{destroy:z,cleanup:ne}=Y(Ne,!1,!0);oe.push(z),Be&&Z.push(ne)}}else if(M(ye)){if(A(Ne)){ve+=2;const G=K(Ne,ye,Ce,{end:De});x(ye)&&Be&&Z.push(G)}else if(T(Ne)||P(Ne)){const G=Ne.readable||Ne;ve++,Q(G,ye,Ce,{end:De})}else if(j(Ne))ve++,Q(Ne,ye,Ce,{end:De});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ne);Ne=ye}else if(D(ye)){if(A(Ne))ve++,re($(Ne),ye,Ce,{end:De});else if(P(Ne)||j(Ne))ve++,re(Ne,ye,Ce,{end:De});else if(T(Ne))ve++,re(Ne.readable,ye,Ce,{end:De});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ne);Ne=ye}else Ne=s.from(ye)}return(U!=null&&U.aborted||X!=null&&X.aborted)&&e.nextTick(le),Ne}function K(ee,fe,_e,{end:V}){let U=!1;if(fe.on("close",()=>{U||_e(new p)}),ee.pipe(fe,{end:!1}),V){let X=function(){U=!0,fe.end()};F(ee)?e.nextTick(X):ee.once("end",X)}else _e();return t(ee,{readable:!0,writable:!1},X=>{const Z=ee._readableState;X&&X.code==="ERR_STREAM_PREMATURE_CLOSE"&&Z&&Z.ended&&!Z.errored&&!Z.errorEmitted?ee.once("end",_e).once("error",_e):_e(X)}),t(fe,{readable:!1,writable:!0},_e)}return lC={pipelineImpl:I,pipeline:C},lC}var uC,s3;function kK(){if(s3)return uC;s3=1;const{pipeline:e}=XT(),n=ic(),{destroyer:o}=gp(),{isNodeStream:i,isReadable:l,isWritable:t,isWebStream:r,isTransformStream:a,isWritableStream:s,isReadableStream:u}=lc(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:b}}=Ir(),_=ud();return uC=function(...y){if(y.length===0)throw new b("streams");if(y.length===1)return n.from(y[0]);const v=[...y];if(typeof y[0]=="function"&&(y[0]=n.from(y[0])),typeof y[y.length-1]=="function"){const B=y.length-1;y[B]=n.from(y[B])}for(let B=0;B<y.length;++B)if(!(!i(y[B])&&!r(y[B]))){if(B<y.length-1&&!(l(y[B])||u(y[B])||a(y[B])))throw new g(`streams[${B}]`,v[B],"must be readable");if(B>0&&!(t(y[B])||s(y[B])||a(y[B])))throw new g(`streams[${B}]`,v[B],"must be writable")}let E,j,x,A,M;function T(B){const S=A;A=null,S?S(B):B?M.destroy(B):!q&&!F&&M.destroy()}const D=y[0],P=e(y,T),F=!!(t(D)||s(D)||a(D)),q=!!(l(P)||u(P)||a(P));if(M=new n({writableObjectMode:!!(D!=null&&D.writableObjectMode),readableObjectMode:!!(P!=null&&P.readableObjectMode),writable:F,readable:q}),F){if(i(D))M._write=function(S,H,Y){D.write(S,H)?Y():E=Y},M._final=function(S){D.end(),j=S},D.on("drain",function(){if(E){const S=E;E=null,S()}});else if(r(D)){const H=(a(D)?D.writable:D).getWriter();M._write=async function(Y,W,$){try{await H.ready,H.write(Y).catch(()=>{}),$()}catch(k){$(k)}},M._final=async function(Y){try{await H.ready,H.close().catch(()=>{}),j=Y}catch(W){Y(W)}}}const B=a(P)?P.readable:P;_(B,()=>{if(j){const S=j;j=null,S()}})}if(q){if(i(P))P.on("readable",function(){if(x){const B=x;x=null,B()}}),P.on("end",function(){M.push(null)}),M._read=function(){for(;;){const B=P.read();if(B===null){x=M._read;return}if(!M.push(B))return}};else if(r(P)){const S=(a(P)?P.readable:P).getReader();M._read=async function(){for(;;)try{const{value:H,done:Y}=await S.read();if(!M.push(H))return;if(Y){M.push(null);return}}catch{return}}}}return M._destroy=function(B,S){!B&&A!==null&&(B=new f),x=null,E=null,j=null,A===null?S(B):(A=S,i(P)&&o(P,B))},M},uC}var l3;function jge(){if(l3)return hv;l3=1;const e=globalThis.AbortController||r_().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:l},AbortError:t}=Ir(),{validateAbortSignal:r,validateInteger:a,validateObject:s}=O_(),u=Gt().Symbol("kWeak"),f=Gt().Symbol("kResistStopPropagation"),{finished:g}=ud(),b=kK(),{addAbortSignalNoValidate:_}=r0(),{isWritable:p,isNodeStream:y}=lc(),{deprecate:v}=Wr(),{ArrayPrototypePush:E,Boolean:j,MathFloor:x,Number:A,NumberIsNaN:M,Promise:T,PromiseReject:D,PromiseResolve:P,PromisePrototypeThen:F,Symbol:q}=Gt(),B=q("kEmpty"),S=q("kEof");function H(X,Z){if(Z!=null&&s(Z,"options"),Z?.signal!=null&&r(Z.signal,"options.signal"),y(X)&&!p(X))throw new n("stream",X,"must be writable");const le=b(this,X);return Z!=null&&Z.signal&&_(Z.signal,le),le}function Y(X,Z){if(typeof X!="function")throw new o("fn",["Function","AsyncFunction"],X);Z!=null&&s(Z,"options"),Z?.signal!=null&&r(Z.signal,"options.signal");let le=1;Z?.concurrency!=null&&(le=x(Z.concurrency));let me=le-1;return Z?.highWaterMark!=null&&(me=x(Z.highWaterMark)),a(le,"options.concurrency",1),a(me,"options.highWaterMark",0),me+=le,(async function*(){const ae=Wr().AbortSignalAny([Z?.signal].filter(j)),oe=this,ve=[],Ce={signal:ae};let Ae,Ne,de=!1,pe=0;function Ie(){de=!0,ye()}function ye(){pe-=1,ze()}function ze(){Ne&&!de&&pe<le&&ve.length<me&&(Ne(),Ne=null)}async function Fe(){try{for await(let De of oe){if(de)return;if(ae.aborted)throw new t;try{if(De=X(De,Ce),De===B)continue;De=P(De)}catch(Be){De=D(Be)}pe+=1,F(De,ye,Ie),ve.push(De),Ae&&(Ae(),Ae=null),!de&&(ve.length>=me||pe>=le)&&await new T(Be=>{Ne=Be})}ve.push(S)}catch(De){const Be=D(De);F(Be,ye,Ie),ve.push(Be)}finally{de=!0,Ae&&(Ae(),Ae=null)}}Fe();try{for(;;){for(;ve.length>0;){const De=await ve[0];if(De===S)return;if(ae.aborted)throw new t;De!==B&&(yield De),ve.shift(),ze()}await new T(De=>{Ae=De})}}finally{de=!0,Ne&&(Ne(),Ne=null)}}).call(this)}function W(X=void 0){return X!=null&&s(X,"options"),X?.signal!=null&&r(X.signal,"options.signal"),(async function*(){let le=0;for await(const we of this){var me;if(X!=null&&(me=X.signal)!==null&&me!==void 0&&me.aborted)throw new t({cause:X.signal.reason});yield[le++,we]}}).call(this)}async function $(X,Z=void 0){for await(const le of C.call(this,X,Z))return!0;return!1}async function k(X,Z=void 0){if(typeof X!="function")throw new o("fn",["Function","AsyncFunction"],X);return!await $.call(this,async(...le)=>!await X(...le),Z)}async function Q(X,Z){for await(const le of C.call(this,X,Z))return le}async function re(X,Z){if(typeof X!="function")throw new o("fn",["Function","AsyncFunction"],X);async function le(me,we){return await X(me,we),B}for await(const me of Y.call(this,le,Z));}function C(X,Z){if(typeof X!="function")throw new o("fn",["Function","AsyncFunction"],X);async function le(me,we){return await X(me,we)?me:B}return Y.call(this,le,Z)}class I extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function K(X,Z,le){var me;if(typeof X!="function")throw new o("reducer",["Function","AsyncFunction"],X);le!=null&&s(le,"options"),le?.signal!=null&&r(le.signal,"options.signal");let we=arguments.length>1;if(le!=null&&(me=le.signal)!==null&&me!==void 0&&me.aborted){const Ae=new t(void 0,{cause:le.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(Ae)),Ae}const ae=new e,oe=ae.signal;if(le!=null&&le.signal){const Ae={once:!0,[u]:this,[f]:!0};le.signal.addEventListener("abort",()=>ae.abort(),Ae)}let ve=!1;try{for await(const Ae of this){var Ce;if(ve=!0,le!=null&&(Ce=le.signal)!==null&&Ce!==void 0&&Ce.aborted)throw new t;we?Z=await X(Z,Ae,{signal:oe}):(Z=Ae,we=!0)}if(!ve&&!we)throw new I}finally{ae.abort()}return Z}async function ee(X){X!=null&&s(X,"options"),X?.signal!=null&&r(X.signal,"options.signal");const Z=[];for await(const me of this){var le;if(X!=null&&(le=X.signal)!==null&&le!==void 0&&le.aborted)throw new t(void 0,{cause:X.signal.reason});E(Z,me)}return Z}function fe(X,Z){const le=Y.call(this,X,Z);return(async function*(){for await(const we of le)yield*we}).call(this)}function _e(X){if(X=A(X),M(X))return 0;if(X<0)throw new l("number",">= 0",X);return X}function V(X,Z=void 0){return Z!=null&&s(Z,"options"),Z?.signal!=null&&r(Z.signal,"options.signal"),X=_e(X),(async function*(){var me;if(Z!=null&&(me=Z.signal)!==null&&me!==void 0&&me.aborted)throw new t;for await(const ae of this){var we;if(Z!=null&&(we=Z.signal)!==null&&we!==void 0&&we.aborted)throw new t;X--<=0&&(yield ae)}}).call(this)}function U(X,Z=void 0){return Z!=null&&s(Z,"options"),Z?.signal!=null&&r(Z.signal,"options.signal"),X=_e(X),(async function*(){var me;if(Z!=null&&(me=Z.signal)!==null&&me!==void 0&&me.aborted)throw new t;for await(const ae of this){var we;if(Z!=null&&(we=Z.signal)!==null&&we!==void 0&&we.aborted)throw new t;if(X-- >0&&(yield ae),X<=0)return}}).call(this)}return hv.streamReturningOperators={asIndexedPairs:v(W,"readable.asIndexedPairs will be removed in a future version."),drop:V,filter:C,flatMap:fe,map:Y,take:U,compose:H},hv.promiseReturningOperators={every:k,forEach:re,reduce:K,toArray:ee,some:$,find:Q},hv}var cC,u3;function YK(){if(u3)return cC;u3=1;const{ArrayPrototypePop:e,Promise:n}=Gt(),{isIterable:o,isNodeStream:i,isWebStream:l}=lc(),{pipelineImpl:t}=XT(),{finished:r}=ud();WK();function a(...s){return new n((u,f)=>{let g,b;const _=s[s.length-1];if(_&&typeof _=="object"&&!i(_)&&!o(_)&&!l(_)){const p=e(s);g=p.signal,b=p.end}t(s,(p,y)=>{p?f(p):u(y)},{signal:g,end:b})})}return cC={finished:r,pipeline:a},cC}var c3;function WK(){if(c3)return Ux.exports;c3=1;const{Buffer:e}=ld(),{ObjectDefineProperty:n,ObjectKeys:o,ReflectApply:i}=Gt(),{promisify:{custom:l}}=Wr(),{streamReturningOperators:t,promiseReturningOperators:r}=jge(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Ir(),s=kK(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=n0(),{pipeline:g}=XT(),{destroyer:b}=gp(),_=ud(),p=YK(),y=lc(),v=Ux.exports=ZT().Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=a0();for(const j of o(t)){let A=function(...M){if(new.target)throw a();return v.Readable.from(i(x,this,M))};const x=t[j];n(A,"name",{__proto__:null,value:x.name}),n(A,"length",{__proto__:null,value:x.length}),n(v.Readable.prototype,j,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}for(const j of o(r)){let A=function(...M){if(new.target)throw a();return i(x,this,M)};const x=r[j];n(A,"name",{__proto__:null,value:x.name}),n(A,"length",{__proto__:null,value:x.length}),n(v.Readable.prototype,j,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}v.Writable=QT(),v.Duplex=ic(),v.Transform=HK(),v.PassThrough=KK(),v.pipeline=g;const{addAbortSignal:E}=r0();return v.addAbortSignal=E,v.finished=_,v.destroy=b,v.compose=s,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=f,n(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return p}}),n(g,l,{__proto__:null,enumerable:!0,get(){return p.pipeline}}),n(_,l,{__proto__:null,enumerable:!0,get(){return p.finished}}),v.Stream=v,v._isUint8Array=function(x){return x instanceof Uint8Array},v._uint8ArrayToBuffer=function(x){return e.from(x.buffer,x.byteOffset,x.byteLength)},Ux.exports}var d3;function ab(){return d3||(d3=1,(function(e){const n=WK(),o=YK(),i=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=i,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get(){return o}}),e.exports.Stream=n.Stream,e.exports.default=e.exports})(Lx)),Lx.exports}var ca={},dC={},sg={},lg={},f3;function JK(){if(f3)return lg;f3=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.base64Encode=o,lg.base64Decode=i;function e(l){const t=atob(l);return Uint8Array.from(t,r=>r.codePointAt(0))}function n(l){const t=String.fromCodePoint(...l);return btoa(t)}function o(l){if(typeof Buffer<"u")return Buffer.from(l,"utf8").toString("base64");const t=new TextEncoder().encode(l);return n(t)}function i(l){if(typeof Buffer<"u")return Buffer.from(l,"base64").toString("utf8");const t=e(l);return new TextDecoder().decode(t)}return lg}var h3;function xge(){if(h3)return sg;h3=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.BasicAuth=void 0;const e=JK(),n=/^Basic /i;return sg.BasicAuth={toAuthorizationHeader:o=>o==null?void 0:`Basic ${(0,e.base64Encode)(`${o.username}:${o.password}`)}`,fromAuthorizationHeader:o=>{const i=o.replace(n,""),l=(0,e.base64Decode)(i),[t,...r]=l.split(":"),a=r.length>0?r.join(":"):void 0;if(t==null||a==null)throw new Error("Invalid basic auth");return{username:t,password:a}}},sg}var ug={},p3;function Cge(){if(p3)return ug;p3=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.BearerToken=void 0;const e=/^Bearer /i;return ug.BearerToken={toAuthorizationHeader:n=>{if(n!=null)return`Bearer ${n}`},fromAuthorizationHeader:n=>n.replace(e,"").trim()},ug}var m3;function Tge(){return m3||(m3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BearerToken=e.BasicAuth=void 0;var n=xge();Object.defineProperty(e,"BasicAuth",{enumerable:!0,get:function(){return n.BasicAuth}});var o=Cge();Object.defineProperty(e,"BearerToken",{enumerable:!0,get:function(){return o.BearerToken}})})(dC)),dC}var fC={},af={},g3;function ZK(){if(g3)return af;g3=1;var e=af&&af.__awaiter||function(n,o,i,l){function t(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function s(g){try{f(l.next(g))}catch(b){a(b)}}function u(g){try{f(l.throw(g))}catch(b){a(b)}}function f(g){g.done?r(g.value):t(g.value).then(s,u)}f((l=l.apply(n,o||[])).next())})};return Object.defineProperty(af,"__esModule",{value:!0}),af.EndpointSupplier=void 0,af.EndpointSupplier={get:(n,o)=>e(void 0,void 0,void 0,function*(){return typeof n=="function"?n(o):n})},af}var Lc={},hC={},_3;function QK(){return _3||(_3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.ConsoleLogger=e.LogLevel=void 0,e.createLogger=l,e.LogLevel={Debug:"debug",Info:"info",Warn:"warn",Error:"error"};const n={[e.LogLevel.Debug]:1,[e.LogLevel.Info]:2,[e.LogLevel.Warn]:3,[e.LogLevel.Error]:4};class o{debug(a,...s){console.debug(a,...s)}info(a,...s){console.info(a,...s)}warn(a,...s){console.warn(a,...s)}error(a,...s){console.error(a,...s)}}e.ConsoleLogger=o;class i{constructor(a){this.level=n[a.level],this.logger=a.logger,this.silent=a.silent}shouldLog(a){return!this.silent&&this.level<=n[a]}isDebug(){return this.shouldLog(e.LogLevel.Debug)}debug(a,...s){this.isDebug()&&this.logger.debug(a,...s)}isInfo(){return this.shouldLog(e.LogLevel.Info)}info(a,...s){this.isInfo()&&this.logger.info(a,...s)}isWarn(){return this.shouldLog(e.LogLevel.Warn)}warn(a,...s){this.isWarn()&&this.logger.warn(a,...s)}isError(){return this.shouldLog(e.LogLevel.Error)}error(a,...s){this.isError()&&this.logger.error(a,...s)}}e.Logger=i;function l(r){var a,s,u;return r==null?t:r instanceof i?r:(r=r??{},(a=r.level)!==null&&a!==void 0||(r.level=e.LogLevel.Info),(s=r.logger)!==null&&s!==void 0||(r.logger=new o),(u=r.silent)!==null&&u!==void 0||(r.silent=!0),new i(r))}const t=new i({level:e.LogLevel.Info,logger:new o,silent:!0})})(hC)),hC}var gv={},_v={},y3;function i0(){if(y3)return _v;y3=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.toQueryString=i;const e={arrayFormat:"indices",encode:!0};function n(l,t){if(l===void 0||l===null)return"";const r=String(l);return t?encodeURIComponent(r):r}function o(l,t="",r){const a=[];for(const[s,u]of Object.entries(l)){const f=t?`${t}[${s}]`:s;if(u!==void 0)if(Array.isArray(u)){if(u.length===0)continue;for(let g=0;g<u.length;g++){const b=u[g];if(b!==void 0)if(typeof b=="object"&&!Array.isArray(b)&&b!==null){const _=r.arrayFormat==="indices"?`${f}[${g}]`:f;a.push(...o(b,_,r))}else{const _=r.arrayFormat==="indices"?`${f}[${g}]`:f,p=r.encode?encodeURIComponent(_):_;a.push(`${p}=${n(b,r.encode)}`)}}}else if(typeof u=="object"&&u!==null){if(Object.keys(u).length===0)continue;a.push(...o(u,f,r))}else{const g=r.encode?encodeURIComponent(f):f;a.push(`${g}=${n(u,r.encode)}`)}}return a}function i(l,t){return l==null||typeof l!="object"?"":o(l,"",Object.assign(Object.assign({},e),t)).join("&")}return _v}var v3;function Mge(){if(v3)return gv;v3=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.createRequestUrl=n;const e=i0();function n(o,i){const l=(0,e.toQueryString)(i,{arrayFormat:"repeat"});return l?`${o}?${l}`:o}return gv}var Bh={},qh={},yv={},b3;function Pge(){if(b3)return yv;b3=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.getBinaryResponse=e;function e(n){const o={get bodyUsed(){return n.bodyUsed},stream:()=>n.body,arrayBuffer:n.arrayBuffer.bind(n),blob:n.blob.bind(n)};return"bytes"in n&&typeof n.bytes=="function"&&(o.bytes=n.bytes.bind(n)),o}return yv}var vv={},w3;function Age(){if(w3)return vv;w3=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.isResponseWithBody=e;function e(n){return n.body!=null}return vv}var S3;function XK(){if(S3)return qh;S3=1;var e=qh&&qh.__awaiter||function(t,r,a,s){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function b(y){try{p(s.next(y))}catch(v){g(v)}}function _(y){try{p(s.throw(y))}catch(v){g(v)}}function p(y){y.done?f(y.value):u(y.value).then(b,_)}p((s=s.apply(t,r||[])).next())})};Object.defineProperty(qh,"__esModule",{value:!0}),qh.getResponseBody=l;const n=S_(),o=Pge(),i=Age();function l(t,r){return e(this,void 0,void 0,function*(){if(!(0,i.isResponseWithBody)(t))return;switch(r){case"binary-response":return(0,o.getBinaryResponse)(t);case"blob":return yield t.blob();case"arrayBuffer":return yield t.arrayBuffer();case"sse":return t.body;case"streaming":return t.body;case"text":return yield t.text()}const a=yield t.text();if(a.length>0)try{return(0,n.fromJson)(a)}catch{return{ok:!1,error:{reason:"non-json",statusCode:t.status,rawBody:a}}}})}return qh}var O3;function Nge(){if(O3)return Bh;O3=1;var e=Bh&&Bh.__awaiter||function(l,t,r,a){function s(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function g(p){try{_(a.next(p))}catch(y){f(y)}}function b(p){try{_(a.throw(p))}catch(y){f(y)}}function _(p){p.done?u(p.value):s(p.value).then(g,b)}_((a=a.apply(l,t||[])).next())})};Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.getErrorResponseBody=i;const n=S_(),o=XK();function i(l){return e(this,void 0,void 0,function*(){var t,r,a;let s=(t=l.headers.get("Content-Type"))===null||t===void 0?void 0:t.toLowerCase();if(s==null||s.length===0)return(0,o.getResponseBody)(l);switch(s.indexOf(";")!==-1&&(s=(a=(r=s.split(";")[0])===null||r===void 0?void 0:r.trim())!==null&&a!==void 0?a:""),s){case"application/hal+json":case"application/json":case"application/ld+json":case"application/problem+json":case"application/vnd.api+json":case"text/json":{const u=yield l.text();return u.length>0?(0,n.fromJson)(u):void 0}default:if(s.startsWith("application/vnd.")&&s.endsWith("+json")){const u=yield l.text();return u.length>0?(0,n.fromJson)(u):void 0}return yield l.text()}})}return Bh}var Lh={},E3;function Dge(){if(E3)return Lh;E3=1;var e=Lh&&Lh.__awaiter||function(o,i,l,t){function r(a){return a instanceof l?a:new l(function(s){s(a)})}return new(l||(l=Promise))(function(a,s){function u(b){try{g(t.next(b))}catch(_){s(_)}}function f(b){try{g(t.throw(b))}catch(_){s(_)}}function g(b){b.done?a(b.value):r(b.value).then(u,f)}g((t=t.apply(o,i||[])).next())})};Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.getFetchFn=n;function n(){return e(this,void 0,void 0,function*(){return fetch})}return Lh}var Uh={},R3;function Ige(){if(R3)return Uh;R3=1;var e=Uh&&Uh.__awaiter||function(l,t,r,a){function s(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function g(p){try{_(a.next(p))}catch(y){f(y)}}function b(p){try{_(a.throw(p))}catch(y){f(y)}}function _(p){p.done?u(p.value):s(p.value).then(g,b)}_((a=a.apply(l,t||[])).next())})};Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.getRequestBody=i;const n=S_(),o=i0();function i(l){return e(this,arguments,void 0,function*({body:t,type:r}){return r==="form"?(0,o.toQueryString)(t,{arrayFormat:"repeat",encode:!0}):r.includes("json")?(0,n.toJson)(t):t})}return Uh}var of={},cg={},j3;function zge(){if(j3)return cg;j3=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.getTimeoutSignal=n,cg.anySignal=o;const e="timeout";function n(i){const l=new AbortController,t=setTimeout(()=>l.abort(e),i);return{signal:l.signal,abortId:t}}function o(...i){const l=i.length===1&&Array.isArray(i[0])?i[0]:i,t=new AbortController;for(const r of l){if(r.aborted){t.abort(r?.reason);break}r.addEventListener("abort",()=>t.abort(r?.reason),{signal:t.signal})}return t.signal}return cg}var x3;function Bge(){if(x3)return of;x3=1;var e=of&&of.__awaiter||function(i,l,t,r){function a(s){return s instanceof t?s:new t(function(u){u(s)})}return new(t||(t=Promise))(function(s,u){function f(_){try{b(r.next(_))}catch(p){u(p)}}function g(_){try{b(r.throw(_))}catch(p){u(p)}}function b(_){_.done?s(_.value):a(_.value).then(f,g)}b((r=r.apply(i,l||[])).next())})};Object.defineProperty(of,"__esModule",{value:!0}),of.makeRequest=void 0;const n=zge(),o=(i,l,t,r,a,s,u,f,g)=>e(void 0,void 0,void 0,function*(){const b=[];let _;if(s!=null){const{signal:v,abortId:E}=(0,n.getTimeoutSignal)(s);_=E,b.push(v)}u!=null&&b.push(u);const p=(0,n.anySignal)(b),y=yield i(l,{method:t,headers:r,body:a,signal:p,credentials:f?"include":void 0,duplex:g});return _!=null&&clearTimeout(_),y});return of.makeRequest=o,of}var Uc={},$h={},C3;function qge(){return C3||(C3=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.Headers=void 0,typeof globalThis.Headers<"u"?$h.Headers=globalThis.Headers:$h.Headers=class ek{constructor(n){if(this.headers=new Map,n)if(n instanceof ek)n.forEach((o,i)=>this.append(i,o));else if(Array.isArray(n))for(const[o,i]of n)if(typeof o=="string"&&typeof i=="string")this.append(o,i);else throw new TypeError("Each header entry must be a [string, string] tuple");else for(const[o,i]of Object.entries(n))if(typeof i=="string")this.append(o,i);else throw new TypeError("Header values must be strings")}append(n,o){const i=n.toLowerCase(),l=this.headers.get(i)||[];this.headers.set(i,[...l,o])}delete(n){const o=n.toLowerCase();this.headers.delete(o)}get(n){const o=n.toLowerCase(),i=this.headers.get(o);return i?i.join(", "):null}has(n){const o=n.toLowerCase();return this.headers.has(o)}set(n,o){const i=n.toLowerCase();this.headers.set(i,[o])}forEach(n,o){const i=o?n.bind(o):n;this.headers.forEach((l,t)=>i(l.join(", "),t,this))}getSetCookie(){return this.headers.get("set-cookie")||[]}*entries(){for(const[n,o]of this.headers.entries())yield[n,o.join(", ")]}*keys(){yield*this.headers.keys()}*values(){for(const n of this.headers.values())yield n.join(", ")}[Symbol.iterator](){return this.entries()}}),$h}var T3;function tk(){if(T3)return Uc;T3=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.unknownRawResponse=Uc.abortRawResponse=void 0,Uc.toRawResponse=n;const e=qge();Uc.abortRawResponse={headers:new e.Headers,redirected:!1,status:499,statusText:"Client Closed Request",type:"error",url:""},Uc.unknownRawResponse={headers:new e.Headers,redirected:!1,status:0,statusText:"Unknown Error",type:"error",url:""};function n(o){return{headers:o.headers,redirected:o.redirected,status:o.status,statusText:o.statusText,type:o.type,url:o.url}}return Uc}var Fh={},M3;function Lge(){if(M3)return Fh;M3=1;var e=Fh&&Fh.__awaiter||function(u,f,g,b){function _(p){return p instanceof g?p:new g(function(y){y(p)})}return new(g||(g=Promise))(function(p,y){function v(x){try{j(b.next(x))}catch(A){y(A)}}function E(x){try{j(b.throw(x))}catch(A){y(A)}}function j(x){x.done?p(x.value):_(x.value).then(v,E)}j((b=b.apply(u,f||[])).next())})};Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.requestWithRetries=s;const n=1e3,o=6e4,i=2,l=.2;function t(u){const f=1+Math.random()*l;return u*f}function r(u){const f=1+(Math.random()-.5)*l;return u*f}function a(u,f){const g=u.headers.get("Retry-After");if(g){const _=parseInt(g,10);if(!Number.isNaN(_)&&_>0)return Math.min(_*1e3,o);const p=new Date(g);if(!Number.isNaN(p.getTime())){const y=p.getTime()-Date.now();if(y>0)return Math.min(Math.max(y,0),o)}}const b=u.headers.get("X-RateLimit-Reset");if(b){const _=parseInt(b,10);if(!Number.isNaN(_)){const p=_*1e3-Date.now();if(p>0)return t(Math.min(p,o))}}return r(Math.min(n*Math.pow(2,f),o))}function s(u){return e(this,arguments,void 0,function*(f,g=i){let b=yield f();for(let _=0;_<g&&([408,429].includes(b.status)||b.status>=500);++_){const p=a(b,_);yield new Promise(y=>setTimeout(y,p)),b=yield f()}return b})}return Fh}var P3;function Uge(){if(P3)return Lc;P3=1;var e=Lc&&Lc.__awaiter||function(x,A,M,T){function D(P){return P instanceof M?P:new M(function(F){F(P)})}return new(M||(M=Promise))(function(P,F){function q(H){try{S(T.next(H))}catch(Y){F(Y)}}function B(H){try{S(T.throw(H))}catch(Y){F(Y)}}function S(H){H.done?P(H.value):D(H.value).then(q,B)}S((T=T.apply(x,A||[])).next())})};Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.fetcher=void 0,Lc.fetcherImpl=j;const n=S_(),o=QK(),i=Mge(),l=ZK(),t=Nge(),r=Dge(),a=Ige(),s=XK(),u=Bge(),f=tk(),g=Lge(),b=new Set(["authorization","www-authenticate","x-api-key","api-key","apikey","x-api-token","x-auth-token","auth-token","cookie","set-cookie","proxy-authorization","proxy-authenticate","x-csrf-token","x-xsrf-token","x-session-token","x-access-token"]);function _(x){const A={};for(const[M,T]of Object.entries(x))b.has(M.toLowerCase())?A[M]="[REDACTED]":A[M]=T;return A}const p=new Set(["api_key","api-key","apikey","token","access_token","access-token","auth_token","auth-token","password","passwd","secret","api_secret","api-secret","apisecret","key","session","session_id","session-id"]);function y(x){if(x==null)return x;const A={};for(const[M,T]of Object.entries(x))p.has(M.toLowerCase())?A[M]="[REDACTED]":A[M]=T;return A}function v(x){const A=x.indexOf("://");if(A===-1)return x;const M=A+3,T=x.indexOf("/",M);let D=x.indexOf("?",M),P=x.indexOf("#",M);const F=Math.min(T===-1?x.length:T,D===-1?x.length:D,P===-1?x.length:P);let q=-1;for(let k=M;k<F;k++)x[k]==="@"&&(q=k);if(q!==-1&&(x=`${x.slice(0,M)}[REDACTED]@${x.slice(q+1)}`),D=x.indexOf("?"),D===-1)return x;P=x.indexOf("#",D);const B=P!==-1?P:x.length,S=x.slice(D+1,B);if(S.length===0)return x;const H=S.toLowerCase();if(!(H.includes("token")||H.includes("key")||H.includes("password")||H.includes("passwd")||H.includes("secret")||H.includes("session")||H.includes("auth")))return x;const W=[],$=S.split("&");for(const k of $){const Q=k.indexOf("=");if(Q===-1){W.push(k);continue}const re=k.slice(0,Q);let C=p.has(re.toLowerCase());if(!C&&re.includes("%"))try{const I=decodeURIComponent(re);C=p.has(I.toLowerCase())}catch{}W.push(C?`${re}=[REDACTED]`:k)}return x.slice(0,D+1)+W.join("&")+x.slice(B)}function E(x){return e(this,void 0,void 0,function*(){var A;const M={};if(x.body!==void 0&&x.contentType!=null&&(M["Content-Type"]=x.contentType),x.headers==null)return M;for(const[T,D]of Object.entries(x.headers)){const P=yield l.EndpointSupplier.get(D,{endpointMetadata:(A=x.endpointMetadata)!==null&&A!==void 0?A:{}});if(typeof P=="string"){M[T]=P;continue}P!=null&&(M[T]=`${P}`)}return M})}function j(x){return e(this,void 0,void 0,function*(){var A,M,T;const D=(0,i.createRequestUrl)(x.url,x.queryParameters),P=yield(0,a.getRequestBody)({body:x.body,type:(A=x.requestType)!==null&&A!==void 0?A:"other"}),F=(M=x.fetchFn)!==null&&M!==void 0?M:yield(0,r.getFetchFn)(),q=yield E(x),B=(0,o.createLogger)(x.logging);if(B.isDebug()){const S={method:x.method,url:v(D),headers:_(q),queryParameters:y(x.queryParameters),hasBody:P!=null};B.debug("Making HTTP request",S)}try{const S=yield(0,g.requestWithRetries)(()=>e(this,void 0,void 0,function*(){return(0,u.makeRequest)(F,D,x.method,q,P,x.timeoutMs,x.abortSignal,x.withCredentials,x.duplex)}),x.maxRetries);if(S.status>=200&&S.status<400){if(B.isDebug()){const H={method:x.method,url:v(D),statusCode:S.status,responseHeaders:_(Object.fromEntries(S.headers.entries()))};B.debug("HTTP request succeeded",H)}return{ok:!0,body:yield(0,s.getResponseBody)(S,x.responseType),headers:S.headers,rawResponse:(0,f.toRawResponse)(S)}}else{if(B.isError()){const H={method:x.method,url:v(D),statusCode:S.status,responseHeaders:_(Object.fromEntries(S.headers.entries()))};B.error("HTTP request failed with error status",H)}return{ok:!1,error:{reason:"status-code",statusCode:S.status,body:yield(0,t.getErrorResponseBody)(S)},rawResponse:(0,f.toRawResponse)(S)}}}catch(S){if(!((T=x.abortSignal)===null||T===void 0)&&T.aborted){if(B.isError()){const H={method:x.method,url:v(D)};B.error("HTTP request was aborted",H)}return{ok:!1,error:{reason:"unknown",errorMessage:"The user aborted a request"},rawResponse:f.abortRawResponse}}else if(S instanceof Error&&S.name==="AbortError"){if(B.isError()){const H={method:x.method,url:v(D),timeoutMs:x.timeoutMs};B.error("HTTP request timed out",H)}return{ok:!1,error:{reason:"timeout"},rawResponse:f.abortRawResponse}}else if(S instanceof Error){if(B.isError()){const H={method:x.method,url:v(D),errorMessage:S.message};B.error("HTTP request failed with error",H)}return{ok:!1,error:{reason:"unknown",errorMessage:S.message},rawResponse:f.unknownRawResponse}}if(B.isError()){const H={method:x.method,url:v(D),error:(0,n.toJson)(S)};B.error("HTTP request failed with unknown error",H)}return{ok:!1,error:{reason:"unknown",errorMessage:(0,n.toJson)(S)},rawResponse:f.unknownRawResponse}}})}return Lc.fetcher=j,Lc}var bv={},A3;function $ge(){if(A3)return bv;A3=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.getHeader=e;function e(n,o){for(const[i,l]of Object.entries(n))if(i.toLowerCase()===o.toLowerCase())return l}return bv}var sf={},N3;function Fge(){if(N3)return sf;N3=1;var e=sf&&sf.__awaiter||function(o,i,l,t){function r(a){return a instanceof l?a:new l(function(s){s(a)})}return new(l||(l=Promise))(function(a,s){function u(b){try{g(t.next(b))}catch(_){s(_)}}function f(b){try{g(t.throw(b))}catch(_){s(_)}}function g(b){b.done?a(b.value):r(b.value).then(u,f)}g((t=t.apply(o,i||[])).next())})};Object.defineProperty(sf,"__esModule",{value:!0}),sf.HttpResponsePromise=void 0;let n=class Yh extends Promise{constructor(i){super(l=>{l(void 0)}),this.innerPromise=i}static fromFunction(i,...l){return new Yh(i(...l))}static interceptFunction(i){return(...l)=>Yh.fromPromise(i(...l))}static fromPromise(i){return new Yh(i)}static fromExecutor(i){const l=new Promise(i);return new Yh(l)}static fromResult(i){const l=Promise.resolve(i);return new Yh(l)}unwrap(){return this.unwrappedPromise||(this.unwrappedPromise=this.innerPromise.then(({data:i})=>i)),this.unwrappedPromise}then(i,l){return this.unwrap().then(i,l)}catch(i){return this.unwrap().catch(i)}finally(i){return this.unwrap().finally(i)}withRawResponse(){return e(this,void 0,void 0,function*(){return yield this.innerPromise})}};return sf.HttpResponsePromise=n,sf}var lf={},D3;function Vge(){if(D3)return lf;D3=1;var e=lf&&lf.__awaiter||function(n,o,i,l){function t(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function s(g){try{f(l.next(g))}catch(b){a(b)}}function u(g){try{f(l.throw(g))}catch(b){a(b)}}function f(g){g.done?r(g.value):t(g.value).then(s,u)}f((l=l.apply(n,o||[])).next())})};return Object.defineProperty(lf,"__esModule",{value:!0}),lf.Supplier=void 0,lf.Supplier={get:n=>e(void 0,void 0,void 0,function*(){return typeof n=="function"?n():n})},lf}var I3;function Gge(){return I3||(I3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Supplier=e.unknownRawResponse=e.toRawResponse=e.abortRawResponse=e.HttpResponsePromise=e.getHeader=e.fetcher=e.EndpointSupplier=void 0;var n=ZK();Object.defineProperty(e,"EndpointSupplier",{enumerable:!0,get:function(){return n.EndpointSupplier}});var o=Uge();Object.defineProperty(e,"fetcher",{enumerable:!0,get:function(){return o.fetcher}});var i=$ge();Object.defineProperty(e,"getHeader",{enumerable:!0,get:function(){return i.getHeader}});var l=Fge();Object.defineProperty(e,"HttpResponsePromise",{enumerable:!0,get:function(){return l.HttpResponsePromise}});var t=tk();Object.defineProperty(e,"abortRawResponse",{enumerable:!0,get:function(){return t.abortRawResponse}}),Object.defineProperty(e,"toRawResponse",{enumerable:!0,get:function(){return t.toRawResponse}}),Object.defineProperty(e,"unknownRawResponse",{enumerable:!0,get:function(){return t.unknownRawResponse}});var r=Vge();Object.defineProperty(e,"Supplier",{enumerable:!0,get:function(){return r.Supplier}})})(fC)),fC}var uf={},sn={};const z3=l_(Kme);var B3;function Hge(){if(B3)return sn;B3=1;var e=sn&&sn.__createBinding||(Object.create?(function(D,P,F,q){q===void 0&&(q=F);var B=Object.getOwnPropertyDescriptor(P,F);(!B||("get"in B?!P.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return P[F]}}),Object.defineProperty(D,q,B)}):(function(D,P,F,q){q===void 0&&(q=F),D[q]=P[F]})),n=sn&&sn.__setModuleDefault||(Object.create?(function(D,P){Object.defineProperty(D,"default",{enumerable:!0,value:P})}):function(D,P){D.default=P}),o=sn&&sn.__importStar||(function(){var D=function(P){return D=Object.getOwnPropertyNames||function(F){var q=[];for(var B in F)Object.prototype.hasOwnProperty.call(F,B)&&(q[q.length]=B);return q},D(P)};return function(P){if(P&&P.__esModule)return P;var F={};if(P!=null)for(var q=D(P),B=0;B<q.length;B++)q[B]!=="default"&&e(F,P,q[B]);return n(F,P),F}})(),i=sn&&sn.__awaiter||function(D,P,F,q){function B(S){return S instanceof F?S:new F(function(H){H(S)})}return new(F||(F=Promise))(function(S,H){function Y(k){try{$(q.next(k))}catch(Q){H(Q)}}function W(k){try{$(q.throw(k))}catch(Q){H(Q)}}function $(k){k.done?S(k.value):B(k.value).then(Y,W)}$((q=q.apply(D,P||[])).next())})};Object.defineProperty(sn,"__esModule",{value:!0}),sn.toBinaryUploadRequest=l,sn.toMultipartDataPart=t;function l(D){return i(this,void 0,void 0,function*(){const{data:P,filename:F,contentLength:q,contentType:B}=yield r(D),S={body:P,headers:{}};return F&&(S.headers["Content-Disposition"]=`attachment; filename="${F}"`),B&&(S.headers["Content-Type"]=B),q!=null&&(S.headers["Content-Length"]=q.toString()),S})}function t(D){return i(this,void 0,void 0,function*(){const{data:P,filename:F,contentType:q}=yield r(D,{noSniffFileSize:!0});return{data:P,filename:F,contentType:q}})}function r(D){return i(this,arguments,void 0,function*(P,{noSniffFileSize:F}={}){var q,B,S,H,Y;if(a(P))return r({data:P},{noSniffFileSize:F});if("path"in P){const W=yield Promise.resolve().then(()=>o(z3));if(!W||!W.createReadStream)throw new Error("File path uploads are not supported in this environment.");const $=W.createReadStream(P.path),k=(q=P.contentLength)!==null&&q!==void 0?q:F===!0?void 0:yield s(P.path),Q=(B=P.filename)!==null&&B!==void 0?B:b(P.path);return{data:$,filename:Q,contentType:P.contentType,contentLength:k}}if("data"in P){const W=P.data,$=(S=P.contentLength)!==null&&S!==void 0?S:yield f(W,{noSniffFileSize:F}),k=(H=P.filename)!==null&&H!==void 0?H:u(W);return{data:W,filename:k,contentType:(Y=P.contentType)!==null&&Y!==void 0?Y:g(W),contentLength:$}}throw new Error(`Invalid FileUpload of type ${typeof P}: ${JSON.stringify(P)}`)})}function a(D){return E(D)||j(D)||x(D)||A(D)||M(D)||T(D)||y(D)||v(D)}function s(D){return i(this,void 0,void 0,function*(){try{const P=yield Promise.resolve().then(()=>o(z3));return!P||!P.promises||!P.promises.stat?void 0:(yield P.promises.stat(D)).size}catch{return}})}function u(D){if(_(D))return D.name;if(p(D))return b(D.path.toString())}function f(D){return i(this,arguments,void 0,function*(P,{noSniffFileSize:F}={}){if(E(P))return P.length;if(j(P)||x(P))return P.byteLength;if(M(P)||T(P))return P.size;if(F!==!0&&p(P))return yield s(P.path.toString())})}function g(D){if(M(D)||T(D))return D.type}function b(D){const P=D.lastIndexOf("/"),F=D.lastIndexOf("\\"),q=Math.max(P,F);return q>=0?D.substring(q+1):D}function _(D){return typeof D=="object"&&D!=null&&"name"in D}function p(D){return typeof D=="object"&&D!=null&&"path"in D}function y(D){return typeof D=="object"&&D!=null&&("read"in D||"pipe"in D)}function v(D){return typeof D=="object"&&D!=null&&"getReader"in D}function E(D){return typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(D)}function j(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(D)}function x(D){return typeof ArrayBuffer<"u"&&D instanceof ArrayBuffer}function A(D){return typeof Uint8Array<"u"&&D instanceof Uint8Array}function M(D){return typeof Blob<"u"&&D instanceof Blob}function T(D){return typeof File<"u"&&D instanceof File}return sn}var pC={},q3;function Kge(){return q3||(q3=1,Object.defineProperty(pC,"__esModule",{value:!0})),pC}var L3;function kge(){return L3||(L3=1,(function(e){var n=uf&&uf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=uf&&uf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Hge(),e),o(Kge(),e)})(uf)),uf}var cf={},wv={},U3;function Yge(){if(U3)return wv;U3=1,Object.defineProperty(wv,"__esModule",{value:!0}),wv.encodeAsFormParameter=n;const e=i0();function n(o){const l=(0,e.toQueryString)(o,{encode:!1}).split("&").map(t=>{const[r,a]=t.split("=");return[r,a]});return Object.fromEntries(l)}return wv}var mr={},mC={},dg={},$3;function Wge(){if($3)return dg;$3=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.RUNTIME=void 0,dg.RUNTIME=e();function e(){var n,o,i,l,t;return typeof window<"u"&&typeof window.document<"u"?{type:"browser",version:window.navigator.userAgent}:typeof globalThis<"u"&&((n=globalThis?.navigator)===null||n===void 0?void 0:n.userAgent)==="Cloudflare-Workers"?{type:"workerd"}:typeof EdgeRuntime=="string"?{type:"edge-runtime"}:typeof self=="object"&&typeof self?.importScripts=="function"&&(((o=self.constructor)===null||o===void 0?void 0:o.name)==="DedicatedWorkerGlobalScope"||((i=self.constructor)===null||i===void 0?void 0:i.name)==="ServiceWorkerGlobalScope"||((l=self.constructor)===null||l===void 0?void 0:l.name)==="SharedWorkerGlobalScope")?{type:"web-worker"}:typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u"?{type:"deno",version:Deno.version.deno}:typeof Bun<"u"&&typeof Bun.version<"u"?{type:"bun",version:Bun.version}:typeof process<"u"&&"version"in process&&!!process.version&&"versions"in process&&!!(!((t=process.versions)===null||t===void 0)&&t.node)?{type:"node",version:process.versions.node,parsedVersion:Number(process.versions.node.split(".")[0])}:typeof navigator<"u"&&navigator?.product==="ReactNative"?{type:"react-native"}:{type:"unknown"}}return dg}var F3;function eM(){return F3||(F3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RUNTIME=void 0;var n=Wge();Object.defineProperty(e,"RUNTIME",{enumerable:!0,get:function(){return n.RUNTIME}})})(mC)),mC}var gC,V3;function Jge(){if(V3)return gC;V3=1;var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,l=(b,_)=>{for(var p in _)e(b,p,{get:_[p],enumerable:!0})},t=(b,_,p,y)=>{if(_&&typeof _=="object"||typeof _=="function")for(let v of o(_))!i.call(b,v)&&v!==p&&e(b,v,{get:()=>_[v],enumerable:!(y=n(_,v))||y.enumerable});return b},r=b=>t(e({},"__esModule",{value:!0}),b),a={};l(a,{Blob:()=>f,File:()=>g,FormData:()=>u}),gC=r(a);var s=(function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:window})(),{FormData:u,Blob:f,File:g}=s;return gC}var _C,G3;function Zge(){if(G3)return _C;G3=1;var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,l=le=>{throw TypeError(le)},t=(le,me)=>{for(var we in me)e(le,we,{get:me[we],enumerable:!0})},r=(le,me,we,ae)=>{if(me&&typeof me=="object"||typeof me=="function")for(let oe of o(me))!i.call(le,oe)&&oe!==we&&e(le,oe,{get:()=>me[oe],enumerable:!(ae=n(me,oe))||ae.enumerable});return le},a=le=>r(e({},"__esModule",{value:!0}),le),s=(le,me,we)=>me.has(le)||l("Cannot "+we),u=(le,me,we)=>(s(le,me,"read from private field"),we?we.call(le):me.get(le)),f=(le,me,we)=>me.has(le)?l("Cannot add the same private member more than once"):me instanceof WeakSet?me.add(le):me.set(le,we),g=(le,me,we,ae)=>(s(le,me,"write to private field"),me.set(le,we),we),b=(le,me,we)=>(s(le,me,"access private method"),we),_={};t(_,{FormDataEncoder:()=>Z,isFile:()=>F,isFormData:()=>q}),_C=a(_);var p=65536;function*y(le){if(le.byteLength<=p){yield le;return}let me=0;for(;me<le.byteLength;){const we=Math.min(le.byteLength-me,p),ae=le.buffer.slice(me,me+we);me+=ae.byteLength,yield new Uint8Array(ae)}}var v="abcdefghijklmnopqrstuvwxyz0123456789";function E(){let le=16,me="";for(;le--;)me+=v[Math.random()*v.length<<0];return me}var j=le=>String(le).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),x=le=>typeof le=="function",A=le=>!!le&&typeof le=="object"&&!Array.isArray(le)&&x(le.getReader),M=le=>x(le[Symbol.asyncIterator]);async function*T(le){const me=le.getReader();for(;;){const{done:we,value:ae}=await me.read();if(we)break;yield ae}}async function*D(le){for await(const me of le)yield*y(me)}var P=le=>{if(M(le))return D(le);if(A(le))return D(T(le));throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},F=le=>!!(le&&typeof le=="object"&&x(le.constructor)&&le[Symbol.toStringTag]==="File"&&x(le.stream)&&le.name!=null),q=le=>!!(le&&x(le.constructor)&&le[Symbol.toStringTag]==="FormData"&&x(le.append)&&x(le.getAll)&&x(le.entries)&&x(le[Symbol.iterator])),B=le=>Object.prototype.toString.call(le).slice(8,-1).toLowerCase();function S(le){if(B(le)!=="object")return!1;const me=Object.getPrototypeOf(le);return me==null?!0:me.constructor?.toString?.()===Object.toString()}var H=le=>String(le).replace(/\r|\n/g,(me,we,ae)=>me==="\r"&&ae[we+1]!==`
`||me===`
`&&ae[we-1]!=="\r"?`\r
`:me);function Y(le,me){if(typeof me=="string"){for(const[we,ae]of Object.entries(le))if(me.toLowerCase()===we.toLowerCase())return ae}}var W=le=>new Proxy(le,{get:(me,we)=>Y(me,we),has:(me,we)=>Y(me,we)!==void 0}),$={enableAdditionalHeaders:!1},k={writable:!1,configurable:!1},Q,re,C,I,K,ee,fe,_e,V,U,X,Z=class{constructor(le,me,we){if(f(this,V),f(this,Q,`\r
`),f(this,re),f(this,C),f(this,I,"-".repeat(2)),f(this,K,new TextEncoder),f(this,ee),f(this,fe),f(this,_e),!q(le))throw new TypeError("Expected first argument to be a FormData instance.");let ae;if(S(me)?we=me:ae=me,ae||(ae=`form-data-encoder-${E()}`),typeof ae!="string")throw new TypeError("Expected boundary argument to be a string.");if(we&&!S(we))throw new TypeError("Expected options argument to be an object.");g(this,fe,Array.from(le.entries())),g(this,_e,{...$,...we}),g(this,re,u(this,K).encode(u(this,Q))),g(this,C,u(this,re).byteLength),this.boundary=ae,this.contentType=`multipart/form-data; boundary=${this.boundary}`,g(this,ee,u(this,K).encode(`${u(this,I)}${this.boundary}${u(this,I)}${u(this,Q).repeat(2)}`));const oe={"Content-Type":this.contentType},ve=b(this,V,X).call(this);ve&&(this.contentLength=ve,oe["Content-Length"]=ve),this.headers=W(Object.freeze(oe)),Object.defineProperties(this,{boundary:k,contentType:k,contentLength:k,headers:k})}*values(){for(const[le,me]of u(this,fe)){const we=F(me)?me:u(this,K).encode(H(me));yield b(this,V,U).call(this,le,we),yield we,yield u(this,re)}yield u(this,ee)}async*encode(){for(const le of this.values())F(le)?yield*P(le.stream()):yield*y(le)}[Symbol.iterator](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};return Q=new WeakMap,re=new WeakMap,C=new WeakMap,I=new WeakMap,K=new WeakMap,ee=new WeakMap,fe=new WeakMap,_e=new WeakMap,V=new WeakSet,U=function(le,me){let we="";if(we+=`${u(this,I)}${this.boundary}${u(this,Q)}`,we+=`Content-Disposition: form-data; name="${j(le)}"`,F(me)&&(we+=`; filename="${j(me.name)}"${u(this,Q)}`,we+=`Content-Type: ${me.type||"application/octet-stream"}`),u(this,_e).enableAdditionalHeaders===!0){const ae=F(me)?me.size:me.byteLength;ae!=null&&!isNaN(ae)&&(we+=`${u(this,Q)}Content-Length: ${ae}`)}return u(this,K).encode(`${we}${u(this,Q).repeat(2)}`)},X=function(){let le=0;for(const[me,we]of u(this,fe)){const ae=F(we)?we:u(this,K).encode(H(we)),oe=F(ae)?ae.size:ae.byteLength;if(oe==null||isNaN(oe))return;le+=b(this,V,U).call(this,me,ae).byteLength,le+=oe,le+=u(this,C)}return String(le+u(this,ee).byteLength)},_C}var yC,H3;function Qge(){return H3||(H3=1,yC=typeof self=="object"?self.FormData:window.FormData),yC}var K3;function Xge(){if(K3)return mr;K3=1;var e=mr&&mr.__createBinding||(Object.create?(function(f,g,b,_){_===void 0&&(_=b);var p=Object.getOwnPropertyDescriptor(g,b);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(f,_,p)}):(function(f,g,b,_){_===void 0&&(_=b),f[_]=g[b]})),n=mr&&mr.__setModuleDefault||(Object.create?(function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}):function(f,g){f.default=g}),o=mr&&mr.__importStar||(function(){var f=function(g){return f=Object.getOwnPropertyNames||function(b){var _=[];for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(_[_.length]=p);return _},f(g)};return function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var _=f(g),p=0;p<_.length;p++)_[p]!=="default"&&e(b,g,_[p]);return n(b,g),b}})(),i=mr&&mr.__awaiter||function(f,g,b,_){function p(y){return y instanceof b?y:new b(function(v){v(y)})}return new(b||(b=Promise))(function(y,v){function E(A){try{x(_.next(A))}catch(M){v(M)}}function j(A){try{x(_.throw(A))}catch(M){v(M)}}function x(A){A.done?y(A.value):p(A.value).then(E,j)}x((_=_.apply(f,g||[])).next())})};Object.defineProperty(mr,"__esModule",{value:!0}),mr.WebFormData=mr.Node16FormData=mr.Node18FormData=void 0,mr.newFormData=r;const l=eM();function t(f){return typeof f=="object"&&f!=null&&"name"in f}function r(){return i(this,void 0,void 0,function*(){let f;return l.RUNTIME.type==="node"&&l.RUNTIME.parsedVersion!=null&&l.RUNTIME.parsedVersion>=18?f=new a:l.RUNTIME.type==="node"?f=new s:f=new u,yield f.setup(),f})}class a{setup(){return i(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>o(Jge()))).FormData})}append(g,b){var _;(_=this.fd)===null||_===void 0||_.append(g,b)}appendFile(g,b,_){return i(this,void 0,void 0,function*(){var p,y;_==null&&t(b)&&(_=b.name),b instanceof(yield Promise.resolve().then(()=>o(ab()))).Readable?(p=this.fd)===null||p===void 0||p.append(g,{type:void 0,name:_,[Symbol.toStringTag]:"File",stream(){return b}}):(y=this.fd)===null||y===void 0||y.append(g,b,_)})}getRequest(){return i(this,void 0,void 0,function*(){const g=new(yield Promise.resolve().then(()=>o(Zge()))).FormDataEncoder(this.fd);return{body:yield(yield Promise.resolve().then(()=>o(ab()))).Readable.from(g),headers:g.headers,duplex:"half"}})}}mr.Node18FormData=a;class s{setup(){return i(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>o(Qge()))).default})}append(g,b){var _;(_=this.fd)===null||_===void 0||_.append(g,b)}appendFile(g,b,_){return i(this,void 0,void 0,function*(){var p,y;_==null&&t(b)&&(_=b.name);let v;b instanceof(yield Promise.resolve().then(()=>o(ab()))).Readable?v=b:v=Buffer.from(yield b.arrayBuffer()),_==null?(p=this.fd)===null||p===void 0||p.append(g,v):(y=this.fd)===null||y===void 0||y.append(g,v,{filename:_})})}getRequest(){return{body:this.fd,headers:this.fd?this.fd.getHeaders():{}}}}mr.Node16FormData=s;class u{setup(){return i(this,void 0,void 0,function*(){this.fd=new FormData})}append(g,b){var _;(_=this.fd)===null||_===void 0||_.append(g,b)}appendFile(g,b,_){return i(this,void 0,void 0,function*(){var p;_==null&&t(b)&&(_=b.name),(p=this.fd)===null||p===void 0||p.append(g,new Blob([b]),_)})}getRequest(){return{body:this.fd,headers:{}}}}return mr.WebFormData=u,mr}var k3;function e_e(){return k3||(k3=1,(function(e){var n=cf&&cf.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),o=cf&&cf.__exportStar||function(l,t){for(var r in l)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&n(t,l,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.encodeAsFormParameter=void 0;var i=Yge();Object.defineProperty(e,"encodeAsFormParameter",{enumerable:!0,get:function(){return i.encodeAsFormParameter}}),o(Xge(),e)})(cf)),cf}var df={},Y3;function t_e(){return Y3||(Y3=1,(function(e){var n=df&&df.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=df&&df.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(QK(),e)})(df)),df}var ff={},hf={},vC={},Sv={},fg={},W3;function _r(){return W3||(W3=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.SchemaType=void 0,fg.SchemaType={BIGINT:"bigint",DATE:"date",ENUM:"enum",LIST:"list",STRING_LITERAL:"stringLiteral",BOOLEAN_LITERAL:"booleanLiteral",OBJECT:"object",ANY:"any",BOOLEAN:"boolean",NUMBER:"number",STRING:"string",UNKNOWN:"unknown",NEVER:"never",RECORD:"record",SET:"set",UNION:"union",UNDISCRIMINATED_UNION:"undiscriminatedUnion",NULLABLE:"nullable",OPTIONAL:"optional",OPTIONAL_NULLABLE:"optionalNullable"}),fg}var Ov={},J3;function Zr(){if(J3)return Ov;J3=1,Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.getErrorMessageForIncorrectType=e;function e(o,i){return`Expected ${i}. Received ${n(o)}.`}function n(o){if(Array.isArray(o))return"list";if(o===null)return"null";if(o instanceof BigInt)return"BigInt";switch(typeof o){case"string":return`"${o}"`;case"bigint":case"number":case"boolean":case"undefined":return`${o}`}return typeof o}return Ov}var Ev={},Z3;function uc(){if(Z3)return Ev;Z3=1,Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.maybeSkipValidation=e;function e(o){return Object.assign(Object.assign({},o),{json:n(o.json),parse:n(o.parse)})}function n(o){return(i,l)=>{const t=o(i,l),{skipValidation:r=!1}=l??{};return!t.ok&&r?(console.warn(["Failed to validate.",...t.errors.map(a=>"  - "+(a.path.length>0?`${a.path.join(".")}: ${a.message}`:a.message))].join(`
`)),{ok:!0,value:i}):t}}return Ev}var bC={},$c={},hg={},Rv={},Q3;function rk(){if(Q3)return Rv;Q3=1,Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.stringifyValidationError=e;function e(n){return n.path.length===0?n.message:`${n.path.join(" -> ")}: ${n.message}`}return Rv}var X3;function ak(){if(X3)return hg;X3=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.JsonError=void 0;const e=rk();let n=class nk extends Error{constructor(i){super(i.map(e.stringifyValidationError).join("; ")),this.errors=i,Object.setPrototypeOf(this,nk.prototype)}};return hg.JsonError=n,hg}var pg={},e$;function ok(){if(e$)return pg;e$=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.ParseError=void 0;const e=rk();let n=class ik extends Error{constructor(i){super(i.map(e.stringifyValidationError).join("; ")),this.errors=i,Object.setPrototypeOf(this,ik.prototype)}};return pg.ParseError=n,pg}var t$;function r_e(){if(t$)return $c;t$=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.getSchemaUtils=i,$c.nullable=l,$c.optional=t,$c.optionalNullable=r,$c.transform=a;const e=_r(),n=ak(),o=ok();function i(s){return{nullable:()=>l(s),optional:()=>t(s),optionalNullable:()=>r(s),transform:u=>a(s,u),parseOrThrow:(u,f)=>{const g=s.parse(u,f);if(g.ok)return g.value;throw new o.ParseError(g.errors)},jsonOrThrow:(u,f)=>{const g=s.json(u,f);if(g.ok)return g.value;throw new n.JsonError(g.errors)}}}function l(s){const u={parse:(f,g)=>f==null?{ok:!0,value:null}:s.parse(f,g),json:(f,g)=>f==null?{ok:!0,value:null}:s.json(f,g),getType:()=>e.SchemaType.NULLABLE};return Object.assign(Object.assign({},u),i(u))}function t(s){const u={parse:(f,g)=>f==null?{ok:!0,value:void 0}:s.parse(f,g),json:(f,g)=>g?.omitUndefined&&f===void 0?{ok:!0,value:void 0}:f==null?{ok:!0,value:null}:s.json(f,g),getType:()=>e.SchemaType.OPTIONAL};return Object.assign(Object.assign({},u),i(u))}function r(s){const u={parse:(f,g)=>f===void 0?{ok:!0,value:void 0}:f===null?{ok:!0,value:null}:s.parse(f,g),json:(f,g)=>f===void 0?{ok:!0,value:void 0}:f===null?{ok:!0,value:null}:s.json(f,g),getType:()=>e.SchemaType.OPTIONAL_NULLABLE};return Object.assign(Object.assign({},u),i(u))}function a(s,u){const f={parse:(g,b)=>{const _=s.parse(g,b);return _.ok?{ok:!0,value:u.transform(_.value)}:_},json:(g,b)=>{const _=u.untransform(g);return s.json(_,b)},getType:()=>s.getType()};return Object.assign(Object.assign({},f),i(f))}return $c}var r$;function Sn(){return r$||(r$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=e.JsonError=e.transform=e.optional=e.getSchemaUtils=void 0;var n=r_e();Object.defineProperty(e,"getSchemaUtils",{enumerable:!0,get:function(){return n.getSchemaUtils}}),Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return n.optional}}),Object.defineProperty(e,"transform",{enumerable:!0,get:function(){return n.transform}});var o=ak();Object.defineProperty(e,"JsonError",{enumerable:!0,get:function(){return o.JsonError}});var i=ok();Object.defineProperty(e,"ParseError",{enumerable:!0,get:function(){return i.ParseError}})})(bC)),bC}var n$;function n_e(){if(n$)return Sv;n$=1,Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.bigint=l;const e=_r(),n=Zr(),o=uc(),i=Sn();function l(){const t={parse:(r,{breadcrumbsPrefix:a=[]}={})=>typeof r=="bigint"?{ok:!0,value:r}:typeof r=="number"?{ok:!0,value:BigInt(r)}:{ok:!1,errors:[{path:a,message:(0,n.getErrorMessageForIncorrectType)(r,"bigint | number")}]},json:(r,{breadcrumbsPrefix:a=[]}={})=>typeof r!="bigint"?{ok:!1,errors:[{path:a,message:(0,n.getErrorMessageForIncorrectType)(r,"bigint")}]}:{ok:!0,value:r},getType:()=>e.SchemaType.BIGINT};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(t)),(0,i.getSchemaUtils)(t))}return Sv}var a$;function a_e(){return a$||(a$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bigint=void 0;var n=n_e();Object.defineProperty(e,"bigint",{enumerable:!0,get:function(){return n.bigint}})})(vC)),vC}var wC={},jv={},i$;function i_e(){if(i$)return jv;i$=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.date=t;const e=_r(),n=Zr(),o=uc(),i=Sn(),l=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function t(){const r={parse:(a,{breadcrumbsPrefix:s=[]}={})=>typeof a!="string"?{ok:!1,errors:[{path:s,message:(0,n.getErrorMessageForIncorrectType)(a,"string")}]}:l.test(a)?{ok:!0,value:new Date(a)}:{ok:!1,errors:[{path:s,message:(0,n.getErrorMessageForIncorrectType)(a,"ISO 8601 date string")}]},json:(a,{breadcrumbsPrefix:s=[]}={})=>a instanceof Date?{ok:!0,value:a.toISOString()}:{ok:!1,errors:[{path:s,message:(0,n.getErrorMessageForIncorrectType)(a,"Date object")}]},getType:()=>e.SchemaType.DATE};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(r)),(0,i.getSchemaUtils)(r))}return jv}var o$;function o_e(){return o$||(o$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.date=void 0;var n=i_e();Object.defineProperty(e,"date",{enumerable:!0,get:function(){return n.date}})})(wC)),wC}var SC={},xv={},Cv={},s$;function cc(){if(s$)return Cv;s$=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.createIdentitySchemaCreator=o;const e=Sn(),n=uc();function o(i,l){return()=>{const t={parse:l,json:l,getType:()=>i};return Object.assign(Object.assign({},(0,n.maybeSkipValidation)(t)),(0,e.getSchemaUtils)(t))}}return Cv}var l$;function s_e(){if(l$)return xv;l$=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.enum_=i;const e=_r(),n=cc(),o=Zr();function i(l){const t=new Set(l);return(0,n.createIdentitySchemaCreator)(e.SchemaType.ENUM,(a,{allowUnrecognizedEnumValues:s,breadcrumbsPrefix:u=[]}={})=>typeof a!="string"?{ok:!1,errors:[{path:u,message:(0,o.getErrorMessageForIncorrectType)(a,"string")}]}:!t.has(a)&&!s?{ok:!1,errors:[{path:u,message:(0,o.getErrorMessageForIncorrectType)(a,"enum")}]}:{ok:!0,value:a})()}return xv}var u$;function sk(){return u$||(u$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enum_=void 0;var n=s_e();Object.defineProperty(e,"enum_",{enumerable:!0,get:function(){return n.enum_}})})(SC)),SC}var OC={},Vh={},c$;function lk(){if(c$)return Vh;c$=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.lazy=n,Vh.constructLazyBaseSchema=o,Vh.getMemoizedSchema=i;const e=Sn();function n(l){const t=o(l);return Object.assign(Object.assign({},t),(0,e.getSchemaUtils)(t))}function o(l){return{parse:(t,r)=>i(l).parse(t,r),json:(t,r)=>i(l).json(t,r),getType:()=>i(l).getType()}}function i(l){const t=l;return t.__zurg_memoized==null&&(t.__zurg_memoized=l()),t.__zurg_memoized}return Vh}var Tv={},EC={},mg={},Mv={},d$;function uk(){if(d$)return Mv;d$=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.entries=e;function e(n){return Object.entries(n)}return Mv}var Pv={},f$;function ck(){if(f$)return Pv;f$=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.filterObject=e;function e(n,o){const i=new Set(o);return Object.entries(n).reduce((l,[t,r])=>(i.has(t)&&(l[t]=r),l),{})}return Pv}var Av={},h$;function o0(){if(h$)return Av;h$=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.isPlainObject=e;function e(n){if(typeof n!="object"||n===null)return!1;if(Object.getPrototypeOf(n)===null)return!0;let o=n;for(;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(n)===o}return Av}var Nv={},p$;function dk(){if(p$)return Nv;p$=1,Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.keys=e;function e(n){return Object.keys(n)}return Nv}var Dv={},m$;function l_e(){if(m$)return Dv;m$=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.partition=e;function e(n,o){const i=[],l=[];for(const t of n)o(t)?i.push(t):l.push(t);return[i,l]}return Dv}var RC={},gg={},g$;function u_e(){if(g$)return gg;g$=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.getObjectLikeUtils=l,gg.withParsedProperties=t;const e=ck(),n=Zr(),o=o0(),i=Sn();function l(r){return{withParsedProperties:a=>t(r,a)}}function t(r,a){const s={parse:(u,f)=>{const g=r.parse(u,f);if(!g.ok)return g;const b=Object.entries(a).reduce((_,[p,y])=>Object.assign(Object.assign({},_),{[p]:typeof y=="function"?y(g.value):y}),{});return{ok:!0,value:Object.assign(Object.assign({},g.value),b)}},json:(u,f)=>{var g;if(!(0,o.isPlainObject)(u))return{ok:!1,errors:[{path:(g=f?.breadcrumbsPrefix)!==null&&g!==void 0?g:[],message:(0,n.getErrorMessageForIncorrectType)(u,"object")}]};const b=new Set(Object.keys(a)),_=(0,e.filterObject)(u,Object.keys(u).filter(p=>!b.has(p)));return r.json(_,f)},getType:()=>r.getType()};return Object.assign(Object.assign(Object.assign({},s),(0,i.getSchemaUtils)(s)),l(s))}return gg}var _$;function s0(){return _$||(_$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withParsedProperties=e.getObjectLikeUtils=void 0;var n=u_e();Object.defineProperty(e,"getObjectLikeUtils",{enumerable:!0,get:function(){return n.getObjectLikeUtils}}),Object.defineProperty(e,"withParsedProperties",{enumerable:!0,get:function(){return n.withParsedProperties}})})(RC)),RC}var _g={},y$;function fk(){if(y$)return _g;y$=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.property=e,_g.isProperty=n;function e(o,i){return{rawKey:o,valueSchema:i,isProperty:!0}}function n(o){return o.isProperty}return _g}var v$;function hk(){if(v$)return mg;v$=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.object=g,mg.getObjectUtils=_;const e=_r(),n=uk(),o=ck(),i=Zr(),l=o0(),t=dk(),r=uc(),a=l_e(),s=s0(),u=Sn(),f=fk();function g(E){const j={_getRawProperties:()=>Object.entries(E).map(([x,A])=>(0,f.isProperty)(A)?A.rawKey:x),_getParsedProperties:()=>(0,t.keys)(E),parse:(x,A)=>{const M={},T=[];for(const[D,P]of(0,n.entries)(E)){const F=(0,f.isProperty)(P)?P.rawKey:D,q=(0,f.isProperty)(P)?P.valueSchema:P,B={rawKey:F,parsedKey:D,valueSchema:q};M[F]=B,y(q)&&T.push(F)}return b({value:x,requiredKeys:T,getProperty:D=>{const P=M[D];if(P!=null)return{transformedKey:P.parsedKey,transform:F=>{var q;return P.valueSchema.parse(F,Object.assign(Object.assign({},A),{breadcrumbsPrefix:[...(q=A?.breadcrumbsPrefix)!==null&&q!==void 0?q:[],D]}))}}},unrecognizedObjectKeys:A?.unrecognizedObjectKeys,skipValidation:A?.skipValidation,breadcrumbsPrefix:A?.breadcrumbsPrefix,omitUndefined:A?.omitUndefined})},json:(x,A)=>{const M=[];for(const[T,D]of(0,n.entries)(E)){const P=(0,f.isProperty)(D)?D.valueSchema:D;y(P)&&M.push(T)}return b({value:x,requiredKeys:M,getProperty:T=>{const D=E[T];if(D!=null)return(0,f.isProperty)(D)?{transformedKey:D.rawKey,transform:P=>{var F;return D.valueSchema.json(P,Object.assign(Object.assign({},A),{breadcrumbsPrefix:[...(F=A?.breadcrumbsPrefix)!==null&&F!==void 0?F:[],T]}))}}:{transformedKey:T,transform:P=>{var F;return D.json(P,Object.assign(Object.assign({},A),{breadcrumbsPrefix:[...(F=A?.breadcrumbsPrefix)!==null&&F!==void 0?F:[],T]}))}}},unrecognizedObjectKeys:A?.unrecognizedObjectKeys,skipValidation:A?.skipValidation,breadcrumbsPrefix:A?.breadcrumbsPrefix,omitUndefined:A?.omitUndefined})},getType:()=>e.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},(0,r.maybeSkipValidation)(j)),(0,u.getSchemaUtils)(j)),(0,s.getObjectLikeUtils)(j)),_(j))}function b({value:E,requiredKeys:j,getProperty:x,unrecognizedObjectKeys:A="fail",skipValidation:M=!1,breadcrumbsPrefix:T=[]}){if(!(0,l.isPlainObject)(E))return{ok:!1,errors:[{path:T,message:(0,i.getErrorMessageForIncorrectType)(E,"object")}]};const D=new Set(j),P=[],F={};for(const[q,B]of Object.entries(E)){const S=x(q);if(S!=null){D.delete(q);const H=S.transform(B);H.ok?F[S.transformedKey]=H.value:(F[q]=B,P.push(...H.errors))}else switch(A){case"fail":P.push({path:[...T,q],message:`Unexpected key "${q}"`});break;case"strip":break;case"passthrough":F[q]=B;break}}return P.push(...j.filter(q=>D.has(q)).map(q=>({path:T,message:`Missing required key "${q}"`}))),P.length===0||M?{ok:!0,value:F}:{ok:!1,errors:P}}function _(E){return{extend:j=>{const x={_getParsedProperties:()=>[...E._getParsedProperties(),...j._getParsedProperties()],_getRawProperties:()=>[...E._getRawProperties(),...j._getRawProperties()],parse:(A,M)=>p({extensionKeys:j._getRawProperties(),value:A,transformBase:T=>E.parse(T,M),transformExtension:T=>j.parse(T,M)}),json:(A,M)=>p({extensionKeys:j._getParsedProperties(),value:A,transformBase:T=>E.json(T,M),transformExtension:T=>j.json(T,M)}),getType:()=>e.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},x),(0,u.getSchemaUtils)(x)),(0,s.getObjectLikeUtils)(x)),_(x))},passthrough:()=>{const j={_getParsedProperties:()=>E._getParsedProperties(),_getRawProperties:()=>E._getRawProperties(),parse:(x,A)=>{const M=E.parse(x,Object.assign(Object.assign({},A),{unrecognizedObjectKeys:"passthrough"}));return M.ok?{ok:!0,value:Object.assign(Object.assign({},x),M.value)}:M},json:(x,A)=>{const M=E.json(x,Object.assign(Object.assign({},A),{unrecognizedObjectKeys:"passthrough"}));return M.ok?{ok:!0,value:Object.assign(Object.assign({},x),M.value)}:M},getType:()=>e.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},j),(0,u.getSchemaUtils)(j)),(0,s.getObjectLikeUtils)(j)),_(j))}}}function p({extensionKeys:E,value:j,transformBase:x,transformExtension:A}){const M=new Set(E),[T,D]=(0,a.partition)((0,t.keys)(j),q=>M.has(q)),P=x((0,o.filterObject)(j,D)),F=A((0,o.filterObject)(j,T));return P.ok&&F.ok?{ok:!0,value:Object.assign(Object.assign({},P.value),F.value)}:{ok:!1,errors:[...P.ok?[]:P.errors,...F.ok?[]:F.errors]}}function y(E){return!v(E)}function v(E){switch(E.getType()){case e.SchemaType.ANY:case e.SchemaType.UNKNOWN:case e.SchemaType.OPTIONAL:case e.SchemaType.OPTIONAL_NULLABLE:return!0;default:return!1}}return mg}var Iv={},b$;function c_e(){if(b$)return Iv;b$=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.objectWithoutOptionalProperties=n;const e=hk();function n(o){return(0,e.object)(o)}return Iv}var w$;function pk(){return w$||(w$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.property=e.isProperty=e.objectWithoutOptionalProperties=e.object=e.getObjectUtils=void 0;var n=hk();Object.defineProperty(e,"getObjectUtils",{enumerable:!0,get:function(){return n.getObjectUtils}}),Object.defineProperty(e,"object",{enumerable:!0,get:function(){return n.object}});var o=c_e();Object.defineProperty(e,"objectWithoutOptionalProperties",{enumerable:!0,get:function(){return o.objectWithoutOptionalProperties}});var i=fk();Object.defineProperty(e,"isProperty",{enumerable:!0,get:function(){return i.isProperty}}),Object.defineProperty(e,"property",{enumerable:!0,get:function(){return i.property}})})(EC)),EC}var S$;function d_e(){if(S$)return Tv;S$=1,Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.lazyObject=l;const e=pk(),n=s0(),o=Sn(),i=lk();function l(t){const r=Object.assign(Object.assign({},(0,i.constructLazyBaseSchema)(t)),{_getRawProperties:()=>(0,i.getMemoizedSchema)(t)._getRawProperties(),_getParsedProperties:()=>(0,i.getMemoizedSchema)(t)._getParsedProperties()});return Object.assign(Object.assign(Object.assign(Object.assign({},r),(0,o.getSchemaUtils)(r)),(0,n.getObjectLikeUtils)(r)),(0,e.getObjectUtils)(r))}return Tv}var O$;function f_e(){return O$||(O$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lazyObject=e.lazy=void 0;var n=lk();Object.defineProperty(e,"lazy",{enumerable:!0,get:function(){return n.lazy}});var o=d_e();Object.defineProperty(e,"lazyObject",{enumerable:!0,get:function(){return o.lazyObject}})})(OC)),OC}var jC={},zv={},E$;function h_e(){if(E$)return zv;E$=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.list=l;const e=_r(),n=Zr(),o=uc(),i=Sn();function l(r){const a={parse:(s,u)=>t(s,(f,g)=>{var b;return r.parse(f,Object.assign(Object.assign({},u),{breadcrumbsPrefix:[...(b=u?.breadcrumbsPrefix)!==null&&b!==void 0?b:[],`[${g}]`]}))}),json:(s,u)=>t(s,(f,g)=>{var b;return r.json(f,Object.assign(Object.assign({},u),{breadcrumbsPrefix:[...(b=u?.breadcrumbsPrefix)!==null&&b!==void 0?b:[],`[${g}]`]}))}),getType:()=>e.SchemaType.LIST};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(a)),(0,i.getSchemaUtils)(a))}function t(r,a){return Array.isArray(r)?r.map((u,f)=>a(u,f)).reduce((u,f)=>{if(u.ok&&f.ok)return{ok:!0,value:[...u.value,f.value]};const g=[];return u.ok||g.push(...u.errors),f.ok||g.push(...f.errors),{ok:!1,errors:g}},{ok:!0,value:[]}):{ok:!1,errors:[{message:(0,n.getErrorMessageForIncorrectType)(r,"list"),path:[]}]}}return zv}var R$;function mk(){return R$||(R$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.list=void 0;var n=h_e();Object.defineProperty(e,"list",{enumerable:!0,get:function(){return n.list}})})(jC)),jC}var xC={},Bv={},j$;function p_e(){if(j$)return Bv;j$=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.booleanLiteral=i;const e=_r(),n=cc(),o=Zr();function i(l){return(0,n.createIdentitySchemaCreator)(e.SchemaType.BOOLEAN_LITERAL,(r,{breadcrumbsPrefix:a=[]}={})=>r===l?{ok:!0,value:l}:{ok:!1,errors:[{path:a,message:(0,o.getErrorMessageForIncorrectType)(r,`${l.toString()}`)}]})()}return Bv}var qv={},x$;function m_e(){if(x$)return qv;x$=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.stringLiteral=i;const e=_r(),n=cc(),o=Zr();function i(l){return(0,n.createIdentitySchemaCreator)(e.SchemaType.STRING_LITERAL,(r,{breadcrumbsPrefix:a=[]}={})=>r===l?{ok:!0,value:l}:{ok:!1,errors:[{path:a,message:(0,o.getErrorMessageForIncorrectType)(r,`"${l}"`)}]})()}return qv}var C$;function g_e(){return C$||(C$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringLiteral=e.booleanLiteral=void 0;var n=p_e();Object.defineProperty(e,"booleanLiteral",{enumerable:!0,get:function(){return n.booleanLiteral}});var o=m_e();Object.defineProperty(e,"stringLiteral",{enumerable:!0,get:function(){return o.stringLiteral}})})(xC)),xC}var CC={},yg={},T$;function __e(){if(T$)return yg;T$=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.any=void 0;const e=_r(),n=cc();return yg.any=(0,n.createIdentitySchemaCreator)(e.SchemaType.ANY,o=>({ok:!0,value:o})),yg}var vg={},M$;function y_e(){if(M$)return vg;M$=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.boolean=void 0;const e=_r(),n=cc(),o=Zr();return vg.boolean=(0,n.createIdentitySchemaCreator)(e.SchemaType.BOOLEAN,(i,{breadcrumbsPrefix:l=[]}={})=>typeof i=="boolean"?{ok:!0,value:i}:{ok:!1,errors:[{path:l,message:(0,o.getErrorMessageForIncorrectType)(i,"boolean")}]}),vg}var bg={},P$;function v_e(){if(P$)return bg;P$=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.never=void 0;const e=_r(),n=cc();return bg.never=(0,n.createIdentitySchemaCreator)(e.SchemaType.NEVER,(o,{breadcrumbsPrefix:i=[]}={})=>({ok:!1,errors:[{path:i,message:"Expected never"}]})),bg}var wg={},A$;function b_e(){if(A$)return wg;A$=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.number=void 0;const e=_r(),n=cc(),o=Zr();return wg.number=(0,n.createIdentitySchemaCreator)(e.SchemaType.NUMBER,(i,{breadcrumbsPrefix:l=[]}={})=>typeof i=="number"?{ok:!0,value:i}:{ok:!1,errors:[{path:l,message:(0,o.getErrorMessageForIncorrectType)(i,"number")}]}),wg}var Sg={},N$;function w_e(){if(N$)return Sg;N$=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.string=void 0;const e=_r(),n=cc(),o=Zr();return Sg.string=(0,n.createIdentitySchemaCreator)(e.SchemaType.STRING,(i,{breadcrumbsPrefix:l=[]}={})=>typeof i=="string"?{ok:!0,value:i}:{ok:!1,errors:[{path:l,message:(0,o.getErrorMessageForIncorrectType)(i,"string")}]}),Sg}var Og={},D$;function S_e(){if(D$)return Og;D$=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.unknown=void 0;const e=_r(),n=cc();return Og.unknown=(0,n.createIdentitySchemaCreator)(e.SchemaType.UNKNOWN,o=>({ok:!0,value:o})),Og}var I$;function O_e(){return I$||(I$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unknown=e.string=e.number=e.never=e.boolean=e.any=void 0;var n=__e();Object.defineProperty(e,"any",{enumerable:!0,get:function(){return n.any}});var o=y_e();Object.defineProperty(e,"boolean",{enumerable:!0,get:function(){return o.boolean}});var i=v_e();Object.defineProperty(e,"never",{enumerable:!0,get:function(){return i.never}});var l=b_e();Object.defineProperty(e,"number",{enumerable:!0,get:function(){return l.number}});var t=w_e();Object.defineProperty(e,"string",{enumerable:!0,get:function(){return t.string}});var r=S_e();Object.defineProperty(e,"unknown",{enumerable:!0,get:function(){return r.unknown}})})(CC)),CC}var TC={},Lv={},z$;function E_e(){if(z$)return Lv;z$=1,Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.record=r;const e=_r(),n=uk(),o=Zr(),i=o0(),l=uc(),t=Sn();function r(s,u){const f={parse:(g,b)=>a({value:g,isKeyNumeric:s.getType()===e.SchemaType.NUMBER,transformKey:_=>{var p;return s.parse(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(p=b?.breadcrumbsPrefix)!==null&&p!==void 0?p:[],`${_} (key)`]}))},transformValue:(_,p)=>{var y;return u.parse(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(y=b?.breadcrumbsPrefix)!==null&&y!==void 0?y:[],`${p}`]}))},breadcrumbsPrefix:b?.breadcrumbsPrefix}),json:(g,b)=>a({value:g,isKeyNumeric:s.getType()===e.SchemaType.NUMBER,transformKey:_=>{var p;return s.json(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(p=b?.breadcrumbsPrefix)!==null&&p!==void 0?p:[],`${_} (key)`]}))},transformValue:(_,p)=>{var y;return u.json(_,Object.assign(Object.assign({},b),{breadcrumbsPrefix:[...(y=b?.breadcrumbsPrefix)!==null&&y!==void 0?y:[],`${p}`]}))},breadcrumbsPrefix:b?.breadcrumbsPrefix}),getType:()=>e.SchemaType.RECORD};return Object.assign(Object.assign({},(0,l.maybeSkipValidation)(f)),(0,t.getSchemaUtils)(f))}function a({value:s,isKeyNumeric:u,transformKey:f,transformValue:g,breadcrumbsPrefix:b=[]}){return(0,i.isPlainObject)(s)?(0,n.entries)(s).reduce((_,[p,y])=>{if(y===void 0)return _;const v=_;let E=p;if(u){const M=p.length>0?Number(p):NaN;Number.isNaN(M)||(E=M)}const j=f(E),x=g(y,E);if(v.ok&&j.ok&&x.ok)return{ok:!0,value:Object.assign(Object.assign({},v.value),{[j.value]:x.value})};const A=[];return v.ok||A.push(...v.errors),j.ok||A.push(...j.errors),x.ok||A.push(...x.errors),{ok:!1,errors:A}},{ok:!0,value:{}}):{ok:!1,errors:[{path:b,message:(0,o.getErrorMessageForIncorrectType)(s,"object")}]}}return Lv}var B$;function R_e(){return B$||(B$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.record=void 0;var n=E_e();Object.defineProperty(e,"record",{enumerable:!0,get:function(){return n.record}})})(TC)),TC}var MC={},Uv={},q$;function j_e(){if(q$)return Uv;q$=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.set=t;const e=_r(),n=Zr(),o=uc(),i=mk(),l=Sn();function t(r){const a=(0,i.list)(r),s={parse:(u,f)=>{const g=a.parse(u,f);return g.ok?{ok:!0,value:new Set(g.value)}:g},json:(u,f)=>{var g;return u instanceof Set?a.json([...u],f):{ok:!1,errors:[{path:(g=f?.breadcrumbsPrefix)!==null&&g!==void 0?g:[],message:(0,n.getErrorMessageForIncorrectType)(u,"Set")}]}},getType:()=>e.SchemaType.SET};return Object.assign(Object.assign({},(0,o.maybeSkipValidation)(s)),(0,l.getSchemaUtils)(s))}return Uv}var L$;function x_e(){return L$||(L$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.set=void 0;var n=j_e();Object.defineProperty(e,"set",{enumerable:!0,get:function(){return n.set}})})(MC)),MC}var PC={},$v={},U$;function C_e(){if(U$)return $v;U$=1,Object.defineProperty($v,"__esModule",{value:!0}),$v.undiscriminatedUnion=i;const e=_r(),n=uc(),o=Sn();function i(t){const r={parse:(a,s)=>l((u,f)=>u.parse(a,f),t,s),json:(a,s)=>l((u,f)=>u.json(a,f),t,s),getType:()=>e.SchemaType.UNDISCRIMINATED_UNION};return Object.assign(Object.assign({},(0,n.maybeSkipValidation)(r)),(0,o.getSchemaUtils)(r))}function l(t,r,a){const s=[];for(const[u,f]of r.entries()){const g=t(f,Object.assign(Object.assign({},a),{skipValidation:!1}));if(g.ok)return g;for(const b of g.errors)s.push({path:b.path,message:`[Variant ${u}] ${b.message}`})}return{ok:!1,errors:s}}return $v}var $$;function T_e(){return $$||($$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.undiscriminatedUnion=void 0;var n=C_e();Object.defineProperty(e,"undiscriminatedUnion",{enumerable:!0,get:function(){return n.undiscriminatedUnion}})})(PC)),PC}var AC={},Fv={},F$;function M_e(){if(F$)return Fv;F$=1,Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.discriminant=e;function e(n,o){return{parsedDiscriminant:n,rawDiscriminant:o}}return Fv}var Gh={},V$;function P_e(){if(V$)return Gh;V$=1;var e=Gh&&Gh.__rest||function(g,b){var _={};for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&b.indexOf(p)<0&&(_[p]=g[p]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,p=Object.getOwnPropertySymbols(g);y<p.length;y++)b.indexOf(p[y])<0&&Object.prototype.propertyIsEnumerable.call(g,p[y])&&(_[p[y]]=g[p[y]]);return _};Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.union=u;const n=_r(),o=Zr(),i=o0(),l=dk(),t=uc(),r=sk(),a=s0(),s=Sn();function u(g,b){const _=typeof g=="string"?g:g.rawDiscriminant,p=typeof g=="string"?g:g.parsedDiscriminant,y=(0,r.enum_)((0,l.keys)(b)),v={parse:(E,j)=>f({value:E,discriminant:_,transformedDiscriminant:p,transformDiscriminantValue:x=>{var A;return y.parse(x,{allowUnrecognizedEnumValues:j?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(A=j?.breadcrumbsPrefix)!==null&&A!==void 0?A:[],_]})},getAdditionalPropertiesSchema:x=>b[x],allowUnrecognizedUnionMembers:j?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(x,A)=>A.parse(x,j),breadcrumbsPrefix:j?.breadcrumbsPrefix}),json:(E,j)=>f({value:E,discriminant:p,transformedDiscriminant:_,transformDiscriminantValue:x=>{var A;return y.json(x,{allowUnrecognizedEnumValues:j?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(A=j?.breadcrumbsPrefix)!==null&&A!==void 0?A:[],p]})},getAdditionalPropertiesSchema:x=>b[x],allowUnrecognizedUnionMembers:j?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(x,A)=>A.json(x,j),breadcrumbsPrefix:j?.breadcrumbsPrefix}),getType:()=>n.SchemaType.UNION};return Object.assign(Object.assign(Object.assign({},(0,t.maybeSkipValidation)(v)),(0,s.getSchemaUtils)(v)),(0,a.getObjectLikeUtils)(v))}function f({value:g,discriminant:b,transformedDiscriminant:_,transformDiscriminantValue:p,getAdditionalPropertiesSchema:y,allowUnrecognizedUnionMembers:v=!1,transformAdditionalProperties:E,breadcrumbsPrefix:j=[]}){if(!(0,i.isPlainObject)(g))return{ok:!1,errors:[{path:j,message:(0,o.getErrorMessageForIncorrectType)(g,"object")}]};const x=g,A=b,M=x[A],T=e(x,[typeof A=="symbol"?A:A+""]);if(M==null)return{ok:!1,errors:[{path:j,message:`Missing discriminant ("${b}")`}]};const D=p(M);if(!D.ok)return{ok:!1,errors:D.errors};const P=y(D.value);if(P==null)return v?{ok:!0,value:Object.assign({[_]:D.value},T)}:{ok:!1,errors:[{path:[...j,b],message:"Unexpected discriminant value"}]};const F=E(T,P);return F.ok?{ok:!0,value:Object.assign({[_]:M},F.value)}:F}return Gh}var G$;function A_e(){return G$||(G$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.union=e.discriminant=void 0;var n=M_e();Object.defineProperty(e,"discriminant",{enumerable:!0,get:function(){return n.discriminant}});var o=P_e();Object.defineProperty(e,"union",{enumerable:!0,get:function(){return o.union}})})(AC)),AC}var H$;function N_e(){return H$||(H$=1,(function(e){var n=hf&&hf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=hf&&hf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(a_e(),e),o(o_e(),e),o(sk(),e),o(f_e(),e),o(mk(),e),o(g_e(),e),o(pk(),e),o(s0(),e),o(O_e(),e),o(R_e(),e),o(Sn(),e),o(x_e(),e),o(T_e(),e),o(A_e(),e)})(hf)),hf}var K$;function D_e(){return K$||(K$=1,(function(e){var n=ff&&ff.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=ff&&ff.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(N_e(),e)})(ff)),ff}var NC={},Gr={},k$;function gk(){if(k$)return Gr;k$=1;var e=Gr&&Gr.__awaiter||function(s,u,f,g){function b(_){return _ instanceof f?_:new f(function(p){p(_)})}return new(f||(f=Promise))(function(_,p){function y(j){try{E(g.next(j))}catch(x){p(x)}}function v(j){try{E(g.throw(j))}catch(x){p(x)}}function E(j){j.done?_(j.value):b(j.value).then(y,v)}E((g=g.apply(s,u||[])).next())})},n=Gr&&Gr.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=s[Symbol.asyncIterator],f;return u?u.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),f={},g("next"),g("throw"),g("return"),f[Symbol.asyncIterator]=function(){return this},f);function g(_){f[_]=s[_]&&function(p){return new Promise(function(y,v){p=s[_](p),b(y,v,p.done,p.value)})}}function b(_,p,y,v){Promise.resolve(v).then(function(E){_({value:E,done:y})},p)}},o=Gr&&Gr.__await||function(s){return this instanceof o?(this.v=s,this):new o(s)},i=Gr&&Gr.__asyncGenerator||function(s,u,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=f.apply(s,u||[]),b,_=[];return b=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",p),b[Symbol.asyncIterator]=function(){return this},b;function p(M){return function(T){return Promise.resolve(T).then(M,x)}}function y(M,T){g[M]&&(b[M]=function(D){return new Promise(function(P,F){_.push([M,D,P,F])>1||v(M,D)})},T&&(b[M]=T(b[M])))}function v(M,T){try{E(g[M](T))}catch(D){A(_[0][3],D)}}function E(M){M.value instanceof o?Promise.resolve(M.value.v).then(j,x):A(_[0][2],M)}function j(M){v("next",M)}function x(M){v("throw",M)}function A(M,T){M(T),_.shift(),_.length&&v(_[0][0],_[0][1])}};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Stream=void 0,Gr.readableStreamAsyncIterable=a;const l=eM(),t="data:";let r=class{constructor({stream:u,parse:f,eventShape:g,signal:b}){this.controller=new AbortController,this.stream=u,this.parse=f,g.type==="sse"?(this.prefix=t,this.messageTerminator=`
`,this.streamTerminator=g.streamTerminator):this.messageTerminator=g.messageTerminator,b?.addEventListener("abort",()=>this.controller.abort()),typeof TextDecoder<"u"&&(this.decoder=new TextDecoder("utf-8"))}iterMessages(){return i(this,arguments,function*(){var f,g,b,_;this.controller.signal;const p=a(this.stream);let y="",v=!1;try{for(var E=!0,j=n(p),x;x=yield o(j.next()),f=x.done,!f;E=!0){_=x.value,E=!1;const A=_;y+=this.decodeChunk(A);let M;for(;(M=y.indexOf(this.messageTerminator))>=0;){let T=y.slice(0,M);if(y=y.slice(M+this.messageTerminator.length),!T.trim())continue;if(!v&&this.prefix!=null){const P=T.indexOf(this.prefix);if(P===-1)continue;v=!0,T=T.slice(P+this.prefix.length)}if(this.streamTerminator!=null&&T.includes(this.streamTerminator))return yield o(void 0);const D=yield o(this.parse(JSON.parse(T)));yield yield o(D),v=!1}}}catch(A){g={error:A}}finally{try{!E&&!f&&(b=j.return)&&(yield o(b.call(j)))}finally{if(g)throw g.error}}})}[Symbol.asyncIterator](){return i(this,arguments,function*(){var f,g,b,_;try{for(var p=!0,y=n(this.iterMessages()),v;v=yield o(y.next()),f=v.done,!f;p=!0)_=v.value,p=!1,yield yield o(_)}catch(E){g={error:E}}finally{try{!p&&!f&&(b=y.return)&&(yield o(b.call(y)))}finally{if(g)throw g.error}}})}decodeChunk(u){let f="";return this.decoder!=null?f+=this.decoder.decode(u,{stream:!0}):l.RUNTIME.type==="node"&&typeof u<"u"&&(f+=Buffer.isBuffer(u)?u:Buffer.from(u)),f}};Gr.Stream=r;function a(s){if(s[Symbol.asyncIterator])return s;const u=s.getReader();return{next(){return e(this,void 0,void 0,function*(){try{const f=yield u.read();return f?.done&&u.releaseLock(),f}catch(f){throw u.releaseLock(),f}})},return(){return e(this,void 0,void 0,function*(){const f=u.cancel();return u.releaseLock(),yield f,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}return Gr}var Y$;function I_e(){return Y$||(Y$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stream=void 0;var n=gk();Object.defineProperty(e,"Stream",{enumerable:!0,get:function(){return n.Stream}})})(NC)),NC}var DC={},Vv={},W$;function z_e(){if(W$)return Vv;W$=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.encodePathParam=e;function e(n){if(n===null)return"null";switch(typeof n){case"undefined":return"undefined";case"string":case"number":case"boolean":break;default:n=String(n);break}return encodeURIComponent(n)}return Vv}var Gv={},J$;function B_e(){if(J$)return Gv;J$=1,Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.join=e;function e(l,...t){if(!l)return"";if(t.length===0)return l;if(l.includes("://")){let r;try{r=new URL(l)}catch{return n(l,...t)}const a=t[t.length-1],s=a?.endsWith("/");for(const u of t){const f=i(u);f&&(r.pathname=o(r.pathname,f))}return s&&!r.pathname.endsWith("/")&&(r.pathname+="/"),r.toString()}return n(l,...t)}function n(l,...t){if(t.length===0)return l;let r=l;const a=t[t.length-1],s=a?.endsWith("/");for(const u of t){const f=i(u);f&&(r=o(r,f))}return s&&!r.endsWith("/")&&(r+="/"),r}function o(l,t){return l.endsWith("/")?l+t:`${l}/${t}`}function i(l){if(!l)return l;let t=0,r=l.length;return l.startsWith("/")&&(t=1),l.endsWith("/")&&(r=l.length-1),t===0&&r===l.length?l:l.slice(t,r)}return Gv}var Z$;function q_e(){return Z$||(Z$=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toQueryString=e.join=e.encodePathParam=void 0;var n=z_e();Object.defineProperty(e,"encodePathParam",{enumerable:!0,get:function(){return n.encodePathParam}});var o=B_e();Object.defineProperty(e,"join",{enumerable:!0,get:function(){return o.join}});var i=i0();Object.defineProperty(e,"toQueryString",{enumerable:!0,get:function(){return i.toQueryString}})})(DC)),DC}var Q$;function ie(){return Q$||(Q$=1,(function(e){var n=ca&&ca.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=ca&&ca.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=ca&&ca.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)},l=ca&&ca.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&n(a,r,s[u]);return o(a,r),a}})();Object.defineProperty(e,"__esModule",{value:!0}),e.url=e.serialization=e.logging=e.file=void 0,i(Tge(),e),i(JK(),e),i(Gge(),e),e.file=l(kge()),i(e_e(),e),e.logging=l(t_e()),i(eM(),e),e.serialization=l(D_e()),i(I_e(),e),e.url=l(q_e())})(ca)),ca}var gr={},X$;function L_e(){if(X$)return gr;X$=1;var e=gr&&gr.__awaiter||function(p,y,v,E){function j(x){return x instanceof v?x:new v(function(A){A(x)})}return new(v||(v=Promise))(function(x,A){function M(P){try{D(E.next(P))}catch(F){A(F)}}function T(P){try{D(E.throw(P))}catch(F){A(F)}}function D(P){P.done?x(P.value):j(P.value).then(M,T)}D((E=E.apply(p,y||[])).next())})},n=gr&&gr.__asyncValues||function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=p[Symbol.asyncIterator],v;return y?y.call(p):(p=typeof __values=="function"?__values(p):p[Symbol.iterator](),v={},E("next"),E("throw"),E("return"),v[Symbol.asyncIterator]=function(){return this},v);function E(x){v[x]=p[x]&&function(A){return new Promise(function(M,T){A=p[x](A),j(M,T,A.done,A.value)})}}function j(x,A,M,T){Promise.resolve(T).then(function(D){x({value:D,done:M})},A)}},o=gr&&gr.__await||function(p){return this instanceof o?(this.v=p,this):new o(p)},i=gr&&gr.__asyncGenerator||function(p,y,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=v.apply(p,y||[]),j,x=[];return j=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),M("next"),M("throw"),M("return",A),j[Symbol.asyncIterator]=function(){return this},j;function A(B){return function(S){return Promise.resolve(S).then(B,F)}}function M(B,S){E[B]&&(j[B]=function(H){return new Promise(function(Y,W){x.push([B,H,Y,W])>1||T(B,H)})},S&&(j[B]=S(j[B])))}function T(B,S){try{D(E[B](S))}catch(H){q(x[0][3],H)}}function D(B){B.value instanceof o?Promise.resolve(B.value.v).then(P,F):q(x[0][2],B)}function P(B){T("next",B)}function F(B){T("throw",B)}function q(B,S){B(S),x.shift(),x.length&&T(x[0][0],x[0][1])}};Object.defineProperty(gr,"__esModule",{value:!0}),gr.LineDecoder=gr.StreamUtils=void 0,gr._iterSSEMessages=r,gr._decodeChunks=g,gr.readableStreamAsyncIterable=_;const l=Wt();class t{constructor(y,v){this.iterator=y,this.controller=v}static fromSSEResponse(y,v){let E=!1;function j(){return i(this,arguments,function*(){var A,M,T,D;if(E)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");E=!0;let P=!1;try{try{for(var F=!0,q=n(r(y,v)),B;B=yield o(q.next()),A=B.done,!A;F=!0){D=B.value,F=!1;const S=D;if(!P){if(S.data.startsWith("[DONE]")){P=!0;continue}if(S.event===null){let H;try{H=JSON.parse(S.data)}catch(Y){throw console.error("Could not parse message into JSON:",S.data),console.error("From chunk:",S.raw),Y}if(H&&H.error)throw new l.CohereError({message:`Error: ${H.error}`});yield yield o(H)}else{let H;try{H=JSON.parse(S.data)}catch(Y){throw console.error("Could not parse message into JSON:",S.data),console.error("From chunk:",S.raw),Y}if(S.event=="error")throw new l.CohereError({message:`Error: ${H.message}, ${H.error}`});yield yield o({event:S.event,data:H})}}}}catch(S){M={error:S}}finally{try{!F&&!A&&(T=q.return)&&(yield o(T.call(q)))}finally{if(M)throw M.error}}P=!0}catch(S){if(S instanceof Error&&S.name==="AbortError")return yield o(void 0);throw S}finally{P||v?.abort()}})}return new t(j,v)}static fromReadableStream(y,v){let E=!1;function j(){return i(this,arguments,function*(){var M,T,D,P;const F=new f,q=_(y);try{for(var B=!0,S=n(q),H;H=yield o(S.next()),M=H.done,!M;B=!0){P=H.value,B=!1;const Y=P;for(const W of F.decode(Y))yield yield o(W)}}catch(Y){T={error:Y}}finally{try{!B&&!M&&(D=S.return)&&(yield o(D.call(S)))}finally{if(T)throw T.error}}for(const Y of F.flush())yield yield o(Y)})}function x(){return i(this,arguments,function*(){var M,T,D,P;if(E)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");E=!0;let F=!1;try{try{for(var q=!0,B=n(j()),S;S=yield o(B.next()),M=S.done,!M;q=!0){P=S.value,q=!1;const H=P;F||H&&(yield yield o(JSON.parse(H)))}}catch(H){T={error:H}}finally{try{!q&&!M&&(D=B.return)&&(yield o(D.call(B)))}finally{if(T)throw T.error}}F=!0}catch(H){if(H instanceof Error&&H.name==="AbortError")return yield o(void 0);throw H}finally{F||v?.abort()}})}return new t(x,v)}[Symbol.asyncIterator](){return this.iterator()}tee(){const y=[],v=[],E=this.iterator(),j=x=>({next:()=>{if(x.length===0){const A=E.next();y.push(A),v.push(A)}return x.shift()}});return[new t(()=>j(y),this.controller),new t(()=>j(v),this.controller)]}toReadableStream(){const y=this;let v;const E=new TextEncoder;return new ReadableStream({start(){return e(this,void 0,void 0,function*(){v=y[Symbol.asyncIterator]()})},pull(j){return e(this,void 0,void 0,function*(){try{const{value:x,done:A}=yield v.next();if(A)return j.close();const M=E.encode(JSON.stringify(x)+`
`);j.enqueue(M)}catch(x){j.error(x)}})},cancel(){return e(this,void 0,void 0,function*(){var j;yield(j=v.return)===null||j===void 0?void 0:j.call(v)})}})}}gr.StreamUtils=t;function r(p,y){return i(this,arguments,function*(){var E,j,x,A;if(!p.body)throw y?.abort(),new l.CohereError({message:"Attempted to iterate over a response with no body"});const M=new u,T=new f,D=_(p.body);try{for(var P=!0,F=n(a(D)),q;q=yield o(F.next()),E=q.done,!E;P=!0){A=q.value,P=!1;const B=A;for(const S of T.decode(B)){const H=M.decode(S);H&&(yield yield o(H))}}}catch(B){j={error:B}}finally{try{!P&&!E&&(x=F.return)&&(yield o(x.call(F)))}finally{if(j)throw j.error}}for(const B of T.flush()){const S=M.decode(B);S&&(yield yield o(S))}})}function a(p){return i(this,arguments,function*(){var v,E,j,x;let A=new Uint8Array;try{for(var M=!0,T=n(p),D;D=yield o(T.next()),v=D.done,!v;M=!0){x=D.value,M=!1;const P=x;if(P==null)continue;const F=P instanceof ArrayBuffer?new Uint8Array(P):typeof P=="string"?new TextEncoder().encode(P):P;let q=new Uint8Array(A.length+F.length);q.set(A),q.set(F,A.length),A=q;let B;for(;(B=s(A))!==-1;)yield yield o(A.slice(0,B)),A=A.slice(B)}}catch(P){E={error:P}}finally{try{!M&&!v&&(j=T.return)&&(yield o(j.call(T)))}finally{if(E)throw E.error}}A.length>0&&(yield yield o(A))})}function s(p){for(let E=0;E<p.length-2;E++){if(p[E]===10&&p[E+1]===10||p[E]===13&&p[E+1]===13)return E+2;if(p[E]===13&&p[E+1]===10&&E+3<p.length&&p[E+2]===13&&p[E+3]===10)return E+4}return-1}class u{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(y){if(y.endsWith("\r")&&(y=y.substring(0,y.length-1)),!y){if(!this.event&&!this.data.length)return null;const x={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],x}if(this.chunks.push(y),y.startsWith(":"))return null;let[v,E,j]=b(y,":");return j.startsWith(" ")&&(j=j.substring(1)),v==="event"?this.event=j:v==="data"&&this.data.push(j),null}}class f{constructor(){this.buffer=[],this.trailingCR=!1}decode(y){let v=this.decodeText(y);if(this.trailingCR&&(v="\r"+v,this.trailingCR=!1),v.endsWith("\r")&&(this.trailingCR=!0,v=v.slice(0,-1)),!v)return[];const E=f.NEWLINE_CHARS.has(v[v.length-1]||"");let j=v.split(f.NEWLINE_REGEXP);return E&&j.pop(),j.length===1&&!E?(this.buffer.push(j[0]),[]):(this.buffer.length>0&&(j=[this.buffer.join("")+j[0],...j.slice(1)],this.buffer=[]),E||(this.buffer=[j.pop()||""]),j)}decodeText(y){var v;if(y==null)return"";if(typeof y=="string")return y;if(typeof Buffer<"u"){if(y instanceof Buffer)return y.toString();if(y instanceof Uint8Array)return Buffer.from(y).toString();throw new l.CohereError({message:`Unexpected: received non-Uint8Array (${y.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`})}if(typeof TextDecoder<"u"){if(y instanceof Uint8Array||y instanceof ArrayBuffer)return(v=this.textDecoder)!==null&&v!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(y);throw new l.CohereError({message:`Unexpected: received non-Uint8Array/ArrayBuffer (${y.constructor.name}) in a web platform. Please report this error.`})}throw new l.CohereError({message:"Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error."})}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const y=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,y}}gr.LineDecoder=f,f.NEWLINE_CHARS=new Set([`
`,"\r"]),f.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function g(p){const y=new f,v=[];for(const E of p)v.push(...y.decode(E));return v}function b(p,y){const v=p.indexOf(y);return v!==-1?[p.substring(0,v),y,p.substring(v+y.length)]:[p,"",""]}function _(p){if(p[Symbol.asyncIterator])return p;const y=p.getReader();return{next(){return e(this,void 0,void 0,function*(){try{const v=yield y.read();return v?.done&&y.releaseLock(),v}catch(v){throw y.releaseLock(),v}})},return(){return e(this,void 0,void 0,function*(){const v=y.cancel();return y.releaseLock(),yield v,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}return gr}var pf={},mf={},IC={},da={},fa={},e5;function tM(){if(e5)return fa;e5=1;var e=fa&&fa.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=fa&&fa.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=fa&&fa.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fa,"__esModule",{value:!0}),fa.ChatConnector=void 0;const i=o(ie());return fa.ChatConnector=i.serialization.object({id:i.serialization.string(),userAccessToken:i.serialization.property("user_access_token",i.serialization.string().optional()),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional()),options:i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional()}),fa}var ha={},t5;function E_(){if(t5)return ha;t5=1;var e=ha&&ha.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ha&&ha.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ha&&ha.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ha,"__esModule",{value:!0}),ha.ChatDocument=void 0;const i=o(ie());return ha.ChatDocument=i.serialization.record(i.serialization.string(),i.serialization.string()),ha}var pa={},r5;function _k(){if(r5)return pa;r5=1;var e=pa&&pa.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=pa&&pa.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=pa&&pa.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(pa,"__esModule",{value:!0}),pa.ChatRequestCitationQuality=void 0;const i=o(ie());return pa.ChatRequestCitationQuality=i.serialization.enum_(["ENABLED","DISABLED","FAST","ACCURATE","OFF"]),pa}var ma={},n5;function yk(){if(n5)return ma;n5=1;var e=ma&&ma.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ma&&ma.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ma&&ma.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ma,"__esModule",{value:!0}),ma.ChatRequestPromptTruncation=void 0;const i=o(ie());return ma.ChatRequestPromptTruncation=i.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"]),ma}var ga={},a5;function vk(){if(a5)return ga;a5=1;var e=ga&&ga.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ga&&ga.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ga&&ga.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ga,"__esModule",{value:!0}),ga.ChatRequestSafetyMode=void 0;const i=o(ie());return ga.ChatRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","NONE"]),ga}var _a={},ya={},va={},i5;function R_(){if(i5)return va;i5=1;var e=va&&va.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=va&&va.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=va&&va.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(va,"__esModule",{value:!0}),va.ToolCall=void 0;const i=o(ie());return va.ToolCall=i.serialization.object({name:i.serialization.string(),parameters:i.serialization.record(i.serialization.string(),i.serialization.unknown())}),va}var o5;function bk(){if(o5)return ya;o5=1;var e=ya&&ya.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ya&&ya.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ya&&ya.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ya,"__esModule",{value:!0}),ya.ChatMessage=void 0;const i=o(ie()),l=R_();return ya.ChatMessage=i.serialization.object({message:i.serialization.string(),toolCalls:i.serialization.property("tool_calls",i.serialization.list(l.ToolCall).optional())}),ya}var ba={},wa={},s5;function l0(){if(s5)return wa;s5=1;var e=wa&&wa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=wa&&wa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=wa&&wa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(wa,"__esModule",{value:!0}),wa.ToolResult=void 0;const i=o(ie()),l=R_();return wa.ToolResult=i.serialization.object({call:l.ToolCall,outputs:i.serialization.list(i.serialization.record(i.serialization.string(),i.serialization.unknown()))}),wa}var l5;function wk(){if(l5)return ba;l5=1;var e=ba&&ba.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ba&&ba.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ba&&ba.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ba,"__esModule",{value:!0}),ba.ChatToolMessage=void 0;const i=o(ie()),l=l0();return ba.ChatToolMessage=i.serialization.object({toolResults:i.serialization.property("tool_results",i.serialization.list(l.ToolResult).optional())}),ba}var u5;function u0(){if(u5)return _a;u5=1;var e=_a&&_a.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=_a&&_a.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=_a&&_a.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(_a,"__esModule",{value:!0}),_a.Message=void 0;const i=o(ie()),l=bk(),t=wk();return _a.Message=i.serialization.union("role",{CHATBOT:l.ChatMessage,SYSTEM:l.ChatMessage,USER:l.ChatMessage,TOOL:t.ChatToolMessage}).transform({transform:r=>r,untransform:r=>r}),_a}var Sa={},Oa={},c5;function Sk(){if(c5)return Oa;c5=1;var e=Oa&&Oa.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Oa&&Oa.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Oa&&Oa.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.ChatTextResponseFormat=void 0;const i=o(ie());return Oa.ChatTextResponseFormat=i.serialization.object({}),Oa}var Ea={},d5;function Ok(){if(d5)return Ea;d5=1;var e=Ea&&Ea.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ea&&Ea.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ea&&Ea.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.JsonResponseFormat=void 0;const i=o(ie());return Ea.JsonResponseFormat=i.serialization.object({schema:i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional()}),Ea}var f5;function rM(){if(f5)return Sa;f5=1;var e=Sa&&Sa.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Sa&&Sa.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Sa&&Sa.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.ResponseFormat=void 0;const i=o(ie()),l=Sk(),t=Ok();return Sa.ResponseFormat=i.serialization.union("type",{text:l.ChatTextResponseFormat,json_object:t.JsonResponseFormat}).transform({transform:r=>r,untransform:r=>r}),Sa}var Ra={},ja={},h5;function Ek(){if(h5)return ja;h5=1;var e=ja&&ja.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ja&&ja.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ja&&ja.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ja,"__esModule",{value:!0}),ja.ToolParameterDefinitionsValue=void 0;const i=o(ie());return ja.ToolParameterDefinitionsValue=i.serialization.object({description:i.serialization.string().optional(),type:i.serialization.string(),required:i.serialization.boolean().optional()}),ja}var p5;function nM(){if(p5)return Ra;p5=1;var e=Ra&&Ra.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ra&&Ra.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ra&&Ra.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.Tool=void 0;const i=o(ie()),l=Ek();return Ra.Tool=i.serialization.object({name:i.serialization.string(),description:i.serialization.string(),parameterDefinitions:i.serialization.property("parameter_definitions",i.serialization.record(i.serialization.string(),l.ToolParameterDefinitionsValue).optional())}),Ra}var m5;function U_e(){if(m5)return da;m5=1;var e=da&&da.__createBinding||(Object.create?(function(_,p,y,v){v===void 0&&(v=y);var E=Object.getOwnPropertyDescriptor(p,y);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(_,v,E)}):(function(_,p,y,v){v===void 0&&(v=y),_[v]=p[y]})),n=da&&da.__setModuleDefault||(Object.create?(function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}):function(_,p){_.default=p}),o=da&&da.__importStar||(function(){var _=function(p){return _=Object.getOwnPropertyNames||function(y){var v=[];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(v[v.length]=E);return v},_(p)};return function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var v=_(p),E=0;E<v.length;E++)v[E]!=="default"&&e(y,p,v[E]);return n(y,p),y}})();Object.defineProperty(da,"__esModule",{value:!0}),da.ChatRequest=void 0;const i=o(ie()),l=tM(),t=E_(),r=_k(),a=yk(),s=vk(),u=u0(),f=rM(),g=nM(),b=l0();return da.ChatRequest=i.serialization.object({message:i.serialization.string(),model:i.serialization.string().optional(),preamble:i.serialization.string().optional(),chatHistory:i.serialization.property("chat_history",i.serialization.list(u.Message).optional()),conversationId:i.serialization.property("conversation_id",i.serialization.string().optional()),promptTruncation:i.serialization.property("prompt_truncation",a.ChatRequestPromptTruncation.optional()),connectors:i.serialization.list(l.ChatConnector).optional(),searchQueriesOnly:i.serialization.property("search_queries_only",i.serialization.boolean().optional()),documents:i.serialization.list(t.ChatDocument).optional(),citationQuality:i.serialization.property("citation_quality",r.ChatRequestCitationQuality.optional()),temperature:i.serialization.number().optional(),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),maxInputTokens:i.serialization.property("max_input_tokens",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),seed:i.serialization.number().optional(),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional()),tools:i.serialization.list(g.Tool).optional(),toolResults:i.serialization.property("tool_results",i.serialization.list(b.ToolResult).optional()),forceSingleStep:i.serialization.property("force_single_step",i.serialization.boolean().optional()),responseFormat:i.serialization.property("response_format",f.ResponseFormat.optional()),safetyMode:i.serialization.property("safety_mode",s.ChatRequestSafetyMode.optional())}),da}var xa={},Ca={},g5;function Rk(){if(g5)return Ca;g5=1;var e=Ca&&Ca.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ca&&Ca.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ca&&Ca.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.ChatStreamRequestCitationQuality=void 0;const i=o(ie());return Ca.ChatStreamRequestCitationQuality=i.serialization.enum_(["ENABLED","DISABLED","FAST","ACCURATE","OFF"]),Ca}var Ta={},_5;function jk(){if(_5)return Ta;_5=1;var e=Ta&&Ta.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ta&&Ta.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ta&&Ta.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.ChatStreamRequestPromptTruncation=void 0;const i=o(ie());return Ta.ChatStreamRequestPromptTruncation=i.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"]),Ta}var Ma={},y5;function xk(){if(y5)return Ma;y5=1;var e=Ma&&Ma.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ma&&Ma.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ma&&Ma.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.ChatStreamRequestSafetyMode=void 0;const i=o(ie());return Ma.ChatStreamRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","NONE"]),Ma}var v5;function $_e(){if(v5)return xa;v5=1;var e=xa&&xa.__createBinding||(Object.create?(function(_,p,y,v){v===void 0&&(v=y);var E=Object.getOwnPropertyDescriptor(p,y);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(_,v,E)}):(function(_,p,y,v){v===void 0&&(v=y),_[v]=p[y]})),n=xa&&xa.__setModuleDefault||(Object.create?(function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}):function(_,p){_.default=p}),o=xa&&xa.__importStar||(function(){var _=function(p){return _=Object.getOwnPropertyNames||function(y){var v=[];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(v[v.length]=E);return v},_(p)};return function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var v=_(p),E=0;E<v.length;E++)v[E]!=="default"&&e(y,p,v[E]);return n(y,p),y}})();Object.defineProperty(xa,"__esModule",{value:!0}),xa.ChatStreamRequest=void 0;const i=o(ie()),l=tM(),t=E_(),r=Rk(),a=jk(),s=xk(),u=u0(),f=rM(),g=nM(),b=l0();return xa.ChatStreamRequest=i.serialization.object({message:i.serialization.string(),model:i.serialization.string().optional(),preamble:i.serialization.string().optional(),chatHistory:i.serialization.property("chat_history",i.serialization.list(u.Message).optional()),conversationId:i.serialization.property("conversation_id",i.serialization.string().optional()),promptTruncation:i.serialization.property("prompt_truncation",a.ChatStreamRequestPromptTruncation.optional()),connectors:i.serialization.list(l.ChatConnector).optional(),searchQueriesOnly:i.serialization.property("search_queries_only",i.serialization.boolean().optional()),documents:i.serialization.list(t.ChatDocument).optional(),citationQuality:i.serialization.property("citation_quality",r.ChatStreamRequestCitationQuality.optional()),temperature:i.serialization.number().optional(),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),maxInputTokens:i.serialization.property("max_input_tokens",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),seed:i.serialization.number().optional(),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional()),tools:i.serialization.list(g.Tool).optional(),toolResults:i.serialization.property("tool_results",i.serialization.list(b.ToolResult).optional()),forceSingleStep:i.serialization.property("force_single_step",i.serialization.boolean().optional()),responseFormat:i.serialization.property("response_format",f.ResponseFormat.optional()),safetyMode:i.serialization.property("safety_mode",s.ChatStreamRequestSafetyMode.optional())}),xa}var Pa={},Aa={},b5;function Ck(){if(b5)return Aa;b5=1;var e=Aa&&Aa.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Aa&&Aa.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Aa&&Aa.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.ClassifyExample=void 0;const i=o(ie());return Aa.ClassifyExample=i.serialization.object({text:i.serialization.string().optional(),label:i.serialization.string().optional()}),Aa}var Na={},w5;function Tk(){if(w5)return Na;w5=1;var e=Na&&Na.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Na&&Na.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Na&&Na.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Na,"__esModule",{value:!0}),Na.ClassifyRequestTruncate=void 0;const i=o(ie());return Na.ClassifyRequestTruncate=i.serialization.enum_(["NONE","START","END"]),Na}var S5;function F_e(){if(S5)return Pa;S5=1;var e=Pa&&Pa.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Pa&&Pa.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Pa&&Pa.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.ClassifyRequest=void 0;const i=o(ie()),l=Ck(),t=Tk();return Pa.ClassifyRequest=i.serialization.object({inputs:i.serialization.list(i.serialization.string()),examples:i.serialization.list(l.ClassifyExample).optional(),model:i.serialization.string().optional(),preset:i.serialization.string().optional(),truncate:t.ClassifyRequestTruncate.optional()}),Pa}var Da={},O5;function V_e(){if(O5)return Da;O5=1;var e=Da&&Da.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Da&&Da.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Da&&Da.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Da,"__esModule",{value:!0}),Da.DetokenizeRequest=void 0;const i=o(ie());return Da.DetokenizeRequest=i.serialization.object({tokens:i.serialization.list(i.serialization.number()),model:i.serialization.string()}),Da}var Ia={},za={},E5;function c0(){if(E5)return za;E5=1;var e=za&&za.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=za&&za.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=za&&za.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(za,"__esModule",{value:!0}),za.EmbeddingType=void 0;const i=o(ie());return za.EmbeddingType=i.serialization.enum_(["float","int8","uint8","binary","ubinary","base64"]),za}var Ba={},R5;function d0(){if(R5)return Ba;R5=1;var e=Ba&&Ba.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ba&&Ba.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ba&&Ba.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.EmbedInputType=void 0;const i=o(ie());return Ba.EmbedInputType=i.serialization.enum_(["search_document","search_query","classification","clustering","image"]),Ba}var qa={},j5;function Mk(){if(j5)return qa;j5=1;var e=qa&&qa.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=qa&&qa.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=qa&&qa.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(qa,"__esModule",{value:!0}),qa.EmbedRequestTruncate=void 0;const i=o(ie());return qa.EmbedRequestTruncate=i.serialization.enum_(["NONE","START","END"]),qa}var x5;function G_e(){if(x5)return Ia;x5=1;var e=Ia&&Ia.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=Ia&&Ia.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ia&&Ia.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.EmbedRequest=void 0;const i=o(ie()),l=c0(),t=d0(),r=Mk();return Ia.EmbedRequest=i.serialization.object({texts:i.serialization.list(i.serialization.string()).optional(),images:i.serialization.list(i.serialization.string()).optional(),model:i.serialization.string().optional(),inputType:i.serialization.property("input_type",t.EmbedInputType.optional()),embeddingTypes:i.serialization.property("embedding_types",i.serialization.list(l.EmbeddingType).optional()),truncate:r.EmbedRequestTruncate.optional()}),Ia}var La={},Ua={},C5;function Pk(){if(C5)return Ua;C5=1;var e=Ua&&Ua.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ua&&Ua.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ua&&Ua.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.GenerateRequestReturnLikelihoods=void 0;const i=o(ie());return Ua.GenerateRequestReturnLikelihoods=i.serialization.enum_(["GENERATION","ALL","NONE"]),Ua}var $a={},T5;function Ak(){if(T5)return $a;T5=1;var e=$a&&$a.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=$a&&$a.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=$a&&$a.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($a,"__esModule",{value:!0}),$a.GenerateRequestTruncate=void 0;const i=o(ie());return $a.GenerateRequestTruncate=i.serialization.enum_(["NONE","START","END"]),$a}var M5;function H_e(){if(M5)return La;M5=1;var e=La&&La.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=La&&La.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=La&&La.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(La,"__esModule",{value:!0}),La.GenerateRequest=void 0;const i=o(ie()),l=Pk(),t=Ak();return La.GenerateRequest=i.serialization.object({prompt:i.serialization.string(),model:i.serialization.string().optional(),numGenerations:i.serialization.property("num_generations",i.serialization.number().optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),truncate:t.GenerateRequestTruncate.optional(),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),preset:i.serialization.string().optional(),endSequences:i.serialization.property("end_sequences",i.serialization.list(i.serialization.string()).optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),returnLikelihoods:i.serialization.property("return_likelihoods",l.GenerateRequestReturnLikelihoods.optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional())}),La}var Fa={},Va={},P5;function Nk(){if(P5)return Va;P5=1;var e=Va&&Va.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Va&&Va.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Va&&Va.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Va,"__esModule",{value:!0}),Va.GenerateStreamRequestReturnLikelihoods=void 0;const i=o(ie());return Va.GenerateStreamRequestReturnLikelihoods=i.serialization.enum_(["GENERATION","ALL","NONE"]),Va}var Ga={},A5;function Dk(){if(A5)return Ga;A5=1;var e=Ga&&Ga.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ga&&Ga.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ga&&Ga.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.GenerateStreamRequestTruncate=void 0;const i=o(ie());return Ga.GenerateStreamRequestTruncate=i.serialization.enum_(["NONE","START","END"]),Ga}var N5;function K_e(){if(N5)return Fa;N5=1;var e=Fa&&Fa.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Fa&&Fa.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Fa&&Fa.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.GenerateStreamRequest=void 0;const i=o(ie()),l=Nk(),t=Dk();return Fa.GenerateStreamRequest=i.serialization.object({prompt:i.serialization.string(),model:i.serialization.string().optional(),numGenerations:i.serialization.property("num_generations",i.serialization.number().optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),truncate:t.GenerateStreamRequestTruncate.optional(),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),preset:i.serialization.string().optional(),endSequences:i.serialization.property("end_sequences",i.serialization.list(i.serialization.string()).optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),returnLikelihoods:i.serialization.property("return_likelihoods",l.GenerateStreamRequestReturnLikelihoods.optional()),rawPrompting:i.serialization.property("raw_prompting",i.serialization.boolean().optional())}),Fa}var Ha={},Ka={},ka={},D5;function Ik(){if(D5)return ka;D5=1;var e=ka&&ka.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ka&&ka.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ka&&ka.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ka,"__esModule",{value:!0}),ka.RerankDocument=void 0;const i=o(ie());return ka.RerankDocument=i.serialization.record(i.serialization.string(),i.serialization.string()),ka}var I5;function zk(){if(I5)return Ka;I5=1;var e=Ka&&Ka.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ka&&Ka.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ka&&Ka.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.RerankRequestDocumentsItem=void 0;const i=o(ie()),l=Ik();return Ka.RerankRequestDocumentsItem=i.serialization.undiscriminatedUnion([i.serialization.string(),l.RerankDocument]),Ka}var z5;function k_e(){if(z5)return Ha;z5=1;var e=Ha&&Ha.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ha&&Ha.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ha&&Ha.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.RerankRequest=void 0;const i=o(ie()),l=zk();return Ha.RerankRequest=i.serialization.object({model:i.serialization.string().optional(),query:i.serialization.string(),documents:i.serialization.list(l.RerankRequestDocumentsItem),topN:i.serialization.property("top_n",i.serialization.number().optional()),rankFields:i.serialization.property("rank_fields",i.serialization.list(i.serialization.string()).optional()),returnDocuments:i.serialization.property("return_documents",i.serialization.boolean().optional()),maxChunksPerDoc:i.serialization.property("max_chunks_per_doc",i.serialization.number().optional())}),Ha}var Ya={},Wa={},B5;function Bk(){if(B5)return Wa;B5=1;var e=Wa&&Wa.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Wa&&Wa.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Wa&&Wa.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.SummarizeRequestExtractiveness=void 0;const i=o(ie());return Wa.SummarizeRequestExtractiveness=i.serialization.enum_(["low","medium","high"]),Wa}var Ja={},q5;function qk(){if(q5)return Ja;q5=1;var e=Ja&&Ja.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ja&&Ja.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ja&&Ja.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.SummarizeRequestFormat=void 0;const i=o(ie());return Ja.SummarizeRequestFormat=i.serialization.enum_(["paragraph","bullets"]),Ja}var Za={},L5;function Lk(){if(L5)return Za;L5=1;var e=Za&&Za.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Za&&Za.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Za&&Za.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Za,"__esModule",{value:!0}),Za.SummarizeRequestLength=void 0;const i=o(ie());return Za.SummarizeRequestLength=i.serialization.enum_(["short","medium","long"]),Za}var U5;function Y_e(){if(U5)return Ya;U5=1;var e=Ya&&Ya.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=Ya&&Ya.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ya&&Ya.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.SummarizeRequest=void 0;const i=o(ie()),l=Bk(),t=qk(),r=Lk();return Ya.SummarizeRequest=i.serialization.object({text:i.serialization.string(),length:r.SummarizeRequestLength.optional(),format:t.SummarizeRequestFormat.optional(),model:i.serialization.string().optional(),extractiveness:l.SummarizeRequestExtractiveness.optional(),temperature:i.serialization.number().optional(),additionalCommand:i.serialization.property("additional_command",i.serialization.string().optional())}),Ya}var Qa={},$5;function W_e(){if($5)return Qa;$5=1;var e=Qa&&Qa.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Qa&&Qa.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Qa&&Qa.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.TokenizeRequest=void 0;const i=o(ie());return Qa.TokenizeRequest=i.serialization.object({text:i.serialization.string(),model:i.serialization.string()}),Qa}var F5;function J_e(){return F5||(F5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizeRequest=e.SummarizeRequest=e.RerankRequest=e.GenerateStreamRequest=e.GenerateRequest=e.EmbedRequest=e.DetokenizeRequest=e.ClassifyRequest=e.ChatStreamRequest=e.ChatRequest=void 0;var n=U_e();Object.defineProperty(e,"ChatRequest",{enumerable:!0,get:function(){return n.ChatRequest}});var o=$_e();Object.defineProperty(e,"ChatStreamRequest",{enumerable:!0,get:function(){return o.ChatStreamRequest}});var i=F_e();Object.defineProperty(e,"ClassifyRequest",{enumerable:!0,get:function(){return i.ClassifyRequest}});var l=V_e();Object.defineProperty(e,"DetokenizeRequest",{enumerable:!0,get:function(){return l.DetokenizeRequest}});var t=G_e();Object.defineProperty(e,"EmbedRequest",{enumerable:!0,get:function(){return t.EmbedRequest}});var r=H_e();Object.defineProperty(e,"GenerateRequest",{enumerable:!0,get:function(){return r.GenerateRequest}});var a=K_e();Object.defineProperty(e,"GenerateStreamRequest",{enumerable:!0,get:function(){return a.GenerateStreamRequest}});var s=k_e();Object.defineProperty(e,"RerankRequest",{enumerable:!0,get:function(){return s.RerankRequest}});var u=Y_e();Object.defineProperty(e,"SummarizeRequest",{enumerable:!0,get:function(){return u.SummarizeRequest}});var f=W_e();Object.defineProperty(e,"TokenizeRequest",{enumerable:!0,get:function(){return f.TokenizeRequest}})})(IC)),IC}var V5;function Z_e(){return V5||(V5=1,(function(e){var n=mf&&mf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=mf&&mf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(J_e(),e)})(mf)),mf}var Xa={},gf={},_f={},ei={},ti={},G5;function Uk(){if(G5)return ti;G5=1;var e=ti&&ti.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ti&&ti.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ti&&ti.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ti,"__esModule",{value:!0}),ti.BatchStatus=void 0;const i=o(ie());return ti.BatchStatus=i.serialization.enum_(["BATCH_STATUS_UNSPECIFIED","BATCH_STATUS_QUEUED","BATCH_STATUS_IN_PROGRESS","BATCH_STATUS_CANCELING","BATCH_STATUS_COMPLETED","BATCH_STATUS_FAILED","BATCH_STATUS_CANCELED"]),ti}var H5;function f0(){if(H5)return ei;H5=1;var e=ei&&ei.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ei&&ei.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ei&&ei.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ei,"__esModule",{value:!0}),ei.Batch=void 0;const i=o(ie()),l=Uk();return ei.Batch=i.serialization.object({id:i.serialization.string().optional(),name:i.serialization.string(),creatorId:i.serialization.property("creator_id",i.serialization.string().optional()),orgId:i.serialization.property("org_id",i.serialization.string().optional()),status:l.BatchStatus.optional(),createdAt:i.serialization.property("created_at",i.serialization.date().optional()),updatedAt:i.serialization.property("updated_at",i.serialization.date().optional()),inputDatasetId:i.serialization.property("input_dataset_id",i.serialization.string()),outputDatasetId:i.serialization.property("output_dataset_id",i.serialization.string().optional()),inputTokens:i.serialization.property("input_tokens",i.serialization.string().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.string().optional()),model:i.serialization.string(),numRecords:i.serialization.property("num_records",i.serialization.number().optional()),numSuccessfulRecords:i.serialization.property("num_successful_records",i.serialization.number().optional()),numFailedRecords:i.serialization.property("num_failed_records",i.serialization.number().optional()),statusReason:i.serialization.property("status_reason",i.serialization.string().optional())}),ei}var ri={},K5;function Q_e(){if(K5)return ri;K5=1;var e=ri&&ri.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ri&&ri.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ri&&ri.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ri,"__esModule",{value:!0}),ri.CancelBatchResponse=void 0;const i=o(ie());return ri.CancelBatchResponse=i.serialization.record(i.serialization.string(),i.serialization.unknown()),ri}var ni={},k5;function X_e(){if(k5)return ni;k5=1;var e=ni&&ni.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ni&&ni.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ni&&ni.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ni,"__esModule",{value:!0}),ni.CreateBatchResponse=void 0;const i=o(ie()),l=f0();return ni.CreateBatchResponse=i.serialization.object({batch:l.Batch}),ni}var ai={},Y5;function eye(){if(Y5)return ai;Y5=1;var e=ai&&ai.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ai&&ai.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ai&&ai.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ai,"__esModule",{value:!0}),ai.GetBatchResponse=void 0;const i=o(ie()),l=f0();return ai.GetBatchResponse=i.serialization.object({batch:l.Batch}),ai}var ii={},W5;function tye(){if(W5)return ii;W5=1;var e=ii&&ii.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ii&&ii.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ii&&ii.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ii,"__esModule",{value:!0}),ii.ListBatchesResponse=void 0;const i=o(ie()),l=f0();return ii.ListBatchesResponse=i.serialization.object({batches:i.serialization.list(l.Batch).optional(),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional())}),ii}var J5;function $k(){return J5||(J5=1,(function(e){var n=_f&&_f.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=_f&&_f.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(f0(),e),o(Uk(),e),o(Q_e(),e),o(X_e(),e),o(eye(),e),o(tye(),e)})(_f)),_f}var Z5;function rye(){return Z5||(Z5=1,(function(e){var n=gf&&gf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=gf&&gf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o($k(),e)})(gf)),gf}var yf={},vf={},zC={},oi={},si={},Q5;function aM(){if(Q5)return si;Q5=1;var e=si&&si.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=si&&si.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=si&&si.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(si,"__esModule",{value:!0}),si.CreateConnectorOAuth=void 0;const i=o(ie());return si.CreateConnectorOAuth=i.serialization.object({clientId:i.serialization.property("client_id",i.serialization.string().optional()),clientSecret:i.serialization.property("client_secret",i.serialization.string().optional()),authorizeUrl:i.serialization.property("authorize_url",i.serialization.string().optional()),tokenUrl:i.serialization.property("token_url",i.serialization.string().optional()),scope:i.serialization.string().optional()}),si}var li={},ui={},X5;function Fk(){if(X5)return ui;X5=1;var e=ui&&ui.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ui&&ui.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ui&&ui.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ui,"__esModule",{value:!0}),ui.AuthTokenType=void 0;const i=o(ie());return ui.AuthTokenType=i.serialization.enum_(["bearer","basic","noscheme"]),ui}var e6;function iM(){if(e6)return li;e6=1;var e=li&&li.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=li&&li.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=li&&li.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(li,"__esModule",{value:!0}),li.CreateConnectorServiceAuth=void 0;const i=o(ie()),l=Fk();return li.CreateConnectorServiceAuth=i.serialization.object({type:l.AuthTokenType,token:i.serialization.string()}),li}var t6;function nye(){if(t6)return oi;t6=1;var e=oi&&oi.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=oi&&oi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=oi&&oi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(oi,"__esModule",{value:!0}),oi.CreateConnectorRequest=void 0;const i=o(ie()),l=aM(),t=iM();return oi.CreateConnectorRequest=i.serialization.object({name:i.serialization.string(),description:i.serialization.string().optional(),url:i.serialization.string(),excludes:i.serialization.list(i.serialization.string()).optional(),oauth:l.CreateConnectorOAuth.optional(),active:i.serialization.boolean().optional(),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional()),serviceAuth:i.serialization.property("service_auth",t.CreateConnectorServiceAuth.optional())}),oi}var ci={},r6;function aye(){if(r6)return ci;r6=1;var e=ci&&ci.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=ci&&ci.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ci&&ci.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(ci,"__esModule",{value:!0}),ci.UpdateConnectorRequest=void 0;const i=o(ie()),l=aM(),t=iM();return ci.UpdateConnectorRequest=i.serialization.object({name:i.serialization.string().optional(),url:i.serialization.string().optional(),excludes:i.serialization.list(i.serialization.string()).optional(),oauth:l.CreateConnectorOAuth.optional(),active:i.serialization.boolean().optional(),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional()),serviceAuth:i.serialization.property("service_auth",t.CreateConnectorServiceAuth.optional())}),ci}var n6;function Vk(){return n6||(n6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateConnectorRequest=e.CreateConnectorRequest=void 0;var n=nye();Object.defineProperty(e,"CreateConnectorRequest",{enumerable:!0,get:function(){return n.CreateConnectorRequest}});var o=aye();Object.defineProperty(e,"UpdateConnectorRequest",{enumerable:!0,get:function(){return o.UpdateConnectorRequest}})})(zC)),zC}var a6;function iye(){return a6||(a6=1,(function(e){var n=vf&&vf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=vf&&vf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Vk(),e)})(vf)),vf}var i6;function oye(){return i6||(i6=1,(function(e){var n=yf&&yf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=yf&&yf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(iye(),e)})(yf)),yf}var bf={},di={},fi={},o6;function sye(){if(o6)return fi;o6=1;var e=fi&&fi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=fi&&fi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=fi&&fi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fi,"__esModule",{value:!0}),fi.Response=void 0;const i=o(ie());return fi.Response=i.serialization.record(i.serialization.string(),i.serialization.unknown()),fi}var s6;function lye(){if(s6)return di;s6=1;var e=di&&di.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),n=di&&di.__setModuleDefault||(Object.create?(function(i,l){Object.defineProperty(i,"default",{enumerable:!0,value:l})}):function(i,l){i.default=l}),o=di&&di.__importStar||(function(){var i=function(l){return i=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},i(l)};return function(l){if(l&&l.__esModule)return l;var t={};if(l!=null)for(var r=i(l),a=0;a<r.length;a++)r[a]!=="default"&&e(t,l,r[a]);return n(t,l),t}})();return Object.defineProperty(di,"__esModule",{value:!0}),di.delete=void 0,di.delete=o(sye()),di}var wf={},hi={},l6;function uye(){if(l6)return hi;l6=1;var e=hi&&hi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=hi&&hi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=hi&&hi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(hi,"__esModule",{value:!0}),hi.DatasetsCreateResponse=void 0;const i=o(ie());return hi.DatasetsCreateResponse=i.serialization.object({id:i.serialization.string().optional()}),hi}var pi={},mi={},gi={},u6;function Gk(){if(u6)return gi;u6=1;var e=gi&&gi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=gi&&gi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=gi&&gi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(gi,"__esModule",{value:!0}),gi.DatasetPart=void 0;const i=o(ie());return gi.DatasetPart=i.serialization.object({id:i.serialization.string(),name:i.serialization.string(),url:i.serialization.string().optional(),index:i.serialization.number().optional(),sizeBytes:i.serialization.property("size_bytes",i.serialization.number().optional()),numRows:i.serialization.property("num_rows",i.serialization.number().optional()),originalUrl:i.serialization.property("original_url",i.serialization.string().optional()),samples:i.serialization.list(i.serialization.string()).optional()}),gi}var _i={},c6;function Hk(){if(c6)return _i;c6=1;var e=_i&&_i.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=_i&&_i.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=_i&&_i.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(_i,"__esModule",{value:!0}),_i.DatasetType=void 0;const i=o(ie());return _i.DatasetType=i.serialization.enum_(["embed-input","embed-result","cluster-result","cluster-outliers","reranker-finetune-input","single-label-classification-finetune-input","chat-finetune-input","multi-label-classification-finetune-input","batch-chat-input","batch-openai-chat-input","batch-embed-v2-input","batch-chat-v2-input"]),_i}var yi={},d6;function Kk(){if(d6)return yi;d6=1;var e=yi&&yi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=yi&&yi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=yi&&yi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(yi,"__esModule",{value:!0}),yi.DatasetValidationStatus=void 0;const i=o(ie());return yi.DatasetValidationStatus=i.serialization.enum_(["unknown","queued","processing","failed","validated","skipped"]),yi}var f6;function oM(){if(f6)return mi;f6=1;var e=mi&&mi.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=mi&&mi.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=mi&&mi.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(mi,"__esModule",{value:!0}),mi.Dataset=void 0;const i=o(ie()),l=Gk(),t=Hk(),r=Kk();return mi.Dataset=i.serialization.object({id:i.serialization.string(),name:i.serialization.string(),createdAt:i.serialization.property("created_at",i.serialization.date()),updatedAt:i.serialization.property("updated_at",i.serialization.date()),datasetType:i.serialization.property("dataset_type",t.DatasetType),validationStatus:i.serialization.property("validation_status",r.DatasetValidationStatus),validationError:i.serialization.property("validation_error",i.serialization.string().optional()),schema:i.serialization.string().optional(),requiredFields:i.serialization.property("required_fields",i.serialization.list(i.serialization.string()).optional()),preserveFields:i.serialization.property("preserve_fields",i.serialization.list(i.serialization.string()).optional()),datasetParts:i.serialization.property("dataset_parts",i.serialization.list(l.DatasetPart).optional()),validationWarnings:i.serialization.property("validation_warnings",i.serialization.list(i.serialization.string()).optional())}),mi}var h6;function cye(){if(h6)return pi;h6=1;var e=pi&&pi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=pi&&pi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=pi&&pi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(pi,"__esModule",{value:!0}),pi.DatasetsGetResponse=void 0;const i=o(ie()),l=oM();return pi.DatasetsGetResponse=i.serialization.object({dataset:l.Dataset}),pi}var vi={},p6;function dye(){if(p6)return vi;p6=1;var e=vi&&vi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=vi&&vi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=vi&&vi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(vi,"__esModule",{value:!0}),vi.DatasetsGetUsageResponse=void 0;const i=o(ie());return vi.DatasetsGetUsageResponse=i.serialization.object({organizationUsage:i.serialization.property("organization_usage",i.serialization.number().optional())}),vi}var bi={},m6;function fye(){if(m6)return bi;m6=1;var e=bi&&bi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=bi&&bi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=bi&&bi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(bi,"__esModule",{value:!0}),bi.DatasetsListResponse=void 0;const i=o(ie()),l=oM();return bi.DatasetsListResponse=i.serialization.object({datasets:i.serialization.list(l.Dataset).optional()}),bi}var g6;function kk(){return g6||(g6=1,(function(e){var n=wf&&wf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=wf&&wf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(uye(),e),o(cye(),e),o(dye(),e),o(fye(),e)})(wf)),wf}var _6;function hye(){return _6||(_6=1,(function(e){var n=bf&&bf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=bf&&bf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(lye(),e),o(kk(),e)})(bf)),bf}var Sf={},Of={},BC={},wi={},Si={},y6;function Yk(){if(y6)return Si;y6=1;var e=Si&&Si.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Si&&Si.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Si&&Si.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Si,"__esModule",{value:!0}),Si.CreateEmbedJobRequestTruncate=void 0;const i=o(ie());return Si.CreateEmbedJobRequestTruncate=i.serialization.enum_(["START","END"]),Si}var v6;function pye(){if(v6)return wi;v6=1;var e=wi&&wi.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=wi&&wi.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=wi&&wi.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(wi,"__esModule",{value:!0}),wi.CreateEmbedJobRequest=void 0;const i=o(ie()),l=c0(),t=d0(),r=Yk();return wi.CreateEmbedJobRequest=i.serialization.object({model:i.serialization.string(),datasetId:i.serialization.property("dataset_id",i.serialization.string()),inputType:i.serialization.property("input_type",t.EmbedInputType),name:i.serialization.string().optional(),embeddingTypes:i.serialization.property("embedding_types",i.serialization.list(l.EmbeddingType).optional()),truncate:r.CreateEmbedJobRequestTruncate.optional()}),wi}var b6;function Wk(){return b6||(b6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CreateEmbedJobRequest=void 0;var n=pye();Object.defineProperty(e,"CreateEmbedJobRequest",{enumerable:!0,get:function(){return n.CreateEmbedJobRequest}})})(BC)),BC}var w6;function mye(){return w6||(w6=1,(function(e){var n=Of&&Of.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Of&&Of.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Wk(),e)})(Of)),Of}var Ef={},S6;function Jk(){return S6||(S6=1,(function(e){var n=Ef&&Ef.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Ef&&Ef.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Yk(),e)})(Ef)),Ef}var O6;function gye(){return O6||(O6=1,(function(e){var n=Sf&&Sf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Sf&&Sf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(mye(),e),o(Jk(),e)})(Sf)),Sf}var Rf={},jf={},qC={},Oi={},Ei={},Ri={},ji={},E6;function Zk(){if(E6)return ji;E6=1;var e=ji&&ji.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ji&&ji.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ji&&ji.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ji,"__esModule",{value:!0}),ji.BaseType=void 0;const i=o(ie());return ji.BaseType=i.serialization.enum_(["BASE_TYPE_UNSPECIFIED","BASE_TYPE_GENERATIVE","BASE_TYPE_CLASSIFICATION","BASE_TYPE_RERANK","BASE_TYPE_CHAT"]),ji}var xi={},R6;function Qk(){if(R6)return xi;R6=1;var e=xi&&xi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=xi&&xi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=xi&&xi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(xi,"__esModule",{value:!0}),xi.Strategy=void 0;const i=o(ie());return xi.Strategy=i.serialization.enum_(["STRATEGY_UNSPECIFIED","STRATEGY_VANILLA","STRATEGY_TFEW"]),xi}var j6;function Xk(){if(j6)return Ri;j6=1;var e=Ri&&Ri.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Ri&&Ri.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ri&&Ri.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.BaseModel=void 0;const i=o(ie()),l=Zk(),t=Qk();return Ri.BaseModel=i.serialization.object({name:i.serialization.string().optional(),version:i.serialization.string().optional(),baseType:i.serialization.property("base_type",l.BaseType),strategy:t.Strategy.optional()}),Ri}var Ci={},Ti={},x6;function eY(){if(x6)return Ti;x6=1;var e=Ti&&Ti.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ti&&Ti.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ti&&Ti.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.LoraTargetModules=void 0;const i=o(ie());return Ti.LoraTargetModules=i.serialization.enum_(["LORA_TARGET_MODULES_UNSPECIFIED","LORA_TARGET_MODULES_QV","LORA_TARGET_MODULES_QKVO","LORA_TARGET_MODULES_QKVO_FFN"]),Ti}var C6;function tY(){if(C6)return Ci;C6=1;var e=Ci&&Ci.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ci&&Ci.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ci&&Ci.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.Hyperparameters=void 0;const i=o(ie()),l=eY();return Ci.Hyperparameters=i.serialization.object({earlyStoppingPatience:i.serialization.property("early_stopping_patience",i.serialization.number().optional()),earlyStoppingThreshold:i.serialization.property("early_stopping_threshold",i.serialization.number().optional()),trainBatchSize:i.serialization.property("train_batch_size",i.serialization.number().optional()),trainEpochs:i.serialization.property("train_epochs",i.serialization.number().optional()),learningRate:i.serialization.property("learning_rate",i.serialization.number().optional()),loraAlpha:i.serialization.property("lora_alpha",i.serialization.number().optional()),loraRank:i.serialization.property("lora_rank",i.serialization.number().optional()),loraTargetModules:i.serialization.property("lora_target_modules",l.LoraTargetModules.optional())}),Ci}var Mi={},T6;function rY(){if(T6)return Mi;T6=1;var e=Mi&&Mi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Mi&&Mi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Mi&&Mi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.WandbConfig=void 0;const i=o(ie());return Mi.WandbConfig=i.serialization.object({project:i.serialization.string(),apiKey:i.serialization.property("api_key",i.serialization.string()),entity:i.serialization.string().optional()}),Mi}var M6;function sM(){if(M6)return Ei;M6=1;var e=Ei&&Ei.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=Ei&&Ei.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ei&&Ei.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.Settings=void 0;const i=o(ie()),l=Xk(),t=tY(),r=rY();return Ei.Settings=i.serialization.object({baseModel:i.serialization.property("base_model",l.BaseModel),datasetId:i.serialization.property("dataset_id",i.serialization.string()),hyperparameters:t.Hyperparameters.optional(),multiLabel:i.serialization.property("multi_label",i.serialization.boolean().optional()),wandb:r.WandbConfig.optional()}),Ei}var Pi={},P6;function h0(){if(P6)return Pi;P6=1;var e=Pi&&Pi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Pi&&Pi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Pi&&Pi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.Status=void 0;const i=o(ie());return Pi.Status=i.serialization.enum_(["STATUS_UNSPECIFIED","STATUS_FINETUNING","STATUS_DEPLOYING_API","STATUS_READY","STATUS_FAILED","STATUS_DELETED","STATUS_TEMPORARILY_OFFLINE","STATUS_PAUSED","STATUS_QUEUED"]),Pi}var A6;function _ye(){if(A6)return Oi;A6=1;var e=Oi&&Oi.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Oi&&Oi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Oi&&Oi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.FinetuningUpdateFinetunedModelRequest=void 0;const i=o(ie()),l=sM(),t=h0();return Oi.FinetuningUpdateFinetunedModelRequest=i.serialization.object({name:i.serialization.string(),settings:l.Settings,status:t.Status.optional()}),Oi}var N6;function nY(){return N6||(N6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinetuningUpdateFinetunedModelRequest=void 0;var n=_ye();Object.defineProperty(e,"FinetuningUpdateFinetunedModelRequest",{enumerable:!0,get:function(){return n.FinetuningUpdateFinetunedModelRequest}})})(qC)),qC}var D6;function yye(){return D6||(D6=1,(function(e){var n=jf&&jf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=jf&&jf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(nY(),e)})(jf)),jf}var Ai={},xf={},Cf={},Ni={},Di={},I6;function j_(){if(I6)return Di;I6=1;var e=Di&&Di.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Di&&Di.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Di&&Di.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Di,"__esModule",{value:!0}),Di.FinetunedModel=void 0;const i=o(ie()),l=sM(),t=h0();return Di.FinetunedModel=i.serialization.object({id:i.serialization.string().optional(),name:i.serialization.string(),creatorId:i.serialization.property("creator_id",i.serialization.string().optional()),organizationId:i.serialization.property("organization_id",i.serialization.string().optional()),settings:l.Settings,status:t.Status.optional(),createdAt:i.serialization.property("created_at",i.serialization.date().optional()),updatedAt:i.serialization.property("updated_at",i.serialization.date().optional()),completedAt:i.serialization.property("completed_at",i.serialization.date().optional()),lastUsed:i.serialization.property("last_used",i.serialization.date().optional())}),Di}var z6;function vye(){if(z6)return Ni;z6=1;var e=Ni&&Ni.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ni&&Ni.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ni&&Ni.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.CreateFinetunedModelResponse=void 0;const i=o(ie()),l=j_();return Ni.CreateFinetunedModelResponse=i.serialization.object({finetunedModel:i.serialization.property("finetuned_model",l.FinetunedModel.optional())}),Ni}var Ii={},B6;function bye(){if(B6)return Ii;B6=1;var e=Ii&&Ii.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ii&&Ii.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ii&&Ii.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.DeleteFinetunedModelResponse=void 0;const i=o(ie());return Ii.DeleteFinetunedModelResponse=i.serialization.record(i.serialization.string(),i.serialization.unknown()),Ii}var zi={},q6;function aY(){if(q6)return zi;q6=1;var e=zi&&zi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=zi&&zi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=zi&&zi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(zi,"__esModule",{value:!0}),zi.Event=void 0;const i=o(ie()),l=h0();return zi.Event=i.serialization.object({userId:i.serialization.property("user_id",i.serialization.string().optional()),status:l.Status.optional(),createdAt:i.serialization.property("created_at",i.serialization.date().optional())}),zi}var Bi={},L6;function wye(){if(L6)return Bi;L6=1;var e=Bi&&Bi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Bi&&Bi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Bi&&Bi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.GetFinetunedModelResponse=void 0;const i=o(ie()),l=j_();return Bi.GetFinetunedModelResponse=i.serialization.object({finetunedModel:i.serialization.property("finetuned_model",l.FinetunedModel.optional())}),Bi}var qi={},U6;function Sye(){if(U6)return qi;U6=1;var e=qi&&qi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=qi&&qi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=qi&&qi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(qi,"__esModule",{value:!0}),qi.ListEventsResponse=void 0;const i=o(ie()),l=aY();return qi.ListEventsResponse=i.serialization.object({events:i.serialization.list(l.Event).optional(),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional()),totalSize:i.serialization.property("total_size",i.serialization.number().optional())}),qi}var Li={},$6;function Oye(){if($6)return Li;$6=1;var e=Li&&Li.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Li&&Li.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Li&&Li.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Li,"__esModule",{value:!0}),Li.ListFinetunedModelsResponse=void 0;const i=o(ie()),l=j_();return Li.ListFinetunedModelsResponse=i.serialization.object({finetunedModels:i.serialization.property("finetuned_models",i.serialization.list(l.FinetunedModel).optional()),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional()),totalSize:i.serialization.property("total_size",i.serialization.number().optional())}),Li}var Ui={},$i={},F6;function iY(){if(F6)return $i;F6=1;var e=$i&&$i.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=$i&&$i.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=$i&&$i.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($i,"__esModule",{value:!0}),$i.TrainingStepMetrics=void 0;const i=o(ie());return $i.TrainingStepMetrics=i.serialization.object({createdAt:i.serialization.property("created_at",i.serialization.date().optional()),stepNumber:i.serialization.property("step_number",i.serialization.number().optional()),metrics:i.serialization.record(i.serialization.string(),i.serialization.number()).optional()}),$i}var V6;function Eye(){if(V6)return Ui;V6=1;var e=Ui&&Ui.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ui&&Ui.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ui&&Ui.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.ListTrainingStepMetricsResponse=void 0;const i=o(ie()),l=iY();return Ui.ListTrainingStepMetricsResponse=i.serialization.object({stepMetrics:i.serialization.property("step_metrics",i.serialization.list(l.TrainingStepMetrics).optional()),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional())}),Ui}var Fi={},G6;function Rye(){if(G6)return Fi;G6=1;var e=Fi&&Fi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Fi&&Fi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Fi&&Fi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.UpdateFinetunedModelResponse=void 0;const i=o(ie()),l=j_();return Fi.UpdateFinetunedModelResponse=i.serialization.object({finetunedModel:i.serialization.property("finetuned_model",l.FinetunedModel.optional())}),Fi}var H6;function oY(){return H6||(H6=1,(function(e){var n=Cf&&Cf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Cf&&Cf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Xk(),e),o(Zk(),e),o(vye(),e),o(bye(),e),o(aY(),e),o(j_(),e),o(wye(),e),o(tY(),e),o(Sye(),e),o(Oye(),e),o(Eye(),e),o(eY(),e),o(sM(),e),o(h0(),e),o(Qk(),e),o(iY(),e),o(Rye(),e),o(rY(),e)})(Cf)),Cf}var K6;function jye(){return K6||(K6=1,(function(e){var n=xf&&xf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=xf&&xf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(oY(),e)})(xf)),xf}var k6;function xye(){return k6||(k6=1,(function(e){var n=Ai&&Ai.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=Ai&&Ai.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=Ai&&Ai.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&n(a,r,s[u]);return o(a,r),a}})(),l=Ai&&Ai.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.finetuning=void 0,e.finetuning=i(jye()),l(oY(),e)})(Ai)),Ai}var Y6;function Cye(){return Y6||(Y6=1,(function(e){var n=Rf&&Rf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Rf&&Rf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(yye(),e),o(xye(),e)})(Rf)),Rf}var Tf={},Mf={},LC={},Vi={},Gi={},Hi={},Ki={},ki={},Yi={},Wi={},W6;function _p(){if(W6)return Wi;W6=1;var e=Wi&&Wi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Wi&&Wi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Wi&&Wi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.ChatTextContent=void 0;const i=o(ie());return Wi.ChatTextContent=i.serialization.object({text:i.serialization.string()}),Wi}var Ji={},J6;function lM(){if(J6)return Ji;J6=1;var e=Ji&&Ji.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ji&&Ji.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ji&&Ji.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.ChatThinkingContent=void 0;const i=o(ie());return Ji.ChatThinkingContent=i.serialization.object({thinking:i.serialization.string()}),Ji}var Z6;function sY(){if(Z6)return Yi;Z6=1;var e=Yi&&Yi.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Yi&&Yi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Yi&&Yi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.AssistantMessageV2ContentItem=void 0;const i=o(ie()),l=_p(),t=lM();return Yi.AssistantMessageV2ContentItem=i.serialization.union("type",{text:l.ChatTextContent,thinking:t.ChatThinkingContent}).transform({transform:r=>r,untransform:r=>r}),Yi}var Q6;function lY(){if(Q6)return ki;Q6=1;var e=ki&&ki.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ki&&ki.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ki&&ki.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ki,"__esModule",{value:!0}),ki.AssistantMessageV2Content=void 0;const i=o(ie()),l=sY();return ki.AssistantMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(l.AssistantMessageV2ContentItem)]),ki}var Zi={},Qi={},X6;function uY(){if(X6)return Qi;X6=1;var e=Qi&&Qi.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Qi&&Qi.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Qi&&Qi.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.CitationType=void 0;const i=o(ie());return Qi.CitationType=i.serialization.enum_(["TEXT_CONTENT","THINKING_CONTENT","PLAN"]),Qi}var Xi={},eo={},e8;function cY(){if(e8)return eo;e8=1;var e=eo&&eo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=eo&&eo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=eo&&eo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(eo,"__esModule",{value:!0}),eo.ChatDocumentSource=void 0;const i=o(ie());return eo.ChatDocumentSource=i.serialization.object({id:i.serialization.string().optional(),document:i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional()}),eo}var to={},t8;function dY(){if(t8)return to;t8=1;var e=to&&to.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=to&&to.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=to&&to.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(to,"__esModule",{value:!0}),to.ChatToolSource=void 0;const i=o(ie());return to.ChatToolSource=i.serialization.object({id:i.serialization.string().optional(),toolOutput:i.serialization.property("tool_output",i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional())}),to}var r8;function fY(){if(r8)return Xi;r8=1;var e=Xi&&Xi.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Xi&&Xi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Xi&&Xi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Source=void 0;const i=o(ie()),l=cY(),t=dY();return Xi.Source=i.serialization.union("type",{tool:t.ChatToolSource,document:l.ChatDocumentSource}).transform({transform:r=>r,untransform:r=>r}),Xi}var n8;function p0(){if(n8)return Zi;n8=1;var e=Zi&&Zi.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Zi&&Zi.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Zi&&Zi.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Citation=void 0;const i=o(ie()),l=uY(),t=fY();return Zi.Citation=i.serialization.object({start:i.serialization.number().optional(),end:i.serialization.number().optional(),text:i.serialization.string().optional(),sources:i.serialization.list(t.Source).optional(),contentIndex:i.serialization.property("content_index",i.serialization.number().optional()),type:l.CitationType.optional()}),Zi}var ro={},no={},a8;function hY(){if(a8)return no;a8=1;var e=no&&no.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=no&&no.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=no&&no.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(no,"__esModule",{value:!0}),no.ToolCallV2Function=void 0;const i=o(ie());return no.ToolCallV2Function=i.serialization.object({name:i.serialization.string().optional(),arguments:i.serialization.string().optional()}),no}var i8;function m0(){if(i8)return ro;i8=1;var e=ro&&ro.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ro&&ro.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ro&&ro.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ro,"__esModule",{value:!0}),ro.ToolCallV2=void 0;const i=o(ie()),l=hY();return ro.ToolCallV2=i.serialization.object({id:i.serialization.string(),type:i.serialization.stringLiteral("function"),function:l.ToolCallV2Function.optional()}),ro}var o8;function pY(){if(o8)return Ki;o8=1;var e=Ki&&Ki.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=Ki&&Ki.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ki&&Ki.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.AssistantMessage=void 0;const i=o(ie()),l=lY(),t=p0(),r=m0();return Ki.AssistantMessage=i.serialization.object({toolCalls:i.serialization.property("tool_calls",i.serialization.list(r.ToolCallV2).optional()),toolPlan:i.serialization.property("tool_plan",i.serialization.string().optional()),content:l.AssistantMessageV2Content.optional(),citations:i.serialization.list(t.Citation).optional()}),Ki}var ao={},io={},oo={},s8;function mY(){if(s8)return oo;s8=1;var e=oo&&oo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=oo&&oo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=oo&&oo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(oo,"__esModule",{value:!0}),oo.SystemMessageV2ContentItem=void 0;const i=o(ie()),l=_p();return oo.SystemMessageV2ContentItem=i.serialization.union("type",{text:l.ChatTextContent}).transform({transform:t=>t,untransform:t=>t}),oo}var l8;function gY(){if(l8)return io;l8=1;var e=io&&io.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=io&&io.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=io&&io.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(io,"__esModule",{value:!0}),io.SystemMessageV2Content=void 0;const i=o(ie()),l=mY();return io.SystemMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(l.SystemMessageV2ContentItem)]),io}var u8;function _Y(){if(u8)return ao;u8=1;var e=ao&&ao.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ao&&ao.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ao&&ao.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ao,"__esModule",{value:!0}),ao.SystemMessageV2=void 0;const i=o(ie()),l=gY();return ao.SystemMessageV2=i.serialization.object({content:l.SystemMessageV2Content}),ao}var so={},lo={},uo={},co={},fo={},c8;function g0(){if(c8)return fo;c8=1;var e=fo&&fo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=fo&&fo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=fo&&fo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fo,"__esModule",{value:!0}),fo.Document=void 0;const i=o(ie());return fo.Document=i.serialization.object({data:i.serialization.record(i.serialization.string(),i.serialization.unknown()),id:i.serialization.string().optional()}),fo}var d8;function yY(){if(d8)return co;d8=1;var e=co&&co.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=co&&co.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=co&&co.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(co,"__esModule",{value:!0}),co.DocumentContent=void 0;const i=o(ie()),l=g0();return co.DocumentContent=i.serialization.object({document:l.Document}),co}var f8;function vY(){if(f8)return uo;f8=1;var e=uo&&uo.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=uo&&uo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=uo&&uo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(uo,"__esModule",{value:!0}),uo.ToolContent=void 0;const i=o(ie()),l=_p(),t=yY();return uo.ToolContent=i.serialization.union("type",{text:l.ChatTextContent,document:t.DocumentContent}).transform({transform:r=>r,untransform:r=>r}),uo}var h8;function bY(){if(h8)return lo;h8=1;var e=lo&&lo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=lo&&lo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=lo&&lo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(lo,"__esModule",{value:!0}),lo.ToolMessageV2Content=void 0;const i=o(ie()),l=vY();return lo.ToolMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(l.ToolContent)]),lo}var p8;function wY(){if(p8)return so;p8=1;var e=so&&so.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=so&&so.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=so&&so.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(so,"__esModule",{value:!0}),so.ToolMessageV2=void 0;const i=o(ie()),l=bY();return so.ToolMessageV2=i.serialization.object({toolCallId:i.serialization.property("tool_call_id",i.serialization.string()),content:l.ToolMessageV2Content}),so}var ho={},po={},mo={},go={},_o={},yo={},m8;function SY(){if(m8)return yo;m8=1;var e=yo&&yo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=yo&&yo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=yo&&yo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(yo,"__esModule",{value:!0}),yo.ImageUrlDetail=void 0;const i=o(ie());return yo.ImageUrlDetail=i.serialization.enum_(["auto","low","high"]),yo}var g8;function OY(){if(g8)return _o;g8=1;var e=_o&&_o.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=_o&&_o.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=_o&&_o.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(_o,"__esModule",{value:!0}),_o.ImageUrl=void 0;const i=o(ie()),l=SY();return _o.ImageUrl=i.serialization.object({url:i.serialization.string(),detail:l.ImageUrlDetail.optional()}),_o}var _8;function EY(){if(_8)return go;_8=1;var e=go&&go.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=go&&go.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=go&&go.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(go,"__esModule",{value:!0}),go.ImageContent=void 0;const i=o(ie()),l=OY();return go.ImageContent=i.serialization.object({imageUrl:i.serialization.property("image_url",l.ImageUrl)}),go}var y8;function RY(){if(y8)return mo;y8=1;var e=mo&&mo.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=mo&&mo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=mo&&mo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(mo,"__esModule",{value:!0}),mo.Content=void 0;const i=o(ie()),l=_p(),t=EY();return mo.Content=i.serialization.union("type",{text:l.ChatTextContent,image_url:t.ImageContent}).transform({transform:r=>r,untransform:r=>r}),mo}var v8;function jY(){if(v8)return po;v8=1;var e=po&&po.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=po&&po.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=po&&po.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(po,"__esModule",{value:!0}),po.UserMessageV2Content=void 0;const i=o(ie()),l=RY();return po.UserMessageV2Content=i.serialization.undiscriminatedUnion([i.serialization.string(),i.serialization.list(l.Content)]),po}var b8;function xY(){if(b8)return ho;b8=1;var e=ho&&ho.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ho&&ho.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ho&&ho.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ho,"__esModule",{value:!0}),ho.UserMessageV2=void 0;const i=o(ie()),l=jY();return ho.UserMessageV2=i.serialization.object({content:l.UserMessageV2Content}),ho}var w8;function CY(){if(w8)return Hi;w8=1;var e=Hi&&Hi.__createBinding||(Object.create?(function(s,u,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(u,f);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(s,g,b)}):(function(s,u,f,g){g===void 0&&(g=f),s[g]=u[f]})),n=Hi&&Hi.__setModuleDefault||(Object.create?(function(s,u){Object.defineProperty(s,"default",{enumerable:!0,value:u})}):function(s,u){s.default=u}),o=Hi&&Hi.__importStar||(function(){var s=function(u){return s=Object.getOwnPropertyNames||function(f){var g=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(g[g.length]=b);return g},s(u)};return function(u){if(u&&u.__esModule)return u;var f={};if(u!=null)for(var g=s(u),b=0;b<g.length;b++)g[b]!=="default"&&e(f,u,g[b]);return n(f,u),f}})();Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.ChatMessageV2=void 0;const i=o(ie()),l=pY(),t=_Y(),r=wY(),a=xY();return Hi.ChatMessageV2=i.serialization.union("role",{user:a.UserMessageV2,assistant:l.AssistantMessage,system:t.SystemMessageV2,tool:r.ToolMessageV2}).transform({transform:s=>s,untransform:s=>s}),Hi}var S8;function uM(){if(S8)return Gi;S8=1;var e=Gi&&Gi.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Gi&&Gi.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Gi&&Gi.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.ChatMessages=void 0;const i=o(ie()),l=CY();return Gi.ChatMessages=i.serialization.list(l.ChatMessageV2),Gi}var vo={},bo={},O8;function TY(){if(O8)return bo;O8=1;var e=bo&&bo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=bo&&bo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=bo&&bo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(bo,"__esModule",{value:!0}),bo.CitationOptionsMode=void 0;const i=o(ie());return bo.CitationOptionsMode=i.serialization.enum_(["ENABLED","DISABLED","FAST","ACCURATE","OFF"]),bo}var E8;function cM(){if(E8)return vo;E8=1;var e=vo&&vo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=vo&&vo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=vo&&vo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(vo,"__esModule",{value:!0}),vo.CitationOptions=void 0;const i=o(ie()),l=TY();return vo.CitationOptions=i.serialization.object({mode:l.CitationOptionsMode.optional()}),vo}var wo={},So={},R8;function MY(){if(R8)return So;R8=1;var e=So&&So.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=So&&So.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=So&&So.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(So,"__esModule",{value:!0}),So.ChatTextResponseFormatV2=void 0;const i=o(ie());return So.ChatTextResponseFormatV2=i.serialization.object({}),So}var Oo={},j8;function PY(){if(j8)return Oo;j8=1;var e=Oo&&Oo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Oo&&Oo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Oo&&Oo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.JsonResponseFormatV2=void 0;const i=o(ie());return Oo.JsonResponseFormatV2=i.serialization.object({jsonSchema:i.serialization.property("json_schema",i.serialization.record(i.serialization.string(),i.serialization.unknown()).optional())}),Oo}var x8;function dM(){if(x8)return wo;x8=1;var e=wo&&wo.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=wo&&wo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=wo&&wo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(wo,"__esModule",{value:!0}),wo.ResponseFormatV2=void 0;const i=o(ie()),l=MY(),t=PY();return wo.ResponseFormatV2=i.serialization.union("type",{text:l.ChatTextResponseFormatV2,json_object:t.JsonResponseFormatV2}).transform({transform:r=>r,untransform:r=>r}),wo}var Eo={},Ro={},C8;function AY(){if(C8)return Ro;C8=1;var e=Ro&&Ro.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ro&&Ro.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ro&&Ro.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.ThinkingType=void 0;const i=o(ie());return Ro.ThinkingType=i.serialization.enum_(["enabled","disabled"]),Ro}var T8;function fM(){if(T8)return Eo;T8=1;var e=Eo&&Eo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Eo&&Eo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Eo&&Eo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.Thinking=void 0;const i=o(ie()),l=AY();return Eo.Thinking=i.serialization.object({type:l.ThinkingType,tokenBudget:i.serialization.property("token_budget",i.serialization.number().optional())}),Eo}var jo={},xo={},M8;function NY(){if(M8)return xo;M8=1;var e=xo&&xo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=xo&&xo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=xo&&xo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(xo,"__esModule",{value:!0}),xo.ToolV2Function=void 0;const i=o(ie());return xo.ToolV2Function=i.serialization.object({name:i.serialization.string(),description:i.serialization.string().optional(),parameters:i.serialization.record(i.serialization.string(),i.serialization.unknown())}),xo}var P8;function hM(){if(P8)return jo;P8=1;var e=jo&&jo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=jo&&jo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=jo&&jo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(jo,"__esModule",{value:!0}),jo.ToolV2=void 0;const i=o(ie()),l=NY();return jo.ToolV2=i.serialization.object({type:i.serialization.stringLiteral("function"),function:l.ToolV2Function.optional()}),jo}var Co={},A8;function DY(){if(A8)return Co;A8=1;var e=Co&&Co.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Co&&Co.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Co&&Co.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Co,"__esModule",{value:!0}),Co.V2ChatRequestDocumentsItem=void 0;const i=o(ie()),l=g0();return Co.V2ChatRequestDocumentsItem=i.serialization.undiscriminatedUnion([i.serialization.string(),l.Document]),Co}var To={},N8;function IY(){if(N8)return To;N8=1;var e=To&&To.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=To&&To.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=To&&To.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(To,"__esModule",{value:!0}),To.V2ChatRequestSafetyMode=void 0;const i=o(ie());return To.V2ChatRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","OFF"]),To}var Mo={},D8;function zY(){if(D8)return Mo;D8=1;var e=Mo&&Mo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Mo&&Mo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Mo&&Mo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.V2ChatRequestToolChoice=void 0;const i=o(ie());return Mo.V2ChatRequestToolChoice=i.serialization.enum_(["REQUIRED","NONE"]),Mo}var I8;function Tye(){if(I8)return Vi;I8=1;var e=Vi&&Vi.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),n=Vi&&Vi.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),o=Vi&&Vi.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&e(p,_,y[v]);return n(p,_),p}})();Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.V2ChatRequest=void 0;const i=o(ie()),l=uM(),t=cM(),r=dM(),a=fM(),s=hM(),u=DY(),f=IY(),g=zY();return Vi.V2ChatRequest=i.serialization.object({model:i.serialization.string(),messages:l.ChatMessages,tools:i.serialization.list(s.ToolV2).optional(),strictTools:i.serialization.property("strict_tools",i.serialization.boolean().optional()),documents:i.serialization.list(u.V2ChatRequestDocumentsItem).optional(),citationOptions:i.serialization.property("citation_options",t.CitationOptions.optional()),responseFormat:i.serialization.property("response_format",r.ResponseFormatV2.optional()),safetyMode:i.serialization.property("safety_mode",f.V2ChatRequestSafetyMode.optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),logprobs:i.serialization.boolean().optional(),toolChoice:i.serialization.property("tool_choice",g.V2ChatRequestToolChoice.optional()),thinking:a.Thinking.optional(),priority:i.serialization.number().optional()}),Vi}var Po={},Ao={},z8;function BY(){if(z8)return Ao;z8=1;var e=Ao&&Ao.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ao&&Ao.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ao&&Ao.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.V2ChatStreamRequestDocumentsItem=void 0;const i=o(ie()),l=g0();return Ao.V2ChatStreamRequestDocumentsItem=i.serialization.undiscriminatedUnion([i.serialization.string(),l.Document]),Ao}var No={},B8;function qY(){if(B8)return No;B8=1;var e=No&&No.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=No&&No.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=No&&No.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(No,"__esModule",{value:!0}),No.V2ChatStreamRequestSafetyMode=void 0;const i=o(ie());return No.V2ChatStreamRequestSafetyMode=i.serialization.enum_(["CONTEXTUAL","STRICT","OFF"]),No}var Do={},q8;function LY(){if(q8)return Do;q8=1;var e=Do&&Do.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Do&&Do.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Do&&Do.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Do,"__esModule",{value:!0}),Do.V2ChatStreamRequestToolChoice=void 0;const i=o(ie());return Do.V2ChatStreamRequestToolChoice=i.serialization.enum_(["REQUIRED","NONE"]),Do}var L8;function Mye(){if(L8)return Po;L8=1;var e=Po&&Po.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),n=Po&&Po.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),o=Po&&Po.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&e(p,_,y[v]);return n(p,_),p}})();Object.defineProperty(Po,"__esModule",{value:!0}),Po.V2ChatStreamRequest=void 0;const i=o(ie()),l=uM(),t=cM(),r=dM(),a=fM(),s=hM(),u=BY(),f=qY(),g=LY();return Po.V2ChatStreamRequest=i.serialization.object({model:i.serialization.string(),messages:l.ChatMessages,tools:i.serialization.list(s.ToolV2).optional(),strictTools:i.serialization.property("strict_tools",i.serialization.boolean().optional()),documents:i.serialization.list(u.V2ChatStreamRequestDocumentsItem).optional(),citationOptions:i.serialization.property("citation_options",t.CitationOptions.optional()),responseFormat:i.serialization.property("response_format",r.ResponseFormatV2.optional()),safetyMode:i.serialization.property("safety_mode",f.V2ChatStreamRequestSafetyMode.optional()),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),stopSequences:i.serialization.property("stop_sequences",i.serialization.list(i.serialization.string()).optional()),temperature:i.serialization.number().optional(),seed:i.serialization.number().optional(),frequencyPenalty:i.serialization.property("frequency_penalty",i.serialization.number().optional()),presencePenalty:i.serialization.property("presence_penalty",i.serialization.number().optional()),k:i.serialization.number().optional(),p:i.serialization.number().optional(),logprobs:i.serialization.boolean().optional(),toolChoice:i.serialization.property("tool_choice",g.V2ChatStreamRequestToolChoice.optional()),thinking:a.Thinking.optional(),priority:i.serialization.number().optional()}),Po}var Io={},zo={},Bo={},qo={},Lo={},U8;function UY(){if(U8)return Lo;U8=1;var e=Lo&&Lo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Lo&&Lo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Lo&&Lo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.EmbedImageUrl=void 0;const i=o(ie());return Lo.EmbedImageUrl=i.serialization.object({url:i.serialization.string()}),Lo}var $8;function $Y(){if($8)return qo;$8=1;var e=qo&&qo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=qo&&qo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=qo&&qo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(qo,"__esModule",{value:!0}),qo.EmbedImage=void 0;const i=o(ie()),l=UY();return qo.EmbedImage=i.serialization.object({imageUrl:i.serialization.property("image_url",l.EmbedImageUrl.optional())}),qo}var Uo={},F8;function FY(){if(F8)return Uo;F8=1;var e=Uo&&Uo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Uo&&Uo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Uo&&Uo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.EmbedText=void 0;const i=o(ie());return Uo.EmbedText=i.serialization.object({text:i.serialization.string().optional()}),Uo}var V8;function VY(){if(V8)return Bo;V8=1;var e=Bo&&Bo.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Bo&&Bo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Bo&&Bo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.EmbedContent=void 0;const i=o(ie()),l=$Y(),t=FY();return Bo.EmbedContent=i.serialization.union("type",{image_url:l.EmbedImage,text:t.EmbedText}).transform({transform:r=>r,untransform:r=>r}),Bo}var G8;function GY(){if(G8)return zo;G8=1;var e=zo&&zo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=zo&&zo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=zo&&zo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(zo,"__esModule",{value:!0}),zo.EmbedInput=void 0;const i=o(ie()),l=VY();return zo.EmbedInput=i.serialization.object({content:i.serialization.list(l.EmbedContent)}),zo}var $o={},H8;function HY(){if(H8)return $o;H8=1;var e=$o&&$o.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=$o&&$o.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=$o&&$o.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($o,"__esModule",{value:!0}),$o.V2EmbedRequestTruncate=void 0;const i=o(ie());return $o.V2EmbedRequestTruncate=i.serialization.enum_(["NONE","START","END"]),$o}var K8;function Pye(){if(K8)return Io;K8=1;var e=Io&&Io.__createBinding||(Object.create?(function(s,u,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(u,f);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(s,g,b)}):(function(s,u,f,g){g===void 0&&(g=f),s[g]=u[f]})),n=Io&&Io.__setModuleDefault||(Object.create?(function(s,u){Object.defineProperty(s,"default",{enumerable:!0,value:u})}):function(s,u){s.default=u}),o=Io&&Io.__importStar||(function(){var s=function(u){return s=Object.getOwnPropertyNames||function(f){var g=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(g[g.length]=b);return g},s(u)};return function(u){if(u&&u.__esModule)return u;var f={};if(u!=null)for(var g=s(u),b=0;b<g.length;b++)g[b]!=="default"&&e(f,u,g[b]);return n(f,u),f}})();Object.defineProperty(Io,"__esModule",{value:!0}),Io.V2EmbedRequest=void 0;const i=o(ie()),l=c0(),t=GY(),r=d0(),a=HY();return Io.V2EmbedRequest=i.serialization.object({texts:i.serialization.list(i.serialization.string()).optional(),images:i.serialization.list(i.serialization.string()).optional(),model:i.serialization.string(),inputType:i.serialization.property("input_type",r.EmbedInputType),inputs:i.serialization.list(t.EmbedInput).optional(),maxTokens:i.serialization.property("max_tokens",i.serialization.number().optional()),outputDimension:i.serialization.property("output_dimension",i.serialization.number().optional()),embeddingTypes:i.serialization.property("embedding_types",i.serialization.list(l.EmbeddingType).optional()),truncate:a.V2EmbedRequestTruncate.optional(),priority:i.serialization.number().optional()}),Io}var Fo={},k8;function Aye(){if(k8)return Fo;k8=1;var e=Fo&&Fo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Fo&&Fo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Fo&&Fo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.V2RerankRequest=void 0;const i=o(ie());return Fo.V2RerankRequest=i.serialization.object({model:i.serialization.string(),query:i.serialization.string(),documents:i.serialization.list(i.serialization.string()),topN:i.serialization.property("top_n",i.serialization.number().optional()),maxTokensPerDoc:i.serialization.property("max_tokens_per_doc",i.serialization.number().optional()),priority:i.serialization.number().optional()}),Fo}var Y8;function KY(){return Y8||(Y8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.V2RerankRequest=e.V2EmbedRequest=e.V2ChatStreamRequest=e.V2ChatRequest=void 0;var n=Tye();Object.defineProperty(e,"V2ChatRequest",{enumerable:!0,get:function(){return n.V2ChatRequest}});var o=Mye();Object.defineProperty(e,"V2ChatStreamRequest",{enumerable:!0,get:function(){return o.V2ChatStreamRequest}});var i=Pye();Object.defineProperty(e,"V2EmbedRequest",{enumerable:!0,get:function(){return i.V2EmbedRequest}});var l=Aye();Object.defineProperty(e,"V2RerankRequest",{enumerable:!0,get:function(){return l.V2RerankRequest}})})(LC)),LC}var W8;function Nye(){return W8||(W8=1,(function(e){var n=Mf&&Mf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Mf&&Mf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(KY(),e)})(Mf)),Mf}var Pf={},Vo={},Go={},Ho={},J8;function kY(){if(J8)return Ho;J8=1;var e=Ho&&Ho.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Ho&&Ho.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ho&&Ho.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.AssistantMessageResponseContentItem=void 0;const i=o(ie()),l=_p(),t=lM();return Ho.AssistantMessageResponseContentItem=i.serialization.union("type",{text:l.ChatTextContent,thinking:t.ChatThinkingContent}).transform({transform:r=>r,untransform:r=>r}),Ho}var Z8;function YY(){if(Z8)return Go;Z8=1;var e=Go&&Go.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=Go&&Go.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Go&&Go.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(Go,"__esModule",{value:!0}),Go.AssistantMessageResponse=void 0;const i=o(ie()),l=kY(),t=p0(),r=m0();return Go.AssistantMessageResponse=i.serialization.object({role:i.serialization.stringLiteral("assistant"),toolCalls:i.serialization.property("tool_calls",i.serialization.list(r.ToolCallV2).optional()),toolPlan:i.serialization.property("tool_plan",i.serialization.string().optional()),content:i.serialization.list(l.AssistantMessageResponseContentItem).optional(),citations:i.serialization.list(t.Citation).optional()}),Go}var Ko={},Q8;function pM(){if(Q8)return Ko;Q8=1;var e=Ko&&Ko.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ko&&Ko.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ko&&Ko.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.ChatFinishReason=void 0;const i=o(ie());return Ko.ChatFinishReason=i.serialization.enum_(["COMPLETE","STOP_SEQUENCE","MAX_TOKENS","TOOL_CALL","ERROR","TIMEOUT"]),Ko}var ko={},X8;function mM(){if(X8)return ko;X8=1;var e=ko&&ko.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ko&&ko.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ko&&ko.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ko,"__esModule",{value:!0}),ko.LogprobItem=void 0;const i=o(ie());return ko.LogprobItem=i.serialization.object({text:i.serialization.string().optional(),tokenIds:i.serialization.property("token_ids",i.serialization.list(i.serialization.number())),logprobs:i.serialization.list(i.serialization.number()).optional()}),ko}var Yo={},Wo={},e9;function WY(){if(e9)return Wo;e9=1;var e=Wo&&Wo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Wo&&Wo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Wo&&Wo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.UsageBilledUnits=void 0;const i=o(ie());return Wo.UsageBilledUnits=i.serialization.object({inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional()),searchUnits:i.serialization.property("search_units",i.serialization.number().optional()),classifications:i.serialization.number().optional()}),Wo}var Jo={},t9;function JY(){if(t9)return Jo;t9=1;var e=Jo&&Jo.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Jo&&Jo.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Jo&&Jo.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.UsageTokens=void 0;const i=o(ie());return Jo.UsageTokens=i.serialization.object({inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional())}),Jo}var r9;function gM(){if(r9)return Yo;r9=1;var e=Yo&&Yo.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Yo&&Yo.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Yo&&Yo.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.Usage=void 0;const i=o(ie()),l=WY(),t=JY();return Yo.Usage=i.serialization.object({billedUnits:i.serialization.property("billed_units",l.UsageBilledUnits.optional()),tokens:t.UsageTokens.optional(),cachedTokens:i.serialization.property("cached_tokens",i.serialization.number().optional())}),Yo}var n9;function Dye(){if(n9)return Vo;n9=1;var e=Vo&&Vo.__createBinding||(Object.create?(function(s,u,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(u,f);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(s,g,b)}):(function(s,u,f,g){g===void 0&&(g=f),s[g]=u[f]})),n=Vo&&Vo.__setModuleDefault||(Object.create?(function(s,u){Object.defineProperty(s,"default",{enumerable:!0,value:u})}):function(s,u){s.default=u}),o=Vo&&Vo.__importStar||(function(){var s=function(u){return s=Object.getOwnPropertyNames||function(f){var g=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(g[g.length]=b);return g},s(u)};return function(u){if(u&&u.__esModule)return u;var f={};if(u!=null)for(var g=s(u),b=0;b<g.length;b++)g[b]!=="default"&&e(f,u,g[b]);return n(f,u),f}})();Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.V2ChatResponse=void 0;const i=o(ie()),l=YY(),t=pM(),r=mM(),a=gM();return Vo.V2ChatResponse=i.serialization.object({id:i.serialization.string(),finishReason:i.serialization.property("finish_reason",t.ChatFinishReason),message:l.AssistantMessageResponse,usage:a.Usage.optional(),logprobs:i.serialization.list(r.LogprobItem).optional()}),Vo}var Zo={},Qo={},Xo={},es={},ts={},a9;function ZY(){if(a9)return ts;a9=1;var e=ts&&ts.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ts&&ts.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ts&&ts.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ts,"__esModule",{value:!0}),ts.ChatContentDeltaEventDeltaMessageContent=void 0;const i=o(ie());return ts.ChatContentDeltaEventDeltaMessageContent=i.serialization.object({thinking:i.serialization.string().optional(),text:i.serialization.string().optional()}),ts}var i9;function QY(){if(i9)return es;i9=1;var e=es&&es.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=es&&es.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=es&&es.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(es,"__esModule",{value:!0}),es.ChatContentDeltaEventDeltaMessage=void 0;const i=o(ie()),l=ZY();return es.ChatContentDeltaEventDeltaMessage=i.serialization.object({content:l.ChatContentDeltaEventDeltaMessageContent.optional()}),es}var o9;function XY(){if(o9)return Xo;o9=1;var e=Xo&&Xo.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Xo&&Xo.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Xo&&Xo.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.ChatContentDeltaEventDelta=void 0;const i=o(ie()),l=QY();return Xo.ChatContentDeltaEventDelta=i.serialization.object({message:l.ChatContentDeltaEventDeltaMessage.optional()}),Xo}var rs={},s9;function Un(){if(s9)return rs;s9=1;var e=rs&&rs.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=rs&&rs.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=rs&&rs.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(rs,"__esModule",{value:!0}),rs.ChatStreamEventType=void 0;const i=o(ie());return rs.ChatStreamEventType=i.serialization.object({}),rs}var l9;function eW(){if(l9)return Qo;l9=1;var e=Qo&&Qo.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=Qo&&Qo.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Qo&&Qo.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.ChatContentDeltaEvent=void 0;const i=o(ie()),l=XY(),t=Un(),r=mM();return Qo.ChatContentDeltaEvent=i.serialization.object({index:i.serialization.number().optional(),delta:l.ChatContentDeltaEventDelta.optional(),logprobs:r.LogprobItem.optional()}).extend(t.ChatStreamEventType),Qo}var ns={},u9;function tW(){if(u9)return ns;u9=1;var e=ns&&ns.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ns&&ns.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ns&&ns.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ns,"__esModule",{value:!0}),ns.ChatContentEndEvent=void 0;const i=o(ie()),l=Un();return ns.ChatContentEndEvent=i.serialization.object({index:i.serialization.number().optional()}).extend(l.ChatStreamEventType),ns}var as={},is={},os={},ss={},ls={},c9;function rW(){if(c9)return ls;c9=1;var e=ls&&ls.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ls&&ls.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ls&&ls.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ls,"__esModule",{value:!0}),ls.ChatContentStartEventDeltaMessageContentType=void 0;const i=o(ie());return ls.ChatContentStartEventDeltaMessageContentType=i.serialization.enum_(["text","thinking"]),ls}var d9;function nW(){if(d9)return ss;d9=1;var e=ss&&ss.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ss&&ss.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ss&&ss.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ss,"__esModule",{value:!0}),ss.ChatContentStartEventDeltaMessageContent=void 0;const i=o(ie()),l=rW();return ss.ChatContentStartEventDeltaMessageContent=i.serialization.object({thinking:i.serialization.string().optional(),text:i.serialization.string().optional(),type:l.ChatContentStartEventDeltaMessageContentType.optional()}),ss}var f9;function aW(){if(f9)return os;f9=1;var e=os&&os.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=os&&os.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=os&&os.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(os,"__esModule",{value:!0}),os.ChatContentStartEventDeltaMessage=void 0;const i=o(ie()),l=nW();return os.ChatContentStartEventDeltaMessage=i.serialization.object({content:l.ChatContentStartEventDeltaMessageContent.optional()}),os}var h9;function iW(){if(h9)return is;h9=1;var e=is&&is.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=is&&is.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=is&&is.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(is,"__esModule",{value:!0}),is.ChatContentStartEventDelta=void 0;const i=o(ie()),l=aW();return is.ChatContentStartEventDelta=i.serialization.object({message:l.ChatContentStartEventDeltaMessage.optional()}),is}var p9;function oW(){if(p9)return as;p9=1;var e=as&&as.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=as&&as.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=as&&as.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(as,"__esModule",{value:!0}),as.ChatContentStartEvent=void 0;const i=o(ie()),l=iW(),t=Un();return as.ChatContentStartEvent=i.serialization.object({index:i.serialization.number().optional(),delta:l.ChatContentStartEventDelta.optional()}).extend(t.ChatStreamEventType),as}var us={},cs={},m9;function ju(){if(m9)return cs;m9=1;var e=cs&&cs.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=cs&&cs.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=cs&&cs.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(cs,"__esModule",{value:!0}),cs.ChatStreamEvent=void 0;const i=o(ie());return cs.ChatStreamEvent=i.serialization.object({}),cs}var g9;function _M(){if(g9)return us;g9=1;var e=us&&us.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=us&&us.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=us&&us.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(us,"__esModule",{value:!0}),us.ChatDebugEvent=void 0;const i=o(ie()),l=ju();return us.ChatDebugEvent=i.serialization.object({prompt:i.serialization.string().optional()}).extend(l.ChatStreamEvent),us}var ds={},fs={},_9;function sW(){if(_9)return fs;_9=1;var e=fs&&fs.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=fs&&fs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=fs&&fs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(fs,"__esModule",{value:!0}),fs.ChatMessageEndEventDelta=void 0;const i=o(ie()),l=pM(),t=gM();return fs.ChatMessageEndEventDelta=i.serialization.object({error:i.serialization.string().optional(),finishReason:i.serialization.property("finish_reason",l.ChatFinishReason.optional()),usage:t.Usage.optional()}),fs}var y9;function lW(){if(y9)return ds;y9=1;var e=ds&&ds.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=ds&&ds.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ds&&ds.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(ds,"__esModule",{value:!0}),ds.ChatMessageEndEvent=void 0;const i=o(ie()),l=sW(),t=Un();return ds.ChatMessageEndEvent=i.serialization.object({id:i.serialization.string().optional(),delta:l.ChatMessageEndEventDelta.optional()}).extend(t.ChatStreamEventType),ds}var hs={},ps={},ms={},v9;function uW(){if(v9)return ms;v9=1;var e=ms&&ms.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ms&&ms.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ms&&ms.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ms,"__esModule",{value:!0}),ms.ChatMessageStartEventDeltaMessage=void 0;const i=o(ie());return ms.ChatMessageStartEventDeltaMessage=i.serialization.object({role:i.serialization.stringLiteral("assistant").optional()}),ms}var b9;function cW(){if(b9)return ps;b9=1;var e=ps&&ps.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ps&&ps.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ps&&ps.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ps,"__esModule",{value:!0}),ps.ChatMessageStartEventDelta=void 0;const i=o(ie()),l=uW();return ps.ChatMessageStartEventDelta=i.serialization.object({message:l.ChatMessageStartEventDeltaMessage.optional()}),ps}var w9;function dW(){if(w9)return hs;w9=1;var e=hs&&hs.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=hs&&hs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=hs&&hs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(hs,"__esModule",{value:!0}),hs.ChatMessageStartEvent=void 0;const i=o(ie()),l=cW(),t=Un();return hs.ChatMessageStartEvent=i.serialization.object({id:i.serialization.string().optional(),delta:l.ChatMessageStartEventDelta.optional()}).extend(t.ChatStreamEventType),hs}var gs={},_s={},ys={},vs={},bs={},S9;function fW(){if(S9)return bs;S9=1;var e=bs&&bs.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=bs&&bs.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=bs&&bs.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(bs,"__esModule",{value:!0}),bs.ChatToolCallDeltaEventDeltaMessageToolCallsFunction=void 0;const i=o(ie());return bs.ChatToolCallDeltaEventDeltaMessageToolCallsFunction=i.serialization.object({arguments:i.serialization.string().optional()}),bs}var O9;function hW(){if(O9)return vs;O9=1;var e=vs&&vs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=vs&&vs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=vs&&vs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(vs,"__esModule",{value:!0}),vs.ChatToolCallDeltaEventDeltaMessageToolCalls=void 0;const i=o(ie()),l=fW();return vs.ChatToolCallDeltaEventDeltaMessageToolCalls=i.serialization.object({function:l.ChatToolCallDeltaEventDeltaMessageToolCallsFunction.optional()}),vs}var E9;function pW(){if(E9)return ys;E9=1;var e=ys&&ys.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ys&&ys.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ys&&ys.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ys,"__esModule",{value:!0}),ys.ChatToolCallDeltaEventDeltaMessage=void 0;const i=o(ie()),l=hW();return ys.ChatToolCallDeltaEventDeltaMessage=i.serialization.object({toolCalls:i.serialization.property("tool_calls",l.ChatToolCallDeltaEventDeltaMessageToolCalls.optional())}),ys}var R9;function mW(){if(R9)return _s;R9=1;var e=_s&&_s.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=_s&&_s.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=_s&&_s.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(_s,"__esModule",{value:!0}),_s.ChatToolCallDeltaEventDelta=void 0;const i=o(ie()),l=pW();return _s.ChatToolCallDeltaEventDelta=i.serialization.object({message:l.ChatToolCallDeltaEventDeltaMessage.optional()}),_s}var j9;function gW(){if(j9)return gs;j9=1;var e=gs&&gs.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=gs&&gs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=gs&&gs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(gs,"__esModule",{value:!0}),gs.ChatToolCallDeltaEvent=void 0;const i=o(ie()),l=Un(),t=mW();return gs.ChatToolCallDeltaEvent=i.serialization.object({index:i.serialization.number().optional(),delta:t.ChatToolCallDeltaEventDelta.optional()}).extend(l.ChatStreamEventType),gs}var ws={},x9;function _W(){if(x9)return ws;x9=1;var e=ws&&ws.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ws&&ws.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ws&&ws.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ws,"__esModule",{value:!0}),ws.ChatToolCallEndEvent=void 0;const i=o(ie()),l=Un();return ws.ChatToolCallEndEvent=i.serialization.object({index:i.serialization.number().optional()}).extend(l.ChatStreamEventType),ws}var Ss={},Os={},Es={},C9;function yW(){if(C9)return Es;C9=1;var e=Es&&Es.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Es&&Es.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Es&&Es.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Es,"__esModule",{value:!0}),Es.ChatToolCallStartEventDeltaMessage=void 0;const i=o(ie()),l=m0();return Es.ChatToolCallStartEventDeltaMessage=i.serialization.object({toolCalls:i.serialization.property("tool_calls",l.ToolCallV2.optional())}),Es}var T9;function vW(){if(T9)return Os;T9=1;var e=Os&&Os.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Os&&Os.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Os&&Os.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Os,"__esModule",{value:!0}),Os.ChatToolCallStartEventDelta=void 0;const i=o(ie()),l=yW();return Os.ChatToolCallStartEventDelta=i.serialization.object({message:l.ChatToolCallStartEventDeltaMessage.optional()}),Os}var M9;function bW(){if(M9)return Ss;M9=1;var e=Ss&&Ss.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Ss&&Ss.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ss&&Ss.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.ChatToolCallStartEvent=void 0;const i=o(ie()),l=Un(),t=vW();return Ss.ChatToolCallStartEvent=i.serialization.object({index:i.serialization.number().optional(),delta:t.ChatToolCallStartEventDelta.optional()}).extend(l.ChatStreamEventType),Ss}var Rs={},js={},xs={},P9;function wW(){if(P9)return xs;P9=1;var e=xs&&xs.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=xs&&xs.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=xs&&xs.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(xs,"__esModule",{value:!0}),xs.ChatToolPlanDeltaEventDeltaMessage=void 0;const i=o(ie());return xs.ChatToolPlanDeltaEventDeltaMessage=i.serialization.object({toolPlan:i.serialization.property("tool_plan",i.serialization.string().optional())}),xs}var A9;function SW(){if(A9)return js;A9=1;var e=js&&js.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=js&&js.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=js&&js.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(js,"__esModule",{value:!0}),js.ChatToolPlanDeltaEventDelta=void 0;const i=o(ie()),l=wW();return js.ChatToolPlanDeltaEventDelta=i.serialization.object({message:l.ChatToolPlanDeltaEventDeltaMessage.optional()}),js}var N9;function OW(){if(N9)return Rs;N9=1;var e=Rs&&Rs.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Rs&&Rs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Rs&&Rs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.ChatToolPlanDeltaEvent=void 0;const i=o(ie()),l=Un(),t=SW();return Rs.ChatToolPlanDeltaEvent=i.serialization.object({delta:t.ChatToolPlanDeltaEventDelta.optional()}).extend(l.ChatStreamEventType),Rs}var Cs={},D9;function EW(){if(D9)return Cs;D9=1;var e=Cs&&Cs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Cs&&Cs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Cs&&Cs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.CitationEndEvent=void 0;const i=o(ie()),l=Un();return Cs.CitationEndEvent=i.serialization.object({index:i.serialization.number().optional()}).extend(l.ChatStreamEventType),Cs}var Ts={},Ms={},Ps={},I9;function RW(){if(I9)return Ps;I9=1;var e=Ps&&Ps.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ps&&Ps.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ps&&Ps.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.CitationStartEventDeltaMessage=void 0;const i=o(ie()),l=p0();return Ps.CitationStartEventDeltaMessage=i.serialization.object({citations:l.Citation.optional()}),Ps}var z9;function jW(){if(z9)return Ms;z9=1;var e=Ms&&Ms.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ms&&Ms.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ms&&Ms.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.CitationStartEventDelta=void 0;const i=o(ie()),l=RW();return Ms.CitationStartEventDelta=i.serialization.object({message:l.CitationStartEventDeltaMessage.optional()}),Ms}var B9;function xW(){if(B9)return Ts;B9=1;var e=Ts&&Ts.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Ts&&Ts.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ts&&Ts.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.CitationStartEvent=void 0;const i=o(ie()),l=Un(),t=jW();return Ts.CitationStartEvent=i.serialization.object({index:i.serialization.number().optional(),delta:t.CitationStartEventDelta.optional()}).extend(l.ChatStreamEventType),Ts}var q9;function Iye(){if(q9)return Zo;q9=1;var e=Zo&&Zo.__createBinding||(Object.create?(function(v,E,j,x){x===void 0&&(x=j);var A=Object.getOwnPropertyDescriptor(E,j);(!A||("get"in A?!E.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return E[j]}}),Object.defineProperty(v,x,A)}):(function(v,E,j,x){x===void 0&&(x=j),v[x]=E[j]})),n=Zo&&Zo.__setModuleDefault||(Object.create?(function(v,E){Object.defineProperty(v,"default",{enumerable:!0,value:E})}):function(v,E){v.default=E}),o=Zo&&Zo.__importStar||(function(){var v=function(E){return v=Object.getOwnPropertyNames||function(j){var x=[];for(var A in j)Object.prototype.hasOwnProperty.call(j,A)&&(x[x.length]=A);return x},v(E)};return function(E){if(E&&E.__esModule)return E;var j={};if(E!=null)for(var x=v(E),A=0;A<x.length;A++)x[A]!=="default"&&e(j,E,x[A]);return n(j,E),j}})();Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.V2ChatStreamResponse=void 0;const i=o(ie()),l=eW(),t=tW(),r=oW(),a=_M(),s=lW(),u=dW(),f=gW(),g=_W(),b=bW(),_=OW(),p=EW(),y=xW();return Zo.V2ChatStreamResponse=i.serialization.union("type",{"message-start":u.ChatMessageStartEvent,"content-start":r.ChatContentStartEvent,"content-delta":l.ChatContentDeltaEvent,"content-end":t.ChatContentEndEvent,"tool-plan-delta":_.ChatToolPlanDeltaEvent,"tool-call-start":b.ChatToolCallStartEvent,"tool-call-delta":f.ChatToolCallDeltaEvent,"tool-call-end":g.ChatToolCallEndEvent,"citation-start":y.CitationStartEvent,"citation-end":p.CitationEndEvent,"message-end":s.ChatMessageEndEvent,debug:a.ChatDebugEvent}).transform({transform:v=>v,untransform:v=>v}),Zo}var As={},Ns={},Ds={},L9;function CW(){if(L9)return Ds;L9=1;var e=Ds&&Ds.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ds&&Ds.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ds&&Ds.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.ApiMetaApiVersion=void 0;const i=o(ie());return Ds.ApiMetaApiVersion=i.serialization.object({version:i.serialization.string(),isDeprecated:i.serialization.property("is_deprecated",i.serialization.boolean().optional()),isExperimental:i.serialization.property("is_experimental",i.serialization.boolean().optional())}),Ds}var Is={},U9;function TW(){if(U9)return Is;U9=1;var e=Is&&Is.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Is&&Is.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Is&&Is.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Is,"__esModule",{value:!0}),Is.ApiMetaBilledUnits=void 0;const i=o(ie());return Is.ApiMetaBilledUnits=i.serialization.object({images:i.serialization.number().optional(),inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional()),searchUnits:i.serialization.property("search_units",i.serialization.number().optional()),classifications:i.serialization.number().optional()}),Is}var zs={},$9;function MW(){if($9)return zs;$9=1;var e=zs&&zs.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=zs&&zs.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=zs&&zs.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(zs,"__esModule",{value:!0}),zs.ApiMetaTokens=void 0;const i=o(ie());return zs.ApiMetaTokens=i.serialization.object({inputTokens:i.serialization.property("input_tokens",i.serialization.number().optional()),outputTokens:i.serialization.property("output_tokens",i.serialization.number().optional())}),zs}var F9;function On(){if(F9)return Ns;F9=1;var e=Ns&&Ns.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=Ns&&Ns.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ns&&Ns.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.ApiMeta=void 0;const i=o(ie()),l=CW(),t=TW(),r=MW();return Ns.ApiMeta=i.serialization.object({apiVersion:i.serialization.property("api_version",l.ApiMetaApiVersion.optional()),billedUnits:i.serialization.property("billed_units",t.ApiMetaBilledUnits.optional()),tokens:r.ApiMetaTokens.optional(),cachedTokens:i.serialization.property("cached_tokens",i.serialization.number().optional()),warnings:i.serialization.list(i.serialization.string()).optional()}),Ns}var Bs={},V9;function PW(){if(V9)return Bs;V9=1;var e=Bs&&Bs.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Bs&&Bs.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Bs&&Bs.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.V2RerankResponseResultsItem=void 0;const i=o(ie());return Bs.V2RerankResponseResultsItem=i.serialization.object({index:i.serialization.number(),relevanceScore:i.serialization.property("relevance_score",i.serialization.number())}),Bs}var G9;function zye(){if(G9)return As;G9=1;var e=As&&As.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=As&&As.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=As&&As.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(As,"__esModule",{value:!0}),As.V2RerankResponse=void 0;const i=o(ie()),l=On(),t=PW();return As.V2RerankResponse=i.serialization.object({id:i.serialization.string().optional(),results:i.serialization.list(t.V2RerankResponseResultsItem),meta:l.ApiMeta.optional()}),As}var H9;function AW(){return H9||(H9=1,(function(e){var n=Pf&&Pf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Pf&&Pf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(DY(),e),o(IY(),e),o(zY(),e),o(Dye(),e),o(BY(),e),o(qY(),e),o(LY(),e),o(Iye(),e),o(HY(),e),o(zye(),e),o(PW(),e)})(Pf)),Pf}var K9;function Bye(){return K9||(K9=1,(function(e){var n=Tf&&Tf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Tf&&Tf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Nye(),e),o(AW(),e)})(Tf)),Tf}var k9;function qye(){return k9||(k9=1,(function(e){var n=Xa&&Xa.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),o=Xa&&Xa.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),i=Xa&&Xa.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&n(a,r,s[u]);return o(a,r),a}})(),l=Xa&&Xa.__exportStar||function(t,r){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,t,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.v2=e.finetuning=e.embedJobs=e.datasets=e.connectors=e.batches=void 0,e.batches=i(rye()),l($k(),e),e.connectors=i(oye()),l(Vk(),e),e.datasets=i(hye()),l(kk(),e),e.embedJobs=i(gye()),l(Wk(),e),l(Jk(),e),e.finetuning=i(Cye()),l(nY(),e),e.v2=i(Bye()),l(KY(),e),l(AW(),e)})(Xa)),Xa}var Af={},qs={},Ls={},Y9;function NW(){if(Y9)return Ls;Y9=1;var e=Ls&&Ls.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ls&&Ls.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ls&&Ls.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.ChatCitationType=void 0;const i=o(ie());return Ls.ChatCitationType=i.serialization.enum_(["TEXT_CONTENT","PLAN"]),Ls}var W9;function yM(){if(W9)return qs;W9=1;var e=qs&&qs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=qs&&qs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=qs&&qs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(qs,"__esModule",{value:!0}),qs.ChatCitation=void 0;const i=o(ie()),l=NW();return qs.ChatCitation=i.serialization.object({start:i.serialization.number(),end:i.serialization.number(),text:i.serialization.string(),documentIds:i.serialization.property("document_ids",i.serialization.list(i.serialization.string())),type:l.ChatCitationType.optional()}),qs}var Us={},J9;function DW(){if(J9)return Us;J9=1;var e=Us&&Us.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Us&&Us.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Us&&Us.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Us,"__esModule",{value:!0}),Us.ChatCitationGenerationEvent=void 0;const i=o(ie()),l=yM(),t=ju();return Us.ChatCitationGenerationEvent=i.serialization.object({citations:i.serialization.list(l.ChatCitation)}).extend(t.ChatStreamEvent),Us}var $s={},Z9;function Lye(){if(Z9)return $s;Z9=1;var e=$s&&$s.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=$s&&$s.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=$s&&$s.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty($s,"__esModule",{value:!0}),$s.ChatDataMetrics=void 0;const i=o(ie());return $s.ChatDataMetrics=i.serialization.object({numTrainTurns:i.serialization.property("num_train_turns",i.serialization.number().optional()),numEvalTurns:i.serialization.property("num_eval_turns",i.serialization.number().optional()),preamble:i.serialization.string().optional()}),$s}var Fs={},Vs={},Q9;function _0(){if(Q9)return Vs;Q9=1;var e=Vs&&Vs.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Vs&&Vs.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Vs&&Vs.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.ChatSearchQuery=void 0;const i=o(ie());return Vs.ChatSearchQuery=i.serialization.object({text:i.serialization.string(),generationId:i.serialization.property("generation_id",i.serialization.string())}),Vs}var X9;function IW(){if(X9)return Fs;X9=1;var e=Fs&&Fs.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Fs&&Fs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Fs&&Fs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.ChatSearchQueriesGenerationEvent=void 0;const i=o(ie()),l=_0(),t=ju();return Fs.ChatSearchQueriesGenerationEvent=i.serialization.object({searchQueries:i.serialization.property("search_queries",i.serialization.list(l.ChatSearchQuery))}).extend(t.ChatStreamEvent),Fs}var Gs={},Hs={},eF;function zW(){if(eF)return Hs;eF=1;var e=Hs&&Hs.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Hs&&Hs.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Hs&&Hs.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.ChatSearchResultConnector=void 0;const i=o(ie());return Hs.ChatSearchResultConnector=i.serialization.object({id:i.serialization.string()}),Hs}var tF;function vM(){if(tF)return Gs;tF=1;var e=Gs&&Gs.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Gs&&Gs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Gs&&Gs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.ChatSearchResult=void 0;const i=o(ie()),l=_0(),t=zW();return Gs.ChatSearchResult=i.serialization.object({searchQuery:i.serialization.property("search_query",l.ChatSearchQuery.optional()),connector:t.ChatSearchResultConnector,documentIds:i.serialization.property("document_ids",i.serialization.list(i.serialization.string())),errorMessage:i.serialization.property("error_message",i.serialization.string().optional()),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional())}),Gs}var Ks={},rF;function BW(){if(rF)return Ks;rF=1;var e=Ks&&Ks.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=Ks&&Ks.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Ks&&Ks.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.ChatSearchResultsEvent=void 0;const i=o(ie()),l=E_(),t=vM(),r=ju();return Ks.ChatSearchResultsEvent=i.serialization.object({searchResults:i.serialization.property("search_results",i.serialization.list(t.ChatSearchResult).optional()),documents:i.serialization.list(l.ChatDocument).optional()}).extend(r.ChatStreamEvent),Ks}var ks={},Ys={},nF;function qW(){if(nF)return Ys;nF=1;var e=Ys&&Ys.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ys&&Ys.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ys&&Ys.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.ChatStreamEndEventFinishReason=void 0;const i=o(ie());return Ys.ChatStreamEndEventFinishReason=i.serialization.enum_(["COMPLETE","ERROR_LIMIT","MAX_TOKENS","ERROR","ERROR_TOXIC"]),Ys}var Ws={},Js={},aF;function x_(){if(aF)return Js;aF=1;var e=Js&&Js.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Js&&Js.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Js&&Js.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Js,"__esModule",{value:!0}),Js.FinishReason=void 0;const i=o(ie());return Js.FinishReason=i.serialization.enum_(["COMPLETE","STOP_SEQUENCE","ERROR","ERROR_TOXIC","ERROR_LIMIT","USER_CANCEL","MAX_TOKENS","TIMEOUT"]),Js}var iF;function LW(){if(iF)return Ws;iF=1;var e=Ws&&Ws.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),n=Ws&&Ws.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),o=Ws&&Ws.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&e(p,_,y[v]);return n(p,_),p}})();Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.NonStreamedChatResponse=void 0;const i=o(ie()),l=On(),t=yM(),r=E_(),a=_0(),s=vM(),u=x_(),f=u0(),g=R_();return Ws.NonStreamedChatResponse=i.serialization.object({text:i.serialization.string(),generationId:i.serialization.property("generation_id",i.serialization.string().optional()),responseId:i.serialization.property("response_id",i.serialization.string().optional()),citations:i.serialization.list(t.ChatCitation).optional(),documents:i.serialization.list(r.ChatDocument).optional(),isSearchRequired:i.serialization.property("is_search_required",i.serialization.boolean().optional()),searchQueries:i.serialization.property("search_queries",i.serialization.list(a.ChatSearchQuery).optional()),searchResults:i.serialization.property("search_results",i.serialization.list(s.ChatSearchResult).optional()),finishReason:i.serialization.property("finish_reason",u.FinishReason.optional()),toolCalls:i.serialization.property("tool_calls",i.serialization.list(g.ToolCall).optional()),chatHistory:i.serialization.property("chat_history",i.serialization.list(f.Message).optional()),meta:l.ApiMeta.optional()}),Ws}var oF;function UW(){if(oF)return ks;oF=1;var e=ks&&ks.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=ks&&ks.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=ks&&ks.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(ks,"__esModule",{value:!0}),ks.ChatStreamEndEvent=void 0;const i=o(ie()),l=qW(),t=ju(),r=LW();return ks.ChatStreamEndEvent=i.serialization.object({finishReason:i.serialization.property("finish_reason",l.ChatStreamEndEventFinishReason),response:r.NonStreamedChatResponse}).extend(t.ChatStreamEvent),ks}var Zs={},sF;function $W(){if(sF)return Zs;sF=1;var e=Zs&&Zs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Zs&&Zs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Zs&&Zs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.ChatStreamStartEvent=void 0;const i=o(ie()),l=ju();return Zs.ChatStreamStartEvent=i.serialization.object({generationId:i.serialization.property("generation_id",i.serialization.string())}).extend(l.ChatStreamEvent),Zs}var Qs={},lF;function FW(){if(lF)return Qs;lF=1;var e=Qs&&Qs.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Qs&&Qs.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Qs&&Qs.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.ChatTextGenerationEvent=void 0;const i=o(ie()),l=ju();return Qs.ChatTextGenerationEvent=i.serialization.object({text:i.serialization.string()}).extend(l.ChatStreamEvent),Qs}var Xs={},el={},uF;function VW(){if(uF)return el;uF=1;var e=el&&el.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=el&&el.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=el&&el.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(el,"__esModule",{value:!0}),el.ToolCallDelta=void 0;const i=o(ie());return el.ToolCallDelta=i.serialization.object({name:i.serialization.string().optional(),index:i.serialization.number().optional(),parameters:i.serialization.string().optional(),text:i.serialization.string().optional()}),el}var cF;function GW(){if(cF)return Xs;cF=1;var e=Xs&&Xs.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Xs&&Xs.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Xs&&Xs.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.ChatToolCallsChunkEvent=void 0;const i=o(ie()),l=ju(),t=VW();return Xs.ChatToolCallsChunkEvent=i.serialization.object({toolCallDelta:i.serialization.property("tool_call_delta",t.ToolCallDelta),text:i.serialization.string().optional()}).extend(l.ChatStreamEvent),Xs}var tl={},dF;function HW(){if(dF)return tl;dF=1;var e=tl&&tl.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=tl&&tl.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=tl&&tl.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(tl,"__esModule",{value:!0}),tl.ChatToolCallsGenerationEvent=void 0;const i=o(ie()),l=ju(),t=R_();return tl.ChatToolCallsGenerationEvent=i.serialization.object({text:i.serialization.string().optional(),toolCalls:i.serialization.property("tool_calls",i.serialization.list(t.ToolCall))}).extend(l.ChatStreamEvent),tl}var rl={},fF;function Uye(){if(fF)return rl;fF=1;var e=rl&&rl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=rl&&rl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=rl&&rl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(rl,"__esModule",{value:!0}),rl.CheckApiKeyResponse=void 0;const i=o(ie());return rl.CheckApiKeyResponse=i.serialization.object({valid:i.serialization.boolean(),organizationId:i.serialization.property("organization_id",i.serialization.string().optional()),ownerId:i.serialization.property("owner_id",i.serialization.string().optional())}),rl}var nl={},al={},hF;function KW(){if(hF)return al;hF=1;var e=al&&al.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=al&&al.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=al&&al.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(al,"__esModule",{value:!0}),al.LabelMetric=void 0;const i=o(ie());return al.LabelMetric=i.serialization.object({totalExamples:i.serialization.property("total_examples",i.serialization.number().optional()),label:i.serialization.string().optional(),samples:i.serialization.list(i.serialization.string()).optional()}),al}var pF;function $ye(){if(pF)return nl;pF=1;var e=nl&&nl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=nl&&nl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=nl&&nl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(nl,"__esModule",{value:!0}),nl.ClassifyDataMetrics=void 0;const i=o(ie()),l=KW();return nl.ClassifyDataMetrics=i.serialization.object({labelMetrics:i.serialization.property("label_metrics",i.serialization.list(l.LabelMetric).optional())}),nl}var il={},ol={},sl={},mF;function kW(){if(mF)return sl;mF=1;var e=sl&&sl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=sl&&sl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=sl&&sl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(sl,"__esModule",{value:!0}),sl.ClassifyResponseClassificationsItemClassificationType=void 0;const i=o(ie());return sl.ClassifyResponseClassificationsItemClassificationType=i.serialization.enum_(["single-label","multi-label"]),sl}var ll={},gF;function YW(){if(gF)return ll;gF=1;var e=ll&&ll.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ll&&ll.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ll&&ll.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ll,"__esModule",{value:!0}),ll.ClassifyResponseClassificationsItemLabelsValue=void 0;const i=o(ie());return ll.ClassifyResponseClassificationsItemLabelsValue=i.serialization.object({confidence:i.serialization.number().optional()}),ll}var _F;function WW(){if(_F)return ol;_F=1;var e=ol&&ol.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=ol&&ol.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=ol&&ol.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(ol,"__esModule",{value:!0}),ol.ClassifyResponseClassificationsItem=void 0;const i=o(ie()),l=kW(),t=YW();return ol.ClassifyResponseClassificationsItem=i.serialization.object({id:i.serialization.string(),input:i.serialization.string().optional(),prediction:i.serialization.string().optional(),predictions:i.serialization.list(i.serialization.string()),confidence:i.serialization.number().optional(),confidences:i.serialization.list(i.serialization.number()),labels:i.serialization.record(i.serialization.string(),t.ClassifyResponseClassificationsItemLabelsValue),classificationType:i.serialization.property("classification_type",l.ClassifyResponseClassificationsItemClassificationType)}),ol}var yF;function Fye(){if(yF)return il;yF=1;var e=il&&il.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=il&&il.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=il&&il.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(il,"__esModule",{value:!0}),il.ClassifyResponse=void 0;const i=o(ie()),l=On(),t=WW();return il.ClassifyResponse=i.serialization.object({id:i.serialization.string(),classifications:i.serialization.list(t.ClassifyResponseClassificationsItem),meta:l.ApiMeta.optional()}),il}var ul={},vF;function JW(){if(vF)return ul;vF=1;var e=ul&&ul.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ul&&ul.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ul&&ul.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ul,"__esModule",{value:!0}),ul.CompatibleEndpoint=void 0;const i=o(ie());return ul.CompatibleEndpoint=i.serialization.enum_(["chat","embed","classify","summarize","rerank","rate","generate"]),ul}var cl={},dl={},bF;function ZW(){if(bF)return dl;bF=1;var e=dl&&dl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=dl&&dl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=dl&&dl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(dl,"__esModule",{value:!0}),dl.ConnectorAuthStatus=void 0;const i=o(ie());return dl.ConnectorAuthStatus=i.serialization.enum_(["valid","expired"]),dl}var fl={},wF;function QW(){if(wF)return fl;wF=1;var e=fl&&fl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=fl&&fl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=fl&&fl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(fl,"__esModule",{value:!0}),fl.ConnectorOAuth=void 0;const i=o(ie());return fl.ConnectorOAuth=i.serialization.object({clientId:i.serialization.property("client_id",i.serialization.string().optional()),clientSecret:i.serialization.property("client_secret",i.serialization.string().optional()),authorizeUrl:i.serialization.property("authorize_url",i.serialization.string()),tokenUrl:i.serialization.property("token_url",i.serialization.string()),scope:i.serialization.string().optional()}),fl}var SF;function C_(){if(SF)return cl;SF=1;var e=cl&&cl.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=cl&&cl.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=cl&&cl.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(cl,"__esModule",{value:!0}),cl.Connector=void 0;const i=o(ie()),l=ZW(),t=QW();return cl.Connector=i.serialization.object({id:i.serialization.string(),organizationId:i.serialization.property("organization_id",i.serialization.string().optional()),name:i.serialization.string(),description:i.serialization.string().optional(),url:i.serialization.string().optional(),createdAt:i.serialization.property("created_at",i.serialization.date()),updatedAt:i.serialization.property("updated_at",i.serialization.date()),excludes:i.serialization.list(i.serialization.string()).optional(),authType:i.serialization.property("auth_type",i.serialization.string().optional()),oauth:t.ConnectorOAuth.optional(),authStatus:i.serialization.property("auth_status",l.ConnectorAuthStatus.optional()),active:i.serialization.boolean().optional(),continueOnFailure:i.serialization.property("continue_on_failure",i.serialization.boolean().optional())}),cl}var hl={},OF;function Vye(){if(OF)return hl;OF=1;var e=hl&&hl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=hl&&hl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=hl&&hl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(hl,"__esModule",{value:!0}),hl.CreateConnectorResponse=void 0;const i=o(ie()),l=C_();return hl.CreateConnectorResponse=i.serialization.object({connector:l.Connector}),hl}var pl={},EF;function Gye(){if(EF)return pl;EF=1;var e=pl&&pl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=pl&&pl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=pl&&pl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(pl,"__esModule",{value:!0}),pl.CreateEmbedJobResponse=void 0;const i=o(ie()),l=On();return pl.CreateEmbedJobResponse=i.serialization.object({jobId:i.serialization.property("job_id",i.serialization.string()),meta:l.ApiMeta.optional()}),pl}var ml={},RF;function Hye(){if(RF)return ml;RF=1;var e=ml&&ml.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=ml&&ml.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=ml&&ml.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(ml,"__esModule",{value:!0}),ml.DeleteConnectorResponse=void 0;const i=o(ie());return ml.DeleteConnectorResponse=i.serialization.record(i.serialization.string(),i.serialization.unknown()),ml}var gl={},jF;function Kye(){if(jF)return gl;jF=1;var e=gl&&gl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=gl&&gl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=gl&&gl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(gl,"__esModule",{value:!0}),gl.DetokenizeResponse=void 0;const i=o(ie()),l=On();return gl.DetokenizeResponse=i.serialization.object({text:i.serialization.string(),meta:l.ApiMeta.optional()}),gl}var _l={},yl={},xF;function XW(){if(xF)return yl;xF=1;var e=yl&&yl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=yl&&yl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=yl&&yl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(yl,"__esModule",{value:!0}),yl.EmbedByTypeResponseEmbeddings=void 0;const i=o(ie());return yl.EmbedByTypeResponseEmbeddings=i.serialization.object({float:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),int8:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),uint8:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),binary:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),ubinary:i.serialization.list(i.serialization.list(i.serialization.number())).optional(),base64:i.serialization.list(i.serialization.string()).optional()}),yl}var vl={},CF;function bM(){if(CF)return vl;CF=1;var e=vl&&vl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=vl&&vl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=vl&&vl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(vl,"__esModule",{value:!0}),vl.Image=void 0;const i=o(ie());return vl.Image=i.serialization.object({width:i.serialization.number(),height:i.serialization.number(),format:i.serialization.string(),bitDepth:i.serialization.property("bit_depth",i.serialization.number())}),vl}var TF;function eJ(){if(TF)return _l;TF=1;var e=_l&&_l.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=_l&&_l.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=_l&&_l.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(_l,"__esModule",{value:!0}),_l.EmbedByTypeResponse=void 0;const i=o(ie()),l=On(),t=XW(),r=bM();return _l.EmbedByTypeResponse=i.serialization.object({id:i.serialization.string(),embeddings:t.EmbedByTypeResponseEmbeddings,texts:i.serialization.list(i.serialization.string()).optional(),images:i.serialization.list(r.Image).optional(),meta:l.ApiMeta.optional()}),_l}var bl={},MF;function tJ(){if(MF)return bl;MF=1;var e=bl&&bl.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=bl&&bl.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=bl&&bl.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(bl,"__esModule",{value:!0}),bl.EmbedFloatsResponse=void 0;const i=o(ie()),l=On(),t=bM();return bl.EmbedFloatsResponse=i.serialization.object({id:i.serialization.string(),embeddings:i.serialization.list(i.serialization.list(i.serialization.number())),texts:i.serialization.list(i.serialization.string()),images:i.serialization.list(t.Image).optional(),meta:l.ApiMeta.optional()}),bl}var wl={},Sl={},PF;function rJ(){if(PF)return Sl;PF=1;var e=Sl&&Sl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Sl&&Sl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Sl&&Sl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.EmbedJobStatus=void 0;const i=o(ie());return Sl.EmbedJobStatus=i.serialization.enum_(["processing","complete","cancelling","cancelled","failed"]),Sl}var Ol={},AF;function nJ(){if(AF)return Ol;AF=1;var e=Ol&&Ol.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Ol&&Ol.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Ol&&Ol.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.EmbedJobTruncate=void 0;const i=o(ie());return Ol.EmbedJobTruncate=i.serialization.enum_(["START","END"]),Ol}var NF;function aJ(){if(NF)return wl;NF=1;var e=wl&&wl.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=wl&&wl.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=wl&&wl.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(wl,"__esModule",{value:!0}),wl.EmbedJob=void 0;const i=o(ie()),l=On(),t=rJ(),r=nJ();return wl.EmbedJob=i.serialization.object({jobId:i.serialization.property("job_id",i.serialization.string()),name:i.serialization.string().optional(),status:t.EmbedJobStatus,createdAt:i.serialization.property("created_at",i.serialization.date()),inputDatasetId:i.serialization.property("input_dataset_id",i.serialization.string()),outputDatasetId:i.serialization.property("output_dataset_id",i.serialization.string().optional()),model:i.serialization.string(),truncate:r.EmbedJobTruncate,meta:l.ApiMeta.optional()}),wl}var El={},DF;function kye(){if(DF)return El;DF=1;var e=El&&El.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=El&&El.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=El&&El.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(El,"__esModule",{value:!0}),El.EmbedResponse=void 0;const i=o(ie()),l=eJ(),t=tJ();return El.EmbedResponse=i.serialization.union(i.serialization.discriminant("responseType","response_type"),{embeddings_floats:t.EmbedFloatsResponse,embeddings_by_type:l.EmbedByTypeResponse}).transform({transform:r=>r,untransform:r=>r}),El}var Rl={},IF;function iJ(){if(IF)return Rl;IF=1;var e=Rl&&Rl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Rl&&Rl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Rl&&Rl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.FinetuneDatasetMetrics=void 0;const i=o(ie());return Rl.FinetuneDatasetMetrics=i.serialization.object({trainableTokenCount:i.serialization.property("trainable_token_count",i.serialization.number().optional()),totalExamples:i.serialization.property("total_examples",i.serialization.number().optional()),trainExamples:i.serialization.property("train_examples",i.serialization.number().optional()),trainSizeBytes:i.serialization.property("train_size_bytes",i.serialization.number().optional()),evalExamples:i.serialization.property("eval_examples",i.serialization.number().optional()),evalSizeBytes:i.serialization.property("eval_size_bytes",i.serialization.number().optional())}),Rl}var jl={},xl={},Cl={},zF;function oJ(){if(zF)return Cl;zF=1;var e=Cl&&Cl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Cl&&Cl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Cl&&Cl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.SingleGenerationInStream=void 0;const i=o(ie()),l=x_();return Cl.SingleGenerationInStream=i.serialization.object({id:i.serialization.string(),text:i.serialization.string(),index:i.serialization.number().optional(),finishReason:i.serialization.property("finish_reason",l.FinishReason)}),Cl}var BF;function sJ(){if(BF)return xl;BF=1;var e=xl&&xl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=xl&&xl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=xl&&xl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(xl,"__esModule",{value:!0}),xl.GenerateStreamEndResponse=void 0;const i=o(ie()),l=oJ();return xl.GenerateStreamEndResponse=i.serialization.object({id:i.serialization.string(),prompt:i.serialization.string().optional(),generations:i.serialization.list(l.SingleGenerationInStream).optional()}),xl}var Tl={},qF;function y0(){if(qF)return Tl;qF=1;var e=Tl&&Tl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Tl&&Tl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Tl&&Tl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.GenerateStreamEvent=void 0;const i=o(ie());return Tl.GenerateStreamEvent=i.serialization.object({}),Tl}var LF;function lJ(){if(LF)return jl;LF=1;var e=jl&&jl.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=jl&&jl.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=jl&&jl.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(jl,"__esModule",{value:!0}),jl.GenerateStreamEnd=void 0;const i=o(ie()),l=x_(),t=sJ(),r=y0();return jl.GenerateStreamEnd=i.serialization.object({isFinished:i.serialization.property("is_finished",i.serialization.boolean()),finishReason:i.serialization.property("finish_reason",l.FinishReason.optional()),response:t.GenerateStreamEndResponse}).extend(r.GenerateStreamEvent),jl}var Ml={},UF;function uJ(){if(UF)return Ml;UF=1;var e=Ml&&Ml.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Ml&&Ml.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Ml&&Ml.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.GenerateStreamError=void 0;const i=o(ie()),l=x_(),t=y0();return Ml.GenerateStreamError=i.serialization.object({index:i.serialization.number().optional(),isFinished:i.serialization.property("is_finished",i.serialization.boolean()),finishReason:i.serialization.property("finish_reason",l.FinishReason),err:i.serialization.string()}).extend(t.GenerateStreamEvent),Ml}var Pl={},Al={},$F;function cJ(){if($F)return Al;$F=1;var e=Al&&Al.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Al&&Al.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Al&&Al.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Al,"__esModule",{value:!0}),Al.GenerateStreamText=void 0;const i=o(ie()),l=y0();return Al.GenerateStreamText=i.serialization.object({text:i.serialization.string(),index:i.serialization.number().optional(),isFinished:i.serialization.property("is_finished",i.serialization.boolean())}).extend(l.GenerateStreamEvent),Al}var FF;function Yye(){if(FF)return Pl;FF=1;var e=Pl&&Pl.__createBinding||(Object.create?(function(a,s,u,f){f===void 0&&(f=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,g)}):(function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]})),n=Pl&&Pl.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),o=Pl&&Pl.__importStar||(function(){var a=function(s){return a=Object.getOwnPropertyNames||function(u){var f=[];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[f.length]=g);return f},a(s)};return function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f=a(s),g=0;g<f.length;g++)f[g]!=="default"&&e(u,s,f[g]);return n(u,s),u}})();Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.GenerateStreamedResponse=void 0;const i=o(ie()),l=lJ(),t=uJ(),r=cJ();return Pl.GenerateStreamedResponse=i.serialization.union(i.serialization.discriminant("eventType","event_type"),{"text-generation":r.GenerateStreamText,"stream-end":l.GenerateStreamEnd,"stream-error":t.GenerateStreamError}).transform({transform:a=>a,untransform:a=>a}),Pl}var Nl={},Dl={},Il={},VF;function dJ(){if(VF)return Il;VF=1;var e=Il&&Il.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Il&&Il.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Il&&Il.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Il,"__esModule",{value:!0}),Il.SingleGenerationTokenLikelihoodsItem=void 0;const i=o(ie());return Il.SingleGenerationTokenLikelihoodsItem=i.serialization.object({token:i.serialization.string(),likelihood:i.serialization.number()}),Il}var GF;function fJ(){if(GF)return Dl;GF=1;var e=Dl&&Dl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Dl&&Dl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Dl&&Dl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.SingleGeneration=void 0;const i=o(ie()),l=dJ();return Dl.SingleGeneration=i.serialization.object({id:i.serialization.string(),text:i.serialization.string(),index:i.serialization.number().optional(),likelihood:i.serialization.number().optional(),tokenLikelihoods:i.serialization.property("token_likelihoods",i.serialization.list(l.SingleGenerationTokenLikelihoodsItem).optional())}),Dl}var HF;function Wye(){if(HF)return Nl;HF=1;var e=Nl&&Nl.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Nl&&Nl.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Nl&&Nl.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.Generation=void 0;const i=o(ie()),l=On(),t=fJ();return Nl.Generation=i.serialization.object({id:i.serialization.string(),prompt:i.serialization.string().optional(),generations:i.serialization.list(t.SingleGeneration),meta:l.ApiMeta.optional()}),Nl}var zl={},KF;function Jye(){if(KF)return zl;KF=1;var e=zl&&zl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=zl&&zl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=zl&&zl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(zl,"__esModule",{value:!0}),zl.GetConnectorResponse=void 0;const i=o(ie()),l=C_();return zl.GetConnectorResponse=i.serialization.object({connector:l.Connector}),zl}var Bl={},kF;function hJ(){if(kF)return Bl;kF=1;var e=Bl&&Bl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Bl&&Bl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Bl&&Bl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.GetModelResponse=void 0;const i=o(ie()),l=JW();return Bl.GetModelResponse=i.serialization.object({name:i.serialization.string().optional(),isDeprecated:i.serialization.property("is_deprecated",i.serialization.boolean().optional()),endpoints:i.serialization.list(l.CompatibleEndpoint).optional(),finetuned:i.serialization.boolean().optional(),contextLength:i.serialization.property("context_length",i.serialization.number().optional()),tokenizerUrl:i.serialization.property("tokenizer_url",i.serialization.string().optional()),defaultEndpoints:i.serialization.property("default_endpoints",i.serialization.list(l.CompatibleEndpoint).optional()),features:i.serialization.list(i.serialization.string()).optional()}),Bl}var ql={},YF;function Zye(){if(YF)return ql;YF=1;var e=ql&&ql.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=ql&&ql.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=ql&&ql.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(ql,"__esModule",{value:!0}),ql.ListConnectorsResponse=void 0;const i=o(ie()),l=C_();return ql.ListConnectorsResponse=i.serialization.object({connectors:i.serialization.list(l.Connector),totalCount:i.serialization.property("total_count",i.serialization.number().optional())}),ql}var Ll={},WF;function Qye(){if(WF)return Ll;WF=1;var e=Ll&&Ll.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ll&&Ll.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ll&&Ll.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.ListEmbedJobResponse=void 0;const i=o(ie()),l=aJ();return Ll.ListEmbedJobResponse=i.serialization.object({embedJobs:i.serialization.property("embed_jobs",i.serialization.list(l.EmbedJob).optional())}),Ll}var Ul={},JF;function Xye(){if(JF)return Ul;JF=1;var e=Ul&&Ul.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Ul&&Ul.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Ul&&Ul.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.ListModelsResponse=void 0;const i=o(ie()),l=hJ();return Ul.ListModelsResponse=i.serialization.object({models:i.serialization.list(l.GetModelResponse),nextPageToken:i.serialization.property("next_page_token",i.serialization.string().optional())}),Ul}var $l={},ZF;function eve(){if(ZF)return $l;ZF=1;var e=$l&&$l.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=$l&&$l.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=$l&&$l.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty($l,"__esModule",{value:!0}),$l.Metrics=void 0;const i=o(ie()),l=iJ();return $l.Metrics=i.serialization.object({finetuneDatasetMetrics:i.serialization.property("finetune_dataset_metrics",l.FinetuneDatasetMetrics.optional())}),$l}var Fl={},QF;function tve(){if(QF)return Fl;QF=1;var e=Fl&&Fl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Fl&&Fl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Fl&&Fl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.OAuthAuthorizeResponse=void 0;const i=o(ie());return Fl.OAuthAuthorizeResponse=i.serialization.object({redirectUrl:i.serialization.property("redirect_url",i.serialization.string().optional())}),Fl}var Vl={},XF;function rve(){if(XF)return Vl;XF=1;var e=Vl&&Vl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Vl&&Vl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Vl&&Vl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.ParseInfo=void 0;const i=o(ie());return Vl.ParseInfo=i.serialization.object({separator:i.serialization.string().optional(),delimiter:i.serialization.string().optional()}),Vl}var Gl={},eV;function nve(){if(eV)return Gl;eV=1;var e=Gl&&Gl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=Gl&&Gl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=Gl&&Gl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.RerankerDataMetrics=void 0;const i=o(ie());return Gl.RerankerDataMetrics=i.serialization.object({numTrainQueries:i.serialization.property("num_train_queries",i.serialization.number().optional()),numTrainRelevantPassages:i.serialization.property("num_train_relevant_passages",i.serialization.number().optional()),numTrainHardNegatives:i.serialization.property("num_train_hard_negatives",i.serialization.number().optional()),numEvalQueries:i.serialization.property("num_eval_queries",i.serialization.number().optional()),numEvalRelevantPassages:i.serialization.property("num_eval_relevant_passages",i.serialization.number().optional()),numEvalHardNegatives:i.serialization.property("num_eval_hard_negatives",i.serialization.number().optional())}),Gl}var Hl={},Kl={},kl={},tV;function pJ(){if(tV)return kl;tV=1;var e=kl&&kl.__createBinding||(Object.create?(function(l,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(l,a,s)}):(function(l,t,r,a){a===void 0&&(a=r),l[a]=t[r]})),n=kl&&kl.__setModuleDefault||(Object.create?(function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}):function(l,t){l.default=t}),o=kl&&kl.__importStar||(function(){var l=function(t){return l=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},l(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a=l(t),s=0;s<a.length;s++)a[s]!=="default"&&e(r,t,a[s]);return n(r,t),r}})();Object.defineProperty(kl,"__esModule",{value:!0}),kl.RerankResponseResultsItemDocument=void 0;const i=o(ie());return kl.RerankResponseResultsItemDocument=i.serialization.object({text:i.serialization.string()}),kl}var rV;function mJ(){if(rV)return Kl;rV=1;var e=Kl&&Kl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Kl&&Kl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Kl&&Kl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.RerankResponseResultsItem=void 0;const i=o(ie()),l=pJ();return Kl.RerankResponseResultsItem=i.serialization.object({document:l.RerankResponseResultsItemDocument.optional(),index:i.serialization.number(),relevanceScore:i.serialization.property("relevance_score",i.serialization.number())}),Kl}var nV;function ave(){if(nV)return Hl;nV=1;var e=Hl&&Hl.__createBinding||(Object.create?(function(r,a,s,u){u===void 0&&(u=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,u,f)}):(function(r,a,s,u){u===void 0&&(u=s),r[u]=a[s]})),n=Hl&&Hl.__setModuleDefault||(Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a}),o=Hl&&Hl.__importStar||(function(){var r=function(a){return r=Object.getOwnPropertyNames||function(s){var u=[];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(u[u.length]=f);return u},r(a)};return function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u=r(a),f=0;f<u.length;f++)u[f]!=="default"&&e(s,a,u[f]);return n(s,a),s}})();Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.RerankResponse=void 0;const i=o(ie()),l=On(),t=mJ();return Hl.RerankResponse=i.serialization.object({id:i.serialization.string().optional(),results:i.serialization.list(t.RerankResponseResultsItem),meta:l.ApiMeta.optional()}),Hl}var Yl={},aV;function ive(){if(aV)return Yl;aV=1;var e=Yl&&Yl.__createBinding||(Object.create?(function(_,p,y,v){v===void 0&&(v=y);var E=Object.getOwnPropertyDescriptor(p,y);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(_,v,E)}):(function(_,p,y,v){v===void 0&&(v=y),_[v]=p[y]})),n=Yl&&Yl.__setModuleDefault||(Object.create?(function(_,p){Object.defineProperty(_,"default",{enumerable:!0,value:p})}):function(_,p){_.default=p}),o=Yl&&Yl.__importStar||(function(){var _=function(p){return _=Object.getOwnPropertyNames||function(y){var v=[];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(v[v.length]=E);return v},_(p)};return function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var v=_(p),E=0;E<v.length;E++)v[E]!=="default"&&e(y,p,v[E]);return n(y,p),y}})();Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.StreamedChatResponse=void 0;const i=o(ie()),l=DW(),t=_M(),r=IW(),a=BW(),s=UW(),u=$W(),f=FW(),g=GW(),b=HW();return Yl.StreamedChatResponse=i.serialization.union(i.serialization.discriminant("eventType","event_type"),{"stream-start":u.ChatStreamStartEvent,"search-queries-generation":r.ChatSearchQueriesGenerationEvent,"search-results":a.ChatSearchResultsEvent,"text-generation":f.ChatTextGenerationEvent,"citation-generation":l.ChatCitationGenerationEvent,"tool-calls-generation":b.ChatToolCallsGenerationEvent,"stream-end":s.ChatStreamEndEvent,"tool-calls-chunk":g.ChatToolCallsChunkEvent,debug:t.ChatDebugEvent}).transform({transform:_=>_,untransform:_=>_}),Yl}var Wl={},iV;function ove(){if(iV)return Wl;iV=1;var e=Wl&&Wl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Wl&&Wl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Wl&&Wl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.SummarizeResponse=void 0;const i=o(ie()),l=On();return Wl.SummarizeResponse=i.serialization.object({id:i.serialization.string().optional(),summary:i.serialization.string().optional(),meta:l.ApiMeta.optional()}),Wl}var Jl={},oV;function sve(){if(oV)return Jl;oV=1;var e=Jl&&Jl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Jl&&Jl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Jl&&Jl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.TokenizeResponse=void 0;const i=o(ie()),l=On();return Jl.TokenizeResponse=i.serialization.object({tokens:i.serialization.list(i.serialization.number()),tokenStrings:i.serialization.property("token_strings",i.serialization.list(i.serialization.string())),meta:l.ApiMeta.optional()}),Jl}var Zl={},sV;function lve(){if(sV)return Zl;sV=1;var e=Zl&&Zl.__createBinding||(Object.create?(function(t,r,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(r,a);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(t,s,u)}):(function(t,r,a,s){s===void 0&&(s=a),t[s]=r[a]})),n=Zl&&Zl.__setModuleDefault||(Object.create?(function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}):function(t,r){t.default=r}),o=Zl&&Zl.__importStar||(function(){var t=function(r){return t=Object.getOwnPropertyNames||function(a){var s=[];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[s.length]=u);return s},t(r)};return function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var s=t(r),u=0;u<s.length;u++)s[u]!=="default"&&e(a,r,s[u]);return n(a,r),a}})();Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.UpdateConnectorResponse=void 0;const i=o(ie()),l=C_();return Zl.UpdateConnectorResponse=i.serialization.object({connector:l.Connector}),Zl}var lV;function uve(){return lV||(lV=1,(function(e){var n=Af&&Af.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=Af&&Af.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(On(),e),o(CW(),e),o(TW(),e),o(MW(),e),o(pY(),e),o(YY(),e),o(kY(),e),o(lY(),e),o(sY(),e),o(Fk(),e),o(yM(),e),o(DW(),e),o(NW(),e),o(tM(),e),o(eW(),e),o(XY(),e),o(QY(),e),o(ZY(),e),o(tW(),e),o(oW(),e),o(iW(),e),o(aW(),e),o(nW(),e),o(rW(),e),o(Lye(),e),o(_M(),e),o(E_(),e),o(cY(),e),o(pM(),e),o(bk(),e),o(lW(),e),o(sW(),e),o(dW(),e),o(cW(),e),o(uW(),e),o(uM(),e),o(CY(),e),o(_k(),e),o(yk(),e),o(vk(),e),o(IW(),e),o(_0(),e),o(vM(),e),o(zW(),e),o(BW(),e),o(UW(),e),o(qW(),e),o(ju(),e),o(Un(),e),o(Rk(),e),o(jk(),e),o(xk(),e),o($W(),e),o(_p(),e),o(FW(),e),o(Sk(),e),o(MY(),e),o(lM(),e),o(gW(),e),o(mW(),e),o(pW(),e),o(hW(),e),o(fW(),e),o(_W(),e),o(bW(),e),o(vW(),e),o(yW(),e),o(GW(),e),o(HW(),e),o(wk(),e),o(OW(),e),o(SW(),e),o(wW(),e),o(dY(),e),o(Uye(),e),o(p0(),e),o(EW(),e),o(cM(),e),o(TY(),e),o(xW(),e),o(jW(),e),o(RW(),e),o(uY(),e),o($ye(),e),o(Ck(),e),o(Tk(),e),o(Fye(),e),o(WW(),e),o(kW(),e),o(YW(),e),o(JW(),e),o(C_(),e),o(ZW(),e),o(QW(),e),o(RY(),e),o(aM(),e),o(Vye(),e),o(iM(),e),o(Gye(),e),o(oM(),e),o(Gk(),e),o(Hk(),e),o(Kk(),e),o(Hye(),e),o(Kye(),e),o(g0(),e),o(yY(),e),o(eJ(),e),o(XW(),e),o(VY(),e),o(c0(),e),o(tJ(),e),o($Y(),e),o(UY(),e),o(GY(),e),o(d0(),e),o(aJ(),e),o(rJ(),e),o(nJ(),e),o(Mk(),e),o(kye(),e),o(FY(),e),o(iJ(),e),o(x_(),e),o(Pk(),e),o(Ak(),e),o(lJ(),e),o(sJ(),e),o(uJ(),e),o(y0(),e),o(Yye(),e),o(Nk(),e),o(Dk(),e),o(cJ(),e),o(Wye(),e),o(Jye(),e),o(hJ(),e),o(bM(),e),o(EY(),e),o(OY(),e),o(SY(),e),o(Ok(),e),o(PY(),e),o(KW(),e),o(Zye(),e),o(Qye(),e),o(Xye(),e),o(mM(),e),o(u0(),e),o(eve(),e),o(LW(),e),o(tve(),e),o(rve(),e),o(Ik(),e),o(nve(),e),o(zk(),e),o(ave(),e),o(mJ(),e),o(pJ(),e),o(rM(),e),o(dM(),e),o(fJ(),e),o(oJ(),e),o(dJ(),e),o(fY(),e),o(ive(),e),o(Bk(),e),o(qk(),e),o(Lk(),e),o(ove(),e),o(_Y(),e),o(gY(),e),o(mY(),e),o(fM(),e),o(AY(),e),o(sve(),e),o(nM(),e),o(R_(),e),o(VW(),e),o(m0(),e),o(hY(),e),o(vY(),e),o(wY(),e),o(bY(),e),o(Ek(),e),o(l0(),e),o(hM(),e),o(NY(),e),o(lve(),e),o(gM(),e),o(WY(),e),o(JY(),e),o(xY(),e),o(jY(),e)})(Af)),Af}var uV;function dc(){return uV||(uV=1,(function(e){var n=pf&&pf.__createBinding||(Object.create?(function(i,l,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(l,t);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[t]}}),Object.defineProperty(i,r,a)}):(function(i,l,t,r){r===void 0&&(r=t),i[r]=l[t]})),o=pf&&pf.__exportStar||function(i,l){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(l,t)&&n(l,i,t)};Object.defineProperty(e,"__esModule",{value:!0}),o(Z_e(),e),o(qye(),e),o(uve(),e)})(pf)),pf}var cV;function gJ(){return cV||(cV=1,(function(e){var n={},o=on&&on.__createBinding||(Object.create?(function(F,q,B,S){S===void 0&&(S=B);var H=Object.getOwnPropertyDescriptor(q,B);(!H||("get"in H?!q.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return q[B]}}),Object.defineProperty(F,S,H)}):(function(F,q,B,S){S===void 0&&(S=B),F[S]=q[B]})),i=on&&on.__setModuleDefault||(Object.create?(function(F,q){Object.defineProperty(F,"default",{enumerable:!0,value:q})}):function(F,q){F.default=q}),l=on&&on.__importStar||(function(){var F=function(q){return F=Object.getOwnPropertyNames||function(B){var S=[];for(var H in B)Object.prototype.hasOwnProperty.call(B,H)&&(S[S.length]=H);return S},F(q)};return function(q){if(q&&q.__esModule)return q;var B={};if(q!=null)for(var S=F(q),H=0;H<S.length;H++)S[H]!=="default"&&o(B,q,S[H]);return i(B,q),B}})(),t=on&&on.__awaiter||function(F,q,B,S){function H(Y){return Y instanceof B?Y:new B(function(W){W(Y)})}return new(B||(B=Promise))(function(Y,W){function $(re){try{Q(S.next(re))}catch(C){W(C)}}function k(re){try{Q(S.throw(re))}catch(C){W(C)}}function Q(re){re.done?Y(re.value):H(re.value).then($,k)}Q((S=S.apply(F,q||[])).next())})},r=on&&on.__asyncValues||function(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=F[Symbol.asyncIterator],B;return q?q.call(F):(F=typeof __values=="function"?__values(F):F[Symbol.iterator](),B={},S("next"),S("throw"),S("return"),B[Symbol.asyncIterator]=function(){return this},B);function S(Y){B[Y]=F[Y]&&function(W){return new Promise(function($,k){W=F[Y](W),H($,k,W.done,W.value)})}}function H(Y,W,$,k){Promise.resolve(k).then(function(Q){Y({value:Q,done:$})},W)}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchOverride=e.parseAWSEvent=e.getAuthHeaders=e.getUrl=e.mapResponseFromBedrock=void 0;const a=Npe,s=Jme,u=ige,f=bge,g=ab(),b=ie(),_=gk(),p=L_e(),y=l(dc()),v=(F,q)=>t(void 0,void 0,void 0,function*(){const B=Object.assign({},n);try{return F(),yield q()}finally{n=B}}),E={1:{chat:y.StreamedChatResponse,generate:y.GenerateStreamedResponse},2:{chat:y.V2ChatStreamResponse,generate:y.GenerateStreamedResponse}},j={1:{chat:y.NonStreamedChatResponse,embed:y.EmbedResponse,generate:y.Generation,rerank:y.RerankResponse},2:{chat:y.V2ChatResponse,embed:y.EmbedByTypeResponse,generate:y.Generation,rerank:y.V2RerankResponse}},x=(F,q,B,S)=>t(void 0,void 0,void 0,function*(){const H=F?E[B][q]:j[B][q],Y={unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]},W=yield H.parseOrThrow(S,Y);return H.jsonOrThrow(W,Y)});e.mapResponseFromBedrock=x;const A=(F,q,B,S)=>{const H={bedrock:S?"invoke-with-response-stream":"invoke",sagemaker:S?"invocations-response-stream":"invocations"}[F];return{bedrock:`https://${F}-runtime.${q}.amazonaws.com/model/${B}/${H}`,sagemaker:`https://runtime.sagemaker.${q}.amazonaws.com/endpoints/${B}/${H}`}[F]};e.getUrl=A;const M=(F,q,B,S,H,Y)=>t(void 0,void 0,void 0,function*(){const W=(0,s.fromNodeProviderChain)(),$=yield v(()=>{Y.awsAccessKey&&(n.AWS_ACCESS_KEY_ID=Y.awsAccessKey),Y.awsSecretKey&&(n.AWS_SECRET_ACCESS_KEY=Y.awsSecretKey),Y.awsSessionToken&&(n.AWS_SESSION_TOKEN=Y.awsSessionToken)},()=>W()),k=new f.SignatureV4({service:H,region:Y.awsRegion,credentials:$,sha256:a.Sha256});delete B.connection,B.host=F.hostname;const Q=new u.HttpRequest({method:q.toUpperCase(),protocol:F.protocol,path:F.pathname,headers:B,body:S});return(yield k.sign(Q)).headers});e.getAuthHeaders=M;const T=F=>{const q=/{[^\}]*}/,B=F.match(q);if(B?.[0]){const S=JSON.parse(B[0]);if(S.bytes){const H=Buffer.from(S.bytes,"base64").toString("utf-8"),Y=JSON.parse(H);if(Y.event_type)return Y}}};e.parseAWSEvent=T;const D=F=>({v1:1,v2:2})[F]||1,P=(F,{awsRegion:q,awsAccessKey:B,awsSecretKey:S,awsSessionToken:H})=>Y=>t(void 0,void 0,void 0,function*(){var W,$,k,Q;const re=Y.url.split("/"),C=re.pop(),I=D(re.pop()),K=Y.body;console.assert(K.model,"model is required");const ee=!!K.stream,fe=(0,e.getUrl)(F,q,K.model,ee);C==="rerank"&&(K.api_version=I),delete K.stream,delete K.model,delete Y.headers.Authorization,Y.headers.Host=new URL(fe).hostname;const _e=yield(0,e.getAuthHeaders)(new URL(fe),Y.method,Y.headers,JSON.stringify(K),F,{awsRegion:q,awsAccessKey:B,awsSecretKey:S,awsSessionToken:H});Y.url=fe,Y.headers=_e;const V=yield(0,b.fetcher)(Y);if(!V.ok)return V;try{if(ee){const le=(0,_.readableStreamAsyncIterable)(V.body),me=new p.LineDecoder,we=new g.PassThrough;try{for(var U=!0,X=r(le),Z;Z=yield X.next(),W=Z.done,!W;U=!0){Q=Z.value,U=!1;const ae=Q;for(const oe of me.decode(ae)){const ve=(0,e.parseAWSEvent)(oe);if(ve){const Ce=yield(0,e.mapResponseFromBedrock)(ee,C,I,ve);we.push(JSON.stringify(Ce)+`
`)}}}}catch(ae){$={error:ae}}finally{try{!U&&!W&&(k=X.return)&&(yield k.call(X))}finally{if($)throw $.error}}for(const ae of me.flush()){const oe=(0,e.parseAWSEvent)(ae);if(oe){const ve=yield(0,e.mapResponseFromBedrock)(ee,C,I,oe);we.push(JSON.stringify(ve)+`
`)}}return we.end(),{ok:!0,body:we,rawResponse:V.rawResponse}}else{const le=yield V.body;return{ok:!0,body:yield(0,e.mapResponseFromBedrock)(ee,C,I,le),rawResponse:V.rawResponse}}}catch(le){throw le}});e.fetchOverride=P})(on)),on}var Nf={},Ar={},ln={},Eg={},dV;function cd(){if(dV)return Eg;dV=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.mergeHeaders=e,Eg.mergeOnlyDefinedHeaders=n;function e(...o){const i={};for(const[l,t]of o.filter(r=>r!=null).flatMap(r=>Object.entries(r))){const r=l.toLowerCase();t!=null?i[r]=t:r in i&&delete i[r]}return i}function n(...o){const i={};for(const[l,t]of o.filter(r=>r!=null).flatMap(r=>Object.entries(r))){const r=l.toLowerCase();t!=null&&(i[r]=t)}return i}return Eg}var Rg={},fV;function fc(){return fV||(fV=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.CohereEnvironment=void 0,Rg.CohereEnvironment={Production:"https://api.cohere.com"}),Rg}var hV;function cve(){if(hV)return ln;hV=1;var e={},n=ln&&ln.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=ln&&ln.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=ln&&ln.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),l=ln&&ln.__awaiter||function(b,_,p,y){function v(E){return E instanceof p?E:new p(function(j){j(E)})}return new(p||(p=Promise))(function(E,j){function x(T){try{M(y.next(T))}catch(D){j(D)}}function A(T){try{M(y.throw(T))}catch(D){j(D)}}function M(T){T.done?E(T.value):v(T.value).then(x,A)}M((y=y.apply(b,_||[])).next())})};Object.defineProperty(ln,"__esModule",{value:!0}),ln.Batches=void 0;const t=i(ie()),r=cd(),a=i(fc()),s=i(Wt()),u=i(dc()),f=i(sc());class g{constructor(_={}){this._options=_}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return l(this,arguments,void 0,function*(_={},p){var y,v,E,j,x,A,M,T,D,P,F,q;const{pageSize:B,pageToken:S,orderBy:H}=_,Y={};B!=null&&(Y.page_size=B.toString()),S!=null&&(Y.page_token=S),H!=null&&(Y.order_by=H);const W=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),$=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/batches"),method:"GET",headers:W,queryParameters:Object.assign(Object.assign({},Y),p?.queryParams),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if($.ok)return{data:u.ListBatchesResponse.parseOrThrow($.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:$.rawResponse};if($.error.reason==="status-code")switch($.error.statusCode){case 400:throw new f.BadRequestError($.error.body,$.rawResponse);case 401:throw new f.UnauthorizedError($.error.body,$.rawResponse);case 403:throw new f.ForbiddenError($.error.body,$.rawResponse);case 404:throw new f.NotFoundError($.error.body,$.rawResponse);case 500:throw new f.InternalServerError($.error.body,$.rawResponse);case 503:throw new f.ServiceUnavailableError($.error.body,$.rawResponse);default:throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.body,rawResponse:$.rawResponse})}switch($.error.reason){case"non-json":throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.rawBody,rawResponse:$.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v2/batches.");case"unknown":throw new s.CohereError({message:$.error.errorMessage,rawResponse:$.rawResponse})}})}create(_,p){return t.HttpResponsePromise.fromPromise(this.__create(_,p))}__create(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/batches"),method:"POST",headers:B,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:u.Batch.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.CreateBatchResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/batches.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}retrieve(_,p){return t.HttpResponsePromise.fromPromise(this.__retrieve(_,p))}__retrieve(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v2/batches/${t.url.encodePathParam(_)}`),method:"GET",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.GetBatchResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v2/batches/{id}.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}cancel(_,p){return t.HttpResponsePromise.fromPromise(this.__cancel(_,p))}__cancel(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v2/batches/${t.url.encodePathParam(_)}:cancel`),method:"POST",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.CancelBatchResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/batches/{id}/:cancel.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}_getAuthorizationHeader(){return l(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return ln.Batches=g,ln}var un={},pV;function dve(){if(pV)return un;pV=1;var e={},n=un&&un.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=un&&un.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=un&&un.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),l=un&&un.__awaiter||function(b,_,p,y){function v(E){return E instanceof p?E:new p(function(j){j(E)})}return new(p||(p=Promise))(function(E,j){function x(T){try{M(y.next(T))}catch(D){j(D)}}function A(T){try{M(y.throw(T))}catch(D){j(D)}}function M(T){T.done?E(T.value):v(T.value).then(x,A)}M((y=y.apply(b,_||[])).next())})};Object.defineProperty(un,"__esModule",{value:!0}),un.Connectors=void 0;const t=i(ie()),r=cd(),a=i(fc()),s=i(Wt()),u=i(dc()),f=i(sc());class g{constructor(_={}){this._options=_}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return l(this,arguments,void 0,function*(_={},p){var y,v,E,j,x,A,M,T,D,P,F,q;const{limit:B,offset:S}=_,H={};B!=null&&(H.limit=B.toString()),S!=null&&(H.offset=S.toString());const Y=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),W=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/connectors"),method:"GET",headers:Y,queryParameters:Object.assign(Object.assign({},H),p?.queryParams),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(W.ok)return{data:u.ListConnectorsResponse.parseOrThrow(W.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:W.rawResponse};if(W.error.reason==="status-code")switch(W.error.statusCode){case 400:throw new f.BadRequestError(W.error.body,W.rawResponse);case 401:throw new f.UnauthorizedError(W.error.body,W.rawResponse);case 403:throw new f.ForbiddenError(W.error.body,W.rawResponse);case 404:throw new f.NotFoundError(W.error.body,W.rawResponse);case 422:throw new f.UnprocessableEntityError(W.error.body,W.rawResponse);case 429:throw new f.TooManyRequestsError(W.error.body,W.rawResponse);case 498:throw new f.InvalidTokenError(W.error.body,W.rawResponse);case 499:throw new f.ClientClosedRequestError(W.error.body,W.rawResponse);case 500:throw new f.InternalServerError(W.error.body,W.rawResponse);case 501:throw new f.NotImplementedError(W.error.body,W.rawResponse);case 503:throw new f.ServiceUnavailableError(W.error.body,W.rawResponse);case 504:throw new f.GatewayTimeoutError(W.error.body,W.rawResponse);default:throw new s.CohereError({statusCode:W.error.statusCode,body:W.error.body,rawResponse:W.rawResponse})}switch(W.error.reason){case"non-json":throw new s.CohereError({statusCode:W.error.statusCode,body:W.error.rawBody,rawResponse:W.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/connectors.");case"unknown":throw new s.CohereError({message:W.error.errorMessage,rawResponse:W.rawResponse})}})}create(_,p){return t.HttpResponsePromise.fromPromise(this.__create(_,p))}__create(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/connectors"),method:"POST",headers:B,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:u.CreateConnectorRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.CreateConnectorResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/connectors.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(_)}`),method:"GET",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.GetConnectorResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/connectors/{id}.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}delete(_,p){return t.HttpResponsePromise.fromPromise(this.__delete(_,p))}__delete(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(_)}`),method:"DELETE",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.DeleteConnectorResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling DELETE /v1/connectors/{id}.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}update(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__update(_,p,y))}__update(_){return l(this,arguments,void 0,function*(p,y={},v){var E,j,x,A,M,T,D,P,F,q,B,S;const H=(0,r.mergeHeaders)((E=this._options)===null||E===void 0?void 0:E.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(j=v?.clientName)!==null&&j!==void 0?j:(x=this._options)===null||x===void 0?void 0:x.clientName}),v?.headers),Y=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((T=(M=yield t.Supplier.get(this._options.baseUrl))!==null&&M!==void 0?M:yield t.Supplier.get(this._options.environment))!==null&&T!==void 0?T:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(p)}`),method:"PATCH",headers:H,contentType:"application/json",queryParameters:v?.queryParams,requestType:"json",body:u.UpdateConnectorRequest.jsonOrThrow(y,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(B=this._options)===null||B===void 0?void 0:B.maxRetries,abortSignal:v?.abortSignal,fetchFn:(S=this._options)===null||S===void 0?void 0:S.fetch,logging:this._options.logging});if(Y.ok)return{data:u.UpdateConnectorResponse.parseOrThrow(Y.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:Y.rawResponse};if(Y.error.reason==="status-code")switch(Y.error.statusCode){case 400:throw new f.BadRequestError(Y.error.body,Y.rawResponse);case 401:throw new f.UnauthorizedError(Y.error.body,Y.rawResponse);case 403:throw new f.ForbiddenError(Y.error.body,Y.rawResponse);case 404:throw new f.NotFoundError(Y.error.body,Y.rawResponse);case 422:throw new f.UnprocessableEntityError(Y.error.body,Y.rawResponse);case 429:throw new f.TooManyRequestsError(Y.error.body,Y.rawResponse);case 498:throw new f.InvalidTokenError(Y.error.body,Y.rawResponse);case 499:throw new f.ClientClosedRequestError(Y.error.body,Y.rawResponse);case 500:throw new f.InternalServerError(Y.error.body,Y.rawResponse);case 501:throw new f.NotImplementedError(Y.error.body,Y.rawResponse);case 503:throw new f.ServiceUnavailableError(Y.error.body,Y.rawResponse);case 504:throw new f.GatewayTimeoutError(Y.error.body,Y.rawResponse);default:throw new s.CohereError({statusCode:Y.error.statusCode,body:Y.error.body,rawResponse:Y.rawResponse})}switch(Y.error.reason){case"non-json":throw new s.CohereError({statusCode:Y.error.statusCode,body:Y.error.rawBody,rawResponse:Y.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling PATCH /v1/connectors/{id}.");case"unknown":throw new s.CohereError({message:Y.error.errorMessage,rawResponse:Y.rawResponse})}})}oAuthAuthorize(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__oAuthAuthorize(_,p,y))}__oAuthAuthorize(_){return l(this,arguments,void 0,function*(p,y={},v){var E,j,x,A,M,T,D,P,F,q,B,S;const{afterTokenRedirect:H}=y,Y={};H!=null&&(Y.after_token_redirect=H);const W=(0,r.mergeHeaders)((E=this._options)===null||E===void 0?void 0:E.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(j=v?.clientName)!==null&&j!==void 0?j:(x=this._options)===null||x===void 0?void 0:x.clientName}),v?.headers),$=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((T=(M=yield t.Supplier.get(this._options.baseUrl))!==null&&M!==void 0?M:yield t.Supplier.get(this._options.environment))!==null&&T!==void 0?T:a.CohereEnvironment.Production,`v1/connectors/${t.url.encodePathParam(p)}/oauth/authorize`),method:"POST",headers:W,queryParameters:Object.assign(Object.assign({},Y),v?.queryParams),timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(B=this._options)===null||B===void 0?void 0:B.maxRetries,abortSignal:v?.abortSignal,fetchFn:(S=this._options)===null||S===void 0?void 0:S.fetch,logging:this._options.logging});if($.ok)return{data:u.OAuthAuthorizeResponse.parseOrThrow($.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:$.rawResponse};if($.error.reason==="status-code")switch($.error.statusCode){case 400:throw new f.BadRequestError($.error.body,$.rawResponse);case 401:throw new f.UnauthorizedError($.error.body,$.rawResponse);case 403:throw new f.ForbiddenError($.error.body,$.rawResponse);case 404:throw new f.NotFoundError($.error.body,$.rawResponse);case 422:throw new f.UnprocessableEntityError($.error.body,$.rawResponse);case 429:throw new f.TooManyRequestsError($.error.body,$.rawResponse);case 498:throw new f.InvalidTokenError($.error.body,$.rawResponse);case 499:throw new f.ClientClosedRequestError($.error.body,$.rawResponse);case 500:throw new f.InternalServerError($.error.body,$.rawResponse);case 501:throw new f.NotImplementedError($.error.body,$.rawResponse);case 503:throw new f.ServiceUnavailableError($.error.body,$.rawResponse);case 504:throw new f.GatewayTimeoutError($.error.body,$.rawResponse);default:throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.body,rawResponse:$.rawResponse})}switch($.error.reason){case"non-json":throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.rawBody,rawResponse:$.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/connectors/{id}/oauth/authorize.");case"unknown":throw new s.CohereError({message:$.error.errorMessage,rawResponse:$.rawResponse})}})}_getAuthorizationHeader(){return l(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return un.Connectors=g,un}var cn={},mV;function fve(){if(mV)return cn;mV=1;var e={},n=cn&&cn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=cn&&cn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=cn&&cn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),l=cn&&cn.__awaiter||function(b,_,p,y){function v(E){return E instanceof p?E:new p(function(j){j(E)})}return new(p||(p=Promise))(function(E,j){function x(T){try{M(y.next(T))}catch(D){j(D)}}function A(T){try{M(y.throw(T))}catch(D){j(D)}}function M(T){T.done?E(T.value):v(T.value).then(x,A)}M((y=y.apply(b,_||[])).next())})};Object.defineProperty(cn,"__esModule",{value:!0}),cn.Datasets=void 0;const t=i(ie()),r=cd(),a=i(fc()),s=i(Wt()),u=i(dc()),f=i(sc());class g{constructor(_={}){this._options=_}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return l(this,arguments,void 0,function*(_={},p){var y,v,E,j,x,A,M,T,D,P,F,q;const{datasetType:B,before:S,after:H,limit:Y,offset:W,validationStatus:$}=_,k={};B!=null&&(k.datasetType=B),S!=null&&(k.before=S.toISOString()),H!=null&&(k.after=H.toISOString()),Y!=null&&(k.limit=Y.toString()),W!=null&&(k.offset=W.toString()),$!=null&&(k.validationStatus=u.DatasetValidationStatus.jsonOrThrow($,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}));const Q=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),re=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/datasets"),method:"GET",headers:Q,queryParameters:Object.assign(Object.assign({},k),p?.queryParams),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(re.ok)return{data:u.DatasetsListResponse.parseOrThrow(re.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:re.rawResponse};if(re.error.reason==="status-code")switch(re.error.statusCode){case 400:throw new f.BadRequestError(re.error.body,re.rawResponse);case 401:throw new f.UnauthorizedError(re.error.body,re.rawResponse);case 403:throw new f.ForbiddenError(re.error.body,re.rawResponse);case 404:throw new f.NotFoundError(re.error.body,re.rawResponse);case 422:throw new f.UnprocessableEntityError(re.error.body,re.rawResponse);case 429:throw new f.TooManyRequestsError(re.error.body,re.rawResponse);case 498:throw new f.InvalidTokenError(re.error.body,re.rawResponse);case 499:throw new f.ClientClosedRequestError(re.error.body,re.rawResponse);case 500:throw new f.InternalServerError(re.error.body,re.rawResponse);case 501:throw new f.NotImplementedError(re.error.body,re.rawResponse);case 503:throw new f.ServiceUnavailableError(re.error.body,re.rawResponse);case 504:throw new f.GatewayTimeoutError(re.error.body,re.rawResponse);default:throw new s.CohereError({statusCode:re.error.statusCode,body:re.error.body,rawResponse:re.rawResponse})}switch(re.error.reason){case"non-json":throw new s.CohereError({statusCode:re.error.statusCode,body:re.error.rawBody,rawResponse:re.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/datasets.");case"unknown":throw new s.CohereError({message:re.error.errorMessage,rawResponse:re.rawResponse})}})}create(_,p,y,v){return t.HttpResponsePromise.fromPromise(this.__create(_,p,y,v))}__create(_,p,y,v){return l(this,void 0,void 0,function*(){var E,j,x,A,M,T,D,P,F,q,B,S;const H={};H.name=y.name,H.type=u.DatasetType.jsonOrThrow(y.type,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),y.keepOriginalFile!=null&&(H.keep_original_file=y.keepOriginalFile.toString()),y.skipMalformedInput!=null&&(H.skip_malformed_input=y.skipMalformedInput.toString()),y.keepFields!=null&&(Array.isArray(y.keepFields)?H.keep_fields=y.keepFields.map(Q=>Q):H.keep_fields=y.keepFields),y.optionalFields!=null&&(Array.isArray(y.optionalFields)?H.optional_fields=y.optionalFields.map(Q=>Q):H.optional_fields=y.optionalFields),y.textSeparator!=null&&(H.text_separator=y.textSeparator),y.csvDelimiter!=null&&(H.csv_delimiter=y.csvDelimiter);const Y=yield t.newFormData();yield Y.appendFile("data",_),p!=null&&(yield Y.appendFile("eval_data",p));const W=yield Y.getRequest(),$=(0,r.mergeHeaders)((E=this._options)===null||E===void 0?void 0:E.headers,(0,r.mergeOnlyDefinedHeaders)(Object.assign({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(j=v?.clientName)!==null&&j!==void 0?j:(x=this._options)===null||x===void 0?void 0:x.clientName},W.headers)),v?.headers),k=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((T=(M=yield t.Supplier.get(this._options.baseUrl))!==null&&M!==void 0?M:yield t.Supplier.get(this._options.environment))!==null&&T!==void 0?T:a.CohereEnvironment.Production,"v1/datasets"),method:"POST",headers:$,queryParameters:Object.assign(Object.assign({},H),v?.queryParams),requestType:"file",duplex:W.duplex,body:W.body,timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(B=this._options)===null||B===void 0?void 0:B.maxRetries,abortSignal:v?.abortSignal,fetchFn:(S=this._options)===null||S===void 0?void 0:S.fetch,logging:this._options.logging});if(k.ok)return{data:u.DatasetsCreateResponse.parseOrThrow(k.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:k.rawResponse};if(k.error.reason==="status-code")switch(k.error.statusCode){case 400:throw new f.BadRequestError(k.error.body,k.rawResponse);case 401:throw new f.UnauthorizedError(k.error.body,k.rawResponse);case 403:throw new f.ForbiddenError(k.error.body,k.rawResponse);case 404:throw new f.NotFoundError(k.error.body,k.rawResponse);case 422:throw new f.UnprocessableEntityError(k.error.body,k.rawResponse);case 429:throw new f.TooManyRequestsError(k.error.body,k.rawResponse);case 498:throw new f.InvalidTokenError(k.error.body,k.rawResponse);case 499:throw new f.ClientClosedRequestError(k.error.body,k.rawResponse);case 500:throw new f.InternalServerError(k.error.body,k.rawResponse);case 501:throw new f.NotImplementedError(k.error.body,k.rawResponse);case 503:throw new f.ServiceUnavailableError(k.error.body,k.rawResponse);case 504:throw new f.GatewayTimeoutError(k.error.body,k.rawResponse);default:throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.body,rawResponse:k.rawResponse})}switch(k.error.reason){case"non-json":throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.rawBody,rawResponse:k.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/datasets.");case"unknown":throw new s.CohereError({message:k.error.errorMessage,rawResponse:k.rawResponse})}})}getUsage(_){return t.HttpResponsePromise.fromPromise(this.__getUsage(_))}__getUsage(_){return l(this,void 0,void 0,function*(){var p,y,v,E,j,x,A,M,T,D,P,F;const q=(0,r.mergeHeaders)((p=this._options)===null||p===void 0?void 0:p.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(y=_?.clientName)!==null&&y!==void 0?y:(v=this._options)===null||v===void 0?void 0:v.clientName}),_?.headers),B=yield((E=this._options.fetcher)!==null&&E!==void 0?E:t.fetcher)({url:t.url.join((x=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&x!==void 0?x:a.CohereEnvironment.Production,"v1/datasets/usage"),method:"GET",headers:q,queryParameters:_?.queryParams,timeoutMs:((T=(A=_?.timeoutInSeconds)!==null&&A!==void 0?A:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&T!==void 0?T:300)*1e3,maxRetries:(D=_?.maxRetries)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.maxRetries,abortSignal:_?.abortSignal,fetchFn:(F=this._options)===null||F===void 0?void 0:F.fetch,logging:this._options.logging});if(B.ok)return{data:u.DatasetsGetUsageResponse.parseOrThrow(B.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:B.rawResponse};if(B.error.reason==="status-code")switch(B.error.statusCode){case 400:throw new f.BadRequestError(B.error.body,B.rawResponse);case 401:throw new f.UnauthorizedError(B.error.body,B.rawResponse);case 403:throw new f.ForbiddenError(B.error.body,B.rawResponse);case 404:throw new f.NotFoundError(B.error.body,B.rawResponse);case 422:throw new f.UnprocessableEntityError(B.error.body,B.rawResponse);case 429:throw new f.TooManyRequestsError(B.error.body,B.rawResponse);case 498:throw new f.InvalidTokenError(B.error.body,B.rawResponse);case 499:throw new f.ClientClosedRequestError(B.error.body,B.rawResponse);case 500:throw new f.InternalServerError(B.error.body,B.rawResponse);case 501:throw new f.NotImplementedError(B.error.body,B.rawResponse);case 503:throw new f.ServiceUnavailableError(B.error.body,B.rawResponse);case 504:throw new f.GatewayTimeoutError(B.error.body,B.rawResponse);default:throw new s.CohereError({statusCode:B.error.statusCode,body:B.error.body,rawResponse:B.rawResponse})}switch(B.error.reason){case"non-json":throw new s.CohereError({statusCode:B.error.statusCode,body:B.error.rawBody,rawResponse:B.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/datasets/usage.");case"unknown":throw new s.CohereError({message:B.error.errorMessage,rawResponse:B.rawResponse})}})}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/datasets/${t.url.encodePathParam(_)}`),method:"GET",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.DatasetsGetResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/datasets/{id}.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}delete(_,p){return t.HttpResponsePromise.fromPromise(this.__delete(_,p))}__delete(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/datasets/${t.url.encodePathParam(_)}`),method:"DELETE",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.datasets.delete.Response.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling DELETE /v1/datasets/{id}.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}_getAuthorizationHeader(){return l(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return cn.Datasets=g,cn}var dn={},gV;function hve(){if(gV)return dn;gV=1;var e={},n=dn&&dn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=dn&&dn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=dn&&dn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),l=dn&&dn.__awaiter||function(b,_,p,y){function v(E){return E instanceof p?E:new p(function(j){j(E)})}return new(p||(p=Promise))(function(E,j){function x(T){try{M(y.next(T))}catch(D){j(D)}}function A(T){try{M(y.throw(T))}catch(D){j(D)}}function M(T){T.done?E(T.value):v(T.value).then(x,A)}M((y=y.apply(b,_||[])).next())})};Object.defineProperty(dn,"__esModule",{value:!0}),dn.EmbedJobs=void 0;const t=i(ie()),r=cd(),a=i(fc()),s=i(Wt()),u=i(dc()),f=i(sc());class g{constructor(_={}){this._options=_}list(_){return t.HttpResponsePromise.fromPromise(this.__list(_))}__list(_){return l(this,void 0,void 0,function*(){var p,y,v,E,j,x,A,M,T,D,P,F;const q=(0,r.mergeHeaders)((p=this._options)===null||p===void 0?void 0:p.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(y=_?.clientName)!==null&&y!==void 0?y:(v=this._options)===null||v===void 0?void 0:v.clientName}),_?.headers),B=yield((E=this._options.fetcher)!==null&&E!==void 0?E:t.fetcher)({url:t.url.join((x=(j=yield t.Supplier.get(this._options.baseUrl))!==null&&j!==void 0?j:yield t.Supplier.get(this._options.environment))!==null&&x!==void 0?x:a.CohereEnvironment.Production,"v1/embed-jobs"),method:"GET",headers:q,queryParameters:_?.queryParams,timeoutMs:((T=(A=_?.timeoutInSeconds)!==null&&A!==void 0?A:(M=this._options)===null||M===void 0?void 0:M.timeoutInSeconds)!==null&&T!==void 0?T:300)*1e3,maxRetries:(D=_?.maxRetries)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.maxRetries,abortSignal:_?.abortSignal,fetchFn:(F=this._options)===null||F===void 0?void 0:F.fetch,logging:this._options.logging});if(B.ok)return{data:u.ListEmbedJobResponse.parseOrThrow(B.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:B.rawResponse};if(B.error.reason==="status-code")switch(B.error.statusCode){case 400:throw new f.BadRequestError(B.error.body,B.rawResponse);case 401:throw new f.UnauthorizedError(B.error.body,B.rawResponse);case 403:throw new f.ForbiddenError(B.error.body,B.rawResponse);case 404:throw new f.NotFoundError(B.error.body,B.rawResponse);case 422:throw new f.UnprocessableEntityError(B.error.body,B.rawResponse);case 429:throw new f.TooManyRequestsError(B.error.body,B.rawResponse);case 498:throw new f.InvalidTokenError(B.error.body,B.rawResponse);case 499:throw new f.ClientClosedRequestError(B.error.body,B.rawResponse);case 500:throw new f.InternalServerError(B.error.body,B.rawResponse);case 501:throw new f.NotImplementedError(B.error.body,B.rawResponse);case 503:throw new f.ServiceUnavailableError(B.error.body,B.rawResponse);case 504:throw new f.GatewayTimeoutError(B.error.body,B.rawResponse);default:throw new s.CohereError({statusCode:B.error.statusCode,body:B.error.body,rawResponse:B.rawResponse})}switch(B.error.reason){case"non-json":throw new s.CohereError({statusCode:B.error.statusCode,body:B.error.rawBody,rawResponse:B.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/embed-jobs.");case"unknown":throw new s.CohereError({message:B.error.errorMessage,rawResponse:B.rawResponse})}})}create(_,p){return t.HttpResponsePromise.fromPromise(this.__create(_,p))}__create(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/embed-jobs"),method:"POST",headers:B,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:u.CreateEmbedJobRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.CreateEmbedJobResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/embed-jobs.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/embed-jobs/${t.url.encodePathParam(_)}`),method:"GET",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.EmbedJob.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/embed-jobs/{id}.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}cancel(_,p){return t.HttpResponsePromise.fromPromise(this.__cancel(_,p))}__cancel(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/embed-jobs/${t.url.encodePathParam(_)}/cancel`),method:"POST",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:void 0,rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/embed-jobs/{id}/cancel.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}_getAuthorizationHeader(){return l(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return dn.EmbedJobs=g,dn}var fn={},_V;function pve(){if(_V)return fn;_V=1;var e={},n=fn&&fn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=fn&&fn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=fn&&fn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),l=fn&&fn.__awaiter||function(b,_,p,y){function v(E){return E instanceof p?E:new p(function(j){j(E)})}return new(p||(p=Promise))(function(E,j){function x(T){try{M(y.next(T))}catch(D){j(D)}}function A(T){try{M(y.throw(T))}catch(D){j(D)}}function M(T){T.done?E(T.value):v(T.value).then(x,A)}M((y=y.apply(b,_||[])).next())})};Object.defineProperty(fn,"__esModule",{value:!0}),fn.Finetuning=void 0;const t=i(ie()),r=cd(),a=i(fc()),s=i(Wt()),u=i(dc()),f=i(sc());class g{constructor(_={}){this._options=_}listFinetunedModels(_={},p){return t.HttpResponsePromise.fromPromise(this.__listFinetunedModels(_,p))}__listFinetunedModels(){return l(this,arguments,void 0,function*(_={},p){var y,v,E,j,x,A,M,T,D,P,F,q;const{pageSize:B,pageToken:S,orderBy:H}=_,Y={};B!=null&&(Y.page_size=B.toString()),S!=null&&(Y.page_token=S),H!=null&&(Y.order_by=H);const W=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),$=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"GET",headers:W,queryParameters:Object.assign(Object.assign({},Y),p?.queryParams),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if($.ok)return{data:u.finetuning.ListFinetunedModelsResponse.parseOrThrow($.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:$.rawResponse};if($.error.reason==="status-code")switch($.error.statusCode){case 400:throw new f.BadRequestError($.error.body,$.rawResponse);case 401:throw new f.UnauthorizedError($.error.body,$.rawResponse);case 403:throw new f.ForbiddenError($.error.body,$.rawResponse);case 404:throw new f.NotFoundError($.error.body,$.rawResponse);case 500:throw new f.InternalServerError($.error.body,$.rawResponse);case 503:throw new f.ServiceUnavailableError($.error.body,$.rawResponse);default:throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.body,rawResponse:$.rawResponse})}switch($.error.reason){case"non-json":throw new s.CohereError({statusCode:$.error.statusCode,body:$.error.rawBody,rawResponse:$.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models.");case"unknown":throw new s.CohereError({message:$.error.errorMessage,rawResponse:$.rawResponse})}})}createFinetunedModel(_,p){return t.HttpResponsePromise.fromPromise(this.__createFinetunedModel(_,p))}__createFinetunedModel(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"POST",headers:B,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:u.finetuning.FinetunedModel.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.finetuning.CreateFinetunedModelResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v1/finetuning/finetuned-models.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}getFinetunedModel(_,p){return t.HttpResponsePromise.fromPromise(this.__getFinetunedModel(_,p))}__getFinetunedModel(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(_)}`),method:"GET",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.finetuning.GetFinetunedModelResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models/{id}.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}deleteFinetunedModel(_,p){return t.HttpResponsePromise.fromPromise(this.__deleteFinetunedModel(_,p))}__deleteFinetunedModel(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(_)}`),method:"DELETE",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.finetuning.DeleteFinetunedModelResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling DELETE /v1/finetuning/finetuned-models/{id}.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}updateFinetunedModel(_,p,y){return t.HttpResponsePromise.fromPromise(this.__updateFinetunedModel(_,p,y))}__updateFinetunedModel(_,p,y){return l(this,void 0,void 0,function*(){var v,E,j,x,A,M,T,D,P,F,q,B;const S=(0,r.mergeHeaders)((v=this._options)===null||v===void 0?void 0:v.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(E=y?.clientName)!==null&&E!==void 0?E:(j=this._options)===null||j===void 0?void 0:j.clientName}),y?.headers),H=yield((x=this._options.fetcher)!==null&&x!==void 0?x:t.fetcher)({url:t.url.join((M=(A=yield t.Supplier.get(this._options.baseUrl))!==null&&A!==void 0?A:yield t.Supplier.get(this._options.environment))!==null&&M!==void 0?M:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(_)}`),method:"PATCH",headers:S,contentType:"application/json",queryParameters:y?.queryParams,requestType:"json",body:u.FinetuningUpdateFinetunedModelRequest.jsonOrThrow(p,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((P=(T=y?.timeoutInSeconds)!==null&&T!==void 0?T:(D=this._options)===null||D===void 0?void 0:D.timeoutInSeconds)!==null&&P!==void 0?P:300)*1e3,maxRetries:(F=y?.maxRetries)!==null&&F!==void 0?F:(q=this._options)===null||q===void 0?void 0:q.maxRetries,abortSignal:y?.abortSignal,fetchFn:(B=this._options)===null||B===void 0?void 0:B.fetch,logging:this._options.logging});if(H.ok)return{data:u.finetuning.UpdateFinetunedModelResponse.parseOrThrow(H.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:H.rawResponse};if(H.error.reason==="status-code")switch(H.error.statusCode){case 400:throw new f.BadRequestError(H.error.body,H.rawResponse);case 401:throw new f.UnauthorizedError(H.error.body,H.rawResponse);case 403:throw new f.ForbiddenError(H.error.body,H.rawResponse);case 404:throw new f.NotFoundError(H.error.body,H.rawResponse);case 500:throw new f.InternalServerError(H.error.body,H.rawResponse);case 503:throw new f.ServiceUnavailableError(H.error.body,H.rawResponse);default:throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.body,rawResponse:H.rawResponse})}switch(H.error.reason){case"non-json":throw new s.CohereError({statusCode:H.error.statusCode,body:H.error.rawBody,rawResponse:H.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling PATCH /v1/finetuning/finetuned-models/{id}.");case"unknown":throw new s.CohereError({message:H.error.errorMessage,rawResponse:H.rawResponse})}})}listEvents(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__listEvents(_,p,y))}__listEvents(_){return l(this,arguments,void 0,function*(p,y={},v){var E,j,x,A,M,T,D,P,F,q,B,S;const{pageSize:H,pageToken:Y,orderBy:W}=y,$={};H!=null&&($.page_size=H.toString()),Y!=null&&($.page_token=Y),W!=null&&($.order_by=W);const k=(0,r.mergeHeaders)((E=this._options)===null||E===void 0?void 0:E.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(j=v?.clientName)!==null&&j!==void 0?j:(x=this._options)===null||x===void 0?void 0:x.clientName}),v?.headers),Q=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((T=(M=yield t.Supplier.get(this._options.baseUrl))!==null&&M!==void 0?M:yield t.Supplier.get(this._options.environment))!==null&&T!==void 0?T:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(p)}/events`),method:"GET",headers:k,queryParameters:Object.assign(Object.assign({},$),v?.queryParams),timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(B=this._options)===null||B===void 0?void 0:B.maxRetries,abortSignal:v?.abortSignal,fetchFn:(S=this._options)===null||S===void 0?void 0:S.fetch,logging:this._options.logging});if(Q.ok)return{data:u.finetuning.ListEventsResponse.parseOrThrow(Q.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:Q.rawResponse};if(Q.error.reason==="status-code")switch(Q.error.statusCode){case 400:throw new f.BadRequestError(Q.error.body,Q.rawResponse);case 401:throw new f.UnauthorizedError(Q.error.body,Q.rawResponse);case 403:throw new f.ForbiddenError(Q.error.body,Q.rawResponse);case 404:throw new f.NotFoundError(Q.error.body,Q.rawResponse);case 500:throw new f.InternalServerError(Q.error.body,Q.rawResponse);case 503:throw new f.ServiceUnavailableError(Q.error.body,Q.rawResponse);default:throw new s.CohereError({statusCode:Q.error.statusCode,body:Q.error.body,rawResponse:Q.rawResponse})}switch(Q.error.reason){case"non-json":throw new s.CohereError({statusCode:Q.error.statusCode,body:Q.error.rawBody,rawResponse:Q.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models/{finetuned_model_id}/events.");case"unknown":throw new s.CohereError({message:Q.error.errorMessage,rawResponse:Q.rawResponse})}})}listTrainingStepMetrics(_,p={},y){return t.HttpResponsePromise.fromPromise(this.__listTrainingStepMetrics(_,p,y))}__listTrainingStepMetrics(_){return l(this,arguments,void 0,function*(p,y={},v){var E,j,x,A,M,T,D,P,F,q,B,S;const{pageSize:H,pageToken:Y}=y,W={};H!=null&&(W.page_size=H.toString()),Y!=null&&(W.page_token=Y);const $=(0,r.mergeHeaders)((E=this._options)===null||E===void 0?void 0:E.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(j=v?.clientName)!==null&&j!==void 0?j:(x=this._options)===null||x===void 0?void 0:x.clientName}),v?.headers),k=yield((A=this._options.fetcher)!==null&&A!==void 0?A:t.fetcher)({url:t.url.join((T=(M=yield t.Supplier.get(this._options.baseUrl))!==null&&M!==void 0?M:yield t.Supplier.get(this._options.environment))!==null&&T!==void 0?T:a.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${t.url.encodePathParam(p)}/training-step-metrics`),method:"GET",headers:$,queryParameters:Object.assign(Object.assign({},W),v?.queryParams),timeoutMs:((F=(D=v?.timeoutInSeconds)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.timeoutInSeconds)!==null&&F!==void 0?F:300)*1e3,maxRetries:(q=v?.maxRetries)!==null&&q!==void 0?q:(B=this._options)===null||B===void 0?void 0:B.maxRetries,abortSignal:v?.abortSignal,fetchFn:(S=this._options)===null||S===void 0?void 0:S.fetch,logging:this._options.logging});if(k.ok)return{data:u.finetuning.ListTrainingStepMetricsResponse.parseOrThrow(k.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:k.rawResponse};if(k.error.reason==="status-code")switch(k.error.statusCode){case 400:throw new f.BadRequestError(k.error.body,k.rawResponse);case 401:throw new f.UnauthorizedError(k.error.body,k.rawResponse);case 403:throw new f.ForbiddenError(k.error.body,k.rawResponse);case 404:throw new f.NotFoundError(k.error.body,k.rawResponse);case 500:throw new f.InternalServerError(k.error.body,k.rawResponse);case 503:throw new f.ServiceUnavailableError(k.error.body,k.rawResponse);default:throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.body,rawResponse:k.rawResponse})}switch(k.error.reason){case"non-json":throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.rawBody,rawResponse:k.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/finetuning/finetuned-models/{finetuned_model_id}/training-step-metrics.");case"unknown":throw new s.CohereError({message:k.error.errorMessage,rawResponse:k.rawResponse})}})}_getAuthorizationHeader(){return l(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return fn.Finetuning=g,fn}var hn={},yV;function mve(){if(yV)return hn;yV=1;var e={},n=hn&&hn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=hn&&hn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=hn&&hn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),l=hn&&hn.__awaiter||function(b,_,p,y){function v(E){return E instanceof p?E:new p(function(j){j(E)})}return new(p||(p=Promise))(function(E,j){function x(T){try{M(y.next(T))}catch(D){j(D)}}function A(T){try{M(y.throw(T))}catch(D){j(D)}}function M(T){T.done?E(T.value):v(T.value).then(x,A)}M((y=y.apply(b,_||[])).next())})};Object.defineProperty(hn,"__esModule",{value:!0}),hn.Models=void 0;const t=i(ie()),r=cd(),a=i(fc()),s=i(Wt()),u=i(dc()),f=i(sc());class g{constructor(_={}){this._options=_}get(_,p){return t.HttpResponsePromise.fromPromise(this.__get(_,p))}__get(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,`v1/models/${t.url.encodePathParam(_)}`),method:"GET",headers:B,queryParameters:p?.queryParams,timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.GetModelResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/models/{model}.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}list(_={},p){return t.HttpResponsePromise.fromPromise(this.__list(_,p))}__list(){return l(this,arguments,void 0,function*(_={},p){var y,v,E,j,x,A,M,T,D,P,F,q;const{pageSize:B,pageToken:S,endpoint:H,defaultOnly:Y}=_,W={};B!=null&&(W.page_size=B.toString()),S!=null&&(W.page_token=S),H!=null&&(W.endpoint=u.CompatibleEndpoint.jsonOrThrow(H,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),Y!=null&&(W.default_only=Y.toString());const $=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),k=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v1/models"),method:"GET",headers:$,queryParameters:Object.assign(Object.assign({},W),p?.queryParams),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(k.ok)return{data:u.ListModelsResponse.parseOrThrow(k.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:k.rawResponse};if(k.error.reason==="status-code")switch(k.error.statusCode){case 400:throw new f.BadRequestError(k.error.body,k.rawResponse);case 401:throw new f.UnauthorizedError(k.error.body,k.rawResponse);case 403:throw new f.ForbiddenError(k.error.body,k.rawResponse);case 404:throw new f.NotFoundError(k.error.body,k.rawResponse);case 422:throw new f.UnprocessableEntityError(k.error.body,k.rawResponse);case 429:throw new f.TooManyRequestsError(k.error.body,k.rawResponse);case 498:throw new f.InvalidTokenError(k.error.body,k.rawResponse);case 499:throw new f.ClientClosedRequestError(k.error.body,k.rawResponse);case 500:throw new f.InternalServerError(k.error.body,k.rawResponse);case 501:throw new f.NotImplementedError(k.error.body,k.rawResponse);case 503:throw new f.ServiceUnavailableError(k.error.body,k.rawResponse);case 504:throw new f.GatewayTimeoutError(k.error.body,k.rawResponse);default:throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.body,rawResponse:k.rawResponse})}switch(k.error.reason){case"non-json":throw new s.CohereError({statusCode:k.error.statusCode,body:k.error.rawBody,rawResponse:k.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling GET /v1/models.");case"unknown":throw new s.CohereError({message:k.error.errorMessage,rawResponse:k.rawResponse})}})}_getAuthorizationHeader(){return l(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return hn.Models=g,hn}var pn={},vV;function _J(){if(vV)return pn;vV=1;var e={},n=pn&&pn.__createBinding||(Object.create?(function(b,_,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(_,p);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[p]}}),Object.defineProperty(b,y,v)}):(function(b,_,p,y){y===void 0&&(y=p),b[y]=_[p]})),o=pn&&pn.__setModuleDefault||(Object.create?(function(b,_){Object.defineProperty(b,"default",{enumerable:!0,value:_})}):function(b,_){b.default=_}),i=pn&&pn.__importStar||(function(){var b=function(_){return b=Object.getOwnPropertyNames||function(p){var y=[];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[y.length]=v);return y},b(_)};return function(_){if(_&&_.__esModule)return _;var p={};if(_!=null)for(var y=b(_),v=0;v<y.length;v++)y[v]!=="default"&&n(p,_,y[v]);return o(p,_),p}})(),l=pn&&pn.__awaiter||function(b,_,p,y){function v(E){return E instanceof p?E:new p(function(j){j(E)})}return new(p||(p=Promise))(function(E,j){function x(T){try{M(y.next(T))}catch(D){j(D)}}function A(T){try{M(y.throw(T))}catch(D){j(D)}}function M(T){T.done?E(T.value):v(T.value).then(x,A)}M((y=y.apply(b,_||[])).next())})};Object.defineProperty(pn,"__esModule",{value:!0}),pn.V2=void 0;const t=i(ie()),r=cd(),a=i(fc()),s=i(Wt()),u=i(dc()),f=i(sc());class g{constructor(_={}){this._options=_}chatStream(_,p){return t.HttpResponsePromise.fromPromise(this.__chatStream(_,p))}__chatStream(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:B,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:Object.assign(Object.assign({},u.V2ChatStreamRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:new t.Stream({stream:S.body,parse:H=>l(this,void 0,void 0,function*(){return u.V2ChatStreamResponse.parseOrThrow(H,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:p?.abortSignal,eventShape:{type:"sse",streamTerminator:"[DONE]"}}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/chat.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}chat(_,p){return t.HttpResponsePromise.fromPromise(this.__chat(_,p))}__chat(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:B,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:Object.assign(Object.assign({},u.V2ChatRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.V2ChatResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/chat.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}embed(_,p){return t.HttpResponsePromise.fromPromise(this.__embed(_,p))}__embed(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/embed"),method:"POST",headers:B,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:u.V2EmbedRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.EmbedByTypeResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/embed.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}rerank(_,p){return t.HttpResponsePromise.fromPromise(this.__rerank(_,p))}__rerank(_,p){return l(this,void 0,void 0,function*(){var y,v,E,j,x,A,M,T,D,P,F,q;const B=(0,r.mergeHeaders)((y=this._options)===null||y===void 0?void 0:y.headers,(0,r.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(v=p?.clientName)!==null&&v!==void 0?v:(E=this._options)===null||E===void 0?void 0:E.clientName}),p?.headers),S=yield((j=this._options.fetcher)!==null&&j!==void 0?j:t.fetcher)({url:t.url.join((A=(x=yield t.Supplier.get(this._options.baseUrl))!==null&&x!==void 0?x:yield t.Supplier.get(this._options.environment))!==null&&A!==void 0?A:a.CohereEnvironment.Production,"v2/rerank"),method:"POST",headers:B,contentType:"application/json",queryParameters:p?.queryParams,requestType:"json",body:u.V2RerankRequest.jsonOrThrow(_,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((D=(M=p?.timeoutInSeconds)!==null&&M!==void 0?M:(T=this._options)===null||T===void 0?void 0:T.timeoutInSeconds)!==null&&D!==void 0?D:300)*1e3,maxRetries:(P=p?.maxRetries)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.maxRetries,abortSignal:p?.abortSignal,fetchFn:(q=this._options)===null||q===void 0?void 0:q.fetch,logging:this._options.logging});if(S.ok)return{data:u.V2RerankResponse.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if(S.error.reason==="status-code")switch(S.error.statusCode){case 400:throw new f.BadRequestError(S.error.body,S.rawResponse);case 401:throw new f.UnauthorizedError(S.error.body,S.rawResponse);case 403:throw new f.ForbiddenError(S.error.body,S.rawResponse);case 404:throw new f.NotFoundError(S.error.body,S.rawResponse);case 422:throw new f.UnprocessableEntityError(S.error.body,S.rawResponse);case 429:throw new f.TooManyRequestsError(S.error.body,S.rawResponse);case 498:throw new f.InvalidTokenError(S.error.body,S.rawResponse);case 499:throw new f.ClientClosedRequestError(S.error.body,S.rawResponse);case 500:throw new f.InternalServerError(S.error.body,S.rawResponse);case 501:throw new f.NotImplementedError(S.error.body,S.rawResponse);case 503:throw new f.ServiceUnavailableError(S.error.body,S.rawResponse);case 504:throw new f.GatewayTimeoutError(S.error.body,S.rawResponse);default:throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse})}switch(S.error.reason){case"non-json":throw new s.CohereError({statusCode:S.error.statusCode,body:S.error.rawBody,rawResponse:S.rawResponse});case"timeout":throw new s.CohereTimeoutError("Timeout exceeded when calling POST /v2/rerank.");case"unknown":throw new s.CohereError({message:S.error.errorMessage,rawResponse:S.rawResponse})}})}_getAuthorizationHeader(){return l(this,void 0,void 0,function*(){var _;const p=(_=yield t.Supplier.get(this._options.token))!==null&&_!==void 0?_:process==null?void 0:e.CO_API_KEY;if(p!=null)return`Bearer ${p}`})}}return pn.V2=g,pn}var bV;function wM(){if(bV)return Ar;bV=1;var e={},n=Ar&&Ar.__createBinding||(Object.create?(function(A,M,T,D){D===void 0&&(D=T);var P=Object.getOwnPropertyDescriptor(M,T);(!P||("get"in P?!M.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return M[T]}}),Object.defineProperty(A,D,P)}):(function(A,M,T,D){D===void 0&&(D=T),A[D]=M[T]})),o=Ar&&Ar.__setModuleDefault||(Object.create?(function(A,M){Object.defineProperty(A,"default",{enumerable:!0,value:M})}):function(A,M){A.default=M}),i=Ar&&Ar.__importStar||(function(){var A=function(M){return A=Object.getOwnPropertyNames||function(T){var D=[];for(var P in T)Object.prototype.hasOwnProperty.call(T,P)&&(D[D.length]=P);return D},A(M)};return function(M){if(M&&M.__esModule)return M;var T={};if(M!=null)for(var D=A(M),P=0;P<D.length;P++)D[P]!=="default"&&n(T,M,D[P]);return o(T,M),T}})(),l=Ar&&Ar.__awaiter||function(A,M,T,D){function P(F){return F instanceof T?F:new T(function(q){q(F)})}return new(T||(T=Promise))(function(F,q){function B(Y){try{H(D.next(Y))}catch(W){q(W)}}function S(Y){try{H(D.throw(Y))}catch(W){q(W)}}function H(Y){Y.done?F(Y.value):P(Y.value).then(B,S)}H((D=D.apply(A,M||[])).next())})},t=Ar&&Ar.__rest||function(A,M){var T={};for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&M.indexOf(D)<0&&(T[D]=A[D]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,D=Object.getOwnPropertySymbols(A);P<D.length;P++)M.indexOf(D[P])<0&&Object.prototype.propertyIsEnumerable.call(A,D[P])&&(T[D[P]]=A[D[P]]);return T};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.CohereClient=void 0;const r=i(sc()),a=cve(),s=dve(),u=fve(),f=hve(),g=pve(),b=mve(),_=_J(),p=i(ie()),y=cd(),v=i(fc()),E=i(Wt()),j=i(dc());class x{constructor(M={}){this._options=Object.assign(Object.assign({},M),{logging:p.logging.createLogger(M?.logging),headers:(0,y.mergeHeaders)({"X-Client-Name":M?.clientName,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.20.0","User-Agent":"cohere-ai/7.20.0","X-Fern-Runtime":p.RUNTIME.type,"X-Fern-Runtime-Version":p.RUNTIME.version},M?.headers)})}get v2(){var M;return(M=this._v2)!==null&&M!==void 0?M:this._v2=new _.V2(this._options)}get batches(){var M;return(M=this._batches)!==null&&M!==void 0?M:this._batches=new a.Batches(this._options)}get embedJobs(){var M;return(M=this._embedJobs)!==null&&M!==void 0?M:this._embedJobs=new f.EmbedJobs(this._options)}get datasets(){var M;return(M=this._datasets)!==null&&M!==void 0?M:this._datasets=new u.Datasets(this._options)}get connectors(){var M;return(M=this._connectors)!==null&&M!==void 0?M:this._connectors=new s.Connectors(this._options)}get models(){var M;return(M=this._models)!==null&&M!==void 0?M:this._models=new b.Models(this._options)}get finetuning(){var M;return(M=this._finetuning)!==null&&M!==void 0?M:this._finetuning=new g.Finetuning(this._options)}chatStream(M,T){return p.HttpResponsePromise.fromPromise(this.__chatStream(M,T))}__chatStream(M,T){return l(this,void 0,void 0,function*(){var D,P,F,q,B,S,H,Y,W,$,k,Q;const{accepts:re}=M,C=t(M,["accepts"]),I=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),Accepts:re??void 0,"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),K=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:I,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:Object.assign(Object.assign({},j.ChatStreamRequest.jsonOrThrow(C,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(K.ok)return{data:new p.Stream({stream:K.body,parse:ee=>l(this,void 0,void 0,function*(){return j.StreamedChatResponse.parseOrThrow(ee,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:T?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}}),rawResponse:K.rawResponse};if(K.error.reason==="status-code")switch(K.error.statusCode){case 400:throw new r.BadRequestError(K.error.body,K.rawResponse);case 401:throw new r.UnauthorizedError(K.error.body,K.rawResponse);case 403:throw new r.ForbiddenError(K.error.body,K.rawResponse);case 404:throw new r.NotFoundError(K.error.body,K.rawResponse);case 422:throw new r.UnprocessableEntityError(K.error.body,K.rawResponse);case 429:throw new r.TooManyRequestsError(K.error.body,K.rawResponse);case 498:throw new r.InvalidTokenError(K.error.body,K.rawResponse);case 499:throw new r.ClientClosedRequestError(K.error.body,K.rawResponse);case 500:throw new r.InternalServerError(K.error.body,K.rawResponse);case 501:throw new r.NotImplementedError(K.error.body,K.rawResponse);case 503:throw new r.ServiceUnavailableError(K.error.body,K.rawResponse);case 504:throw new r.GatewayTimeoutError(K.error.body,K.rawResponse);default:throw new E.CohereError({statusCode:K.error.statusCode,body:K.error.body,rawResponse:K.rawResponse})}switch(K.error.reason){case"non-json":throw new E.CohereError({statusCode:K.error.statusCode,body:K.error.rawBody,rawResponse:K.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/chat.");case"unknown":throw new E.CohereError({message:K.error.errorMessage,rawResponse:K.rawResponse})}})}chat(M,T){return p.HttpResponsePromise.fromPromise(this.__chat(M,T))}__chat(M,T){return l(this,void 0,void 0,function*(){var D,P,F,q,B,S,H,Y,W,$,k,Q;const{accepts:re}=M,C=t(M,["accepts"]),I=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),Accepts:re??void 0,"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),K=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:I,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:Object.assign(Object.assign({},j.ChatRequest.jsonOrThrow(C,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(K.ok)return{data:j.NonStreamedChatResponse.parseOrThrow(K.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:K.rawResponse};if(K.error.reason==="status-code")switch(K.error.statusCode){case 400:throw new r.BadRequestError(K.error.body,K.rawResponse);case 401:throw new r.UnauthorizedError(K.error.body,K.rawResponse);case 403:throw new r.ForbiddenError(K.error.body,K.rawResponse);case 404:throw new r.NotFoundError(K.error.body,K.rawResponse);case 422:throw new r.UnprocessableEntityError(K.error.body,K.rawResponse);case 429:throw new r.TooManyRequestsError(K.error.body,K.rawResponse);case 498:throw new r.InvalidTokenError(K.error.body,K.rawResponse);case 499:throw new r.ClientClosedRequestError(K.error.body,K.rawResponse);case 500:throw new r.InternalServerError(K.error.body,K.rawResponse);case 501:throw new r.NotImplementedError(K.error.body,K.rawResponse);case 503:throw new r.ServiceUnavailableError(K.error.body,K.rawResponse);case 504:throw new r.GatewayTimeoutError(K.error.body,K.rawResponse);default:throw new E.CohereError({statusCode:K.error.statusCode,body:K.error.body,rawResponse:K.rawResponse})}switch(K.error.reason){case"non-json":throw new E.CohereError({statusCode:K.error.statusCode,body:K.error.rawBody,rawResponse:K.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/chat.");case"unknown":throw new E.CohereError({message:K.error.errorMessage,rawResponse:K.rawResponse})}})}generateStream(M,T){return p.HttpResponsePromise.fromPromise(this.__generateStream(M,T))}__generateStream(M,T){return l(this,void 0,void 0,function*(){var D,P,F,q,B,S,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),C=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:re,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:Object.assign(Object.assign({},j.GenerateStreamRequest.jsonOrThrow(M,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(C.ok)return{data:new p.Stream({stream:C.body,parse:I=>l(this,void 0,void 0,function*(){return j.GenerateStreamedResponse.parseOrThrow(I,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:T?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}}),rawResponse:C.rawResponse};if(C.error.reason==="status-code")switch(C.error.statusCode){case 400:throw new r.BadRequestError(C.error.body,C.rawResponse);case 401:throw new r.UnauthorizedError(C.error.body,C.rawResponse);case 403:throw new r.ForbiddenError(C.error.body,C.rawResponse);case 404:throw new r.NotFoundError(C.error.body,C.rawResponse);case 422:throw new r.UnprocessableEntityError(C.error.body,C.rawResponse);case 429:throw new r.TooManyRequestsError(C.error.body,C.rawResponse);case 498:throw new r.InvalidTokenError(C.error.body,C.rawResponse);case 499:throw new r.ClientClosedRequestError(C.error.body,C.rawResponse);case 500:throw new r.InternalServerError(C.error.body,C.rawResponse);case 501:throw new r.NotImplementedError(C.error.body,C.rawResponse);case 503:throw new r.ServiceUnavailableError(C.error.body,C.rawResponse);case 504:throw new r.GatewayTimeoutError(C.error.body,C.rawResponse);default:throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.body,rawResponse:C.rawResponse})}switch(C.error.reason){case"non-json":throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.rawBody,rawResponse:C.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/generate.");case"unknown":throw new E.CohereError({message:C.error.errorMessage,rawResponse:C.rawResponse})}})}generate(M,T){return p.HttpResponsePromise.fromPromise(this.__generate(M,T))}__generate(M,T){return l(this,void 0,void 0,function*(){var D,P,F,q,B,S,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),C=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:re,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:Object.assign(Object.assign({},j.GenerateRequest.jsonOrThrow(M,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(C.ok)return{data:j.Generation.parseOrThrow(C.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:C.rawResponse};if(C.error.reason==="status-code")switch(C.error.statusCode){case 400:throw new r.BadRequestError(C.error.body,C.rawResponse);case 401:throw new r.UnauthorizedError(C.error.body,C.rawResponse);case 403:throw new r.ForbiddenError(C.error.body,C.rawResponse);case 404:throw new r.NotFoundError(C.error.body,C.rawResponse);case 422:throw new r.UnprocessableEntityError(C.error.body,C.rawResponse);case 429:throw new r.TooManyRequestsError(C.error.body,C.rawResponse);case 498:throw new r.InvalidTokenError(C.error.body,C.rawResponse);case 499:throw new r.ClientClosedRequestError(C.error.body,C.rawResponse);case 500:throw new r.InternalServerError(C.error.body,C.rawResponse);case 501:throw new r.NotImplementedError(C.error.body,C.rawResponse);case 503:throw new r.ServiceUnavailableError(C.error.body,C.rawResponse);case 504:throw new r.GatewayTimeoutError(C.error.body,C.rawResponse);default:throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.body,rawResponse:C.rawResponse})}switch(C.error.reason){case"non-json":throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.rawBody,rawResponse:C.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/generate.");case"unknown":throw new E.CohereError({message:C.error.errorMessage,rawResponse:C.rawResponse})}})}embed(M={},T){return p.HttpResponsePromise.fromPromise(this.__embed(M,T))}__embed(){return l(this,arguments,void 0,function*(M={},T){var D,P,F,q,B,S,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),C=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/embed"),method:"POST",headers:re,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:j.EmbedRequest.jsonOrThrow(M,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(C.ok)return{data:j.EmbedResponse.parseOrThrow(C.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:C.rawResponse};if(C.error.reason==="status-code")switch(C.error.statusCode){case 400:throw new r.BadRequestError(C.error.body,C.rawResponse);case 401:throw new r.UnauthorizedError(C.error.body,C.rawResponse);case 403:throw new r.ForbiddenError(C.error.body,C.rawResponse);case 404:throw new r.NotFoundError(C.error.body,C.rawResponse);case 422:throw new r.UnprocessableEntityError(C.error.body,C.rawResponse);case 429:throw new r.TooManyRequestsError(C.error.body,C.rawResponse);case 498:throw new r.InvalidTokenError(C.error.body,C.rawResponse);case 499:throw new r.ClientClosedRequestError(C.error.body,C.rawResponse);case 500:throw new r.InternalServerError(C.error.body,C.rawResponse);case 501:throw new r.NotImplementedError(C.error.body,C.rawResponse);case 503:throw new r.ServiceUnavailableError(C.error.body,C.rawResponse);case 504:throw new r.GatewayTimeoutError(C.error.body,C.rawResponse);default:throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.body,rawResponse:C.rawResponse})}switch(C.error.reason){case"non-json":throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.rawBody,rawResponse:C.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/embed.");case"unknown":throw new E.CohereError({message:C.error.errorMessage,rawResponse:C.rawResponse})}})}rerank(M,T){return p.HttpResponsePromise.fromPromise(this.__rerank(M,T))}__rerank(M,T){return l(this,void 0,void 0,function*(){var D,P,F,q,B,S,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),C=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/rerank"),method:"POST",headers:re,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:j.RerankRequest.jsonOrThrow(M,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(C.ok)return{data:j.RerankResponse.parseOrThrow(C.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:C.rawResponse};if(C.error.reason==="status-code")switch(C.error.statusCode){case 400:throw new r.BadRequestError(C.error.body,C.rawResponse);case 401:throw new r.UnauthorizedError(C.error.body,C.rawResponse);case 403:throw new r.ForbiddenError(C.error.body,C.rawResponse);case 404:throw new r.NotFoundError(C.error.body,C.rawResponse);case 422:throw new r.UnprocessableEntityError(C.error.body,C.rawResponse);case 429:throw new r.TooManyRequestsError(C.error.body,C.rawResponse);case 498:throw new r.InvalidTokenError(C.error.body,C.rawResponse);case 499:throw new r.ClientClosedRequestError(C.error.body,C.rawResponse);case 500:throw new r.InternalServerError(C.error.body,C.rawResponse);case 501:throw new r.NotImplementedError(C.error.body,C.rawResponse);case 503:throw new r.ServiceUnavailableError(C.error.body,C.rawResponse);case 504:throw new r.GatewayTimeoutError(C.error.body,C.rawResponse);default:throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.body,rawResponse:C.rawResponse})}switch(C.error.reason){case"non-json":throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.rawBody,rawResponse:C.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/rerank.");case"unknown":throw new E.CohereError({message:C.error.errorMessage,rawResponse:C.rawResponse})}})}classify(M,T){return p.HttpResponsePromise.fromPromise(this.__classify(M,T))}__classify(M,T){return l(this,void 0,void 0,function*(){var D,P,F,q,B,S,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),C=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/classify"),method:"POST",headers:re,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:j.ClassifyRequest.jsonOrThrow(M,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(C.ok)return{data:j.ClassifyResponse.parseOrThrow(C.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:C.rawResponse};if(C.error.reason==="status-code")switch(C.error.statusCode){case 400:throw new r.BadRequestError(C.error.body,C.rawResponse);case 401:throw new r.UnauthorizedError(C.error.body,C.rawResponse);case 403:throw new r.ForbiddenError(C.error.body,C.rawResponse);case 404:throw new r.NotFoundError(C.error.body,C.rawResponse);case 422:throw new r.UnprocessableEntityError(C.error.body,C.rawResponse);case 429:throw new r.TooManyRequestsError(C.error.body,C.rawResponse);case 498:throw new r.InvalidTokenError(C.error.body,C.rawResponse);case 499:throw new r.ClientClosedRequestError(C.error.body,C.rawResponse);case 500:throw new r.InternalServerError(C.error.body,C.rawResponse);case 501:throw new r.NotImplementedError(C.error.body,C.rawResponse);case 503:throw new r.ServiceUnavailableError(C.error.body,C.rawResponse);case 504:throw new r.GatewayTimeoutError(C.error.body,C.rawResponse);default:throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.body,rawResponse:C.rawResponse})}switch(C.error.reason){case"non-json":throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.rawBody,rawResponse:C.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/classify.");case"unknown":throw new E.CohereError({message:C.error.errorMessage,rawResponse:C.rawResponse})}})}summarize(M,T){return p.HttpResponsePromise.fromPromise(this.__summarize(M,T))}__summarize(M,T){return l(this,void 0,void 0,function*(){var D,P,F,q,B,S,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),C=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/summarize"),method:"POST",headers:re,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:j.SummarizeRequest.jsonOrThrow(M,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(C.ok)return{data:j.SummarizeResponse.parseOrThrow(C.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:C.rawResponse};if(C.error.reason==="status-code")switch(C.error.statusCode){case 400:throw new r.BadRequestError(C.error.body,C.rawResponse);case 401:throw new r.UnauthorizedError(C.error.body,C.rawResponse);case 403:throw new r.ForbiddenError(C.error.body,C.rawResponse);case 404:throw new r.NotFoundError(C.error.body,C.rawResponse);case 422:throw new r.UnprocessableEntityError(C.error.body,C.rawResponse);case 429:throw new r.TooManyRequestsError(C.error.body,C.rawResponse);case 498:throw new r.InvalidTokenError(C.error.body,C.rawResponse);case 499:throw new r.ClientClosedRequestError(C.error.body,C.rawResponse);case 500:throw new r.InternalServerError(C.error.body,C.rawResponse);case 501:throw new r.NotImplementedError(C.error.body,C.rawResponse);case 503:throw new r.ServiceUnavailableError(C.error.body,C.rawResponse);case 504:throw new r.GatewayTimeoutError(C.error.body,C.rawResponse);default:throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.body,rawResponse:C.rawResponse})}switch(C.error.reason){case"non-json":throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.rawBody,rawResponse:C.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/summarize.");case"unknown":throw new E.CohereError({message:C.error.errorMessage,rawResponse:C.rawResponse})}})}tokenize(M,T){return p.HttpResponsePromise.fromPromise(this.__tokenize(M,T))}__tokenize(M,T){return l(this,void 0,void 0,function*(){var D,P,F,q,B,S,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),C=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/tokenize"),method:"POST",headers:re,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:j.TokenizeRequest.jsonOrThrow(M,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(C.ok)return{data:j.TokenizeResponse.parseOrThrow(C.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:C.rawResponse};if(C.error.reason==="status-code")switch(C.error.statusCode){case 400:throw new r.BadRequestError(C.error.body,C.rawResponse);case 401:throw new r.UnauthorizedError(C.error.body,C.rawResponse);case 403:throw new r.ForbiddenError(C.error.body,C.rawResponse);case 404:throw new r.NotFoundError(C.error.body,C.rawResponse);case 422:throw new r.UnprocessableEntityError(C.error.body,C.rawResponse);case 429:throw new r.TooManyRequestsError(C.error.body,C.rawResponse);case 498:throw new r.InvalidTokenError(C.error.body,C.rawResponse);case 499:throw new r.ClientClosedRequestError(C.error.body,C.rawResponse);case 500:throw new r.InternalServerError(C.error.body,C.rawResponse);case 501:throw new r.NotImplementedError(C.error.body,C.rawResponse);case 503:throw new r.ServiceUnavailableError(C.error.body,C.rawResponse);case 504:throw new r.GatewayTimeoutError(C.error.body,C.rawResponse);default:throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.body,rawResponse:C.rawResponse})}switch(C.error.reason){case"non-json":throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.rawBody,rawResponse:C.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/tokenize.");case"unknown":throw new E.CohereError({message:C.error.errorMessage,rawResponse:C.rawResponse})}})}detokenize(M,T){return p.HttpResponsePromise.fromPromise(this.__detokenize(M,T))}__detokenize(M,T){return l(this,void 0,void 0,function*(){var D,P,F,q,B,S,H,Y,W,$,k,Q;const re=(0,y.mergeHeaders)((D=this._options)===null||D===void 0?void 0:D.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(P=T?.clientName)!==null&&P!==void 0?P:(F=this._options)===null||F===void 0?void 0:F.clientName}),T?.headers),C=yield((q=this._options.fetcher)!==null&&q!==void 0?q:p.fetcher)({url:p.url.join((S=(B=yield p.Supplier.get(this._options.baseUrl))!==null&&B!==void 0?B:yield p.Supplier.get(this._options.environment))!==null&&S!==void 0?S:v.CohereEnvironment.Production,"v1/detokenize"),method:"POST",headers:re,contentType:"application/json",queryParameters:T?.queryParams,requestType:"json",body:j.DetokenizeRequest.jsonOrThrow(M,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:((W=(H=T?.timeoutInSeconds)!==null&&H!==void 0?H:(Y=this._options)===null||Y===void 0?void 0:Y.timeoutInSeconds)!==null&&W!==void 0?W:300)*1e3,maxRetries:($=T?.maxRetries)!==null&&$!==void 0?$:(k=this._options)===null||k===void 0?void 0:k.maxRetries,abortSignal:T?.abortSignal,fetchFn:(Q=this._options)===null||Q===void 0?void 0:Q.fetch,logging:this._options.logging});if(C.ok)return{data:j.DetokenizeResponse.parseOrThrow(C.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:C.rawResponse};if(C.error.reason==="status-code")switch(C.error.statusCode){case 400:throw new r.BadRequestError(C.error.body,C.rawResponse);case 401:throw new r.UnauthorizedError(C.error.body,C.rawResponse);case 403:throw new r.ForbiddenError(C.error.body,C.rawResponse);case 404:throw new r.NotFoundError(C.error.body,C.rawResponse);case 422:throw new r.UnprocessableEntityError(C.error.body,C.rawResponse);case 429:throw new r.TooManyRequestsError(C.error.body,C.rawResponse);case 498:throw new r.InvalidTokenError(C.error.body,C.rawResponse);case 499:throw new r.ClientClosedRequestError(C.error.body,C.rawResponse);case 500:throw new r.InternalServerError(C.error.body,C.rawResponse);case 501:throw new r.NotImplementedError(C.error.body,C.rawResponse);case 503:throw new r.ServiceUnavailableError(C.error.body,C.rawResponse);case 504:throw new r.GatewayTimeoutError(C.error.body,C.rawResponse);default:throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.body,rawResponse:C.rawResponse})}switch(C.error.reason){case"non-json":throw new E.CohereError({statusCode:C.error.statusCode,body:C.error.rawBody,rawResponse:C.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/detokenize.");case"unknown":throw new E.CohereError({message:C.error.errorMessage,rawResponse:C.rawResponse})}})}checkApiKey(M){return p.HttpResponsePromise.fromPromise(this.__checkApiKey(M))}__checkApiKey(M){return l(this,void 0,void 0,function*(){var T,D,P,F,q,B,S,H,Y,W,$,k;const Q=(0,y.mergeHeaders)((T=this._options)===null||T===void 0?void 0:T.headers,(0,y.mergeOnlyDefinedHeaders)({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(D=M?.clientName)!==null&&D!==void 0?D:(P=this._options)===null||P===void 0?void 0:P.clientName}),M?.headers),re=yield((F=this._options.fetcher)!==null&&F!==void 0?F:p.fetcher)({url:p.url.join((B=(q=yield p.Supplier.get(this._options.baseUrl))!==null&&q!==void 0?q:yield p.Supplier.get(this._options.environment))!==null&&B!==void 0?B:v.CohereEnvironment.Production,"v1/check-api-key"),method:"POST",headers:Q,queryParameters:M?.queryParams,timeoutMs:((Y=(S=M?.timeoutInSeconds)!==null&&S!==void 0?S:(H=this._options)===null||H===void 0?void 0:H.timeoutInSeconds)!==null&&Y!==void 0?Y:300)*1e3,maxRetries:(W=M?.maxRetries)!==null&&W!==void 0?W:($=this._options)===null||$===void 0?void 0:$.maxRetries,abortSignal:M?.abortSignal,fetchFn:(k=this._options)===null||k===void 0?void 0:k.fetch,logging:this._options.logging});if(re.ok)return{data:j.CheckApiKeyResponse.parseOrThrow(re.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:re.rawResponse};if(re.error.reason==="status-code")switch(re.error.statusCode){case 400:throw new r.BadRequestError(re.error.body,re.rawResponse);case 401:throw new r.UnauthorizedError(re.error.body,re.rawResponse);case 403:throw new r.ForbiddenError(re.error.body,re.rawResponse);case 404:throw new r.NotFoundError(re.error.body,re.rawResponse);case 422:throw new r.UnprocessableEntityError(re.error.body,re.rawResponse);case 429:throw new r.TooManyRequestsError(re.error.body,re.rawResponse);case 498:throw new r.InvalidTokenError(re.error.body,re.rawResponse);case 499:throw new r.ClientClosedRequestError(re.error.body,re.rawResponse);case 500:throw new r.InternalServerError(re.error.body,re.rawResponse);case 501:throw new r.NotImplementedError(re.error.body,re.rawResponse);case 503:throw new r.ServiceUnavailableError(re.error.body,re.rawResponse);case 504:throw new r.GatewayTimeoutError(re.error.body,re.rawResponse);default:throw new E.CohereError({statusCode:re.error.statusCode,body:re.error.body,rawResponse:re.rawResponse})}switch(re.error.reason){case"non-json":throw new E.CohereError({statusCode:re.error.statusCode,body:re.error.rawBody,rawResponse:re.rawResponse});case"timeout":throw new E.CohereTimeoutError("Timeout exceeded when calling POST /v1/check-api-key.");case"unknown":throw new E.CohereError({message:re.error.errorMessage,rawResponse:re.rawResponse})}})}_getAuthorizationHeader(){return l(this,void 0,void 0,function*(){var M;const T=(M=yield p.Supplier.get(this._options.token))!==null&&M!==void 0?M:process==null?void 0:e.CO_API_KEY;if(T!=null)return`Bearer ${T}`})}}return Ar.CohereClient=x,Ar}var jg={},wV;function yJ(){if(wV)return jg;wV=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.CohereClientV2=void 0;const e=_J(),n=wM();class o{constructor(l){this._options=l,this.client=new n.CohereClient(this._options),this.clientV2=new e.V2(this._options),this.chat=this.clientV2.chat.bind(this.clientV2),this.chatStream=this.clientV2.chatStream.bind(this.clientV2),this.embed=this.clientV2.embed.bind(this.clientV2),this.rerank=this.clientV2.rerank.bind(this.clientV2),this.generateStream=this.client.generateStream.bind(this.clientV2),this.generate=this.client.generate.bind(this.clientV2),this.classify=this.client.classify.bind(this.clientV2),this.summarize=this.client.summarize.bind(this.clientV2),this.tokenize=this.client.tokenize.bind(this.clientV2),this.detokenize=this.client.detokenize.bind(this.clientV2),this.checkApiKey=this.client.checkApiKey.bind(this.clientV2),this.embedJobs=this.client.embedJobs,this.datasets=this.client.datasets,this.connectors=this.client.connectors,this.models=this.client.models,this.finetuning=this.client.finetuning,this.batches=this.client.batches}}return jg.CohereClientV2=o,jg}var SV;function vJ(){if(SV)return Nf;SV=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.AwsClientV2=Nf.AwsClient=void 0;const e=wM(),n=yJ();let o=class extends e.CohereClient{constructor(t){t.token="n/a",super(t)}};Nf.AwsClient=o;class i extends n.CohereClientV2{constructor(t){t.token="n/a",super(t)}}return Nf.AwsClientV2=i,Nf}var OV;function gve(){if(OV)return nf;OV=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.BedrockClientV2=nf.BedrockClient=void 0;const e=gJ(),n=vJ();let o=class extends n.AwsClient{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,e.fetchOverride)("bedrock",t)}))}};nf.BedrockClient=o;class i extends n.AwsClientV2{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,e.fetchOverride)("bedrock",t)}))}}return nf.BedrockClientV2=i,nf}var xg={},EV;function _ve(){if(EV)return xg;EV=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.CustomClient=void 0;const e=wM();let n=class extends e.CohereClient{constructor(i={}){var l,t;try{const r=/\/v1\/?$/,a=(l=i.environment)===null||l===void 0?void 0:l.toString().replace(r,"");a!==((t=i.environment)===null||t===void 0?void 0:t.toString())&&(i.environment=a)}catch{}super(i),this._options=i}};return xg.CustomClient=n,xg}var Df={},RV;function yve(){if(RV)return Df;RV=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.SagemakerClientV2=Df.SagemakerClient=void 0;const e=vJ(),n=gJ();let o=class extends e.AwsClient{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,n.fetchOverride)("sagemaker",t)}))}};Df.SagemakerClient=o;class i extends e.AwsClientV2{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,n.fetchOverride)("sagemaker",t)}))}}return Df.SagemakerClientV2=i,Df}var jV;function vve(){return jV||(jV=1,(function(e){var n=Yu&&Yu.__createBinding||(Object.create?(function(f,g,b,_){_===void 0&&(_=b);var p=Object.getOwnPropertyDescriptor(g,b);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(f,_,p)}):(function(f,g,b,_){_===void 0&&(_=b),f[_]=g[b]})),o=Yu&&Yu.__setModuleDefault||(Object.create?(function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}):function(f,g){f.default=g}),i=Yu&&Yu.__importStar||(function(){var f=function(g){return f=Object.getOwnPropertyNames||function(b){var _=[];for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(_[_.length]=p);return _},f(g)};return function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var _=f(g),p=0;p<_.length;p++)_[p]!=="default"&&n(b,g,_[p]);return o(b,g),b}})();Object.defineProperty(e,"__esModule",{value:!0}),e.SagemakerClientV2=e.SagemakerClient=e.CohereTimeoutError=e.CohereError=e.CohereEnvironment=e.CohereClient=e.CohereClientV2=e.BedrockClientV2=e.BedrockClient=e.Cohere=void 0,e.Cohere=i(sc());var l=gve();Object.defineProperty(e,"BedrockClient",{enumerable:!0,get:function(){return l.BedrockClient}}),Object.defineProperty(e,"BedrockClientV2",{enumerable:!0,get:function(){return l.BedrockClientV2}});var t=yJ();Object.defineProperty(e,"CohereClientV2",{enumerable:!0,get:function(){return t.CohereClientV2}});var r=_ve();Object.defineProperty(e,"CohereClient",{enumerable:!0,get:function(){return r.CustomClient}});var a=fc();Object.defineProperty(e,"CohereEnvironment",{enumerable:!0,get:function(){return a.CohereEnvironment}});var s=Wt();Object.defineProperty(e,"CohereError",{enumerable:!0,get:function(){return s.CohereError}}),Object.defineProperty(e,"CohereTimeoutError",{enumerable:!0,get:function(){return s.CohereTimeoutError}});var u=yve();Object.defineProperty(e,"SagemakerClient",{enumerable:!0,get:function(){return u.SagemakerClient}}),Object.defineProperty(e,"SagemakerClientV2",{enumerable:!0,get:function(){return u.SagemakerClientV2}})})(Yu)),Yu}var bve=vve();function SM(e){if(e?.client)return e.client;const n=e?.apiKey??Ou("COHERE_API_KEY");if(!n)throw new Error("COHERE_API_KEY must be set");return new bve.CohereClient({token:n})}function xV(e){const n=[];let o=[];typeof e=="string"?o=[{output:e}]:e instanceof Map||typeof e=="object"&&e!==null&&!Array.isArray(e)?o=[e]:Array.isArray(e)||(o=[{output:e}]);for(let i of o)!(i instanceof Map)&&(typeof i!="object"||i===null)&&(i={output:i}),n.push(i);return n}function Hv(e,n){const o=t=>{switch(t){case"system":return"SYSTEM";case"human":return"USER";case"ai":return"CHATBOT";case"tool":return"TOOL";default:throw new Error(`Unknown message type: '${t}'. Accepted types: 'human', 'ai', 'system', 'tool'`)}},i=t=>{if(typeof t=="string")return t;throw new Error(`ChatCohere does not support non text message content. Received: ${JSON.stringify(t,null,2)}`)},l=t=>Yc(t)&&t.tool_calls?t.tool_calls.map(r=>({name:r.name,parameters:r.args})):[];if(e._getType().toLowerCase()==="ai")return{role:o(e._getType()),message:i(e.content),toolCalls:l(e)};if(e._getType().toLowerCase()==="tool")return{role:o(e._getType()),message:i(e.content),toolResults:n};if(e._getType().toLowerCase()==="human"||e._getType().toLowerCase()==="system")return{role:o(e._getType()),message:i(e.content)};throw new Error("Got unknown message type. Supported types are AIMessage, ToolMessage, HumanMessage, and SystemMessage")}function wve(e){return"name"in e&&"description"in e&&"parameterDefinitions"in e}function CV(e){return e._getType()==="tool"}function TV(e){const n="properties"in e?e.properties:{};let o="required"in e?e.required:[];const i={};return Object.keys(n).forEach(l=>{i[l]=n[l],o===void 0&&(o=[]),i[l].required=o.includes(l)}),i}function Sve(e){if(e){if(e.every(wve))return e;if(e.every(XH))return e.map(n=>({name:n.function.name,description:n.function.description??"",parameterDefinitions:TV(n.function.parameters)}));if(e.every(UT))return e.map(n=>{const o=Xc(n.schema)?tc(n.schema):n.schema;return{name:n.name,description:n.description??"",parameterDefinitions:TV(o)}});throw new Error("Can not pass in a mix of tool schema types to ChatCohere.")}else return}var Ove=class extends kb{static lc_name(){return"ChatCohere"}lc_serializable=!0;client;model="command-r-plus";temperature=.3;streaming=!1;streamUsage=!0;constructor(e){super(e??{}),this.client=SM(e),this.model=e?.model??this.model,this.temperature=e?.temperature??this.temperature,this.streaming=e?.streaming??this.streaming,this.streamUsage=e?.streamUsage??this.streamUsage}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"cohere",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.temperature??void 0,ls_max_tokens:typeof n.maxTokens=="number"?n.maxTokens:void 0,ls_stop:Array.isArray(n.stopSequences)?n.stopSequences:void 0}}_llmType(){return"cohere"}invocationParams(e){if(e.tool_choice)throw new Error("'tool_choice' call option is not supported by ChatCohere.");const n={model:this.model,preamble:e.preamble,conversationId:e.conversationId,promptTruncation:e.promptTruncation,connectors:e.connectors,searchQueriesOnly:e.searchQueriesOnly,documents:e.documents,temperature:e.temperature??this.temperature,forceSingleStep:e.forceSingleStep,tools:e.tools};return Object.fromEntries(Object.entries(n).filter(([,o])=>o!==void 0))}bindTools(e,n){return this.withConfig({tools:Sve(e),...n})}_getChatRequest(e,n){const o=this.invocationParams(n),i=this._messagesToCohereToolResultsCurrChatTurn(e),l=[];let t="",r=[];if(o.forceSingleStep){t="";for(let s=0;s<e.length-1;s+=1){const u=e[s];if(!(Yc(u)&&u.tool_calls))if(u._getType().toLowerCase()==="tool"){if(r=r.concat(this._messageToCohereToolResults(e,s)),s===e.length-1||e[s+1]._getType().toLowerCase()!=="tool"){const f=Hv(u,r);l.push(f),r=[]}}else l.push(Hv(u,[]))}for(let s=e.length-1;s>=0;s-=1){const u=e[s];if(u._getType().toLowerCase()==="human"&&u.content){t=u.content.toString();break}}}else{for(let s=0;s<e.length-1;s+=1){const u=e[s];if(u._getType().toLowerCase()==="tool"){if(r=r.concat(this._messageToCohereToolResults(e,s)),s===e.length-1||e[s+1]._getType().toLowerCase()!=="tool"){const f=Hv(u,r);l.push(f),r=[]}}else l.push(Hv(u,[]))}t=i.length>0?"":e[e.length-1].content.toString()}return{message:t,chatHistory:l,toolResults:i.length>0?i:void 0,...o}}_getCurrChatTurnMessages(e){const n=[];for(let o=e.length-1;o>=0;o-=1){const i=e[o];if(n.push(i),i._getType().toLowerCase()==="human")break}return n.reverse()}_messagesToCohereToolResultsCurrChatTurn(e){const n=[],o=this._getCurrChatTurnMessages(e);for(const i of o)if(CV(i)){const l=i,t=o.filter(r=>Yc(r)&&r.tool_calls!==void 0);if(t.length>0){const r=t[t.length-1];r.tool_calls&&n.push(...r.tool_calls.filter(a=>a.id===l.tool_call_id).map(a=>({call:{name:a.name,parameters:a.args},outputs:xV(l.content)})))}}return n}_messageToCohereToolResults(e,n){const o=[],i=e[n];if(!CV(i))throw new Error("The message index does not correspond to an instance of ToolMessage");const t=e.slice(0,n).filter(r=>Yc(r)&&r.tool_calls).slice(-1)[0];return t.tool_calls&&o.push(...t.tool_calls.filter(r=>r.id===i.tool_call_id).map(r=>({call:{name:r.name,parameters:r.args},outputs:xV(i.content)}))),o}_formatCohereToolCalls(e=null){if(!e)return[];const n=[];for(const o of e)n.push({id:Gc().substring(0,32),function:{name:o.name,arguments:o.parameters},type:"function"});return n}_convertCohereToolCallToLangchain(e){return e.map(n=>({name:n.function.name,args:n.function.arguments,id:n.id,type:"tool_call"}))}async _generate(e,n,o){const i={},l=this._getChatRequest(e,n);if(this.streaming){const u=this._streamResponseChunks(e,n,o),f={};for await(const b of u){const _=b.generationInfo?.completion??0;f[_]===void 0?f[_]=b:f[_]=f[_].concat(b)}return{generations:Object.entries(f).sort(([b],[_])=>parseInt(b,10)-parseInt(_,10)).map(([b,_])=>_),llmOutput:{estimatedTokenUsage:i}}}const t=await this.caller.callWithOptions({signal:n.signal},async()=>{let u;try{u=await this.client.chat(l)}catch(f){throw f.status=f.status??f.statusCode,f}return u});if(t.meta?.tokens){const{inputTokens:u,outputTokens:f}=t.meta.tokens;f&&(i.completionTokens=(i.completionTokens??0)+f),u&&(i.promptTokens=(i.promptTokens??0)+u),i.totalTokens=(i.totalTokens??0)+(i.promptTokens??0)+(i.completionTokens??0)}const r={...t};delete r.text,t.toolCalls&&t.toolCalls.length>0&&(r.toolCalls=this._formatCohereToolCalls(t.toolCalls));let a=[];return"toolCalls"in r&&(a=this._convertCohereToolCallToLangchain(r.toolCalls)),{generations:[{text:t.text,message:new Or({content:t.text,additional_kwargs:r,tool_calls:a,usage_metadata:{input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens??0}}),generationInfo:r}],llmOutput:{estimatedTokenUsage:i}}}async*_streamResponseChunks(e,n,o){const i=this._getChatRequest(e,n),l=await this.caller.call(async()=>{let t;try{t=await this.client.chatStream(i)}catch(r){throw r.status=r.status??r.statusCode,r}return t});for await(const t of l)if(t.eventType==="text-generation")yield new Zc({text:t.text,message:new qn({content:t.text})}),await o?.handleLLMNewToken(t.text);else if(t.eventType!=="stream-end")yield new Zc({text:"",message:new qn({content:"",additional_kwargs:{...t}}),generationInfo:{...t}});else if(t.eventType==="stream-end"&&(this.streamUsage||n.streamUsage)){const r=t.response.meta?.tokens?.inputTokens??0,a=t.response.meta?.tokens?.outputTokens??0,s={...t.response};t.response.toolCalls&&t.response.toolCalls.length>0&&(s.toolCalls=this._formatCohereToolCalls(t.response.toolCalls));let u=[];const f=s.toolCalls??[];f.length>0&&(u=f.map(g=>({name:g.function.name,args:g.function.arguments,id:g.id,index:g.index,type:"tool_call_chunk"}))),yield new Zc({text:"",message:new qn({content:"",additional_kwargs:{eventType:"stream-end"},tool_call_chunks:u,usage_metadata:{input_tokens:r,output_tokens:a,total_tokens:r+a}}),generationInfo:{eventType:"stream-end",...s}})}}_combineLLMOutput(...e){return e.reduce((n,o)=>{if(o&&o.estimatedTokenUsage){let i=n.estimatedTokenUsage?.completionTokens??0,l=n.estimatedTokenUsage?.promptTokens??0,t=n.estimatedTokenUsage?.totalTokens??0;i+=o.estimatedTokenUsage.completionTokens??0,l+=o.estimatedTokenUsage.promptTokens??0,t+=o.estimatedTokenUsage.totalTokens??0,n.estimatedTokenUsage={completionTokens:i,promptTokens:l,totalTokens:t}}return n},{estimatedTokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}},Eve={};dt(Eve,{BaseLLM:()=>bJ,LLM:()=>Rve});var bJ=class Ig extends IT{lc_namespace=["langchain","llms",this._llmType()];async invoke(n,o){const i=Ig._convertInputToPromptValue(n);return(await this.generatePrompt([i],o,o?.callbacks)).generations[0][0].text}async*_streamResponseChunks(n,o,i){throw new Error("Not implemented.")}_separateRunnableConfigFromCallOptionsCompat(n){const[o,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=o.signal,[o,i]}async*_streamIterator(n,o){if(this._streamResponseChunks===Ig.prototype._streamResponseChunks)yield this.invoke(n,o);else{const i=Ig._convertInputToPromptValue(n),[l,t]=this._separateRunnableConfigFromCallOptionsCompat(o),r=await Yr.configure(l.callbacks,this.callbacks,l.tags,this.tags,l.metadata,this.metadata,{verbose:this.verbose}),a={options:t,invocation_params:this?.invocationParams(t),batch_size:1},s=await r?.handleLLMStart(this.toJSON(),[i.toString()],l.runId,void 0,a,void 0,void 0,l.runName);let u=new ip({text:""});try{for await(const f of this._streamResponseChunks(i.toString(),t,s?.[0]))u?u=u.concat(f):u=f,typeof f.text=="string"&&(yield f.text)}catch(f){throw await Promise.all((s??[]).map(g=>g?.handleLLMError(f))),f}await Promise.all((s??[]).map(f=>f?.handleLLMEnd({generations:[[u]]})))}}async generatePrompt(n,o,i){const l=n.map(t=>t.toString());return this.generate(l,o,i)}invocationParams(n){return{}}_flattenLLMResult(n){const o=[];for(let i=0;i<n.generations.length;i+=1){const l=n.generations[i];if(i===0)o.push({generations:[l],llmOutput:n.llmOutput});else{const t=n.llmOutput?{...n.llmOutput,tokenUsage:{}}:void 0;o.push({generations:[l],llmOutput:t})}}return o}async _generateUncached(n,o,i,l){let t;if(l!==void 0&&l.length===n.length)t=l;else{const u=await Yr.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),f={options:o,invocation_params:this?.invocationParams(o),batch_size:n.length};t=await u?.handleLLMStart(this.toJSON(),n,i.runId,void 0,f,void 0,void 0,i?.runName)}const r=!!t?.[0].handlers.find(mT);let a;if(r&&n.length===1&&this._streamResponseChunks!==Ig.prototype._streamResponseChunks)try{const u=await this._streamResponseChunks(n[0],o,t?.[0]);let f;for await(const g of u)f===void 0?f=g:f=ad(f,g);if(f===void 0)throw new Error("Received empty response from chat model call.");a={generations:[[f]],llmOutput:{}},await t?.[0].handleLLMEnd(a)}catch(u){throw await t?.[0].handleLLMError(u),u}else{try{a=await this._generate(n,o,t?.[0])}catch(f){throw await Promise.all((t??[]).map(g=>g?.handleLLMError(f))),f}const u=this._flattenLLMResult(a);await Promise.all((t??[]).map((f,g)=>f?.handleLLMEnd(u[g])))}const s=t?.map(u=>u.runId)||void 0;return Object.defineProperty(a,Qg,{value:s?{runIds:s}:void 0,configurable:!0}),a}async _generateCached({prompts:n,cache:o,llmStringKey:i,parsedOptions:l,handledOptions:t,runId:r}){const a=await Yr.configure(t.callbacks,this.callbacks,t.tags,this.tags,t.metadata,this.metadata,{verbose:this.verbose}),s={options:l,invocation_params:this?.invocationParams(l),batch_size:n.length},u=await a?.handleLLMStart(this.toJSON(),n,r,void 0,s,void 0,void 0,t?.runName),f=[],b=(await Promise.allSettled(n.map(async(y,v)=>{const E=await o.lookup(y,i);return E==null&&f.push(v),E}))).map((y,v)=>({result:y,runManager:u?.[v]})).filter(({result:y})=>y.status==="fulfilled"&&y.value!=null||y.status==="rejected"),_=[];await Promise.all(b.map(async({result:y,runManager:v},E)=>{if(y.status==="fulfilled"){const j=y.value;return _[E]=j.map(x=>(x.generationInfo={...x.generationInfo,tokenUsage:{}},x)),j.length&&await v?.handleLLMNewToken(j[0].text),v?.handleLLMEnd({generations:[j]},void 0,void 0,void 0,{cached:!0})}else return await v?.handleLLMError(y.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(y.reason)}));const p={generations:_,missingPromptIndices:f,startedRunManagers:u};return Object.defineProperty(p,Qg,{value:u?{runIds:u?.map(y=>y.runId)}:void 0,configurable:!0}),p}async generate(n,o,i){if(!Array.isArray(n))throw new Error("Argument 'prompts' is expected to be a string[]");let l;Array.isArray(o)?l={stop:o}:l=o;const[t,r]=this._separateRunnableConfigFromCallOptionsCompat(l);if(t.callbacks=t.callbacks??i,!this.cache)return this._generateUncached(n,r,t);const{cache:a}=this,s=this._getSerializedCacheKeyParametersForCall(r),{generations:u,missingPromptIndices:f,startedRunManagers:g}=await this._generateCached({prompts:n,cache:a,llmStringKey:s,parsedOptions:r,handledOptions:t,runId:t.runId});let b={};if(f.length>0){const _=await this._generateUncached(f.map(p=>n[p]),r,t,g!==void 0?f.map(p=>g?.[p]):void 0);await Promise.all(_.generations.map(async(p,y)=>{const v=f[y];return u[v]=p,a.update(n[v],s,p)})),b=_.llmOutput??{}}return{generations:u,llmOutput:b}}_identifyingParams(){return{}}_modelType(){return"base_llm"}},Rve=class extends bJ{async _generate(e,n,o){return{generations:await Promise.all(e.map((l,t)=>this._call(l,{...n,promptIndex:t},o).then(r=>[{text:r}])))}}},jve={};dt(jve,{Embeddings:()=>wJ});var wJ=class{caller;constructor(e){this.caller=new __(e??{})}},xve={};dt(xve,{chunkArray:()=>SJ});const SJ=(e,n)=>e.reduce((o,i,l)=>{const t=Math.floor(l/n),r=o[t]||[];return o[t]=r.concat([i]),o},[]);var Cg=class extends wJ{model;batchSize=48;embeddingTypes=["float"];client;constructor(e){const n={maxConcurrency:2,...e};if(super(n),this.client=SM(n),this.model=n?.model??this.model,!this.model)throw new Error("Model not specified for CohereEmbeddings instance. Please provide a model name from the options here: https://docs.cohere.com/reference/embed");this.batchSize=n?.batchSize??this.batchSize,this.embeddingTypes=n?.embeddingTypes??this.embeddingTypes}async embedDocuments(e){const n=SJ(e,this.batchSize),o=n.map(t=>this.embeddingWithRetry({model:this.model,texts:t,inputType:"search_document",embeddingTypes:this.embeddingTypes})),i=await Promise.all(o),l=[];for(let t=0;t<i.length;t+=1){const r=n[t],{embeddings:a}=i[t];for(let s=0;s<r.length;s+=1)"float"in a&&a.float?l.push(a.float[s]):Array.isArray(a)&&l.push(a[s])}return l}async embedQuery(e){const{embeddings:n}=await this.embeddingWithRetry({model:this.model,texts:[e],inputType:"search_query",embeddingTypes:this.embeddingTypes});if("float"in n&&n.float)return n.float[0];if(Array.isArray(n))return n[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(n,null,2)}`)}async embed(e){const{embeddings:n}=await this.embeddingWithRetry(e);if("float"in n&&n.float)return n.float[0];if(Array.isArray(n))return n[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(n,null,2)}`)}async embeddingWithRetry(e){return this.caller.call(async()=>{let n;try{n=await this.client.embed(e)}catch(o){throw o.status=o.status??o.statusCode,o}return n})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}},Cve={};dt(Cve,{BaseDocumentCompressor:()=>OJ});var OJ=class{static isBaseDocumentCompressor(e){return e?.compressDocuments!==void 0}},MV=class extends OJ{model;topN=3;client;maxChunksPerDoc;constructor(e){if(super(),this.client=SM(e),this.model=e?.model??this.model,!this.model)throw new Error("Model not specified for CohereRerank instance. Please provide a model name from the options here: https://docs.cohere.com/reference/rerank");this.topN=e?.topN??this.topN,this.maxChunksPerDoc=e?.maxChunksPerDoc}async compressDocuments(e,n){if(e==null||e.length===0)return[];const o=e.map(t=>t.pageContent),{results:i}=await this.client.rerank({model:this.model,query:n,documents:o,topN:this.topN,maxChunksPerDoc:this.maxChunksPerDoc}),l=[];for(let t=0;t<i.length;t+=1){const r=i[t],a=e[r.index];a.metadata.relevanceScore=r.relevanceScore,l.push(a)}return l}async rerank(e,n,o){const i=e.map(u=>typeof u=="string"?u:u.pageContent),l=o?.model??this.model,t=o?.topN??this.topN,r=o?.maxChunksPerDoc??this.maxChunksPerDoc,{results:a}=await this.client.rerank({model:l,query:n,documents:i,topN:t,maxChunksPerDoc:r});return a.map(u=>({index:u.index,relevanceScore:u.relevanceScore}))}};function Nr(e,n,o){return n==="groq"?new bue({apiKey:e,model:o}):new Ove({apiKey:e,model:o})}function PV({isOpen:e,onClose:n}){const{apiKey:o,provider:i,setApiKey:l,setAvailableModels:t}=Er(),[r,a]=Je.useState(i),[s,u]=Je.useState(o||""),[f,g]=Je.useState(!1),[b,_]=Je.useState(o?"success":"idle"),[p,y]=Je.useState(o?" API key loaded from storage":"");if(!e)return null;const v=async()=>{if(s.trim()){g(!0),_("idle"),y("");try{const x=r==="groq"?"llama-3.1-8b-instant":"command-a-03-2025";await Nr(s.trim(),r,x).invoke("Hi");let M=[];r==="groq"?M=["llama-3.1-8b-instant","llama-3.1-70b-versatile","llama-3.2-1b-preview","llama-3.2-3b-preview","mixtral-8x7b-32768","gemma2-9b-it"]:r==="cohere"&&(M=["command-a-03-2025","command-r-plus-08-2024","command-r-08-2024","command-r7b-12-2024"]),t(M),_("success"),y(` API key validated! Found ${M.length} available models`)}catch(x){_("error"),y(x instanceof Error?` Validation failed: ${x.message}`:" Invalid API key or network error")}finally{g(!1)}}},E=()=>{s.trim()&&b==="success"&&((s.trim()!==o||r!==i)&&l(s.trim(),r),n())},j={groq:{name:"Groq",url:"https://console.groq.com/keys",description:"Fastest inference, great for real-time demos"},cohere:{name:"Cohere",url:"https://dashboard.cohere.com/api-keys",description:"Excellent for RAG and embeddings"}};return w.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4 pointer-events-auto",children:w.jsxs("div",{className:"relative max-w-2xl w-full max-h-[90vh] overflow-y-auto pointer-events-auto",children:[w.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl pointer-events-none -z-10",children:[...Array(10)].map((x,A)=>w.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${8+Math.random()*4}s`}},A))}),w.jsxs("div",{className:"relative holo-border rounded-2xl bg-gradient-to-br from-slate-900/95 via-blue-900/40 to-purple-900/40 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/30 pointer-events-auto",children:[w.jsxs("div",{className:"sticky top-0 backdrop-blur-md bg-gradient-to-r from-cyan-500/10 to-purple-500/10 border-b border-cyan-500/30 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg shadow-lg",style:{boxShadow:"0 0 20px rgba(0, 212, 255, 0.5)"},children:w.jsx(VX,{className:"w-6 h-6 text-white"})}),w.jsx("h2",{className:"text-2xl font-bold heading-font neon-cyan tracking-wider",children:"API CONFIGURATION"})]}),w.jsx("button",{onClick:n,className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10",children:w.jsx(WV,{className:"w-5 h-5 text-white"})})]}),w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsx("div",{className:"border border-cyan-500/30 rounded-xl p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 backdrop-blur-sm",children:w.jsx("p",{className:"text-sm text-cyan-100",children:o?' Your API key is securely stored in your browser. You can update it below or click "Save & Continue" to keep using the current key.':"Your API key is stored locally in your browser and never sent to any server except the LLM provider you choose."})}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-bold text-cyan-400 mb-3 uppercase tracking-wide",children:"Select Provider"}),w.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.keys(j).map(x=>w.jsx("button",{onClick:()=>{a(x),(x!==i||!o)&&(_("idle"),y(""))},className:`text-left p-4 rounded-xl border-2 transition-all hover-lift ${r===x?"border-cyan-400 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 shadow-neural":"border-white/20 glass hover:glass-strong hover:border-cyan-500/50"}`,children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-bold text-white text-lg",children:j[x].name}),w.jsx("div",{className:"text-sm text-white/70 mt-1",children:j[x].description})]}),w.jsx("a",{href:j[x].url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",onClick:A=>A.stopPropagation(),children:w.jsx(zX,{className:"w-5 h-5"})})]})},x))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-bold text-cyan-400 mb-2 uppercase tracking-wide",children:"API Key"}),w.jsx("input",{type:"password",value:s,onChange:x=>{u(x.target.value),_("idle"),y("")},placeholder:"Enter your API key",className:"w-full px-4 py-3 glass border border-cyan-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white placeholder-white/40 transition-all"}),w.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Get your API key from"," ",w.jsx("a",{href:j[r].url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 hover:underline",children:j[r].name})]})]}),p&&w.jsx("div",{className:`p-4 rounded-xl border-2 ${b==="success"?"bg-gradient-to-r from-green-500/20 to-cyan-500/20 border-green-400/50 text-green-100":"bg-gradient-to-r from-red-500/20 to-orange-500/20 border-red-400/50 text-red-100"}`,children:w.jsxs("div",{className:"flex items-center gap-2",children:[b==="success"?w.jsx(_u,{className:"w-5 h-5"}):w.jsx(HV,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium",children:p})]})}),w.jsxs("div",{className:"flex gap-3 pt-4",children:[w.jsx("button",{onClick:v,disabled:!s.trim()||f,className:"relative z-10 flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 disabled:from-slate-600 disabled:to-slate-700 text-white rounded-xl font-bold transition-all hover-lift disabled:cursor-not-allowed inline-flex items-center justify-center gap-2 shadow-lg pointer-events-auto",children:f?w.jsxs(w.Fragment,{children:[w.jsx(KV,{className:"w-4 h-4 animate-spin"}),"VALIDATING..."]}):"VALIDATE API KEY"}),w.jsx("button",{onClick:E,disabled:!s.trim()||b!=="success",className:"relative z-10 flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-slate-600 disabled:to-slate-700 text-white rounded-xl font-bold transition-all hover-lift disabled:cursor-not-allowed shadow-lg pointer-events-auto",children:"SAVE & CONTINUE"})]}),w.jsx("button",{onClick:n,className:"w-full px-6 py-3 glass hover:glass-strong border border-white/20 hover:border-white/40 text-white rounded-xl font-semibold transition-all hover-lift",children:"Cancel"})]})]})]})})}function AV(){const{selectedModel:e,availableModels:n,setSelectedModel:o,provider:i}=Er();if(n.length===0)return null;const t={groq:"from-orange-500 to-red-600",cohere:"from-blue-500 to-cyan-600"}[i]||"from-purple-500 to-blue-600";return w.jsxs("div",{className:"flex items-center gap-2 glass rounded-lg px-3 py-2 border border-white/10 hover:border-white/20 transition-all dark:border-white/10 light:border-black/15",children:[w.jsx("div",{className:`p-1.5 bg-gradient-to-br ${t} rounded-lg`,children:w.jsx(vu,{className:"w-3 h-3 text-white"})}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-xs text-white/50 uppercase tracking-wide dark:text-white/50 light:text-black/60",children:i||"Model"}),w.jsx("select",{value:e,onChange:r=>o(r.target.value),className:"text-sm bg-transparent text-white font-medium focus:outline-none cursor-pointer hover:text-gradient-neural transition-colors dark:text-white light:text-black",children:n.map(r=>w.jsx("option",{value:r,className:"bg-slate-900 text-white dark:bg-slate-900 dark:text-white light:bg-white light:text-black",children:r},r))})]})]})}function L1(){const{language:e,setLanguage:n}=Er(),o=i=>{n(i),document.documentElement.dir=i==="he"?"rtl":"ltr",document.documentElement.lang=i};return w.jsxs("div",{className:"flex items-center gap-1 glass rounded-lg p-1 border border-white/10 min-w-[140px] dark:border-white/10 light:border-black/15",children:[w.jsxs("button",{onClick:()=>o("en"),className:`flex items-center justify-center gap-1.5 px-2.5 py-1.5 rounded-md transition-all flex-1 min-w-[64px] ${e==="en"?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg font-semibold":"text-white/60 hover:text-white hover:bg-white/10 dark:text-white/60 dark:hover:text-white light:text-black/70 light:hover:text-black light:hover:bg-black/10"}`,title:"English",children:[w.jsx("span",{className:"text-base leading-none",children:""}),w.jsx("span",{className:"text-sm font-medium",children:"EN"})]}),w.jsxs("button",{onClick:()=>o("he"),className:`flex items-center justify-center gap-1.5 px-2.5 py-1.5 rounded-md transition-all flex-1 min-w-[64px] ${e==="he"?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg font-semibold":"text-white/60 hover:text-white hover:bg-white/10 dark:text-white/60 dark:hover:text-white light:text-black/70 light:hover:text-black light:hover:bg-black/10"}`,title:"",children:[w.jsx("span",{className:"text-base leading-none",children:""}),w.jsx("span",{className:"text-sm font-medium",children:"HE"})]})]})}function U1(){const{theme:e,setTheme:n}=Er();return Je.useEffect(()=>{document.documentElement.classList.toggle("light",e==="light"),document.documentElement.classList.toggle("dark",e==="dark")},[e]),w.jsx("button",{onClick:()=>n(e==="dark"?"light":"dark"),className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10 dark:border-white/10 light:border-black/15",title:e==="dark"?"Switch to Light Mode":"Switch to Dark Mode",children:e==="dark"?w.jsx(cee,{className:"w-5 h-5 text-yellow-400 drop-shadow-[0_0_8px_rgba(251,191,36,0.6)]"}):w.jsx(ree,{className:"w-5 h-5 text-blue-600 drop-shadow-[0_0_8px_rgba(37,99,235,0.6)]"})})}function Tve({onGetStarted:e,onSkip:n,onLabSelect:o}){const{language:i}=Er(),l=[{id:1,title:be(i,"labs.agentComponents"),description:be(i,"labs.agentComponentsDesc"),icon:HC,color:"cyan",bgClass:"bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 border-cyan-400/40"},{id:2,title:be(i,"labs.simplePrompt"),description:be(i,"labs.simplePromptDesc"),icon:AD,color:"purple",bgClass:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 border-purple-400/40"},{id:3,title:be(i,"labs.conversationMemory"),description:be(i,"labs.conversationMemoryDesc"),icon:Y1,color:"orange",bgClass:"bg-gradient-to-br from-orange-500/20 to-orange-600/20 border-orange-400/40"},{id:4,title:be(i,"labs.customPrompts"),description:be(i,"labs.customPromptsDesc"),icon:AD,color:"pink",bgClass:"bg-gradient-to-br from-pink-500/20 to-pink-600/20 border-pink-400/40"},{id:5,title:be(i,"labs.knowledgeBase"),description:be(i,"labs.knowledgeBaseDesc"),icon:Hg,color:"blue",bgClass:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 border-blue-400/40"},{id:6,title:be(i,"labs.ragWikipedia"),description:be(i,"labs.ragWikipediaDesc"),icon:LX,color:"green",bgClass:"bg-gradient-to-br from-green-500/20 to-green-600/20 border-green-400/40"},{id:7,title:be(i,"labs.multiAgentCollab"),description:be(i,"labs.multiAgentCollabDesc"),icon:YV,color:"red",bgClass:"bg-gradient-to-br from-red-500/20 to-red-600/20 border-red-400/40"},{id:8,title:be(i,"labs.orchestrator"),description:be(i,"labs.orchestratorDesc"),icon:kV,color:"yellow",bgClass:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 border-yellow-400/40"}],t={id:9,title:be(i,"bonus.navTitle"),description:be(i,"bonus.navDesc"),bgClass:"bg-gradient-to-br from-purple-500/30 to-cyan-500/20 border-purple-400/50"};return w.jsxs("div",{className:"min-h-screen relative tech-grid overflow-x-hidden",children:[[...Array(20)].map((r,a)=>w.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},a)),w.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 glass-navbar border-b border-cyan-500/20",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4 flex items-center justify-between",children:[w.jsx("div",{className:"flex items-center gap-2 sm:gap-3",children:w.jsx("img",{src:"logo.png",alt:"YUV.AI Logo",className:"h-7 sm:h-8 md:h-10 lg:h-12 w-auto"})}),w.jsxs("nav",{className:"hidden md:flex items-center gap-4 lg:gap-8 text-sm lg:text-base font-medium",children:[w.jsx("button",{className:"text-white hover:text-cyan-400 transition-colors",children:be(i,"home")}),w.jsxs("div",{className:"relative group",children:[w.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:[be(i,"agents")," ",w.jsx(ub,{className:"w-4 h-4"})]}),w.jsxs("div",{className:"absolute left-0 mt-2 w-64 py-2 bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"agentsDropdown.progressiveLabs")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"agentsDropdown.progressiveLabsDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"agentsDropdown.interactiveLearning")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"agentsDropdown.interactiveLearningDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"agentsDropdown.multiAgent")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"agentsDropdown.multiAgentDesc")})]})]})]}),w.jsxs("div",{className:"relative group",children:[w.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:[be(i,"features")," ",w.jsx(ub,{className:"w-4 h-4"})]}),w.jsxs("div",{className:"absolute left-0 mt-2 w-64 py-2 bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"featuresDropdown.browserBased")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"featuresDropdown.browserBasedDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"featuresDropdown.monacoEditor")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"featuresDropdown.monacoEditorDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"featuresDropdown.progressTracking")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"featuresDropdown.progressTrackingDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"featuresDropdown.langchain")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"featuresDropdown.langchainDesc")})]})]})]}),w.jsx("a",{href:"https://blog.yuv.ai",target:"_blank",rel:"noopener noreferrer",className:"text-white/70 hover:text-white transition-colors",children:be(i,"blog")}),w.jsx("a",{href:"https://linktr.ee/yuvai",target:"_blank",rel:"noopener noreferrer",className:"text-white/70 hover:text-white transition-colors",children:be(i,"contact")})]}),w.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[w.jsx(L1,{}),w.jsx(U1,{}),w.jsxs("a",{href:"https://github.com/hoodini/agents-training",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10 text-sm text-white/80 hover:text-white",title:"View Repository",children:[w.jsx(cb,{className:"w-4 h-4"}),w.jsx("span",{children:"Repo"})]})]})]})}),w.jsx("section",{className:"relative z-10 max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-6 sm:py-8 md:py-12 pt-20 sm:pt-24 md:pt-28",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"relative w-full",children:w.jsx("img",{src:"hero.jpg",alt:"AI Agents 101",className:"w-full max-w-5xl h-auto object-contain mx-auto hero-glow rounded-xl sm:rounded-2xl md:rounded-3xl"})}),w.jsx("h2",{className:"text-center text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-semibold text-white/90 mt-4 sm:mt-6 md:mt-8 px-2 sm:px-4",children:be(i,"homepage.subtitle")})]})}),w.jsx("section",{className:"relative z-10 max-w-4xl mx-auto px-3 sm:px-4 md:px-6 mb-6 sm:mb-8 md:mb-12",children:w.jsx("div",{className:"holo-border rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 bg-gradient-to-br from-purple-900/40 to-blue-900/40 backdrop-blur-xl",children:w.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 md:gap-8",children:[w.jsxs("div",{className:"relative flex-shrink-0 w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 lg:w-56 lg:h-56 xl:w-64 xl:h-64",children:[w.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-cyan-500 via-purple-500 to-pink-500 p-2 animate-rgb-rotate",style:{boxShadow:"0 0 50px rgba(0, 212, 255, 0.9), 0 0 80px rgba(168, 85, 247, 0.7), 0 0 120px rgba(236, 72, 153, 0.5), inset 0 0 30px rgba(255, 255, 255, 0.1)"},children:w.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-slate-900/30 backdrop-blur-sm"})}),w.jsx("div",{className:"absolute inset-[-15%] flex items-center justify-center",children:w.jsx("img",{src:"round-avatar.png",alt:"Yuval Avidani",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 8px 40px rgba(0, 212, 255, 0.6)) drop-shadow(0 0 25px rgba(168, 85, 247, 0.5))"}})})]}),w.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[w.jsx("h3",{className:"text-base sm:text-lg md:text-xl lg:text-2xl heading-font neon-cyan mb-2 sm:mb-3 tracking-wider",children:be(i,"homepage.welcomeTitle")}),w.jsx("p",{className:"text-xl sm:text-2xl md:text-2xl lg:text-3xl font-bold text-white mb-2 sm:mb-3",children:"Yuval Avidani"}),w.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4 mb-2 sm:mb-3 flex-wrap",children:[w.jsx("a",{href:"https://yuv.ai",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:w.jsx(kX,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6"})}),w.jsx("a",{href:"https://github.com/hoodini",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:w.jsx(cb,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6"})}),w.jsx("a",{href:"https://linkedin.com/in/yuval-avidani-87081474",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:w.jsx(WX,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6"})}),w.jsx("a",{href:"https://x.com/yuvalav",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:w.jsx(mee,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6"})}),w.jsx("a",{href:"https://instagram.com/yuval_770",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:w.jsx($X,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6"})}),w.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-all hover:scale-110",children:w.jsx(vee,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6"})})]}),w.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/90 font-medium",children:be(i,"homepage.aiBuilder")})]})]})})}),w.jsxs("section",{className:"relative z-10 max-w-6xl mx-auto px-3 sm:px-4 md:px-6 mb-6 sm:mb-8 md:mb-12",children:[w.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold heading-font text-white text-center mb-6 sm:mb-8 md:mb-12",children:be(i,"homepage.whatYouLearn")}),w.jsxs("div",{className:"hidden md:flex flex-col items-center gap-2",children:[w.jsx("div",{className:"flex justify-center gap-4",children:l.slice(0,3).map((r,a)=>{const s=r.icon,u={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return w.jsx("div",{className:"hexagon relative group cursor-pointer",style:{animationDelay:`${a*.1}s`,color:u[r.color]},onClick:()=>o&&o(r.id),children:w.jsxs("div",{className:`hexagon-content ${r.bgClass} relative overflow-visible transition-all duration-300 group-hover:scale-105`,children:[w.jsx("div",{className:"absolute top-8 left-8 w-14 h-14 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-2xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${u[r.color]}60`},children:r.id}),w.jsx(s,{className:`w-24 h-24 mb-3 neon-${r.color}`,style:{filter:`drop-shadow(0 0 12px ${u[r.color]})`}}),w.jsx("h3",{className:"text-lg font-bold text-white mb-2 text-center px-4 leading-tight",children:r.title}),w.jsx("p",{className:"text-xs text-white/70 text-center px-4 leading-snug",children:r.description})]})},r.id)})}),w.jsx("div",{className:"flex justify-center gap-4",children:l.slice(3,5).map((r,a)=>{const s=r.icon,u={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return w.jsx("div",{className:"hexagon relative group cursor-pointer",style:{animationDelay:`${(a+3)*.1}s`,color:u[r.color]},onClick:()=>o&&o(r.id),children:w.jsxs("div",{className:`hexagon-content ${r.bgClass} relative overflow-visible transition-all duration-300 group-hover:scale-105`,children:[w.jsx("div",{className:"absolute top-8 left-8 w-14 h-14 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-2xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${u[r.color]}60`},children:r.id}),w.jsx(s,{className:`w-24 h-24 mb-3 neon-${r.color}`,style:{filter:`drop-shadow(0 0 12px ${u[r.color]})`}}),w.jsx("h3",{className:"text-lg font-bold text-white mb-2 text-center px-4 leading-tight",children:r.title}),w.jsx("p",{className:"text-xs text-white/70 text-center px-4 leading-snug",children:r.description})]})},r.id)})}),w.jsx("div",{className:"flex justify-center gap-4",children:l.slice(5).map((r,a)=>{const s=r.icon,u={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return w.jsx("div",{className:"hexagon relative group cursor-pointer",style:{animationDelay:`${(a+4)*.1}s`,color:u[r.color]},onClick:()=>o&&o(r.id),children:w.jsxs("div",{className:`hexagon-content ${r.bgClass} relative overflow-visible transition-all duration-300 group-hover:scale-105`,children:[w.jsx("div",{className:"absolute top-8 left-8 w-14 h-14 rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-2xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${u[r.color]}60`},children:r.id}),w.jsx(s,{className:`w-24 h-24 mb-3 neon-${r.color}`,style:{filter:`drop-shadow(0 0 12px ${u[r.color]})`}}),w.jsx("h3",{className:"text-lg font-bold text-white mb-2 text-center px-4 leading-tight",children:r.title}),w.jsx("p",{className:"text-xs text-white/70 text-center px-4 leading-snug",children:r.description})]})},r.id)})}),w.jsx("div",{className:"flex justify-center mt-6",children:w.jsx("div",{className:"relative group cursor-pointer max-w-md w-full",onClick:()=>o&&o(t.id),children:w.jsx("div",{className:`${t.bgClass} rounded-2xl p-6 border-2 transition-all duration-300 group-hover:scale-105 relative`,style:{boxShadow:"0 0 30px rgba(168, 85, 247, 0.3)"},children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500/30 to-cyan-500/30 rounded-xl border border-purple-400/50",children:w.jsx(vu,{className:"w-10 h-10 text-purple-300",style:{filter:"drop-shadow(0 0 12px #c084fc)"}})}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-500/30 rounded-full text-xs font-bold text-purple-300 mb-1",children:[w.jsx(vu,{className:"w-3 h-3"}),be(i,"bonus.label")]}),w.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:t.title}),w.jsx("p",{className:"text-sm text-white/70",children:t.description})]})]})})})})]}),w.jsxs("div",{className:"md:hidden grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.map(r=>{const a=r.icon,s={cyan:"#00d4ff",purple:"#c084fc",pink:"#ff00ff",orange:"#ff8800",green:"#00ff88",red:"#ff0066",blue:"#4488ff",yellow:"#ffdd00"};return w.jsxs("div",{className:`${r.bgClass} rounded-xl sm:rounded-2xl p-4 sm:p-6 border-2 transition-all duration-300 hover:scale-105 relative cursor-pointer`,onClick:()=>o&&o(r.id),children:[w.jsx("div",{className:"absolute top-3 right-3 sm:top-4 sm:right-4 w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-white/20 to-white/10 flex items-center justify-center font-black text-white text-lg sm:text-xl border-2 border-white/40",style:{boxShadow:`0 0 15px ${s[r.color]}60`},children:r.id}),w.jsx(a,{className:"w-12 h-12 sm:w-16 sm:h-16 mb-3 sm:mb-4",style:{color:s[r.color],filter:`drop-shadow(0 0 8px ${s[r.color]})`}}),w.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-white mb-2 sm:mb-3 leading-tight pr-12 sm:pr-14",children:r.title}),w.jsx("p",{className:"text-xs sm:text-sm text-white/70 leading-relaxed",children:r.description})]},r.id)}),w.jsx("div",{className:`${t.bgClass} rounded-xl sm:rounded-2xl p-4 sm:p-6 border-2 transition-all duration-300 hover:scale-105 relative cursor-pointer sm:col-span-2`,onClick:()=>o&&o(t.id),style:{boxShadow:"0 0 20px rgba(168, 85, 247, 0.2)"},children:w.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[w.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-purple-500/30 to-cyan-500/30 rounded-lg sm:rounded-xl border border-purple-400/50",children:w.jsx(vu,{className:"w-8 h-8 sm:w-10 sm:h-10 text-purple-300",style:{filter:"drop-shadow(0 0 8px #c084fc)"}})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-500/30 rounded-full text-xs font-bold text-purple-300 mb-1",children:[w.jsx(vu,{className:"w-3 h-3"}),be(i,"bonus.label")]}),w.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-white mb-1 truncate",children:t.title}),w.jsx("p",{className:"text-xs sm:text-sm text-white/70 line-clamp-2",children:t.description})]})]})})]})]}),w.jsx("section",{className:"relative z-10 max-w-3xl mx-auto px-3 sm:px-4 md:px-6 mb-6 sm:mb-8 md:mb-12",children:w.jsxs("div",{className:"border-2 border-cyan-500/30 rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 bg-gradient-to-br from-blue-900/30 to-purple-900/30 backdrop-blur-xl",children:[w.jsx("div",{className:"text-xs sm:text-sm text-cyan-400 font-mono mb-2 sm:mb-3",children:be(i,"homepage.infoTitle")}),w.jsx("p",{className:"text-sm sm:text-base md:text-lg text-white/80 mb-4 sm:mb-6 leading-relaxed",children:be(i,"homepage.infoText")}),w.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[w.jsx("button",{onClick:e,className:"w-full px-4 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold text-sm sm:text-base md:text-lg transition-all duration-300 hover-lift shadow-lg shadow-blue-500/30",children:be(i,"homepage.getStarted")}),w.jsx("button",{onClick:n,className:"w-full px-4 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl bg-white/10 hover:bg-white/20 text-white/80 hover:text-white font-semibold text-sm sm:text-base md:text-lg transition-all duration-300 border border-white/20",children:be(i,"homepage.skipForNow")})]})]})}),w.jsxs("footer",{className:"relative z-10 border-t border-cyan-500/20 py-4 sm:py-6 md:py-8 text-center px-3 sm:px-4",children:[w.jsx("p",{className:"text-white/60 text-xs sm:text-sm md:text-base mb-1 sm:mb-2",children:be(i,"homepage.footerCopyright")}),w.jsx("p",{className:"text-white/50 text-xs sm:text-sm md:text-base",children:be(i,"homepage.footerTagline")})]})]})}var OM={};(function e(n,o,i,l){var t=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=(function(){if(!n.OffscreenCanvas)return!1;try{var C=new OffscreenCanvas(1,1),I=C.getContext("2d");I.fillRect(0,0,1,1);var K=C.transferToImageBitmap();I.createPattern(K,"no-repeat")}catch{return!1}return!0})();function s(){}function u(C){var I=o.exports.Promise,K=I!==void 0?I:n.Promise;return typeof K=="function"?new K(C):(C(s,s),null)}var f=(function(C,I){return{transform:function(K){if(C)return K;if(I.has(K))return I.get(K);var ee=new OffscreenCanvas(K.width,K.height),fe=ee.getContext("2d");return fe.drawImage(K,0,0),I.set(K,ee),ee},clear:function(){I.clear()}}})(a,new Map),g=(function(){var C=Math.floor(16.666666666666668),I,K,ee={},fe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(I=function(_e){var V=Math.random();return ee[V]=requestAnimationFrame(function U(X){fe===X||fe+C-1<X?(fe=X,delete ee[V],_e()):ee[V]=requestAnimationFrame(U)}),V},K=function(_e){ee[_e]&&cancelAnimationFrame(ee[_e])}):(I=function(_e){return setTimeout(_e,C)},K=function(_e){return clearTimeout(_e)}),{frame:I,cancel:K}})(),b=(function(){var C,I,K={};function ee(fe){function _e(V,U){fe.postMessage({options:V||{},callback:U})}fe.init=function(U){var X=U.transferControlToOffscreen();fe.postMessage({canvas:X},[X])},fe.fire=function(U,X,Z){if(I)return _e(U,null),I;var le=Math.random().toString(36).slice(2);return I=u(function(me){function we(ae){ae.data.callback===le&&(delete K[le],fe.removeEventListener("message",we),I=null,f.clear(),Z(),me())}fe.addEventListener("message",we),_e(U,le),K[le]=we.bind(null,{data:{callback:le}})}),I},fe.reset=function(){fe.postMessage({reset:!0});for(var U in K)K[U](),delete K[U]}}return function(){if(C)return C;if(!i&&t){var fe=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{C=new Worker(URL.createObjectURL(new Blob([fe])))}catch(_e){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",_e),null}ee(C)}return C}})(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(C,I){return I?I(C):C}function y(C){return C!=null}function v(C,I,K){return p(C&&y(C[I])?C[I]:_[I],K)}function E(C){return C<0?0:Math.floor(C)}function j(C,I){return Math.floor(Math.random()*(I-C))+C}function x(C){return parseInt(C,16)}function A(C){return C.map(M)}function M(C){var I=String(C).replace(/[^0-9a-f]/gi,"");return I.length<6&&(I=I[0]+I[0]+I[1]+I[1]+I[2]+I[2]),{r:x(I.substring(0,2)),g:x(I.substring(2,4)),b:x(I.substring(4,6))}}function T(C){var I=v(C,"origin",Object);return I.x=v(I,"x",Number),I.y=v(I,"y",Number),I}function D(C){C.width=document.documentElement.clientWidth,C.height=document.documentElement.clientHeight}function P(C){var I=C.getBoundingClientRect();C.width=I.width,C.height=I.height}function F(C){var I=document.createElement("canvas");return I.style.position="fixed",I.style.top="0px",I.style.left="0px",I.style.pointerEvents="none",I.style.zIndex=C,I}function q(C,I,K,ee,fe,_e,V,U,X){C.save(),C.translate(I,K),C.rotate(_e),C.scale(ee,fe),C.arc(0,0,1,V,U,X),C.restore()}function B(C){var I=C.angle*(Math.PI/180),K=C.spread*(Math.PI/180);return{x:C.x,y:C.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:C.startVelocity*.5+Math.random()*C.startVelocity,angle2D:-I+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:C.color,shape:C.shape,tick:0,totalTicks:C.ticks,decay:C.decay,drift:C.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:C.gravity*3,ovalScalar:.6,scalar:C.scalar,flat:C.flat}}function S(C,I){I.x+=Math.cos(I.angle2D)*I.velocity+I.drift,I.y+=Math.sin(I.angle2D)*I.velocity+I.gravity,I.velocity*=I.decay,I.flat?(I.wobble=0,I.wobbleX=I.x+10*I.scalar,I.wobbleY=I.y+10*I.scalar,I.tiltSin=0,I.tiltCos=0,I.random=1):(I.wobble+=I.wobbleSpeed,I.wobbleX=I.x+10*I.scalar*Math.cos(I.wobble),I.wobbleY=I.y+10*I.scalar*Math.sin(I.wobble),I.tiltAngle+=.1,I.tiltSin=Math.sin(I.tiltAngle),I.tiltCos=Math.cos(I.tiltAngle),I.random=Math.random()+2);var K=I.tick++/I.totalTicks,ee=I.x+I.random*I.tiltCos,fe=I.y+I.random*I.tiltSin,_e=I.wobbleX+I.random*I.tiltCos,V=I.wobbleY+I.random*I.tiltSin;if(C.fillStyle="rgba("+I.color.r+", "+I.color.g+", "+I.color.b+", "+(1-K)+")",C.beginPath(),r&&I.shape.type==="path"&&typeof I.shape.path=="string"&&Array.isArray(I.shape.matrix))C.fill(k(I.shape.path,I.shape.matrix,I.x,I.y,Math.abs(_e-ee)*.1,Math.abs(V-fe)*.1,Math.PI/10*I.wobble));else if(I.shape.type==="bitmap"){var U=Math.PI/10*I.wobble,X=Math.abs(_e-ee)*.1,Z=Math.abs(V-fe)*.1,le=I.shape.bitmap.width*I.scalar,me=I.shape.bitmap.height*I.scalar,we=new DOMMatrix([Math.cos(U)*X,Math.sin(U)*X,-Math.sin(U)*Z,Math.cos(U)*Z,I.x,I.y]);we.multiplySelf(new DOMMatrix(I.shape.matrix));var ae=C.createPattern(f.transform(I.shape.bitmap),"no-repeat");ae.setTransform(we),C.globalAlpha=1-K,C.fillStyle=ae,C.fillRect(I.x-le/2,I.y-me/2,le,me),C.globalAlpha=1}else if(I.shape==="circle")C.ellipse?C.ellipse(I.x,I.y,Math.abs(_e-ee)*I.ovalScalar,Math.abs(V-fe)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI):q(C,I.x,I.y,Math.abs(_e-ee)*I.ovalScalar,Math.abs(V-fe)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI);else if(I.shape==="star")for(var oe=Math.PI/2*3,ve=4*I.scalar,Ce=8*I.scalar,Ae=I.x,Ne=I.y,de=5,pe=Math.PI/de;de--;)Ae=I.x+Math.cos(oe)*Ce,Ne=I.y+Math.sin(oe)*Ce,C.lineTo(Ae,Ne),oe+=pe,Ae=I.x+Math.cos(oe)*ve,Ne=I.y+Math.sin(oe)*ve,C.lineTo(Ae,Ne),oe+=pe;else C.moveTo(Math.floor(I.x),Math.floor(I.y)),C.lineTo(Math.floor(I.wobbleX),Math.floor(fe)),C.lineTo(Math.floor(_e),Math.floor(V)),C.lineTo(Math.floor(ee),Math.floor(I.wobbleY));return C.closePath(),C.fill(),I.tick<I.totalTicks}function H(C,I,K,ee,fe){var _e=I.slice(),V=C.getContext("2d"),U,X,Z=u(function(le){function me(){U=X=null,V.clearRect(0,0,ee.width,ee.height),f.clear(),fe(),le()}function we(){i&&!(ee.width===l.width&&ee.height===l.height)&&(ee.width=C.width=l.width,ee.height=C.height=l.height),!ee.width&&!ee.height&&(K(C),ee.width=C.width,ee.height=C.height),V.clearRect(0,0,ee.width,ee.height),_e=_e.filter(function(ae){return S(V,ae)}),_e.length?U=g.frame(we):me()}U=g.frame(we),X=me});return{addFettis:function(le){return _e=_e.concat(le),Z},canvas:C,promise:Z,reset:function(){U&&g.cancel(U),X&&X()}}}function Y(C,I){var K=!C,ee=!!v(I||{},"resize"),fe=!1,_e=v(I,"disableForReducedMotion",Boolean),V=t&&!!v(I||{},"useWorker"),U=V?b():null,X=K?D:P,Z=C&&U?!!C.__confetti_initialized:!1,le=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,me;function we(oe,ve,Ce){for(var Ae=v(oe,"particleCount",E),Ne=v(oe,"angle",Number),de=v(oe,"spread",Number),pe=v(oe,"startVelocity",Number),Ie=v(oe,"decay",Number),ye=v(oe,"gravity",Number),ze=v(oe,"drift",Number),Fe=v(oe,"colors",A),De=v(oe,"ticks",Number),Be=v(oe,"shapes"),G=v(oe,"scalar"),N=!!v(oe,"flat"),z=T(oe),ne=Ae,ce=[],Re=C.width*z.x,Te=C.height*z.y;ne--;)ce.push(B({x:Re,y:Te,angle:Ne,spread:de,startVelocity:pe,color:Fe[ne%Fe.length],shape:Be[j(0,Be.length)],ticks:De,decay:Ie,gravity:ye,drift:ze,scalar:G,flat:N}));return me?me.addFettis(ce):(me=H(C,ce,X,ve,Ce),me.promise)}function ae(oe){var ve=_e||v(oe,"disableForReducedMotion",Boolean),Ce=v(oe,"zIndex",Number);if(ve&&le)return u(function(pe){pe()});K&&me?C=me.canvas:K&&!C&&(C=F(Ce),document.body.appendChild(C)),ee&&!Z&&X(C);var Ae={width:C.width,height:C.height};U&&!Z&&U.init(C),Z=!0,U&&(C.__confetti_initialized=!0);function Ne(){if(U){var pe={getBoundingClientRect:function(){if(!K)return C.getBoundingClientRect()}};X(pe),U.postMessage({resize:{width:pe.width,height:pe.height}});return}Ae.width=Ae.height=null}function de(){me=null,ee&&(fe=!1,n.removeEventListener("resize",Ne)),K&&C&&(document.body.contains(C)&&document.body.removeChild(C),C=null,Z=!1)}return ee&&!fe&&(fe=!0,n.addEventListener("resize",Ne,!1)),U?U.fire(oe,Ae,de):we(oe,Ae,de)}return ae.reset=function(){U&&U.reset(),me&&me.reset()},ae}var W;function $(){return W||(W=Y(null,{useWorker:!0,resize:!0})),W}function k(C,I,K,ee,fe,_e,V){var U=new Path2D(C),X=new Path2D;X.addPath(U,new DOMMatrix(I));var Z=new Path2D;return Z.addPath(X,new DOMMatrix([Math.cos(V)*fe,Math.sin(V)*fe,-Math.sin(V)*_e,Math.cos(V)*_e,K,ee])),Z}function Q(C){if(!r)throw new Error("path confetti are not supported in this browser");var I,K;typeof C=="string"?I=C:(I=C.path,K=C.matrix);var ee=new Path2D(I),fe=document.createElement("canvas"),_e=fe.getContext("2d");if(!K){for(var V=1e3,U=V,X=V,Z=0,le=0,me,we,ae=0;ae<V;ae+=2)for(var oe=0;oe<V;oe+=2)_e.isPointInPath(ee,ae,oe,"nonzero")&&(U=Math.min(U,ae),X=Math.min(X,oe),Z=Math.max(Z,ae),le=Math.max(le,oe));me=Z-U,we=le-X;var ve=10,Ce=Math.min(ve/me,ve/we);K=[Ce,0,0,Ce,-Math.round(me/2+U)*Ce,-Math.round(we/2+X)*Ce]}return{type:"path",path:I,matrix:K}}function re(C){var I,K=1,ee="#000000",fe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof C=="string"?I=C:(I=C.text,K="scalar"in C?C.scalar:K,fe="fontFamily"in C?C.fontFamily:fe,ee="color"in C?C.color:ee);var _e=10*K,V=""+_e+"px "+fe,U=new OffscreenCanvas(_e,_e),X=U.getContext("2d");X.font=V;var Z=X.measureText(I),le=Math.ceil(Z.actualBoundingBoxRight+Z.actualBoundingBoxLeft),me=Math.ceil(Z.actualBoundingBoxAscent+Z.actualBoundingBoxDescent),we=2,ae=Z.actualBoundingBoxLeft+we,oe=Z.actualBoundingBoxAscent+we;le+=we+we,me+=we+we,U=new OffscreenCanvas(le,me),X=U.getContext("2d"),X.font=V,X.fillStyle=ee,X.fillText(I,ae,oe);var ve=1/K;return{type:"bitmap",bitmap:U.transferToImageBitmap(),matrix:[ve,0,0,ve,-le*ve/2,-me*ve/2]}}o.exports=function(){return $().apply(this,arguments)},o.exports.reset=function(){$().reset()},o.exports.create=Y,o.exports.shapeFromPath=Q,o.exports.shapeFromText=re})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),OM,!1);const NV=OM.exports;OM.exports.create;function dd(){const n=Date.now()+3e3,o={startVelocity:30,spread:360,ticks:60,zIndex:9999};function i(t,r){return Math.random()*(r-t)+t}const l=setInterval(function(){const t=n-Date.now();if(t<=0)return clearInterval(l);const r=50*(t/3e3);NV({...o,particleCount:r,origin:{x:i(.1,.3),y:Math.random()-.2}}),NV({...o,particleCount:r,origin:{x:i(.7,.9),y:Math.random()-.2}})},250)}const Mve=8;function fd({labId:e}){const{markLabCompleteAndAdvance:n,labProgress:o,language:i}=Er(),l=o[e],t=()=>{dd(),n(e,Mve)};return w.jsx("div",{className:`flex mt-8 ${i==="he"?"justify-start":"justify-end"}`,children:w.jsxs("button",{onClick:t,disabled:l,className:`inline-flex items-center gap-2 px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-bold text-base sm:text-lg transition-all hover-lift shadow-2xl uppercase tracking-wide ${l?"bg-gradient-to-r from-green-600/50 to-cyan-600/50 cursor-not-allowed opacity-70":"bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-500 hover:to-cyan-500"} text-white ${i==="he"?"flex-row-reverse":"flex-row"}`,style:l?{}:{boxShadow:"0 0 30px rgba(34, 197, 94, 0.4)"},children:[w.jsx(TX,{className:"w-5 h-5 sm:w-6 sm:h-6"}),w.jsx("span",{className:"hidden sm:inline",children:l?be(i,"completeLabButton.labCompleted"):be(i,"completeLabButton.completeLab")}),w.jsx("span",{className:"sm:hidden",children:l?be(i,"completeLabButton.labCompletedShort"):be(i,"completeLabButton.completeLabShort")}),!l&&w.jsx(GV,{className:"w-5 h-5 sm:w-6 sm:h-6"})]})})}function EJ(){return w.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[w.jsx("div",{className:"hero-image-container mb-6 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-cyan-500/30 shadow-2xl",children:w.jsx("img",{src:"/lab1-hero.jpg",alt:"Lab 1: Understanding AI Agent Components",className:"w-full h-auto object-cover"})}),w.jsxs("div",{className:"mb-6 sm:mb-8 pb-4 sm:pb-6 border-b border-cyan-500/30",children:[w.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold heading-font neon-cyan mb-3 sm:mb-4 tracking-wider leading-tight",children:"LAB 1: UNDERSTANDING AI AGENT COMPONENTS"}),w.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/80 font-medium",children:"Learn the three core components that make up an AI agent"})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("section",{className:"holo-border rounded-lg sm:rounded-xl p-4 sm:p-6 bg-gradient-to-br from-purple-900/40 to-blue-900/40 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/30",children:[w.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gradient-neural mb-3 sm:mb-4",children:"What is an AI Agent?"}),w.jsx("p",{className:"text-white/80 text-sm sm:text-base md:text-lg leading-relaxed",children:"An AI agent is a system that can perceive its environment, make decisions, and take actions to achieve specific goals. Unlike simple chatbots, agents can use tools, remember context, and work autonomously."})]}),w.jsxs("section",{className:"holo-border rounded-lg sm:rounded-xl p-4 sm:p-6 bg-gradient-to-br from-slate-900/90 to-cyan-900/30 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/30",children:[w.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2 sm:gap-3 flex-wrap",children:[w.jsx("span",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-cyan-500 to-blue-600 text-white rounded-lg sm:rounded-xl text-sm sm:text-base md:text-lg font-black shadow-lg flex-shrink-0",style:{boxShadow:"0 0 20px rgba(0, 212, 255, 0.5)"},children:"1"}),w.jsx("span",{className:"flex-1 min-w-0",children:"Large Language Model (LLM)"})]}),w.jsx("p",{className:"text-white/80 text-sm sm:text-base md:text-lg mb-3 sm:mb-4 leading-relaxed",children:'The "brain" of the agent. The LLM processes input, reasons about what to do, and generates responses. Examples include GPT-4, Claude, Llama, Mistral, and others.'}),w.jsx("div",{className:"glass border border-cyan-500/30 rounded-lg sm:rounded-xl p-3 sm:p-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10",children:w.jsxs("p",{className:"text-xs sm:text-sm text-cyan-100 font-mono leading-relaxed",children:[w.jsx("strong",{className:"text-cyan-400",children:"Key capabilities:"}),w.jsx("br",{})," Natural language understanding",w.jsx("br",{})," Reasoning and decision-making",w.jsx("br",{})," Context interpretation",w.jsx("br",{})," Response generation"]})})]}),w.jsxs("section",{className:"holo-border rounded-lg sm:rounded-xl p-4 sm:p-6 bg-gradient-to-br from-slate-900/90 to-purple-900/30 backdrop-blur-xl shadow-2xl border-2 border-purple-500/30",children:[w.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2 sm:gap-3 flex-wrap",children:[w.jsx("span",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-lg sm:rounded-xl text-sm sm:text-base md:text-lg font-black shadow-lg flex-shrink-0",style:{boxShadow:"0 0 20px rgba(168, 85, 247, 0.5)"},children:"2"}),w.jsx("span",{className:"flex-1 min-w-0",children:"Tools"})]}),w.jsx("p",{className:"text-white/80 text-sm sm:text-base md:text-lg mb-3 sm:mb-4 leading-relaxed",children:"Tools extend the agent's capabilities beyond text generation. They allow agents to interact with external systems, APIs, databases, calculators, search engines, and more."}),w.jsx("div",{className:"glass border border-purple-500/30 rounded-lg sm:rounded-xl p-3 sm:p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10",children:w.jsxs("p",{className:"text-xs sm:text-sm text-purple-100 font-mono leading-relaxed",children:[w.jsx("strong",{className:"text-purple-400",children:"Example tools:"}),w.jsx("br",{})," Web search (Google, Bing)",w.jsx("br",{})," Calculator for math operations",w.jsx("br",{})," Database queries",w.jsx("br",{})," API calls (weather, stock prices, etc.)",w.jsx("br",{})," File system operations",w.jsx("br",{})," Code execution"]})})]}),w.jsxs("section",{className:"holo-border rounded-lg sm:rounded-xl p-4 sm:p-6 bg-gradient-to-br from-slate-900/90 to-green-900/30 backdrop-blur-xl shadow-2xl border-2 border-green-500/30",children:[w.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-white mb-3 sm:mb-4 flex items-center gap-2 sm:gap-3 flex-wrap",children:[w.jsx("span",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-green-500 to-cyan-600 text-white rounded-lg sm:rounded-xl text-sm sm:text-base md:text-lg font-black shadow-lg flex-shrink-0",style:{boxShadow:"0 0 20px rgba(34, 197, 94, 0.5)"},children:"3"}),w.jsx("span",{className:"flex-1 min-w-0",children:"Memory"})]}),w.jsx("p",{className:"text-white/80 text-sm sm:text-base md:text-lg mb-3 sm:mb-4 leading-relaxed",children:"Memory allows agents to remember previous interactions, maintain context across conversations, and learn from past experiences. This makes agents feel more intelligent and personalized."}),w.jsx("div",{className:"glass border border-green-500/30 rounded-lg sm:rounded-xl p-3 sm:p-4 bg-gradient-to-r from-green-500/10 to-cyan-500/10",children:w.jsxs("p",{className:"text-xs sm:text-sm text-green-100 font-mono leading-relaxed",children:[w.jsx("strong",{className:"text-green-400",children:"Types of memory:"}),w.jsx("br",{})," Short-term: Recent conversation history",w.jsx("br",{})," Long-term: Persistent knowledge across sessions",w.jsx("br",{})," Working memory: Context window for current task",w.jsx("br",{})," Vector/Semantic memory: Knowledge base with embeddings"]})})]}),w.jsxs("section",{className:"holo-border rounded-lg sm:rounded-xl p-4 sm:p-6 bg-gradient-to-r from-cyan-900/40 to-purple-900/40 backdrop-blur-xl shadow-2xl border-2 border-cyan-500/40",children:[w.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-gradient-neural mb-4 sm:mb-6",children:"How They Work Together"}),w.jsxs("div",{className:"space-y-2 sm:space-y-3 text-white/90 text-sm sm:text-base md:text-lg",children:[w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold",children:"1"}),w.jsx("p",{children:"User sends a query to the agent"})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold",children:"2"}),w.jsxs("p",{children:["Agent checks ",w.jsx("strong",{children:"memory"})," for relevant context"]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold",children:"3"}),w.jsxs("p",{children:[w.jsx("strong",{children:"LLM"})," processes the query and decides if tools are needed"]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold",children:"4"}),w.jsxs("p",{children:["Agent calls appropriate ",w.jsx("strong",{children:"tools"})," to gather information"]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold",children:"5"}),w.jsxs("p",{children:[w.jsx("strong",{children:"LLM"})," synthesizes tool results with context from memory"]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold",children:"6"}),w.jsx("p",{children:"Agent responds to user and updates memory"})]})]})]}),w.jsx(fd,{labId:1})]})]})}function DV(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,i=Array(n);o<n;o++)i[o]=e[o];return i}function Pve(e){if(Array.isArray(e))return e}function Ave(e,n,o){return(n=Lve(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function Nve(e,n){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,l,t,r,a=[],s=!0,u=!1;try{if(t=(o=o.call(e)).next,n!==0)for(;!(s=(i=t.call(o)).done)&&(a.push(i.value),a.length!==n);s=!0);}catch(f){u=!0,l=f}finally{try{if(!s&&o.return!=null&&(r=o.return(),Object(r)!==r))return}finally{if(u)throw l}}return a}}function Dve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IV(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),o.push.apply(o,i)}return o}function zV(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?IV(Object(o),!0).forEach(function(i){Ave(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):IV(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function Ive(e,n){if(e==null)return{};var o,i,l=zve(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(i=0;i<t.length;i++)o=t[i],n.indexOf(o)===-1&&{}.propertyIsEnumerable.call(e,o)&&(l[o]=e[o])}return l}function zve(e,n){if(e==null)return{};var o={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.indexOf(i)!==-1)continue;o[i]=e[i]}return o}function Bve(e,n){return Pve(e)||Nve(e,n)||Uve(e,n)||Dve()}function qve(e,n){if(typeof e!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Lve(e){var n=qve(e,"string");return typeof n=="symbol"?n:n+""}function Uve(e,n){if(e){if(typeof e=="string")return DV(e,n);var o={}.toString.call(e).slice(8,-1);return o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set"?Array.from(e):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?DV(e,n):void 0}}function $ve(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function BV(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),o.push.apply(o,i)}return o}function qV(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?BV(Object(o),!0).forEach(function(i){$ve(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):BV(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function Fve(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(i){return n.reduceRight(function(l,t){return t(l)},i)}}function zg(e){return function n(){for(var o=this,i=arguments.length,l=new Array(i),t=0;t<i;t++)l[t]=arguments[t];return l.length>=e.length?e.apply(this,l):function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n.apply(o,[].concat(l,a))}}}function Cb(e){return{}.toString.call(e).includes("Object")}function Vve(e){return!Object.keys(e).length}function n_(e){return typeof e=="function"}function Gve(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Hve(e,n){return Cb(n)||Qc("changeType"),Object.keys(n).some(function(o){return!Gve(e,o)})&&Qc("changeField"),n}function Kve(e){n_(e)||Qc("selectorType")}function kve(e){n_(e)||Cb(e)||Qc("handlerType"),Cb(e)&&Object.values(e).some(function(n){return!n_(n)})&&Qc("handlersType")}function Yve(e){e||Qc("initialIsRequired"),Cb(e)||Qc("initialType"),Vve(e)&&Qc("initialContent")}function Wve(e,n){throw new Error(e[n]||e.default)}var Jve={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Qc=zg(Wve)(Jve),Kv={changes:Hve,selector:Kve,handler:kve,initial:Yve};function Zve(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Kv.initial(e),Kv.handler(n);var o={current:e},i=zg(ebe)(o,n),l=zg(Xve)(o),t=zg(Kv.changes)(e),r=zg(Qve)(o);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Kv.selector(u),u(o.current)}function s(u){Fve(i,l,t,r)(u)}return[a,s]}function Qve(e,n){return n_(n)?n(e.current):n}function Xve(e,n){return e.current=qV(qV({},e.current),n),n}function ebe(e,n,o){return n_(n)?n(e.current):Object.keys(o).forEach(function(i){var l;return(l=n[i])===null||l===void 0?void 0:l.call(n,e.current[i])}),o}var tbe={create:Zve},rbe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function nbe(e){return function n(){for(var o=this,i=arguments.length,l=new Array(i),t=0;t<i;t++)l[t]=arguments[t];return l.length>=e.length?e.apply(this,l):function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n.apply(o,[].concat(l,a))}}}function abe(e){return{}.toString.call(e).includes("Object")}function ibe(e){return e||LV("configIsRequired"),abe(e)||LV("configType"),e.urls?(obe(),{paths:{vs:e.urls.monacoBase}}):e}function obe(){console.warn(RJ.deprecation)}function sbe(e,n){throw new Error(e[n]||e.default)}var RJ={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},LV=nbe(sbe)(RJ),lbe={config:ibe},ube=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(l){return o.reduceRight(function(t,r){return r(t)},l)}};function jJ(e,n){return Object.keys(n).forEach(function(o){n[o]instanceof Object&&e[o]&&Object.assign(n[o],jJ(e[o],n[o]))}),zV(zV({},e),n)}var cbe={type:"cancelation",msg:"operation is manually canceled"};function UC(e){var n=!1,o=new Promise(function(i,l){e.then(function(t){return n?l(cbe):i(t)}),e.catch(l)});return o.cancel=function(){return n=!0},o}var dbe=["monaco"],fbe=tbe.create({config:rbe,isInitialized:!1,resolve:null,reject:null,monaco:null}),xJ=Bve(fbe,2),T_=xJ[0],v0=xJ[1];function hbe(e){var n=lbe.config(e),o=n.monaco,i=Ive(n,dbe);v0(function(l){return{config:jJ(l.config,i),monaco:o}})}function pbe(){var e=T_(function(n){var o=n.monaco,i=n.isInitialized,l=n.resolve;return{monaco:o,isInitialized:i,resolve:l}});if(!e.isInitialized){if(v0({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),UC($C);if(window.monaco&&window.monaco.editor)return CJ(window.monaco),e.resolve(window.monaco),UC($C);ube(mbe,_be)(ybe)}return UC($C)}function mbe(e){return document.body.appendChild(e)}function gbe(e){var n=document.createElement("script");return e&&(n.src=e),n}function _be(e){var n=T_(function(i){var l=i.config,t=i.reject;return{config:l,reject:t}}),o=gbe("".concat(n.config.paths.vs,"/loader.js"));return o.onload=function(){return e()},o.onerror=n.reject,o}function ybe(){var e=T_(function(o){var i=o.config,l=o.resolve,t=o.reject;return{config:i,resolve:l,reject:t}}),n=window.require;n.config(e.config),n(["vs/editor/editor.main"],function(o){var i=o.m||o;CJ(i),e.resolve(i)},function(o){e.reject(o)})}function CJ(e){T_().monaco||v0({monaco:e})}function vbe(){return T_(function(e){var n=e.monaco;return n})}var $C=new Promise(function(e,n){return v0({resolve:e,reject:n})}),TJ={config:hbe,init:pbe,__getMonacoInstance:vbe},bbe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},FC=bbe,wbe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Sbe=wbe;function Obe({children:e}){return yu.createElement("div",{style:Sbe.container},e)}var Ebe=Obe,Rbe=Ebe;function jbe({width:e,height:n,isEditorReady:o,loading:i,_ref:l,className:t,wrapperProps:r}){return yu.createElement("section",{style:{...FC.wrapper,width:e,height:n},...r},!o&&yu.createElement(Rbe,null,i),yu.createElement("div",{ref:l,style:{...FC.fullWidth,...!o&&FC.hide},className:t}))}var xbe=jbe,MJ=Je.memo(xbe);function Cbe(e){Je.useEffect(e,[])}var PJ=Cbe;function Tbe(e,n,o=!0){let i=Je.useRef(!0);Je.useEffect(i.current||!o?()=>{i.current=!1}:e,n)}var gn=Tbe;function Gg(){}function Qh(e,n,o,i){return Mbe(e,i)||Pbe(e,n,o,i)}function Mbe(e,n){return e.editor.getModel(AJ(e,n))}function Pbe(e,n,o,i){return e.editor.createModel(n,o,i?AJ(e,i):void 0)}function AJ(e,n){return e.Uri.parse(n)}function Abe({original:e,modified:n,language:o,originalLanguage:i,modifiedLanguage:l,originalModelPath:t,modifiedModelPath:r,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:s=!1,theme:u="light",loading:f="Loading...",options:g={},height:b="100%",width:_="100%",className:p,wrapperProps:y={},beforeMount:v=Gg,onMount:E=Gg}){let[j,x]=Je.useState(!1),[A,M]=Je.useState(!0),T=Je.useRef(null),D=Je.useRef(null),P=Je.useRef(null),F=Je.useRef(E),q=Je.useRef(v),B=Je.useRef(!1);PJ(()=>{let W=TJ.init();return W.then($=>(D.current=$)&&M(!1)).catch($=>$?.type!=="cancelation"&&console.error("Monaco initialization: error:",$)),()=>T.current?Y():W.cancel()}),gn(()=>{if(T.current&&D.current){let W=T.current.getOriginalEditor(),$=Qh(D.current,e||"",i||o||"text",t||"");$!==W.getModel()&&W.setModel($)}},[t],j),gn(()=>{if(T.current&&D.current){let W=T.current.getModifiedEditor(),$=Qh(D.current,n||"",l||o||"text",r||"");$!==W.getModel()&&W.setModel($)}},[r],j),gn(()=>{let W=T.current.getModifiedEditor();W.getOption(D.current.editor.EditorOption.readOnly)?W.setValue(n||""):n!==W.getValue()&&(W.executeEdits("",[{range:W.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),W.pushUndoStop())},[n],j),gn(()=>{T.current?.getModel()?.original.setValue(e||"")},[e],j),gn(()=>{let{original:W,modified:$}=T.current.getModel();D.current.editor.setModelLanguage(W,i||o||"text"),D.current.editor.setModelLanguage($,l||o||"text")},[o,i,l],j),gn(()=>{D.current?.editor.setTheme(u)},[u],j),gn(()=>{T.current?.updateOptions(g)},[g],j);let S=Je.useCallback(()=>{if(!D.current)return;q.current(D.current);let W=Qh(D.current,e||"",i||o||"text",t||""),$=Qh(D.current,n||"",l||o||"text",r||"");T.current?.setModel({original:W,modified:$})},[o,n,l,e,i,t,r]),H=Je.useCallback(()=>{!B.current&&P.current&&(T.current=D.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...g}),S(),D.current?.editor.setTheme(u),x(!0),B.current=!0)},[g,u,S]);Je.useEffect(()=>{j&&F.current(T.current,D.current)},[j]),Je.useEffect(()=>{!A&&!j&&H()},[A,j,H]);function Y(){let W=T.current?.getModel();a||W?.original?.dispose(),s||W?.modified?.dispose(),T.current?.dispose()}return yu.createElement(MJ,{width:_,height:b,isEditorReady:j,loading:f,_ref:P,className:p,wrapperProps:y})}var Nbe=Abe;Je.memo(Nbe);function Dbe(e){let n=Je.useRef();return Je.useEffect(()=>{n.current=e},[e]),n.current}var Ibe=Dbe,kv=new Map;function zbe({defaultValue:e,defaultLanguage:n,defaultPath:o,value:i,language:l,path:t,theme:r="light",line:a,loading:s="Loading...",options:u={},overrideServices:f={},saveViewState:g=!0,keepCurrentModel:b=!1,width:_="100%",height:p="100%",className:y,wrapperProps:v={},beforeMount:E=Gg,onMount:j=Gg,onChange:x,onValidate:A=Gg}){let[M,T]=Je.useState(!1),[D,P]=Je.useState(!0),F=Je.useRef(null),q=Je.useRef(null),B=Je.useRef(null),S=Je.useRef(j),H=Je.useRef(E),Y=Je.useRef(),W=Je.useRef(i),$=Ibe(t),k=Je.useRef(!1),Q=Je.useRef(!1);PJ(()=>{let I=TJ.init();return I.then(K=>(F.current=K)&&P(!1)).catch(K=>K?.type!=="cancelation"&&console.error("Monaco initialization: error:",K)),()=>q.current?C():I.cancel()}),gn(()=>{let I=Qh(F.current,e||i||"",n||l||"",t||o||"");I!==q.current?.getModel()&&(g&&kv.set($,q.current?.saveViewState()),q.current?.setModel(I),g&&q.current?.restoreViewState(kv.get(t)))},[t],M),gn(()=>{q.current?.updateOptions(u)},[u],M),gn(()=>{!q.current||i===void 0||(q.current.getOption(F.current.editor.EditorOption.readOnly)?q.current.setValue(i):i!==q.current.getValue()&&(Q.current=!0,q.current.executeEdits("",[{range:q.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),q.current.pushUndoStop(),Q.current=!1))},[i],M),gn(()=>{let I=q.current?.getModel();I&&l&&F.current?.editor.setModelLanguage(I,l)},[l],M),gn(()=>{a!==void 0&&q.current?.revealLine(a)},[a],M),gn(()=>{F.current?.editor.setTheme(r)},[r],M);let re=Je.useCallback(()=>{if(!(!B.current||!F.current)&&!k.current){H.current(F.current);let I=t||o,K=Qh(F.current,i||e||"",n||l||"",I||"");q.current=F.current?.editor.create(B.current,{model:K,automaticLayout:!0,...u},f),g&&q.current.restoreViewState(kv.get(I)),F.current.editor.setTheme(r),a!==void 0&&q.current.revealLine(a),T(!0),k.current=!0}},[e,n,o,i,l,t,u,f,g,r,a]);Je.useEffect(()=>{M&&S.current(q.current,F.current)},[M]),Je.useEffect(()=>{!D&&!M&&re()},[D,M,re]),W.current=i,Je.useEffect(()=>{M&&x&&(Y.current?.dispose(),Y.current=q.current?.onDidChangeModelContent(I=>{Q.current||x(q.current.getValue(),I)}))},[M,x]),Je.useEffect(()=>{if(M){let I=F.current.editor.onDidChangeMarkers(K=>{let ee=q.current.getModel()?.uri;if(ee&&K.find(fe=>fe.path===ee.path)){let fe=F.current.editor.getModelMarkers({resource:ee});A?.(fe)}});return()=>{I?.dispose()}}return()=>{}},[M,A]);function C(){Y.current?.dispose(),b?g&&kv.set(t,q.current.saveViewState()):q.current.getModel()?.dispose(),q.current.dispose()}return yu.createElement(MJ,{width:_,height:p,isEditorReady:M,loading:s,_ref:B,className:y,wrapperProps:v})}var Bbe=zbe,qbe=Je.memo(Bbe),Lbe=qbe;function vt({title:e,initialCode:n,language:o="typescript",editable:i=!0,description:l,onExecute:t,autoRun:r=!1}){const{language:a}=Er(),[s,u]=Je.useState(n),[f,g]=Je.useState(!1),[b,_]=Je.useState(null),[p,y]=Je.useState([]),[v,E]=Je.useState(!1);Je.useEffect(()=>{r&&t&&!b&&j()},[r]);const j=async()=>{if(t){g(!0),_(null),y([]);try{const x=await t(s);_(x),x.error?y([x.error]):y([x.output])}catch(x){const A=x instanceof Error?x.message:"Unknown error";_({output:"",error:A,timestamp:Date.now()}),y([A])}finally{g(!1),E(!0)}}};return w.jsx("div",{className:"group relative animate-fade-in",dir:"ltr",children:w.jsxs("div",{className:"relative rounded-2xl overflow-hidden glass-strong shadow-neural border-2 border-white/10 transition-all duration-300 hover:border-white/20 hover-lift",children:[w.jsxs("div",{className:"flex items-center justify-between px-4 py-3 glass border-b border-white/10 backdrop-blur-xl",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-red-500 to-red-600 hover:shadow-lg hover:shadow-red-500/50 transition-all cursor-pointer"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-500 hover:shadow-lg hover:shadow-yellow-500/50 transition-all cursor-pointer"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-green-400 to-green-500 hover:shadow-lg hover:shadow-green-500/50 transition-all cursor-pointer"})]}),w.jsxs("div",{className:"flex items-center gap-2 text-white/60",children:[w.jsx(hee,{className:"w-4 h-4 text-gradient-neural"}),w.jsx("span",{className:"text-sm font-mono text-white/80",children:e||"code-editor"})]})]}),w.jsxs("button",{onClick:j,disabled:f||!t,className:`inline-flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-emerald-500 via-green-500 to-teal-600 hover:from-emerald-600 hover:via-green-600 hover:to-teal-700 disabled:from-slate-700 disabled:to-slate-800 text-white text-sm font-bold rounded-lg transition-all duration-200 shadow-luxury disabled:cursor-not-allowed hover-lift disabled:opacity-50 relative overflow-hidden group/btn ${a==="he"?"flex-row-reverse":"flex-row"}`,children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-600 to-emerald-600 opacity-0 group-hover/btn:opacity-100 transition-opacity"}),f?w.jsxs(w.Fragment,{children:[w.jsx(KV,{className:"w-4 h-4 animate-spin relative z-10"}),w.jsx("span",{className:"font-mono relative z-10",children:be(a,"codeCell.running")})]}):w.jsxs(w.Fragment,{children:[w.jsx(iee,{className:"w-4 h-4 relative z-10"}),w.jsx("span",{className:"font-mono relative z-10",children:be(a,"codeCell.runCode")})]})]})]}),l&&w.jsx("div",{className:"px-4 py-3 glass border-b border-white/10",children:w.jsxs("p",{className:"text-sm text-cyan-300 font-mono",children:["// ",l]})}),w.jsx("div",{className:"relative",children:w.jsx(Lbe,{height:"350px",language:o,value:s,onChange:x=>i&&u(x||""),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:15,fontFamily:"'Fira Code', 'Consolas', 'Monaco', monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:!i,tabSize:2,padding:{top:16,bottom:16},smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",wordWrap:"on",wrappingIndent:"indent"}})}),b&&w.jsxs("div",{className:`border-t border-white/10 glass backdrop-blur-xl transition-all duration-300 ${v?"max-h-[600px]":"max-h-0"} overflow-hidden`,children:[w.jsxs("div",{className:"p-5 overflow-y-auto max-h-[550px]",children:[w.jsx("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-white/10",children:b.error?w.jsxs(w.Fragment,{children:[w.jsx(HV,{className:"w-5 h-5 text-red-400"}),w.jsx("span",{className:"text-base font-mono font-bold text-red-400",children:be(a,"codeCell.error")})]}):w.jsxs(w.Fragment,{children:[w.jsx(EX,{className:"w-5 h-5 text-green-400"}),w.jsx("span",{className:"text-base font-mono font-bold text-gradient-neural",children:be(a,"codeCell.success")})]})}),w.jsx("div",{className:"font-mono text-base space-y-2 leading-relaxed",children:p.map((x,A)=>w.jsx("div",{className:`animate-fade-in ${b?.error?"text-red-300":"text-emerald-300"}`,style:{animationDelay:`${A*30}ms`},children:x||""},A))})]}),w.jsx("button",{onClick:()=>E(!v),className:"w-full py-2.5 text-sm text-white/60 hover:text-white/90 glass border-t border-white/10 transition-all font-mono font-semibold",children:v?`${a==="he"?"":" "}${be(a,"codeCell.collapseOutput")}${a==="he"?" ":""}`:`${a==="he"?"":" "}${be(a,"codeCell.expandOutput")}${a==="he"?" ":""}`})]})]})})}const Ube=8;function $be(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i,language:l}=Er(),t=()=>n==="groq"?"ChatGroq":"ChatCohere",r=()=>n==="groq"?"import { ChatGroq } from '@langchain/groq';":"import { ChatCohere } from '@langchain/cohere';",a=`// Step 1: Import the LangChain ${t()} class
${r()}

console.log(' LangChain imported successfully!');`,s=`// Step 2: Create an LLM instance with your API key
const llm = new ${t()}({
  apiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  model: '${o}',
});

console.log(' LLM instance created with model: ${o}');`,u=`// Step 3: Define your prompt
const prompt = "What are the three main components of an AI agent?";

console.log(' Prompt ready:', prompt);`,f=`// Step 4: Get a response from the LLM
const llm = new ${t()}({
  apiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  model: '${o}',
});

const prompt = "What are the three main components of an AI agent?";
const response = await llm.invoke(prompt);

console.log('Response:', response.content);`,g=`// Complete Example: Simple Prompt/Response Agent
${r()}

// Initialize the LLM
const llm = new ${t()}({
  apiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  model: '${o}',
});

// Send a prompt and get response
const prompt = "Explain what an AI agent is in one sentence.";
const response = await llm.invoke(prompt);

console.log('Agent Response:', response.content);`,b=async()=>{try{return{output:" LangChain imported successfully!",timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");return{output:` LLM instance created with model: ${o}`,timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{return{output:" Prompt ready: What are the three main components of an AI agent?",timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");return{output:`Response: ${(await Nr(e,n,o).invoke("What are the three main components of an AI agent?")).content}`,timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}},v=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const x=await Nr(e,n,o).invoke("Explain what an AI agent is in one sentence.");return dd(),i(2,Ube),{output:`Agent Response: ${x.content}`,timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}};return w.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 sm:space-y-8 animate-fade-in w-full",children:[w.jsx("div",{className:"hero-image-container mb-6 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-cyan-500/30 shadow-2xl",children:w.jsx("img",{src:"/lab2-hero.jpg",alt:"Lab 2: Simple Prompt/Response Agent",className:"w-full h-auto object-cover"})}),w.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4",children:[w.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg sm:rounded-xl shadow-lg flex-shrink-0",children:w.jsx(wee,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-100",children:be(l,"lab2.title")}),w.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mt-1",children:be(l,"lab2.subtitle")})]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[w.jsx(id,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"text-xs sm:text-sm text-blue-900 dark:text-blue-100",children:[w.jsx("p",{className:"font-semibold mb-2",children:be(l,"lab2.whatYouLearn")}),w.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[w.jsx("li",{children:be(l,"lab2.learn1")}),w.jsx("li",{children:be(l,"lab2.learn2")}),w.jsx("li",{children:be(l,"lab2.learn3")}),w.jsx("li",{children:be(l,"lab2.learn4")})]})]})]})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"1"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:be(l,"lab2.step1Title")})]}),w.jsx(vt,{title:"step-1-import",initialCode:a,description:`${l==="he"?",    ":"First, we import the"} ${t()} ${be(l,"lab2.step1Desc")}`,onExecute:b})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"2"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:be(l,"lab2.step2Title")})]}),w.jsx(vt,{title:"step-2-create-llm",initialCode:s,description:be(l,"lab2.step2Desc"),onExecute:_})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"3"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:be(l,"lab2.step3Title")})]}),w.jsx(vt,{title:"step-3-prompt",initialCode:u,description:be(l,"lab2.step3Desc"),onExecute:p})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"4"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:be(l,"lab2.step4Title")})]}),w.jsx(vt,{title:"step-4-response",initialCode:f,description:be(l,"lab2.step4Desc"),onExecute:y})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg animate-pulse-glow",children:"5"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:be(l,"lab2.step5Title")})]}),w.jsx(vt,{title:"complete-agent",initialCode:g,description:be(l,"lab2.step5Desc"),onExecute:v})]}),w.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-green-200 dark:border-green-800",children:[w.jsxs("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2 text-sm sm:text-base",children:[" ",be(l,"lab2.congratsTitle")]}),w.jsx("p",{className:"text-green-800 dark:text-green-200 text-xs sm:text-sm",children:be(l,"lab2.congratsText")})]}),w.jsx(fd,{labId:2})]})}const Fbe=8;function Vbe(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Er(),l=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Import required message types
import { ChatOpenAI } from '@langchain/openai';
import { SystemMessage, HumanMessage } from '@langchain/core/messages';

console.log(' Message types imported successfully!');`,r=`// Step 2: Create a system prompt to define agent personality
const systemPrompt = new SystemMessage(\`You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies. Always be encouraging and patient.\`);

console.log(' System prompt created!');
console.log('Role:', 'AI Tutor');`,a=`// Step 3: Create the user's question
const userPrompt = new HumanMessage("What is machine learning?");

console.log(' User prompt ready!');
console.log('Question:', userPrompt.content);`,s=`// Step 4: Combine system and user messages
const systemPrompt = new SystemMessage(\`You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies.\`);
const userPrompt = new HumanMessage("What is machine learning?");

const messages = [systemPrompt, userPrompt];

console.log(' Messages array created!');
console.log('Total messages:', messages.length);`,u=`// Step 5: Send to LLM and get response
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

const systemPrompt = new SystemMessage(\`You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies.\`);
const userPrompt = new HumanMessage("What is machine learning?");
const messages = [systemPrompt, userPrompt];

const response = await llm.invoke(messages);

console.log('Agent Response:', response.content);`,f=`// Complete Example: Try a different personality!
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

// Try this pirate personality!
const systemPrompt = new SystemMessage(\`You are a pirate AI assistant. You speak like a pirate and use nautical terms. You're helpful but always stay in character. End responses with "Arrr!"\`);
const userPrompt = new HumanMessage("How do I learn programming?");

const messages = [systemPrompt, userPrompt];
const response = await llm.invoke(messages);

console.log('Pirate Agent Response:', response.content);`,g=async()=>{try{return{output:" Message types imported successfully!",timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{return{output:` System prompt created!
Role: AI Tutor`,timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{return{output:` User prompt ready!
Question: ${new It("What is machine learning?").content}`,timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{const E=new ur("You are an expert AI tutor."),j=new It("What is machine learning?");return{output:` Messages array created!
Total messages: ${[E,j].length}`,timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const E=Nr(e,n,o),j=new ur("You are an expert AI tutor specializing in teaching about artificial intelligence and machine learning. You explain complex concepts in simple terms and use analogies."),x=new It("What is machine learning?"),A=[j,x];return{output:`Agent Response: ${(await E.invoke(A)).content}`,timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}},v=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const E=Nr(e,n,o),j=new ur(`You are a pirate AI assistant. You speak like a pirate and use nautical terms. You're helpful but always stay in character. End responses with "Arrr!"`),x=new It("How do I learn programming?"),A=[j,x],M=await E.invoke(A);return dd(),i(3,Fbe),{output:`Pirate Agent Response: ${M.content}`,timestamp:Date.now()}}catch(E){return{output:"",error:E instanceof Error?E.message:"Unknown error",timestamp:Date.now()}}};return w.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 sm:space-y-8 animate-fade-in w-full",children:[w.jsx("div",{className:"hero-image-container mb-6 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-cyan-500/30 shadow-2xl",children:w.jsx("img",{src:"/lab3-hero.jpg",alt:"Lab 3: Custom System Prompts",className:"w-full h-auto object-cover"})}),w.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4",children:[w.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg flex-shrink-0",children:w.jsx(vu,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 3: Custom System Prompts"}),w.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mt-1",children:"Shape your agent's personality and behavior"})]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[w.jsx(id,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"text-xs sm:text-sm text-blue-900 dark:text-blue-100",children:[w.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),w.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[w.jsx("li",{children:"How to use SystemMessage to define agent personality"}),w.jsx("li",{children:"Combining system prompts with user messages"}),w.jsx("li",{children:"Creating different agent behaviors (tutor, pirate, expert)"}),w.jsx("li",{children:"Understanding how system prompts guide responses"})]})]})]})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"1"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Import Message Types"})]}),w.jsx(vt,{title:"step-1-imports",initialCode:t,description:"Import SystemMessage and HumanMessage from LangChain",onExecute:g})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"2"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create System Prompt"})]}),w.jsx(vt,{title:"step-2-system-prompt",initialCode:r,description:"Define the agent's role, personality, and expertise",onExecute:b})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"3"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create User Message"})]}),w.jsx(vt,{title:"step-3-user-prompt",initialCode:a,description:"Create the user's question or request",onExecute:_})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"4"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Combine Messages"})]}),w.jsx(vt,{title:"step-4-combine",initialCode:s,description:"Put system and user messages into an array",onExecute:p})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"5"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Get Agent Response"})]}),w.jsx(vt,{title:"step-5-response",initialCode:u,description:"Send messages to the LLM and see how system prompt shapes the response",onExecute:y})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-pink-500 to-rose-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg animate-pulse-glow",children:"6"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Try a Different Personality"})]}),w.jsx(vt,{title:"complete-pirate-agent",initialCode:f,description:"Experiment with a pirate personality - see how system prompts change behavior!",onExecute:v})]}),w.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-yellow-200 dark:border-yellow-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-yellow-900 dark:text-yellow-100 mb-3",children:" Pro Tips for System Prompts"}),w.jsxs("ul",{className:"space-y-2 text-yellow-800 dark:text-yellow-200 text-xs sm:text-sm",children:[w.jsx("li",{children:" Be specific about the role and expertise level"}),w.jsx("li",{children:" Include output format requirements (JSON, bullet points, etc.)"}),w.jsx("li",{children:" Add constraints (word limits, language style, tone)"}),w.jsx("li",{children:" Test different system prompts to find what works best"}),w.jsx("li",{children:" Keep system prompts concise but informative"})]})]}),w.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-green-200 dark:border-green-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-green-900 dark:text-green-100 mb-2",children:" Great Work!"}),w.jsx("p",{className:"text-green-800 dark:text-green-200 text-xs sm:text-sm",children:"You've learned how to shape your agent's personality! System prompts are powerful tools for controlling agent behavior. Next, you'll learn how to add memory to make conversations more natural."})]}),w.jsx(fd,{labId:3})]})}const Gbe=8;function Hbe(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Er(),l=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Import message types for memory
import { HumanMessage, AIMessage } from '@langchain/core/messages';

console.log(' Message types imported!');
console.log('We will use arrays to store conversation history');`,r=`// Step 2: Create a messages array to store history
const messages = [];

console.log(' Messages array created!');
console.log('This array will act as our memory');`,a=`// Step 3: Add first user message and get response
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

const messages = [];
messages.push(new HumanMessage("My name is Yuval and I teach AI agents"));

const response1 = await llm.invoke(messages);
messages.push(new AIMessage(response1.content.toString()));

console.log('Turn 1:');
console.log('User: My name is Yuval and I teach AI agents');
console.log('Agent:', response1.content);
console.log('');
console.log('Messages in memory:', messages.length);`,s=`// Step 4: Second turn - agent remembers!
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

const messages = [];
messages.push(new HumanMessage("My name is Yuval and I teach AI agents"));
const response1 = await llm.invoke(messages);
messages.push(new AIMessage(response1.content.toString()));

// Ask about name - should remember!
messages.push(new HumanMessage("What's my name?"));
const response2 = await llm.invoke(messages);
messages.push(new AIMessage(response2.content.toString()));

console.log('Turn 2:');
console.log('User: What\\'s my name?');
console.log('Agent:', response2.content);
console.log('');
console.log('Messages in memory:', messages.length);`,u=`// Complete Example: Full conversation with memory
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

// Initialize conversation memory
const messages = [];

// Turn 1: Introduce yourself
messages.push(new HumanMessage("My name is Yuval and I teach AI agents"));
const response1 = await llm.invoke(messages);
messages.push(new AIMessage(response1.content.toString()));

// Turn 2: Ask about name
messages.push(new HumanMessage("What's my name?"));
const response2 = await llm.invoke(messages);
messages.push(new AIMessage(response2.content.toString()));

// Turn 3: Ask about profession
messages.push(new HumanMessage("What do I teach?"));
const response3 = await llm.invoke(messages);

console.log('Turn 1:');
console.log('User: My name is Yuval and I teach AI agents');
console.log('Agent:', response1.content);
console.log('');
console.log('Turn 2:');
console.log('User: What\\'s my name?');
console.log('Agent:', response2.content);
console.log('');
console.log('Turn 3:');
console.log('User: What do I teach?');
console.log('Agent:', response3.content);
console.log('');
console.log(' Agent remembered context across all turns!');`,f=async()=>{try{return{output:` Message types imported!
We will use arrays to store conversation history`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},g=async()=>{try{return{output:` Messages array created!
This array will act as our memory`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const y=Nr(e,n,o),v=[];v.push(new It("My name is Yuval and I teach AI agents"));const E=await y.invoke(v);return v.push(new Or(E.content.toString())),{output:`Turn 1:
User: My name is Yuval and I teach AI agents
Agent: ${E.content}

Messages in memory: ${v.length}`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const y=Nr(e,n,o),v=[];v.push(new It("My name is Yuval and I teach AI agents"));const E=await y.invoke(v);v.push(new Or(E.content.toString())),v.push(new It("What's my name?"));const j=await y.invoke(v);return v.push(new Or(j.content.toString())),{output:`Turn 2:
User: What's my name?
Agent: ${j.content}

Messages in memory: ${v.length}`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const y=Nr(e,n,o),v=[];v.push(new It("My name is Yuval and I teach AI agents"));const E=await y.invoke(v);v.push(new Or(E.content.toString())),v.push(new It("What's my name?"));const j=await y.invoke(v);v.push(new Or(j.content.toString())),v.push(new It("What do I teach?"));const x=await y.invoke(v);return dd(),i(4,Gbe),{output:`Turn 1:
User: My name is Yuval and I teach AI agents
Agent: ${E.content}

Turn 2:
User: What's my name?
Agent: ${j.content}

Turn 3:
User: What do I teach?
Agent: ${x.content}

 Agent remembered context across all turns!`,timestamp:Date.now()}}catch(y){return{output:"",error:y instanceof Error?y.message:"Unknown error",timestamp:Date.now()}}};return w.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 sm:space-y-8 animate-fade-in w-full",children:[w.jsx("div",{className:"hero-image-container mb-6 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-cyan-500/30 shadow-2xl",children:w.jsx("img",{src:"/lab4-hero.jpg",alt:"Lab 4: Conversation Memory",className:"w-full h-auto object-cover"})}),w.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4",children:[w.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl shadow-lg flex-shrink-0",children:w.jsx(Y1,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 4: Conversation Memory"}),w.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mt-1",children:"Make your agent remember previous messages"})]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[w.jsx(id,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"text-xs sm:text-sm text-blue-900 dark:text-blue-100",children:[w.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),w.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[w.jsx("li",{children:"How to store conversation history in message arrays"}),w.jsx("li",{children:"Adding HumanMessage and AIMessage to memory"}),w.jsx("li",{children:"Building multi-turn conversations"}),w.jsx("li",{children:"How agents use past context to answer new questions"})]})]})]})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"1"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Import Message Types"})]}),w.jsx(vt,{title:"step-1-imports",initialCode:t,description:"Import HumanMessage and AIMessage for conversation memory",onExecute:f})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"2"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create Memory Array"})]}),w.jsx(vt,{title:"step-2-memory",initialCode:r,description:"Initialize an array to store conversation history",onExecute:g})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"3"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"First Turn - Store Message"})]}),w.jsx(vt,{title:"step-3-turn1",initialCode:a,description:"Send first message and store both user and AI responses",onExecute:b})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"4"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Second Turn - Agent Remembers!"})]}),w.jsx(vt,{title:"step-4-turn2",initialCode:s,description:"Ask a question that requires memory - watch the magic!",onExecute:_})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg animate-pulse-glow",children:"5"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Multi-Turn Conversation"})]}),w.jsx(vt,{title:"complete-memory-agent",initialCode:u,description:"Full conversation with memory - the agent remembers everything!",onExecute:p})]}),w.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-purple-200 dark:border-purple-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-purple-900 dark:text-purple-100 mb-3",children:" How Memory Works"}),w.jsxs("ul",{className:"space-y-2 text-purple-800 dark:text-purple-200 text-xs sm:text-sm",children:[w.jsx("li",{children:" Each message (user and AI) is stored in an array"}),w.jsx("li",{children:" The entire array is sent to the LLM with each new message"}),w.jsx("li",{children:" The LLM can reference previous messages to maintain context"}),w.jsx("li",{children:" This allows for natural, coherent conversations"}),w.jsx("li",{children:" More messages = more tokens = higher cost (manage carefully!)"})]})]}),w.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-green-200 dark:border-green-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-green-900 dark:text-green-100 mb-2",children:" Excellent Progress!"}),w.jsx("p",{className:"text-green-800 dark:text-green-200 text-xs sm:text-sm",children:"You've learned how to give your agent memory! This is crucial for building conversational AI systems. Next, you'll learn how to give your agent access to external knowledge bases."})]}),w.jsx(fd,{labId:4})]})}var M_=class extends Bt{lc_serializable=!0;lc_namespace=["langchain_core","prompts",this._getPromptType()];get lc_attributes(){return{partialVariables:void 0}}inputVariables;outputParser;partialVariables;metadata;tags;constructor(e){super(e);const{inputVariables:n}=e;if(n.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const n=this.partialVariables??{},o={};for(const[l,t]of Object.entries(n))typeof t=="string"?o[l]=t:o[l]=await t();return{...o,...e}}async invoke(e,n){const o={...this.metadata,...n?.metadata},i=[...this.tags??[],...n?.tags??[]];return this._callWithConfig(l=>this.formatPromptValue(l),e,{...n,tags:i,metadata:o,runType:"prompt"})}},a_=class extends M_{async formatPromptValue(e){const n=await this.format(e);return new AT(n)}};var Kbe=Object.prototype.toString,yp=Array.isArray||function(n){return Kbe.call(n)==="[object Array]"};function EM(e){return typeof e=="function"}function kbe(e){return yp(e)?"array":typeof e}function VC(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function UV(e,n){return e!=null&&typeof e=="object"&&n in e}function Ybe(e,n){return e!=null&&typeof e!="object"&&e.hasOwnProperty&&e.hasOwnProperty(n)}var Wbe=RegExp.prototype.test;function Jbe(e,n){return Wbe.call(e,n)}var Zbe=/\S/;function Qbe(e){return!Jbe(Zbe,e)}var Xbe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function e0e(e){return String(e).replace(/[&<>"'`=\/]/g,function(o){return Xbe[o]})}var t0e=/\s*/,r0e=/\s+/,$V=/\s*=/,n0e=/\s*\}/,a0e=/#|\^|\/|>|\{|&|=|!/;function i0e(e,n){if(!e)return[];var o=!1,i=[],l=[],t=[],r=!1,a=!1,s="",u=0;function f(){if(r&&!a)for(;t.length;)delete l[t.pop()];else t=[];r=!1,a=!1}var g,b,_;function p(P){if(typeof P=="string"&&(P=P.split(r0e,2)),!yp(P)||P.length!==2)throw new Error("Invalid tags: "+P);g=new RegExp(VC(P[0])+"\\s*"),b=new RegExp("\\s*"+VC(P[1])),_=new RegExp("\\s*"+VC("}"+P[1]))}p(n||Jr.tags);for(var y=new P_(e),v,E,j,x,A,M;!y.eos();){if(v=y.pos,j=y.scanUntil(g),j)for(var T=0,D=j.length;T<D;++T)x=j.charAt(T),Qbe(x)?(t.push(l.length),s+=x):(a=!0,o=!0,s+=" "),l.push(["text",x,v,v+1]),v+=1,x===`
`&&(f(),s="",u=0,o=!1);if(!y.scan(g))break;if(r=!0,E=y.scan(a0e)||"name",y.scan(t0e),E==="="?(j=y.scanUntil($V),y.scan($V),y.scanUntil(b)):E==="{"?(j=y.scanUntil(_),y.scan(n0e),y.scanUntil(b),E="&"):j=y.scanUntil(b),!y.scan(b))throw new Error("Unclosed tag at "+y.pos);if(E==">"?A=[E,j,v,y.pos,s,u,o]:A=[E,j,v,y.pos],u++,l.push(A),E==="#"||E==="^")i.push(A);else if(E==="/"){if(M=i.pop(),!M)throw new Error('Unopened section "'+j+'" at '+v);if(M[1]!==j)throw new Error('Unclosed section "'+M[1]+'" at '+v)}else E==="name"||E==="{"||E==="&"?a=!0:E==="="&&p(j)}if(f(),M=i.pop(),M)throw new Error('Unclosed section "'+M[1]+'" at '+y.pos);return s0e(o0e(l))}function o0e(e){for(var n=[],o,i,l=0,t=e.length;l<t;++l)o=e[l],o&&(o[0]==="text"&&i&&i[0]==="text"?(i[1]+=o[1],i[3]=o[3]):(n.push(o),i=o));return n}function s0e(e){for(var n=[],o=n,i=[],l,t,r=0,a=e.length;r<a;++r)switch(l=e[r],l[0]){case"#":case"^":o.push(l),i.push(l),o=l[4]=[];break;case"/":t=i.pop(),t[5]=l[2],o=i.length>0?i[i.length-1][4]:n;break;default:o.push(l)}return n}function P_(e){this.string=e,this.tail=e,this.pos=0}P_.prototype.eos=function(){return this.tail===""};P_.prototype.scan=function(n){var o=this.tail.match(n);if(!o||o.index!==0)return"";var i=o[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i};P_.prototype.scanUntil=function(n){var o=this.tail.search(n),i;switch(o){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,o),this.tail=this.tail.substring(o)}return this.pos+=i.length,i};function cp(e,n){this.view=e,this.cache={".":this.view},this.parent=n}cp.prototype.push=function(n){return new cp(n,this)};cp.prototype.lookup=function(n){var o=this.cache,i;if(o.hasOwnProperty(n))i=o[n];else{for(var l=this,t,r,a,s=!1;l;){if(n.indexOf(".")>0)for(t=l.view,r=n.split("."),a=0;t!=null&&a<r.length;)a===r.length-1&&(s=UV(t,r[a])||Ybe(t,r[a])),t=t[r[a++]];else t=l.view[n],s=UV(l.view,n);if(s){i=t;break}l=l.parent}o[n]=i}return EM(i)&&(i=i.call(this.view)),i};function zr(){this.templateCache={_cache:{},set:function(n,o){this._cache[n]=o},get:function(n){return this._cache[n]},clear:function(){this._cache={}}}}zr.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};zr.prototype.parse=function(n,o){var i=this.templateCache,l=n+":"+(o||Jr.tags).join(":"),t=typeof i<"u",r=t?i.get(l):void 0;return r==null&&(r=i0e(n,o),t&&i.set(l,r)),r};zr.prototype.render=function(n,o,i,l){var t=this.getConfigTags(l),r=this.parse(n,t),a=o instanceof cp?o:new cp(o,void 0);return this.renderTokens(r,a,i,n,l)};zr.prototype.renderTokens=function(n,o,i,l,t){for(var r="",a,s,u,f=0,g=n.length;f<g;++f)u=void 0,a=n[f],s=a[0],s==="#"?u=this.renderSection(a,o,i,l,t):s==="^"?u=this.renderInverted(a,o,i,l,t):s===">"?u=this.renderPartial(a,o,i,t):s==="&"?u=this.unescapedValue(a,o):s==="name"?u=this.escapedValue(a,o,t):s==="text"&&(u=this.rawValue(a)),u!==void 0&&(r+=u);return r};zr.prototype.renderSection=function(n,o,i,l,t){var r=this,a="",s=o.lookup(n[1]);function u(b){return r.render(b,o,i,t)}if(s){if(yp(s))for(var f=0,g=s.length;f<g;++f)a+=this.renderTokens(n[4],o.push(s[f]),i,l,t);else if(typeof s=="object"||typeof s=="string"||typeof s=="number")a+=this.renderTokens(n[4],o.push(s),i,l,t);else if(EM(s)){if(typeof l!="string")throw new Error("Cannot use higher-order sections without the original template");s=s.call(o.view,l.slice(n[3],n[5]),u),s!=null&&(a+=s)}else a+=this.renderTokens(n[4],o,i,l,t);return a}};zr.prototype.renderInverted=function(n,o,i,l,t){var r=o.lookup(n[1]);if(!r||yp(r)&&r.length===0)return this.renderTokens(n[4],o,i,l,t)};zr.prototype.indentPartial=function(n,o,i){for(var l=o.replace(/[^ \t]/g,""),t=n.split(`
`),r=0;r<t.length;r++)t[r].length&&(r>0||!i)&&(t[r]=l+t[r]);return t.join(`
`)};zr.prototype.renderPartial=function(n,o,i,l){if(i){var t=this.getConfigTags(l),r=EM(i)?i(n[1]):i[n[1]];if(r!=null){var a=n[6],s=n[5],u=n[4],f=r;s==0&&u&&(f=this.indentPartial(r,u,a));var g=this.parse(f,t);return this.renderTokens(g,o,i,f,l)}}};zr.prototype.unescapedValue=function(n,o){var i=o.lookup(n[1]);if(i!=null)return i};zr.prototype.escapedValue=function(n,o,i){var l=this.getConfigEscape(i)||Jr.escape,t=o.lookup(n[1]);if(t!=null)return typeof t=="number"&&l===Jr.escape?String(t):l(t)};zr.prototype.rawValue=function(n){return n[1]};zr.prototype.getConfigTags=function(n){return yp(n)?n:n&&typeof n=="object"?n.tags:void 0};zr.prototype.getConfigEscape=function(n){if(n&&typeof n=="object"&&!yp(n))return n.escape};var Jr={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){i_.templateCache=e},get templateCache(){return i_.templateCache}},i_=new zr;Jr.clearCache=function(){return i_.clearCache()};Jr.parse=function(n,o){return i_.parse(n,o)};Jr.render=function(n,o,i,l){if(typeof n!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+kbe(n)+'" was given as the first argument for mustache#render(template, view, partials)');return i_.render(n,o,i,l)};Jr.escape=e0e;Jr.Scanner=P_;Jr.Context=cp;Jr.Writer=zr;function NJ(){Jr.escape=e=>e}const o_=e=>{const n=e.split(""),o=[],i=(t,r)=>{for(let a=r;a<n.length;a+=1)if(t.includes(n[a]))return a;return-1};let l=0;for(;l<n.length;)if(n[l]==="{"&&l+1<n.length&&n[l+1]==="{")o.push({type:"literal",text:"{"}),l+=2;else if(n[l]==="}"&&l+1<n.length&&n[l+1]==="}")o.push({type:"literal",text:"}"}),l+=2;else if(n[l]==="{"){const t=i("}",l);if(t<0)throw new Error("Unclosed '{' in template.");o.push({type:"variable",name:n.slice(l+1,t).join("")}),l=t+1}else{if(n[l]==="}")throw new Error("Single '}' in template.");{const t=i("{}",l),r=(t<0?n.slice(l):n.slice(l,t)).join("");o.push({type:"literal",text:r}),l=t<0?n.length:t}}return o},DJ=(e,n=[])=>{const o=[];for(const i of e)if(i[0]==="name"){const l=i[1].includes(".")?i[1].split(".")[0]:i[1];o.push({type:"variable",name:l})}else if(["#","&","^",">"].includes(i[0])){if(o.push({type:"variable",name:i[1]}),i[0]==="#"&&i.length>4&&Array.isArray(i[4])){const l=[...n,i[1]],t=DJ(i[4],l);o.push(...t)}}else o.push({type:"literal",text:i[1]});return o},Tb=e=>{NJ();const n=Jr.parse(e);return DJ(n)},IJ=(e,n)=>o_(e).reduce((o,i)=>{if(i.type==="variable"){if(i.name in n){const l=typeof n[i.name]=="string"?n[i.name]:JSON.stringify(n[i.name]);return o+l}throw new Error(`(f-string) Missing value for input ${i.name}`)}return o+i.text},""),zJ=(e,n)=>(NJ(),Jr.render(e,n)),Mb={"f-string":IJ,mustache:zJ},BJ={"f-string":o_,mustache:Tb},nu=(e,n,o)=>{try{return Mb[n](e,o)}catch(i){throw zb(i,"INVALID_PROMPT_INPUT")}},Pb=(e,n)=>BJ[n](e),A_=(e,n,o)=>{if(!(n in Mb)){const i=Object.keys(Mb);throw new Error(`Invalid template format. Got \`${n}\`;
                         should be one of ${i}`)}try{const i=o.reduce((l,t)=>(l[t]="foo",l),{});Array.isArray(e)?e.forEach(l=>{if(l.type==="text"&&"text"in l&&typeof l.text=="string")nu(l.text,n,i);else if(l.type==="image_url"){if(typeof l.image_url=="string")nu(l.image_url,n,i);else if(typeof l.image_url=="object"&&l.image_url!==null&&"url"in l.image_url&&typeof l.image_url.url=="string"){const t=l.image_url.url;nu(t,n,i)}}else throw new Error(`Invalid message template received. ${JSON.stringify(l,null,2)}`)}):nu(e,n,i)}catch(i){throw new Error(`Invalid prompt schema: ${i.message}`)}};var _n=class Bg extends a_{static lc_name(){return"PromptTemplate"}template;templateFormat="f-string";validateTemplate=!0;additionalContentFields;constructor(n){if(super(n),n.templateFormat==="mustache"&&n.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,n),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),A_(this.template,this.templateFormat,o)}}_getPromptType(){return"prompt"}async format(n){const o=await this.mergePartialAndUserVariables(n);return nu(this.template,this.templateFormat,o)}static fromExamples(n,o,i,l=`

`,t=""){const r=[t,...n,o].join(l);return new Bg({inputVariables:i,template:r})}static fromTemplate(n,o){const{templateFormat:i="f-string",...l}=o??{},t=new Set;return Pb(n,i).forEach(r=>{r.type==="variable"&&t.add(r.name)}),new Bg({inputVariables:[...t],templateFormat:i,template:n,...l})}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},l={...this,inputVariables:o,partialVariables:i};return new Bg(l)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(n){if(!n.template)throw new Error("Prompt template must have a template");return new Bg({inputVariables:n.input_variables,template:n.template,templateFormat:n.template_format})}},ib=class qJ extends M_{static lc_name(){return"ImagePromptTemplate"}lc_namespace=["langchain_core","prompts","image"];template;templateFormat="f-string";validateTemplate=!0;additionalContentFields;constructor(n){if(super(n),this.template=n.template,this.templateFormat=n.templateFormat??this.templateFormat,this.validateTemplate=n.validateTemplate??this.validateTemplate,this.additionalContentFields=n.additionalContentFields,this.validateTemplate){let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),A_([{type:"image_url",image_url:this.template}],this.templateFormat,o)}}_getPromptType(){return"prompt"}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},l={...this,inputVariables:o,partialVariables:i};return new qJ(l)}async format(n){const o={};for(const[r,a]of Object.entries(this.template))typeof a=="string"?o[r]=nu(a,this.templateFormat,n):o[r]=a;const i=n.url||o.url,l=n.detail||o.detail;if(!i)throw new Error("Must provide either an image URL.");if(typeof i!="string")throw new Error("url must be a string.");const t={url:i};return l&&(t.detail=l),t}async formatPromptValue(n){const o=await this.format(n);return new VH(o)}},$1=class extends Bt{lc_namespace=["langchain_core","prompts","dict"];lc_serializable=!0;template;templateFormat;inputVariables;static lc_name(){return"DictPromptTemplate"}constructor(e){const n=e.templateFormat??"f-string",o=F1(e.template,n);super({inputVariables:o,...e}),this.template=e.template,this.templateFormat=n,this.inputVariables=o}async format(e){return V1(this.template,e,this.templateFormat)}async invoke(e){return await this._callWithConfig(this.format.bind(this),e,{runType:"prompt"})}};function F1(e,n){const o=[];for(const i of Object.values(e))if(typeof i=="string")Pb(i,n).forEach(l=>{l.type==="variable"&&o.push(l.name)});else if(Array.isArray(i))for(const l of i)typeof l=="string"?Pb(l,n).forEach(t=>{t.type==="variable"&&o.push(t.name)}):typeof l=="object"&&o.push(...F1(l,n));else typeof i=="object"&&i!==null&&o.push(...F1(i,n));return Array.from(new Set(o))}function V1(e,n,o){const i={};for(const[l,t]of Object.entries(e))if(typeof t=="string")i[l]=nu(t,o,n);else if(Array.isArray(t)){const r=[];for(const a of t)typeof a=="string"?r.push(nu(a,o,n)):typeof a=="object"&&r.push(V1(a,n,o));i[l]=r}else typeof t=="object"&&t!==null?i[l]=V1(t,n,o):i[l]=t;return i}var b0=class extends Bt{lc_namespace=["langchain_core","prompts","chat"];lc_serializable=!0;async invoke(e,n){return this._callWithConfig(o=>this.formatMessages(o),e,{...n,runType:"prompt"})}},G1=class extends b0{static lc_name(){return"MessagesPlaceholder"}variableName;optional;constructor(e){typeof e=="string"&&(e={variableName:e}),super(e),this.variableName=e.variableName,this.optional=e.optional??!1}get inputVariables(){return[this.variableName]}async formatMessages(e){const n=e[this.variableName];if(this.optional&&!n)return[];if(!n){const i=new Error(`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);throw i.name="InputFormatError",i}let o;try{Array.isArray(n)?o=n.map(Wc):o=[Wc(n)]}catch(i){const l=typeof n=="string"?n:JSON.stringify(n,null,2),t=new Error([`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,`Received value: ${l}`,`Additional message: ${i.message}`].join(`

`));throw t.name="InputFormatError",t.lc_error_code=i.lc_error_code,t}return o}},LJ=class extends b0{prompt;constructor(e){"prompt"in e||(e={prompt:e}),super(e),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}},RM=class extends M_{constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){const n=await this.formatMessages(e);return new NT(n)}},UJ=class extends LJ{static lc_name(){return"ChatMessagePromptTemplate"}role;constructor(e,n){"prompt"in e||(e={prompt:e,role:n}),super(e),this.role=e.role}async format(e){return new oc(await this.prompt.format(e),this.role)}static fromTemplate(e,n,o){return new this(_n.fromTemplate(e,{templateFormat:o?.templateFormat}),n)}};function l0e(e){return e===null||typeof e!="object"||Array.isArray(e)?!1:Object.keys(e).length===1&&"text"in e&&typeof e.text=="string"}function u0e(e){return e===null||typeof e!="object"||Array.isArray(e)?!1:"image_url"in e&&(typeof e.image_url=="string"||typeof e.image_url=="object"&&e.image_url!==null&&"url"in e.image_url&&typeof e.image_url.url=="string")}var jM=class extends b0{lc_namespace=["langchain_core","prompts","chat"];lc_serializable=!0;inputVariables=[];additionalOptions={};prompt;messageClass;static _messageClass(){throw new Error("Can not invoke _messageClass from inside _StringImageMessagePromptTemplate")}chatMessageClass;constructor(e,n){if("prompt"in e||(e={prompt:e}),super(e),this.prompt=e.prompt,Array.isArray(this.prompt)){let o=[];this.prompt.forEach(i=>{"inputVariables"in i&&(o=o.concat(i.inputVariables))}),this.inputVariables=o}else this.inputVariables=this.prompt.inputVariables;this.additionalOptions=n??this.additionalOptions}createMessage(e){const n=this.constructor;if(n._messageClass()){const o=n._messageClass();return new o({content:e})}else if(n.chatMessageClass){const o=n.chatMessageClass();return new o({content:e,role:this.getRoleFromMessageClass(o.lc_name())})}else throw new Error("No message class defined")}getRoleFromMessageClass(e){switch(e){case"HumanMessage":return"human";case"AIMessage":return"ai";case"SystemMessage":return"system";case"ChatMessage":return"chat";default:throw new Error("Invalid message class name")}}static fromTemplate(e,n){if(typeof e=="string")return new this(_n.fromTemplate(e,n));const o=[];for(const i of e)if(typeof i=="string")o.push(_n.fromTemplate(i,n));else if(i!==null)if(l0e(i)){let l="";typeof i.text=="string"&&(l=i.text??"");const t={...n,additionalContentFields:i};o.push(_n.fromTemplate(l,t))}else if(u0e(i)){let l=i.image_url??"",t,r=[];if(typeof l=="string"){let a;n?.templateFormat==="mustache"?a=Tb(l):a=o_(l);const s=a.flatMap(u=>u.type==="variable"?[u.name]:[]);if((s?.length??0)>0){if(s.length>1)throw new Error(`Only one format variable allowed per image template.
Got: ${s}
From: ${l}`);r=[s[0]]}else r=[];l={url:l},t=new ib({template:l,inputVariables:r,templateFormat:n?.templateFormat,additionalContentFields:i})}else if(typeof l=="object"){if("url"in l){let a;n?.templateFormat==="mustache"?a=Tb(l.url):a=o_(l.url),r=a.flatMap(s=>s.type==="variable"?[s.name]:[])}else r=[];t=new ib({template:l,inputVariables:r,templateFormat:n?.templateFormat,additionalContentFields:i})}else throw new Error("Invalid image template");o.push(t)}else typeof i=="object"&&o.push(new $1({template:i,templateFormat:n?.templateFormat}));return new this({prompt:o,additionalOptions:n})}async format(e){if(this.prompt instanceof a_){const n=await this.prompt.format(e);return this.createMessage(n)}else{const n=[];for(const o of this.prompt){let i={};if(!("inputVariables"in o))throw new Error(`Prompt ${o} does not have inputVariables defined.`);for(const l of o.inputVariables)i||(i={[l]:e[l]}),i={...i,[l]:e[l]};if(o instanceof a_){const l=await o.format(i);let t;"additionalContentFields"in o&&(t=o.additionalContentFields),l!==""&&n.push({...t,type:"text",text:l})}else if(o instanceof ib){const l=await o.format(i);let t;"additionalContentFields"in o&&(t=o.additionalContentFields),n.push({...t,type:"image_url",image_url:l})}else if(o instanceof $1){const l=await o.format(i);let t;"additionalContentFields"in o&&(t=o.additionalContentFields),n.push({...t,...l})}}return this.createMessage(n)}}async formatMessages(e){return[await this.format(e)]}},xM=class extends jM{static _messageClass(){return It}static lc_name(){return"HumanMessagePromptTemplate"}},$J=class extends jM{static _messageClass(){return Or}static lc_name(){return"AIMessagePromptTemplate"}},FJ=class extends jM{static _messageClass(){return ur}static lc_name(){return"SystemMessagePromptTemplate"}};function c0e(e){return typeof e.formatMessages=="function"}function d0e(e,n){if(c0e(e)||Ju(e))return e;if(Array.isArray(e)&&e[0]==="placeholder"){const l=e[1];if(n?.templateFormat==="mustache"&&typeof l=="string"&&l.slice(0,2)==="{{"&&l.slice(-2)==="}}"){const t=l.slice(2,-2);return new G1({variableName:t,optional:!0})}else if(typeof l=="string"&&l[0]==="{"&&l[l.length-1]==="}"){const t=l.slice(1,-1);return new G1({variableName:t,optional:!0})}throw new Error(`Invalid placeholder template for format ${n?.templateFormat??'"f-string"'}: "${e[1]}". Expected a variable name surrounded by ${n?.templateFormat==="mustache"?"double":"single"} curly braces.`)}const o=Wc(e);let i;if(typeof o.content=="string"?i=o.content:i=o.content.map(l=>"text"in l?{...l,text:l.text}:"image_url"in l?{...l,image_url:l.image_url}:l),o._getType()==="human")return xM.fromTemplate(i,n);if(o._getType()==="ai")return $J.fromTemplate(i,n);if(o._getType()==="system")return FJ.fromTemplate(i,n);if(oc.isInstance(o))return UJ.fromTemplate(o.content,o.role,n);throw new Error(`Could not coerce message prompt template from input. Received message type: "${o._getType()}".`)}function f0e(e){return e.constructor.lc_name()==="MessagesPlaceholder"}var CM=class ob extends RM{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}promptMessages;validateTemplate=!0;templateFormat="f-string";constructor(n){if(super(n),n.templateFormat==="mustache"&&n.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,n),this.validateTemplate){const o=new Set;for(const a of this.promptMessages)if(!(a instanceof Bn))for(const s of a.inputVariables)o.add(s);const i=this.inputVariables,l=new Set(this.partialVariables?i.concat(Object.keys(this.partialVariables)):i),t=new Set([...l].filter(a=>!o.has(a)));if(t.size>0)throw new Error(`Input variables \`${[...t]}\` are not used in any of the prompt messages.`);const r=new Set([...o].filter(a=>!l.has(a)));if(r.size>0)throw new Error(`Input variables \`${[...r]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async _parseImagePrompts(n,o){if(typeof n.content=="string")return n;const i=await Promise.all(n.content.map(async l=>{if(l.type!=="image_url")return l;let t="";typeof l.image_url=="string"?t=l.image_url:typeof l.image_url=="object"&&l.image_url!==null&&"url"in l.image_url&&typeof l.image_url.url=="string"&&(t=l.image_url.url);const a=await _n.fromTemplate(t,{templateFormat:this.templateFormat}).format(o);return typeof l.image_url=="object"&&l.image_url!==null&&"url"in l.image_url?l.image_url.url=a:l.image_url=a,l}));return n.content=i,n}async formatMessages(n){const o=await this.mergePartialAndUserVariables(n);let i=[];for(const l of this.promptMessages)if(l instanceof Bn)i.push(await this._parseImagePrompts(l,o));else{let t;this.templateFormat==="mustache"?t={...o}:t=l.inputVariables.reduce((a,s)=>{if(!(s in o)&&!(f0e(l)&&l.optional))throw zb(new Error(`Missing value for input variable \`${s.toString()}\``),"INVALID_PROMPT_INPUT");return a[s]=o[s],a},{});const r=await l.formatMessages(t);i=i.concat(r)}return i}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},l={...this,inputVariables:o,partialVariables:i};return new ob(l)}static fromTemplate(n,o){const i=_n.fromTemplate(n,o),l=new xM({prompt:i});return this.fromMessages([l])}static fromMessages(n,o){const i=n.reduce((r,a)=>r.concat(a instanceof ob?a.promptMessages:[d0e(a,o)]),[]),l=n.reduce((r,a)=>a instanceof ob?Object.assign(r,a.partialVariables):r,Object.create(null)),t=new Set;for(const r of i)if(!(r instanceof Bn))for(const a of r.inputVariables)a in l||t.add(a);return new this({...o,inputVariables:[...t],promptMessages:i,partialVariables:l,templateFormat:o?.templateFormat})}},h0e=class H1 extends a_{lc_serializable=!1;examples;exampleSelector;examplePrompt;suffix="";exampleSeparator=`

`;prefix="";templateFormat="f-string";validateTemplate=!0;constructor(n){if(super(n),Object.assign(this,n),this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),A_(this.prefix+this.suffix,this.templateFormat,o)}}_getPromptType(){return"few_shot"}static lc_name(){return"FewShotPromptTemplate"}async getExamples(n){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(n);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},l={...this,inputVariables:o,partialVariables:i};return new H1(l)}async format(n){const o=await this.mergePartialAndUserVariables(n),i=await this.getExamples(o),l=await Promise.all(i.map(r=>this.examplePrompt.format(r))),t=[this.prefix,...l,this.suffix].join(this.exampleSeparator);return nu(t,this.templateFormat,o)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(this.outputParser!==void 0)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(n){const{example_prompt:o}=n;if(!o)throw new Error("Missing example prompt");const i=await _n.deserialize(o);let l;if(Array.isArray(n.examples))l=n.examples;else throw new Error("Invalid examples format. Only list or string are supported.");return new H1({inputVariables:n.input_variables,examplePrompt:i,examples:l,exampleSeparator:n.example_separator,prefix:n.prefix,suffix:n.suffix,templateFormat:n.template_format})}},p0e=class VJ extends RM{lc_serializable=!0;examples;exampleSelector;examplePrompt;suffix="";exampleSeparator=`

`;prefix="";templateFormat="f-string";validateTemplate=!0;_getPromptType(){return"few_shot_chat"}static lc_name(){return"FewShotChatMessagePromptTemplate"}constructor(n){if(super(n),this.examples=n.examples,this.examplePrompt=n.examplePrompt,this.exampleSeparator=n.exampleSeparator??`

`,this.exampleSelector=n.exampleSelector,this.prefix=n.prefix??"",this.suffix=n.suffix??"",this.templateFormat=n.templateFormat??"f-string",this.validateTemplate=n.validateTemplate??!0,this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let o=this.inputVariables;this.partialVariables&&(o=o.concat(Object.keys(this.partialVariables))),A_(this.prefix+this.suffix,this.templateFormat,o)}}async getExamples(n){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(n);throw new Error("One of 'examples' and 'example_selector' should be provided")}async formatMessages(n){const o=await this.mergePartialAndUserVariables(n);let i=await this.getExamples(o);i=i.map(t=>{const r={};return this.examplePrompt.inputVariables.forEach(a=>{r[a]=t[a]}),r});const l=[];for(const t of i){const r=await this.examplePrompt.formatMessages(t);l.push(...r)}return l}async format(n){const o=await this.mergePartialAndUserVariables(n),i=await this.getExamples(o),t=(await Promise.all(i.map(a=>this.examplePrompt.formatMessages(a)))).flat().map(a=>a.content),r=[this.prefix,...t,this.suffix].join(this.exampleSeparator);return nu(r,this.templateFormat,o)}async partial(n){const o=this.inputVariables.filter(t=>!(t in n)),i={...this.partialVariables??{},...n},l={...this,inputVariables:o,partialVariables:i};return new VJ(l)}},m0e=class sb extends M_{static lc_name(){return"PipelinePromptTemplate"}pipelinePrompts;finalPrompt;constructor(n){super({...n,inputVariables:[]}),this.pipelinePrompts=n.pipelinePrompts,this.finalPrompt=n.finalPrompt,this.inputVariables=this.computeInputValues()}computeInputValues(){const n=this.pipelinePrompts.map(i=>i.name),o=this.pipelinePrompts.map(i=>i.prompt.inputVariables.filter(l=>!n.includes(l))).flat();return[...new Set(o)]}static extractRequiredInputValues(n,o){return o.reduce((i,l)=>(i[l]=n[l],i),{})}async formatPipelinePrompts(n){const o=await this.mergePartialAndUserVariables(n);for(const{name:i,prompt:l}of this.pipelinePrompts){const t=sb.extractRequiredInputValues(o,l.inputVariables);l instanceof CM?o[i]=await l.formatMessages(t):o[i]=await l.format(t)}return sb.extractRequiredInputValues(o,this.finalPrompt.inputVariables)}async formatPromptValue(n){return this.finalPrompt.formatPromptValue(await this.formatPipelinePrompts(n))}async format(n){return this.finalPrompt.format(await this.formatPipelinePrompts(n))}async partial(n){const o={...this};return o.inputVariables=this.inputVariables.filter(i=>!(i in n)),o.partialVariables={...this.partialVariables??{},...n},new sb(o)}serialize(){throw new Error("Not implemented.")}_getPromptType(){return"pipeline"}};function FV(e){return typeof e=="object"&&e!=null&&"withStructuredOutput"in e&&typeof e.withStructuredOutput=="function"}function g0e(e){return typeof e=="object"&&e!=null&&"lc_id"in e&&Array.isArray(e.lc_id)&&e.lc_id.join("/")==="langchain_core/runnables/RunnableBinding"}var _0e=class GJ extends CM{schema;method;lc_namespace=["langchain_core","prompts","structured"];get lc_aliases(){return{...super.lc_aliases,schema:"schema_"}}constructor(n){super(n),this.schema=n.schema,this.method=n.method}pipe(n){if(FV(n))return super.pipe(n.withStructuredOutput(this.schema));if(g0e(n)&&FV(n.bound))return super.pipe(new Hf({bound:n.bound.withStructuredOutput(this.schema,...this.method?[{method:this.method}]:[]),kwargs:n.kwargs??{},config:n.config,configFactories:n.configFactories}));throw new Error('Structured prompts need to be piped to a language model that supports the "withStructuredOutput()" method.')}static fromMessagesAndSchema(n,o,i){return GJ.fromMessages(n,{schema:o,method:i})}},y0e={};dt(y0e,{AIMessagePromptTemplate:()=>$J,BaseChatPromptTemplate:()=>RM,BaseMessagePromptTemplate:()=>b0,BaseMessageStringPromptTemplate:()=>LJ,BasePromptTemplate:()=>M_,BaseStringPromptTemplate:()=>a_,ChatMessagePromptTemplate:()=>UJ,ChatPromptTemplate:()=>CM,DEFAULT_FORMATTER_MAPPING:()=>Mb,DEFAULT_PARSER_MAPPING:()=>BJ,DictPromptTemplate:()=>$1,FewShotChatMessagePromptTemplate:()=>p0e,FewShotPromptTemplate:()=>h0e,HumanMessagePromptTemplate:()=>xM,ImagePromptTemplate:()=>ib,MessagesPlaceholder:()=>G1,PipelinePromptTemplate:()=>m0e,PromptTemplate:()=>_n,StructuredPrompt:()=>_0e,SystemMessagePromptTemplate:()=>FJ,checkValidTemplate:()=>A_,interpolateFString:()=>IJ,interpolateMustache:()=>zJ,parseFString:()=>o_,parseMustache:()=>Tb,parseTemplate:()=>Pb,renderTemplate:()=>nu});const v0e=8;function b0e(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Er(),l=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`YUV.AI Knowledge Base:
- Founded by Yuval Avidani, an AI Builder and Speaker
- Specializes in AI agents, LLMs, and generative AI training
- Offers workshops for companies in UK, EU, and Israel
- Created Logan AI - an orchestration layer for multi-agent systems
- 17 years of experience in tech, development, research, and cyber security
- Based in Israel
- Active on LinkedIn, X (@yuvalav), and Instagram (@yuval_770)
- Website: https://yuv.ai
- GitHub: @hoodini
- Part of GitHub Stars program`,r=`// Step 1: Define your knowledge base
const knowledgeBase = \`${t}\`;

console.log(' Knowledge base loaded!');
console.log('Total length:', knowledgeBase.length, 'characters');`,a=`// Step 2: Import PromptTemplate for structured prompts
import { PromptTemplate } from '@langchain/core/prompts';

const template = \`You are a helpful assistant with access to the following knowledge base.
Answer the user's question using ONLY information from the knowledge base.
If the answer is not in the knowledge base, say "I don't have that information."

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);

console.log(' Prompt template created!');
console.log('Template variables:', prompt.inputVariables);`,s=`// Step 3: Format the prompt with knowledge and question
import { PromptTemplate } from '@langchain/core/prompts';

const knowledgeBase = \`${t}\`;

const template = \`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);
const formattedPrompt = await prompt.format({
  knowledge: knowledgeBase,
  question: "Who founded YUV.AI?"
});

console.log(' Prompt formatted!');
console.log('Question: Who founded YUV.AI?');`,u=`// Step 4: Query the knowledge base
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

const knowledgeBase = \`${t}\`;

const template = \`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);
const formattedPrompt = await prompt.format({
  knowledge: knowledgeBase,
  question: "Who founded YUV.AI?"
});

const response = await llm.invoke(formattedPrompt);

console.log('Question: Who founded YUV.AI?');
console.log('Answer:', response.content);`,f=`// Complete Example: Knowledge Base Agent
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

const knowledgeBase = \`${t}\`;

const template = \`You are a helpful assistant. Answer using ONLY the knowledge base.
If the answer is not in the knowledge base, say "I don't have that information."

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);

// Ask multiple questions
const questions = [
  "What is Logan AI?",
  "Where is YUV.AI based?",
  "What is Yuval's favorite color?" // Not in knowledge base
];

for (const question of questions) {
  const formattedPrompt = await prompt.format({
    knowledge: knowledgeBase,
    question
  });
  const response = await llm.invoke(formattedPrompt);
  console.log('Q:', question);
  console.log('A:', response.content);
  console.log('');
}`,g=async()=>{try{return{output:` Knowledge base loaded!
Total length: ${t.length} characters`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},b=async()=>{try{return{output:` Prompt template created!
Template variables: ${_n.fromTemplate(`You are a helpful assistant with access to the following knowledge base.
Answer the user's question using ONLY information from the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`).inputVariables.join(", ")}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{return await _n.fromTemplate(`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`).format({knowledge:t,question:"Who founded YUV.AI?"}),{output:` Prompt formatted!
Question: Who founded YUV.AI?`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const v=Nr(e,n,o),x=await _n.fromTemplate(`You are a helpful assistant. Answer using ONLY the knowledge base.

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`).format({knowledge:t,question:"Who founded YUV.AI?"});return{output:`Question: Who founded YUV.AI?
Answer: ${(await v.invoke(x)).content}`,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const v=Nr(e,n,o),j=_n.fromTemplate(`You are a helpful assistant. Answer using ONLY the knowledge base.
If the answer is not in the knowledge base, say "I don't have that information."

KNOWLEDGE BASE:
{knowledge}

USER QUESTION:
{question}

ANSWER:`),x=["What is Logan AI?","Where is YUV.AI based?","What is Yuval's favorite color?"];let A="";for(const M of x){const T=await j.format({knowledge:t,question:M}),D=await v.invoke(T);A+=`Q: ${M}
A: ${D.content}

`}return dd(),i(5,v0e),{output:A,timestamp:Date.now()}}catch(v){return{output:"",error:v instanceof Error?v.message:"Unknown error",timestamp:Date.now()}}};return w.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 sm:space-y-8 animate-fade-in w-full",children:[w.jsx("div",{className:"hero-image-container mb-6 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-cyan-500/30 shadow-2xl",children:w.jsx("img",{src:"/lab5-hero.jpg",alt:"Lab 5: Knowledge Base Integration",className:"w-full h-auto object-cover"})}),w.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4",children:[w.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl shadow-lg flex-shrink-0",children:w.jsx(Hg,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 5: Knowledge Base Integration"}),w.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mt-1",children:"Give your agent access to specific knowledge"})]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[w.jsx(id,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"text-xs sm:text-sm text-blue-900 dark:text-blue-100",children:[w.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),w.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[w.jsx("li",{children:"Creating a simple knowledge base with text"}),w.jsx("li",{children:"Using PromptTemplate to inject knowledge"}),w.jsx("li",{children:"Constraining agents to answer only from provided knowledge"}),w.jsx("li",{children:"Handling questions outside the knowledge base"})]})]})]})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"1"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Define Knowledge Base"})]}),w.jsx(vt,{title:"step-1-knowledge",initialCode:r,description:"Create a text-based knowledge base with relevant information",onExecute:g})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"2"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Create Prompt Template"})]}),w.jsx(vt,{title:"step-2-template",initialCode:a,description:"Use PromptTemplate to structure your prompts with variables",onExecute:b})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"3"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Format Prompt with Data"})]}),w.jsx(vt,{title:"step-3-format",initialCode:s,description:"Inject knowledge and question into the template",onExecute:_})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"4"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Query the Knowledge Base"})]}),w.jsx(vt,{title:"step-4-query",initialCode:u,description:"Send formatted prompt to LLM and get knowledge-based answer",onExecute:p})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg animate-pulse-glow",children:"5"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Knowledge Base Agent"})]}),w.jsx(vt,{title:"complete-kb-agent",initialCode:f,description:"Test with multiple questions - see how it handles unknown info!",onExecute:y})]}),w.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-emerald-50 dark:from-teal-900/20 dark:to-emerald-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-teal-200 dark:border-teal-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-teal-900 dark:text-teal-100 mb-3",children:" Knowledge Base Tips"}),w.jsxs("ul",{className:"space-y-2 text-teal-800 dark:text-teal-200 text-xs sm:text-sm",children:[w.jsx("li",{children:" Keep knowledge organized and structured"}),w.jsx("li",{children:" Instruct the agent to admit when it doesn't know"}),w.jsx("li",{children:" For large knowledge bases, use vector databases (next lab!)"}),w.jsx("li",{children:" Update knowledge base regularly for accuracy"}),w.jsx("li",{children:" Test with questions both inside and outside the knowledge"})]})]}),w.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-green-200 dark:border-green-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-green-900 dark:text-green-100 mb-2",children:" Knowledge Unlocked!"}),w.jsx("p",{className:"text-green-800 dark:text-green-200 text-xs sm:text-sm",children:"You've learned how to give your agent access to specific knowledge! Next, you'll learn about RAG (Retrieval Augmented Generation) with vector search for handling large knowledge bases."})]}),w.jsx(fd,{labId:5})]})}var w0e=Object.defineProperty,S0e=(e,n)=>{for(var o in n)w0e(e,o,{get:n[o],enumerable:!0})};function O0e(e,n){let o=0,i=0,l=0;for(let t=0;t<e.length;t++)o+=e[t]*n[t],i+=e[t]*e[t],l+=n[t]*n[t];return o/(Math.sqrt(i)*Math.sqrt(l))}var Zu=class{pageContent;metadata;id;constructor(e){this.pageContent=e.pageContent!==void 0?e.pageContent.toString():"",this.metadata=e.metadata??{},this.id=e.id}},HJ=class extends Bt{lc_namespace=["langchain_core","documents","transformers"];invoke(e,n){return this.transformDocuments(e)}},E0e=class extends HJ{async transformDocuments(e){const n=[];for(const o of e){const i=await this._transformDocument(o);n.push(i)}return n}},R0e={};dt(R0e,{BaseDocumentTransformer:()=>HJ,Document:()=>Zu,MappingDocumentTransformer:()=>E0e});var j0e={};dt(j0e,{BaseRetriever:()=>KJ});var KJ=class extends Bt{callbacks;tags;metadata;verbose;constructor(e){super(e),this.callbacks=e?.callbacks,this.tags=e?.tags??[],this.metadata=e?.metadata??{},this.verbose=e?.verbose??!1}_getRelevantDocuments(e,n){throw new Error("Not implemented!")}async invoke(e,n){const o=Et(vH(n)),l=await(await Yr.configure(o.callbacks,this.callbacks,o.tags,this.tags,o.metadata,this.metadata,{verbose:this.verbose}))?.handleRetrieverStart(this.toJSON(),e,o.runId,void 0,void 0,void 0,o.runName);try{const t=await this._getRelevantDocuments(e,l);return await l?.handleRetrieverEnd(t),t}catch(t){throw await l?.handleRetrieverError(t),t}}},x0e={};dt(x0e,{SaveableVectorStore:()=>C0e,VectorStore:()=>TM,VectorStoreRetriever:()=>lb});var lb=class extends KJ{static lc_name(){return"VectorStoreRetriever"}get lc_namespace(){return["langchain_core","vectorstores"]}vectorStore;k=4;searchType="similarity";searchKwargs;filter;_vectorstoreType(){return this.vectorStore._vectorstoreType()}constructor(e){super(e),this.vectorStore=e.vectorStore,this.k=e.k??this.k,this.searchType=e.searchType??this.searchType,this.filter=e.filter,e.searchType==="mmr"&&(this.searchKwargs=e.searchKwargs)}async _getRelevantDocuments(e,n){if(this.searchType==="mmr"){if(typeof this.vectorStore.maxMarginalRelevanceSearch!="function")throw new Error(`The vector store backing this retriever, ${this._vectorstoreType()} does not support max marginal relevance search.`);return this.vectorStore.maxMarginalRelevanceSearch(e,{k:this.k,filter:this.filter,...this.searchKwargs},n?.getChild("vectorstore"))}return this.vectorStore.similaritySearch(e,this.k,this.filter,n?.getChild("vectorstore"))}async addDocuments(e,n){return this.vectorStore.addDocuments(e,n)}},TM=class extends Vf{lc_namespace=["langchain","vectorstores",this._vectorstoreType()];embeddings;constructor(e,n){super(n),this.embeddings=e}async delete(e){throw new Error("Not implemented.")}async similaritySearch(e,n=4,o=void 0,i=void 0){return(await this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),n,o)).map(t=>t[0])}async similaritySearchWithScore(e,n=4,o=void 0,i=void 0){return this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),n,o)}static fromTexts(e,n,o,i){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}static fromDocuments(e,n,o){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}asRetriever(e,n,o,i,l,t){if(typeof e=="number")return new lb({vectorStore:this,k:e,filter:n,tags:[...i??[],this._vectorstoreType()],metadata:l,verbose:t,callbacks:o});{const r={vectorStore:this,k:e?.k,filter:e?.filter,tags:[...e?.tags??[],this._vectorstoreType()],metadata:e?.metadata,verbose:e?.verbose,callbacks:e?.callbacks,searchType:e?.searchType};return e?.searchType==="mmr"?new lb({...r,searchKwargs:e.searchKwargs}):new lb({...r})}}},C0e=class extends TM{static load(e,n){throw new Error("Not implemented")}};function T0e(e,n){let o=0,i=0,l=0;for(let t=0;t<e.length;t++)o+=e[t]*n[t],i+=e[t]*e[t],l+=n[t]*n[t];return o/(Math.sqrt(i)*Math.sqrt(l))}function M0e(e,n){let o=0;for(let i=0;i<e.length;i++)o+=e[i]*n[i];return o}function P0e(e,n){let o=0;for(let i=0;i<e.length;i++)o+=(e[i]-n[i])*(e[i]-n[i]);return o}function A0e(e,n){return Math.sqrt(P0e(e,n))}var N0e={};dt(N0e,{cosineSimilarity:()=>K1,euclideanDistance:()=>z0e,innerProduct:()=>I0e,matrixFunc:()=>w0,maximalMarginalRelevance:()=>kJ,normalize:()=>D0e});function w0(e,n,o){if(e.length===0||e[0].length===0||n.length===0||n[0].length===0)return[[]];if(e[0].length!==n[0].length)throw new Error(`Number of columns in X and Y must be the same. X has shape ${[e.length,e[0].length]} and Y has shape ${[n.length,n[0].length]}.`);return e.map(i=>n.map(l=>o(i,l)).map(l=>Number.isNaN(l)?0:l))}function D0e(e,n=!1){const o=B0e(e);return e.map(i=>i.map(l=>n?1-l/o:l/o))}function K1(e,n){return w0(e,n,T0e)}function I0e(e,n){return w0(e,n,M0e)}function z0e(e,n){return w0(e,n,A0e)}function kJ(e,n,o=.5,i=4){if(Math.min(i,n.length)<=0)return[];const l=Array.isArray(e[0])?e:[e],t=K1(l,n)[0],r=YJ(t).maxIndex,a=[n[r]],s=[r];for(;s.length<Math.min(i,n.length);){let u=-1/0,f=-1;const g=K1(n,a);t.forEach((b,_)=>{if(s.includes(_))return;const p=Math.max(...g[_]),y=o*b-(1-o)*p;y>u&&(u=y,f=_)}),a.push(n[f]),s.push(f)}return s}function YJ(e){if(e.length===0)return{maxIndex:-1,maxValue:NaN};let n=e[0],o=0;for(let i=1;i<e.length;i+=1)e[i]>n&&(o=i,n=e[i]);return{maxIndex:o,maxValue:n}}function B0e(e){return e.reduce((n,o)=>Math.max(n,YJ(o).maxValue),0)}var q0e={};S0e(q0e,{MemoryVectorStore:()=>qg});var qg=class WJ extends TM{memoryVectors=[];similarity;_vectorstoreType(){return"memory"}constructor(n,{similarity:o,...i}={}){super(n,i),this.similarity=o??O0e}async addDocuments(n){const o=n.map(({pageContent:i})=>i);return this.addVectors(await this.embeddings.embedDocuments(o),n)}async addVectors(n,o){const i=n.map((l,t)=>({content:o[t].pageContent,embedding:l,metadata:o[t].metadata,id:o[t].id}));this.memoryVectors=this.memoryVectors.concat(i)}async _queryVectors(n,o,i){const l=r=>{if(!i)return!0;const a=new Zu({metadata:r.metadata,pageContent:r.content,id:r.id});return i(a)};return this.memoryVectors.filter(l).map((r,a)=>({similarity:this.similarity(n,r.embedding),index:a,metadata:r.metadata,content:r.content,embedding:r.embedding,id:r.id})).sort((r,a)=>r.similarity>a.similarity?-1:0).slice(0,o)}async similaritySearchVectorWithScore(n,o,i){return(await this._queryVectors(n,o,i)).map(r=>[new Zu({metadata:r.metadata,pageContent:r.content,id:r.id}),r.similarity])}async maxMarginalRelevanceSearch(n,o){const i=await this.embeddings.embedQuery(n),l=await this._queryVectors(i,o.fetchK??20,o.filter),t=l.map(a=>a.embedding);return kJ(i,t,o.lambda,o.k).map(a=>new Zu({metadata:l[a].metadata,pageContent:l[a].content,id:l[a].id}))}static async fromTexts(n,o,i,l){const t=[];for(let r=0;r<n.length;r+=1){const a=Array.isArray(o)?o[r]:o,s=new Zu({pageContent:n[r],metadata:a});t.push(s)}return WJ.fromDocuments(t,i,l)}static async fromDocuments(n,o,i){const l=new this(o,i);return await l.addDocuments(n),l}static async fromExistingIndex(n,o){return new this(n,o)}};const L0e=8;function U0e(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Er(),l=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=["Large Language Models (LLMs) are neural networks trained on massive amounts of text data. They can understand and generate human-like text. Popular examples include GPT-4, Claude, and Llama.","Vector embeddings are numerical representations of text that capture semantic meaning. Similar texts have similar embedding vectors, which enables semantic search.","RAG (Retrieval-Augmented Generation) combines information retrieval with text generation. It retrieves relevant documents from a knowledge base and uses them as context for the LLM.","Cohere provides enterprise-grade AI models including embeddings, reranking, and generation. Their embed-english-v3.0 model creates high-quality semantic embeddings.","Reranking improves search results by re-scoring retrieved documents based on relevance to the query. Cohere's rerank model achieves state-of-the-art performance.","Semantic similarity is measured using cosine similarity between embedding vectors. Scores range from -1 (opposite) to 1 (identical), with higher scores indicating greater similarity.","Chunking is the process of splitting long documents into smaller pieces. Good chunk size balances context (larger chunks) with precision (smaller chunks). Common sizes: 256-1024 tokens.","Vector databases like Pinecone, Weaviate, and Chroma store embeddings efficiently and enable fast similarity search at scale. They're essential for production RAG systems."],r=`// Step 1: Document Chunking - See How Documents are Split
const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data. They can understand and generate human-like text. Popular examples include GPT-4, Claude, and Llama.",
  "Vector embeddings are numerical representations of text that capture semantic meaning. Similar texts have similar embedding vectors, which enables semantic search.",
  "RAG (Retrieval-Augmented Generation) combines information retrieval with text generation. It retrieves relevant documents from a knowledge base and uses them as context for the LLM.",
  "Cohere provides enterprise-grade AI models including embeddings, reranking, and generation. Their embed-english-v3.0 model creates high-quality semantic embeddings.",
];

console.log(' Total Documents:', documents.length);
console.log('\\n--- Document Chunks ---');
documents.forEach((doc, i) => {
  console.log(\`\\nChunk \${i + 1}:\`);
  console.log(\`Length: \${doc.length} characters\`);
  console.log(\`Preview: \${doc.substring(0, 80)}...\`);
});

console.log('\\n Documents chunked and ready for embedding!');`,a=`// Step 2: Create Embeddings - See the Magic of Vector Representation!
import { CohereEmbeddings } from '@langchain/cohere';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

// Embed a single query to see what embeddings look like
const query = "What are embeddings?";
const queryEmbedding = await embeddings.embedQuery(query);

console.log(' EMBEDDING VISUALIZATION');
console.log('Query:', query);
console.log('\\nEmbedding Details:');
console.log('- Dimensions:', queryEmbedding.length);
console.log('- Type: Float32 vector');
console.log('\\nFirst 10 dimensions:', queryEmbedding.slice(0, 10).map(n => n.toFixed(4)));
console.log('Last 10 dimensions:', queryEmbedding.slice(-10).map(n => n.toFixed(4)));
console.log('\\n This vector captures the MEANING of your query!');
console.log(' Similar texts will have similar vectors!');`,s=`// Step 3: Build Vector Store - Create Searchable Knowledge Base
import { CohereEmbeddings } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
];

// Convert to LangChain Document objects
const docs = documents.map(text => new Document({ pageContent: text }));

// Create vector store - this embeds ALL documents!
console.log(' Embedding all documents...');
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

console.log(\`\\n Created vector store with \${documents.length} documents\`);
console.log(' Each document is now a vector in semantic space');
console.log(' Ready for similarity search!');`,u=`// Step 4: Similarity Search - Find Relevant Documents
import { CohereEmbeddings } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
  "Semantic similarity is measured using cosine similarity between vectors.",
  "Chunking splits long documents into smaller pieces for better retrieval.",
];

const docs = documents.map(text => new Document({ pageContent: text }));
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

// Perform similarity search with scores!
const query = "How do you measure if two texts are similar?";
const results = await vectorStore.similaritySearchWithScore(query, 3);

console.log(' SIMILARITY SEARCH RESULTS');
console.log('Query:', query);
console.log('\\nTop 3 Most Relevant Documents:\\n');

results.forEach(([doc, score], i) => {
  console.log(\`Rank \${i + 1}: (Similarity: \${score.toFixed(4)})\`);
  console.log(\`"\${doc.pageContent}"\`);
  console.log('');
});

console.log(' Higher scores = more relevant!');`,f=`// Step 5: Cohere Reranking - Boost Accuracy with Advanced Reranking!
import { CohereEmbeddings, CohereRerank } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
  "Semantic similarity is measured using cosine similarity between vectors.",
  "Chunking splits long documents into smaller pieces for better retrieval.",
  "Reranking improves search results by re-scoring based on true relevance.",
  "Vector databases enable fast similarity search at production scale.",
];

const docs = documents.map(text => new Document({ pageContent: text }));
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

const query = "How can I improve search accuracy?";

// Step 1: Get initial results from vector search
const initialResults = await vectorStore.similaritySearchWithScore(query, 5);

console.log(' BEFORE RERANKING (Vector Search Only):\\n');
initialResults.forEach(([doc, score], i) => {
  console.log(\`\${i + 1}. Score: \${score.toFixed(4)} | \${doc.pageContent.substring(0, 60)}...\`);
});

// Step 2: Rerank with Cohere for better relevance
const reranker = new CohereRerank({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'rerank-english-v3.0',
  topN: 3,
});

const rerankedDocs = await reranker.compressDocuments(
  initialResults.map(([doc]) => doc),
  query
);

console.log('\\n AFTER RERANKING (Cohere Rerank):\\n');
rerankedDocs.forEach((doc, i) => {
  const relevanceScore = doc.metadata.relevanceScore || 0;
  console.log(\`\${i + 1}. Relevance: \${relevanceScore.toFixed(4)} | \${doc.pageContent.substring(0, 60)}...\`);
});

console.log('\\n Reranking found the MOST relevant results!');
console.log(' Notice how "Reranking improves search" moved to the top!');`,g=`// Step 6: Complete RAG System - Question Answering with Retrieved Context
import { CohereEmbeddings, CohereRerank } from '@langchain/cohere';
import { MemoryVectorStore } from '@langchain/classic/vectorstores/memory';
import { Document } from '@langchain/core/documents';
import { PromptTemplate } from '@langchain/core/prompts';

const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

const embeddings = new CohereEmbeddings({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'embed-english-v3.0',
});

const documents = [
  "Large Language Models (LLMs) are neural networks trained on massive amounts of text data.",
  "Vector embeddings are numerical representations that capture semantic meaning.",
  "RAG combines information retrieval with text generation.",
  "Cohere provides enterprise-grade AI models including embeddings and reranking.",
  "Semantic similarity is measured using cosine similarity between vectors.",
  "Chunking splits long documents into smaller pieces for better retrieval.",
  "Reranking improves search results by re-scoring based on true relevance.",
  "Vector databases enable fast similarity search at production scale.",
];

const docs = documents.map(text => new Document({ pageContent: text }));
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);

const query = "What is RAG and how does it work?";

// Retrieve and rerank
const initialResults = await vectorStore.similaritySearchWithScore(query, 5);
const reranker = new CohereRerank({
  apiKey: '${e?"***YOUR_API_KEY***":"your-cohere-api-key"}',
  model: 'rerank-english-v3.0',
  topN: 3,
});
const relevantDocs = await reranker.compressDocuments(
  initialResults.map(([doc]) => doc),
  query
);

// Generate answer using retrieved context
const context = relevantDocs.map(doc => doc.pageContent).join('\\n');
const template = \`Answer the question using ONLY the context below.

CONTEXT:
{context}

QUESTION: {question}

ANSWER:\`;

const prompt = PromptTemplate.fromTemplate(template);
const formattedPrompt = await prompt.format({ context, question: query });
const answer = await llm.invoke(formattedPrompt);

console.log(' Question:', query);
console.log('\\n Retrieved Context (Top 3 after reranking):\\n');
relevantDocs.forEach((doc, i) => {
  console.log(\`\${i + 1}. \${doc.pageContent}\`);
});
console.log('\\n Generated Answer:\\n');
console.log(answer.content);
console.log('\\n Complete RAG pipeline: Retrieve  Rerank  Generate!');`,b=async()=>{try{let j=` Total Documents: ${t.length}

--- Document Chunks ---`;return t.slice(0,4).forEach((x,A)=>{j+=`

Chunk ${A+1}:`,j+=`
Length: ${x.length} characters`,j+=`
Preview: ${x.substring(0,80)}...`}),j+=`

 Documents chunked and ready for embedding!`,{output:j,timestamp:Date.now()}}catch(j){return{output:"",error:j instanceof Error?j.message:"Unknown error",timestamp:Date.now()}}},_=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const j=new Cg({apiKey:e,model:"embed-english-v3.0"}),x="What are embeddings?",A=await j.embedQuery(x);return{output:` EMBEDDING VISUALIZATION
Query: ${x}

Embedding Details:
- Dimensions: ${A.length}
- Type: Float32 vector

First 10 dimensions: ${A.slice(0,10).map(T=>T.toFixed(4)).join(", ")}
Last 10 dimensions: ${A.slice(-10).map(T=>T.toFixed(4)).join(", ")}

 This vector captures the MEANING of your query!
 Similar texts will have similar vectors!`,timestamp:Date.now()}}catch(j){return{output:"",error:j instanceof Error?j.message:"Unknown error",timestamp:Date.now()}}},p=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const j=new Cg({apiKey:e,model:"embed-english-v3.0"}),x=t.slice(0,4).map(M=>new Zu({pageContent:M})),A=` Embedding all documents...
`;return await qg.fromDocuments(x,j),{output:A+`
 Created vector store with ${x.length} documents
 Each document is now a vector in semantic space
 Ready for similarity search!`,timestamp:Date.now()}}catch(j){return{output:"",error:j instanceof Error?j.message:"Unknown error",timestamp:Date.now()}}},y=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const j=new Cg({apiKey:e,model:"embed-english-v3.0"}),x=t.slice(0,6).map(P=>new Zu({pageContent:P})),A=await qg.fromDocuments(x,j),M="How do you measure if two texts are similar?",T=await A.similaritySearchWithScore(M,3);let D=` SIMILARITY SEARCH RESULTS
`;return D+=`Query: ${M}

Top 3 Most Relevant Documents:

`,T.forEach(([P,F],q)=>{D+=`Rank ${q+1}: (Similarity: ${F.toFixed(4)})
`,D+=`"${P.pageContent}"

`}),D+=" Higher scores = more relevant!",{output:D,timestamp:Date.now()}}catch(j){return{output:"",error:j instanceof Error?j.message:"Unknown error",timestamp:Date.now()}}},v=async()=>{try{if(!e)throw new Error("Please configure your Cohere API key in Settings");const j=new Cg({apiKey:e,model:"embed-english-v3.0"}),x=t.map(q=>new Zu({pageContent:q})),A=await qg.fromDocuments(x,j),M="How can I improve search accuracy?",T=await A.similaritySearchWithScore(M,5);let D=` BEFORE RERANKING (Vector Search Only):

`;T.forEach(([q,B],S)=>{D+=`${S+1}. Score: ${B.toFixed(4)} | ${q.pageContent.substring(0,60)}...
`});const F=await new MV({apiKey:e,model:"rerank-english-v3.0",topN:3}).compressDocuments(T.map(([q])=>q),M);return D+=`
 AFTER RERANKING (Cohere Rerank):

`,F.forEach((q,B)=>{const S=q.metadata.relevanceScore||0;D+=`${B+1}. Relevance: ${S.toFixed(4)} | ${q.pageContent.substring(0,60)}...
`}),D+=`
 Reranking found the MOST relevant results!`,D+=`
 Notice how "Reranking improves search" moved to the top!`,{output:D,timestamp:Date.now()}}catch(j){return{output:"",error:j instanceof Error?j.message:"Unknown error",timestamp:Date.now()}}},E=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const j=Nr(e,n,o),x=new Cg({apiKey:e,model:"embed-english-v3.0"}),A=t.map($=>new Zu({pageContent:$})),M=await qg.fromDocuments(A,x),T="What is RAG and how does it work?",D=await M.similaritySearchWithScore(T,5),F=await new MV({apiKey:e,model:"rerank-english-v3.0",topN:3}).compressDocuments(D.map(([$])=>$),T),q=F.map($=>$.pageContent).join(`
`),H=await _n.fromTemplate(`Answer the question using ONLY the context below.

CONTEXT:
{context}

QUESTION: {question}

ANSWER:`).format({context:q,question:T}),Y=await j.invoke(H);let W=` Question: ${T}

 Retrieved Context (Top 3 after reranking):

`;return F.forEach(($,k)=>{W+=`${k+1}. ${$.pageContent}
`}),W+=`
 Generated Answer:

`,W+=Y.content,W+=`

 Complete RAG pipeline: Retrieve  Rerank  Generate!`,dd(),i(6,L0e),{output:W,timestamp:Date.now()}}catch(j){return{output:"",error:j instanceof Error?j.message:"Unknown error",timestamp:Date.now()}}};return w.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 sm:space-y-8 animate-fade-in w-full",children:[w.jsx("div",{className:"hero-image-container mb-6 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-cyan-500/30 shadow-2xl",children:w.jsx("img",{src:"/lab6-hero.jpg",alt:"Lab 6: RAG Deep Dive",className:"w-full h-auto object-cover"})}),w.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4",children:[w.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl shadow-lg flex-shrink-0",children:w.jsx(DD,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 6: RAG Deep Dive"}),w.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mt-1",children:"Master embeddings, vector search, and reranking"})]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[w.jsx(id,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"text-xs sm:text-sm text-blue-900 dark:text-blue-100",children:[w.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn in depth:"}),w.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[w.jsx("li",{children:"How document chunking works and why it matters"}),w.jsx("li",{children:"What embeddings look like under the hood (actual vectors!)"}),w.jsx("li",{children:"Similarity search with cosine similarity scores"}),w.jsx("li",{children:"Cohere reranking for improved accuracy"}),w.jsx("li",{children:"Complete RAG pipeline with real code"})]})]})]})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"1"}),w.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[w.jsx(GC,{className:"w-5 h-5"}),"Document Chunking"]})]}),w.jsx(vt,{title:"step-1-chunking",initialCode:r,description:"See how documents are split into chunks for processing",onExecute:b})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"2"}),w.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[w.jsx(vu,{className:"w-5 h-5"}),"Vector Embeddings Revealed"]})]}),w.jsx(vt,{title:"step-2-embeddings",initialCode:a,description:"See actual embedding vectors - the magic behind semantic search!",onExecute:_})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"3"}),w.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[w.jsx(Hg,{className:"w-5 h-5"}),"Build Vector Store"]})]}),w.jsx(vt,{title:"step-3-vectorstore",initialCode:s,description:"Create a searchable vector database from documents",onExecute:p})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-orange-500 to-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"4"}),w.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[w.jsx(DD,{className:"w-5 h-5"}),"Similarity Search"]})]}),w.jsx(vt,{title:"step-4-similarity",initialCode:u,description:"Find relevant documents using vector similarity with scores!",onExecute:y})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-pink-500 to-rose-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"5"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Cohere Reranking"})]}),w.jsx(vt,{title:"step-5-reranking",initialCode:f,description:"Boost accuracy with Cohere's state-of-the-art reranking!",onExecute:v})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg animate-pulse-glow",children:"6"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete RAG System"})]}),w.jsx(vt,{title:"complete-rag-system",initialCode:g,description:"Full RAG pipeline: Chunk  Embed  Search  Rerank  Generate!",onExecute:E})]}),w.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/20 dark:to-purple-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-violet-200 dark:border-violet-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-violet-900 dark:text-violet-100 mb-3",children:" What You Just Learned"}),w.jsxs("ul",{className:"space-y-2 text-violet-800 dark:text-violet-200 text-xs sm:text-sm",children:[w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Chunking:"})," How to split documents into processable pieces"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Embeddings:"})," Saw actual vector representations (1024 dimensions!)"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Vector Search:"})," Understanding cosine similarity scores"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Reranking:"})," Cohere's advanced relevance scoring"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"RAG Pipeline:"})," End-to-end retrieval and generation"]})]})]}),w.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-blue-200 dark:border-blue-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-blue-900 dark:text-blue-100 mb-3",children:" Production RAG Tips"}),w.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-200 text-xs sm:text-sm",children:[w.jsx("li",{children:" Use production vector databases: Pinecone, Weaviate, Chroma, or Qdrant"}),w.jsx("li",{children:" Optimal chunk size: 256-512 tokens with 50-100 token overlap"}),w.jsx("li",{children:" Always rerank your top results for best accuracy"}),w.jsx("li",{children:" Cache embeddings to reduce API costs"}),w.jsx("li",{children:" Monitor retrieval quality with metrics"})]})]}),w.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-green-200 dark:border-green-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-green-900 dark:text-green-100 mb-2",children:" RAG Mastered!"}),w.jsx("p",{className:"text-green-800 dark:text-green-200 text-xs sm:text-sm",children:"You now understand RAG deeply - from raw text to semantic vectors to intelligent retrieval! This powers ChatGPT plugins, documentation bots, and enterprise AI systems. Next: multi-agent collaboration!"})]}),w.jsx(fd,{labId:6})]})}const $0e=8;function F0e(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Er(),l=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Create specialized agents with different roles
const researcherPrompt = "You are a research specialist. Gather and summarize facts.";
const writerPrompt = "You are a creative writer. Write engaging content.";

console.log(' Researcher agent: Gathers facts');
console.log(' Writer agent: Creates content');
console.log(' Each agent has unique expertise');`,r=`// Step 2: Researcher agent gathers information
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

const researcherMessages = [
  new SystemMessage("You are a research specialist. Provide 3 key facts about the topic."),
  new HumanMessage("Research: AI Agents")
];

const research = await llm.invoke(researcherMessages);

console.log('Researcher Output:');
console.log(research.content);`,a=`// Step 3: Writer agent creates content from research
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

// First: Researcher gathers facts
const researcherMessages = [
  new SystemMessage("You are a research specialist. Provide 3 key facts about the topic."),
  new HumanMessage("Research: AI Agents")
];
const research = await llm.invoke(researcherMessages);

// Then: Writer creates article from facts
const writerMessages = [
  new SystemMessage("You are a creative writer. Write a short engaging paragraph using these facts."),
  new HumanMessage(\`Facts: \${research.content}\`)
];
const article = await llm.invoke(writerMessages);

console.log('Research Phase:');
console.log(research.content);
console.log('');
console.log('Writing Phase:');
console.log(article.content);`,s=async()=>{try{return{output:` Researcher agent: Gathers facts
 Writer agent: Creates content
 Each agent has unique expertise`,timestamp:Date.now()}}catch(g){return{output:"",error:g instanceof Error?g.message:"Unknown error",timestamp:Date.now()}}},u=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const g=Nr(e,n,o),b=[new ur("You are a research specialist. Provide 3 key facts about the topic."),new It("Research: AI Agents")];return{output:`Researcher Output:
${(await g.invoke(b)).content}`,timestamp:Date.now()}}catch(g){return{output:"",error:g instanceof Error?g.message:"Unknown error",timestamp:Date.now()}}},f=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const g=Nr(e,n,o),b=[new ur("You are a research specialist. Provide 3 key facts about the topic."),new It("Research: AI Agents")],_=await g.invoke(b),p=[new ur("You are a creative writer. Write a short engaging paragraph using these facts."),new It(`Facts: ${_.content}`)],y=await g.invoke(p);return dd(),i(7,$0e),{output:`Research Phase:
${_.content}

Writing Phase:
${y.content}`,timestamp:Date.now()}}catch(g){return{output:"",error:g instanceof Error?g.message:"Unknown error",timestamp:Date.now()}}};return w.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 sm:space-y-8 animate-fade-in w-full",children:[w.jsx("div",{className:"hero-image-container mb-6 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-cyan-500/30 shadow-2xl",children:w.jsx("img",{src:"/lab7-hero.jpg",alt:"Lab 7: Multi-Agent Collaboration",className:"w-full h-auto object-cover"})}),w.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4",children:[w.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg flex-shrink-0",children:w.jsx(YV,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 7: Multi-Agent Collaboration"}),w.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mt-1",children:"Multiple AI agents working together"})]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[w.jsx(id,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"text-xs sm:text-sm text-blue-900 dark:text-blue-100",children:[w.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),w.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[w.jsx("li",{children:"Creating multiple agents with different roles"}),w.jsx("li",{children:"Coordinating agent workflows"}),w.jsx("li",{children:"Passing outputs between agents"}),w.jsx("li",{children:"Building complex multi-agent systems"})]})]})]})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"1"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Define Agent Roles"})]}),w.jsx(vt,{title:"step-1-roles",initialCode:t,description:"Create specialized agents with unique system prompts",onExecute:s})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"2"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Researcher Agent"})]}),w.jsx(vt,{title:"step-2-researcher",initialCode:r,description:"First agent gathers facts and information",onExecute:u})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg animate-pulse-glow",children:"3"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Multi-Agent Workflow"})]}),w.jsx(vt,{title:"complete-collaboration",initialCode:a,description:"Researcher  Writer pipeline - agents collaborating!",onExecute:f})]}),w.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-blue-200 dark:border-blue-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-blue-900 dark:text-blue-100 mb-3",children:" Multi-Agent Patterns"}),w.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-200 text-xs sm:text-sm",children:[w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Pipeline:"})," Sequential processing (Agent A  Agent B  Agent C)"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Parallel:"})," Multiple agents work simultaneously"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Hierarchical:"})," Manager agent coordinates worker agents"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Collaborative:"})," Agents debate and refine outputs together"]})]})]}),w.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-green-200 dark:border-green-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-green-900 dark:text-green-100 mb-2",children:" Collaboration Unlocked!"}),w.jsx("p",{className:"text-green-800 dark:text-green-200 text-xs sm:text-sm",children:"You've built a multi-agent system! Combining specialized agents creates powerful workflows. Next, you'll learn about orchestrator agents that intelligently route requests!"})]}),w.jsx(fd,{labId:7})]})}const V0e=8;function G0e(){const{apiKey:e,provider:n,selectedModel:o,markLabCompleteAndAdvance:i}=Er(),l=()=>n==="groq"?`
  configuration: {
    baseURL: 'https://api.groq.com/openai/v1',
  },`:n==="cohere"?`
  configuration: {
    baseURL: 'https://api.cohere.com/v1',
  },`:"",t=`// Step 1: Understand orchestrator concept
// An orchestrator agent:
// 1. Receives user request
// 2. Analyzes the request type
// 3. Routes to the appropriate specialist agent
// 4. Returns the specialist's response

console.log(' Orchestrator = Smart Router');
console.log(' Routes requests to right specialist');
console.log(' Like a manager delegating tasks');`,r=`// Step 2: Create routing logic
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

const userQuery = "What are the benefits of AI agents?";

// Router analyzes query and decides which agent to use
const routerMessages = [
  new SystemMessage(\`You are a router. Analyze the query and respond with ONLY one word:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions
- "GENERAL" for general information\`),
  new HumanMessage(userQuery)
];

const routing = await llm.invoke(routerMessages);

console.log('Query:', userQuery);
console.log('Route to:', routing.content, 'agent');`,a=`// Step 3: Complete orchestrator with routing
const llm = new ChatOpenAI({
  openAIApiKey: '${e?"***YOUR_API_KEY***":"your-api-key-here"}',
  modelName: '${o}',${l()}
});

const userQuery = "How do I implement an AI agent with memory?";

// Step 1: Router decides which specialist
const routerMessages = [
  new SystemMessage(\`You are a router. Respond with ONLY:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions\`),
  new HumanMessage(userQuery)
];
const routing = await llm.invoke(routerMessages);

// Step 2: Route to appropriate specialist
let specialistMessages;
if (routing.content.includes('TECHNICAL')) {
  specialistMessages = [
    new SystemMessage("You are a technical AI expert. Provide code examples and implementation details."),
    new HumanMessage(userQuery)
  ];
} else {
  specialistMessages = [
    new SystemMessage("You are a business AI strategist. Focus on ROI and business value."),
    new HumanMessage(userQuery)
  ];
}

const response = await llm.invoke(specialistMessages);

console.log('Query:', userQuery);
console.log('Routed to:', routing.content);
console.log('');
console.log('Specialist Response:');
console.log(response.content);`,s=async()=>{try{return{output:` Orchestrator = Smart Router
 Routes requests to right specialist
 Like a manager delegating tasks`,timestamp:Date.now()}}catch(g){return{output:"",error:g instanceof Error?g.message:"Unknown error",timestamp:Date.now()}}},u=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const g=Nr(e,n,o),b="What are the benefits of AI agents?",_=[new ur(`You are a router. Analyze the query and respond with ONLY one word:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions
- "GENERAL" for general information`),new It(b)],p=await g.invoke(_);return{output:`Query: ${b}
Route to: ${p.content} agent`,timestamp:Date.now()}}catch(g){return{output:"",error:g instanceof Error?g.message:"Unknown error",timestamp:Date.now()}}},f=async()=>{try{if(!e)throw new Error("Please configure your API key in Settings");const g=Nr(e,n,o),b="How do I implement an AI agent with memory?",_=[new ur(`You are a router. Respond with ONLY:
- "TECHNICAL" for technical/implementation questions
- "BUSINESS" for business/strategy questions`),new It(b)],p=await g.invoke(_);let y;p.content.toString().includes("TECHNICAL")?y=[new ur("You are a technical AI expert. Provide code examples and implementation details."),new It(b)]:y=[new ur("You are a business AI strategist. Focus on ROI and business value."),new It(b)];const v=await g.invoke(y);return dd(),i(8,V0e),{output:`Query: ${b}
Routed to: ${p.content}

Specialist Response:
${v.content}`,timestamp:Date.now()}}catch(g){return{output:"",error:g instanceof Error?g.message:"Unknown error",timestamp:Date.now()}}};return w.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 sm:space-y-8 animate-fade-in w-full",children:[w.jsx("div",{className:"hero-image-container mb-6 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-cyan-500/30 shadow-2xl",children:w.jsx("img",{src:"/lab8-hero.jpg",alt:"Lab 8: Orchestrator Agent",className:"w-full h-auto object-cover"})}),w.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 border border-slate-200 dark:border-slate-700",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4",children:[w.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl shadow-lg flex-shrink-0",children:w.jsx(kV,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Lab 8: Orchestrator Agent"}),w.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mt-1",children:"Intelligent routing to specialist agents"})]})]}),w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[w.jsx(id,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{className:"text-xs sm:text-sm text-blue-900 dark:text-blue-100",children:[w.jsx("p",{className:"font-semibold mb-2",children:"What you'll learn:"}),w.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[w.jsx("li",{children:"Creating an orchestrator/router agent"}),w.jsx("li",{children:"Analyzing user intent to route requests"}),w.jsx("li",{children:"Connecting multiple specialist agents"}),w.jsx("li",{children:"Building intelligent agent architectures"})]})]})]})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"1"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Orchestrator Concept"})]}),w.jsx(vt,{title:"step-1-concept",initialCode:t,description:"Understanding the orchestrator pattern",onExecute:s})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-cyan-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg",children:"2"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Router Logic"})]}),w.jsx(vt,{title:"step-2-router",initialCode:r,description:"Analyze queries and route to the right specialist",onExecute:u})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-amber-500 to-orange-600 text-white rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg animate-pulse-glow",children:"3"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Complete Orchestrator"})]}),w.jsx(vt,{title:"complete-orchestrator",initialCode:a,description:"Full orchestrator system with routing and specialists!",onExecute:f})]}),w.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-amber-200 dark:border-amber-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-amber-900 dark:text-amber-100 mb-3",children:" Orchestrator Use Cases"}),w.jsxs("ul",{className:"space-y-2 text-amber-800 dark:text-amber-200 text-xs sm:text-sm",children:[w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Customer Support:"})," Route to billing, technical, or sales specialists"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Content Creation:"})," Route to research, writing, or editing agents"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Data Analysis:"})," Route to SQL, visualization, or reporting agents"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Complex Workflows:"})," Coordinate multi-step processes efficiently"]})]})]}),w.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-green-200 dark:border-green-800",children:[w.jsx("h3",{className:"text-sm sm:text-base font-semibold text-green-900 dark:text-green-100 mb-2",children:" Congratulations - You're an AI Agent Expert!"}),w.jsx("p",{className:"text-green-800 dark:text-green-200 text-xs sm:text-sm mb-3",children:"You've completed all 8 labs! You now understand:"}),w.jsxs("ul",{className:"space-y-1 text-green-800 dark:text-green-200 text-xs sm:text-sm list-disc list-inside",children:[w.jsx("li",{children:"AI Agent components (LLM, Tools, Memory)"}),w.jsx("li",{children:"Prompt/Response patterns"}),w.jsx("li",{children:"System prompts and personality"}),w.jsx("li",{children:"Conversation memory"}),w.jsx("li",{children:"Knowledge base integration"}),w.jsx("li",{children:"RAG (Retrieval-Augmented Generation)"}),w.jsx("li",{children:"Multi-agent collaboration"}),w.jsx("li",{children:"Orchestrator patterns"})]}),w.jsx("p",{className:"text-green-800 dark:text-green-200 text-xs sm:text-sm mt-3",children:"You're ready to build production AI agent systems! "})]}),w.jsx(fd,{labId:8})]})}function H0e(){const{language:e}=Er();return w.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-6 sm:space-y-8 animate-fade-in",children:[w.jsx("div",{className:"hero-image-container mb-6 sm:mb-8 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-purple-500/30 shadow-2xl",children:w.jsx("img",{src:"/bonus.jpg",alt:"Bonus: Prompt Engineering vs Context Engineering",className:"w-full h-auto object-cover"})}),w.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-cyan-900/40 rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 border-2 border-purple-500/30 shadow-2xl",children:[w.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[w.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-purple-500 to-cyan-600 rounded-lg sm:rounded-xl shadow-lg",children:w.jsx(vu,{className:"w-6 h-6 sm:w-8 md:w-10 sm:h-8 md:h-10 text-white"})}),w.jsxs("div",{children:[w.jsx("div",{className:"text-xs sm:text-sm text-purple-400 font-mono mb-1",children:be(e,"bonus.label")}),w.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-white leading-tight",children:be(e,"bonus.title")})]})]}),w.jsx("p",{className:"text-sm sm:text-base md:text-lg text-white/80 leading-relaxed",children:be(e,"bonus.subtitle")})]}),w.jsx("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-6 border border-cyan-500/30",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-4xl text-cyan-400",children:'"'}),w.jsxs("div",{children:[w.jsx("p",{className:"text-lg text-white/90 italic mb-4",children:be(e,"bonus.tobiQuote")}),w.jsx("p",{className:"text-sm text-cyan-400 font-semibold",children:" Tobi Ltke, CEO of Shopify"})]})]})}),w.jsxs("section",{className:"bg-gradient-to-br from-blue-900/30 to-slate-900/50 rounded-xl p-6 border border-blue-500/30",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:w.jsx(ND,{className:"w-6 h-6 text-blue-400"})}),w.jsx("h2",{className:"text-2xl font-bold text-white",children:be(e,"bonus.promptEngTitle")})]}),w.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:be(e,"bonus.promptEngDesc")}),w.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[w.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-3",children:be(e,"bonus.promptEngExample")}),w.jsxs("div",{className:"font-mono text-sm bg-slate-900/80 rounded p-4 text-green-400 border border-slate-700",children:[w.jsxs("p",{className:"text-slate-500 mb-2",children:["# ",be(e,"bonus.simplePrompt")]}),w.jsx("p",{children:'"Write a poem about summer"'}),w.jsxs("p",{className:"text-slate-500 mt-4 mb-2",children:["# ",be(e,"bonus.betterPrompt")]}),w.jsx("p",{children:'"Write a haiku about summer in the style of Matsuo Bash, focusing on the feeling of warm rain"'})]})]})]}),w.jsxs("section",{className:"bg-gradient-to-br from-purple-900/30 to-slate-900/50 rounded-xl p-6 border border-purple-500/30",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:w.jsx(GC,{className:"w-6 h-6 text-purple-400"})}),w.jsx("h2",{className:"text-2xl font-bold text-white",children:be(e,"bonus.contextEngTitle")})]}),w.jsx("p",{className:"text-white/80 mb-4 leading-relaxed",children:be(e,"bonus.contextEngDesc")}),w.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[w.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-3",children:be(e,"bonus.contextComponents")}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[w.jsx(ID,{className:"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("span",{className:"font-semibold text-white",children:be(e,"bonus.taskDesc")}),w.jsx("p",{className:"text-sm text-white/60",children:be(e,"bonus.taskDescDetail")})]})]}),w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[w.jsx(id,{className:"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("span",{className:"font-semibold text-white",children:be(e,"bonus.fewShot")}),w.jsx("p",{className:"text-sm text-white/60",children:be(e,"bonus.fewShotDetail")})]})]}),w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[w.jsx(Hg,{className:"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("span",{className:"font-semibold text-white",children:be(e,"bonus.ragData")}),w.jsx("p",{className:"text-sm text-white/60",children:be(e,"bonus.ragDataDetail")})]})]}),w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[w.jsx(MD,{className:"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("span",{className:"font-semibold text-white",children:be(e,"bonus.tools")}),w.jsx("p",{className:"text-sm text-white/60",children:be(e,"bonus.toolsDetail")})]})]}),w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[w.jsx(Y1,{className:"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("span",{className:"font-semibold text-white",children:be(e,"bonus.memory")}),w.jsx("p",{className:"text-sm text-white/60",children:be(e,"bonus.memoryDetail")})]})]}),w.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[w.jsx(PD,{className:"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("span",{className:"font-semibold text-white",children:be(e,"bonus.stateHistory")}),w.jsx("p",{className:"text-sm text-white/60",children:be(e,"bonus.stateHistoryDetail")})]})]})]})]})]}),w.jsx("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-6 border border-purple-500/30",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-4xl text-purple-400",children:'"'}),w.jsxs("div",{children:[w.jsx("p",{className:"text-lg text-white/90 italic mb-4",children:be(e,"bonus.karpathyQuote")}),w.jsxs("p",{className:"text-sm text-purple-400 font-semibold",children:[" Andrej Karpathy, ",be(e,"bonus.karpathyTitle")]})]})]})}),w.jsxs("section",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-xl p-6 border border-slate-600/30",children:[w.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:be(e,"bonus.comparison")}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-blue-900/20 rounded-xl p-5 border border-blue-500/30",children:[w.jsxs("h3",{className:"text-xl font-bold text-blue-400 mb-4 flex items-center gap-2",children:[w.jsx(ND,{className:"w-5 h-5"}),be(e,"bonus.promptEngShort")]}),w.jsxs("ul",{className:"space-y-3",children:[w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Yy,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"text-white/80",children:be(e,"bonus.pePoint1")})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Yy,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"text-white/80",children:be(e,"bonus.pePoint2")})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Yy,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"text-white/80",children:be(e,"bonus.pePoint3")})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(Yy,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"text-white/80",children:be(e,"bonus.pePoint4")})]})]})]}),w.jsxs("div",{className:"bg-purple-900/20 rounded-xl p-5 border border-purple-500/30",children:[w.jsxs("h3",{className:"text-xl font-bold text-purple-400 mb-4 flex items-center gap-2",children:[w.jsx(GC,{className:"w-5 h-5"}),be(e,"bonus.contextEngShort")]}),w.jsxs("ul",{className:"space-y-3",children:[w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(_u,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"text-white/80",children:be(e,"bonus.cePoint1")})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(_u,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"text-white/80",children:be(e,"bonus.cePoint2")})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(_u,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"text-white/80",children:be(e,"bonus.cePoint3")})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx(_u,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),w.jsx("span",{className:"text-white/80",children:be(e,"bonus.cePoint4")})]})]})]})]})]}),w.jsxs("section",{className:"bg-gradient-to-br from-green-900/30 to-slate-900/50 rounded-xl p-6 border border-green-500/30",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:w.jsx(ID,{className:"w-6 h-6 text-green-400"})}),w.jsx("h2",{className:"text-2xl font-bold text-white",children:be(e,"bonus.caseStudy1Title")})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[w.jsxs("div",{className:"bg-red-900/20 rounded-lg p-4 border border-red-500/30",children:[w.jsx("h4",{className:"font-semibold text-red-400 mb-2",children:be(e,"bonus.promptApproach")}),w.jsx("div",{className:"font-mono text-sm bg-slate-900/80 rounded p-3 text-red-300 border border-slate-700",children:'"Help me with my code"'}),w.jsx("p",{className:"text-sm text-white/60 mt-2",children:be(e,"bonus.case1PromptResult")})]}),w.jsxs("div",{className:"bg-green-900/20 rounded-lg p-4 border border-green-500/30",children:[w.jsx("h4",{className:"font-semibold text-green-400 mb-2",children:be(e,"bonus.contextApproach")}),w.jsxs("div",{className:"font-mono text-xs bg-slate-900/80 rounded p-3 text-green-300 border border-slate-700",children:[w.jsx("p",{className:"text-slate-500",children:"# Context includes:"}),w.jsx("p",{children:" File: utils/api.ts"}),w.jsx("p",{children:" Error: TypeError line 42"}),w.jsx("p",{children:" Project: React + TypeScript"}),w.jsx("p",{children:" Recent changes: Added auth"}),w.jsx("p",{children:" Stack trace + memory"})]}),w.jsx("p",{className:"text-sm text-white/60 mt-2",children:be(e,"bonus.case1ContextResult")})]})]})]}),w.jsxs("section",{className:"bg-gradient-to-br from-orange-900/30 to-slate-900/50 rounded-xl p-6 border border-orange-500/30",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:w.jsx(Hg,{className:"w-6 h-6 text-orange-400"})}),w.jsx("h2",{className:"text-2xl font-bold text-white",children:be(e,"bonus.caseStudy2Title")})]}),w.jsx("p",{className:"text-white/80 mb-4",children:be(e,"bonus.caseStudy2Desc")}),w.jsx("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:w.jsxs("div",{className:"font-mono text-sm space-y-2",children:[w.jsx("p",{className:"text-orange-400",children:be(e,"bonus.ragBefore")}),w.jsx("p",{className:"text-slate-400 text-xs",children:`"The company's revenue grew by 3% over the previous quarter."`}),w.jsx("p",{className:"text-red-400 text-xs",children:be(e,"bonus.ragProblem")}),w.jsxs("div",{className:"my-3 flex items-center gap-2 text-white/40",children:[w.jsx("div",{className:"flex-1 h-px bg-white/20"}),w.jsx(GV,{className:"w-4 h-4"}),w.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),w.jsx("p",{className:"text-green-400",children:be(e,"bonus.ragAfter")}),w.jsx("p",{className:"text-slate-400 text-xs",children:`"This chunk is from an SEC filing on ACME corp's performance in Q2 2023; the previous quarter's revenue was $314 million. The company's revenue grew by 3% over the previous quarter."`}),w.jsx("p",{className:"text-green-400 text-xs",children:be(e,"bonus.ragSolution")})]})}),w.jsx("p",{className:"text-sm text-white/60 mt-3 italic",children:be(e,"bonus.ragSource")})]}),w.jsxs("section",{className:"bg-gradient-to-br from-cyan-900/30 to-slate-900/50 rounded-xl p-6 border border-cyan-500/30",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:w.jsx(MD,{className:"w-6 h-6 text-cyan-400"})}),w.jsx("h2",{className:"text-2xl font-bold text-white",children:be(e,"bonus.caseStudy3Title")})]}),w.jsx("p",{className:"text-white/80 mb-4",children:be(e,"bonus.caseStudy3Desc")}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[w.jsx("h4",{className:"font-semibold text-cyan-400 mb-2",children:be(e,"bonus.contextWindowContains")}),w.jsxs("ul",{className:"text-sm text-white/70 space-y-1",children:[w.jsxs("li",{children:[" ",be(e,"bonus.cwItem1")]}),w.jsxs("li",{children:[" ",be(e,"bonus.cwItem2")]}),w.jsxs("li",{children:[" ",be(e,"bonus.cwItem3")]}),w.jsxs("li",{children:[" ",be(e,"bonus.cwItem4")]}),w.jsxs("li",{children:[" ",be(e,"bonus.cwItem5")]})]})]}),w.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[w.jsx("h4",{className:"font-semibold text-cyan-400 mb-2",children:be(e,"bonus.result")}),w.jsx("p",{className:"text-sm text-white/70",children:be(e,"bonus.caseStudy3Result")})]})]})]}),w.jsxs("section",{className:"bg-gradient-to-br from-purple-900/40 to-cyan-900/40 rounded-xl p-6 border-2 border-purple-500/30",children:[w.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[w.jsx(PD,{className:"w-6 h-6 text-yellow-400"}),be(e,"bonus.keyTakeaways")]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/5 rounded-lg",children:[w.jsx(_u,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),w.jsx("p",{className:"text-white/80",children:be(e,"bonus.takeaway1")})]}),w.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/5 rounded-lg",children:[w.jsx(_u,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),w.jsx("p",{className:"text-white/80",children:be(e,"bonus.takeaway2")})]}),w.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/5 rounded-lg",children:[w.jsx(_u,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),w.jsx("p",{className:"text-white/80",children:be(e,"bonus.takeaway3")})]}),w.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/5 rounded-lg",children:[w.jsx(_u,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),w.jsx("p",{className:"text-white/80",children:be(e,"bonus.takeaway4")})]})]})]}),w.jsx("div",{className:"bg-gradient-to-r from-purple-900/30 via-cyan-900/30 to-purple-900/30 rounded-xl p-6 border border-purple-500/30 text-center",children:w.jsx("p",{className:"text-lg text-white/90 italic",children:be(e,"bonus.finalSummary")})})]})}const Yv=[{id:1,title:"Agent Components",component:EJ},{id:2,title:"Simple Prompt/Response",component:$be},{id:3,title:"Custom System Prompts",component:Vbe},{id:4,title:"Conversation Memory",component:Hbe},{id:5,title:"Knowledge Base",component:b0e},{id:6,title:"RAG with Wikipedia",component:U0e},{id:7,title:"Multi-Agent Collaboration",component:F0e},{id:8,title:"Orchestrator Agent",component:G0e},{id:9,title:"Bonus: Context Engineering",component:H0e,isBonus:!0}];function K0e(){const{currentLab:e,apiKey:n,labProgress:o,language:i,theme:l,setCurrentLab:t}=Er(),[r,a]=Je.useState(!1),[s,u]=Je.useState(!1),[f,g]=Je.useState(!1),[b,_]=Je.useState(!n);Je.useEffect(()=>{document.documentElement.dir=i==="he"?"rtl":"ltr",document.documentElement.lang=i},[i]),Je.useEffect(()=>{document.documentElement.classList.toggle("light",l==="light"),document.documentElement.classList.toggle("dark",l==="dark")},[l]);const p=Yv.find(E=>E.id===e)?.component||EJ,y=Object.values(o).filter(Boolean).length,v=y/Yv.length*100;return b?w.jsxs(w.Fragment,{children:[w.jsx(Tve,{onGetStarted:()=>{a(!0),_(!1)},onSkip:()=>_(!1),onLabSelect:E=>{t(E),_(!1)}}),w.jsx(PV,{isOpen:r,onClose:()=>a(!1)})]}):w.jsxs("div",{className:"h-screen flex flex-col tech-grid pt-16 sm:pt-20",children:[w.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[...Array(15)].map((E,j)=>w.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${15+Math.random()*10}s`}},j))}),w.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 glass-navbar border-b border-cyan-500/20",children:[w.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4 flex items-center justify-between",children:[w.jsx("div",{className:"flex items-center gap-2 sm:gap-3",children:w.jsx("button",{onClick:()=>_(!0),className:"flex items-center hover:opacity-80 transition-opacity",title:"Return to Homepage",children:w.jsx("img",{src:"logo.png",alt:"YUV.AI Logo",className:"h-7 sm:h-8 md:h-10 lg:h-12 w-auto"})})}),w.jsxs("nav",{className:"hidden md:flex items-center gap-4 lg:gap-8 text-sm lg:text-base font-medium",children:[w.jsx("button",{onClick:()=>_(!0),className:"text-white hover:text-cyan-400 transition-colors",children:be(i,"home")}),w.jsxs("div",{className:"relative group",children:[w.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:[be(i,"agents")," ",w.jsx(ub,{className:"w-4 h-4"})]}),w.jsxs("div",{className:"absolute left-0 mt-2 w-64 py-2 bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"agentsDropdown.progressiveLabs")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"agentsDropdown.progressiveLabsDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"agentsDropdown.interactiveLearning")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"agentsDropdown.interactiveLearningDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"agentsDropdown.multiAgent")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"agentsDropdown.multiAgentDesc")})]})]})]}),w.jsxs("div",{className:"relative group",children:[w.jsxs("button",{className:"text-white/70 hover:text-white transition-colors flex items-center gap-1",children:[be(i,"features")," ",w.jsx(ub,{className:"w-4 h-4"})]}),w.jsxs("div",{className:"absolute left-0 mt-2 w-64 py-2 bg-black/90 backdrop-blur-xl border border-cyan-500/30 rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"featuresDropdown.browserBased")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"featuresDropdown.browserBasedDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"featuresDropdown.monacoEditor")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"featuresDropdown.monacoEditorDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"featuresDropdown.progressTracking")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"featuresDropdown.progressTrackingDesc")})]}),w.jsxs("div",{className:"px-4 py-2 text-cyan-400/90 hover:bg-cyan-500/10",children:[w.jsx("div",{className:"font-semibold text-white mb-1",children:be(i,"featuresDropdown.langchain")}),w.jsx("div",{className:"text-xs text-white/60",children:be(i,"featuresDropdown.langchainDesc")})]})]})]}),w.jsx("a",{href:"https://blog.yuv.ai",target:"_blank",rel:"noopener noreferrer",className:"text-white/70 hover:text-white transition-colors",children:be(i,"blog")}),w.jsx("a",{href:"https://linktr.ee/yuvai",target:"_blank",rel:"noopener noreferrer",className:"text-white/70 hover:text-white transition-colors",children:be(i,"contact")})]}),w.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[w.jsx(L1,{}),w.jsx(U1,{}),w.jsxs("a",{href:"https://github.com/hoodini/agents-training",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10 text-sm text-white/80 hover:text-white",title:"View Repository",children:[w.jsx(cb,{className:"w-4 h-4"}),w.jsx("span",{children:"Repo"})]}),w.jsx(AV,{}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:"text-sm text-white/60",children:[be(i,"progress"),":"]}),w.jsx("div",{className:"w-20 lg:w-24 h-2 glass rounded-full overflow-hidden border border-white/20",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 via-blue-500 to-cyan-500 transition-all duration-300 shadow-neural",style:{width:`${v}%`}})}),w.jsxs("span",{className:"text-sm font-bold text-gradient-neural",children:[y,"/",Yv.length]})]}),w.jsx("button",{onClick:()=>a(!0),className:"p-2 glass hover:glass-strong rounded-lg transition-all hover-lift border border-white/10",title:"API Settings",children:w.jsx(HC,{className:"w-5 h-5 text-white"})})]}),w.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[w.jsx(L1,{}),w.jsx(U1,{}),w.jsx("button",{onClick:()=>u(!s),className:"p-2 glass hover:glass-strong rounded-lg transition-all border border-white/10",title:"Toggle Navigation Menu",children:s?w.jsx(WV,{className:"w-5 h-5 text-white"}):w.jsx(QX,{className:"w-5 h-5 text-white"})}),w.jsx("button",{onClick:()=>g(!f),className:"p-2 glass hover:glass-strong rounded-lg transition-all border border-cyan-500/30 bg-cyan-500/10",title:"Toggle Labs Sidebar",children:w.jsx("span",{className:"text-xs font-bold text-cyan-400",children:"Labs"})})]})]}),s&&w.jsx("div",{className:"md:hidden border-t border-white/10 animate-fade-in",children:w.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-3",children:w.jsxs("nav",{className:"flex flex-col gap-2",children:[w.jsx("button",{onClick:()=>{_(!0),u(!1)},className:"text-left px-3 py-2 text-white hover:text-cyan-400 hover:bg-white/5 rounded-lg transition-colors",children:be(i,"home")}),w.jsx("a",{href:"https://blog.yuv.ai",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 text-white/70 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:be(i,"blog")}),w.jsx("a",{href:"https://linktr.ee/yuvai",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 text-white/70 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:be(i,"contact")}),w.jsxs("a",{href:"https://github.com/hoodini/agents-training",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 text-white/70 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[w.jsx(cb,{className:"w-4 h-4"}),w.jsx("span",{children:"GitHub Repo"})]}),w.jsx("div",{className:"px-3 py-2",children:w.jsx(AV,{})}),w.jsxs("button",{onClick:()=>{a(!0),u(!1)},className:"flex items-center gap-2 px-3 py-2 text-white/70 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[w.jsx(HC,{className:"w-4 h-4"}),w.jsx("span",{children:"API Settings"})]})]})})})]}),w.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[w.jsx("aside",{className:`${f?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:relative inset-y-0 left-0 z-40 w-[280px] sm:w-[300px] lg:w-72 transition-transform duration-300 ease-in-out pt-16 sm:pt-20 lg:pt-0 top-0 h-full lg:h-auto`,children:w.jsx(Pee,{labs:Yv,onLabClick:()=>g(!1)})}),f&&w.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>g(!1)}),w.jsx("main",{className:"relative flex-1 overflow-y-auto overflow-x-hidden z-10 w-full",children:w.jsx("div",{className:"w-full max-w-full px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 mx-auto",children:w.jsx(p,{})})})]}),w.jsx(PV,{isOpen:r,onClose:()=>a(!1)})]})}pX.createRoot(document.getElementById("root")).render(w.jsx(Je.StrictMode,{children:w.jsx(K0e,{})}));export{FT as F,Mpe as S,Xb as _,cwe as a,uwe as b,dme as c,lwe as d,Fme as e,Qpe as f,Uf as g,gK as h,Tpe as i,jU as n,dwe as p,tme as s,eme as t};
